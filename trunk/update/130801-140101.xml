<files codepage='65001' xmlns:dt='urn:schemas-microsoft-com:datatypes'>
	<file name='zb_system\ADMIN\admin.asp' crc32='BEFA056A'  dt:dt='bin.base64'>77u/PCVAIENPREVQQUdFPTY1MDAxICU+DQo8JQ0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicvLyAgICAgICAgICAgICAgWi1CbG9nDQonLy8g5L2cICAgIOiAhTogICAg5pyx54WKKHp4LmFzZCkNCicvLyDniYjmnYPmiYDmnIk6ICAgIFJhaW5ib3dTb2Z0IFN0dWRpbw0KJy8vIOaKgOacr+aUr+aMgTogICAgcmFpbmJvd3NvZnRAMTYzLmNvbQ0KJy8vIOeoi+W6j+WQjeensDogICAgDQonLy8g56iL5bqP54mI5pysOiAgICANCicvLyDljZXlhYPlkI3np7A6ICAgIGFkbWluLmFzcA0KJy8vIOW8gOWni+aXtumXtDogICAgMjAwNC4wNy4zMA0KJy8vIOacgOWQjuS/ruaUuTogICAgDQonLy8g5aSHICAgIOazqDogICAg566h55CG6aG1DQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJT4NCjwlIE9wdGlvbiBFeHBsaWNpdCAlPg0KPCUgT24gRXJyb3IgUmVzdW1lIE5leHQgJT4NCjwlIFJlc3BvbnNlLkNoYXJzZXQ9IlVURi04IiAlPg0KPCUgUmVzcG9uc2UuQnVmZmVyPVRydWUgJT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vLi4vemJfdXNlcnMvY19vcHRpb24uYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vZnVuY3Rpb24vY19mdW5jdGlvbi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi9mdW5jdGlvbi9jX3N5c3RlbV9saWIuYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vZnVuY3Rpb24vY19zeXN0ZW1fYmFzZS5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi9mdW5jdGlvbi9jX3N5c3RlbV9ldmVudC5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi9mdW5jdGlvbi9jX3N5c3RlbV9tYW5hZ2UuYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vZnVuY3Rpb24vY19zeXN0ZW1fcGx1Z2luLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uL3piX3VzZXJzL3BsdWdpbi9wX2NvbmZpZy5hc3AiIC0tPg0KPCUNCkNhbGwgU3lzdGVtX0luaXRpYWxpemUoKQ0KDQon5qOA5p+l5qih5p2/55qE5pu05pawLOWmguacieabtOaWsOimgemHjeaWsOWKoOi9vQ0KRGltIHN0clRlbXBsYXRlTW9kaWZpZWQNCkFwcGxpY2F0aW9uLkxvY2sNCnN0clRlbXBsYXRlTW9kaWZpZWQ9QXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJURU1QTEFURU1PRElGSUVEIikNCkFwcGxpY2F0aW9uLlVuTG9jaw0KSWYgSXNFbXB0eShzdHJUZW1wbGF0ZU1vZGlmaWVkKT1GYWxzZSBUaGVuDQoJSWYgTENhc2UoQ1N0cihzdHJUZW1wbGF0ZU1vZGlmaWVkKSk8PkxDYXNlKENTdHIoQ2hlY2tUZW1wbGF0ZU1vZGlmaWVkKSkgVGhlbg0KCQlDYWxsIEJsb2dSZUJ1aWxkX0RlZmF1bHQoKQ0KCUVuZCBJZg0KRW5kIElmDQoNCkRpbSBhY3QNCmFjdD1SZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJhY3QiKQ0KaWYgYWN0PSIiIFRoZW4gYWN0PSJTaXRlSW5mbyINCg0KJ3BsdWdpbiBub2RlDQpGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9BZG1pbl9CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0FkbWluX0JlZ2luDQoJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQWRtaW5fQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0FkbWluX0JlZ2luKQ0KTmV4dA0KDQon5qOA5p+l5p2D6ZmQDQpJZiBOb3QgQ2hlY2tSaWdodHMoYWN0KSBUaGVuIENhbGwgU2hvd0Vycm9yKDYpDQoNCkJsb2dUaXRsZT1aQ19NU0cwMjINCg0KJT4NCjwhLS0jaW5jbHVkZSBmaWxlPSJhZG1pbl9oZWFkZXIuYXNwIi0tPg0KPCEtLSNpbmNsdWRlIGZpbGU9ImFkbWluX3RvcC5hc3AiLS0+DQogICAgPGRpdiBpZD0iZGl2TWFpbiI+DQo8JQlDYWxsIEdldEJsb2dIaW50KCkJJT4NCiAgICAgIDwlDQoJU2VsZWN0IENhc2UgYWN0DQoJCUNhc2UgIkFydGljbGVNbmciDQoJCQlJZiBSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJ0eXBlIik9IlBhZ2UiIFRoZW4NCgkJCUNhbGwgRXhwb3J0UGFnZUxpc3QoUmVxdWVzdC5RdWVyeVN0cmluZygicGFnZSIpLFJlcXVlc3QoImNhdGUiKSxSZXF1ZXN0KCJsZXZlbCIpLEVzY2FwZShSZXF1ZXN0KCJ0aXRsZSIpKSkNCgkJCUVsc2UNCgkJCUNhbGwgRXhwb3J0QXJ0aWNsZUxpc3QoUmVxdWVzdC5RdWVyeVN0cmluZygicGFnZSIpLFJlcXVlc3QoImNhdGUiKSxSZXF1ZXN0KCJsZXZlbCIpLFJlcXVlc3QoImlzdG9wIiksRXNjYXBlKFJlcXVlc3QoInRpdGxlIikpKQ0KCQkJRW5kIElmDQoJCUNhc2UgIkNhdGVnb3J5TW5nIiBDYWxsIEV4cG9ydENhdGVnb3J5TGlzdChSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJwYWdlIikpDQoJCUNhc2UgIkNvbW1lbnRNbmciIENhbGwgRXhwb3J0Q29tbWVudExpc3QoUmVxdWVzdC5RdWVyeVN0cmluZygicGFnZSIpLFJlcXVlc3QoImludENvbnRlbnQiKSxSZXF1ZXN0KCJpc0NoZWNrIikpDQoJCUNhc2UgIlRyYWNrQmFja01uZyIgQ2FsbCBFeHBvcnRUcmFja0JhY2tMaXN0KFJlcXVlc3QuUXVlcnlTdHJpbmcoInBhZ2UiKSkNCgkJQ2FzZSAiVXNlck1uZyIgQ2FsbCBFeHBvcnRVc2VyTGlzdChSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJwYWdlIikpDQoJCUNhc2UgIkZpbGVNbmciIENhbGwgRXhwb3J0RmlsZUxpc3QoUmVxdWVzdC5RdWVyeVN0cmluZygicGFnZSIpKQ0KCQlDYXNlICJUYWdNbmciIENhbGwgRXhwb3J0VGFnTGlzdChSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJwYWdlIikpDQoJCUNhc2UgIlBsdWdJbk1uZyIgQ2FsbCBFeHBvcnRQbHVnaW5NbmcoKQ0KCQlDYXNlICJTaXRlSW5mbyIgQ2FsbCBFeHBvcnRTaXRlSW5mbygpDQoJCUNhc2UgIkFza0ZpbGVSZUJ1aWxkIiBDYWxsIEV4cG9ydEZpbGVSZUJ1aWxkQXNrKCkNCgkJQ2FzZSAiVGhlbWVNbmciIENhbGwgRXhwb3J0VGhlbWVNbmcoKQ0KCQlDYXNlICJGdW5jdGlvbk1uZyIgQ2FsbCBFeHBvcnRGdW5jdGlvbkxpc3QoKQ0KCQlDYXNlIEVsc2UgQ2FsbCBFeHBvcnRTaXRlSW5mbygpDQoJRW5kIFNlbGVjdA0KJT4NCiAgICA8L2Rpdj4NCjwhLS0jaW5jbHVkZSBmaWxlPSJhZG1pbl9mb290ZXIuYXNwIi0tPg0KPCUNCidwbHVnaW4gbm9kZQ0KRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fQWRtaW5fRW5kIGluIEFjdGlvbl9QbHVnaW5fQWRtaW5fRW5kDQoJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQWRtaW5fRW5kKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9BZG1pbl9FbmQpDQpOZXh0DQoNCkNhbGwgU3lzdGVtX1Rlcm1pbmF0ZSgpDQoNCklmIEVyci5OdW1iZXI8PjAgdGhlbg0KCUNhbGwgU2hvd0Vycm9yKDApDQpFbmQgSWYNCiU+DQo8IS0tIDwlPVJ1blRpbWUoKSU+bXMgLS0+</file>
	<file name='zb_system\ADMIN\c_updateinfo.asp' crc32='261F569E'  dt:dt='bin.base64'>77u/PCVAIENPREVQQUdFPTY1MDAxICU+DQo8JQ0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicvLyAgICAgICAgICAgICAgWi1CbG9nDQonLy8g5L2cICAgIOiAhTogICAg5pyx54WKKHp4LmFzZCkmKHNpcG8pDQonLy8g54mI5p2D5omA5pyJOiAgICBSYWluYm93U29mdCBTdHVkaW8NCicvLyDmioDmnK/mlK/mjIE6ICAgIHJhaW5ib3dzb2Z0QDE2My5jb20NCicvLyDnqIvluo/lkI3np7A6ICAgIA0KJy8vIOeoi+W6j+eJiOacrDogICAgDQonLy8g5Y2V5YWD5ZCN56ewOiAgICBjX3VwZGF0ZWluZm8uYXNwDQonLy8g5byA5aeL5pe26Ze0OiAgICAyMDA3LTEtMjYNCicvLyDmnIDlkI7kv67mlLk6ICAgIA0KJy8vIOWkhyAgICDms6g6ICAgIA0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCiU+DQo8JSBPcHRpb24gRXhwbGljaXQgJT4NCjwlIE9uIEVycm9yIFJlc3VtZSBOZXh0ICU+DQo8JSBSZXNwb25zZS5DaGFyc2V0PSJVVEYtOCIgJT4NCjwlIFJlc3BvbnNlLkJ1ZmZlcj1UcnVlICU+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uL3piX3VzZXJzL2Nfb3B0aW9uLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uL2Z1bmN0aW9uL2NfZnVuY3Rpb24uYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vZnVuY3Rpb24vY19zeXN0ZW1fYmFzZS5hc3AiIC0tPg0KPCUNCg0KUmVzcG9uc2UuRXhwaXJlc0Fic29sdXRlICAgPSAgIE5vdygpICAgLSAgIDEgICAgICAgICAgIA0KUmVzcG9uc2UuRXhwaXJlcyAgID0gICAwICAgDQpSZXNwb25zZS5DYWNoZUNvbnRyb2wgICA9ICAgIm5vLWNhY2hlIg0KDQpJZiBMZW4oWkNfVVBEQVRFX0lORk9fVVJMKT4wIFRoZW4NCg0KCURpbSBzdHJQaW5nVGltZQ0KCURpbSBzdHJQaW5nQ29udGVudA0KDQoJRGltIGIsaA0KCWI9RmFsc2UNCgloPU5vdw0KCURpbSBmc28sZg0KCVNldCBmc28gPSBDcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCglJZiBmc28uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vyc1xDQUNIRVx1cGRhdGVpbmZvLnR4dCIpPVRydWUgVGhlbg0KCQlTZXQgZiA9IGZzby5HZXRGaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzXENBQ0hFXHVwZGF0ZWluZm8udHh0IikNCg0KCQlzdHJQaW5nQ29udGVudD1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcQ0FDSEVcdXBkYXRlaW5mby50eHQiLCJ1dGYtOCIpDQoJCUlmIERhdGVEaWZmKCJoIixmLkRhdGVMYXN0TW9kaWZpZWQsTm93KT4yNCBUaGVuDQoJCQliPVRydWUNCgkJRWxzZQ0KCQkJaD1mLkRhdGVMYXN0TW9kaWZpZWQNCgkJRW5kIElmDQoJRWxzZQ0KCQliPVRydWUNCglFbmQgSWYNCg0KCUlmIElzRW1wdHkoUmVxdWVzdC5RdWVyeVN0cmluZygicmVsb2FkIikpPUZhbHNlIFRoZW4NCgkJYj1UcnVlDQoJRW5kIElmDQoNCg0KCUlmIGI9VHJ1ZSBUaGVuDQoNCgkJRGltIG9ialBpbmcNCgkJU2V0IG9ialBpbmcgPSBTZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJNU1hNTDIuU2VydmVyWE1MSFRUUCIpDQoNCgkJb2JqUGluZy5vcGVuICJHRVQiLFpDX1VQREFURV9JTkZPX1VSTCxGYWxzZQ0KDQoJCW9ialBpbmcuc2VuZA0KDQoJCUlmIG9ialBpbmcuUmVhZHlTdGF0ZT00IFRoZW4NCgkJCUlmIG9ialBpbmcuU3RhdHVzPTIwMCBUaGVuDQoJCQkJc3RyUGluZ0NvbnRlbnQ9b2JqUGluZy5yZXNwb25zZVRleHQNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCg0KCQlEaW0gb2JqUmVnRXhwDQoJCVNldCBvYmpSZWdFeHA9TmV3IFJlZ0V4cA0KCQlvYmpSZWdFeHAuSWdub3JlQ2FzZSA9VHJ1ZQ0KCQlvYmpSZWdFeHAuR2xvYmFsPVRydWUNCgkJb2JqUmVnRXhwLlBhdHRlcm49IjxzY3JpcHQuKi8qPnw8L3NjcmlwdD58PFthLXpBLVpdW14+XSo9WyciIl0ramF2YXNjcmlwdDpcdysuKlsnIiJdKz58PFx3K1tePl0qXHNvblx3Kz0uKlsgL10qPiINCgkJc3RyUGluZ0NvbnRlbnQ9IG9ialJlZ0V4cC5SZXBsYWNlKHN0clBpbmdDb250ZW50LCIiKQ0KDQoJCVNldCBvYmpQaW5nID0gTm90aGluZw0KDQoJCUNhbGwgU2F2ZVRvRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vyc1xDQUNIRVx1cGRhdGVpbmZvLnR4dCIsc3RyUGluZ0NvbnRlbnQsInV0Zi04IixGYWxzZSkNCg0KCUVuZCBJZg0KCSdSZXNwb25zZS5BZGRIZWFkZXIgIkxhc3QtTW9kaWZpZWQiLFBhcnNlRGF0ZUZvclJGQzgyMkdNVChoKQ0KCVJlc3BvbnNlLldyaXRlIHN0clBpbmdDb250ZW50DQoNCkVuZCBJZg0KJT4=</file>
	<file name='zb_system\ADMIN\ueditor\ueditor.all.js' crc32='646372EF'  dt:dt='bin.base64'>LyohDQogKiBVRWRpdG9yDQogKiB2ZXJzaW9uOiAxLjMuNg0KICogYnVpbGQ6IFdlZCBKYW4gMDEgMjAxNCAyMDo1MDozNSBHTVQrMDgwMCAo5Lit5Zu95qCH5YeG5pe26Ze0KQ0KICovDQoNCihmdW5jdGlvbigpew0KDQpVRURJVE9SX0NPTkZJRyA9IHdpbmRvdy5VRURJVE9SX0NPTkZJRyB8fCB7fTsNCg0KdmFyIGJhaWR1ID0gd2luZG93LmJhaWR1IHx8IHt9Ow0KDQp3aW5kb3cuYmFpZHUgPSBiYWlkdTsNCg0Kd2luZG93LlVFID0gYmFpZHUuZWRpdG9yID0gIHdpbmRvdy5VRSB8fCB7fTsNCg0KVUUucGx1Z2lucyA9IHt9Ow0KDQpVRS5jb21tYW5kcyA9IHt9Ow0KDQpVRS5pbnN0YW50cyA9IHt9Ow0KDQpVRS5JMThOID0ge307DQoNClVFLnZlcnNpb24gPSAiMS4zLjYiOw0KDQp2YXIgZG9tID0gVUUuZG9tID0ge307DQovKioNCiAqIOa1j+iniOWZqOWIpOaWreaooeWdlw0KICogQGZpbGUNCiAqIEBtb2R1bGUgVUUuYnJvd3Nlcg0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQovKioNCiAqIOaPkOS+m+a1j+iniOWZqOajgOa1i+eahOaooeWdlw0KICogQHVuZmlsZQ0KICogQG1vZHVsZSBVRS5icm93c2VyDQogKi8NCnZhciBicm93c2VyID0gVUUuYnJvd3NlciA9IGZ1bmN0aW9uKCl7DQogICAgdmFyIGFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLA0KICAgICAgICBvcGVyYSA9IHdpbmRvdy5vcGVyYSwNCiAgICAgICAgYnJvd3NlciA9IHsNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaWUg5qOA5rWL5b2T5YmN5rWP6KeI5Zmo5piv5ZCm5Li6SUUNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBpZiAoIFVFLmJyb3dzZXIuaWUgKSB7DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggJ+W9k+WJjea1j+iniOWZqOaYr0lFJyApOw0KICAgICAgICAgKiB9DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgaWUJCTogIC8obXNpZVxzfHRyaWRlbnQuKnJ2OikoW1x3Ll0rKS8udGVzdChhZ2VudCksDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gb3BlcmEg5qOA5rWL5b2T5YmN5rWP6KeI5Zmo5piv5ZCm5Li6T3BlcmENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBpZiAoIFVFLmJyb3dzZXIub3BlcmEgKSB7DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggJ+W9k+WJjea1j+iniOWZqOaYr09wZXJhJyApOw0KICAgICAgICAgKiB9DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgb3BlcmEJOiAoICEhb3BlcmEgJiYgb3BlcmEudmVyc2lvbiApLA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IHdlYmtpdCDmo4DmtYvlvZPliY3mtY/op4jlmajmmK/lkKbmmK93ZWJraXTlhoXmoLjnmoTmtY/op4jlmagNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBpZiAoIFVFLmJyb3dzZXIud2Via2l0ICkgew0KICAgICAgICAgKiAgICAgY29uc29sZS5sb2coICflvZPliY3mtY/op4jlmajmmK93ZWJraXTlhoXmoLjmtY/op4jlmagnICk7DQogICAgICAgICAqIH0NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICB3ZWJraXQJOiAoIGFnZW50LmluZGV4T2YoICcgYXBwbGV3ZWJraXQvJyApID4gLTEgKSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBtYWMg5qOA5rWL5b2T5YmN5rWP6KeI5Zmo5piv5ZCm5piv6L+Q6KGM5ZyobWFj5bmz5Y+w5LiLDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogaWYgKCBVRS5icm93c2VyLm1hYyApIHsNCiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCAn5b2T5YmN5rWP6KeI5Zmo6L+Q6KGM5ZyobWFj5bmz5Y+w5LiLJyApOw0KICAgICAgICAgKiB9DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgbWFjCTogKCBhZ2VudC5pbmRleE9mKCAnbWFjaW50b3NoJyApID4gLTEgKSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICogQHByb3BlcnR5IHtib29sZWFufSBxdWlya3Mg5qOA5rWL5b2T5YmN5rWP6KeI5Zmo5piv5ZCm5aSE5LqO4oCc5oCq5byC5qih5byP4oCd5LiLDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogaWYgKCBVRS5icm93c2VyLnF1aXJrcyApIHsNCiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCAn5b2T5YmN5rWP6KeI5Zmo6L+Q6KGM5aSE5LqO4oCc5oCq5byC5qih5byP4oCdJyApOw0KICAgICAgICAgKiB9DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgcXVpcmtzIDogKCBkb2N1bWVudC5jb21wYXRNb2RlID09ICdCYWNrQ29tcGF0JyApDQogICAgfTsNCg0KICAgIC8qKg0KICAgICogQHByb3BlcnR5IHtib29sZWFufSBnZWNrbyDmo4DmtYvlvZPliY3mtY/op4jlmajlhoXmoLjmmK/lkKbmmK9nZWNrb+WGheaguA0KICAgICogQGV4YW1wbGUNCiAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAqIGlmICggVUUuYnJvd3Nlci5nZWNrbyApIHsNCiAgICAqICAgICBjb25zb2xlLmxvZyggJ+W9k+WJjea1j+iniOWZqOWGheaguOaYr2dlY2tv5YaF5qC4JyApOw0KICAgICogfQ0KICAgICogYGBgDQogICAgKi8NCiAgICBicm93c2VyLmdlY2tvID0oIG5hdmlnYXRvci5wcm9kdWN0ID09ICdHZWNrbycgJiYgIWJyb3dzZXIud2Via2l0ICYmICFicm93c2VyLm9wZXJhICYmICFicm93c2VyLmllKTsNCg0KICAgIHZhciB2ZXJzaW9uID0gMDsNCg0KICAgIC8vIEludGVybmV0IEV4cGxvcmVyIDYuMCsNCiAgICBpZiAoIGJyb3dzZXIuaWUgKXsNCg0KICAgICAgICB2ZXJzaW9uID0gIChhZ2VudC5tYXRjaCgvKG1zaWVcc3x0cmlkZW50LipydjopKFtcdy5dKykvKVsyXSB8fCAwKSAqIDE7DQoNCiAgICAgICAgYnJvd3Nlci5pZTExQ29tcGF0ID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09IDExOw0KICAgICAgICAvKioNCiAgICAgICAgICogQHByb3BlcnR5IHsgYm9vbGVhbiB9IGllOUNvbXBhdCDmo4DmtYvmtY/op4jlmajmqKHlvI/mmK/lkKbkuLogSUU5IOWFvOWuueaooeW8jw0KICAgICAgICAgKiBAd2FybmluZyDlpoLmnpzmtY/op4jlmajkuI3mmK9JRe+8jCDliJnor6XlgLzkuLp1bmRlZmluZWQNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBpZiAoIFVFLmJyb3dzZXIuaWU5Q29tcGF0ICkgew0KICAgICAgICAgKiAgICAgY29uc29sZS5sb2coICflvZPliY3mtY/op4jlmajov5DooYzlnKhJRTnlhbzlrrnmqKHlvI/kuIsnICk7DQogICAgICAgICAqIH0NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBicm93c2VyLmllOUNvbXBhdCA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PSA5Ow0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAcHJvcGVydHkgeyBib29sZWFuIH0gaWU4IOajgOa1i+a1j+iniOWZqOaYr+WQpuaYr0lFOOa1j+iniOWZqA0KICAgICAgICAgKiBAd2FybmluZyDlpoLmnpzmtY/op4jlmajkuI3mmK9JRe+8jCDliJnor6XlgLzkuLp1bmRlZmluZWQNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBpZiAoIFVFLmJyb3dzZXIuaWU4ICkgew0KICAgICAgICAgKiAgICAgY29uc29sZS5sb2coICflvZPliY3mtY/op4jlmajmmK9JRTjmtY/op4jlmagnICk7DQogICAgICAgICAqIH0NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBicm93c2VyLmllOCA9ICEhZG9jdW1lbnQuZG9jdW1lbnRNb2RlOw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiBAcHJvcGVydHkgeyBib29sZWFuIH0gaWU4Q29tcGF0IOajgOa1i+a1j+iniOWZqOaooeW8j+aYr+WQpuS4uiBJRTgg5YW85a655qih5byPDQogICAgICAgICAqIEB3YXJuaW5nIOWmguaenOa1j+iniOWZqOS4jeaYr0lF77yMIOWImeivpeWAvOS4unVuZGVmaW5lZA0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGlmICggVUUuYnJvd3Nlci5pZThDb21wYXQgKSB7DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggJ+W9k+WJjea1j+iniOWZqOi/kOihjOWcqElFOOWFvOWuueaooeW8j+S4iycgKTsNCiAgICAgICAgICogfQ0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGJyb3dzZXIuaWU4Q29tcGF0ID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlID09IDg7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBwcm9wZXJ0eSB7IGJvb2xlYW4gfSBpZTdDb21wYXQg5qOA5rWL5rWP6KeI5Zmo5qih5byP5piv5ZCm5Li6IElFNyDlhbzlrrnmqKHlvI8NCiAgICAgICAgICogQHdhcm5pbmcg5aaC5p6c5rWP6KeI5Zmo5LiN5pivSUXvvIwg5YiZ6K+l5YC85Li6dW5kZWZpbmVkDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogaWYgKCBVRS5icm93c2VyLmllN0NvbXBhdCApIHsNCiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCAn5b2T5YmN5rWP6KeI5Zmo6L+Q6KGM5ZyoSUU35YW85a655qih5byP5LiLJyApOw0KICAgICAgICAgKiB9DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgYnJvd3Nlci5pZTdDb21wYXQgPSAoICggdmVyc2lvbiA9PSA3ICYmICFkb2N1bWVudC5kb2N1bWVudE1vZGUgKQ0KICAgICAgICAgICAgICAgIHx8IGRvY3VtZW50LmRvY3VtZW50TW9kZSA9PSA3ICk7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIEBwcm9wZXJ0eSB7IGJvb2xlYW4gfSBpZTZDb21wYXQg5qOA5rWL5rWP6KeI5Zmo5qih5byP5piv5ZCm5Li6IElFNiDmqKHlvI8g5oiW6ICF5oCq5byC5qih5byPDQogICAgICAgICAqIEB3YXJuaW5nIOWmguaenOa1j+iniOWZqOS4jeaYr0lF77yMIOWImeivpeWAvOS4unVuZGVmaW5lZA0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGlmICggVUUuYnJvd3Nlci5pZTZDb21wYXQgKSB7DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggJ+W9k+WJjea1j+iniOWZqOi/kOihjOWcqElFNuaooeW8j+aIluiAheaAquW8guaooeW8j+S4iycgKTsNCiAgICAgICAgICogfQ0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGJyb3dzZXIuaWU2Q29tcGF0ID0gKCB2ZXJzaW9uIDwgNyB8fCBicm93c2VyLnF1aXJrcyApOw0KDQogICAgICAgIGJyb3dzZXIuaWU5YWJvdmUgPSB2ZXJzaW9uID4gODsNCg0KICAgICAgICBicm93c2VyLmllOWJlbG93ID0gdmVyc2lvbiA8IDk7DQoNCiAgICB9DQoNCiAgICAvLyBHZWNrby4NCiAgICBpZiAoIGJyb3dzZXIuZ2Vja28gKXsNCiAgICAgICAgdmFyIGdlY2tvUmVsZWFzZSA9IGFnZW50Lm1hdGNoKCAvcnY6KFtcZFwuXSspLyApOw0KICAgICAgICBpZiAoIGdlY2tvUmVsZWFzZSApDQogICAgICAgIHsNCiAgICAgICAgICAgIGdlY2tvUmVsZWFzZSA9IGdlY2tvUmVsZWFzZVsxXS5zcGxpdCggJy4nICk7DQogICAgICAgICAgICB2ZXJzaW9uID0gZ2Vja29SZWxlYXNlWzBdICogMTAwMDAgKyAoIGdlY2tvUmVsZWFzZVsxXSB8fCAwICkgKiAxMDAgKyAoIGdlY2tvUmVsZWFzZVsyXSB8fCAwICkgKiAxOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICogQHByb3BlcnR5IHsgTnVtYmVyIH0gY2hyb21lIOajgOa1i+W9k+WJjea1j+iniOWZqOaYr+WQpuS4ukNocm9tZSwg5aaC5p6c5piv77yM5YiZ6L+U5ZueQ2hyb21l55qE5aSn54mI5pys5Y+3DQogICAgICogQHdhcm5pbmcg5aaC5p6c5rWP6KeI5Zmo5LiN5pivY2hyb21l77yMIOWImeivpeWAvOS4unVuZGVmaW5lZA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGlmICggVUUuYnJvd3Nlci5jaHJvbWUgKSB7DQogICAgICogICAgIGNvbnNvbGUubG9nKCAn5b2T5YmN5rWP6KeI5Zmo5pivQ2hyb21lJyApOw0KICAgICAqIH0NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBpZiAoL2Nocm9tZVwvKFxkK1wuXGQpL2kudGVzdChhZ2VudCkpIHsNCiAgICAgICAgYnJvd3Nlci5jaHJvbWUgPSArIFJlZ0V4cFsnXHgyNDEnXTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBAcHJvcGVydHkgeyBOdW1iZXIgfSBzYWZhcmkg5qOA5rWL5b2T5YmN5rWP6KeI5Zmo5piv5ZCm5Li6U2FmYXJpLCDlpoLmnpzmmK/vvIzliJnov5Tlm55TYWZhcmnnmoTlpKfniYjmnKzlj7cNCiAgICAgKiBAd2FybmluZyDlpoLmnpzmtY/op4jlmajkuI3mmK9zYWZhcmnvvIwg5YiZ6K+l5YC85Li6dW5kZWZpbmVkDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogaWYgKCBVRS5icm93c2VyLnNhZmFyaSApIHsNCiAgICAgKiAgICAgY29uc29sZS5sb2coICflvZPliY3mtY/op4jlmajmmK9TYWZhcmknICk7DQogICAgICogfQ0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlmKC8oXGQrXC5cZCk/KD86XC5cZCk/XHMrc2FmYXJpXC8/KFxkK1wuXGQrKT8vaS50ZXN0KGFnZW50KSAmJiAhL2Nocm9tZS9pLnRlc3QoYWdlbnQpKXsNCiAgICAJYnJvd3Nlci5zYWZhcmkgPSArIChSZWdFeHBbJ1x4MjQxJ10gfHwgUmVnRXhwWydceDI0MiddKTsNCiAgICB9DQoNCg0KICAgIC8vIE9wZXJhIDkuNTArDQogICAgaWYgKCBicm93c2VyLm9wZXJhICkNCiAgICAgICAgdmVyc2lvbiA9IHBhcnNlRmxvYXQoIG9wZXJhLnZlcnNpb24oKSApOw0KDQogICAgLy8gV2ViS2l0IDUyMisgKFNhZmFyaSAzKykNCiAgICBpZiAoIGJyb3dzZXIud2Via2l0ICkNCiAgICAgICAgdmVyc2lvbiA9IHBhcnNlRmxvYXQoIGFnZW50Lm1hdGNoKCAvIGFwcGxld2Via2l0XC8oXGQrKS8gKVsxXSApOw0KDQogICAgLyoqDQogICAgICogQHByb3BlcnR5IHsgTnVtYmVyIH0gdmVyc2lvbiDmo4DmtYvlvZPliY3mtY/op4jlmajniYjmnKzlj7cNCiAgICAgKiBAcmVtaW5kDQogICAgICogPHVsPg0KICAgICAqICAgICA8bGk+SUXns7vliJfov5Tlm57lgLzkuLo1LDYsNyw4LDksMTDnrYk8L2xpPg0KICAgICAqICAgICA8bGk+Z2Vja2/ns7vliJfkvJrov5Tlm54xMDkwMO+8jDE1ODkwMOetiTwvbGk+DQogICAgICogICAgIDxsaT53ZWJraXTns7vliJfkvJrov5Tlm57lhbZidWlsZOWPtyAo5aaCIDUyMuetiSk8L2xpPg0KICAgICAqIDwvdWw+DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogY29uc29sZS5sb2coICflvZPliY3mtY/op4jlmajniYjmnKzlj7fmmK/vvJogJyArIFVFLmJyb3dzZXIudmVyc2lvbiApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGJyb3dzZXIudmVyc2lvbiA9IHZlcnNpb247DQoNCiAgICAvKioNCiAgICAgKiBAcHJvcGVydHkgeyBib29sZWFuIH0gaXNDb21wYXRpYmxlIOajgOa1i+W9k+WJjea1j+iniOWZqOaYr+WQpuiDveWkn+S4jlVFZGl0b3Loia/lpb3lhbzlrrkNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBpZiAoIFVFLmJyb3dzZXIuaXNDb21wYXRpYmxlICkgew0KICAgICAqICAgICBjb25zb2xlLmxvZyggJ+a1j+iniOWZqOS4jlVFZGl0b3Log73lpJ/oia/lpb3lhbzlrrknICk7DQogICAgICogfQ0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGJyb3dzZXIuaXNDb21wYXRpYmxlID0NCiAgICAgICAgIWJyb3dzZXIubW9iaWxlICYmICgNCiAgICAgICAgKCBicm93c2VyLmllICYmIHZlcnNpb24gPj0gNiApIHx8DQogICAgICAgICggYnJvd3Nlci5nZWNrbyAmJiB2ZXJzaW9uID49IDEwODAxICkgfHwNCiAgICAgICAgKCBicm93c2VyLm9wZXJhICYmIHZlcnNpb24gPj0gOS41ICkgfHwNCiAgICAgICAgKCBicm93c2VyLmFpciAmJiB2ZXJzaW9uID49IDEgKSB8fA0KICAgICAgICAoIGJyb3dzZXIud2Via2l0ICYmIHZlcnNpb24gPj0gNTIyICkgfHwNCiAgICAgICAgZmFsc2UgKTsNCiAgICByZXR1cm4gYnJvd3NlcjsNCn0oKTsNCi8v5b+r5o235pa55byPDQp2YXIgaWUgPSBicm93c2VyLmllLA0KICAgIHdlYmtpdCA9IGJyb3dzZXIud2Via2l0LA0KICAgIGdlY2tvID0gYnJvd3Nlci5nZWNrbywNCiAgICBvcGVyYSA9IGJyb3dzZXIub3BlcmE7DQovKioNCiAqIOW3peWFt+WHveaVsOWMhQ0KICogQGZpbGUNCiAqIEBtb2R1bGUgVUUudXRpbHMNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiBVRWRpdG9y5bCB6KOF5L2/55So55qE6Z2Z5oCB5bel5YW35Ye95pWwDQogKiBAbW9kdWxlIFVFLnV0aWxzDQogKiBAdW5maWxlDQogKi8NCg0KdmFyIHV0aWxzID0gVUUudXRpbHMgPSB7DQoNCiAgICAvKioNCiAgICAgKiDnlKjnu5nlrprnmoTov63ku6PlmajpgY3ljoblr7nosaENCiAgICAgKiBAbWV0aG9kIGVhY2gNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvYmog6ZyA6KaB6YGN5Y6G55qE5a+56LGhDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBpdGVyYXRvciDov63ku6PlmajvvIwg6K+l5pa55rOV5o6l5Y+X5Lik5Liq5Y+C5pWw77yMIOesrOS4gOS4quWPguaVsOaYr+W9k+WJjeaJgOWkhOeQhueahHZhbHVl77yMIOesrOS6jOS4quWPguaVsOaYr+W9k+WJjemBjeWOhuWvueixoeeahGtleQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBkZW1vT2JqID0gew0KICAgICAqICAgICBrZXkxOiAxLA0KICAgICAqICAgICBrZXkyOiAyDQogICAgICogfTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBrZXkxOiAxLCBrZXkyOiAyDQogICAgICogVUUudXRpbHMuZWFjaCggZGVtb09iaiwgZnVuY2l0b24gKCB2YWx1ZSwga2V5ICkgew0KICAgICAqDQogICAgICogICAgIGNvbnNvbGUubG9nKCBrZXkgKyAiOiIgKyB2YWx1ZSApOw0KICAgICAqDQogICAgICogfSApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog55So57uZ5a6a55qE6L+t5Luj5Zmo6YGN5Y6G5pWw57uE5oiW57G75pWw57uE5a+56LGhDQogICAgICogQG1ldGhvZCBlYWNoDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBhcnJheSDpnIDopoHpgY3ljobnmoTmlbDnu4TmiJbogIXnsbvmlbDnu4QNCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGl0ZXJhdG9yIOi/reS7o+WZqO+8jCDor6Xmlrnms5XmjqXlj5fkuKTkuKrlj4LmlbDvvIwg56ys5LiA5Liq5Y+C5pWw5piv5b2T5YmN5omA5aSE55CG55qEdmFsdWXvvIwg56ys5LqM5Liq5Y+C5pWw5piv5b2T5YmN6YGN5Y6G5a+56LGh55qEa2V5DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGRpdnMgPSBkb2N1bWVudC5nZXRFbG1lbnRCeVRhZ05hbWVzKCAiZGl2IiApOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IDA6IERJViwgMTogRElWIC4uLg0KICAgICAqIFVFLnV0aWxzLmVhY2goIGRpdnMsIGZ1bmNpdG9uICggdmFsdWUsIGtleSApIHsNCiAgICAgKg0KICAgICAqICAgICBjb25zb2xlLmxvZygga2V5ICsgIjoiICsgdmFsdWUudGFnTmFtZSApOw0KICAgICAqDQogICAgICogfSApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGVhY2ggOiBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7DQogICAgICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuOw0KICAgICAgICBpZiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopID09PSBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgew0KICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkgew0KICAgICAgICAgICAgICAgICAgICBpZihpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaikgPT09IGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDku6Xnu5nlrprlr7nosaHkvZzkuLrljp/lnovliJvlu7rkuIDkuKrmlrDlr7nosaENCiAgICAgKiBAbWV0aG9kIG1ha2VJbnN0YW5jZQ0KICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IHByb3RvT2JqZWN0IOivpeWvueixoeWwhuS9nOS4uuaWsOWIm+W7uuWvueixoeeahOWOn+Weiw0KICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDmlrDnmoTlr7nosaHvvIwg6K+l5a+56LGh55qE5Y6f5Z6L5piv57uZ5a6a55qEcHJvdG9PYmplY3Tlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIHZhciBwcm90b09iamVjdCA9IHsgc2F5SGVsbG86IGZ1bmN0aW9uICgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFVFZGl0b3IhJyk7IH0gfTsNCiAgICAgKg0KICAgICAqIHZhciBuZXdPYmplY3QgPSBVRS51dGlscy5tYWtlSW5zdGFuY2UoIHByb3RvT2JqZWN0ICk7DQogICAgICogLy9vdXRwdXQ6IEhlbGxvIFVFZGl0b3IhDQogICAgICogbmV3T2JqZWN0LnNheUhlbGxvKCk7DQogICAgICogYGBgDQogICAgICovDQogICAgbWFrZUluc3RhbmNlOmZ1bmN0aW9uIChvYmopIHsNCiAgICAgICAgdmFyIG5vb3AgPSBuZXcgRnVuY3Rpb24oKTsNCiAgICAgICAgbm9vcC5wcm90b3R5cGUgPSBvYmo7DQogICAgICAgIG9iaiA9IG5ldyBub29wOw0KICAgICAgICBub29wLnByb3RvdHlwZSA9IG51bGw7DQogICAgICAgIHJldHVybiBvYmo7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWwhnNvdXJjZeWvueixoeS4reeahOWxnuaAp+aJqeWxleWIsHRhcmdldOWvueixoeS4ig0KICAgICAqIEBtZXRob2QgZXh0ZW5kDQogICAgICogQHJlbWluZCDor6Xmlrnms5XlsIblvLrliLbmiopzb3VyY2Xlr7nosaHkuIrnmoTlsZ7mgKflpI3liLbliLB0YXJnZXTlr7nosaHkuIoNCiAgICAgKiBAc2VlIFVFLnV0aWxzLmV4dGVuZChPYmplY3QsT2JqZWN0LEJvb2xlYW4pDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdGFyZ2V0IOebruagh+Wvueixoe+8jCDmlrDnmoTlsZ7mgKflsIbpmYTliqDliLDor6Xlr7nosaHkuIoNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzb3VyY2Ug5rqQ5a+56LGh77yMIOivpeWvueixoeeahOWxnuaAp+S8muiiq+mZhOWKoOWIsHRhcmdldOWvueixoeS4ig0KICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDov5Tlm550YXJnZXTlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIHZhciB0YXJnZXQgPSB7IG5hbWU6ICd0YXJnZXQnLCBzZXg6IDEgfSwNCiAgICAgKiAgICAgIHNvdXJjZSA9IHsgbmFtZTogJ3NvdXJjZScsIGFnZTogMTcgfTsNCiAgICAgKg0KICAgICAqIFVFLnV0aWxzLmV4dGVuZCggdGFyZ2V0LCBzb3VyY2UgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiB7IG5hbWU6ICdzb3VyY2UnLCBzZXg6IDEsIGFnZTogMTcgfQ0KICAgICAqIGNvbnNvbGUubG9nKCB0YXJnZXQgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5bCGc291cmNl5a+56LGh5Lit55qE5bGe5oCn5omp5bGV5YiwdGFyZ2V05a+56LGh5LiK77yMIOagueaNruaMh+WumueahGlzS2VlcFRhcmdldOWAvOWGs+WumuaYr+WQpuS/neeVmeebruagh+WvueixoeS4reS4jg0KICAgICAqIOa6kOWvueixoeWxnuaAp+WQjeebuOWQjOeahOWxnuaAp+WAvOOAgg0KICAgICAqIEBtZXRob2QgZXh0ZW5kDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdGFyZ2V0IOebruagh+Wvueixoe+8jCDmlrDnmoTlsZ7mgKflsIbpmYTliqDliLDor6Xlr7nosaHkuIoNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzb3VyY2Ug5rqQ5a+56LGh77yMIOivpeWvueixoeeahOWxnuaAp+S8muiiq+mZhOWKoOWIsHRhcmdldOWvueixoeS4ig0KICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpc0tlZXBUYXJnZXQg5piv5ZCm5L+d55WZ55uu5qCH5a+56LGh5Lit5LiO5rqQ5a+56LGh5Lit5bGe5oCn5ZCN55u45ZCM55qE5bGe5oCnDQogICAgICogQHJldHVybiB7IE9iamVjdCB9IOi/lOWbnnRhcmdldOWvueixoQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogdmFyIHRhcmdldCA9IHsgbmFtZTogJ3RhcmdldCcsIHNleDogMSB9LA0KICAgICAqICAgICAgc291cmNlID0geyBuYW1lOiAnc291cmNlJywgYWdlOiAxNyB9Ow0KICAgICAqDQogICAgICogVUUudXRpbHMuZXh0ZW5kKCB0YXJnZXQsIHNvdXJjZSwgdHJ1ZSApOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IHsgbmFtZTogJ3RhcmdldCcsIHNleDogMSwgYWdlOiAxNyB9DQogICAgICogY29uc29sZS5sb2coIHRhcmdldCApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgZXh0ZW5kOmZ1bmN0aW9uICh0LCBzLCBiKSB7DQogICAgICAgIGlmIChzKSB7DQogICAgICAgICAgICBmb3IgKHZhciBrIGluIHMpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWIgfHwgIXQuaGFzT3duUHJvcGVydHkoaykpIHsNCiAgICAgICAgICAgICAgICAgICAgdFtrXSA9IHNba107DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0Ow0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDlsIbnu5nlrprnmoTlpJrkuKrlr7nosaHnmoTlsZ7mgKflpI3liLbliLDnm67moIflr7nosaF0YXJnZXTkuIoNCiAgICAgKiBAbWV0aG9kIGV4dGVuZDINCiAgICAgKiBAcmVtaW5kIOivpeaWueazleWwhuW8uuWItuaKiua6kOWvueixoeS4iueahOWxnuaAp+WkjeWItuWIsHRhcmdldOWvueixoeS4ig0KICAgICAqIEByZW1pbmQg6K+l5pa55rOV5pSv5oyB5Lik5Liq5Y+K5Lul5LiK55qE5Y+C5pWw77yMIOS7juesrOS6jOS4quWPguaVsOW8gOWni++8jCDlhbblsZ7mgKfpg73kvJrooqvlpI3liLbliLDnrKzkuIDkuKrlj4LmlbDkuIrjgIIg5aaC5p6c6YGH5Yiw5ZCM5ZCN55qE5bGe5oCn77yMDQogICAgICogICAgICAgICAg5bCG5Lya6KaG55uW5o6J5LmL5YmN55qE5YC844CCDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdGFyZ2V0IOebruagh+Wvueixoe+8jCDmlrDnmoTlsZ7mgKflsIbpmYTliqDliLDor6Xlr7nosaHkuIoNCiAgICAgKiBAcGFyYW0geyBPYmplY3QuLi4gfSBzb3VyY2Ug5rqQ5a+56LGh77yMIOaUr+aMgeWkmuS4quWvueixoe+8jCDor6Xlr7nosaHnmoTlsZ7mgKfkvJrooqvpmYTliqDliLB0YXJnZXTlr7nosaHkuIoNCiAgICAgKiBAcmV0dXJuIHsgT2JqZWN0IH0g6L+U5ZuedGFyZ2V05a+56LGhDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICoNCiAgICAgKiB2YXIgdGFyZ2V0ID0ge30sDQogICAgICogICAgIHNvdXJjZTEgPSB7IG5hbWU6ICdzb3VyY2UnLCBhZ2U6IDE3IH0sDQogICAgICogICAgIHNvdXJjZTIgPSB7IHRpdGxlOiAnZGV2JyB9Ow0KICAgICAqDQogICAgICogVUUudXRpbHMuZXh0ZW5kMiggdGFyZ2V0LCBzb3VyY2UxLCBzb3VyY2UyICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogeyBuYW1lOiAnc291cmNlJywgYWdlOiAxNywgdGl0bGU6ICdkZXYnIH0NCiAgICAgKiBjb25zb2xlLmxvZyggdGFyZ2V0ICk7DQogICAgICoNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBleHRlbmQyOmZ1bmN0aW9uICh0KSB7DQogICAgICAgIHZhciBhID0gYXJndW1lbnRzOw0KICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciB4ID0gYVtpXTsNCiAgICAgICAgICAgIGZvciAodmFyIGsgaW4geCkgew0KICAgICAgICAgICAgICAgIGlmICghdC5oYXNPd25Qcm9wZXJ0eShrKSkgew0KICAgICAgICAgICAgICAgICAgICB0W2tdID0geFtrXTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHQ7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOaooeaLn+e7p+aJv+acuuWItu+8jCDkvb/lvpdzdWJDbGFzc+e7p+aJv+iHqnN1cGVyQ2xhc3MNCiAgICAgKiBAbWV0aG9kIGluaGVyaXRzDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gc3ViQ2xhc3Mg5a2Q57G75a+56LGhDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gc3VwZXJDbGFzcyDotoXnsbvlr7nosaENCiAgICAgKiBAd2FybmluZyDor6Xmlrnms5Xlj6rog73orqlzdWJDbGFzc+e7p+aJv+i2heexu+eahOWOn+Wei++8jCBzdWJDbGFzc+WvueixoeiHqui6q+eahOWxnuaAp+WSjOaWueazleS4jeS8muiiq+e7p+aJvw0KICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDnu6fmib9zdXBlckNsYXNz5ZCO55qE5a2Q57G75a+56LGhDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZnVuY3Rpb24gU3VwZXJDbGFzcygpew0KICAgICAqICAgICB0aGlzLm5hbWUgPSAi5bCP5p2OIjsNCiAgICAgKiB9DQogICAgICoNCiAgICAgKiBTdXBlckNsYXNzLnByb3RvdHlwZSA9IHsNCiAgICAgKiAgICAgaGVsbG86ZnVuY3Rpb24oc3RyKXsNCiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSArIHN0cik7DQogICAgICogICAgIH0NCiAgICAgKiB9DQogICAgICoNCiAgICAgKiBmdW5jdGlvbiBTdWJDbGFzcygpew0KICAgICAqICAgICB0aGlzLm5hbWUgPSAi5bCP5bygIjsNCiAgICAgKiB9DQogICAgICoNCiAgICAgKiBVRS51dGlscy5pbmhlcml0cyhTdWJDbGFzcyxTdXBlckNsYXNzKTsNCiAgICAgKg0KICAgICAqIHZhciBzdWIgPSBuZXcgU3ViQ2xhc3MoKTsNCiAgICAgKiAvL291dHB1dDogJ+Wwj+W8oOaXqeS4iuWlvSENCiAgICAgKiBzdWIuaGVsbG8oIuaXqeS4iuWlvSEiKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBpbmhlcml0czpmdW5jdGlvbiAoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsNCiAgICAgICAgdmFyIG9sZFAgPSBzdWJDbGFzcy5wcm90b3R5cGUsDQogICAgICAgICAgICBuZXdQID0gdXRpbHMubWFrZUluc3RhbmNlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsNCiAgICAgICAgdXRpbHMuZXh0ZW5kKG5ld1AsIG9sZFAsIHRydWUpOw0KICAgICAgICBzdWJDbGFzcy5wcm90b3R5cGUgPSBuZXdQOw0KICAgICAgICByZXR1cm4gKG5ld1AuY29uc3RydWN0b3IgPSBzdWJDbGFzcyk7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOeUqOaMh+WumueahGNvbnRleHTlr7nosaHkvZzkuLrlh73mlbBmbueahOS4iuS4i+aWhw0KICAgICAqIEBtZXRob2QgYmluZA0KICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZm4g6ZyA6KaB57uR5a6a5LiK5LiL5paH55qE5Ye95pWw5a+56LGhDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gY29udGVudCDlh73mlbBmbuaWsOeahOS4iuS4i+aWh+WvueixoQ0KICAgICAqIEByZXR1cm4geyBGdW5jdGlvbiB9IOS4gOS4quaWsOeahOWHveaVsO+8jCDor6Xlh73mlbDkvZzkuLrljp/lp4vlh73mlbBmbueahOS7o+eQhu+8jCDlsIblrozmiJBmbueahOS4iuS4i+aWh+iwg+aNouW3peS9nOOAgg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogdmFyIG5hbWUgPSAnd2luZG93JywNCiAgICAgKiAgICAgbmV3VGVzdCA9IG51bGw7DQogICAgICoNCiAgICAgKiBmdW5jdGlvbiB0ZXN0ICgpIHsNCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRoaXMubmFtZSApOw0KICAgICAqIH0NCiAgICAgKg0KICAgICAqIG5ld1Rlc3QgPSBVRS51dGlscy5iaW5kKCB0ZXN0LCB7IG5hbWU6ICdvYmplY3QnIH0gKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBvYmplY3QNCiAgICAgKiBuZXdUZXN0KCk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogd2luZG93DQogICAgICogdGVzdCgpOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgYmluZDpmdW5jdGlvbiAoZm4sIGNvbnRleHQpIHsNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseShjb250ZXh0LCBhcmd1bWVudHMpOw0KICAgICAgICB9Ow0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDliJvlu7rlu7bov5/mjIflrprml7bpl7TlkI7miafooYznmoTlh73mlbBmbg0KICAgICAqIEBtZXRob2QgZGVmZXINCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZuIOmcgOimgeW7tui/n+aJp+ihjOeahOWHveaVsOWvueixoQ0KICAgICAqIEBwYXJhbSB7IGludCB9IGRlbGF5IOW7tui/n+eahOaXtumXtO+8jCDljZXkvY3mmK/mr6vnp5INCiAgICAgKiBAd2FybmluZyDor6Xmlrnms5XnmoTml7bpl7TmjqfliLbmmK/kuI3nsr7noa7nmoTvvIzku4Xku4Xlj6rog73kv53or4Hlh73mlbDnmoTmiafooYzmmK/lnKjnu5nlrprnmoTml7bpl7TkuYvlkI7vvIwNCiAgICAgKiAgICAgICAgICAg6ICM5LiN6IO95L+d6K+B5Yia5aW95Yiw6L6+5bu26L+f5pe26Ze05pe25omn6KGM44CCDQogICAgICogQHJldHVybiB7IEZ1bmN0aW9uIH0g55uu5qCH5Ye95pWwZm7nmoTku6PnkIblh73mlbDvvIwg5Y+q5pyJ5omn6KGM6K+l5Ye95pWw5omN6IO96LW35Yiw5bu25pe25pWI5p6cDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIHN0YXJ0ID0gMDsNCiAgICAgKg0KICAgICAqIGZ1bmN0aW9uIHRlc3QoKXsNCiAgICAgKiAgICAgY29uc29sZS5sb2coIG5ldyBEYXRlKCkgLSBzdGFydCApOw0KICAgICAqIH0NCiAgICAgKg0KICAgICAqIHZhciB0ZXN0RGVmZXIgPSBVRS51dGlscy5kZWZlciggdGVzdCwgMTAwMCApOw0KICAgICAqIC8vDQogICAgICogc3RhcnQgPSBuZXcgRGF0ZSgpOw0KICAgICAqIC8vb3V0cHV0OiAo5aSn57qm5ZyoMTAwMOavq+enkuS5i+WQjui+k+WHuikgMTAwMA0KICAgICAqIHRlc3REZWZlcigpOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Yib5bu65bu26L+f5oyH5a6a5pe26Ze05ZCO5omn6KGM55qE5Ye95pWwZm4sIOWmguaenOWcqOW7tui/n+aXtumXtOWGheWGjeasoeaJp+ihjOivpeaWueazle+8jCDlsIbkvJrmoLnmja7mjIflrprnmoRleGNsdXNpb27nmoTlgLzvvIwNCiAgICAgKiDlhrPlrprmmK/lkKblj5bmtojliY3kuIDmrKHlh73mlbDnmoTmiafooYzvvIwg5aaC5p6cZXhjbHVzaW9u55qE5YC85Li6dHJ1Ze+8jCDliJnlj5bmtojmiafooYzvvIzlj43kuYvvvIzlsIbnu6fnu63miafooYzliY3kuIDkuKrmlrnms5XjgIINCiAgICAgKiBAbWV0aG9kIGRlZmVyDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDpnIDopoHlu7bov5/miafooYznmoTlh73mlbDlr7nosaENCiAgICAgKiBAcGFyYW0geyBpbnQgfSBkZWxheSDlu7bov5/nmoTml7bpl7TvvIwg5Y2V5L2N5piv5q+r56eSDQogICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGV4Y2x1c2lvbiDlpoLmnpzlnKjlu7bov5/ml7bpl7TlhoXlho3mrKHmiafooYzor6Xlh73mlbDvvIzor6XlgLzlsIblhrPlrprmmK/lkKblj5bmtojmiafooYzliY3kuIDmrKHlh73mlbDnmoTmiafooYzvvIwNCiAgICAgKiAgICAgICAgICAgICAgICAgICAgIOWAvOS4unRydWXooajnpLrlj5bmtojmiafooYzvvIwg5Y+N5LmL5YiZ5bCG5Zyo5omn6KGM5YmN5LiA5qyh5Ye95pWw5LmL5ZCO5omN5omn6KGM5pys5qyh5Ye95pWw6LCD55So44CCDQogICAgICogQHdhcm5pbmcg6K+l5pa55rOV55qE5pe26Ze05o6n5Yi25piv5LiN57K+56Gu55qE77yM5LuF5LuF5Y+q6IO95L+d6K+B5Ye95pWw55qE5omn6KGM5piv5Zyo57uZ5a6a55qE5pe26Ze05LmL5ZCO77yMDQogICAgICogICAgICAgICAgIOiAjOS4jeiDveS/neivgeWImuWlveWIsOi+vuW7tui/n+aXtumXtOaXtuaJp+ihjOOAgg0KICAgICAqIEByZXR1cm4geyBGdW5jdGlvbiB9IOebruagh+WHveaVsGZu55qE5Luj55CG5Ye95pWw77yMIOWPquacieaJp+ihjOivpeWHveaVsOaJjeiDvei1t+WIsOW7tuaXtuaViOaenA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogZnVuY3Rpb24gdGVzdCgpew0KICAgICAqICAgICBjb25zb2xlLmxvZygxKTsNCiAgICAgKiB9DQogICAgICoNCiAgICAgKiB2YXIgdGVzdERlZmVyID0gVUUudXRpbHMuZGVmZXIoIHRlc3QsIDEwMDAsIHRydWUgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiAo5Lik5qyh6LCD55So5LuF5pyJ5LiA5qyh6L6T5Ye6KSAxDQogICAgICogdGVzdERlZmVyKCk7DQogICAgICogdGVzdERlZmVyKCk7DQogICAgICogYGBgDQogICAgICovDQogICAgZGVmZXI6ZnVuY3Rpb24gKGZuLCBkZWxheSwgZXhjbHVzaW9uKSB7DQogICAgICAgIHZhciB0aW1lcklEOw0KICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKGV4Y2x1c2lvbikgew0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklEKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRpbWVySUQgPSBzZXRUaW1lb3V0KGZuLCBkZWxheSk7DQogICAgICAgIH07DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOiOt+WPluWFg+e0oGl0ZW3lnKjmlbDnu4RhcnJheeS4remmluasoeWHuueOsOeahOS9jee9riwg5aaC5p6c5pyq5om+5YiwaXRlbe+8jCDliJnov5Tlm54tMQ0KICAgICAqIEBtZXRob2QgaW5kZXhPZg0KICAgICAqIEByZW1pbmQg6K+l5pa55rOV55qE5Yy56YWN6L+H56iL5L2/55So55qE5piv5oGS562J4oCcPT094oCdDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBhcnJheSDpnIDopoHmn6Xmib7nmoTmlbDnu4Tlr7nosaENCiAgICAgKiBAcGFyYW0geyAqIH0gaXRlbSDpnIDopoHlnKjnm67moIfmlbDnu4TkuK3mn6Xmib7nmoTlgLwNCiAgICAgKiBAcmV0dXJuIHsgaW50IH0g6L+U5ZueaXRlbeWcqOebruagh+aVsOe7hGFycmF55Lit6aaW5qyh5Ye6546w55qE5L2N572u77yMIOWmguaenOWcqOaVsOe7hOS4reacquaJvuWIsGl0ZW3vvIwg5YiZ6L+U5ZueLTENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiB2YXIgaXRlbSA9IDEsDQogICAgICogICAgIGFyciA9IFsgMywgNCwgNiwgOCwgMSwgMSwgMiBdOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IDQNCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMuaW5kZXhPZiggYXJyLCBpdGVtICkgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOiOt+WPluWFg+e0oGl0ZW3mlbDnu4RhcnJheeS4remmluasoeWHuueOsOeahOS9jee9riwg5aaC5p6c5pyq5om+5YiwaXRlbe+8jCDliJnov5Tlm54tMeOAgumAmui/h3N0YXJ055qE5YC85Y+v5Lul5oyH5a6a5pCc57Si55qE6LW35aeL5L2N572u44CCDQogICAgICogQG1ldGhvZCBpbmRleE9mDQogICAgICogQHJlbWluZCDor6Xmlrnms5XnmoTljLnphY3ov4fnqIvkvb/nlKjnmoTmmK/mgZLnrYnigJw9PT3igJ0NCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IGFycmF5IOmcgOimgeafpeaJvueahOaVsOe7hOWvueixoQ0KICAgICAqIEBwYXJhbSB7ICogfSBpdGVtIOmcgOimgeWcqOebruagh+aVsOe7hOS4reafpeaJvueahOWAvA0KICAgICAqIEBwYXJhbSB7IGludCB9IHN0YXJ0IOaQnOe0oueahOi1t+Wni+S9jee9rg0KICAgICAqIEByZXR1cm4geyBpbnQgfSDov5Tlm55pdGVt5Zyo55uu5qCH5pWw57uEYXJyYXnkuK3nmoRzdGFydOS9jee9ruS5i+WQjummluasoeWHuueOsOeahOS9jee9ru+8jCDlpoLmnpzlnKjmlbDnu4TkuK3mnKrmib7liLBpdGVt77yMIOWImei/lOWbni0xDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGl0ZW0gPSAxLA0KICAgICAqICAgICBhcnIgPSBbIDMsIDQsIDYsIDgsIDEsIDIsIDgsIDMsIDIsIDEsIDEsIDQgXTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiA5DQogICAgICogY29uc29sZS5sb2coIFVFLnV0aWxzLmluZGV4T2YoIGFyciwgaXRlbSwgNSApICk7DQogICAgICogYGBgDQogICAgICovDQogICAgaW5kZXhPZjpmdW5jdGlvbiAoYXJyYXksIGl0ZW0sIHN0YXJ0KSB7DQogICAgICAgIHZhciBpbmRleCA9IC0xOw0KICAgICAgICBzdGFydCA9IHRoaXMuaXNOdW1iZXIoc3RhcnQpID8gc3RhcnQgOiAwOw0KICAgICAgICB0aGlzLmVhY2goYXJyYXksIGZ1bmN0aW9uICh2LCBpKSB7DQogICAgICAgICAgICBpZiAoaSA+PSBzdGFydCAmJiB2ID09PSBpdGVtKSB7DQogICAgICAgICAgICAgICAgaW5kZXggPSBpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiBpbmRleDsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog56e76Zmk5pWw57uEYXJyYXnkuK3miYDmnInnmoTlhYPntKBpdGVtDQogICAgICogQG1ldGhvZCByZW1vdmVJdGVtDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBhcnJheSDopoHnp7vpmaTlhYPntKDnmoTnm67moIfmlbDnu4QNCiAgICAgKiBAcGFyYW0geyAqIH0gaXRlbSDlsIbopoHooqvnp7vpmaTnmoTlhYPntKANCiAgICAgKiBAcmVtaW5kIOivpeaWueazleeahOWMuemFjei/h+eoi+S9v+eUqOeahOaYr+aBkuetieKAnD09PeKAnQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBhcnIgPSBbIDQsIDUsIDcsIDEsIDMsIDQsIDYgXTsNCiAgICAgKg0KICAgICAqIFVFLnV0aWxzLnJlbW92ZUl0ZW0oIGFyciwgNCApOw0KICAgICAqIC8vb3V0cHV0OiBbIDUsIDcsIDEsIDMsIDYgXQ0KICAgICAqIGNvbnNvbGUubG9nKCBhcnIgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHJlbW92ZUl0ZW06ZnVuY3Rpb24gKGFycmF5LCBpdGVtKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7DQogICAgICAgICAgICBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHsNCiAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaSwgMSk7DQogICAgICAgICAgICAgICAgaS0tOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWIoOmZpOWtl+espuS4snN0cueahOmmluWwvuepuuagvA0KICAgICAqIEBtZXRob2QgdHJpbQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0ciDpnIDopoHliKDpmaTpppblsL7nqbrmoLznmoTlrZfnrKbkuLINCiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g5Yig6Zmk5LqG6aaW5bC+55qE56m65qC85ZCO55qE5a2X56ym5LiyDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICoNCiAgICAgKiB2YXIgc3RyID0gIiBVRWR0aW9yICI7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogOQ0KICAgICAqIGNvbnNvbGUubG9nKCBzdHIubGVuZ3RoICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogNw0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy50cmltKCAiIFVFZHRpb3IgIiApLmxlbmd0aCApOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IDkNCiAgICAgKiBjb25zb2xlLmxvZyggc3RyLmxlbmd0aCApOw0KICAgICAqDQogICAgICogIGBgYA0KICAgICAqLw0KICAgIHRyaW06ZnVuY3Rpb24gKHN0cikgew0KICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyheWyBcdFxuXHJdKyl8KFsgXHRcblxyXSskKS9nLCAnJyk7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWwhuWtl+espuS4snN0cuS7pScsJ+WIhumalOaIkOaVsOe7hOWQju+8jOWwhuivpeaVsOe7hOi9rOaNouaIkOWTiOW4jOWvueixoe+8jCDlhbbnlJ/miJDnmoRoYXNo5a+56LGh55qEa2V55Li65pWw57uE5Lit55qE5YWD57Sg77yMIHZhbHVl5Li6MQ0KICAgICAqIEBtZXRob2QgbGlzdFRvTWFwDQogICAgICogQHdhcm5pbmcg6K+l5pa55rOV5Zyo55Sf5oiQ55qEaGFzaOWvueixoeS4re+8jOS8muS4uuavj+S4gOS4qmtleeWQjOaXtueUn+aIkOS4gOS4quWPpuS4gOS4quWFqOWkp+WGmeeahGtleeOAgg0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0ciDor6XlrZfnrKbkuLLlsIbooqvku6UnLCfliIblibLkuLrmlbDnu4TvvIwg54S25ZCO6L+b6KGM6L2s5YyWDQogICAgICogQHJldHVybiB7IE9iamVjdCB9IOi9rOWMluS5i+WQjueahGhhc2jlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBPYmplY3Qge1VFZHRpb3I6IDEsIFVFRFRJT1I6IDEsIEhlbGxvOiAxLCBIRUxMTzogMX0NCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMubGlzdFRvTWFwKCAnVUVkdGlvcixIZWxsbycgKSApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDlsIblrZfnrKbkuLLmlbDnu4TovazmjaLmiJDlk4jluIzlr7nosaHvvIwg5YW255Sf5oiQ55qEaGFzaOWvueixoeeahGtleeS4uuaVsOe7hOS4reeahOWFg+e0oO+8jCB2YWx1ZeS4ujENCiAgICAgKiBAbWV0aG9kIGxpc3RUb01hcA0KICAgICAqIEB3YXJuaW5nIOivpeaWueazleWcqOeUn+aIkOeahGhhc2jlr7nosaHkuK3vvIzkvJrkuLrmr4/kuIDkuKprZXnlkIzml7bnlJ/miJDkuIDkuKrlj6bkuIDkuKrlhajlpKflhpnnmoRrZXnjgIINCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IGFyciDlrZfnrKbkuLLmlbDnu4QNCiAgICAgKiBAcmV0dXJuIHsgT2JqZWN0IH0g6L2s5YyW5LmL5ZCO55qEaGFzaOWvueixoQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IE9iamVjdCB7VUVkdGlvcjogMSwgVUVEVElPUjogMSwgSGVsbG86IDEsIEhFTExPOiAxfQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy5saXN0VG9NYXAoIFsgJ1VFZHRpb3InLCAnSGVsbG8nIF0gKSApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgbGlzdFRvTWFwOmZ1bmN0aW9uIChsaXN0KSB7DQogICAgICAgIGlmICghbGlzdClyZXR1cm4ge307DQogICAgICAgIGxpc3QgPSB1dGlscy5pc0FycmF5KGxpc3QpID8gbGlzdCA6IGxpc3Quc3BsaXQoJywnKTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpLCBvYmogPSB7fTsgY2kgPSBsaXN0W2krK107KSB7DQogICAgICAgICAgICBvYmpbY2kudG9VcHBlckNhc2UoKV0gPSBvYmpbY2ldID0gMTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gb2JqOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDlsIZzdHLkuK3nmoRodG1s56ym5Y+36L2s5LmJLOWwhui9rOS5ieKAnCfvvIwm77yMPO+8jCLvvIw+4oCd5LqU5Liq5a2X56ymDQogICAgICogQG1ldGhvZCB1bmh0bWwNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBzdHIg6ZyA6KaB6L2s5LmJ55qE5a2X56ym5LiyDQogICAgICogQHJldHVybiB7IFN0cmluZyB9IOi9rOS5ieWQjueahOWtl+espuS4sg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBodG1sID0gJzxib2R5PiY8L2JvZHk+JzsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiAmbHQ7Ym9keSZndDsmYW1wOyZsdDsvYm9keSZndDsNCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMudW5odG1sKCBodG1sICkgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHVuaHRtbDpmdW5jdGlvbiAoc3RyLCByZWcpIHsNCiAgICAgICAgcmV0dXJuIHN0ciA/IHN0ci5yZXBsYWNlKHJlZyB8fCAvWyY8Ij4nXSg/OihhbXB8bHR8cXVvdHxndHwjMzl8bmJzcCk7KT8vZywgZnVuY3Rpb24gKGEsIGIpIHsNCiAgICAgICAgICAgIGlmIChiKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGE7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICc8JzonJmx0OycsDQogICAgICAgICAgICAgICAgICAgICcmJzonJmFtcDsnLA0KICAgICAgICAgICAgICAgICAgICAnIic6JyZxdW90OycsDQogICAgICAgICAgICAgICAgICAgICc+JzonJmd0OycsDQogICAgICAgICAgICAgICAgICAgICInIjonJiMzOTsnDQogICAgICAgICAgICAgICAgfVthXQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pIDogJyc7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWwhnN0cuS4reeahOi9rOS5ieWtl+espui/mOWOn+aIkGh0bWzlrZfnrKYNCiAgICAgKiBAc2VlIFVFLnV0aWxzLnVuaHRtbChTdHJpbmcpOw0KICAgICAqIEBtZXRob2QgaHRtbA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0ciDpnIDopoHpgIbovazkuYnnmoTlrZfnrKbkuLINCiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g6YCG6L2s5LmJ5ZCO55qE5a2X56ym5LiyDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICoNCiAgICAgKiB2YXIgc3RyID0gJyZsdDtib2R5Jmd0OyZhbXA7Jmx0Oy9ib2R5Jmd0Oyc7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogPGJvZHk+JjwvYm9keT4NCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMuaHRtbCggc3RyICkgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGh0bWw6ZnVuY3Rpb24gKHN0cikgew0KICAgICAgICByZXR1cm4gc3RyID8gc3RyLnJlcGxhY2UoLyYoKGd8bHxxdW8pdHxhbXB8IzM5fG5ic3ApOy9nLCBmdW5jdGlvbiAobSkgew0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAnJmx0Oyc6JzwnLA0KICAgICAgICAgICAgICAgICcmYW1wOyc6JyYnLA0KICAgICAgICAgICAgICAgICcmcXVvdDsnOiciJywNCiAgICAgICAgICAgICAgICAnJmd0Oyc6Jz4nLA0KICAgICAgICAgICAgICAgICcmIzM5Oyc6IiciLA0KICAgICAgICAgICAgICAgICcmbmJzcDsnOicgJw0KICAgICAgICAgICAgfVttXQ0KICAgICAgICB9KSA6ICcnOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDlsIZjc3PmoLflvI/ovazmjaLkuLrpqbzls7DnmoTlvaLlvI8NCiAgICAgKiBAbWV0aG9kIGNzc1N0eWxlVG9Eb21TdHlsZQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNzc05hbWUg6ZyA6KaB6L2s5o2i55qEY3Nz5qC35byP5ZCNDQogICAgICogQHJldHVybiB7IFN0cmluZyB9IOi9rOaNouaIkOmpvOWzsOW9ouW8j+WQjueahGNzc+agt+W8j+WQjQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogdmFyIHN0ciA9ICdib3JkZXItdG9wJzsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBib3JkZXJUb3ANCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKCBzdHIgKSApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgY3NzU3R5bGVUb0RvbVN0eWxlOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIHRlc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKS5zdHlsZSwNCiAgICAgICAgICAgIGNhY2hlID0gew0KICAgICAgICAgICAgICAgICdmbG9hdCc6dGVzdC5jc3NGbG9hdCAhPSB1bmRlZmluZWQgPyAnY3NzRmxvYXQnIDogdGVzdC5zdHlsZUZsb2F0ICE9IHVuZGVmaW5lZCA/ICdzdHlsZUZsb2F0JyA6ICdmbG9hdCcNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjc3NOYW1lKSB7DQogICAgICAgICAgICByZXR1cm4gY2FjaGVbY3NzTmFtZV0gfHwgKGNhY2hlW2Nzc05hbWVdID0gY3NzTmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0uL2csIGZ1bmN0aW9uIChtYXRjaCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBtYXRjaC5jaGFyQXQoMSkudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgfTsNCiAgICB9KCksDQoNCiAgICAvKioNCiAgICAgKiDliqjmgIHliqDovb3mlofku7bliLBkb2PkuK0NCiAgICAgKiBAbWV0aG9kIGxvYWRGaWxlDQogICAgICogQHBhcmFtIHsgRG9tRG9jdW1lbnQgfSBkb2N1bWVudCDpnIDopoHliqDovb3otYTmupDmlofku7bnmoTmlofmoaPlr7nosaENCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBvcHRpb25zIOWKoOi9vei1hOa6kOaWh+S7tueahOWxnuaAp+mbhuWQiO+8jCDlj5blgLzor7flj4LogIPku6PnoIHnpLrkvosNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIFVFLnV0aWxzLmxvYWRGaWxlKCBkb2N1bWVudCwgew0KICAgICAqICAgICBzcmM6InRlc3QuanMiLA0KICAgICAqICAgICB0YWc6InNjcmlwdCIsDQogICAgICogICAgIHR5cGU6InRleHQvamF2YXNjcmlwdCIsDQogICAgICogICAgIGRlZmVyOiJkZWZlciINCiAgICAgKiB9ICk7DQogICAgICoNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOWKqOaAgeWKoOi9veaWh+S7tuWIsGRvY+S4re+8jOWKoOi9veaIkOWKn+WQjuaJp+ihjOeahOWbnuiwg+WHveaVsGZuDQogICAgICogQG1ldGhvZCBsb2FkRmlsZQ0KICAgICAqIEBwYXJhbSB7IERvbURvY3VtZW50IH0gZG9jdW1lbnQg6ZyA6KaB5Yqg6L296LWE5rqQ5paH5Lu255qE5paH5qGj5a+56LGhDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb3B0aW9ucyDliqDovb3otYTmupDmlofku7bnmoTlsZ7mgKfpm4blkIjvvIwg6K+l6ZuG5ZCI5pSv5oyB55qE5YC85pivc2NyaXB05qCH562+5ZKMc3R5bGXmoIfnrb7mlK/mjIHnmoTmiYDmnInlsZ7mgKfjgIINCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZuIOi1hOa6kOaWh+S7tuWKoOi9veaIkOWKn+S5i+WQjuaJp+ihjOeahOWbnuiwgw0KICAgICAqIEB3YXJuaW5nIOWvueS6juWcqOWQjOS4gOS4quaWh+aho+S4reWkmuasoeWKoOi9veWQjOS4gFVSTOeahOaWh+S7tu+8jCDor6Xmlrnms5XkvJrlnKjnrKzkuIDmrKHliqDovb3kuYvlkI7nvJPlrZjor6Xor7fmsYLvvIwNCiAgICAgKiAgICAgICAgICAg5Zyo5q2k5LmL5ZCO55qE5omA5pyJ5ZCM5LiAVVJM55qE6K+35rGC77yMIOWwhuS8muebtOaOpeinpuWPkeWbnuiwg+OAgg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogVUUudXRpbHMubG9hZEZpbGUoIGRvY3VtZW50LCB7DQogICAgICogICAgIHNyYzoidGVzdC5qcyIsDQogICAgICogICAgIHRhZzoic2NyaXB0IiwNCiAgICAgKiAgICAgdHlwZToidGV4dC9qYXZhc2NyaXB0IiwNCiAgICAgKiAgICAgZGVmZXI6ImRlZmVyIg0KICAgICAqIH0sIGZ1bmN0aW9uICgpIHsNCiAgICAgKiAgICAgY29uc29sZS5sb2coJ+WKoOi9veaIkOWKnycpOw0KICAgICAqIH0gKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGxvYWRGaWxlOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIHRtcExpc3QgPSBbXTsNCg0KICAgICAgICBmdW5jdGlvbiBnZXRJdGVtKGRvYywgb2JqKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0bXBMaXN0W2krK107KSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjaS5kb2MgPT09IGRvYyAmJiBjaS51cmwgPT0gKG9iai5zcmMgfHwgb2JqLmhyZWYpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2k7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZG9jLCBvYmosIGZuKSB7DQogICAgICAgICAgICB2YXIgaXRlbSA9IGdldEl0ZW0oZG9jLCBvYmopOw0KICAgICAgICAgICAgaWYgKGl0ZW0pIHsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5yZWFkeSkgew0KICAgICAgICAgICAgICAgICAgICBmbiAmJiBmbigpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW0uZnVucy5wdXNoKGZuKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0bXBMaXN0LnB1c2goew0KICAgICAgICAgICAgICAgIGRvYzpkb2MsDQogICAgICAgICAgICAgICAgdXJsOm9iai5zcmMgfHwgb2JqLmhyZWYsDQogICAgICAgICAgICAgICAgZnVuczpbZm5dDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmICghZG9jLmJvZHkpIHsNCiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gb2JqKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwID09ICd0YWcnKWNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2gocCArICc9IicgKyBvYmpbcF0gKyAnIicpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRvYy53cml0ZSgnPCcgKyBvYmoudGFnICsgJyAnICsgaHRtbC5qb2luKCcgJykgKyAnID48LycgKyBvYmoudGFnICsgJz4nKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob2JqLmlkICYmIGRvYy5nZXRFbGVtZW50QnlJZChvYmouaWQpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2MuY3JlYXRlRWxlbWVudChvYmoudGFnKTsNCiAgICAgICAgICAgIGRlbGV0ZSBvYmoudGFnOw0KICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBvYmopIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShwLCBvYmpbcF0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBlbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucmVhZHlTdGF0ZSB8fCAvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KHRoaXMucmVhZHlTdGF0ZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbSA9IGdldEl0ZW0oZG9jLCBvYmopOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5mdW5zLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucmVhZHkgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZmk7IGZpID0gaXRlbS5mdW5zLnBvcCgpOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5vbmxvYWQgPSBlbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGVsZW1lbnQub25lcnJvciA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignVGhlIGxvYWQgJyArIChvYmouaHJlZiB8fCBvYmouc3JjKSArICcgZmFpbHMsY2hlY2sgdGhlIHVybCBzZXR0aW5ncyBvZiBmaWxlIHVlZGl0b3IuY29uZmlnLmpzICcpDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoZWxlbWVudCk7DQogICAgICAgIH0NCiAgICB9KCksDQoNCiAgICAvKioNCiAgICAgKiDliKTmlq1vYmrlr7nosaHmmK/lkKbkuLrnqboNCiAgICAgKiBAbWV0aG9kIGlzRW1wdHlPYmplY3QNCiAgICAgKiBAcGFyYW0geyAqIH0gb2JqIOmcgOimgeWIpOaWreeahOWvueixoQ0KICAgICAqIEByZW1pbmQg5aaC5p6c5Yik5pat55qE5a+56LGh5pivTlVMTO+8jCDlsIbnm7TmjqXov5Tlm550cnVl77yMIOWmguaenOaYr+aVsOe7hOS4lOS4uuepuu+8jCDov5Tlm550cnVl77yMIOWmguaenOaYr+Wtl+espuS4su+8jCDkuJTlrZfnrKbkuLLkuLrnqbrvvIwNCiAgICAgKiAgICAgICAgICDov5Tlm550cnVl77yMIOWmguaenOaYr+aZrumAmuWvueixoe+8jCDkuJTor6Xlr7nosaHmsqHmnInku7vkvZXlrp7kvovlsZ7mgKfvvIwg6L+U5ZuedHJ1ZQ0KICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g5a+56LGh5piv5ZCm5Li656m6DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICoNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy5pc0VtcHR5T2JqZWN0KCB7fSApICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy5pc0VtcHR5T2JqZWN0KCBbXSApICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy5pc0VtcHR5T2JqZWN0KCAiIiApICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogZmFsc2UNCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMuaXNFbXB0eU9iamVjdCggeyBrZXk6IDEgfSApICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogZmFsc2UNCiAgICAgKiBjb25zb2xlLmxvZyggVUUudXRpbHMuaXNFbXB0eU9iamVjdCggWzFdICkgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy5pc0VtcHR5T2JqZWN0KCAiMSIgKSApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgaXNFbXB0eU9iamVjdDpmdW5jdGlvbiAob2JqKSB7DQogICAgICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7DQogICAgICAgIGlmICh0aGlzLmlzQXJyYXkob2JqKSB8fCB0aGlzLmlzU3RyaW5nKG9iaikpIHJldHVybiBvYmoubGVuZ3RoID09PSAwOw0KICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHJldHVybiBmYWxzZTsNCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfSwNCg0KICAgIC8qDQogICAgICog5oqKcmdi5qC85byP55qE6aKc6Imy5YC86L2s5o2i5oiQMTbov5vliLbmoLzlvI8NCiAgICAgKiBAbWV0aG9kIGZpeENvbG9yDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gcmdi5qC85byP55qE6aKc6Imy5YC8DQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0NCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIHJnYigyNTUsMjU1LDI1NSkgID0+ICIjZmZmZmZmIg0KICAgICAqLw0KICAgIGZpeENvbG9yOmZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkgew0KICAgICAgICBpZiAoL2NvbG9yL2kudGVzdChuYW1lKSAmJiAvcmdiYT8vLnRlc3QodmFsdWUpKSB7DQogICAgICAgICAgICB2YXIgYXJyYXkgPSB2YWx1ZS5zcGxpdCgiLCIpOw0KICAgICAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA+IDMpDQogICAgICAgICAgICAgICAgcmV0dXJuICIiOw0KICAgICAgICAgICAgdmFsdWUgPSAiIyI7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY29sb3I7IGNvbG9yID0gYXJyYXlbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBjb2xvciA9IHBhcnNlSW50KGNvbG9yLnJlcGxhY2UoL1teXGRdL2dpLCAnJyksIDEwKS50b1N0cmluZygxNik7DQogICAgICAgICAgICAgICAgdmFsdWUgKz0gY29sb3IubGVuZ3RoID09IDEgPyAiMCIgKyBjb2xvciA6IGNvbG9yOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAgdmFsdWU7DQogICAgfSwNCiAgICAvKg0KICAgICAqIOWPqumSiOWvuWJvcmRlcixwYWRkaW5nLG1hcmdpbuWBmuS6huWkhOeQhu+8jOWboOS4uuaAp+iDvemXrumimA0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAZnVuY3Rpb24NCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gICAgdmFsIHN0eWxl5a2X56ym5LiyDQogICAgICovDQogICAgb3B0Q3NzOmZ1bmN0aW9uICh2YWwpIHsNCiAgICAgICAgdmFyIHBhZGRpbmcsIG1hcmdpbiwgYm9yZGVyOw0KICAgICAgICB2YWwgPSB2YWwucmVwbGFjZSgvKHBhZGRpbmd8bWFyZ2lufGJvcmRlcilcLShbXjpdKyk6KFteO10rKTs/L2dpLCBmdW5jdGlvbiAoc3RyLCBrZXksIG5hbWUsIHZhbCkgew0KICAgICAgICAgICAgaWYgKHZhbC5zcGxpdCgnICcpLmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAncGFkZGluZyc6DQogICAgICAgICAgICAgICAgICAgICAgICAhcGFkZGluZyAmJiAocGFkZGluZyA9IHt9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdbbmFtZV0gPSB2YWw7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ21hcmdpbic6DQogICAgICAgICAgICAgICAgICAgICAgICAhbWFyZ2luICYmIChtYXJnaW4gPSB7fSk7DQogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW5bbmFtZV0gPSB2YWw7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JvcmRlcic6DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsID09ICdpbml0aWFsJyA/ICcnIDogc3RyOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBzdHI7DQogICAgICAgIH0pOw0KDQogICAgICAgIGZ1bmN0aW9uIG9wdChvYmosIG5hbWUpIHsNCiAgICAgICAgICAgIGlmICghb2JqKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHQgPSBvYmoudG9wICwgYiA9IG9iai5ib3R0b20sIGwgPSBvYmoubGVmdCwgciA9IG9iai5yaWdodCwgdmFsID0gJyc7DQogICAgICAgICAgICBpZiAoIXQgfHwgIWwgfHwgIWIgfHwgIXIpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIG9iaikgew0KICAgICAgICAgICAgICAgICAgICB2YWwgKz0gJzsnICsgbmFtZSArICctJyArIHAgKyAnOicgKyBvYmpbcF0gKyAnOyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YWwgKz0gJzsnICsgbmFtZSArICc6JyArDQogICAgICAgICAgICAgICAgICAgICh0ID09IGIgJiYgYiA9PSBsICYmIGwgPT0gciA/IHQgOg0KICAgICAgICAgICAgICAgICAgICAgICAgdCA9PSBiICYmIGwgPT0gciA/ICh0ICsgJyAnICsgbCkgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgPT0gciA/ICh0ICsgJyAnICsgbCArICcgJyArIGIpIDogKHQgKyAnICcgKyByICsgJyAnICsgYiArICcgJyArIGwpKSArICc7Jw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHZhbDsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhbCArPSBvcHQocGFkZGluZywgJ3BhZGRpbmcnKSArIG9wdChtYXJnaW4sICdtYXJnaW4nKTsNCiAgICAgICAgcmV0dXJuIHZhbC5yZXBsYWNlKC9eWyBcblxyXHQ7XSp8WyBcblxyXHRdKiQvLCAnJykucmVwbGFjZSgvOyhbIFxuXHJcdF0rKXxcMTsvZywgJzsnKQ0KICAgICAgICAgICAgLnJlcGxhY2UoLygmKChsfGcpdHxxdW90fCMzOSkpPzt7Mix9L2csIGZ1bmN0aW9uIChhLCBiKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGIgPyBiICsgIjs7IiA6ICc7Jw0KICAgICAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWFi+mahuWvueixoQ0KICAgICAqIEBtZXRob2QgY2xvbmUNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzb3VyY2Ug5rqQ5a+56LGhDQogICAgICogQHJldHVybiB7IE9iamVjdCB9IHNvdXJjZeeahOS4gOS4quWJr+acrA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5rex5bqm5YWL6ZqG5a+56LGh77yM5bCGc291cmNl55qE5bGe5oCn5YWL6ZqG5YiwdGFyZ2V05a+56LGh77yMIOS8muimhueblnRhcmdldOmHjeWQjeeahOWxnuaAp+OAgg0KICAgICAqIEBtZXRob2QgY2xvbmUNCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzb3VyY2Ug5rqQ5a+56LGhDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdGFyZ2V0IOebruagh+WvueixoQ0KICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDpmYTliqDkuoZzb3VyY2Xlr7nosaHmiYDmnInlsZ7mgKfnmoR0YXJnZXTlr7nosaENCiAgICAgKi8NCiAgICBjbG9uZTpmdW5jdGlvbiAoc291cmNlLCB0YXJnZXQpIHsNCiAgICAgICAgdmFyIHRtcDsNCiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IHt9Ow0KICAgICAgICBmb3IgKHZhciBpIGluIHNvdXJjZSkgew0KICAgICAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShpKSkgew0KICAgICAgICAgICAgICAgIHRtcCA9IHNvdXJjZVtpXTsNCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRtcCA9PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSB1dGlscy5pc0FycmF5KHRtcCkgPyBbXSA6IHt9Ow0KICAgICAgICAgICAgICAgICAgICB1dGlscy5jbG9uZShzb3VyY2VbaV0sIHRhcmdldFtpXSkNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB0YXJnZXRbaV0gPSB0bXA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0YXJnZXQ7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOaKimNt77yPcHTkuLrljZXkvY3nmoTlgLzovazmjaLkuLpweOS4uuWNleS9jeeahOWAvA0KICAgICAqIEBtZXRob2QgdHJhbnNVbml0VG9QeA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IOW+hei9rOaNoueahOW4puWNleS9jeeahOWtl+espuS4sg0KICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDovazmjaLkuLpweOS4uuiuoemHj+WNleS9jeeahOWAvOeahOWtl+espuS4sg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IDUwMHB4DQogICAgICogY29uc29sZS5sb2coIFVFLnV0aWxzLnRyYW5zVW5pdFRvUHgoICcyMGNtJyApICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogMjdweA0KICAgICAqIGNvbnNvbGUubG9nKCBVRS51dGlscy50cmFuc1VuaXRUb1B4KCAnMjBwdCcgKSApOw0KICAgICAqDQogICAgICogYGBgDQogICAgICovDQogICAgdHJhbnNVbml0VG9QeDpmdW5jdGlvbiAodmFsKSB7DQogICAgICAgIGlmICghLyhwdHxjbSkvLnRlc3QodmFsKSkgew0KICAgICAgICAgICAgcmV0dXJuIHZhbA0KICAgICAgICB9DQogICAgICAgIHZhciB1bml0Ow0KICAgICAgICB2YWwucmVwbGFjZSgvKFtcZC5dKykoXHcrKS8sIGZ1bmN0aW9uIChzdHIsIHYsIHUpIHsNCiAgICAgICAgICAgIHZhbCA9IHY7DQogICAgICAgICAgICB1bml0ID0gdTsNCiAgICAgICAgfSk7DQogICAgICAgIHN3aXRjaCAodW5pdCkgew0KICAgICAgICAgICAgY2FzZSAnY20nOg0KICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKSAqIDI1Ow0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAncHQnOg0KICAgICAgICAgICAgICAgIHZhbCA9IE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWwpICogOTYgLyA3Mik7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHZhbCArICh2YWwgPyAncHgnIDogJycpOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDlnKhkb23moJFyZWFkeeS5i+WQjuaJp+ihjOe7meWumueahOWbnuiwg+WHveaVsA0KICAgICAqIEBtZXRob2QgZG9tUmVhZHkNCiAgICAgKiBAcmVtaW5kIOWmguaenOWcqOaJp+ihjOivpeaWueazleeahOaXtuWAme+8jCBkb23moJHlt7Lnu49yZWFkee+8jCDpgqPkuYjlm57osIPlh73mlbDlsIbnq4vliLvmiafooYwNCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZuIGRvbeagkXJlYWR55LmL5ZCO55qE5Zue6LCD5Ye95pWwDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICoNCiAgICAgKiBVRS51dGlscy5kb21SZWFkeSggZnVuY3Rpb24gKCkgew0KICAgICAqDQogICAgICogICAgIGNvbnNvbGUubG9nKCcxMjMnKTsNCiAgICAgKg0KICAgICAqIH0gKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGRvbVJlYWR5OmZ1bmN0aW9uICgpIHsNCg0KICAgICAgICB2YXIgZm5BcnIgPSBbXTsNCg0KICAgICAgICBmdW5jdGlvbiBkb1JlYWR5KGRvYykgew0KICAgICAgICAgICAgLy/noa7kv51vbnJlYWR55Y+q5omn6KGM5LiA5qyhDQogICAgICAgICAgICBkb2MuaXNSZWFkeSA9IHRydWU7DQogICAgICAgICAgICBmb3IgKHZhciBjaTsgY2kgPSBmbkFyci5wb3AoKTsgY2koKSkgew0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvbnJlYWR5LCB3aW4pIHsNCiAgICAgICAgICAgIHdpbiA9IHdpbiB8fCB3aW5kb3c7DQogICAgICAgICAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50Ow0KICAgICAgICAgICAgb25yZWFkeSAmJiBmbkFyci5wdXNoKG9ucmVhZHkpOw0KICAgICAgICAgICAgaWYgKGRvYy5yZWFkeVN0YXRlID09PSAiY29tcGxldGUiKSB7DQogICAgICAgICAgICAgICAgZG9SZWFkeShkb2MpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkb2MuaXNSZWFkeSAmJiBkb1JlYWR5KGRvYyk7DQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uICE9IDExKSB7DQogICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jLmlzUmVhZHkpIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVhZHkoZG9jKTsNCiAgICAgICAgICAgICAgICAgICAgfSkoKTsNCiAgICAgICAgICAgICAgICAgICAgd2luLmF0dGFjaEV2ZW50KCdvbmxvYWQnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb1JlYWR5KGRvYykNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGFyZ3VtZW50cy5jYWxsZWUsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVhZHkoZG9jKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvUmVhZHkoZG9jKQ0KICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICB9KCksDQoNCiAgICAvKg0KICAgICAqIOWKqOaAgea3u+WKoGNzc+agt+W8jw0KICAgICAqIEBtZXRob2QgY3NzUnVsZQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IOiKgueCueWQjeensA0KICAgICAqIEBncmFtbWFyIFVFLnV0aWxzLmNzc1J1bGUoJ+a3u+WKoOeahOagt+W8j+eahOiKgueCueWQjeensCcsWyfmoLflvI8n77yMJ+aUvuWIsOWTquS4qmRvY3VtZW505LiKJ10pDQogICAgICogQGdyYW1tYXIgVUUudXRpbHMuY3NzUnVsZSgnYm9keScsJ2JvZHl7YmFja2dyb3VuZDojY2NjfScpID0+IG51bGwgIC8v57uZYm9keea3u+WKoOiDjOaZr+minOiJsg0KICAgICAqIEBncmFtbWFyIFVFLnV0aWxzLmNzc1J1bGUoJ2JvZHknKSA9Puagt+W8j+eahOWtl+espuS4siAgLy/lj5blvpdrZXnlgLzkuLpib2R555qE5qC35byP55qE5YaF5a65LOWmguaenOayoeacieaJvuWIsGtleeWAvOWFiOWFs+eahOagt+W8j+Wwhui/lOWbnuepuu+8jOS+i+WmguWImuaJjemCo+S4quiDjOaZr+minOiJsu+8jOWwhui/lOWbniBib2R5e2JhY2tncm91bmQ6I2NjY30NCiAgICAgKiBAZ3JhbW1hciBVRS51dGlscy5jc3NSdWxlKCdib2R5Jyxkb2N1bWVudCkgPT4g6L+U5Zue5oyH5a6aa2V555qE5qC35byP77yM5bm25LiU5oyH5a6a5piv5ZOq5LiqZG9jdW1lbnQNCiAgICAgKiBAZ3JhbW1hciBVRS51dGlscy5jc3NSdWxlKCdib2R5JywnJykgPT5udWxsIC8v5riF56m657uZ5a6a55qEa2V55YC855qE6IOM5pmv6aKc6ImyDQogICAgICovDQogICAgY3NzUnVsZTpicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiAhPSAxMSA/IGZ1bmN0aW9uIChrZXksIHN0eWxlLCBkb2MpIHsNCiAgICAgICAgdmFyIGluZGV4TGlzdCwgaW5kZXg7DQogICAgICAgIGlmKHN0eWxlID09PSB1bmRlZmluZWQgfHwgc3R5bGUgJiYgc3R5bGUubm9kZVR5cGUgJiYgc3R5bGUubm9kZVR5cGUgPT0gOSl7DQogICAgICAgICAgICAvL+iOt+WPluagt+W8jw0KICAgICAgICAgICAgZG9jID0gc3R5bGUgJiYgc3R5bGUubm9kZVR5cGUgJiYgc3R5bGUubm9kZVR5cGUgPT0gOSA/IHN0eWxlIDogKGRvYyB8fCBkb2N1bWVudCk7DQogICAgICAgICAgICBpbmRleExpc3QgPSBkb2MuaW5kZXhMaXN0IHx8IChkb2MuaW5kZXhMaXN0ID0ge30pOw0KICAgICAgICAgICAgaW5kZXggPSBpbmRleExpc3Rba2V5XTsNCiAgICAgICAgICAgIGlmKGluZGV4ICE9PSAgdW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gZG9jLnN0eWxlU2hlZXRzW2luZGV4XS5jc3NUZXh0DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkOw0KICAgICAgICB9DQogICAgICAgIGRvYyA9IGRvYyB8fCBkb2N1bWVudDsNCiAgICAgICAgaW5kZXhMaXN0ID0gZG9jLmluZGV4TGlzdCB8fCAoZG9jLmluZGV4TGlzdCA9IHt9KTsNCiAgICAgICAgaW5kZXggPSBpbmRleExpc3Rba2V5XTsNCiAgICAgICAgLy/muIXpmaTmoLflvI8NCiAgICAgICAgaWYoc3R5bGUgPT09ICcnKXsNCiAgICAgICAgICAgIGlmKGluZGV4IT09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgZG9jLnN0eWxlU2hlZXRzW2luZGV4XS5jc3NUZXh0ID0gJyc7DQogICAgICAgICAgICAgICAgZGVsZXRlIGluZGV4TGlzdFtrZXldOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICAvL+a3u+WKoOagt+W8jw0KICAgICAgICBpZihpbmRleCE9PSB1bmRlZmluZWQpew0KICAgICAgICAgICAgc2hlZXRTdHlsZSA9ICBkb2Muc3R5bGVTaGVldHNbaW5kZXhdOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHNoZWV0U3R5bGUgPSBkb2MuY3JlYXRlU3R5bGVTaGVldCgnJywgaW5kZXggPSBkb2Muc3R5bGVTaGVldHMubGVuZ3RoKTsNCiAgICAgICAgICAgIGluZGV4TGlzdFtrZXldID0gaW5kZXg7DQogICAgICAgIH0NCiAgICAgICAgc2hlZXRTdHlsZS5jc3NUZXh0ID0gc3R5bGU7DQogICAgfTogZnVuY3Rpb24gKGtleSwgc3R5bGUsIGRvYykgew0KICAgICAgICB2YXIgaGVhZCwgbm9kZTsNCiAgICAgICAgaWYoc3R5bGUgPT09IHVuZGVmaW5lZCB8fCBzdHlsZSAmJiBzdHlsZS5ub2RlVHlwZSAmJiBzdHlsZS5ub2RlVHlwZSA9PSA5KXsNCiAgICAgICAgICAgIC8v6I635Y+W5qC35byPDQogICAgICAgICAgICBkb2MgPSBzdHlsZSAmJiBzdHlsZS5ub2RlVHlwZSAmJiBzdHlsZS5ub2RlVHlwZSA9PSA5ID8gc3R5bGUgOiAoZG9jIHx8IGRvY3VtZW50KTsNCiAgICAgICAgICAgIG5vZGUgPSBkb2MuZ2V0RWxlbWVudEJ5SWQoa2V5KTsNCiAgICAgICAgICAgIHJldHVybiBub2RlID8gbm9kZS5pbm5lckhUTUwgOiB1bmRlZmluZWQ7DQogICAgICAgIH0NCiAgICAgICAgZG9jID0gZG9jIHx8IGRvY3VtZW50Ow0KICAgICAgICBub2RlID0gZG9jLmdldEVsZW1lbnRCeUlkKGtleSk7DQoNCiAgICAgICAgLy/muIXpmaTmoLflvI8NCiAgICAgICAgaWYoc3R5bGUgPT09ICcnKXsNCiAgICAgICAgICAgIGlmKG5vZGUpew0KICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy/mt7vliqDmoLflvI8NCiAgICAgICAgaWYobm9kZSl7DQogICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHN0eWxlOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIG5vZGUgPSBkb2MuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsNCiAgICAgICAgICAgIG5vZGUuaWQgPSBrZXk7DQogICAgICAgICAgICBub2RlLmlubmVySFRNTCA9IHN0eWxlOw0KICAgICAgICAgICAgZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQobm9kZSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIHNvcnQ6ZnVuY3Rpb24oYXJyYXksY29tcGFyZUZuKXsNCiAgICAgICAgY29tcGFyZUZuID0gY29tcGFyZUZuIHx8IGZ1bmN0aW9uKGl0ZW0xLCBpdGVtMil7IHJldHVybiBpdGVtMS5sb2NhbGVDb21wYXJlKGl0ZW0yKTt9Ow0KICAgICAgICBmb3IodmFyIGk9IDAsbGVuID0gYXJyYXkubGVuZ3RoOyBpPGxlbjsgaSsrKXsNCiAgICAgICAgICAgIGZvcih2YXIgaiA9IGksbGVuZ3RoID0gYXJyYXkubGVuZ3RoOyBqPGxlbmd0aDsgaisrKXsNCiAgICAgICAgICAgICAgICBpZihjb21wYXJlRm4oYXJyYXlbaV0sIGFycmF5W2pdKSA+IDApew0KICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGFycmF5W2ldOw0KICAgICAgICAgICAgICAgICAgICBhcnJheVtpXSA9IGFycmF5W2pdOw0KICAgICAgICAgICAgICAgICAgICBhcnJheVtqXSA9IHQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhcnJheTsNCiAgICB9LA0KICAgIGNsZWFyRW1wdHlBdHRycyA6IGZ1bmN0aW9uKG9iail7DQogICAgICAgIGZvcih2YXIgcCBpbiBvYmopew0KICAgICAgICAgICAgaWYob2JqW3BdID09PSAnJyl7DQogICAgICAgICAgICAgICAgZGVsZXRlIG9ialtwXQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBvYmo7DQogICAgfQ0KDQp9Ow0KLyoqDQogKiDliKTmlq3nu5nlrprnmoTlr7nosaHmmK/lkKbmmK/lrZfnrKbkuLINCiAqIEBtZXRob2QgaXNTdHJpbmcNCiAqIEBwYXJhbSB7ICogfSBvYmplY3Qg6ZyA6KaB5Yik5pat55qE5a+56LGhDQogKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOe7meWumueahOWvueixoeaYr+WQpuaYr+Wtl+espuS4sg0KICovDQoNCi8qKg0KICog5Yik5pat57uZ5a6a55qE5a+56LGh5piv5ZCm5piv5pWw57uEDQogKiBAbWV0aG9kIGlzQXJyYXkNCiAqIEBwYXJhbSB7ICogfSBvYmplY3Qg6ZyA6KaB5Yik5pat55qE5a+56LGhDQogKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOe7meWumueahOWvueixoeaYr+WQpuaYr+aVsOe7hA0KICovDQoNCi8qKg0KICog5Yik5pat57uZ5a6a55qE5a+56LGh5piv5ZCm5piv5LiA5LiqRnVuY3Rpb24NCiAqIEBtZXRob2QgaXNGdW5jdGlvbg0KICogQHBhcmFtIHsgKiB9IG9iamVjdCDpnIDopoHliKTmlq3nmoTlr7nosaENCiAqIEByZXR1cm4geyBCb29sZWFuIH0g57uZ5a6a55qE5a+56LGh5piv5ZCm5pivRnVuY3Rpb24NCiAqLw0KDQovKioNCiAqIOWIpOaWree7meWumueahOWvueixoeaYr+WQpuaYr051bWJlcg0KICogQG1ldGhvZCBpc051bWJlcg0KICogQHBhcmFtIHsgKiB9IG9iamVjdCDpnIDopoHliKTmlq3nmoTlr7nosaENCiAqIEByZXR1cm4geyBCb29sZWFuIH0g57uZ5a6a55qE5a+56LGh5piv5ZCm5pivTnVtYmVyDQogKi8NCg0KLyoqDQogKiDliKTmlq3nu5nlrprnmoTlr7nosaHmmK/lkKbmmK/kuIDkuKrmraPliJnooajovr7lvI8NCiAqIEBtZXRob2QgaXNSZWdFeHANCiAqIEBwYXJhbSB7ICogfSBvYmplY3Qg6ZyA6KaB5Yik5pat55qE5a+56LGhDQogKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOe7meWumueahOWvueixoeaYr+WQpuaYr+ato+WImeihqOi+vuW8jw0KICovDQoNCi8qKg0KICog5Yik5pat57uZ5a6a55qE5a+56LGh5piv5ZCm5piv5LiA5Liq5pmu6YCa5a+56LGhDQogKiBAbWV0aG9kIGlzT2JqZWN0DQogKiBAcGFyYW0geyAqIH0gb2JqZWN0IOmcgOimgeWIpOaWreeahOWvueixoQ0KICogQHJldHVybiB7IEJvb2xlYW4gfSDnu5nlrprnmoTlr7nosaHmmK/lkKbmmK/mma7pgJrlr7nosaENCiAqLw0KdXRpbHMuZWFjaChbJ1N0cmluZycsICdGdW5jdGlvbicsICdBcnJheScsICdOdW1iZXInLCAnUmVnRXhwJywgJ09iamVjdCddLCBmdW5jdGlvbiAodikgew0KICAgIFVFLnV0aWxzWydpcycgKyB2XSA9IGZ1bmN0aW9uIChvYmopIHsNCiAgICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkob2JqKSA9PSAnW29iamVjdCAnICsgdiArICddJzsNCiAgICB9DQp9KTsNCi8qKg0KICogVUXph4fnlKjnmoTkuovku7bln7rnsbsNCiAqIEBmaWxlDQogKiBAbW9kdWxlIFVFDQogKiBAY2xhc3MgRXZlbnRCYXNlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICogVUVkaXRvcuWFrOeUqOepuumXtO+8jFVFZGl0b3LmiYDmnInnmoTlip/og73pg73mjILovb3lnKjor6Xnqbrpl7TkuIsNCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUNCiAqLw0KDQovKioNCiAqIFVF6YeH55So55qE5LqL5Lu25Z+657G777yM57un5om/5q2k57G755qE5a+55bqU57G75bCG6I635Y+WYWRkTGlzdGVuZXIscmVtb3ZlTGlzdGVuZXIsZmlyZUV2ZW505pa55rOV44CCDQogKiDlnKhVReS4re+8jEVkaXRvcuS7peWPiuaJgOaciXVp5a6e5L6L6YO957un5om/5LqG6K+l57G777yM5pWF5Y+v5Lul5Zyo5a+55bqU55qEdWnlr7nosaHku6Xlj4plZGl0b3Llr7nosaHkuIrkvb/nlKjkuIrov7Dmlrnms5XjgIINCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUNCiAqIEBjbGFzcyBFdmVudEJhc2UNCiAqLw0KDQovKioNCiAqIOmAmui/h+atpOaehOmAoOWZqO+8jOWtkOexu+WPr+S7pee7p+aJv0V2ZW50QmFzZeiOt+WPluS6i+S7tuebkeWQrOeahOaWueazlQ0KICogQGNvbnN0cnVjdG9yDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogVUUuRXZlbnRCYXNlLmNhbGwoZWRpdG9yKTsNCiAqIGBgYA0KICovDQp2YXIgRXZlbnRCYXNlID0gVUUuRXZlbnRCYXNlID0gZnVuY3Rpb24gKCkge307DQoNCkV2ZW50QmFzZS5wcm90b3R5cGUgPSB7DQoNCiAgICAvKioNCiAgICAgKiDms6jlhozkuovku7bnm5HlkKzlmagNCiAgICAgKiBAbWV0aG9kIGFkZExpc3RlbmVyDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdHlwZXMg55uR5ZCs55qE5LqL5Lu25ZCN56ew77yM5ZCM5pe255uR5ZCs5aSa5Liq5LqL5Lu25L2/55So56m65qC85YiG6ZqUDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDnm5HlkKznmoTkuovku7booqvop6blj5Hml7bvvIzkvJrmiafooYzor6Xlm57osIPlh73mlbANCiAgICAgKiBAd2FpbmluZyDkuovku7booqvop6blj5Hml7bvvIznm5HlkKznmoTlh73mlbDlgYflpoLov5Tlm57nmoTlgLzmgZLnrYnkuo50cnVl77yM5Zue6LCD5Ye95pWw55qE6Zif5YiX5Lit5ZCO6Z2i55qE5Ye95pWw5bCG5LiN5omn6KGMDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLGZ1bmN0aW9uKCl7DQogICAgICogICAgICBjb25zb2xlLmxvZygi6YCJ5Yy65bey57uP5Y+Y5YyW77yBIik7DQogICAgICogfSkNCiAgICAgKiBlZGl0b3IuYWRkTGlzdGVuZXIoJ2JlZm9yZWdldGNvbnRlbnQgYWZ0ZXJnZXRjb250ZW50JyxmdW5jdGlvbih0eXBlKXsNCiAgICAgKiAgICAgICAgIGlmKHR5cGUgPT0gJ2JlZm9yZWdldGNvbnRlbnQnKXsNCiAgICAgKiAgICAgICAgICAgICAvL2RvIHNvbWV0aGluZw0KICAgICAqICAgICAgICAgfWVsc2V7DQogICAgICogICAgICAgICAgICAgLy9kbyBzb21ldGhpbmcNCiAgICAgKiAgICAgICAgIH0NCiAgICAgKiAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0Q29udGVudCkgLy8gdGhpc+aYr+azqOWGjOeahOS6i+S7tueahOe8lui+keWZqOWunuS+iw0KICAgICAqIH0pDQogICAgICogYGBgDQogICAgICogQHNlZSBVRS5FdmVudEJhc2U6ZmlyZUV2ZW50KFN0cmluZykNCiAgICAgKi8NCiAgICBhZGRMaXN0ZW5lcjpmdW5jdGlvbiAodHlwZXMsIGxpc3RlbmVyKSB7DQogICAgICAgIHR5cGVzID0gdXRpbHMudHJpbSh0eXBlcykuc3BsaXQoL1xzKy8pOw0KICAgICAgICBmb3IgKHZhciBpID0gMCwgdGk7IHRpID0gdHlwZXNbaSsrXTspIHsNCiAgICAgICAgICAgIGdldExpc3RlbmVyKHRoaXMsIHRpLCB0cnVlKS5wdXNoKGxpc3RlbmVyKTsNCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICBvbiA6IGZ1bmN0aW9uKHR5cGVzLCBsaXN0ZW5lcil7DQogICAgICByZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcih0eXBlcyxsaXN0ZW5lcik7DQogICAgfSwNCiAgICBvZmYgOiBmdW5jdGlvbih0eXBlcywgbGlzdGVuZXIpew0KICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlcywgbGlzdGVuZXIpDQogICAgfSwNCiAgICB0cmlnZ2VyOmZ1bmN0aW9uKCl7DQogICAgICAgIHJldHVybiB0aGlzLmZpcmVFdmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDnp7vpmaTkuovku7bnm5HlkKzlmagNCiAgICAgKiBAbWV0aG9kIHJlbW92ZUxpc3RlbmVyDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdHlwZXMg56e76Zmk55qE5LqL5Lu25ZCN56ew77yM5ZCM5pe256e76Zmk5aSa5Liq5LqL5Lu25L2/55So56m65qC85YiG6ZqUDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDnp7vpmaTnm5HlkKzkuovku7bnmoTlh73mlbDlvJXnlKgNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiAvL2NoYW5nZUNhbGxiYWNr5Li65pa55rOV5L2TDQogICAgICogZWRpdG9yLnJlbW92ZUxpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGNoYW5nZUNhbGxiYWNrKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICByZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbiAodHlwZXMsIGxpc3RlbmVyKSB7DQogICAgICAgIHR5cGVzID0gdXRpbHMudHJpbSh0eXBlcykuc3BsaXQoL1xzKy8pOw0KICAgICAgICBmb3IgKHZhciBpID0gMCwgdGk7IHRpID0gdHlwZXNbaSsrXTspIHsNCiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUl0ZW0oZ2V0TGlzdGVuZXIodGhpcywgdGkpIHx8IFtdLCBsaXN0ZW5lcik7DQogICAgICAgIH0NCiAgICB9LA0KDQogICAgLyoqDQogICAgICog6Kem5Y+R5LqL5Lu2DQogICAgICogQG1ldGhvZCBmaXJlRXZlbnQNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0eXBlcyDop6blj5HnmoTkuovku7blkI3np7DvvIzlkIzml7bop6blj5HlpJrkuKrkuovku7bkvb/nlKjnqbrmoLzliIbpmpQNCiAgICAgKiBAcmVtaW5kIOivpeaWueazleS8muinpuWPkWFkZExpc3RlbmVyDQogICAgICogQHJldHVybiB7ICogfSDov5Tlm57op6blj5Hkuovku7bnmoTpmJ/liJfkuK3vvIzmnIDlkI7miafooYznmoTlm57osIPlh73mlbDnmoTov5Tlm57lgLwNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBlZGl0b3IuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOinpuWPkeS6i+S7tg0KICAgICAqIEBtZXRob2QgZmlyZUV2ZW50DQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdHlwZXMg6Kem5Y+R55qE5LqL5Lu25ZCN56ew77yM5ZCM5pe26Kem5Y+R5aSa5Liq5LqL5Lu25L2/55So56m65qC85YiG6ZqUDQogICAgICogQHBhcmFtIHsgKi4uLiB9IG9wdGlvbnMg5Y+v6YCJ5Y+C5pWw77yM5Y+v5Lul5Lyg5YWl5LiA5Liq5oiW5aSa5Liq5Y+C5pWw77yM5Lya5Lyg57uZ5LqL5Lu26Kem5Y+R55qE5Zue6LCD5Ye95pWwDQogICAgICogQHJldHVybiB7ICogfSDov5Tlm57op6blj5Hkuovku7bnmoTpmJ/liJfkuK3vvIzmnIDlkI7miafooYznmoTlm57osIPlh73mlbDnmoTov5Tlm57lgLwNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIGVkaXRvci5hZGRMaXN0ZW5lciggInNlbGVjdGlvbmNoYW5nZSIsIGZ1bmN0aW9uICggdHlwZSwgYXJnMSwgYXJnMiApIHsNCiAgICAgKg0KICAgICAqICAgICBjb25zb2xlLmxvZyggYXJnMSArICIgIiArIGFyZzIgKTsNCiAgICAgKg0KICAgICAqIH0gKTsNCiAgICAgKg0KICAgICAqIC8v6Kem5Y+Rc2VsZWN0aW9uY2hhbmdl5LqL5Lu277yMIOS8muaJp+ihjOS4iumdoueahOS6i+S7tuebkeWQrOWZqA0KICAgICAqIC8vb3V0cHV0OiBIZWxsbyBXb3JsZA0KICAgICAqIGVkaXRvci5maXJlRXZlbnQoInNlbGVjdGlvbmNoYW5nZSIsICJIZWxsbyIsICJXb3JsZCIpOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGZpcmVFdmVudDpmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciB0eXBlcyA9IGFyZ3VtZW50c1swXTsNCiAgICAgICAgdHlwZXMgPSB1dGlscy50cmltKHR5cGVzKS5zcGxpdCgnICcpOw0KICAgICAgICBmb3IgKHZhciBpID0gMCwgdGk7IHRpID0gdHlwZXNbaSsrXTspIHsNCiAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBnZXRMaXN0ZW5lcih0aGlzLCB0aSksDQogICAgICAgICAgICAgICAgciwgdCwgazsNCiAgICAgICAgICAgIGlmIChsaXN0ZW5lcnMpIHsNCiAgICAgICAgICAgICAgICBrID0gbGlzdGVuZXJzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICB3aGlsZSAoay0tKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKCFsaXN0ZW5lcnNba10pY29udGludWU7DQogICAgICAgICAgICAgICAgICAgIHQgPSBsaXN0ZW5lcnNba10uYXBwbHkodGhpcywgYXJndW1lbnRzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYodCA9PT0gdHJ1ZSl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAodCAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByID0gdDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0ID0gdGhpc1snb24nICsgdGkudG9Mb3dlckNhc2UoKV0pIHsNCiAgICAgICAgICAgICAgICByID0gdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiByOw0KICAgIH0NCn07DQovKioNCiAqIOiOt+W+l+WvueixoeaJgOaLpeacieebkeWQrOexu+Wei+eahOaJgOacieebkeWQrOWZqA0KICogQHVuZmlsZQ0KICogQG1vZHVsZSBVRQ0KICogQHNpbmNlIDEuMi42LjENCiAqIEBtZXRob2QgZ2V0TGlzdGVuZXINCiAqIEBwdWJsaWMNCiAqIEBwYXJhbSB7IE9iamVjdCB9IG9iaiAg5p+l6K+i55uR5ZCs5Zmo55qE5a+56LGhDQogKiBAcGFyYW0geyBTdHJpbmcgfSB0eXBlIOS6i+S7tuexu+Weiw0KICogQHBhcmFtIHsgQm9vbGVhbiB9IGZvcmNlICDkuLp0cnVl5LiU5b2T5YmN5omA5pyJdHlwZeexu+Wei+eahOS+puWQrOWZqOS4jeWtmOWcqOaXtu+8jOWIm+W7uuS4gOS4quepuuebkeWQrOWZqOaVsOe7hA0KICogQHJldHVybiB7IEFycmF5IH0g55uR5ZCs5Zmo5pWw57uEDQogKi8NCmZ1bmN0aW9uIGdldExpc3RlbmVyKG9iaiwgdHlwZSwgZm9yY2UpIHsNCiAgICB2YXIgYWxsTGlzdGVuZXJzOw0KICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7DQogICAgcmV0dXJuICggKCBhbGxMaXN0ZW5lcnMgPSAoIG9iai5fX2FsbExpc3RlbmVycyB8fCBmb3JjZSAmJiAoIG9iai5fX2FsbExpc3RlbmVycyA9IHt9ICkgKSApDQogICAgICAgICYmICggYWxsTGlzdGVuZXJzW3R5cGVdIHx8IGZvcmNlICYmICggYWxsTGlzdGVuZXJzW3R5cGVdID0gW10gKSApICk7DQp9DQoNCg0KLy8vaW1wb3J0IGVkaXRvci5qcw0KLy8vaW1wb3J0IGNvcmUvZG9tL2RvbS5qcw0KLy8vaW1wb3J0IGNvcmUvdXRpbHMuanMNCi8qDQogKiBkdGQgaHRtbOivreS5ieWMlueahOS9k+eOsOexuw0KICogQGNvbnN0cnVjdG9yDQogKiBAbmFtZXNwYWNlIGR0ZA0KICovDQp2YXIgZHRkID0gZG9tLmR0ZCA9IChmdW5jdGlvbigpIHsNCiAgICBmdW5jdGlvbiBfKCBzICkgew0KICAgICAgICBmb3IgKHZhciBrIGluIHMpIHsNCiAgICAgICAgICAgIHNbay50b1VwcGVyQ2FzZSgpXSA9IHNba107DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHM7DQogICAgfQ0KICAgIHZhciBYID0gdXRpbHMuZXh0ZW5kMjsNCiAgICB2YXIgQSA9IF8oe2lzaW5kZXg6MSxmaWVsZHNldDoxfSksDQogICAgICAgIEIgPSBfKHtpbnB1dDoxLGJ1dHRvbjoxLHNlbGVjdDoxLHRleHRhcmVhOjEsbGFiZWw6MX0pLA0KICAgICAgICBDID0gWCggXyh7YToxfSksIEIgKSwNCiAgICAgICAgRCA9IFgoIHtpZnJhbWU6MX0sIEMgKSwNCiAgICAgICAgRSA9IF8oe2hyOjEsdWw6MSxtZW51OjEsZGl2OjEsYmxvY2txdW90ZToxLG5vc2NyaXB0OjEsdGFibGU6MSxjZW50ZXI6MSxhZGRyZXNzOjEsZGlyOjEscHJlOjEsaDU6MSxkbDoxLGg0OjEsbm9mcmFtZXM6MSxoNjoxLG9sOjEsaDE6MSxoMzoxLGgyOjF9KSwNCiAgICAgICAgRiA9IF8oe2luczoxLGRlbDoxLHNjcmlwdDoxLHN0eWxlOjF9KSwNCiAgICAgICAgRyA9IFgoIF8oe2I6MSxhY3JvbnltOjEsYmRvOjEsJ3Zhcic6MSwnIyc6MSxhYmJyOjEsY29kZToxLGJyOjEsaToxLGNpdGU6MSxrYmQ6MSx1OjEsc3RyaWtlOjEsczoxLHR0OjEsc3Ryb25nOjEscToxLHNhbXA6MSxlbToxLGRmbjoxLHNwYW46MX0pLCBGICksDQogICAgICAgIEggPSBYKCBfKHtzdWI6MSxpbWc6MSxlbWJlZDoxLG9iamVjdDoxLHN1cDoxLGJhc2Vmb250OjEsbWFwOjEsYXBwbGV0OjEsZm9udDoxLGJpZzoxLHNtYWxsOjF9KSwgRyApLA0KICAgICAgICBJID0gWCggXyh7cDoxfSksIEggKSwNCiAgICAgICAgSiA9IFgoIF8oe2lmcmFtZToxfSksIEgsIEIgKSwNCiAgICAgICAgSyA9IF8oe2ltZzoxLGVtYmVkOjEsbm9zY3JpcHQ6MSxicjoxLGtiZDoxLGNlbnRlcjoxLGJ1dHRvbjoxLGJhc2Vmb250OjEsaDU6MSxoNDoxLHNhbXA6MSxoNjoxLG9sOjEsaDE6MSxoMzoxLGgyOjEsZm9ybToxLGZvbnQ6MSwnIyc6MSxzZWxlY3Q6MSxtZW51OjEsaW5zOjEsYWJicjoxLGxhYmVsOjEsY29kZToxLHRhYmxlOjEsc2NyaXB0OjEsY2l0ZToxLGlucHV0OjEsaWZyYW1lOjEsc3Ryb25nOjEsdGV4dGFyZWE6MSxub2ZyYW1lczoxLGJpZzoxLHNtYWxsOjEsc3BhbjoxLGhyOjEsc3ViOjEsYmRvOjEsJ3Zhcic6MSxkaXY6MSxvYmplY3Q6MSxzdXA6MSxzdHJpa2U6MSxkaXI6MSxtYXA6MSxkbDoxLGFwcGxldDoxLGRlbDoxLGlzaW5kZXg6MSxmaWVsZHNldDoxLHVsOjEsYjoxLGFjcm9ueW06MSxhOjEsYmxvY2txdW90ZToxLGk6MSx1OjEsczoxLHR0OjEsYWRkcmVzczoxLHE6MSxwcmU6MSxwOjEsZW06MSxkZm46MX0pLA0KDQogICAgICAgIEwgPSBYKCBfKHthOjB9KSwgSiApLC8vYeS4jeiDveiiq+WIh+W8gO+8jOaJgOS7peaKiuS7lg0KICAgICAgICBNID0gXyh7dHI6MX0pLA0KICAgICAgICBOID0gXyh7JyMnOjF9KSwNCiAgICAgICAgTyA9IFgoIF8oe3BhcmFtOjF9KSwgSyApLA0KICAgICAgICBQID0gWCggXyh7Zm9ybToxfSksIEEsIEQsIEUsIEkgKSwNCiAgICAgICAgUSA9IF8oe2xpOjEsb2w6MSx1bDoxfSksDQogICAgICAgIFIgPSBfKHtzdHlsZToxLHNjcmlwdDoxfSksDQogICAgICAgIFMgPSBfKHtiYXNlOjEsbGluazoxLG1ldGE6MSx0aXRsZToxfSksDQogICAgICAgIFQgPSBYKCBTLCBSICksDQogICAgICAgIFUgPSBfKHtoZWFkOjEsYm9keToxfSksDQogICAgICAgIFYgPSBfKHtodG1sOjF9KTsNCg0KICAgIHZhciBibG9jayA9IF8oe2FkZHJlc3M6MSxibG9ja3F1b3RlOjEsY2VudGVyOjEsZGlyOjEsZGl2OjEsZGw6MSxmaWVsZHNldDoxLGZvcm06MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxocjoxLGlzaW5kZXg6MSxtZW51OjEsbm9mcmFtZXM6MSxvbDoxLHA6MSxwcmU6MSx0YWJsZToxLHVsOjF9KSwNCg0KICAgICAgICBlbXB0eSA9ICBfKHthcmVhOjEsYmFzZToxLGJhc2Vmb250OjEsYnI6MSxjb2w6MSxjb21tYW5kOjEsZGlhbG9nOjEsZW1iZWQ6MSxocjoxLGltZzoxLGlucHV0OjEsaXNpbmRleDoxLGtleWdlbjoxLGxpbms6MSxtZXRhOjEscGFyYW06MSxzb3VyY2U6MSx0cmFjazoxLHdicjoxfSk7DQoNCiAgICByZXR1cm4gIF8oew0KDQogICAgICAgIC8vICQg6KGo56S66Ieq5a6a55qE5bGe5oCnDQoNCiAgICAgICAgLy8gYm9keeWklueahOWFg+e0oOWIl+ihqC4NCiAgICAgICAgJG5vbkJvZHlDb250ZW50OiBYKCBWLCBVLCBTICksDQoNCiAgICAgICAgLy/lnZfnu5PmnoTlhYPntKDliJfooagNCiAgICAgICAgJGJsb2NrIDogYmxvY2ssDQoNCiAgICAgICAgLy/lhoXogZTlhYPntKDliJfooagNCiAgICAgICAgJGlubGluZSA6IEwsDQoNCiAgICAgICAgJGlubGluZVdpdGhBIDogWChfKHthOjF9KSxMKSwNCg0KICAgICAgICAkYm9keSA6IFgoIF8oe3NjcmlwdDoxLHN0eWxlOjF9KSwgYmxvY2sgKSwNCg0KICAgICAgICAkY2RhdGEgOiBfKHtzY3JpcHQ6MSxzdHlsZToxfSksDQoNCiAgICAgICAgLy/oh6rpl63lkozlhYPntKANCiAgICAgICAgJGVtcHR5IDogZW1wdHksDQoNCiAgICAgICAgLy/kuI3mmK/oh6rpl63lkIjvvIzkvYbkuI3og73orqlyYW5nZemAieS4remHjOi+uQ0KICAgICAgICAkbm9uQ2hpbGQgOiBfKHtpZnJhbWU6MSx0ZXh0YXJlYToxfSksDQogICAgICAgIC8v5YiX6KGo5YWD57Sg5YiX6KGoDQogICAgICAgICRsaXN0SXRlbSA6IF8oe2RkOjEsZHQ6MSxsaToxfSksDQoNCiAgICAgICAgLy/liJfooajmoLnlhYPntKDliJfooagNCiAgICAgICAgJGxpc3Q6IF8oe3VsOjEsb2w6MSxkbDoxfSksDQoNCiAgICAgICAgLy/kuI3og73orqTkuLrmmK/nqbrnmoTlhYPntKANCiAgICAgICAgJGlzTm90RW1wdHkgOiBfKHt0YWJsZToxLHVsOjEsb2w6MSxkbDoxLGlmcmFtZToxLGFyZWE6MSxiYXNlOjEsY29sOjEsaHI6MSxpbWc6MSxlbWJlZDoxLGlucHV0OjEsbGluazoxLG1ldGE6MSxwYXJhbToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSksDQoNCiAgICAgICAgLy/lpoLmnpzmsqHmnInlrZDoioLngrnlsLHlj6/ku6XliKDpmaTnmoTlhYPntKDliJfooajvvIzlg49zcGFuLGENCiAgICAgICAgJHJlbW92ZUVtcHR5IDogXyh7YToxLGFiYnI6MSxhY3JvbnltOjEsYWRkcmVzczoxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHR0OjEsdToxLCd2YXInOjF9KSwNCg0KICAgICAgICAkcmVtb3ZlRW1wdHlCbG9jayA6IF8oeydwJzoxLCdkaXYnOjF9KSwNCg0KICAgICAgICAvL+WcqHRhYmxl5YWD57Sg6YeM55qE5YWD57Sg5YiX6KGoDQogICAgICAgICR0YWJsZUNvbnRlbnQgOiBfKHtjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MSx0YWJsZToxfSksDQogICAgICAgIC8v5LiN6L2s5o2i55qE5qCH562+DQogICAgICAgICRub3RUcmFuc0NvbnRlbnQgOiBfKHtwcmU6MSxzY3JpcHQ6MSxzdHlsZToxLHRleHRhcmVhOjF9KSwNCiAgICAgICAgaHRtbDogVSwNCiAgICAgICAgaGVhZDogVCwNCiAgICAgICAgc3R5bGU6IE4sDQogICAgICAgIHNjcmlwdDogTiwNCiAgICAgICAgYm9keTogUCwNCiAgICAgICAgYmFzZToge30sDQogICAgICAgIGxpbms6IHt9LA0KICAgICAgICBtZXRhOiB7fSwNCiAgICAgICAgdGl0bGU6IE4sDQogICAgICAgIGNvbCA6IHt9LA0KICAgICAgICB0ciA6IF8oe3RkOjEsdGg6MX0pLA0KICAgICAgICBpbWcgOiB7fSwNCiAgICAgICAgZW1iZWQ6IHt9LA0KICAgICAgICBjb2xncm91cCA6IF8oe3RoZWFkOjEsY29sOjEsdGJvZHk6MSx0cjoxLHRmb290OjF9KSwNCiAgICAgICAgbm9zY3JpcHQgOiBQLA0KICAgICAgICB0ZCA6IFAsDQogICAgICAgIGJyIDoge30sDQogICAgICAgIHRoIDogUCwNCiAgICAgICAgY2VudGVyIDogUCwNCiAgICAgICAga2JkIDogTCwNCiAgICAgICAgYnV0dG9uIDogWCggSSwgRSApLA0KICAgICAgICBiYXNlZm9udCA6IHt9LA0KICAgICAgICBoNSA6IEwsDQogICAgICAgIGg0IDogTCwNCiAgICAgICAgc2FtcCA6IEwsDQogICAgICAgIGg2IDogTCwNCiAgICAgICAgb2wgOiBRLA0KICAgICAgICBoMSA6IEwsDQogICAgICAgIGgzIDogTCwNCiAgICAgICAgb3B0aW9uIDogTiwNCiAgICAgICAgaDIgOiBMLA0KICAgICAgICBmb3JtIDogWCggQSwgRCwgRSwgSSApLA0KICAgICAgICBzZWxlY3QgOiBfKHtvcHRncm91cDoxLG9wdGlvbjoxfSksDQogICAgICAgIGZvbnQgOiBMLA0KICAgICAgICBpbnMgOiBMLA0KICAgICAgICBtZW51IDogUSwNCiAgICAgICAgYWJiciA6IEwsDQogICAgICAgIGxhYmVsIDogTCwNCiAgICAgICAgdGFibGUgOiBfKHt0aGVhZDoxLGNvbDoxLHRib2R5OjEsdHI6MSxjb2xncm91cDoxLGNhcHRpb246MSx0Zm9vdDoxfSksDQogICAgICAgIGNvZGUgOiBMLA0KICAgICAgICB0Zm9vdCA6IE0sDQogICAgICAgIGNpdGUgOiBMLA0KICAgICAgICBsaSA6IFAsDQogICAgICAgIGlucHV0IDoge30sDQogICAgICAgIGlmcmFtZSA6IFAsDQogICAgICAgIHN0cm9uZyA6IEwsDQogICAgICAgIHRleHRhcmVhIDogTiwNCiAgICAgICAgbm9mcmFtZXMgOiBQLA0KICAgICAgICBiaWcgOiBMLA0KICAgICAgICBzbWFsbCA6IEwsDQogICAgICAgIC8vdHJhY2U6DQogICAgICAgIHNwYW4gOl8oeycjJzoxLGJyOjEsYjoxLHN0cm9uZzoxLHU6MSxpOjEsZW06MSxzdWI6MSxzdXA6MSxzdHJpa2U6MSxzcGFuOjF9KSwNCiAgICAgICAgaHIgOiBMLA0KICAgICAgICBkdCA6IEwsDQogICAgICAgIHN1YiA6IEwsDQogICAgICAgIG9wdGdyb3VwIDogXyh7b3B0aW9uOjF9KSwNCiAgICAgICAgcGFyYW0gOiB7fSwNCiAgICAgICAgYmRvIDogTCwNCiAgICAgICAgJ3ZhcicgOiBMLA0KICAgICAgICBkaXYgOiBQLA0KICAgICAgICBvYmplY3QgOiBPLA0KICAgICAgICBzdXAgOiBMLA0KICAgICAgICBkZCA6IFAsDQogICAgICAgIHN0cmlrZSA6IEwsDQogICAgICAgIGFyZWEgOiB7fSwNCiAgICAgICAgZGlyIDogUSwNCiAgICAgICAgbWFwIDogWCggXyh7YXJlYToxLGZvcm06MSxwOjF9KSwgQSwgRiwgRSApLA0KICAgICAgICBhcHBsZXQgOiBPLA0KICAgICAgICBkbCA6IF8oe2R0OjEsZGQ6MX0pLA0KICAgICAgICBkZWwgOiBMLA0KICAgICAgICBpc2luZGV4IDoge30sDQogICAgICAgIGZpZWxkc2V0IDogWCggXyh7bGVnZW5kOjF9KSwgSyApLA0KICAgICAgICB0aGVhZCA6IE0sDQogICAgICAgIHVsIDogUSwNCiAgICAgICAgYWNyb255bSA6IEwsDQogICAgICAgIGIgOiBMLA0KICAgICAgICBhIDogWCggXyh7YToxfSksIEogKSwNCiAgICAgICAgYmxvY2txdW90ZSA6WChfKHt0ZDoxLHRyOjEsdGJvZHk6MSxsaToxfSksUCksDQogICAgICAgIGNhcHRpb24gOiBMLA0KICAgICAgICBpIDogTCwNCiAgICAgICAgdSA6IEwsDQogICAgICAgIHRib2R5IDogTSwNCiAgICAgICAgcyA6IEwsDQogICAgICAgIGFkZHJlc3MgOiBYKCBELCBJICksDQogICAgICAgIHR0IDogTCwNCiAgICAgICAgbGVnZW5kIDogTCwNCiAgICAgICAgcSA6IEwsDQogICAgICAgIHByZSA6IFgoIEcsIEMgKSwNCiAgICAgICAgcCA6IFgoXyh7J2EnOjF9KSxMKSwNCiAgICAgICAgZW0gOkwsDQogICAgICAgIGRmbiA6IEwNCiAgICB9KTsNCn0pKCk7DQoNCi8qKg0KICogRG9t5pON5L2c5bel5YW35YyFDQogKiBAZmlsZQ0KICogQG1vZHVsZSBVRS5kb20uZG9tVXRpbHMNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiBEb23mk43kvZzlt6XlhbfljIUNCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUuZG9tLmRvbVV0aWxzDQogKi8NCmZ1bmN0aW9uIGdldERvbU5vZGUobm9kZSwgc3RhcnQsIGx0ciwgc3RhcnRGcm9tQ2hpbGQsIGZuLCBndWFyZCkgew0KICAgIHZhciB0bXBOb2RlID0gc3RhcnRGcm9tQ2hpbGQgJiYgbm9kZVtzdGFydF0sDQogICAgICAgIHBhcmVudDsNCiAgICAhdG1wTm9kZSAmJiAodG1wTm9kZSA9IG5vZGVbbHRyXSk7DQogICAgd2hpbGUgKCF0bXBOb2RlICYmIChwYXJlbnQgPSAocGFyZW50IHx8IG5vZGUpLnBhcmVudE5vZGUpKSB7DQogICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PSAnQk9EWScgfHwgZ3VhcmQgJiYgIWd1YXJkKHBhcmVudCkpIHsNCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQogICAgICAgIHRtcE5vZGUgPSBwYXJlbnRbbHRyXTsNCiAgICB9DQogICAgaWYgKHRtcE5vZGUgJiYgZm4gJiYgIWZuKHRtcE5vZGUpKSB7DQogICAgICAgIHJldHVybiAgZ2V0RG9tTm9kZSh0bXBOb2RlLCBzdGFydCwgbHRyLCBmYWxzZSwgZm4pOw0KICAgIH0NCiAgICByZXR1cm4gdG1wTm9kZTsNCn0NCnZhciBhdHRyRml4ID0gaWUgJiYgYnJvd3Nlci52ZXJzaW9uIDwgOSA/IHsNCiAgICAgICAgdGFiaW5kZXg6InRhYkluZGV4IiwNCiAgICAgICAgcmVhZG9ubHk6InJlYWRPbmx5IiwNCiAgICAgICAgImZvciI6Imh0bWxGb3IiLA0KICAgICAgICAiY2xhc3MiOiJjbGFzc05hbWUiLA0KICAgICAgICBtYXhsZW5ndGg6Im1heExlbmd0aCIsDQogICAgICAgIGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsDQogICAgICAgIGNlbGxwYWRkaW5nOiJjZWxsUGFkZGluZyIsDQogICAgICAgIHJvd3NwYW46InJvd1NwYW4iLA0KICAgICAgICBjb2xzcGFuOiJjb2xTcGFuIiwNCiAgICAgICAgdXNlbWFwOiJ1c2VNYXAiLA0KICAgICAgICBmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiDQogICAgfSA6IHsNCiAgICAgICAgdGFiaW5kZXg6InRhYkluZGV4IiwNCiAgICAgICAgcmVhZG9ubHk6InJlYWRPbmx5Ig0KICAgIH0sDQogICAgc3R5bGVCbG9jayA9IHV0aWxzLmxpc3RUb01hcChbDQogICAgICAgICctd2Via2l0LWJveCcsICctbW96LWJveCcsICdibG9jaycgLA0KICAgICAgICAnbGlzdC1pdGVtJyAsICd0YWJsZScgLCAndGFibGUtcm93LWdyb3VwJyAsDQogICAgICAgICd0YWJsZS1oZWFkZXItZ3JvdXAnLCAndGFibGUtZm9vdGVyLWdyb3VwJyAsDQogICAgICAgICd0YWJsZS1yb3cnICwgJ3RhYmxlLWNvbHVtbi1ncm91cCcgLCAndGFibGUtY29sdW1uJyAsDQogICAgICAgICd0YWJsZS1jZWxsJyAsICd0YWJsZS1jYXB0aW9uJw0KICAgIF0pOw0KdmFyIGRvbVV0aWxzID0gZG9tLmRvbVV0aWxzID0gew0KICAgIC8v6IqC54K55bi46YePDQogICAgTk9ERV9FTEVNRU5UOjEsDQogICAgTk9ERV9ET0NVTUVOVDo5LA0KICAgIE5PREVfVEVYVDozLA0KICAgIE5PREVfQ09NTUVOVDo4LA0KICAgIE5PREVfRE9DVU1FTlRfRlJBR01FTlQ6MTEsDQoNCiAgICAvL+S9jee9ruWFs+ezuw0KICAgIFBPU0lUSU9OX0lERU5USUNBTDowLA0KICAgIFBPU0lUSU9OX0RJU0NPTk5FQ1RFRDoxLA0KICAgIFBPU0lUSU9OX0ZPTExPV0lORzoyLA0KICAgIFBPU0lUSU9OX1BSRUNFRElORzo0LA0KICAgIFBPU0lUSU9OX0lTX0NPTlRBSU5FRDo4LA0KICAgIFBPU0lUSU9OX0NPTlRBSU5TOjE2LA0KICAgIC8vaWU25L2/55So5YW25LuW55qE5Lya5pyJ5LiA5q6156m655m95Ye6546wDQogICAgZmlsbENoYXI6aWUgJiYgYnJvd3Nlci52ZXJzaW9uID09ICc2JyA/ICdcdWZlZmYnIDogJ1x1MjAwQicsDQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tTm9kZemDqOWIhi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAga2V5czp7DQogICAgICAgIC8qQmFja3NwYWNlKi8gODoxLCAvKkRlbGV0ZSovIDQ2OjEsDQogICAgICAgIC8qU2hpZnQqLyAxNjoxLCAvKkN0cmwqLyAxNzoxLCAvKkFsdCovIDE4OjEsDQogICAgICAgIDM3OjEsIDM4OjEsIDM5OjEsIDQwOjEsDQogICAgICAgIDEzOjEgLyplbnRlciovDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDojrflj5boioLngrlB55u45a+55LqO6IqC54K5QueahOS9jee9ruWFs+ezuw0KICAgICAqIEBtZXRob2QgZ2V0UG9zaXRpb24NCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZUEg6ZyA6KaB5p+l6K+i5L2N572u5YWz57O755qE6IqC54K5QQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlQiDpnIDopoHmn6Xor6LkvY3nva7lhbPns7vnmoToioLngrlCDQogICAgICogQHJldHVybiB7IE51bWJlciB9IOiKgueCuUHkuI7oioLngrlC55qE5YWz57O7DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogLy9vdXRwdXQ6IDIwDQogICAgICogdmFyIHBvc2l0aW9uID0gVUUuZG9tLmRvbVV0aWxzLmdldFBvc2l0aW9uKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50LmJvZHkgKTsNCiAgICAgKg0KICAgICAqIHN3aXRjaCAoIHBvc2l0aW9uICkgew0KICAgICAqDQogICAgICogICAgICAvLzANCiAgICAgKiAgICAgIGNhc2UgVUUuZG9tLmRvbVV0aWxzLlBPU0lUSU9OX0lERU5USUNBTDoNCiAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZygn5YWD57Sg55u45ZCMJyk7DQogICAgICogICAgICAgICAgYnJlYWs7DQogICAgICogICAgICAvLzENCiAgICAgKiAgICAgIGNhc2UgVUUuZG9tLmRvbVV0aWxzLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRDoNCiAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZygn5Lik5Liq6IqC54K55Zyo5LiN5ZCM55qE5paH5qGj5LitJyk7DQogICAgICogICAgICAgICAgYnJlYWs7DQogICAgICogICAgICAvLzINCiAgICAgKiAgICAgIGNhc2UgVUUuZG9tLmRvbVV0aWxzLlBPU0lUSU9OX0ZPTExPV0lORzoNCiAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZygn6IqC54K5QeWcqOiKgueCuULkuYvlkI4nKTsNCiAgICAgKiAgICAgICAgICBicmVhazsNCiAgICAgKiAgICAgIC8vNA0KICAgICAqICAgICAgY2FzZSBVRS5kb20uZG9tVXRpbHMuUE9TSVRJT05fUFJFQ0VESU5HOw0KICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCfoioLngrlB5Zyo6IqC54K5QuS5i+WJjScpOw0KICAgICAqICAgICAgICAgIGJyZWFrOw0KICAgICAqICAgICAgLy84DQogICAgICogICAgICBjYXNlIFVFLmRvbS5kb21VdGlscy5QT1NJVElPTl9JU19DT05UQUlORUQ6DQogICAgICogICAgICAgICAgY29uc29sZS5sb2coJ+iKgueCuUHooqvoioLngrlC5YyF5ZCrJyk7DQogICAgICogICAgICAgICAgYnJlYWs7DQogICAgICogICAgICBjYXNlIDEwOg0KICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCfoioLngrlB6KKr6IqC54K5QuWMheWQq+S4lOiKgueCuUHlnKjoioLngrlC5LmL5ZCOJyk7DQogICAgICogICAgICAgICAgYnJlYWs7DQogICAgICogICAgICAvLzE2DQogICAgICogICAgICBjYXNlIFVFLmRvbS5kb21VdGlscy5QT1NJVElPTl9DT05UQUlOUzoNCiAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZygn6IqC54K5QeWMheWQq+iKgueCuUInKTsNCiAgICAgKiAgICAgICAgICBicmVhazsNCiAgICAgKiAgICAgIGNhc2UgMjA6DQogICAgICogICAgICAgICAgY29uc29sZS5sb2coJ+iKgueCuUHljIXlkKvoioLngrlC5LiU6IqC54K5QeWcqOiKgueCuULkuYvliY0nKTsNCiAgICAgKiAgICAgICAgICBicmVhazsNCiAgICAgKg0KICAgICAqIH0NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBnZXRQb3NpdGlvbjpmdW5jdGlvbiAobm9kZUEsIG5vZGVCKSB7DQogICAgICAgIC8vIOWmguaenOS4pOS4quiKgueCueaYr+WQjOS4gOS4quiKgueCuQ0KICAgICAgICBpZiAobm9kZUEgPT09IG5vZGVCKSB7DQogICAgICAgICAgICAvLyBkb21VdGlscy5QT1NJVElPTl9JREVOVElDQUwNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHZhciBub2RlLA0KICAgICAgICAgICAgcGFyZW50c0EgPSBbbm9kZUFdLA0KICAgICAgICAgICAgcGFyZW50c0IgPSBbbm9kZUJdOw0KICAgICAgICBub2RlID0gbm9kZUE7DQogICAgICAgIHdoaWxlIChub2RlID0gbm9kZS5wYXJlbnROb2RlKSB7DQogICAgICAgICAgICAvLyDlpoLmnpxub2RlQuaYr25vZGVB55qE56WW5YWI6IqC54K5DQogICAgICAgICAgICBpZiAobm9kZSA9PT0gbm9kZUIpIHsNCiAgICAgICAgICAgICAgICAvLyBkb21VdGlscy5QT1NJVElPTl9JU19DT05UQUlORUQgKyBkb21VdGlscy5QT1NJVElPTl9GT0xMT1dJTkcNCiAgICAgICAgICAgICAgICByZXR1cm4gMTA7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwYXJlbnRzQS5wdXNoKG5vZGUpOw0KICAgICAgICB9DQogICAgICAgIG5vZGUgPSBub2RlQjsNCiAgICAgICAgd2hpbGUgKG5vZGUgPSBub2RlLnBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgIC8vIOWmguaenG5vZGVB5pivbm9kZULnmoTnpZblhYjoioLngrkNCiAgICAgICAgICAgIGlmIChub2RlID09PSBub2RlQSkgew0KICAgICAgICAgICAgICAgIC8vIGRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TICsgZG9tVXRpbHMuUE9TSVRJT05fUFJFQ0VESU5HDQogICAgICAgICAgICAgICAgcmV0dXJuIDIwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcGFyZW50c0IucHVzaChub2RlKTsNCiAgICAgICAgfQ0KICAgICAgICBwYXJlbnRzQS5yZXZlcnNlKCk7DQogICAgICAgIHBhcmVudHNCLnJldmVyc2UoKTsNCiAgICAgICAgaWYgKHBhcmVudHNBWzBdICE9PSBwYXJlbnRzQlswXSkgew0KICAgICAgICAgICAgLy8gZG9tVXRpbHMuUE9TSVRJT05fRElTQ09OTkVDVEVEDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgaSA9IC0xOw0KICAgICAgICB3aGlsZSAoaSsrLCBwYXJlbnRzQVtpXSA9PT0gcGFyZW50c0JbaV0pIHsNCiAgICAgICAgfQ0KICAgICAgICBub2RlQSA9IHBhcmVudHNBW2ldOw0KICAgICAgICBub2RlQiA9IHBhcmVudHNCW2ldOw0KICAgICAgICB3aGlsZSAobm9kZUEgPSBub2RlQS5uZXh0U2libGluZykgew0KICAgICAgICAgICAgaWYgKG5vZGVBID09PSBub2RlQikgew0KICAgICAgICAgICAgICAgIC8vIGRvbVV0aWxzLlBPU0lUSU9OX1BSRUNFRElORw0KICAgICAgICAgICAgICAgIHJldHVybiA0DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy8gZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HDQogICAgICAgIHJldHVybiAgMjsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog5qOA5rWL6IqC54K5bm9kZeWcqOeItuiKgueCueS4reeahOe0ouW8leS9jee9rg0KICAgICAqIEBtZXRob2QgZ2V0Tm9kZUluZGV4DQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5qOA5rWL55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IE51bWJlciB9IOivpeiKgueCueWcqOeItuiKgueCueS4reeahOS9jee9rg0KICAgICAqIEBzZWUgVUUuZG9tLmRvbVV0aWxzLmdldE5vZGVJbmRleChOb2RlLEJvb2xlYW4pDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDmo4DmtYvoioLngrlub2Rl5Zyo54i26IqC54K55Lit55qE57Si5byV5L2N572u77yMIOagueaNrue7meWumueahG1lcmdlVGV4dE5vZGXlj4LmlbDlhrPlrprmmK/lkKbopoHlkIjlubblpJrkuKrov57nu63nmoTmlofmnKzoioLngrnkuLrkuIDkuKroioLngrkNCiAgICAgKiBAbWV0aG9kIGdldE5vZGVJbmRleA0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBtZXJnZVRleHROb2RlIOaYr+WQpuWQiOW5tuWkmuS4qui/nue7reeahOaWh+acrOiKgueCueS4uuS4gOS4quiKgueCuQ0KICAgICAqIEByZXR1cm4geyBOdW1iZXIgfSDor6XoioLngrnlnKjniLboioLngrnkuK3nmoTkvY3nva4NCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgKg0KICAgICAqICAgICAgbm9kZS5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoICJoZWxsbyIgKSApOw0KICAgICAqICAgICAgbm9kZS5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoICJ3b3JsZCIgKSApOw0KICAgICAqICAgICAgbm9kZS5hcHBlbmRDaGlsZCggbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICkgKTsNCiAgICAgKg0KICAgICAqICAgICAgLy9vdXRwdXQ6IDINCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KCBub2RlICkgKTsNCiAgICAgKg0KICAgICAqICAgICAgLy9vdXRwdXQ6IDENCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KCBub2RlLCB0cnVlICkgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGdldE5vZGVJbmRleDpmdW5jdGlvbiAobm9kZSwgaWdub3JlVGV4dE5vZGUpIHsNCiAgICAgICAgdmFyIHByZU5vZGUgPSBub2RlLA0KICAgICAgICAgICAgaSA9IDA7DQogICAgICAgIHdoaWxlIChwcmVOb2RlID0gcHJlTm9kZS5wcmV2aW91c1NpYmxpbmcpIHsNCiAgICAgICAgICAgIGlmIChpZ25vcmVUZXh0Tm9kZSAmJiBwcmVOb2RlLm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICBpZihwcmVOb2RlLm5vZGVUeXBlICE9IHByZU5vZGUubmV4dFNpYmxpbmcubm9kZVR5cGUgKXsNCiAgICAgICAgICAgICAgICAgICAgaSsrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGkrKzsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog5qOA5rWL6IqC54K5bm9kZeaYr+WQpuWcqOe7meWumueahGRvY3VtZW505a+56LGh5LiKDQogICAgICogQG1ldGhvZCBpbkRvYw0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IERvbURvY3VtZW50IH0gZG9jIOmcgOimgeajgOa1i+eahGRvY3VtZW505a+56LGhDQogICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDor6XoioLngrlub2Rl5piv5ZCm5Zyo57uZ5a6a55qEZG9jdW1lbnTnmoRkb23moJHkuIoNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogZmFsc2UNCiAgICAgKiBjb25zb2xlLmxvZyggVUUuZG8uZG9tVXRpbHMuaW5Eb2MoIG5vZGUsIGRvY3VtZW50ICkgKTsNCiAgICAgKg0KICAgICAqIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIG5vZGUgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiB0cnVlDQogICAgICogY29uc29sZS5sb2coIFVFLmRvLmRvbVV0aWxzLmluRG9jKCBub2RlLCBkb2N1bWVudCApICk7DQogICAgICoNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBpbkRvYzpmdW5jdGlvbiAobm9kZSwgZG9jKSB7DQogICAgICAgIHJldHVybiBkb21VdGlscy5nZXRQb3NpdGlvbihub2RlLCBkb2MpID09IDEwOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5qC55o2u57uZ5a6a55qE6L+H5ruk6KeE5YiZZmlsdGVyRm7vvIwg5p+l5om+56ym5ZCI6K+l6L+H5ruk6KeE5YiZ55qEbm9kZeiKgueCueeahOesrOS4gOS4quelluWFiOiKgueCue+8jA0KICAgICAqIOafpeaJvueahOi1t+eCueaYr+e7meWumm5vZGXoioLngrnnmoTniLboioLngrnjgIINCiAgICAgKiBAbWV0aG9kIGZpbmRQYXJlbnQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmn6Xmib7nmoToioLngrkNCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZpbHRlckZuIOiHquWumuS5ieeahOi/h+a7pOaWueazleOAgg0KICAgICAqIEB3YXJuaW5nIOafpeaJvueahOe7iOeCueaYr+WIsGJvZHnoioLngrnkuLrmraINCiAgICAgKiBAcmVtaW5kIOiHquWumuS5ieeahOi/h+a7pOaWueazlWZpbHRlckZu5o6l5Y+X5LiA5LiqTm9kZeWvueixoeS9nOS4uuWPguaVsO+8jCDor6Xlr7nosaHku6PooajlvZPliY3miafooYzmo4DmtYvnmoTnpZblhYjoioLngrnjgIIg5aaC5p6c6K+lDQogICAgICogICAgICAgICAg6IqC54K55ruh6Laz6L+H5ruk5p2h5Lu277yMIOWImeimgeaxgui/lOWbnnRydWXvvIwg6L+Z5pe25bCG55u05o6l6L+U5Zue6K+l6IqC54K55L2c5Li6ZmluZFBhcmVudCgp55qE57uT5p6c77yMIOWQpuWIme+8jCDor7fov5Tlm55mYWxzZeOAgg0KICAgICAqIEByZXR1cm4geyBOb2RlIHwgTnVsbCB9IOWmguaenOaJvuWIsOespuWQiOi/h+a7pOadoeS7tueahOiKgueCue+8jCDlsLHov5Tlm57or6XoioLngrnvvIwg5ZCm5YiZ6L+U5ZueTlVMTA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBmaWx0ZXJOb2RlID0gVUUuZG9tLmRvbVV0aWxzLmZpbmRQYXJlbnQoIGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCwgZnVuY3Rpb24gKCBub2RlICkgew0KICAgICAqDQogICAgICogICAgIC8v55Sx5LqO5p+l5om+55qE57uI54K55pivYm9keeiKgueCue+8jCDmiYDku6XmsLjov5zkuZ/kuI3kvJrljLnphY3lvZPliY3ov4fmu6TlmajnmoTmnaHku7bvvIwg5Y2z6L+Z6YeM5rC46L+c5Lya6L+U5ZueZmFsc2UNCiAgICAgKiAgICAgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gIkhUTUwiOw0KICAgICAqDQogICAgICogfSApOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IHRydWUNCiAgICAgKiBjb25zb2xlLmxvZyggZmlsdGVyTm9kZSA9PT0gbnVsbCApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5qC55o2u57uZ5a6a55qE6L+H5ruk6KeE5YiZZmlsdGVyRm7vvIwg5p+l5om+56ym5ZCI6K+l6L+H5ruk6KeE5YiZ55qEbm9kZeiKgueCueeahOesrOS4gOS4quelluWFiOiKgueCue+8jA0KICAgICAqIOWmguaenGluY2x1ZGVTZWxm55qE5YC85Li6dHJ1Ze+8jOWImeafpeaJvueahOi1t+eCueaYr+e7meWumueahOiKgueCuW5vZGXvvIwg5ZCm5YiZ77yMIOi1t+eCueaYr25vZGXnmoTniLboioLngrkNCiAgICAgKiBAbWV0aG9kIGZpbmRQYXJlbnQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmn6Xmib7nmoToioLngrkNCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZpbHRlckZuIOiHquWumuS5ieeahOi/h+a7pOaWueazleOAgg0KICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpbmNsdWRlU2VsZiDmn6Xmib7ov4fnqIvmmK/lkKbljIXlkKvoh6rouqsNCiAgICAgKiBAd2FybmluZyDmn6Xmib7nmoTnu4jngrnmmK/liLBib2R56IqC54K55Li65q2iDQogICAgICogQHJlbWluZCDoh6rlrprkuYnnmoTov4fmu6Tmlrnms5VmaWx0ZXJGbuaOpeWPl+S4gOS4qk5vZGXlr7nosaHkvZzkuLrlj4LmlbDvvIwg6K+l5a+56LGh5Luj6KGo5b2T5YmN5omn6KGM5qOA5rWL55qE56WW5YWI6IqC54K544CCIOWmguaenOivpQ0KICAgICAqICAgICAgICAgIOiKgueCuea7oei2s+i/h+a7pOadoeS7tu+8jCDliJnopoHmsYLov5Tlm550cnVl77yMIOi/meaXtuWwhuebtOaOpei/lOWbnuivpeiKgueCueS9nOS4umZpbmRQYXJlbnQoKeeahOe7k+aenO+8jCDlkKbliJnvvIwg6K+36L+U5ZueZmFsc2XjgIINCiAgICAgKiBAcmVtaW5kIOWmguaenGluY2x1ZGVTZWxm5Li6dHJ1Ze+8jCDliJnov4fmu6TlmajnrKzkuIDmrKHmiafooYzml7bnmoTlj4LmlbDkvJrmmK/oioLngrnmnKzouqvjgIINCiAgICAgKiAgICAgICAgICDlj43kuYvvvIwg6L+H5ruk5Zmo56ys5LiA5qyh5omn6KGM5pe255qE5Y+C5pWw5bCG5piv6K+l6IqC54K555qE54i26IqC54K544CCDQogICAgICogQHJldHVybiB7IE5vZGUgfCBOdWxsIH0g5aaC5p6c5om+5Yiw56ym5ZCI6L+H5ruk5p2h5Lu255qE6IqC54K577yMIOWwsei/lOWbnuivpeiKgueCue+8jCDlkKbliJnov5Tlm55OVUxMDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGJvZHk+DQogICAgICoNCiAgICAgKiAgICAgIDxkaXYgaWQ9InRlc3QiPg0KICAgICAqICAgICAgPC9kaXY+DQogICAgICoNCiAgICAgKiAgICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCiAgICAgKg0KICAgICAqICAgICAgICAgIC8vb3V0cHV0OiBESVYsIEJPRFkNCiAgICAgKiAgICAgICAgICB2YXIgZmlsdGVyTm9kZSA9IFVFLmRvbS5kb21VdGlscy5maW5kUGFyZW50KCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggInRlc3QiICksIGZ1bmN0aW9uICggbm9kZSApIHsNCiAgICAgKg0KICAgICAqICAgICAgICAgICAgICBjb25zb2xlLmxvZyggbm9kZS50YWdOYW1lICk7DQogICAgICogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgKg0KICAgICAqICAgICAgICAgIH0sIHRydWUgKTsNCiAgICAgKg0KICAgICAqICAgICAgPC9zY3JpcHQ+DQogICAgICogPC9ib2R5Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGZpbmRQYXJlbnQ6ZnVuY3Rpb24gKG5vZGUsIGZpbHRlckZuLCBpbmNsdWRlU2VsZikgew0KICAgICAgICBpZiAobm9kZSAmJiAhZG9tVXRpbHMuaXNCb2R5KG5vZGUpKSB7DQogICAgICAgICAgICBub2RlID0gaW5jbHVkZVNlbGYgPyBub2RlIDogbm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgd2hpbGUgKG5vZGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWZpbHRlckZuIHx8IGZpbHRlckZuKG5vZGUpIHx8IGRvbVV0aWxzLmlzQm9keShub2RlKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyRm4gJiYgIWZpbHRlckZuKG5vZGUpICYmIGRvbVV0aWxzLmlzQm9keShub2RlKSA/IG51bGwgOiBub2RlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5p+l5om+bm9kZeeahOiKgueCueWQjeS4unRhZ05hbWXnmoTnrKzkuIDkuKrnpZblhYjoioLngrnvvIwg5p+l5om+55qE6LW354K55pivbm9kZeiKgueCueeahOeItuiKgueCueOAgg0KICAgICAqIEBtZXRob2QgZmluZFBhcmVudEJ5VGFnTmFtZQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeafpeaJvueahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gdGFnTmFtZXMg6ZyA6KaB5p+l5om+55qE54i26IqC54K555qE5ZCN56ew5pWw57uEDQogICAgICogQHdhcm5pbmcg5p+l5om+55qE57uI54K55piv5YiwYm9keeiKgueCueS4uuatog0KICAgICAqIEByZXR1cm4geyBOb2RlIHwgTlVMTCB9IOWmguaenOaJvuWIsOespuWQiOadoeS7tueahOiKgueCue+8jCDliJnov5Tlm57or6XoioLngrnvvIwg5ZCm5YiZ6L+U5ZueTlVMTA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBub2RlID0gVUUuZG9tLmRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJkaXYiKVswXSwgWyAiQk9EWSIgXSApOw0KICAgICAqIC8vb3V0cHV0OiBCT0RZDQogICAgICogY29uc29sZS5sb2coIG5vZGUudGFnTmFtZSApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5p+l5om+bm9kZeeahOiKgueCueWQjeS4unRhZ05hbWXnmoTnpZblhYjoioLngrnvvIwg5aaC5p6caW5jbHVkZVNlbGbnmoTlgLzkuLp0cnVl77yM5YiZ5p+l5om+55qE6LW354K55piv57uZ5a6a55qE6IqC54K5bm9kZe+8jA0KICAgICAqIOWQpuWIme+8jCDotbfngrnmmK9ub2Rl55qE54i26IqC54K544CCDQogICAgICogQG1ldGhvZCBmaW5kUGFyZW50QnlUYWdOYW1lDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5p+l5om+55qE6IqC54K55a+56LGhDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSB0YWdOYW1lcyDpnIDopoHmn6Xmib7nmoTniLboioLngrnnmoTlkI3np7DmlbDnu4QNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaW5jbHVkZVNlbGYg5p+l5om+6L+H56iL5piv5ZCm5YyF5ZCrbm9kZeiKgueCueiHqui6qw0KICAgICAqIEB3YXJuaW5nIOafpeaJvueahOe7iOeCueaYr+WIsGJvZHnoioLngrnkuLrmraINCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB8IE5VTEwgfSDlpoLmnpzmib7liLDnrKblkIjmnaHku7bnmoToioLngrnvvIwg5YiZ6L+U5Zue6K+l6IqC54K577yMIOWQpuWImei/lOWbnk5VTEwNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiB2YXIgcXVlcnlUYXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2IilbMF07DQogICAgICogdmFyIG5vZGUgPSBVRS5kb20uZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSggcXVlcnlUYXJnZXQsIFsgIkRJViIgXSwgdHJ1ZSApOw0KICAgICAqIC8vb3V0cHV0OiB0cnVlDQogICAgICogY29uc29sZS5sb2coIHF1ZXJ5VGFyZ2V0ID09PSBub2RlICk7DQogICAgICogYGBgDQogICAgICovDQogICAgZmluZFBhcmVudEJ5VGFnTmFtZTpmdW5jdGlvbiAobm9kZSwgdGFnTmFtZXMsIGluY2x1ZGVTZWxmLCBleGNsdWRlRm4pIHsNCiAgICAgICAgdGFnTmFtZXMgPSB1dGlscy5saXN0VG9NYXAodXRpbHMuaXNBcnJheSh0YWdOYW1lcykgPyB0YWdOYW1lcyA6IFt0YWdOYW1lc10pOw0KICAgICAgICByZXR1cm4gZG9tVXRpbHMuZmluZFBhcmVudChub2RlLCBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgcmV0dXJuIHRhZ05hbWVzW25vZGUudGFnTmFtZV0gJiYgIShleGNsdWRlRm4gJiYgZXhjbHVkZUZuKG5vZGUpKTsNCiAgICAgICAgfSwgaW5jbHVkZVNlbGYpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5p+l5om+6IqC54K5bm9kZeeahOelluWFiOiKgueCuembhuWQiO+8jCDmn6Xmib7nmoTotbfngrnmmK/nu5nlrproioLngrnnmoTniLboioLngrnvvIznu5Pmnpzpm4bkuK3kuI3ljIXlkKvnu5nlrprnmoToioLngrnjgIINCiAgICAgKiBAbWV0aG9kIGZpbmRQYXJlbnRzDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5p+l5om+55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IEFycmF5IH0g57uZ5a6a6IqC54K555qE56WW5YWI6IqC54K55pWw57uEDQogICAgICogQGdyYW1tYXIgVUUuZG9tLmRvbVV0aWxzLmZpbmRQYXJlbnRzKG5vZGUpICA9PiBBcnJheSAgLy/ov5Tlm57kuIDkuKrnpZblhYjoioLngrnmlbDnu4Tpm4blkIjvvIzkuI3ljIXlkKvoh6rouqsNCiAgICAgKiBAZ3JhbW1hciBVRS5kb20uZG9tVXRpbHMuZmluZFBhcmVudHMobm9kZSxpbmNsdWRlU2VsZikgID0+IEFycmF5ICAvL+i/lOWbnuS4gOS4quelluWFiOiKgueCueaVsOe7hOmbhuWQiO+8jGluY2x1ZGVTZWxm5oyH5a6a5piv5ZCm5YyF5ZCr6Ieq6LqrDQogICAgICogQGdyYW1tYXIgVUUuZG9tLmRvbVV0aWxzLmZpbmRQYXJlbnRzKG5vZGUsaW5jbHVkZVNlbGYsZmlsdGVyRm4pICA9PiBBcnJheSAgLy/ov5Tlm57kuIDkuKrnpZblhYjoioLngrnmlbDnu4Tpm4blkIjvvIxmaWx0ZXJGbuaMh+Wumui/h+a7pOadoeS7tu+8jOi/lOWbnnRydWXnmoRub2Rl5bCG6KKr6YCJ5Y+WDQogICAgICogQGdyYW1tYXIgVUUuZG9tLmRvbVV0aWxzLmZpbmRQYXJlbnRzKG5vZGUsaW5jbHVkZVNlbGYsZmlsdGVyRm4sY2xvc2VyRmlyc3QpICA9PiBBcnJheSAgLy/ov5Tlm57kuIDkuKrnpZblhYjoioLngrnmlbDnu4Tpm4blkIjvvIxjbG9zZXJGaXJzdOS4unRydWXnmoTor53vvIxub2Rl55qE55u05o6l54i25Lqy6IqC54K55piv5pWw57uE55qE56ysMOS4qg0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5p+l5om+6IqC54K5bm9kZeeahOelluWFiOiKgueCuembhuWQiO+8jCDlpoLmnpxpbmNsdWRlU2VsZueahOWAvOS4unRydWXvvIwNCiAgICAgKiDliJnov5Tlm57nmoTnu5Pmnpzpm4bkuK3lhYHorrjlh7rnjrDlvZPliY3nu5nlrprnmoToioLngrnvvIwg5ZCm5YiZ77yMIOivpeiKgueCueS4jeS8muWHuueOsOWcqOWFtue7k+aenOmbhuS4reOAgg0KICAgICAqIEBtZXRob2QgZmluZFBhcmVudHMNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmn6Xmib7nmoToioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaW5jbHVkZVNlbGYg5p+l5om+55qE57uT5p6c5Lit5piv5ZCm5YWB6K645YyF5ZCr5b2T5YmN5p+l5om+55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IEFycmF5IH0g57uZ5a6a6IqC54K555qE56WW5YWI6IqC54K55pWw57uEDQogICAgICovDQogICAgZmluZFBhcmVudHM6ZnVuY3Rpb24gKG5vZGUsIGluY2x1ZGVTZWxmLCBmaWx0ZXJGbiwgY2xvc2VyRmlyc3QpIHsNCiAgICAgICAgdmFyIHBhcmVudHMgPSBpbmNsdWRlU2VsZiAmJiAoIGZpbHRlckZuICYmIGZpbHRlckZuKG5vZGUpIHx8ICFmaWx0ZXJGbiApID8gW25vZGVdIDogW107DQogICAgICAgIHdoaWxlIChub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudChub2RlLCBmaWx0ZXJGbikpIHsNCiAgICAgICAgICAgIHBhcmVudHMucHVzaChub2RlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY2xvc2VyRmlyc3QgPyBwYXJlbnRzIDogcGFyZW50cy5yZXZlcnNlKCk7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWcqOiKgueCuW5vZGXlkI7pnaLmj5LlhaXmlrDoioLngrluZXdOb2RlDQogICAgICogQG1ldGhvZCBpbnNlcnRBZnRlcg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOebruagh+iKgueCuQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBuZXdOb2RlIOaWsOaPkuWFpeeahOiKgueCue+8jCDor6XoioLngrnlsIbnva7kuo7nm67moIfoioLngrnkuYvlkI4NCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB9IOaWsOaPkuWFpeeahOiKgueCuQ0KICAgICAqLw0KICAgIGluc2VydEFmdGVyOmZ1bmN0aW9uIChub2RlLCBuZXdOb2RlKSB7DQogICAgICAgIHJldHVybiBub2RlLm5leHRTaWJsaW5nID8gbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCBub2RlLm5leHRTaWJsaW5nKToNCiAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog5Yig6Zmk6IqC54K5bm9kZeWPiuWFtuS4i+WxnueahOaJgOacieiKgueCuQ0KICAgICAqIEBtZXRob2QgcmVtb3ZlDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5Yig6Zmk55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IE5vZGUgfSDov5Tlm57liJrliKDpmaTnmoToioLngrnlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0Ij4NCiAgICAgKiAgICAgPGRpdiBpZD0iY2hpbGQiPuS9oOWlvTwvZGl2Pg0KICAgICAqIDwvZGl2Pg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgIFVFLmRvbS5kb21VdGlscy5yZW1vdmUoIGRvY3VtZW50LmJvZHksIGZhbHNlICk7DQogICAgICogICAgIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJjaGlsZCIgKSAhPT0gbnVsbCApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Yig6Zmk6IqC54K5bm9kZe+8jOW5tuagueaNrmtlZXBDaGlsZHJlbueahOWAvOWGs+WumuaYr+WQpuS/neeVmeWtkOiKgueCuQ0KICAgICAqIEBtZXRob2QgcmVtb3ZlDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5Yig6Zmk55qE6IqC54K55a+56LGhDQogICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGtlZXBDaGlsZHJlbiDmmK/lkKbpnIDopoHkv53nlZnlrZDoioLngrkNCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB9IOi/lOWbnuWImuWIoOmZpOeahOiKgueCueWvueixoQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPg0KICAgICAqICAgICA8ZGl2IGlkPSJjaGlsZCI+5L2g5aW9PC9kaXY+DQogICAgICogPC9kaXY+DQogICAgICogPHNjcmlwdD4NCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLnJlbW92ZSggZG9jdW1lbnQuYm9keSwgdHJ1ZSApOw0KICAgICAqICAgICAvL291dHB1dDogdHJ1ZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJjaGlsZCIgKSAhPT0gbnVsbCApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHJlbW92ZTpmdW5jdGlvbiAobm9kZSwga2VlcENoaWxkcmVuKSB7DQogICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUsDQogICAgICAgICAgICBjaGlsZDsNCiAgICAgICAgaWYgKHBhcmVudCkgew0KICAgICAgICAgICAgaWYgKGtlZXBDaGlsZHJlbiAmJiBub2RlLmhhc0NoaWxkTm9kZXMoKSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IG5vZGUuZmlyc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLCBub2RlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobm9kZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG5vZGU7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWPluW+l25vZGXoioLngrnnmoTkuIvkuIDkuKrlhYTlvJ/oioLngrnvvIwg5aaC5p6c6K+l6IqC54K55YW25ZCO5rKh5pyJ5YWE5byf6IqC54K577yMIOWImemAkuW9kuafpeaJvuWFtueItuiKgueCueS5i+WQjueahOesrOS4gOS4quWFhOW8n+iKgueCue+8jA0KICAgICAqIOebtOWIsOaJvuWIsOa7oei2s+adoeS7tueahOiKgueCueaIluiAhemAkuW9kuWIsEJPRFnoioLngrnkuYvlkI7miY3kvJrnu5PmnZ/jgIINCiAgICAgKiBAbWV0aG9kIGdldE5leHREb21Ob2RlDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB6I635Y+W5YW25ZCO55qE5YWE5byf6IqC54K555qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IE5vZGUgfCBOVUxMIH0g5aaC5p6c5om+5ruh6Laz5p2h5Lu255qE6IqC54K577yMIOWImei/lOWbnuivpeiKgueCue+8jCDlkKbliJnov5Tlm55OVUxMDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogICAgIDxib2R5Pg0KICAgICAqICAgICAgPGRpdiBpZD0idGVzdCI+DQogICAgICogICAgICAgICAgPHNwYW4+PC9zcGFuPg0KICAgICAqICAgICAgPC9kaXY+DQogICAgICogICAgICA8aT54eHg8L2k+DQogICAgICogPC9ib2R5Pg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGnoioLngrkNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5nZXROZXh0RG9tTm9kZSggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJ0ZXN0IiApICkgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxib2R5Pg0KICAgICAqICAgICAgPGRpdj4NCiAgICAgKiAgICAgICAgICA8c3Bhbj48L3NwYW4+DQogICAgICogICAgICAgICAgPGkgaWQ9InRlc3QiPnh4eDwvaT4NCiAgICAgKiAgICAgIDwvZGl2Pg0KICAgICAqICAgICAgPGI+eHh4PC9iPg0KICAgICAqIDwvYm9keT4NCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIC8v55Sx5LqOaWTkuLp0ZXN055qEaeiKgueCueS5i+WQjuayoeacieWFhOW8n+iKgueCue+8jCDliJnmn6Xmib7lhbbniLboioLngrnvvIhkaXbvvInlkI7pnaLnmoTlhYTlvJ/oioLngrkNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGLoioLngrkNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5nZXROZXh0RG9tTm9kZSggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJ0ZXN0IiApICkgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Y+W5b6Xbm9kZeiKgueCueeahOS4i+S4gOS4quWFhOW8n+iKgueCue+8jCDlpoLmnpxzdGFydEZyb21DaGlsZOeahOWAvOS4unR1cmXvvIzliJnlhYjojrflj5blhbblrZDoioLngrnvvIwNCiAgICAgKiDlpoLmnpzmnInlrZDoioLngrnliJnnm7TmjqXov5Tlm57nrKzkuIDkuKrlrZDoioLngrnvvJvlpoLmnpzmsqHmnInlrZDoioLngrnmiJbogIVzdGFydEZyb21DaGlsZOeahOWAvOS4umZhbHNl77yMDQogICAgICog5YiZ5omn6KGMPGEgaHJlZj0iI1VFLmRvbS5kb21VdGlscy5nZXROZXh0RG9tTm9kZShOb2RlKSI+Z2V0TmV4dERvbU5vZGUoTm9kZSBub2RlKTwvYT7nmoTmn6Xmib7ov4fnqIvjgIINCiAgICAgKiBAbWV0aG9kIGdldE5leHREb21Ob2RlDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB6I635Y+W5YW25ZCO55qE5YWE5byf6IqC54K555qE6IqC54K55a+56LGhDQogICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IHN0YXJ0RnJvbUNoaWxkIOafpeaJvui/h+eoi+aYr+WQpuS7juWFtuWtkOiKgueCueW8gOWniw0KICAgICAqIEByZXR1cm4geyBOb2RlIHwgTlVMTCB9IOWmguaenOaJvua7oei2s+adoeS7tueahOiKgueCue+8jCDliJnov5Tlm57or6XoioLngrnvvIwg5ZCm5YiZ6L+U5ZueTlVMTA0KICAgICAqIEBzZWUgVUUuZG9tLmRvbVV0aWxzLmdldE5leHREb21Ob2RlKE5vZGUpDQogICAgICovDQogICAgZ2V0TmV4dERvbU5vZGU6ZnVuY3Rpb24gKG5vZGUsIHN0YXJ0RnJvbUNoaWxkLCBmaWx0ZXJGbiwgZ3VhcmQpIHsNCiAgICAgICAgcmV0dXJuIGdldERvbU5vZGUobm9kZSwgJ2ZpcnN0Q2hpbGQnLCAnbmV4dFNpYmxpbmcnLCBzdGFydEZyb21DaGlsZCwgZmlsdGVyRm4sIGd1YXJkKTsNCiAgICB9LA0KICAgIGdldFByZURvbU5vZGU6ZnVuY3Rpb24gKG5vZGUsIHN0YXJ0RnJvbUNoaWxkLCBmaWx0ZXJGbiwgZ3VhcmQpIHsNCiAgICAgICAgcmV0dXJuIGdldERvbU5vZGUobm9kZSwgJ2xhc3RDaGlsZCcsICdwcmV2aW91c1NpYmxpbmcnLCBzdGFydEZyb21DaGlsZCwgZmlsdGVyRm4sIGd1YXJkKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOajgOa1i+iKgueCuW5vZGXmmK/lkKblsZ7mmK9VRWRpdG9y5a6a5LmJ55qEYm9va21hcmvoioLngrkNCiAgICAgKiBAbWV0aG9kIGlzQm9va21hcmtOb2RlDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmo4DmtYvnmoToioLngrnlr7nosaENCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOaYr+WQpuaYr2Jvb2ttYXJr6IqC54K5DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHNwYW4gaWQ9Il9iYWlkdV9ib29rbWFya18xIj48L3NwYW4+DQogICAgICogPHNjcmlwdD4NCiAgICAgKiAgICAgIHZhciBib29rbWFya05vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiX2JhaWR1X2Jvb2ttYXJrXzEiKTsNCiAgICAgKiAgICAgIC8vb3V0cHV0OiB0cnVlDQogICAgICogICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzQm9va21hcmtOb2RlKCBib29rbWFya05vZGUgKSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlzQm9va21hcmtOb2RlOmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS5pZCAmJiAvXl9iYWlkdV9ib29rbWFya18vaS50ZXN0KG5vZGUuaWQpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6I635Y+W6IqC54K5bm9kZeaJgOWxnueahHdpbmRvd+WvueixoQ0KICAgICAqIEBtZXRob2QgIGdldFdpbmRvdw0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOiKgueCueWvueixoQ0KICAgICAqIEByZXR1cm4geyBXaW5kb3cgfSDlvZPliY3oioLngrnmiYDlsZ7nmoR3aW5kb3flr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuZ2V0V2luZG93KCBkb2N1bWVudC5ib2R5ICkgPT09IHdpbmRvdyApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGdldFdpbmRvdzpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICB2YXIgZG9jID0gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGU7DQogICAgICAgIHJldHVybiBkb2MuZGVmYXVsdFZpZXcgfHwgZG9jLnBhcmVudFdpbmRvdzsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiOt+WPluemu25vZGVB5LiObm9kZULmnIDov5HnmoTlhazlhbHnmoTnpZblhYjoioLngrkNCiAgICAgKiBAbWV0aG9kICBnZXRDb21tb25BbmNlc3Rvcg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlQSDnrKzkuIDkuKroioLngrkNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZUIg56ys5LqM5Liq6IqC54K5DQogICAgICogQHJlbWluZCDlpoLmnpznu5nlrprnmoTkuKTkuKroioLngrnmmK/lkIzkuIDkuKroioLngrnvvIwg5bCG55u05o6l6L+U5Zue6K+l6IqC54K544CCDQogICAgICogQHJldHVybiB7IE5vZGUgfCBOVUxMIH0g5aaC5p6c5pyq5om+5Yiw5YWs5YWx6IqC54K577yMIOi/lOWbnk5VTEzvvIwg5ZCm5YiZ6L+U5Zue5pyA6L+R55qE5YWs5YWx56WW5YWI6IqC54K544CCDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGNvbW1vbkFuY2VzdG9yID0gVUUuZG9tLmRvbVV0aWxzLmdldENvbW1vbkFuY2VzdG9yKCBkb2N1bWVudC5ib2R5LCBkb2N1bWVudC5ib2R5LmZpcnN0Q2hpbGQgKTsNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBjb21tb25BbmNlc3Rvci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdib2R5JyApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uIChub2RlQSwgbm9kZUIpIHsNCiAgICAgICAgaWYgKG5vZGVBID09PSBub2RlQikNCiAgICAgICAgICAgIHJldHVybiBub2RlQTsNCiAgICAgICAgdmFyIHBhcmVudHNBID0gW25vZGVBXSAsIHBhcmVudHNCID0gW25vZGVCXSwgcGFyZW50ID0gbm9kZUEsIGkgPSAtMTsNCiAgICAgICAgd2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKSB7DQogICAgICAgICAgICBpZiAocGFyZW50ID09PSBub2RlQikgew0KICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwYXJlbnRzQS5wdXNoKHBhcmVudCk7DQogICAgICAgIH0NCiAgICAgICAgcGFyZW50ID0gbm9kZUI7DQogICAgICAgIHdoaWxlIChwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZSkgew0KICAgICAgICAgICAgaWYgKHBhcmVudCA9PT0gbm9kZUEpDQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDsNCiAgICAgICAgICAgIHBhcmVudHNCLnB1c2gocGFyZW50KTsNCiAgICAgICAgfQ0KICAgICAgICBwYXJlbnRzQS5yZXZlcnNlKCk7DQogICAgICAgIHBhcmVudHNCLnJldmVyc2UoKTsNCiAgICAgICAgd2hpbGUgKGkrKywgcGFyZW50c0FbaV0gPT09IHBhcmVudHNCW2ldKSB7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGkgPT0gMCA/IG51bGwgOiBwYXJlbnRzQVtpIC0gMV07DQoNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOa4hemZpG5vZGXoioLngrnlt6blj7Pov57nu63kuLrnqbrnmoTlhYTlvJ9pbmxpbmXoioLngrkNCiAgICAgKiBAbWV0aG9kIGNsZWFyRW1wdHlTaWJsaW5nDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg5omn6KGM55qE6IqC54K55a+56LGh77yMIOWmguaenOivpeiKgueCueeahOW3puWPs+i/nue7reeahOWFhOW8n+iKgueCueaYr+epuueahGlubGluZeiKgueCue+8jA0KICAgICAqIOWImei/meS6m+WFhOW8n+iKgueCueWwhuiiq+WIoOmZpA0KICAgICAqIEBncmFtbWFyIFVFLmRvbS5kb21VdGlscy5jbGVhckVtcHR5U2libGluZyhub2RlLGlnbm9yZU5leHQpICAvL2lnbm9yZU5leHTmjIflrprmmK/lkKblv73nlaXlj7PovrnnqbroioLngrkNCiAgICAgKiBAZ3JhbW1hciBVRS5kb20uZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcobm9kZSxpZ25vcmVOZXh0LGlnbm9yZVByZSkgIC8vaWdub3JlUHJl5oyH5a6a5piv5ZCm5b+955Wl5bem6L6556m66IqC54K5DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGJvZHk+DQogICAgICogICAgIDxkaXY+PC9kaXY+DQogICAgICogICAgIDxzcGFuIGlkPSJ0ZXN0Ij48L3NwYW4+DQogICAgICogICAgIDxpPjwvaT4NCiAgICAgKiAgICAgPGI+PC9iPg0KICAgICAqICAgICA8ZW0+eHh4PC9lbT4NCiAgICAgKiAgICAgPHNwYW4+PC9zcGFuPg0KICAgICAqIDwvYm9keT4NCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgICBVRS5kb20uZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKSApOw0KICAgICAqDQogICAgICogICAgICAvL291dHB1dDogPGRpdj48L2Rpdj48c3BhbiBpZD0idGVzdCI+PC9zcGFuPjxlbT54eHg8L2VtPjxzcGFuPjwvc3Bhbj4NCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBkb2N1bWVudC5ib2R5LmlubmVySFRNTCApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDmuIXpmaRub2Rl6IqC54K55bem5Y+z6L+e57ut5Li656m655qE5YWE5byfaW5saW5l6IqC54K577yMIOWmguaenGlnbm9yZU5leHTnmoTlgLzkuLp0cnVl77yMDQogICAgICog5YiZ5b+955Wl5a+55Y+z6L655YWE5byf6IqC54K555qE5pON5L2c44CCDQogICAgICogQG1ldGhvZCBjbGVhckVtcHR5U2libGluZw0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOaJp+ihjOeahOiKgueCueWvueixoe+8jCDlpoLmnpzor6XoioLngrnnmoTlt6blj7Pov57nu63nmoTlhYTlvJ/oioLngrnmmK/nqbrnmoRpbmxpbmXoioLngrnvvIwNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaWdub3JlTmV4dCDmmK/lkKblv73nlaXlv73nlaXlr7nlj7PovrnnmoTlhYTlvJ/oioLngrnnmoTmk43kvZwNCiAgICAgKiDliJnov5nkupvlhYTlvJ/oioLngrnlsIbooqvliKDpmaQNCiAgICAgKiBAc2VlIFVFLmRvbS5kb21VdGlscy5jbGVhckVtcHR5U2libGluZyhOb2RlKQ0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5riF6Zmkbm9kZeiKgueCueW3puWPs+i/nue7reS4uuepuueahOWFhOW8n2lubGluZeiKgueCue+8jCDlpoLmnpxpZ25vcmVOZXh055qE5YC85Li6dHJ1Ze+8jA0KICAgICAqIOWImeW/veeVpeWvueWPs+i+ueWFhOW8n+iKgueCueeahOaTjeS9nO+8jCDlpoLmnpxpZ25vcmVQcmXnmoTlgLzkuLp0cnVl77yM5YiZ5b+955Wl5a+55bem6L655YWE5byf6IqC54K555qE5pON5L2c44CCDQogICAgICogQG1ldGhvZCBjbGVhckVtcHR5U2libGluZw0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOaJp+ihjOeahOiKgueCueWvueixoe+8jCDlpoLmnpzor6XoioLngrnnmoTlt6blj7Pov57nu63nmoTlhYTlvJ/oioLngrnmmK/nqbrnmoRpbmxpbmXoioLngrnvvIwNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaWdub3JlTmV4dCDmmK/lkKblv73nlaXlv73nlaXlr7nlj7PovrnnmoTlhYTlvJ/oioLngrnnmoTmk43kvZwNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaWdub3JlUHJlIOaYr+WQpuW/veeVpeW/veeVpeWvueW3pui+ueeahOWFhOW8n+iKgueCueeahOaTjeS9nA0KICAgICAqIOWImei/meS6m+WFhOW8n+iKgueCueWwhuiiq+WIoOmZpA0KICAgICAqIEBzZWUgVUUuZG9tLmRvbVV0aWxzLmNsZWFyRW1wdHlTaWJsaW5nKE5vZGUpDQogICAgICovDQogICAgY2xlYXJFbXB0eVNpYmxpbmc6ZnVuY3Rpb24gKG5vZGUsIGlnbm9yZU5leHQsIGlnbm9yZVByZSkgew0KICAgICAgICBmdW5jdGlvbiBjbGVhcihuZXh0LCBkaXIpIHsNCiAgICAgICAgICAgIHZhciB0bXBOb2RlOw0KICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5leHQpICYmIChkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudChuZXh0KQ0KICAgICAgICAgICAgICAgIC8v6L+Z6YeM5LiN6IO95oqK56m65qC8566X6L+b5p2l5Lya5ZCn56m65qC85bmy5o6J77yM5Ye6546w5paH5a2X6Ze055qE56m65qC85Lii5o6J5LqGDQogICAgICAgICAgICAgICAgfHwgIW5ldyBSZWdFeHAoJ1teXHRcblxyJyArIGRvbVV0aWxzLmZpbGxDaGFyICsgJ10nKS50ZXN0KG5leHQubm9kZVZhbHVlKSApKSB7DQogICAgICAgICAgICAgICAgdG1wTm9kZSA9IG5leHRbZGlyXTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dCk7DQogICAgICAgICAgICAgICAgbmV4dCA9IHRtcE5vZGU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgIWlnbm9yZU5leHQgJiYgY2xlYXIobm9kZS5uZXh0U2libGluZywgJ25leHRTaWJsaW5nJyk7DQogICAgICAgICFpZ25vcmVQcmUgJiYgY2xlYXIobm9kZS5wcmV2aW91c1NpYmxpbmcsICdwcmV2aW91c1NpYmxpbmcnKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWwhuS4gOS4quaWh+acrOiKgueCuXRleHROb2Rl5ouG5YiG5oiQ5Lik5Liq5paH5pys6IqC54K577yMb2Zmc2V05oyH5a6a5ouG5YiG5L2N572uDQogICAgICogQG1ldGhvZCBzcGxpdA0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSB0ZXh0Tm9kZSDpnIDopoHmi4bliIbnmoTmlofmnKzoioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBpbnQgfSBvZmZzZXQg6ZyA6KaB5ouG5YiG55qE5L2N572u77yMIOS9jee9ruiuoeeul+S7jjDlvIDlp4sNCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB9IOaLhuWIhuWQjuW9ouaIkOeahOaWsOiKgueCuQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPmFiY2RlZjwvZGl2Pg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgICB2YXIgbmV3Tm9kZSA9IFVFLmRvbS5kb21VdGlscy5zcGxpdCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJ0ZXN0IiApLmZpcnN0Q2hpbGQsIDMgKTsNCiAgICAgKiAgICAgIC8vb3V0cHV0OiBkZWYNCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBuZXdOb2RlLm5vZGVWYWx1ZSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHNwbGl0OmZ1bmN0aW9uIChub2RlLCBvZmZzZXQpIHsNCiAgICAgICAgdmFyIGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDsNCiAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgb2Zmc2V0ID09IG5vZGUubm9kZVZhbHVlLmxlbmd0aCkgew0KICAgICAgICAgICAgdmFyIG5leHQgPSBkb2MuY3JlYXRlVGV4dE5vZGUoJycpOw0KICAgICAgICAgICAgcmV0dXJuIGRvbVV0aWxzLmluc2VydEFmdGVyKG5vZGUsIG5leHQpOw0KICAgICAgICB9DQogICAgICAgIHZhciByZXR2YWwgPSBub2RlLnNwbGl0VGV4dChvZmZzZXQpOw0KICAgICAgICAvL2llOOS4i3NwbGl0VGV4dOS4jeS8mui3n+aWsGNoaWxkTm9kZXMs5oiR5Lus5omL5Yqo6Kem5Y+R5LuW55qE5pu05pawDQogICAgICAgIGlmIChicm93c2VyLmllOCkgew0KICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBkb2MuY3JlYXRlVGV4dE5vZGUoJycpOw0KICAgICAgICAgICAgZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIocmV0dmFsLCB0bXBOb2RlKTsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmV0dmFsOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDmo4DmtYvmlofmnKzoioLngrl0ZXh0Tm9kZeaYr+WQpuS4uuepuuiKgueCue+8iOWMheaLrOepuuagvOOAgeaNouihjOOAgeWNoOS9jeespuetieWtl+espu+8iQ0KICAgICAqIEBtZXRob2QgIGlzV2hpdGVzcGFjZQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCueWvueixoQ0KICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g5qOA5rWL55qE6IqC54K55piv5ZCm5Li656m6DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGRpdiBpZD0idGVzdCI+DQogICAgICoNCiAgICAgKiA8L2Rpdj4NCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqICAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpLmZpcnN0Q2hpbGQgKSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlzV2hpdGVzcGFjZTpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICByZXR1cm4gIW5ldyBSZWdFeHAoJ1teIFx0XG5ccicgKyBkb21VdGlscy5maWxsQ2hhciArICddJykudGVzdChub2RlLm5vZGVWYWx1ZSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDojrflj5blhYPntKBlbGVtZW5055u45a+55LqOdmlld3BvcnTnmoTkvY3nva7lnZDmoIcNCiAgICAgKiBAbWV0aG9kIGdldFhZDQogICAgICogQHBhcmFtIHsgTm9kZSB9IGVsZW1lbnQg6ZyA6KaB6K6h566X5L2N572u55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IE9iamVjdCB9IOi/lOWbnuW9ouWmgnt4OmxlZnQseTp0b3B955qE5LiA5Liqa2V5LXZhbHVl5pig5bCE5a+56LGh77yMIOWFtuS4remUrnjku6PooajmsLTlubPlgY/np7vot53nprvvvIwNCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgeeS7o+ihqOWeguebtOWBj+enu+i3neemu+OAgg0KICAgICAqDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGxvY2F0aW9uID0gVUUuZG9tLmRvbVV0aWxzLmdldFhZKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpICk7DQogICAgICogLy9vdXRwdXQ6IHRlc3TnmoTlnZDmoIfkuLo6IDEyLCAyNA0KICAgICAqIGNvbnNvbGUubG9nKCAndGVzdOeahOWdkOagh+S4uu+8miAnLCBsb2NhdGlvbi54LCAnLCcsIGxvY2F0aW9uLnkgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBnZXRYWTpmdW5jdGlvbiAoZWxlbWVudCkgew0KICAgICAgICB2YXIgeCA9IDAsIHkgPSAwOw0KICAgICAgICB3aGlsZSAoZWxlbWVudC5vZmZzZXRQYXJlbnQpIHsNCiAgICAgICAgICAgIHkgKz0gZWxlbWVudC5vZmZzZXRUb3A7DQogICAgICAgICAgICB4ICs9IGVsZW1lbnQub2Zmc2V0TGVmdDsNCiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50Lm9mZnNldFBhcmVudDsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4geyAneCc6eCwgJ3knOnl9Ow0KICAgIH0sDQogICAgLyoqDQogICAgICog5Li65YWD57SgZWxlbWVudOe7keWumuWOn+eUn0RPTeS6i+S7tu+8jHR5cGXkuLrkuovku7bnsbvlnovvvIxoYW5kbGVy5Li65aSE55CG5Ye95pWwDQogICAgICogQG1ldGhvZCBvbg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBlbGVtZW50IOmcgOimgee7keWumuS6i+S7tueahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHR5cGUg57uR5a6a55qE5LqL5Lu257G75Z6LDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBoYW5kbGVyIOS6i+S7tuWkhOeQhuWZqA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIFVFLmRvbS5kb21VdGlscy5vbihkb2N1bWVudC5ib2R5LCJjbGljayIsZnVuY3Rpb24oZSl7DQogICAgICogICAgIC8vZeS4uuS6i+S7tuWvueixoe+8jHRoaXPkuLrooqvngrnlh7vlhYPntKDlr7nmiI/pgqPkuKoNCiAgICAgKiB9KTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOS4uuWFg+e0oGVsZW1lbnTnu5Hlrprljp/nlJ9ET03kuovku7bvvIx0eXBl5Li65LqL5Lu257G75Z6L77yMaGFuZGxlcuS4uuWkhOeQhuWHveaVsA0KICAgICAqIEBtZXRob2Qgb24NCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gZWxlbWVudCDpnIDopoHnu5Hlrprkuovku7bnmoToioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IHR5cGUg57uR5a6a55qE5LqL5Lu257G75Z6L5pWw57uEDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBoYW5kbGVyIOS6i+S7tuWkhOeQhuWZqA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIFVFLmRvbS5kb21VdGlscy5vbihkb2N1bWVudC5ib2R5LFsiY2xpY2siLCJtb3VzZWRvd24iXSxmdW5jdGlvbihldnQpew0KICAgICAqICAgICAvL2V2dOS4uuS6i+S7tuWvueixoe+8jHRoaXPkuLrooqvngrnlh7vlhYPntKDlr7nosaENCiAgICAgKiB9KTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBvbjpmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikgew0KDQogICAgICAgIHZhciB0eXBlcyA9IHV0aWxzLmlzQXJyYXkodHlwZSkgPyB0eXBlIDogdXRpbHMudHJpbSh0eXBlKS5zcGxpdCgvXHMrLyksDQogICAgICAgICAgICBrID0gdHlwZXMubGVuZ3RoOw0KICAgICAgICBpZiAoaykgd2hpbGUgKGstLSkgew0KICAgICAgICAgICAgdHlwZSA9IHR5cGVzW2tdOw0KICAgICAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikgew0KICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGVyLCBmYWxzZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5fZCkgew0KICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLl9kID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzIDogW10NCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGtleSA9IHR5cGUgKyBoYW5kbGVyLnRvU3RyaW5nKCksaW5kZXggPSB1dGlscy5pbmRleE9mKGhhbmRsZXIuX2QuZWxzLGVsZW1lbnQpOw0KICAgICAgICAgICAgICAgIGlmICghaGFuZGxlci5fZFtrZXldIHx8IGluZGV4ID09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID09IC0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuX2QuZWxzLnB1c2goZWxlbWVudCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYoIWhhbmRsZXIuX2Rba2V5XSl7DQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLl9kW2tleV0gPSBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZXIuY2FsbChldnQuc3JjRWxlbWVudCwgZXZ0IHx8IHdpbmRvdy5ldmVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmF0dGFjaEV2ZW50KCdvbicgKyB0eXBlLCBoYW5kbGVyLl9kW2tleV0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbGVtZW50ID0gbnVsbDsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOino+mZpERPTeS6i+S7tue7keWumg0KICAgICAqIEBtZXRob2QgdW4NCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gZWxlbWVudCDpnIDopoHop6PpmaTkuovku7bnu5HlrprnmoToioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0eXBlIOmcgOimgeaOpeinpue7keWumueahOS6i+S7tuexu+Weiw0KICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gaGFuZGxlciDlr7nlupTnmoTkuovku7blpITnkIblmagNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBVRS5kb20uZG9tVXRpbHMudW4oZG9jdW1lbnQuYm9keSwiY2xpY2siLGZ1bmN0aW9uKGV2dCl7DQogICAgICogICAgIC8vZXZ05Li65LqL5Lu25a+56LGh77yMdGhpc+S4uuiiq+eCueWHu+WFg+e0oOWvueixoQ0KICAgICAqIH0pOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog6Kej6ZmkRE9N5LqL5Lu257uR5a6aDQogICAgICogQG1ldGhvZCB1bg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBlbGVtZW50IOmcgOimgeino+mZpOS6i+S7tue7keWumueahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gdHlwZSDpnIDopoHmjqXop6bnu5HlrprnmoTkuovku7bnsbvlnovmlbDnu4QNCiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGhhbmRsZXIg5a+55bqU55qE5LqL5Lu25aSE55CG5ZmoDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogVUUuZG9tLmRvbVV0aWxzLnVuKGRvY3VtZW50LmJvZHksIFsiY2xpY2siLCJtb3VzZWRvd24iXSxmdW5jdGlvbihldnQpew0KICAgICAqICAgICAvL2V2dOS4uuS6i+S7tuWvueixoe+8jHRoaXPkuLrooqvngrnlh7vlhYPntKDlr7nosaENCiAgICAgKiB9KTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICB1bjpmdW5jdGlvbiAoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikgew0KICAgICAgICB2YXIgdHlwZXMgPSB1dGlscy5pc0FycmF5KHR5cGUpID8gdHlwZSA6IHV0aWxzLnRyaW0odHlwZSkuc3BsaXQoL1xzKy8pLA0KICAgICAgICAgICAgayA9IHR5cGVzLmxlbmd0aDsNCiAgICAgICAgaWYgKGspIHdoaWxlIChrLS0pIHsNCiAgICAgICAgICAgIHR5cGUgPSB0eXBlc1trXTsNCiAgICAgICAgICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdHlwZSArIGhhbmRsZXIudG9TdHJpbmcoKTsNCiAgICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuZGV0YWNoRXZlbnQoJ29uJyArIHR5cGUsIGhhbmRsZXIuX2QgPyBoYW5kbGVyLl9kW2tleV0gOiBoYW5kbGVyKTsNCiAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7fQ0KICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLl9kICYmIGhhbmRsZXIuX2Rba2V5XSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB1dGlscy5pbmRleE9mKGhhbmRsZXIuX2QuZWxzLGVsZW1lbnQpOw0KICAgICAgICAgICAgICAgICAgICBpZihpbmRleCE9LTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5fZC5lbHMuc3BsaWNlKGluZGV4LDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGhhbmRsZXIuX2QuZWxzLmxlbmd0aCA9PSAwICYmIGRlbGV0ZSBoYW5kbGVyLl9kW2tleV07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOavlOi+g+iKgueCuW5vZGVB5LiO6IqC54K5bm9kZULmmK/lkKblhbfmnInnm7jlkIznmoTmoIfnrb7lkI3jgIHlsZ7mgKflkI3ku6Xlj4rlsZ7mgKflgLwNCiAgICAgKiBAbWV0aG9kICBpc1NhbWVFbGVtZW50DQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGVBIOmcgOimgeavlOi+g+eahOiKgueCuQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlQiDpnIDopoHmr5TovoPnmoToioLngrkNCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOS4pOS4quiKgueCueaYr+WQpuWFt+acieebuOWQjOeahOagh+etvuWQjeOAgeWxnuaAp+WQjeS7peWPiuWxnuaAp+WAvA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTJweCI+c3Nzczwvc3Bhbj4NCiAgICAgKiA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjEycHgiPmJiYmJiPC9zcGFuPg0KICAgICAqIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTNweCI+c3Nzczwvc3Bhbj4NCiAgICAgKiA8c3BhbiBzdHlsZT0iZm9udC1zaXplOjE0cHgiPmJiYmJiPC9zcGFuPg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKg0KICAgICAqICAgICB2YXIgbm9kZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSggInNwYW4iICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5pc1NhbWVFbGVtZW50KCBub2Rlc1swXSwgbm9kZXNbMV0gKSApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzU2FtZUVsZW1lbnQoIG5vZGVzWzJdLCBub2Rlc1szXSApICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBpc1NhbWVFbGVtZW50OmZ1bmN0aW9uIChub2RlQSwgbm9kZUIpIHsNCiAgICAgICAgaWYgKG5vZGVBLnRhZ05hbWUgIT0gbm9kZUIudGFnTmFtZSkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIHZhciB0aGlzQXR0cnMgPSBub2RlQS5hdHRyaWJ1dGVzLA0KICAgICAgICAgICAgb3RoZXJBdHRycyA9IG5vZGVCLmF0dHJpYnV0ZXM7DQogICAgICAgIGlmICghaWUgJiYgdGhpc0F0dHJzLmxlbmd0aCAhPSBvdGhlckF0dHJzLmxlbmd0aCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIHZhciBhdHRyQSwgYXR0ckIsIGFsID0gMCwgYmwgPSAwOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgYXR0ckEgPSB0aGlzQXR0cnNbaSsrXTspIHsNCiAgICAgICAgICAgIGlmIChhdHRyQS5ub2RlTmFtZSA9PSAnc3R5bGUnKSB7DQogICAgICAgICAgICAgICAgaWYgKGF0dHJBLnNwZWNpZmllZCkgew0KICAgICAgICAgICAgICAgICAgICBhbCsrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNTYW1lU3R5bGUobm9kZUEsIG5vZGVCKSkgew0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGllKSB7DQogICAgICAgICAgICAgICAgaWYgKGF0dHJBLnNwZWNpZmllZCkgew0KICAgICAgICAgICAgICAgICAgICBhbCsrOw0KICAgICAgICAgICAgICAgICAgICBhdHRyQiA9IG90aGVyQXR0cnMuZ2V0TmFtZWRJdGVtKGF0dHJBLm5vZGVOYW1lKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGF0dHJCID0gbm9kZUIuYXR0cmlidXRlc1thdHRyQS5ub2RlTmFtZV07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoIWF0dHJCLnNwZWNpZmllZCB8fCBhdHRyQS5ub2RlVmFsdWUgIT0gYXR0ckIubm9kZVZhbHVlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8vIOacieWPr+iDvWF0dHJC55qE5bGe5oCn5YyF5ZCr5LqGYXR0ckHnmoTlsZ7mgKfkuYvlpJbov5jmnInoh6rlt7HnmoTlsZ7mgKcNCiAgICAgICAgaWYgKGllKSB7DQogICAgICAgICAgICBmb3IgKGkgPSAwOyBhdHRyQiA9IG90aGVyQXR0cnNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBpZiAoYXR0ckIuc3BlY2lmaWVkKSB7DQogICAgICAgICAgICAgICAgICAgIGJsKys7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGFsICE9IGJsKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDliKTmlq3oioLngrlub2RlQeS4juiKgueCuW5vZGVC55qE5YWD57Sg55qEc3R5bGXlsZ7mgKfmmK/lkKbkuIDoh7QNCiAgICAgKiBAbWV0aG9kIGlzU2FtZVN0eWxlDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGVBIOmcgOimgeavlOi+g+eahOiKgueCuQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlQiDpnIDopoHmr5TovoPnmoToioLngrkNCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOS4pOS4quiKgueCueaYr+WQpuWFt+acieebuOWQjOeahHN0eWxl5bGe5oCn5YC8DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMnB4Ij5zc3NzPC9zcGFuPg0KICAgICAqIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTJweCI+YmJiYmI8L3NwYW4+DQogICAgICogPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxM3B4Ij5zc3NzPC9zcGFuPg0KICAgICAqIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTRweCI+YmJiYmI8L3NwYW4+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIHZhciBub2RlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCAic3BhbiIgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogdHJ1ZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzU2FtZVN0eWxlKCBub2Rlc1swXSwgbm9kZXNbMV0gKSApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzU2FtZVN0eWxlKCBub2Rlc1syXSwgbm9kZXNbM10gKSApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQogICAgaXNTYW1lU3R5bGU6ZnVuY3Rpb24gKG5vZGVBLCBub2RlQikgew0KICAgICAgICB2YXIgc3R5bGVBID0gbm9kZUEuc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC8oID87ID8pL2csICc7JykucmVwbGFjZSgvKCA/OiA/KS9nLCAnOicpLA0KICAgICAgICAgICAgc3R5bGVCID0gbm9kZUIuc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC8oID87ID8pL2csICc7JykucmVwbGFjZSgvKCA/OiA/KS9nLCAnOicpOw0KICAgICAgICBpZiAoYnJvd3Nlci5vcGVyYSkgew0KICAgICAgICAgICAgc3R5bGVBID0gbm9kZUEuc3R5bGU7DQogICAgICAgICAgICBzdHlsZUIgPSBub2RlQi5zdHlsZTsNCiAgICAgICAgICAgIGlmIChzdHlsZUEubGVuZ3RoICE9IHN0eWxlQi5sZW5ndGgpDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzdHlsZUEpIHsNCiAgICAgICAgICAgICAgICBpZiAoL14oXGQrfGNzc3RleHQpJC9pLnRlc3QocCkpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzdHlsZUFbcF0gIT0gc3R5bGVCW3BdKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIXN0eWxlQSB8fCAhc3R5bGVCKSB7DQogICAgICAgICAgICByZXR1cm4gc3R5bGVBID09IHN0eWxlQjsNCiAgICAgICAgfQ0KICAgICAgICBzdHlsZUEgPSBzdHlsZUEuc3BsaXQoJzsnKTsNCiAgICAgICAgc3R5bGVCID0gc3R5bGVCLnNwbGl0KCc7Jyk7DQogICAgICAgIGlmIChzdHlsZUEubGVuZ3RoICE9IHN0eWxlQi5sZW5ndGgpIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gc3R5bGVBW2krK107KSB7DQogICAgICAgICAgICBpZiAodXRpbHMuaW5kZXhPZihzdHlsZUIsIGNpKSA9PSAtMSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOajgOafpeiKgueCuW5vZGXmmK/lkKbkuLpibG9ja+WFg+e0oA0KICAgICAqIEBtZXRob2QgaXNCbG9ja0VsbQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCueWvueixoQ0KICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g5piv5ZCm5pivYmxvY2vlhYPntKDoioLngrkNCiAgICAgKiBAd2FybmluZyDor6Xmlrnms5XnmoTliKTmlq3op4TliJnlpoLkuIvvvJog5aaC5p6c6K+l5YWD57Sg5Y6f5pys5pivYmxvY2vlhYPntKDvvIwg5YiZ5LiN6K666K+l5YWD57Sg5b2T5YmN55qEY3Nz5qC35byP5piv5LuA5LmI6YO95Lya6L+U5ZuedHJ1Ze+8mw0KICAgICAqICAgICAgICAgIOWQpuWIme+8jOajgOa1i+ivpeWFg+e0oOeahGNzc+agt+W8j++8jCDlpoLmnpzor6XlhYPntKDlvZPliY3mmK9ibG9ja+WFg+e0oO+8jCDliJnov5Tlm550cnVl44CCIOWFtuS9meaDheWGteS4i+mDvei/lOWbnmZhbHNl44CCDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHNwYW4gaWQ9InRlc3QxIiBzdHlsZT0iZGlzcGxheTogYmxvY2siPjwvc3Bhbj4NCiAgICAgKiA8c3BhbiBpZD0idGVzdDIiPjwvc3Bhbj4NCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0MyIgc3R5bGU9ImRpc3BsYXk6IGlubGluZSI+PC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiB0cnVlDQogICAgICogICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuaXNCbG9ja0VsbSggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QxIikgKSApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzQmxvY2tFbG0oIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0MiIpICkgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogdHJ1ZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmlzQmxvY2tFbG0oIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0MyIpICkgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlzQmxvY2tFbG06ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMSAmJiAoZHRkLiRibG9ja1tub2RlLnRhZ05hbWVdIHx8IHN0eWxlQmxvY2tbZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnZGlzcGxheScpXSkgJiYgIWR0ZC4kbm9uQ2hpbGRbbm9kZS50YWdOYW1lXTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOajgOa1i25vZGXoioLngrnmmK/lkKbkuLpib2R56IqC54K5DQogICAgICogQG1ldGhvZCBpc0JvZHkNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHmo4DmtYvnmoRkb23lhYPntKANCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOe7meWumueahOWFg+e0oOaYr+WQpuaYr2JvZHnlhYPntKANCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiAvL291dHB1dDogdHJ1ZQ0KICAgICAqIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuaXNCb2R5KCBkb2N1bWVudC5ib2R5ICkgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBpc0JvZHk6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgcmV0dXJuICBub2RlICYmIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnYm9keSc7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDku6Vub2Rl6IqC54K55Li65YiG55WM77yM5bCG6K+l6IqC54K555qE5oyH5a6a56WW5YWI6IqC54K5cGFyZW505ouG5YiG5oiQ5Lik5Liq54us56uL55qE6IqC54K577yMDQogICAgICog5ouG5YiG5b2i5oiQ55qE5Lik5Liq6IqC54K55LmL6Ze05pivbm9kZeiKgueCuQ0KICAgICAqIEBtZXRob2QgYnJlYWtQYXJlbnQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDkvZzkuLrliIbnlYznmoToioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gcGFyZW50IOivpeiKgueCueW/hemhu+aYr25vZGXoioLngrnnmoTnpZblhYjoioLngrnvvIwg5LiU5pivYmxvY2voioLngrnjgIINCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB9IOe7meWumueahG5vZGXliIbnlYzoioLngrkNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIiksDQogICAgICogICAgICAgICAgd3JhcE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApLA0KICAgICAqICAgICAgICAgIHBhcmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgKg0KICAgICAqICAgICAgcGFyZW50LmFwcGVuZENoaWxkKCBub2RlICk7DQogICAgICogICAgICB3cmFwTm9kZS5hcHBlbmRDaGlsZCggcGFyZW50ICk7DQogICAgICoNCiAgICAgKiAgICAgIC8v5ouG5YiG5YmNDQogICAgICogICAgICAvL291dHB1dDogPHA+PHNwYW4+PC9zcGFuPjwvcD4NCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCB3cmFwTm9kZS5pbm5lckhUTUwgKTsNCiAgICAgKg0KICAgICAqDQogICAgICogICAgICBVRS5kb20uZG9tVXRpbHMuYnJlYWtQYXJlbnQoIG5vZGUsIHBhcmVudCApOw0KICAgICAqICAgICAgLy/mi4bliIblkI4NCiAgICAgKiAgICAgIC8vb3V0cHV0OiA8cD48L3A+PHNwYW4+PC9zcGFuPjxwPjwvcD4NCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCB3cmFwTm9kZS5pbm5lckhUTUwgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGJyZWFrUGFyZW50OmZ1bmN0aW9uIChub2RlLCBwYXJlbnQpIHsNCiAgICAgICAgdmFyIHRtcE5vZGUsDQogICAgICAgICAgICBwYXJlbnRDbG9uZSA9IG5vZGUsDQogICAgICAgICAgICBjbG9uZSA9IG5vZGUsDQogICAgICAgICAgICBsZWZ0Tm9kZXMsDQogICAgICAgICAgICByaWdodE5vZGVzOw0KICAgICAgICBkbyB7DQogICAgICAgICAgICBwYXJlbnRDbG9uZSA9IHBhcmVudENsb25lLnBhcmVudE5vZGU7DQogICAgICAgICAgICBpZiAobGVmdE5vZGVzKSB7DQogICAgICAgICAgICAgICAgdG1wTm9kZSA9IHBhcmVudENsb25lLmNsb25lTm9kZShmYWxzZSk7DQogICAgICAgICAgICAgICAgdG1wTm9kZS5hcHBlbmRDaGlsZChsZWZ0Tm9kZXMpOw0KICAgICAgICAgICAgICAgIGxlZnROb2RlcyA9IHRtcE5vZGU7DQogICAgICAgICAgICAgICAgdG1wTm9kZSA9IHBhcmVudENsb25lLmNsb25lTm9kZShmYWxzZSk7DQogICAgICAgICAgICAgICAgdG1wTm9kZS5hcHBlbmRDaGlsZChyaWdodE5vZGVzKTsNCiAgICAgICAgICAgICAgICByaWdodE5vZGVzID0gdG1wTm9kZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbGVmdE5vZGVzID0gcGFyZW50Q2xvbmUuY2xvbmVOb2RlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICByaWdodE5vZGVzID0gbGVmdE5vZGVzLmNsb25lTm9kZShmYWxzZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB3aGlsZSAodG1wTm9kZSA9IGNsb25lLnByZXZpb3VzU2libGluZykgew0KICAgICAgICAgICAgICAgIGxlZnROb2Rlcy5pbnNlcnRCZWZvcmUodG1wTm9kZSwgbGVmdE5vZGVzLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgd2hpbGUgKHRtcE5vZGUgPSBjbG9uZS5uZXh0U2libGluZykgew0KICAgICAgICAgICAgICAgIHJpZ2h0Tm9kZXMuYXBwZW5kQ2hpbGQodG1wTm9kZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjbG9uZSA9IHBhcmVudENsb25lOw0KICAgICAgICB9IHdoaWxlIChwYXJlbnQgIT09IHBhcmVudENsb25lKTsNCiAgICAgICAgdG1wTm9kZSA9IHBhcmVudC5wYXJlbnROb2RlOw0KICAgICAgICB0bXBOb2RlLmluc2VydEJlZm9yZShsZWZ0Tm9kZXMsIHBhcmVudCk7DQogICAgICAgIHRtcE5vZGUuaW5zZXJ0QmVmb3JlKHJpZ2h0Tm9kZXMsIHBhcmVudCk7DQogICAgICAgIHRtcE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGUsIHJpZ2h0Tm9kZXMpOw0KICAgICAgICBkb21VdGlscy5yZW1vdmUocGFyZW50KTsNCiAgICAgICAgcmV0dXJuIG5vZGU7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmo4Dmn6XoioLngrlub2Rl5piv5ZCm5piv56m6aW5saW5l6IqC54K5DQogICAgICogQG1ldGhvZCAgaXNFbXB0eUlubGluZUVsZW1lbnQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmo4DmtYvnmoToioLngrnlr7nosaENCiAgICAgKiBAcmV0dXJuIHsgTnVtYmVyIH0gIOWmguaenOe7meWumueahOiKgueCueaYr+epuueahGlubGluZeiKgueCue+8jCDliJnov5Tlm54xLCDlkKbliJnov5Tlm54w44CCDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGI+PGk+PC9pPjwvYj4gPT4gMQ0KICAgICAqIDxiPjxpPjwvaT48dT48L3U+PC9iPiA9PiAxDQogICAgICogPGI+PC9iPiA9PiAxDQogICAgICogPGI+eHg8aT48L2k+PC9iPiA9PiAwDQogICAgICogYGBgDQogICAgICovDQogICAgaXNFbXB0eUlubGluZUVsZW1lbnQ6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSB8fCAhZHRkLiRyZW1vdmVFbXB0eVsgbm9kZS50YWdOYW1lIF0pIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7DQogICAgICAgIHdoaWxlIChub2RlKSB7DQogICAgICAgICAgICAvL+WmguaenOaYr+WIm+W7uueahGJvb2ttYXJr5bCx6Lez6L+HDQogICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNCb29rbWFya05vZGUobm9kZSkpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgIWRvbVV0aWxzLmlzRW1wdHlJbmxpbmVFbGVtZW50KG5vZGUpIHx8DQogICAgICAgICAgICAgICAgbm9kZS5ub2RlVHlwZSA9PSAzICYmICFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSkNCiAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAxOw0KDQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWIoOmZpG5vZGXoioLngrnkuIvpppblsL7kuKTnq6/nmoTnqbrnmb3mlofmnKzlrZDoioLngrkNCiAgICAgKiBAbWV0aG9kIHRyaW1XaGl0ZVRleHROb2RlDQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IG5vZGUg6ZyA6KaB5omn6KGM5Yig6Zmk5pON5L2c55qE5YWD57Sg5a+56LGhDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogICAgICB2YXIgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAqDQogICAgICogICAgICBub2RlLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSggIiIgKSApOw0KICAgICAqDQogICAgICogICAgICBub2RlLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSApOw0KICAgICAqDQogICAgICogICAgICBub2RlLmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSggIiIgKSApOw0KICAgICAqDQogICAgICogICAgICAvLzMNCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICk7DQogICAgICoNCiAgICAgKiAgICAgIFVFLmRvbS5kb21VdGlscy50cmltV2hpdGVUZXh0Tm9kZSggbm9kZSApOw0KICAgICAqDQogICAgICogICAgICAvLzENCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICk7DQogICAgICogYGBgDQogICAgICovDQogICAgdHJpbVdoaXRlVGV4dE5vZGU6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGRpcikgew0KICAgICAgICAgICAgdmFyIGNoaWxkOw0KICAgICAgICAgICAgd2hpbGUgKChjaGlsZCA9IG5vZGVbZGlyXSkgJiYgY2hpbGQubm9kZVR5cGUgPT0gMyAmJiBkb21VdGlscy5pc1doaXRlc3BhY2UoY2hpbGQpKSB7DQogICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChjaGlsZCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmVtb3ZlKCdmaXJzdENoaWxkJyk7DQogICAgICAgIHJlbW92ZSgnbGFzdENoaWxkJyk7DQogICAgfSwNCg0KICAgIC8qDQogICAgICog5ZCI5bm2bm9kZeiKgueCueS4i+ebuOWQjOeahOWtkOiKgueCuQ0KICAgICAqIEBuYW1lIG1lcmdlQ2hpbGQNCiAgICAgKiBAZGVzYw0KICAgICAqIFVFLmRvbS5kb21VdGlscy5tZXJnZUNoaWxkKG5vZGUsdGFnTmFtZSkgLy90YWdOYW1l6KaB5ZCI5bm255qE5a2Q6IqC54K555qE5qCH562+DQogICAgICogQGV4YW1wbGUNCiAgICAgKiA8cD48c3BhbiBzdHlsZT0iZm9udC1zaXplOjEycHg7Ij54eDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTJweDsiPmFhPC9zcGFuPnh4PC9zcGFuPjwvcD4NCiAgICAgKiA9PT4gVUUuZG9tLmRvbVV0aWxzLm1lcmdlQ2hpbGQobm9kZSwnc3BhbicpDQogICAgICogPHA+PHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxMnB4OyI+eHhhYXh4PC9zcGFuPjwvcD4NCiAgICAgKi8NCiAgICBtZXJnZUNoaWxkOmZ1bmN0aW9uIChub2RlLCB0YWdOYW1lLCBhdHRycykgew0KICAgICAgICB2YXIgbGlzdCA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5vZGUsIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IGxpc3RbaSsrXTspIHsNCiAgICAgICAgICAgIGlmICghY2kucGFyZW50Tm9kZSB8fCBkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShjaSkpIHsNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vc3BhbuWNleeLrOWkhOeQhg0KICAgICAgICAgICAgaWYgKGNpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnc3BhbicpIHsNCiAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gY2kucGFyZW50Tm9kZSkgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy50cmltV2hpdGVUZXh0Tm9kZShub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gY2kuc3R5bGUuY3NzVGV4dCArICI7IiArIG5vZGUuc3R5bGUuY3NzVGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjaS5zdHlsZS5jc3NUZXh0ID0gbm9kZS5zdHlsZS5jc3NUZXh0ICsgJzsnICsgY2kuc3R5bGUuY3NzVGV4dDsNCiAgICAgICAgICAgICAgICBpZiAoYXR0cnMpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gYXR0cnMuc3R5bGU7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdHlsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGUgPSBzdHlsZS5zcGxpdCgnOycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIHM7IHMgPSBzdHlsZVtqKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpLnN0eWxlW3V0aWxzLmNzc1N0eWxlVG9Eb21TdHlsZShzLnNwbGl0KCc6JylbMF0pXSA9IHMuc3BsaXQoJzonKVsxXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNTYW1lU3R5bGUoY2ksIG5vZGUpKSB7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzU2FtZUVsZW1lbnQobm9kZSwgY2kpKSB7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNpLCB0cnVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDljp/nlJ/mlrnms5VnZXRFbGVtZW50c0J5VGFnTmFtZeeahOWwgeijhQ0KICAgICAqIEBtZXRob2QgZ2V0RWxlbWVudHNCeVRhZ05hbWUNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDnm67moIfoioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0YWdOYW1lIOmcgOimgeafpeaJvueahOiKgueCueeahHRhZ05hbWXvvIwg5aSa5LiqdGFnTmFtZeS7peepuuagvOWIhuWJsg0KICAgICAqIEByZXR1cm4geyBBcnJheSB9IOespuWQiOadoeS7tueahOiKgueCuembhuWQiA0KICAgICAqLw0KICAgIGdldEVsZW1lbnRzQnlUYWdOYW1lOmZ1bmN0aW9uIChub2RlLCBuYW1lLGZpbHRlcikgew0KICAgICAgICBpZihmaWx0ZXIgJiYgdXRpbHMuaXNTdHJpbmcoZmlsdGVyKSl7DQogICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBmaWx0ZXI7DQogICAgICAgICAgIGZpbHRlciA9ICBmdW5jdGlvbihub2RlKXtyZXR1cm4gZG9tVXRpbHMuaGFzQ2xhc3Mobm9kZSxjbGFzc05hbWUpfQ0KICAgICAgICB9DQogICAgICAgIG5hbWUgPSB1dGlscy50cmltKG5hbWUpLnJlcGxhY2UoL1sgXXsyLH0vZywnICcpLnNwbGl0KCcgJyk7DQogICAgICAgIHZhciBhcnIgPSBbXTsNCiAgICAgICAgZm9yKHZhciBuID0gMCxuaTtuaT1uYW1lW24rK107KXsNCiAgICAgICAgICAgIHZhciBsaXN0ID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShuaSk7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gbGlzdFtpKytdOykgew0KICAgICAgICAgICAgICAgIGlmKCFmaWx0ZXIgfHwgZmlsdGVyKGNpKSkNCiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goY2kpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGFycjsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWwhuiKgueCuW5vZGXmj5Dlj5bliLDniLboioLngrnkuIoNCiAgICAgKiBAbWV0aG9kIG1lcmdlVG9QYXJlbnQNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHmj5Dlj5bnmoTlhYPntKDlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJwYXJlbnQiPg0KICAgICAqICAgICA8ZGl2IGlkPSJzdWIiPg0KICAgICAqICAgICAgICAgPHNwYW4gaWQ9ImNoaWxkIj48L3NwYW4+DQogICAgICogICAgIDwvZGl2Pg0KICAgICAqIDwvZGl2Pg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKg0KICAgICAqICAgICB2YXIgY2hpbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggImNoaWxkIiApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBzdWINCiAgICAgKiAgICAgY29uc29sZS5sb2coIGNoaWxkLnBhcmVudE5vZGUuaWQgKTsNCiAgICAgKg0KICAgICAqICAgICBVRS5kb20uZG9tVXRpbHMubWVyZ2VUb1BhcmVudCggY2hpbGQgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogcGFyZW50DQogICAgICogICAgIGNvbnNvbGUubG9nKCBjaGlsZC5wYXJlbnROb2RlLmlkICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBtZXJnZVRvUGFyZW50OmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgIHdoaWxlIChwYXJlbnQgJiYgZHRkLiRyZW1vdmVFbXB0eVtwYXJlbnQudGFnTmFtZV0pIHsNCiAgICAgICAgICAgIGlmIChwYXJlbnQudGFnTmFtZSA9PSBub2RlLnRhZ05hbWUgfHwgcGFyZW50LnRhZ05hbWUgPT0gJ0EnKSB7Ly/pkojlr7lh5qCH562+5Y2V54us5aSE55CGDQogICAgICAgICAgICAgICAgZG9tVXRpbHMudHJpbVdoaXRlVGV4dE5vZGUocGFyZW50KTsNCiAgICAgICAgICAgICAgICAvL3NwYW7pnIDopoHnibnmrorlpITnkIYgIOS4jeWkhOeQhui/meagt+eahOaDheWGtSA8c3BhbiBzdGx5ZT0iY29sb3I6I2ZmZiI+eHh4PHNwYW4gc3R5bGU9ImNvbG9yOiNjY2MiPnh4eDwvc3Bhbj54eHg8L3NwYW4+DQogICAgICAgICAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lID09ICdTUEFOJyAmJiAhZG9tVXRpbHMuaXNTYW1lU3R5bGUocGFyZW50LCBub2RlKQ0KICAgICAgICAgICAgICAgICAgICB8fCAocGFyZW50LnRhZ05hbWUgPT0gJ0EnICYmIG5vZGUudGFnTmFtZSA9PSAnU1BBTicpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuY2hpbGROb2Rlcy5sZW5ndGggPiAxIHx8IHBhcmVudCAhPT0gbm9kZS5wYXJlbnROb2RlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmNzc1RleHQgPSBwYXJlbnQuc3R5bGUuY3NzVGV4dCArICI7IiArIG5vZGUuc3R5bGUuY3NzVGV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc3R5bGUuY3NzVGV4dCArPSAiOyIgKyBub2RlLnN0eWxlLmNzc1RleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjk1MiBh5qCH562+6KaB5L+d5oyB5LiL5YiS57q/DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LnRhZ05hbWUgPT0gJ0EnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnN0eWxlLnRleHREZWNvcmF0aW9uID0gJ3VuZGVybGluZSc7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lICE9ICdBJykgew0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPT09IG5vZGUucGFyZW50Tm9kZSAmJiBkb21VdGlscy5yZW1vdmUobm9kZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlOw0KICAgICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDlkIjlubboioLngrlub2Rl55qE5bem5Y+z5YWE5byf6IqC54K5DQogICAgICogQG1ldGhvZCBtZXJnZVNpYmxpbmcNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHlkIjlubbnmoTnm67moIfoioLngrkNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8Yj54eHh4PC9iPjxiIGlkPSJ0ZXN0Ij5vb288L2I+PGI+eHh4eDwvYj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgIHZhciBkZW1vTm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICogICAgIFVFLmRvbS5kb21VdGlscy5tZXJnZVNpYmxpbmcoIGRlbW9Ob2RlICk7DQogICAgICogICAgIC8vb3V0cHV0OiB4eHh4b29veHh4eA0KICAgICAqICAgICBjb25zb2xlLmxvZyggZGVtb05vZGUuaW5uZXJIVE1MICk7DQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDlkIjlubboioLngrlub2Rl55qE5bem5Y+z5YWE5byf6IqC54K577yMIOWPr+S7peagueaNrue7meWumueahOadoeS7tumAieaLqeaYr+WQpuW/veeVpeWQiOW5tuW3puiKgueCueOAgg0KICAgICAqIEBtZXRob2QgbWVyZ2VTaWJsaW5nDQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IG5vZGUg6ZyA6KaB5ZCI5bm255qE55uu5qCH6IqC54K5DQogICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGlnbm9yZVByZSDmmK/lkKblv73nlaXlkIjlubblt6boioLngrkNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8Yj54eHh4PC9iPjxiIGlkPSJ0ZXN0Ij5vb288L2I+PGI+eHh4eDwvYj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgIHZhciBkZW1vTm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICogICAgIFVFLmRvbS5kb21VdGlscy5tZXJnZVNpYmxpbmcoIGRlbW9Ob2RlLCB0cnVlICk7DQogICAgICogICAgIC8vb3V0cHV0OiBvb294eHh4DQogICAgICogICAgIGNvbnNvbGUubG9nKCBkZW1vTm9kZS5pbm5lckhUTUwgKTsNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOWQiOW5tuiKgueCuW5vZGXnmoTlt6blj7PlhYTlvJ/oioLngrnvvIzlj6/ku6XmoLnmja7nu5nlrprnmoTmnaHku7bpgInmi6nmmK/lkKblv73nlaXlkIjlubblt6blj7PoioLngrnjgIINCiAgICAgKiBAbWV0aG9kIG1lcmdlU2libGluZw0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBub2RlIOmcgOimgeWQiOW5tueahOebruagh+iKgueCuQ0KICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpZ25vcmVQcmUg5piv5ZCm5b+955Wl5ZCI5bm25bem6IqC54K5DQogICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGlnbm9yZU5leHQg5piv5ZCm5b+955Wl5ZCI5bm25Y+z6IqC54K5DQogICAgICogQHJlbWluZCDlpoLmnpzlkIzml7blv73nlaXlt6blj7PoioLngrnvvIwg5YiZ6K+l5pON5L2c5LuA5LmI5Lmf5LiN5Lya5YGaDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGI+eHh4eDwvYj48YiBpZD0idGVzdCI+b29vPC9iPjxiPnh4eHg8L2I+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqICAgICB2YXIgZGVtb05vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpOw0KICAgICAqICAgICBVRS5kb20uZG9tVXRpbHMubWVyZ2VTaWJsaW5nKCBkZW1vTm9kZSwgZmFsc2UsIHRydWUgKTsNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHh4eHhvb28NCiAgICAgKiAgICAgY29uc29sZS5sb2coIGRlbW9Ob2RlLmlubmVySFRNTCApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIG1lcmdlU2libGluZzpmdW5jdGlvbiAobm9kZSwgaWdub3JlUHJlLCBpZ25vcmVOZXh0KSB7DQogICAgICAgIGZ1bmN0aW9uIG1lcmdlKHJ0bCwgc3RhcnQsIG5vZGUpIHsNCiAgICAgICAgICAgIHZhciBuZXh0Ow0KICAgICAgICAgICAgaWYgKChuZXh0ID0gbm9kZVtydGxdKSAmJiAhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobmV4dCkgJiYgbmV4dC5ub2RlVHlwZSA9PSAxICYmIGRvbVV0aWxzLmlzU2FtZUVsZW1lbnQobm9kZSwgbmV4dCkpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAobmV4dC5maXJzdENoaWxkKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PSAnZmlyc3RDaGlsZCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5zZXJ0QmVmb3JlKG5leHQubGFzdENoaWxkLCBub2RlLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChuZXh0LmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShuZXh0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICAhaWdub3JlUHJlICYmIG1lcmdlKCdwcmV2aW91c1NpYmxpbmcnLCAnZmlyc3RDaGlsZCcsIG5vZGUpOw0KICAgICAgICAhaWdub3JlTmV4dCAmJiBtZXJnZSgnbmV4dFNpYmxpbmcnLCAnbGFzdENoaWxkJywgbm9kZSk7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOiuvue9ruiKgueCuW5vZGXlj4rlhbblrZDoioLngrnkuI3kvJrooqvpgInkuK0NCiAgICAgKiBAbWV0aG9kIHVuU2VsZWN0YWJsZQ0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBub2RlIOmcgOimgeaJp+ihjOaTjeS9nOeahGRvbeWFg+e0oA0KICAgICAqIEByZW1pbmQg5omn6KGM6K+l5pON5L2c5ZCO55qE6IqC54K577yMIOWwhuS4jeiDveiiq+m8oOagh+mAieS4rQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIFVFLmRvbS5kb21VdGlscy51blNlbGVjdGFibGUoIGRvY3VtZW50LmJvZHkgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICB1blNlbGVjdGFibGU6aWUgfHwgYnJvd3Nlci5vcGVyYSA/IGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIC8vZm9yIGllOQ0KICAgICAgICBub2RlLm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH07DQogICAgICAgIG5vZGUub25jbGljayA9IG5vZGUub25rZXl1cCA9IG5vZGUub25rZXlkb3duID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9Ow0KICAgICAgICBub2RlLnVuc2VsZWN0YWJsZSA9ICdvbic7DQogICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCAib24iKTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IG5vZGUuYWxsW2krK107KSB7DQogICAgICAgICAgICBzd2l0Y2ggKGNpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgew0KICAgICAgICAgICAgICAgIGNhc2UgJ2lmcmFtZScgOg0KICAgICAgICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJyA6DQogICAgICAgICAgICAgICAgY2FzZSAnaW5wdXQnIDoNCiAgICAgICAgICAgICAgICBjYXNlICdzZWxlY3QnIDoNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgZGVmYXVsdCA6DQogICAgICAgICAgICAgICAgICAgIGNpLnVuc2VsZWN0YWJsZSA9ICdvbic7DQogICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCAib24iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0gOiBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICBub2RlLnN0eWxlLk1velVzZXJTZWxlY3QgPQ0KICAgICAgICAgICAgbm9kZS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0NCiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLktodG1sVXNlclNlbGVjdCA9ICdub25lJzsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIoOmZpOiKgueCuW5vZGXkuIrnmoTmjIflrprlsZ7mgKflkI3np7DnmoTlsZ7mgKcNCiAgICAgKiBAbWV0aG9kICByZW1vdmVBdHRyaWJ1dGVzDQogICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg6ZyA6KaB5Yig6Zmk5bGe5oCn55qE6IqC54K55a+56LGhDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gYXR0ck5hbWVzIOWPr+S7peaYr+epuuagvOmalOW8gOeahOWkmuS4quWxnuaAp+WQjeensO+8jOivpeaTjeS9nOWwhuS8muS+neasoeWIoOmZpOebuOW6lOeahOWxnuaApw0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9IndyYXAiPg0KICAgICAqICAgICAgPHNwYW4gc3R5bGU9ImZvbnQtc2l6ZToxNHB4OyIgaWQ9InRlc3QiIG5hbWU9ImZvbGxvd01lIj54eHh4eDwvc3Bhbj4NCiAgICAgKiA8L2Rpdj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKSwgImlkIG5hbWUiICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTRweDsiPnh4eHh4PC9zcGFuPg0KICAgICAqICAgICBjb25zb2xlLmxvZyggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndyYXAiKS5pbm5lckhUTUwgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Yig6Zmk6IqC54K5bm9kZeS4iueahOaMh+WumuWxnuaAp+WQjeensOeahOWxnuaApw0KICAgICAqIEBtZXRob2QgIHJlbW92ZUF0dHJpYnV0ZXMNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHliKDpmaTlsZ7mgKfnmoToioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyBBcnJheSB9IGF0dHJOYW1lcyDpnIDopoHliKDpmaTnmoTlsZ7mgKflkI3mlbDnu4QNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ3cmFwIj4NCiAgICAgKiAgICAgIDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTRweDsiIGlkPSJ0ZXN0IiBuYW1lPSJmb2xsb3dNZSI+eHh4eHg8L3NwYW4+DQogICAgICogPC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIFVFLmRvbS5kb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggInRlc3QiICksIFsiaWQiLCAibmFtZSJdICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IDxzcGFuIHN0eWxlPSJmb250LXNpemU6MTRweDsiPnh4eHh4PC9zcGFuPg0KICAgICAqICAgICBjb25zb2xlLmxvZyggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIndyYXAiKS5pbm5lckhUTUwgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHJlbW92ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24gKG5vZGUsIGF0dHJOYW1lcykgew0KICAgICAgICBhdHRyTmFtZXMgPSB1dGlscy5pc0FycmF5KGF0dHJOYW1lcykgPyBhdHRyTmFtZXMgOiB1dGlscy50cmltKGF0dHJOYW1lcykucmVwbGFjZSgvWyBdezIsfS9nLCcgJykuc3BsaXQoJyAnKTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IGF0dHJOYW1lc1tpKytdOykgew0KICAgICAgICAgICAgY2kgPSBhdHRyRml4W2NpXSB8fCBjaTsNCiAgICAgICAgICAgIHN3aXRjaCAoY2kpIHsNCiAgICAgICAgICAgICAgICBjYXNlICdjbGFzc05hbWUnOg0KICAgICAgICAgICAgICAgICAgICBub2RlW2NpXSA9ICcnOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdzdHlsZSc6DQogICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzVGV4dCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICAhYnJvd3Nlci5pZSAmJiBub2RlLnJlbW92ZUF0dHJpYnV0ZU5vZGUobm9kZS5nZXRBdHRyaWJ1dGVOb2RlKCdzdHlsZScpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoY2kpOw0KICAgICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDlnKhkb2PkuIvliJvlu7rkuIDkuKrmoIfnrb7lkI3kuLp0YWfvvIzlsZ7mgKfkuLphdHRyc+eahOWFg+e0oA0KICAgICAqIEBtZXRob2QgY3JlYXRlRWxlbWVudA0KICAgICAqIEBwYXJhbSB7IERvbURvY3VtZW50IH0gZG9jIOaWsOWIm+W7uueahOWFg+e0oOWxnuS6juivpWRvY3VtZW506IqC54K55Yib5bu6DQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdGFnTmFtZSDpnIDopoHliJvlu7rnmoTlhYPntKDnmoTmoIfnrb7lkI0NCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBhdHRycyDmlrDliJvlu7rnmoTlhYPntKDnmoTlsZ7mgKdrZXktdmFsdWXpm4blkIgNCiAgICAgKiBAcmV0dXJuIHsgRWxlbWVudCB9IOaWsOWIm+W7uueahOWFg+e0oOWvueixoQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBlbGUgPSBVRS5kb20uZG9tVXRpbHMuY3JlYXRlRWxlbWVudCggZG9jdW1lbnQsICdkaXYnLCB7DQogICAgICogICAgIGlkOiAndGVzdCcNCiAgICAgKiB9ICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogRElWDQogICAgICogY29uc29sZS5sb2coIGVsZS50YWdOYW1lICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogdGVzdA0KICAgICAqIGNvbnNvbGUubG9nKCBlbGUuaWQgKTsNCiAgICAgKg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24gKGRvYywgdGFnLCBhdHRycykgew0KICAgICAgICByZXR1cm4gZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhkb2MuY3JlYXRlRWxlbWVudCh0YWcpLCBhdHRycykNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOS4uuiKgueCuW5vZGXmt7vliqDlsZ7mgKdhdHRyc++8jGF0dHJz5Li65bGe5oCn6ZSu5YC85a+5DQogICAgICogQG1ldGhvZCBzZXRBdHRyaWJ1dGVzDQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IG5vZGUg6ZyA6KaB6K6+572u5bGe5oCn55qE5YWD57Sg5a+56LGhDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gYXR0cnMg6ZyA6KaB6K6+572u55qE5bGe5oCn5ZCNLeWAvOWvuQ0KICAgICAqIEByZXR1cm4geyBFbGVtZW50IH0g6K6+572u5bGe5oCn55qE5YWD57Sg5a+56LGhDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHNwYW4gaWQ9InRlc3QiPjwvc3Bhbj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgdmFyIHRlc3ROb2RlID0gVUUuZG9tLmRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKSwgew0KICAgICAqICAgICAgICAgaWQ6ICdkZW1vJw0KICAgICAqICAgICB9ICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGRlbW8NCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLmlkICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKg0KICAgICAqLw0KICAgIHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24gKG5vZGUsIGF0dHJzKSB7DQogICAgICAgIGZvciAodmFyIGF0dHIgaW4gYXR0cnMpIHsNCiAgICAgICAgICAgIGlmKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKXsNCiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBhdHRyc1thdHRyXTsNCiAgICAgICAgICAgICAgICBzd2l0Y2ggKGF0dHIpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2xhc3MnOg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9pZeS4i+imgei/meagt+i1i+WAvO+8jHNldEF0dHJpYnV0ZeS4jei1t+S9nOeUqA0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHlsZScgOg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gbm9kZS5zdHlsZS5jc3NUZXh0ICsgIjsiICsgdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW5uZXJIVE1MJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbYXR0cl0gPSB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICd2YWx1ZSc6DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnZhbHVlID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dHJGaXhbYXR0cl0gfHwgYXR0ciwgdmFsdWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbm9kZTsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog6I635Y+W5YWD57SgZWxlbWVudOe7j+i/h+iuoeeul+WQjueahOagt+W8j+WAvA0KICAgICAqIEBtZXRob2QgZ2V0Q29tcHV0ZWRTdHlsZQ0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBlbGVtZW50IOmcgOimgeiOt+WPluagt+W8j+eahOWFg+e0oOWvueixoQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0eWxlTmFtZSDpnIDopoHojrflj5bnmoTmoLflvI/lkI0NCiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g6I635Y+W5Yiw55qE5qC35byP5YC8DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCiAgICAgKiAgICAgICN0ZXN0IHsNCiAgICAgKiAgICAgICAgICBmb250LXNpemU6IDE1cHg7DQogICAgICogICAgICB9DQogICAgICogPC9zdHlsZT4NCiAgICAgKg0KICAgICAqIDxzcGFuIGlkPSJ0ZXN0Ij48L3NwYW4+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqICAgICAvL291dHB1dDogMTVweA0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKSwgJ2ZvbnQtc2l6ZScgKSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24gKGVsZW1lbnQsIHN0eWxlTmFtZSkgew0KICAgICAgICAvL+S4gOS4i+eahOWxnuaAp+WNleeLrOWkhOeQhg0KICAgICAgICB2YXIgcHJvcyA9ICd3aWR0aCBoZWlnaHQgdG9wIGxlZnQnOw0KDQogICAgICAgIGlmKHByb3MuaW5kZXhPZihzdHlsZU5hbWUpID4gLTEpew0KICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRbJ29mZnNldCcgKyBzdHlsZU5hbWUucmVwbGFjZSgvXlx3LyxmdW5jdGlvbihzKXtyZXR1cm4gcy50b1VwcGVyQ2FzZSgpfSldICsgJ3B4JzsNCiAgICAgICAgfQ0KICAgICAgICAvL+W/veeVpeaWh+acrOiKgueCuQ0KICAgICAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PSAzKSB7DQogICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOw0KICAgICAgICB9DQogICAgICAgIC8vaWXkuItmb250LXNpemXoi6Vib2R55LiL5a6a5LmJ5LqGZm9udC1zaXpl77yM5YiZ5LuOY3VycmVudFN0eWxl6YeM5Lya5Y+W5Yiw6L+Z5LiqZm9udC1zaXplLiDlj5bkuI3liLDlrp7pmYXlgLzvvIzmlYXmraTkv67mlLkuDQogICAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA8IDkgJiYgc3R5bGVOYW1lID09ICdmb250LXNpemUnICYmICFlbGVtZW50LnN0eWxlLmZvbnRTaXplICYmDQogICAgICAgICAgICAhZHRkLiRlbXB0eVtlbGVtZW50LnRhZ05hbWVdICYmICFkdGQuJG5vbkNoaWxkW2VsZW1lbnQudGFnTmFtZV0pIHsNCiAgICAgICAgICAgIHZhciBzcGFuID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgIHNwYW4uc3R5bGUuY3NzVGV4dCA9ICdwYWRkaW5nOjA7Ym9yZGVyOjA7Zm9udC1mYW1pbHk6c2ltc3VuOyc7DQogICAgICAgICAgICBzcGFuLmlubmVySFRNTCA9ICcuJzsNCiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7DQogICAgICAgICAgICB2YXIgcmVzdWx0ID0gc3Bhbi5vZmZzZXRIZWlnaHQ7DQogICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKHNwYW4pOw0KICAgICAgICAgICAgc3BhbiA9IG51bGw7DQogICAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgJ3B4JzsNCiAgICAgICAgfQ0KICAgICAgICB0cnkgew0KICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9tVXRpbHMuZ2V0U3R5bGUoZWxlbWVudCwgc3R5bGVOYW1lKSB8fA0KICAgICAgICAgICAgICAgICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IGRvbVV0aWxzLmdldFdpbmRvdyhlbGVtZW50KS5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsICcnKS5nZXRQcm9wZXJ0eVZhbHVlKHN0eWxlTmFtZSkgOg0KICAgICAgICAgICAgICAgICAgICAoIGVsZW1lbnQuY3VycmVudFN0eWxlIHx8IGVsZW1lbnQuc3R5bGUgKVt1dGlscy5jc3NTdHlsZVRvRG9tU3R5bGUoc3R5bGVOYW1lKV0pOw0KDQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIHJldHVybiAiIjsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdXRpbHMudHJhbnNVbml0VG9QeCh1dGlscy5maXhDb2xvcihzdHlsZU5hbWUsIHZhbHVlKSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliKDpmaTlhYPntKBlbGVtZW505oyH5a6a55qEY2xhc3NOYW1lDQogICAgICogQG1ldGhvZCByZW1vdmVDbGFzc2VzDQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IGVsZSDpnIDopoHliKDpmaRjbGFzc+eahOWFg+e0oOiKgueCuQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNsYXNzTmFtZXMg6ZyA6KaB5Yig6Zmk55qEY2xhc3NOYW1l77yMIOWkmuS4qmNsYXNzTmFtZeS5i+mXtOS7peepuuagvOWIhuW8gA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxzcGFuIGlkPSJ0ZXN0IiBjbGFzcz0idGVzdDEgdGVzdDIgdGVzdDMiPnh4eDwvc3Bhbj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgdmFyIHRlc3ROb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJ0ZXN0IiApOw0KICAgICAqICAgICBVRS5kb20uZG9tVXRpbHMucmVtb3ZlQ2xhc3NlcyggdGVzdE5vZGUsICJ0ZXN0MSB0ZXN0MiIgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogdGVzdDMNCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLmNsYXNzTmFtZSApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDliKDpmaTlhYPntKBlbGVtZW505oyH5a6a55qEY2xhc3NOYW1lDQogICAgICogQG1ldGhvZCByZW1vdmVDbGFzc2VzDQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IGVsZSDpnIDopoHliKDpmaRjbGFzc+eahOWFg+e0oOiKgueCuQ0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gY2xhc3NOYW1lcyDpnIDopoHliKDpmaTnmoRjbGFzc05hbWXmlbDnu4QNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8c3BhbiBpZD0idGVzdCIgY2xhc3M9InRlc3QxIHRlc3QyIHRlc3QzIj54eHg8L3NwYW4+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKTsNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLnJlbW92ZUNsYXNzZXMoIHRlc3ROb2RlLCBbInRlc3QxIiwgInRlc3QyIl0gKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogdGVzdDMNCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLmNsYXNzTmFtZSApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQogICAgcmVtb3ZlQ2xhc3NlczpmdW5jdGlvbiAoZWxtLCBjbGFzc05hbWVzKSB7DQogICAgICAgIGNsYXNzTmFtZXMgPSB1dGlscy5pc0FycmF5KGNsYXNzTmFtZXMpID8gY2xhc3NOYW1lcyA6DQogICAgICAgICAgICB1dGlscy50cmltKGNsYXNzTmFtZXMpLnJlcGxhY2UoL1sgXXsyLH0vZywnICcpLnNwbGl0KCcgJyk7DQogICAgICAgIGZvcih2YXIgaSA9IDAsY2ksY2xzID0gZWxtLmNsYXNzTmFtZTtjaT1jbGFzc05hbWVzW2krK107KXsNCiAgICAgICAgICAgIGNscyA9IGNscy5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcYicgKyBjaSArICdcXGInKSwnJykNCiAgICAgICAgfQ0KICAgICAgICBjbHMgPSB1dGlscy50cmltKGNscykucmVwbGFjZSgvWyBdezIsfS9nLCcgJyk7DQogICAgICAgIGlmKGNscyl7DQogICAgICAgICAgICBlbG0uY2xhc3NOYW1lID0gY2xzOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoZWxtLFsnY2xhc3MnXSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOe7meWFg+e0oGVsZW1lbnTmt7vliqBjbGFzc05hbWUNCiAgICAgKiBAbWV0aG9kIGFkZENsYXNzDQogICAgICogQHBhcmFtIHsgTm9kZSB9IGVsZSDpnIDopoHlop7liqBjbGFzc05hbWXnmoTlhYPntKANCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbGFzc05hbWVzIOmcgOimgea3u+WKoOeahGNsYXNzTmFtZe+8jCDlpJrkuKpjbGFzc05hbWXkuYvpl7Tku6XnqbrmoLzliIblibINCiAgICAgKiBAcmVtaW5kIOebuOWQjOeahOexu+WQjeS4jeS8muiiq+mHjeWkjea3u+WKoA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxzcGFuIGlkPSJ0ZXN0IiBjbGFzcz0iY2xzMSBjbHMyIj48L3NwYW4+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqICAgICB2YXIgdGVzdE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdCIpOw0KICAgICAqDQogICAgICogICAgIFVFLmRvbS5kb21VdGlscy5hZGRDbGFzcyggdGVzdE5vZGUsICJjbHMyIGNsczMgY2xzNCIgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogY2wxIGNsczIgY2xzMyBjbHM0DQogICAgICogICAgIGNvbnNvbGUubG9nKCB0ZXN0Tm9kZS5jbGFzc05hbWUgKTsNCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDnu5nlhYPntKBlbGVtZW505re75YqgY2xhc3NOYW1lDQogICAgICogQG1ldGhvZCBhZGRDbGFzcw0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBlbGUg6ZyA6KaB5aKe5YqgY2xhc3NOYW1l55qE5YWD57SgDQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBjbGFzc05hbWVzIOmcgOimgea3u+WKoOeahGNsYXNzTmFtZeeahOaVsOe7hA0KICAgICAqIEByZW1pbmQg55u45ZCM55qE57G75ZCN5LiN5Lya6KKr6YeN5aSN5re75YqgDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPHNwYW4gaWQ9InRlc3QiIGNsYXNzPSJjbHMxIGNsczIiPjwvc3Bhbj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLmFkZENsYXNzKCB0ZXN0Tm9kZSwgWyJjbHMyIiwgImNsczMiLCAiY2xzNCJdICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGNsMSBjbHMyIGNsczMgY2xzNA0KICAgICAqICAgICBjb25zb2xlLmxvZyggdGVzdE5vZGUuY2xhc3NOYW1lICk7DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGFkZENsYXNzOmZ1bmN0aW9uIChlbG0sIGNsYXNzTmFtZXMpIHsNCiAgICAgICAgaWYoIWVsbSlyZXR1cm47DQogICAgICAgIGNsYXNzTmFtZXMgPSB1dGlscy50cmltKGNsYXNzTmFtZXMpLnJlcGxhY2UoL1sgXXsyLH0vZywnICcpLnNwbGl0KCcgJyk7DQogICAgICAgIGZvcih2YXIgaSA9IDAsY2ksY2xzID0gZWxtLmNsYXNzTmFtZTtjaT1jbGFzc05hbWVzW2krK107KXsNCiAgICAgICAgICAgIGlmKCFuZXcgUmVnRXhwKCdcXGInICsgY2kgKyAnXFxiJykudGVzdChjbHMpKXsNCiAgICAgICAgICAgICAgICBjbHMgKz0gJyAnICsgY2k7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxtLmNsYXNzTmFtZSA9IHV0aWxzLnRyaW0oY2xzKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIpOaWreWFg+e0oGVsZW1lbnTmmK/lkKbljIXlkKvnu5nlrprnmoTmoLflvI/nsbvlkI1jbGFzc05hbWUNCiAgICAgKiBAbWV0aG9kIGhhc0NsYXNzDQogICAgICogQHBhcmFtIHsgTm9kZSB9IGVsZSDpnIDopoHmo4DmtYvnmoTlhYPntKANCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbGFzc05hbWVzIOmcgOimgeajgOa1i+eahGNsYXNzTmFtZe+8jCDlpJrkuKpjbGFzc05hbWXkuYvpl7TnlKjnqbrmoLzliIblibINCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOWFg+e0oOaYr+WQpuWMheWQq+aJgOaciee7meWumueahGNsYXNzTmFtZQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxzcGFuIGlkPSJ0ZXN0MSIgY2xhc3M9ImNsczEgY2xzMiI+PC9zcGFuPg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKiAgICAgdmFyIHRlc3QxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QxIik7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGZhbHNlDQogICAgICogICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuaGFzQ2xhc3MoIHRlc3QxLCAiY2xzMiBjbHMxIGNsczMiICkgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogdHJ1ZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmhhc0NsYXNzKCB0ZXN0MSwgImNsczIgY2xzMSIgKSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Yik5pat5YWD57SgZWxlbWVudOaYr+WQpuWMheWQq+e7meWumueahOagt+W8j+exu+WQjWNsYXNzTmFtZQ0KICAgICAqIEBtZXRob2QgaGFzQ2xhc3MNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gZWxlIOmcgOimgeajgOa1i+eahOWFg+e0oA0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gY2xhc3NOYW1lcyDpnIDopoHmo4DmtYvnmoRjbGFzc05hbWXmlbDnu4QNCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOWFg+e0oOaYr+WQpuWMheWQq+aJgOaciee7meWumueahGNsYXNzTmFtZQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxzcGFuIGlkPSJ0ZXN0MSIgY2xhc3M9ImNsczEgY2xzMiI+PC9zcGFuPg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKiAgICAgdmFyIHRlc3QxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QxIik7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IGZhbHNlDQogICAgICogICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuaGFzQ2xhc3MoIHRlc3QxLCBbICJjbHMyIiwgImNsczEiLCAiY2xzMyIgXSApICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5oYXNDbGFzcyggdGVzdDEsIFsgImNsczIiLCAiY2xzMSIgXSkgKTsNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBoYXNDbGFzczpmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lKSB7DQogICAgICAgIGlmKHV0aWxzLmlzUmVnRXhwKGNsYXNzTmFtZSkpew0KICAgICAgICAgICAgcmV0dXJuIGNsYXNzTmFtZS50ZXN0KGVsZW1lbnQuY2xhc3NOYW1lKQ0KICAgICAgICB9DQogICAgICAgIGNsYXNzTmFtZSA9IHV0aWxzLnRyaW0oY2xhc3NOYW1lKS5yZXBsYWNlKC9bIF17Mix9L2csJyAnKS5zcGxpdCgnICcpOw0KICAgICAgICBmb3IodmFyIGkgPSAwLGNpLGNscyA9IGVsZW1lbnQuY2xhc3NOYW1lO2NpPWNsYXNzTmFtZVtpKytdOyl7DQogICAgICAgICAgICBpZighbmV3IFJlZ0V4cCgnXFxiJyArIGNpICsgJ1xcYicsJ2knKS50ZXN0KGNscykpew0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gaSAtIDEgPT0gY2xhc3NOYW1lLmxlbmd0aDsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog6Zi75q2i5LqL5Lu26buY6K6k6KGM5Li6DQogICAgICogQG1ldGhvZCBwcmV2ZW50RGVmYXVsdA0KICAgICAqIEBwYXJhbSB7IEV2ZW50IH0gZXZ0IOmcgOimgemYu+atoum7mOiupOihjOS4uueahOS6i+S7tuWvueixoQ0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIFVFLmRvbS5kb21VdGlscy5wcmV2ZW50RGVmYXVsdCggZXZ0ICk7DQogICAgICogYGBgDQogICAgICovDQogICAgcHJldmVudERlZmF1bHQ6ZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICBldnQucHJldmVudERlZmF1bHQgPyBldnQucHJldmVudERlZmF1bHQoKSA6IChldnQucmV0dXJuVmFsdWUgPSBmYWxzZSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliKDpmaTlhYPntKBlbGVtZW505oyH5a6a55qE5qC35byPDQogICAgICogQG1ldGhvZCByZW1vdmVTdHlsZQ0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBlbGVtZW50IOmcgOimgeWIoOmZpOagt+W8j+eahOWFg+e0oA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0eWxlTmFtZSDpnIDopoHliKDpmaTnmoTmoLflvI/lkI0NCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8c3BhbiBpZD0idGVzdCIgc3R5bGU9ImNvbG9yOiByZWQ7IGJhY2tncm91bmQ6IGJsdWU7Ij48L3NwYW4+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLnJlbW92ZVN0eWxlKCB0ZXN0Tm9kZSwgJ2NvbG9yJyApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBiYWNrZ3JvdW5kOiBibHVlOw0KICAgICAqICAgICBjb25zb2xlLmxvZyggdGVzdE5vZGUuc3R5bGUuY3NzVGV4dCApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQogICAgcmVtb3ZlU3R5bGU6ZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsNCiAgICAgICAgaWYoYnJvd3Nlci5pZSApew0KICAgICAgICAgICAgLy/pkojlr7ljb2xvcuWFiOWNleeLrOWkhOeQhuS4gOS4iw0KICAgICAgICAgICAgaWYobmFtZSA9PSAnY29sb3InKXsNCiAgICAgICAgICAgICAgICBuYW1lID0gJyhefDspJyArIG5hbWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbGVtZW50LnN0eWxlLmNzc1RleHQgPSBlbGVtZW50LnN0eWxlLmNzc1RleHQucmVwbGFjZShuZXcgUmVnRXhwKG5hbWUgKyAnW146XSo6W147XSs7PycsJ2lnJyksJycpDQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgaWYgKGVsZW1lbnQuc3R5bGUucmVtb3ZlUHJvcGVydHkpIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5IChuYW1lKTsNCiAgICAgICAgICAgIH1lbHNlIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnJlbW92ZUF0dHJpYnV0ZSAodXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKG5hbWUpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQoNCiAgICAgICAgaWYgKCFlbGVtZW50LnN0eWxlLmNzc1RleHQpIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoZWxlbWVudCwgWydzdHlsZSddKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog6I635Y+W5YWD57SgZWxlbWVudOeahHN0eWxl5bGe5oCn55qE5oyH5a6a5YC8DQogICAgICogQG1ldGhvZCBnZXRTdHlsZQ0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBlbGVtZW50IOmcgOimgeiOt+WPluWxnuaAp+WAvOeahOWFg+e0oA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0eWxlTmFtZSDpnIDopoHojrflj5bnmoRzdHlsZeeahOWQjeensA0KICAgICAqIEB3YXJuaW5nIOivpeaWueazleS7heiOt+WPluWFg+e0oHN0eWxl5bGe5oCn5Lit5omA5qCH5piO55qE5YC8DQogICAgICogQHJldHVybiB7IFN0cmluZyB9IOivpeWFg+e0oOWMheWQq+aMh+WumueahHN0eWxl5bGe5oCn5YC8DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGRpdiBpZD0idGVzdCIgc3R5bGU9ImNvbG9yOiByZWQ7Ij48L2Rpdj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAidGVzdCIgKTsNCiAgICAgKg0KICAgICAqICAgICAgLy9vdXRwdXQ6IHJlZA0KICAgICAqICAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5nZXRTdHlsZSggdGVzdE5vZGUsICJjb2xvciIgKSApOw0KICAgICAqDQogICAgICogICAgICAvL291dHB1dDogIiINCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuZ2V0U3R5bGUoIHRlc3ROb2RlLCAiYmFja2dyb3VuZCIgKSApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQogICAgZ2V0U3R5bGU6ZnVuY3Rpb24gKGVsZW1lbnQsIG5hbWUpIHsNCiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudC5zdHlsZVsgdXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKG5hbWUpIF07DQogICAgICAgIHJldHVybiB1dGlscy5maXhDb2xvcihuYW1lLCB2YWx1ZSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDkuLrlhYPntKBlbGVtZW506K6+572u5qC35byP5bGe5oCn5YC8DQogICAgICogQG1ldGhvZCBzZXRTdHlsZQ0KICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBlbGVtZW50IOmcgOimgeiuvue9ruagt+W8j+eahOWFg+e0oA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHN0eWxlTmFtZSDmoLflvI/lkI0NCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBzdHlsZVZhbHVlIOagt+W8j+WAvA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPjwvZGl2Pg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKg0KICAgICAqICAgICAgdmFyIHRlc3ROb2RlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICJ0ZXN0IiApOw0KICAgICAqDQogICAgICogICAgICAvL291dHB1dDogIiINCiAgICAgKiAgICAgIGNvbnNvbGUubG9nKCB0ZXN0Tm9kZS5zdHlsZS5jb2xvciApOw0KICAgICAqDQogICAgICogICAgICBVRS5kb20uZG9tVXRpbHMuc2V0U3R5bGUoIHRlc3ROb2RlLCAnY29sb3InLCAncmVkJyApOw0KICAgICAqICAgICAgLy9vdXRwdXQ6ICJyZWQiDQogICAgICogICAgICBjb25zb2xlLmxvZyggdGVzdE5vZGUuc3R5bGUuY29sb3IgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHNldFN0eWxlOmZ1bmN0aW9uIChlbGVtZW50LCBuYW1lLCB2YWx1ZSkgew0KICAgICAgICBlbGVtZW50LnN0eWxlW3V0aWxzLmNzc1N0eWxlVG9Eb21TdHlsZShuYW1lKV0gPSB2YWx1ZTsNCiAgICAgICAgaWYoIXV0aWxzLnRyaW0oZWxlbWVudC5zdHlsZS5jc3NUZXh0KSl7DQogICAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZXMoZWxlbWVudCwnc3R5bGUnKQ0KICAgICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDkuLrlhYPntKBlbGVtZW506K6+572u5aSa5Liq5qC35byP5bGe5oCn5YC8DQogICAgICogQG1ldGhvZCBzZXRTdHlsZXMNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gZWxlbWVudCDpnIDopoHorr7nva7moLflvI/nmoTlhYPntKANCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzdHlsZXMg5qC35byP5ZCN5YC85a+5DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGRpdiBpZD0idGVzdCI+PC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgICB2YXIgdGVzdE5vZGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggInRlc3QiICk7DQogICAgICoNCiAgICAgKiAgICAgIC8vb3V0cHV0OiAiIg0KICAgICAqICAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLnN0eWxlLmNvbG9yICk7DQogICAgICoNCiAgICAgKiAgICAgIFVFLmRvbS5kb21VdGlscy5zZXRTdHlsZXMoIHRlc3ROb2RlLCB7DQogICAgICogICAgICAgICAgJ2NvbG9yJzogJ3JlZCcNCiAgICAgKiAgICAgIH0gKTsNCiAgICAgKiAgICAgIC8vb3V0cHV0OiAicmVkIg0KICAgICAqICAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLnN0eWxlLmNvbG9yICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBzZXRTdHlsZXM6ZnVuY3Rpb24gKGVsZW1lbnQsIHN0eWxlcykgew0KICAgICAgICBmb3IgKHZhciBuYW1lIGluIHN0eWxlcykgew0KICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkgew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFN0eWxlKGVsZW1lbnQsIG5hbWUsIHN0eWxlc1tuYW1lXSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIoOmZpF9tb3pfZGlydHnlsZ7mgKcNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBtZXRob2QgcmVtb3ZlRGlydHlBdHRyDQogICAgICovDQogICAgcmVtb3ZlRGlydHlBdHRyOmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIGZvciAodmFyIGkgPSAwLCBjaSwgbm9kZXMgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7IGNpID0gbm9kZXNbaSsrXTspIHsNCiAgICAgICAgICAgIGNpLnJlbW92ZUF0dHJpYnV0ZSgnX21vel9kaXJ0eScpOw0KICAgICAgICB9DQogICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKCdfbW96X2RpcnR5Jyk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDojrflj5blrZDoioLngrnnmoTmlbDph48NCiAgICAgKiBAbWV0aG9kIGdldENoaWxkQ291bnQNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHmo4DmtYvnmoTlhYPntKANCiAgICAgKiBAcmV0dXJuIHsgTnVtYmVyIH0g57uZ5a6a55qEbm9kZeWFg+e0oOeahOWtkOiKgueCueaVsOmHjw0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPg0KICAgICAqICAgICAgPHNwYW4+PC9zcGFuPg0KICAgICAqIDwvZGl2Pg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogMw0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmdldENoaWxkQ291bnQoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0IikgKSApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDmoLnmja7nu5nlrprnmoTov4fmu6Top4TliJnvvIwg6I635Y+W56ym5ZCI5p2h5Lu255qE5a2Q6IqC54K555qE5pWw6YePDQogICAgICogQG1ldGhvZCBnZXRDaGlsZENvdW50DQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IG5vZGUg6ZyA6KaB5qOA5rWL55qE5YWD57SgDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDov4fmu6TlmajvvIwg6KaB5rGC5a+556ym5ZCI5p2h5Lu255qE5a2Q6IqC54K56L+U5ZuedHJ1Ze+8jCDlj43kuYvliJnopoHmsYLov5Tlm55mYWxzZQ0KICAgICAqIEByZXR1cm4geyBOdW1iZXIgfSDnrKblkIjov4fmu6TmnaHku7bnmoRub2Rl5YWD57Sg55qE5a2Q6IqC54K55pWw6YePDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBodG1sDQogICAgICogPGRpdiBpZD0idGVzdCI+DQogICAgICogICAgICA8c3Bhbj48L3NwYW4+DQogICAgICogPC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiAxDQogICAgICogICAgIGNvbnNvbGUubG9nKCBVRS5kb20uZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QiKSwgZnVuY3Rpb24gKCBub2RlICkgew0KICAgICAqDQogICAgICogICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PT0gMTsNCiAgICAgKg0KICAgICAqICAgICB9ICkgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGdldENoaWxkQ291bnQ6ZnVuY3Rpb24gKG5vZGUsIGZuKSB7DQogICAgICAgIHZhciBjb3VudCA9IDAsIGZpcnN0ID0gbm9kZS5maXJzdENoaWxkOw0KICAgICAgICBmbiA9IGZuIHx8IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiAxOw0KICAgICAgICB9Ow0KICAgICAgICB3aGlsZSAoZmlyc3QpIHsNCiAgICAgICAgICAgIGlmIChmbihmaXJzdCkpIHsNCiAgICAgICAgICAgICAgICBjb3VudCsrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZmlyc3QgPSBmaXJzdC5uZXh0U2libGluZzsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gY291bnQ7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWIpOaWree7meWumuiKgueCueaYr+WQpuS4uuepuuiKgueCuQ0KICAgICAqIEBtZXRob2QgaXNFbXB0eU5vZGUNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmo4DmtYvnmoToioLngrnlr7nosaENCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOiKgueCueaYr+WQpuS4uuepug0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIFVFLmRvbS5kb21VdGlscy5pc0VtcHR5Tm9kZSggZG9jdW1lbnQuYm9keSApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlzRW1wdHlOb2RlOmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIHJldHVybiAhbm9kZS5maXJzdENoaWxkIHx8IGRvbVV0aWxzLmdldENoaWxkQ291bnQobm9kZSwgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgIHJldHVybiAgIWRvbVV0aWxzLmlzQnIobm9kZSkgJiYgIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpICYmICFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSkNCiAgICAgICAgfSkgPT0gMA0KICAgIH0sDQogICAgY2xlYXJTZWxlY3RlZEFycjpmdW5jdGlvbiAobm9kZXMpIHsNCiAgICAgICAgdmFyIG5vZGU7DQogICAgICAgIHdoaWxlIChub2RlID0gbm9kZXMucG9wKCkpIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMobm9kZSwgWydjbGFzcyddKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog5bCG5pi+56S65Yy65Z+f5rua5Yqo5Yiw5oyH5a6a6IqC54K555qE5L2N572uDQogICAgICogQG1ldGhvZCBzY3JvbGxUb1ZpZXcNCiAgICAgKiBAcGFyYW0gICAge05vZGV9ICAgbm9kZSAgICDoioLngrkNCiAgICAgKiBAcGFyYW0gICAge3dpbmRvd30gICB3aW4gICAgICB3aW5kb3flr7nosaENCiAgICAgKiBAcGFyYW0gICAge051bWJlcn0gICAgb2Zmc2V0VG9wICAgIOi3neemu+S4iuaWueeahOWBj+enu+mHjw0KICAgICAqLw0KICAgIHNjcm9sbFRvVmlldzpmdW5jdGlvbiAobm9kZSwgd2luLCBvZmZzZXRUb3ApIHsNCiAgICAgICAgdmFyIGdldFZpZXdQYW5lU2l6ZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50LA0KICAgICAgICAgICAgICAgICAgICBtb2RlID0gZG9jLmNvbXBhdE1vZGUgPT0gJ0NTUzFDb21wYXQnOw0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiggbW9kZSA/IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggOiBkb2MuYm9keS5jbGllbnRXaWR0aCApIHx8IDAsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodDooIG1vZGUgPyBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCA6IGRvYy5ib2R5LmNsaWVudEhlaWdodCApIHx8IDANCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGdldFNjcm9sbFBvc2l0aW9uID0gZnVuY3Rpb24gKHdpbikgew0KICAgICAgICAgICAgICAgIGlmICgncGFnZVhPZmZzZXQnIGluIHdpbikgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAgICAgeDp3aW4ucGFnZVhPZmZzZXQgfHwgMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHk6d2luLnBhZ2VZT2Zmc2V0IHx8IDANCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICAgICB4OmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBkb2MuYm9keS5zY3JvbGxMZWZ0IHx8IDAsDQogICAgICAgICAgICAgICAgICAgICAgICB5OmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvYy5ib2R5LnNjcm9sbFRvcCB8fCAwDQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgdmFyIHdpbkhlaWdodCA9IGdldFZpZXdQYW5lU2l6ZSgpLmhlaWdodCwgb2Zmc2V0ID0gd2luSGVpZ2h0ICogLTEgKyBvZmZzZXRUb3A7DQogICAgICAgIG9mZnNldCArPSAobm9kZS5vZmZzZXRIZWlnaHQgfHwgMCk7DQogICAgICAgIHZhciBlbGVtZW50UG9zaXRpb24gPSBkb21VdGlscy5nZXRYWShub2RlKTsNCiAgICAgICAgb2Zmc2V0ICs9IGVsZW1lbnRQb3NpdGlvbi55Ow0KICAgICAgICB2YXIgY3VycmVudFNjcm9sbCA9IGdldFNjcm9sbFBvc2l0aW9uKHdpbikueTsNCiAgICAgICAgLy8gb2Zmc2V0ICs9IDUwOw0KICAgICAgICBpZiAob2Zmc2V0ID4gY3VycmVudFNjcm9sbCB8fCBvZmZzZXQgPCBjdXJyZW50U2Nyb2xsIC0gd2luSGVpZ2h0KSB7DQogICAgICAgICAgICB3aW4uc2Nyb2xsVG8oMCwgb2Zmc2V0ICsgKG9mZnNldCA8IDAgPyAtMjAgOiAyMCkpOw0KICAgICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliKTmlq3nu5nlrproioLngrnmmK/lkKbkuLpicg0KICAgICAqIEBtZXRob2QgaXNCcg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeWIpOaWreeahOiKgueCueWvueixoQ0KICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g57uZ5a6a55qE6IqC54K55piv5ZCm5pivYnLoioLngrkNCiAgICAgKi8NCiAgICBpc0JyOmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDEgJiYgbm9kZS50YWdOYW1lID09ICdCUic7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDliKTmlq3nu5nlrprnmoToioLngrnmmK/lkKbmmK/kuIDkuKrigJzloavlhYXigJ3oioLngrkNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBtZXRob2QgaXNGaWxsQ2hhcg0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeWIpOaWreeahOiKgueCuQ0KICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpc0luU3RhcnQg5piv5ZCm5LuO6IqC54K55YaF5a6555qE5byA5aeL5L2N572u5Yy56YWNDQogICAgICogQHJldHVybnMgeyBCb29sZWFuIH0g6IqC54K55piv5ZCm5piv5aGr5YWF6IqC54K5DQogICAgICovDQogICAgaXNGaWxsQ2hhcjpmdW5jdGlvbiAobm9kZSxpc0luU3RhcnQpIHsNCiAgICAgICAgaWYobm9kZS5ub2RlVHlwZSAhPSAzKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB2YXIgdGV4dCA9IG5vZGUubm9kZVZhbHVlOw0KICAgICAgICBpZihpc0luU3RhcnQpew0KICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgZG9tVXRpbHMuZmlsbENoYXIpLnRlc3QodGV4dCkNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gIXRleHQucmVwbGFjZShuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCdnJyksICcnKS5sZW5ndGgNCiAgICB9LA0KICAgIGlzU3RhcnRJbmJsb2NrOmZ1bmN0aW9uIChyYW5nZSkgew0KICAgICAgICB2YXIgdG1wUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCksDQogICAgICAgICAgICBmbGFnID0gMCwNCiAgICAgICAgICAgIHN0YXJ0ID0gdG1wUmFuZ2Uuc3RhcnRDb250YWluZXIsDQogICAgICAgICAgICB0bXA7DQogICAgICAgIGlmKHN0YXJ0Lm5vZGVUeXBlID09IDEgJiYgc3RhcnQuY2hpbGROb2Rlc1t0bXBSYW5nZS5zdGFydE9mZnNldF0pew0KICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5jaGlsZE5vZGVzW3RtcFJhbmdlLnN0YXJ0T2Zmc2V0XTsNCiAgICAgICAgICAgIHZhciBwcmUgPSBzdGFydC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICB3aGlsZShwcmUgJiYgZG9tVXRpbHMuaXNGaWxsQ2hhcihwcmUpKXsNCiAgICAgICAgICAgICAgICBzdGFydCA9IHByZTsNCiAgICAgICAgICAgICAgICBwcmUgPSBwcmUucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKHRoaXMuaXNGaWxsQ2hhcihzdGFydCx0cnVlKSAmJiB0bXBSYW5nZS5zdGFydE9mZnNldCA9PSAxKXsNCiAgICAgICAgICAgIHRtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KTsNCiAgICAgICAgICAgIHN0YXJ0ID0gdG1wUmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgIH0NCg0KICAgICAgICB3aGlsZSAoc3RhcnQgJiYgZG9tVXRpbHMuaXNGaWxsQ2hhcihzdGFydCkpIHsNCiAgICAgICAgICAgIHRtcCA9IHN0YXJ0Ow0KICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5wcmV2aW91c1NpYmxpbmcNCiAgICAgICAgfQ0KICAgICAgICBpZiAodG1wKSB7DQogICAgICAgICAgICB0bXBSYW5nZS5zZXRTdGFydEJlZm9yZSh0bXApOw0KICAgICAgICAgICAgc3RhcnQgPSB0bXBSYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoc3RhcnQubm9kZVR5cGUgPT0gMSAmJiBkb21VdGlscy5pc0VtcHR5Tm9kZShzdGFydCkgJiYgdG1wUmFuZ2Uuc3RhcnRPZmZzZXQgPT0gMSkgew0KICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIDApLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICB9DQogICAgICAgIHdoaWxlICghdG1wUmFuZ2Uuc3RhcnRPZmZzZXQpIHsNCiAgICAgICAgICAgIHN0YXJ0ID0gdG1wUmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNCbG9ja0VsbShzdGFydCkgfHwgZG9tVXRpbHMuaXNCb2R5KHN0YXJ0KSkgew0KICAgICAgICAgICAgICAgIGZsYWcgPSAxOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHByZSA9IHRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLnByZXZpb3VzU2libGluZywNCiAgICAgICAgICAgICAgICB0bXBOb2RlOw0KICAgICAgICAgICAgaWYgKCFwcmUpIHsNCiAgICAgICAgICAgICAgICB0bXBSYW5nZS5zZXRTdGFydEJlZm9yZSh0bXBSYW5nZS5zdGFydENvbnRhaW5lcik7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHdoaWxlIChwcmUgJiYgZG9tVXRpbHMuaXNGaWxsQ2hhcihwcmUpKSB7DQogICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSBwcmU7DQogICAgICAgICAgICAgICAgICAgIHByZSA9IHByZS5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmICh0bXBOb2RlKSB7DQogICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKHRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZsYWcgJiYgIWRvbVV0aWxzLmlzQm9keSh0bXBSYW5nZS5zdGFydENvbnRhaW5lcikgPyAxIDogMDsNCiAgICB9LA0KDQogICAgLyoqDQogICAgICog5Yik5pat57uZ5a6a55qE5YWD57Sg5piv5ZCm5piv5LiA5Liq56m65YWD57SgDQogICAgICogQG1ldGhvZCBpc0VtcHR5QmxvY2sNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHliKTmlq3nmoTlhYPntKANCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOaYr+WQpuaYr+epuuWFg+e0oA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPjwvZGl2Pg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5pc0VtcHR5QmxvY2soIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0IikgKSApOw0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5qC55o2u5oyH5a6a55qE5Yik5pat6KeE5YiZ5Yik5pat57uZ5a6a55qE5YWD57Sg5piv5ZCm5piv5LiA5Liq56m65YWD57SgDQogICAgICogQG1ldGhvZCBpc0VtcHR5QmxvY2sNCiAgICAgKiBAcGFyYW0geyBFbGVtZW50IH0gbm9kZSDpnIDopoHliKTmlq3nmoTlhYPntKANCiAgICAgKiBAcGFyYW0geyBSZWdFeHAgfSByZWcg5a+55YaF5a655omn6KGM5Yik5pat55qE5q2j5YiZ6KGo6L6+5byP5a+56LGhDQogICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDmmK/lkKbmmK/nqbrlhYPntKANCiAgICAgKi8NCiAgICBpc0VtcHR5QmxvY2s6ZnVuY3Rpb24gKG5vZGUscmVnKSB7DQogICAgICAgIGlmKG5vZGUubm9kZVR5cGUgIT0gMSkNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICByZWcgPSByZWcgfHwgbmV3IFJlZ0V4cCgnWyBcdFxyXG4nICsgZG9tVXRpbHMuZmlsbENoYXIgKyAnXScsICdnJyk7DQogICAgICAgIGlmIChub2RlW2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCddLnJlcGxhY2UocmVnLCAnJykubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgbiBpbiBkdGQuJGlzTm90RW1wdHkpIHsNCiAgICAgICAgICAgIGlmIChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAxOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDnp7vliqjlhYPntKDkvb/lvpfor6XlhYPntKDnmoTkvY3nva7np7vliqjmjIflrprnmoTlgY/np7vph4/nmoTot53nprsNCiAgICAgKiBAbWV0aG9kIHNldFZpZXdwb3J0T2Zmc2V0DQogICAgICogQHBhcmFtIHsgRWxlbWVudCB9IGVsZW1lbnQg6ZyA6KaB6K6+572u5YGP56e76YeP55qE5YWD57SgDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gb2Zmc2V0IOWBj+enu+mHj++8jCDlvaLlpoJ7IGxlZnQ6IDEwMCwgdG9wOiA1MCB955qE5LiA5Liq6ZSu5YC85a+577yMIOihqOekuuivpeWFg+e0oOWwhuWcqA0KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOeOsOacieeahOS9jee9ruS4iuWQkeawtOW5s+aWueWQkeWBj+enu29mZnNldC5sZWZ055qE6Led56a777yMIOWcqOerluebtOaWueWQkeS4iuWBj+enuw0KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldC50b3DnmoTot53nprsNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0IiBzdHlsZT0idG9wOiAxMDBweDsgbGVmdDogNTBweDsgcG9zaXRpb246IGFic29sdXRlOyI+PC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLnNldFZpZXdwb3J0T2Zmc2V0KCB0ZXN0Tm9kZSwgew0KICAgICAqICAgICAgICAgbGVmdDogMjAwLA0KICAgICAqICAgICAgICAgdG9wOiA1MA0KICAgICAqICAgICB9ICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRvcDogMzAwcHg7IGxlZnQ6IDEwMHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICogICAgIGNvbnNvbGUubG9nKCB0ZXN0Tm9kZS5zdHlsZS5jc3NUZXh0ICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBzZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbiAoZWxlbWVudCwgb2Zmc2V0KSB7DQogICAgICAgIHZhciBsZWZ0ID0gcGFyc2VJbnQoZWxlbWVudC5zdHlsZS5sZWZ0KSB8IDA7DQogICAgICAgIHZhciB0b3AgPSBwYXJzZUludChlbGVtZW50LnN0eWxlLnRvcCkgfCAwOw0KICAgICAgICB2YXIgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICAgIHZhciBvZmZzZXRMZWZ0ID0gb2Zmc2V0LmxlZnQgLSByZWN0LmxlZnQ7DQogICAgICAgIHZhciBvZmZzZXRUb3AgPSBvZmZzZXQudG9wIC0gcmVjdC50b3A7DQogICAgICAgIGlmIChvZmZzZXRMZWZ0KSB7DQogICAgICAgICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgb2Zmc2V0TGVmdCArICdweCc7DQogICAgICAgIH0NCiAgICAgICAgaWYgKG9mZnNldFRvcCkgew0KICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyBvZmZzZXRUb3AgKyAncHgnOw0KICAgICAgICB9DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOeUqOKAnOWhq+WFheWtl+espuKAneWhq+WFheiKgueCuQ0KICAgICAqIEBtZXRob2QgZmlsbE5vZGUNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBwYXJhbSB7IERvbURvY3VtZW50IH0gZG9jIOWhq+WFheeahOiKgueCueaJgOWcqOeahGRvY21lbnTlr7nosaENCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHloavlhYXnmoToioLngrnlr7nosaENCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0Ij48L2Rpdj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICogICAgIHZhciB0ZXN0Tm9kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0Iik7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IDANCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoICk7DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLmZpbGxOb2RlKCBkb2N1bWVudCwgdGVzdE5vZGUgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogMQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggdGVzdE5vZGUuY2hpbGROb2Rlcy5sZW5ndGggKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGZpbGxOb2RlOmZ1bmN0aW9uIChkb2MsIG5vZGUpIHsNCiAgICAgICAgdmFyIHRtcE5vZGUgPSBicm93c2VyLmllID8gZG9jLmNyZWF0ZVRleHROb2RlKGRvbVV0aWxzLmZpbGxDaGFyKSA6IGRvYy5jcmVhdGVFbGVtZW50KCdicicpOw0KICAgICAgICBub2RlLmlubmVySFRNTCA9ICcnOw0KICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRtcE5vZGUpOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDmioroioLngrlzcmPnmoTmiYDmnInlrZDoioLngrnov73liqDliLDlj6bkuIDkuKroioLngrl0YWfkuIrljrsNCiAgICAgKiBAbWV0aG9kIG1vdmVDaGlsZA0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBzcmMg5rqQ6IqC54K577yMIOivpeiKgueCueS4i+eahOaJgOacieWtkOiKgueCueWwhuiiq+enu+mZpA0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSB0YWcg55uu5qCH6IqC54K577yMIOS7jua6kOiKgueCueenu+mZpOeahOWtkOiKgueCueWwhuiiq+i/veWKoOWIsOivpeiKgueCueS4iw0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QxIj4NCiAgICAgKiAgICAgIDxzcGFuPjwvc3Bhbj4NCiAgICAgKiA8L2Rpdj4NCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0MiI+DQogICAgICogICAgIDxkaXY+PC9kaXY+DQogICAgICogPC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIHZhciB0ZXN0MSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0MSIpLA0KICAgICAqICAgICAgICAgdGVzdDIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdDIiKTsNCiAgICAgKg0KICAgICAqICAgICBVRS5kb20uZG9tVXRpbHMubW92ZUNoaWxkKCB0ZXN0MSwgdGVzdDIgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogIiLvvIjnqbrlrZfnrKbkuLLvvIkNCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3QxLmlubmVySFRNTCApOw0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiAiPGRpdj48L2Rpdj48c3Bhbj48L3NwYW4+Ig0KICAgICAqICAgICBjb25zb2xlLmxvZyggdGVzdDIuaW5uZXJIVE1MICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOaKiuiKgueCuXNyY+eahOaJgOacieWtkOiKgueCueenu+WKqOWIsOWPpuS4gOS4quiKgueCuXRhZ+S4iuWOuywg5Y+v5Lul6YCa6L+HZGly5Y+C5pWw5o6n5Yi26ZmE5Yqg55qE6KGM5Li65piv4oCc6L+95Yqg4oCd6L+Y5piv4oCc5o+S5YWl6aG26YOo4oCdDQogICAgICogQG1ldGhvZCBtb3ZlQ2hpbGQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gc3JjIOa6kOiKgueCue+8jCDor6XoioLngrnkuIvnmoTmiYDmnInlrZDoioLngrnlsIbooqvnp7vpmaQNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gdGFnIOebruagh+iKgueCue+8jCDku47mupDoioLngrnnp7vpmaTnmoTlrZDoioLngrnlsIbooqvpmYTliqDliLDor6XoioLngrnkuIsNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gZGlyIOmZhOWKoOaWueW8j++8jCDlpoLmnpzkuLp0cnVl77yMIOWImemZhOWKoOi/m+WOu+eahOiKgueCueWwhuiiq+aUvuWIsOebruagh+iKgueCueeahOmhtumDqO+8jCDlj43kuYvvvIzliJnmlL7liLDmnKvlsL4NCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0MSI+DQogICAgICogICAgICA8c3Bhbj48L3NwYW4+DQogICAgICogPC9kaXY+DQogICAgICogPGRpdiBpZD0idGVzdDIiPg0KICAgICAqICAgICA8ZGl2PjwvZGl2Pg0KICAgICAqIDwvZGl2Pg0KICAgICAqDQogICAgICogPHNjcmlwdD4NCiAgICAgKg0KICAgICAqICAgICB2YXIgdGVzdDEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGVzdDEiKSwNCiAgICAgKiAgICAgICAgIHRlc3QyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QyIik7DQogICAgICoNCiAgICAgKiAgICAgVUUuZG9tLmRvbVV0aWxzLm1vdmVDaGlsZCggdGVzdDEsIHRlc3QyLCB0cnVlICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6ICIi77yI56m65a2X56ym5Liy77yJDQogICAgICogICAgIGNvbnNvbGUubG9nKCB0ZXN0MS5pbm5lckhUTUwgKTsNCiAgICAgKg0KICAgICAqICAgICAvL291dHB1dDogIjxzcGFuPjwvc3Bhbj48ZGl2PjwvZGl2PiINCiAgICAgKiAgICAgY29uc29sZS5sb2coIHRlc3QyLmlubmVySFRNTCApOw0KICAgICAqDQogICAgICogPC9zY3JpcHQ+DQogICAgICogYGBgDQogICAgICovDQogICAgbW92ZUNoaWxkOmZ1bmN0aW9uIChzcmMsIHRhZywgZGlyKSB7DQogICAgICAgIHdoaWxlIChzcmMuZmlyc3RDaGlsZCkgew0KICAgICAgICAgICAgaWYgKGRpciAmJiB0YWcuZmlyc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgIHRhZy5pbnNlcnRCZWZvcmUoc3JjLmxhc3RDaGlsZCwgdGFnLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0YWcuYXBwZW5kQ2hpbGQoc3JjLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOWIpOaWreiKgueCueeahOagh+etvuS4iuaYr+WQpuS4jeWtmOWcqOS7u+S9leWxnuaApw0KICAgICAqIEBtZXRob2QgaGFzTm9BdHRyaWJ1dGVzDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmo4DmtYvnmoToioLngrnlr7nosaENCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOiKgueCueaYr+WQpuS4jeWMheWQq+S7u+S9leWxnuaApw0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgaHRtbA0KICAgICAqIDxkaXYgaWQ9InRlc3QiPjxzcGFuPnh4eHg8L3NwYW4+PC9kaXY+DQogICAgICoNCiAgICAgKiA8c2NyaXB0Pg0KICAgICAqDQogICAgICogICAgIC8vb3V0cHV0OiBmYWxzZQ0KICAgICAqICAgICBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmhhc05vQXR0cmlidXRlcyggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInRlc3QiKSApICk7DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5oYXNOb0F0dHJpYnV0ZXMoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0IikuZmlyc3RDaGlsZCApICk7DQogICAgICoNCiAgICAgKiA8L3NjcmlwdD4NCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBoYXNOb0F0dHJpYnV0ZXM6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgcmV0dXJuIGJyb3dzZXIuaWUgPyAvXjxcdytccyo/Pi8udGVzdChub2RlLm91dGVySFRNTCkgOiBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoID09IDA7DQogICAgfSwNCg0KICAgIC8qKg0KICAgICAqIOajgOa1i+iKgueCueaYr+WQpuaYr1VFZGl0b3LmiYDkvb/nlKjnmoTovoXliqnoioLngrkNCiAgICAgKiBAbWV0aG9kIGlzQ3VzdG9tZU5vZGUNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCuQ0KICAgICAqIEByZW1pbmQg6L6F5Yqp6IqC54K55piv5oyH57yW6L6R5Zmo6KaB5a6M5oiQ5bel5L2c5Li05pe25re75Yqg55qE6IqC54K577yMIOWcqOi+k+WHuueahOaXtuWAmeWwhuS8muS7jue8lui+keWZqOWGheenu+mZpO+8jCDkuI3kvJrlvbHlk43mnIDnu4jnmoTnu5PmnpzjgIINCiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOe7meWumueahOiKgueCueaYr+WQpuaYr+S4gOS4qui+heWKqeiKgueCuQ0KICAgICAqLw0KICAgIGlzQ3VzdG9tZU5vZGU6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBub2RlLmdldEF0dHJpYnV0ZSgnX3VlX2N1c3RvbV9ub2RlXycpOw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDmo4DmtYvoioLngrnnmoTmoIfnrb7mmK/lkKbmmK/nu5nlrprnmoTmoIfnrb4NCiAgICAgKiBAbWV0aG9kIGlzVGFnTm9kZQ0KICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmcgOimgeajgOa1i+eahOiKgueCueWvueixoQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHRhZ05hbWUg5qCH562+DQogICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDoioLngrnnmoTmoIfnrb7mmK/lkKbmmK/nu5nlrprnmoTmoIfnrb4NCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGh0bWwNCiAgICAgKiA8ZGl2IGlkPSJ0ZXN0Ij48L2Rpdj4NCiAgICAgKg0KICAgICAqIDxzY3JpcHQ+DQogICAgICoNCiAgICAgKiAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgKiAgICAgY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5pc1RhZ05vZGUoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0ZXN0IiksICJkaXYiICkgKTsNCiAgICAgKg0KICAgICAqIDwvc2NyaXB0Pg0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIGlzVGFnTm9kZTpmdW5jdGlvbiAobm9kZSwgdGFnTmFtZXMpIHsNCiAgICAgICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBuZXcgUmVnRXhwKCdcXGInICsgbm9kZS50YWdOYW1lICsgJ1xcYicsJ2knKS50ZXN0KHRhZ05hbWVzKQ0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDnu5nlrprkuIDkuKroioLngrnmlbDnu4TvvIzlnKjpgJrov4fmjIflrprnmoTov4fmu6Tlmajov4fmu6TlkI7vvIwg6I635Y+W5YW25Lit5ruh6Laz6L+H5ruk5p2h5Lu255qE56ys5LiA5Liq6IqC54K5DQogICAgICogQG1ldGhvZCBmaWx0ZXJOb2RlTGlzdA0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gbm9kZUxpc3Qg6ZyA6KaB6L+H5ruk55qE6IqC54K55pWw57uEDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDov4fmu6TlmajvvIwg5a+556ym5ZCI5p2h5Lu255qE6IqC54K577yMIOaJp+ihjOe7k+aenOi/lOWbnnRydWXvvIwg5Y+N5LmL5YiZ6L+U5ZueZmFsc2UNCiAgICAgKiBAcmV0dXJuIHsgTm9kZSB8IE5VTEwgfSDlpoLmnpzmib7liLDnrKblkIjov4fmu6TmnaHku7bnmoToioLngrnvvIwg5YiZ6L+U5Zue6K+l6IqC54K577yMIOWQpuWImei/lOWbnk5VTEwNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiB2YXIgZGl2Tm9kZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZGl2Iik7DQogICAgICogZGl2Tm9kZXMgPSBbXS5zbGljZS5jYWxsKCBkaXZOb2RlcywgMCApOw0KICAgICAqDQogICAgICogLy9vdXRwdXQ6IG51bGwNCiAgICAgKiBjb25zb2xlLmxvZyggVUUuZG9tLmRvbVV0aWxzLmZpbHRlck5vZGVMaXN0KCBkaXZOb2RlcywgZnVuY3Rpb24gKCBub2RlICkgew0KICAgICAqICAgICByZXR1cm4gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdkaXYnOw0KICAgICAqIH0gKSApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog57uZ5a6a5LiA5Liq6IqC54K55pWw57uEbm9kZUxpc3TlkozkuIDnu4TmoIfnrb7lkI10YWdOYW1lc++8jCDojrflj5blhbbkuK3og73lpJ/ljLnphY3moIfnrb7lkI3nmoToioLngrnpm4blkIjkuK3nmoTnrKzkuIDkuKroioLngrkNCiAgICAgKiBAbWV0aG9kIGZpbHRlck5vZGVMaXN0DQogICAgICogQHBhcmFtIHsgQXJyYXkgfSBub2RlTGlzdCDpnIDopoHov4fmu6TnmoToioLngrnmlbDnu4QNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0YWdOYW1lcyDpnIDopoHljLnphY3nmoTmoIfnrb7lkI3vvIwg5aSa5Liq5qCH562+5ZCN5LmL6Ze055So56m65qC85YiG5YmyDQogICAgICogQHJldHVybiB7IE5vZGUgfCBOVUxMIH0g5aaC5p6c5om+5Yiw5qCH562+5ZCN5Yy56YWN55qE6IqC54K577yMIOWImei/lOWbnuivpeiKgueCue+8jCDlkKbliJnov5Tlm55OVUxMDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGRpdk5vZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOw0KICAgICAqIGRpdk5vZGVzID0gW10uc2xpY2UuY2FsbCggZGl2Tm9kZXMsIDAgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiBudWxsDQogICAgICogY29uc29sZS5sb2coIFVFLmRvbS5kb21VdGlscy5maWx0ZXJOb2RlTGlzdCggZGl2Tm9kZXMsICdhIHNwYW4nICkgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOe7meWumuS4gOS4quiKgueCueaVsOe7hO+8jOWcqOmAmui/h+aMh+WumueahOi/h+a7pOWZqOi/h+a7pOWQju+8jCDlpoLmnpzlj4LmlbBmb3JBbGzkuLp0cnVl77yMIOWImeS8mui/lOWbnuaJgOaciea7oei2s+i/h+a7pA0KICAgICAqIOadoeS7tueahOiKgueCuembhuWQiO+8jCDlkKbliJnvvIwg6L+U5Zue5ruh6Laz5p2h5Lu255qE6IqC54K56ZuG5ZCI5Lit55qE56ys5LiA5Liq6IqC54K5DQogICAgICogQG1ldGhvZCBmaWx0ZXJOb2RlTGlzdA0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gbm9kZUxpc3Qg6ZyA6KaB6L+H5ruk55qE6IqC54K55pWw57uEDQogICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDov4fmu6TlmajvvIwg5a+556ym5ZCI5p2h5Lu255qE6IqC54K577yMIOaJp+ihjOe7k+aenOi/lOWbnnRydWXvvIwg5Y+N5LmL5YiZ6L+U5ZueZmFsc2UNCiAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gZm9yQWxsIOaYr+WQpui/lOWbnuaVtOS4quiKgueCueaVsOe7hCwg5aaC5p6c6K+l5Y+C5pWw5Li6ZmFsc2XvvIwg5YiZ6L+U5Zue6IqC54K56ZuG5ZCI5Lit55qE56ys5LiA5Liq6IqC54K5DQogICAgICogQHJldHVybiB7IEFycmF5IHwgTm9kZSB8IE5VTEwgfSDlpoLmnpzmib7liLDnrKblkIjov4fmu6TmnaHku7bnmoToioLngrnvvIwg5YiZ5qC55o2u5Y+C5pWwZm9yQWxs55qE5YC85Yaz5a6a6L+U5Zue5ruh6LazDQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOi/h+a7pOadoeS7tueahOiKgueCueaVsOe7hOaIluesrOS4gOS4quiKgueCue+8jCDlkKbliJnov5Tlm55OVUxMDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGRpdk5vZGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImRpdiIpOw0KICAgICAqIGRpdk5vZGVzID0gW10uc2xpY2UuY2FsbCggZGl2Tm9kZXMsIDAgKTsNCiAgICAgKg0KICAgICAqIC8vb3V0cHV0OiAz77yI5YGH5a6a5pyJM+S4qmRpdu+8iQ0KICAgICAqIGNvbnNvbGUubG9nKCBkaXZOb2Rlcy5sZW5ndGggKTsNCiAgICAgKg0KICAgICAqIHZhciBub2RlcyA9IFVFLmRvbS5kb21VdGlscy5maWx0ZXJOb2RlTGlzdCggZGl2Tm9kZXMsIGZ1bmN0aW9uICggbm9kZSApIHsNCiAgICAgKiAgICAgcmV0dXJuIG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnZGl2JzsNCiAgICAgKiB9LCB0cnVlICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogMw0KICAgICAqIGNvbnNvbGUubG9nKCBub2Rlcy5sZW5ndGggKTsNCiAgICAgKg0KICAgICAqIHZhciBub2RlID0gVUUuZG9tLmRvbVV0aWxzLmZpbHRlck5vZGVMaXN0KCBkaXZOb2RlcywgZnVuY3Rpb24gKCBub2RlICkgew0KICAgICAqICAgICByZXR1cm4gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkaXYnOw0KICAgICAqIH0sIGZhbHNlICk7DQogICAgICoNCiAgICAgKiAvL291dHB1dDogZGl2DQogICAgICogY29uc29sZS5sb2coIG5vZGUubm9kZU5hbWUgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBmaWx0ZXJOb2RlTGlzdCA6IGZ1bmN0aW9uKG5vZGVsaXN0LGZpbHRlcixmb3JBbGwpew0KICAgICAgICB2YXIgcmVzdWx0cyA9IFtdOw0KICAgICAgICBpZighdXRpbHMgLmlzRnVuY3Rpb24oZmlsdGVyKSl7DQogICAgICAgICAgICB2YXIgc3RyID0gZmlsdGVyOw0KICAgICAgICAgICAgZmlsdGVyID0gZnVuY3Rpb24obil7DQogICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLmluZGV4T2YodXRpbHMuaXNBcnJheShzdHIpID8gc3RyOnN0ci5zcGxpdCgnICcpLCBuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgIT0gLTENCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICAgICAgdXRpbHMuZWFjaChub2RlbGlzdCxmdW5jdGlvbihuKXsNCiAgICAgICAgICAgIGZpbHRlcihuKSAmJiByZXN1bHRzLnB1c2gobikNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCAgPT0gMCA/IG51bGwgOiByZXN1bHRzLmxlbmd0aCA9PSAxIHx8ICFmb3JBbGwgPyByZXN1bHRzWzBdIDogcmVzdWx0cw0KICAgIH0sDQoNCiAgICAvKioNCiAgICAgKiDmn6Xor6Lnu5nlrprnmoRyYW5nZemAieWMuuaYr+WQpuWcqOe7meWumueahG5vZGXoioLngrnlhoXvvIzkuJTlnKjor6XoioLngrnnmoTmnIDmnKvlsL4NCiAgICAgKiBAbWV0aG9kIGlzSW5Ob2RlRW5kQm91bmRhcnkNCiAgICAgKiBAcGFyYW0geyBVRS5kb20uUmFuZ2UgfSBybmcg6ZyA6KaB5Yik5pat55qEcmFuZ2Xlr7nosaHvvIwg6K+l5a+56LGh55qEc3RhcnRDb250YWluZXLkuI3og73kuLpOVUxMDQogICAgICogQHBhcmFtIG5vZGUg6ZyA6KaB5qOA5rWL55qE6IqC54K55a+56LGhDQogICAgICogQHJldHVybiB7IE51bWJlciB9IOWmguaenOe7meWumueahOmAieWPlnJhbmdl5a+56LGh5piv5Zyobm9kZeWGhemDqOeahOacgOacq+err++8jCDliJnov5Tlm54xLCDlkKbliJnov5Tlm54wDQogICAgICovDQogICAgaXNJbk5vZGVFbmRCb3VuZGFyeSA6IGZ1bmN0aW9uIChybmcsbm9kZSl7DQogICAgICAgIHZhciBzdGFydCA9IHJuZy5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgaWYoc3RhcnQubm9kZVR5cGUgPT0gMyAmJiBybmcuc3RhcnRPZmZzZXQgIT0gc3RhcnQubm9kZVZhbHVlLmxlbmd0aCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICBpZihzdGFydC5ub2RlVHlwZSA9PSAxICYmIHJuZy5zdGFydE9mZnNldCAhPSBzdGFydC5jaGlsZE5vZGVzLmxlbmd0aCl7DQogICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgfQ0KICAgICAgICB3aGlsZShzdGFydCAhPT0gbm9kZSl7DQogICAgICAgICAgICBpZihzdGFydC5uZXh0U2libGluZyl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDANCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBzdGFydCA9IHN0YXJ0LnBhcmVudE5vZGU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDE7DQogICAgfSwNCiAgICBpc0JvdW5kYXJ5Tm9kZSA6IGZ1bmN0aW9uIChub2RlLGRpcil7DQogICAgICAgIHZhciB0bXA7DQogICAgICAgIHdoaWxlKCFkb21VdGlscy5pc0JvZHkobm9kZSkpew0KICAgICAgICAgICAgdG1wID0gbm9kZTsNCiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICBpZih0bXAgIT09IG5vZGVbZGlyXSl7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCn07DQp2YXIgZmlsbENoYXJSZWcgPSBuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCAnZycpOw0KLyoqDQogKiBSYW5nZeWwgeijhQ0KICogQGZpbGUNCiAqIEBtb2R1bGUgVUUuZG9tDQogKiBAY2xhc3MgUmFuZ2UNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiBkb23mk43kvZzlsIHoo4UNCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUuZG9tDQogKi8NCg0KLyoqDQogKiBSYW5nZeWunueOsOexu++8jOacrOexu+aYr1VFZGl0b3LlupXlsYLmoLjlv4PnsbvvvIzlsIHoo4XkuI3lkIzmtY/op4jlmajkuYvpl7TnmoRSYW5nZeaTjeS9nOOAgg0KICogQHVuZmlsZQ0KICogQG1vZHVsZSBVRS5kb20NCiAqIEBjbGFzcyBSYW5nZQ0KICovDQoNCg0KKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgZ3VpZCA9IDAsDQogICAgICAgIGZpbGxDaGFyID0gZG9tVXRpbHMuZmlsbENoYXIsDQogICAgICAgIGZpbGxEYXRhOw0KDQogICAgLyoNCiAgICAgKiDmm7TmlrByYW5nZeeahGNvbGxhcHNl54q25oCBDQogICAgICogQHBhcmFtICB7UmFuZ2V9ICAgcmFuZ2UgICAgcmFuZ2Xlr7nosaENCiAgICAgKi8NCiAgICBmdW5jdGlvbiB1cGRhdGVDb2xsYXBzZShyYW5nZSkgew0KICAgICAgICByYW5nZS5jb2xsYXBzZWQgPQ0KICAgICAgICAgICAgcmFuZ2Uuc3RhcnRDb250YWluZXIgJiYgcmFuZ2UuZW5kQ29udGFpbmVyICYmDQogICAgICAgICAgICAgICAgcmFuZ2Uuc3RhcnRDb250YWluZXIgPT09IHJhbmdlLmVuZENvbnRhaW5lciAmJg0KICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0T2Zmc2V0ID09IHJhbmdlLmVuZE9mZnNldDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZWxlY3RPbmVOb2RlKHJuZyl7DQogICAgICAgIHJldHVybiAhcm5nLmNvbGxhcHNlZCAmJiBybmcuc3RhcnRDb250YWluZXIubm9kZVR5cGUgPT0gMSAmJiBybmcuc3RhcnRDb250YWluZXIgPT09IHJuZy5lbmRDb250YWluZXIgJiYgcm5nLmVuZE9mZnNldCAtIHJuZy5zdGFydE9mZnNldCA9PSAxDQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldEVuZFBvaW50KHRvU3RhcnQsIG5vZGUsIG9mZnNldCwgcmFuZ2UpIHsNCiAgICAgICAgLy/lpoLmnpxub2Rl5piv6Ieq6Zet5ZCI5qCH562+6KaB5aSE55CGDQogICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgKGR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSB8fCBkdGQuJG5vbkNoaWxkW25vZGUudGFnTmFtZV0pKSB7DQogICAgICAgICAgICBvZmZzZXQgPSBkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSkgKyAodG9TdGFydCA/IDAgOiAxKTsNCiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHRvU3RhcnQpIHsNCiAgICAgICAgICAgIHJhbmdlLnN0YXJ0Q29udGFpbmVyID0gbm9kZTsNCiAgICAgICAgICAgIHJhbmdlLnN0YXJ0T2Zmc2V0ID0gb2Zmc2V0Ow0KICAgICAgICAgICAgaWYgKCFyYW5nZS5lbmRDb250YWluZXIpIHsNCiAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHJhbmdlLmVuZENvbnRhaW5lciA9IG5vZGU7DQogICAgICAgICAgICByYW5nZS5lbmRPZmZzZXQgPSBvZmZzZXQ7DQogICAgICAgICAgICBpZiAoIXJhbmdlLnN0YXJ0Q29udGFpbmVyKSB7DQogICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoZmFsc2UpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHVwZGF0ZUNvbGxhcHNlKHJhbmdlKTsNCiAgICAgICAgcmV0dXJuIHJhbmdlOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGV4ZWNDb250ZW50c0FjdGlvbihyYW5nZSwgYWN0aW9uKSB7DQogICAgICAgIC8v6LCD5pW06L6555WMDQogICAgICAgIC8vcmFuZ2UuaW5jbHVkZUJvb2ttYXJrKCk7DQogICAgICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLA0KICAgICAgICAgICAgZW5kID0gcmFuZ2UuZW5kQ29udGFpbmVyLA0KICAgICAgICAgICAgc3RhcnRPZmZzZXQgPSByYW5nZS5zdGFydE9mZnNldCwNCiAgICAgICAgICAgIGVuZE9mZnNldCA9IHJhbmdlLmVuZE9mZnNldCwNCiAgICAgICAgICAgIGRvYyA9IHJhbmdlLmRvY3VtZW50LA0KICAgICAgICAgICAgZnJhZyA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksDQogICAgICAgICAgICB0bXBTdGFydCwgdG1wRW5kOw0KICAgICAgICBpZiAoc3RhcnQubm9kZVR5cGUgPT0gMSkgew0KICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5jaGlsZE5vZGVzW3N0YXJ0T2Zmc2V0XSB8fCAodG1wU3RhcnQgPSBzdGFydC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoJycpKSk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGVuZC5ub2RlVHlwZSA9PSAxKSB7DQogICAgICAgICAgICBlbmQgPSBlbmQuY2hpbGROb2Rlc1tlbmRPZmZzZXRdIHx8ICh0bXBFbmQgPSBlbmQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKCcnKSkpOw0KICAgICAgICB9DQogICAgICAgIGlmIChzdGFydCA9PT0gZW5kICYmIHN0YXJ0Lm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHN0YXJ0LnN1YnN0cmluZ0RhdGEoc3RhcnRPZmZzZXQsIGVuZE9mZnNldCAtIHN0YXJ0T2Zmc2V0KSkpOw0KICAgICAgICAgICAgLy9pcyBub3QgY2xvbmUNCiAgICAgICAgICAgIGlmIChhY3Rpb24pIHsNCiAgICAgICAgICAgICAgICBzdGFydC5kZWxldGVEYXRhKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQgLSBzdGFydE9mZnNldCk7DQogICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZnJhZzsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY3VycmVudCwgY3VycmVudExldmVsLCBjbG9uZSA9IGZyYWcsDQogICAgICAgICAgICBzdGFydFBhcmVudHMgPSBkb21VdGlscy5maW5kUGFyZW50cyhzdGFydCwgdHJ1ZSksIGVuZFBhcmVudHMgPSBkb21VdGlscy5maW5kUGFyZW50cyhlbmQsIHRydWUpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgc3RhcnRQYXJlbnRzW2ldID09IGVuZFBhcmVudHNbaV07KSB7DQogICAgICAgICAgICBpKys7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaiA9IGksIHNpOyBzaSA9IHN0YXJ0UGFyZW50c1tqXTsgaisrKSB7DQogICAgICAgICAgICBjdXJyZW50ID0gc2kubmV4dFNpYmxpbmc7DQogICAgICAgICAgICBpZiAoc2kgPT0gc3RhcnQpIHsNCiAgICAgICAgICAgICAgICBpZiAoIXRtcFN0YXJ0KSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoc3RhcnQubm9kZVZhbHVlLnNsaWNlKHN0YXJ0T2Zmc2V0KSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyBub3QgY2xvbmUNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5kZWxldGVEYXRhKHN0YXJ0T2Zmc2V0LCBzdGFydC5ub2RlVmFsdWUubGVuZ3RoIC0gc3RhcnRPZmZzZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoIWFjdGlvbiA/IHN0YXJ0LmNsb25lTm9kZSh0cnVlKSA6IHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gc2kuY2xvbmVOb2RlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChjdXJyZW50TGV2ZWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHsNCiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gZW5kIHx8IGN1cnJlbnQgPT09IGVuZFBhcmVudHNbal0pIHsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNpID0gY3VycmVudC5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZCghYWN0aW9uID8gY3VycmVudC5jbG9uZU5vZGUodHJ1ZSkgOiBjdXJyZW50KTsNCiAgICAgICAgICAgICAgICBjdXJyZW50ID0gc2k7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBjbG9uZSA9IGN1cnJlbnRMZXZlbDsNCiAgICAgICAgfQ0KICAgICAgICBjbG9uZSA9IGZyYWc7DQogICAgICAgIGlmICghc3RhcnRQYXJlbnRzW2ldKSB7DQogICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChzdGFydFBhcmVudHNbaSAtIDFdLmNsb25lTm9kZShmYWxzZSkpOw0KICAgICAgICAgICAgY2xvbmUgPSBjbG9uZS5maXJzdENoaWxkOw0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIGogPSBpLCBlaTsgZWkgPSBlbmRQYXJlbnRzW2pdOyBqKyspIHsNCiAgICAgICAgICAgIGN1cnJlbnQgPSBlaS5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICBpZiAoZWkgPT0gZW5kKSB7DQogICAgICAgICAgICAgICAgaWYgKCF0bXBFbmQgJiYgcmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgY2xvbmUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGVuZC5zdWJzdHJpbmdEYXRhKDAsIGVuZE9mZnNldCkpKTsNCiAgICAgICAgICAgICAgICAgICAgLy9pcyBub3QgY2xvbmUNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGlvbikgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kLmRlbGV0ZURhdGEoMCwgZW5kT2Zmc2V0KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gZWkuY2xvbmVOb2RlKGZhbHNlKTsNCiAgICAgICAgICAgICAgICBjbG9uZS5hcHBlbmRDaGlsZChjdXJyZW50TGV2ZWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/lpoLmnpzkuKTnq6/lkIznuqfvvIzlj7PovrnnrKzkuIDmrKHlt7Lnu4/ooqvlvIDlp4vlgZrkuoYNCiAgICAgICAgICAgIGlmIChqICE9IGkgfHwgIXN0YXJ0UGFyZW50c1tpXSkgew0KICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50KSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSBzdGFydCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZWkgPSBjdXJyZW50LnByZXZpb3VzU2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgY2xvbmUuaW5zZXJ0QmVmb3JlKCFhY3Rpb24gPyBjdXJyZW50LmNsb25lTm9kZSh0cnVlKSA6IGN1cnJlbnQsIGNsb25lLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZWk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2xvbmUgPSBjdXJyZW50TGV2ZWw7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGFjdGlvbikgew0KICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoIWVuZFBhcmVudHNbaV0gPyBlbmRQYXJlbnRzW2kgLSAxXSA6ICFzdGFydFBhcmVudHNbaV0gPyBzdGFydFBhcmVudHNbaSAtIDFdIDogZW5kUGFyZW50c1tpXSkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgIH0NCiAgICAgICAgdG1wU3RhcnQgJiYgZG9tVXRpbHMucmVtb3ZlKHRtcFN0YXJ0KTsNCiAgICAgICAgdG1wRW5kICYmIGRvbVV0aWxzLnJlbW92ZSh0bXBFbmQpOw0KICAgICAgICByZXR1cm4gZnJhZzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDliJvlu7rkuIDkuKrot59kb2N1bWVudOe7keWumueahOepuueahFJhbmdl5a6e5L6LDQogICAgICogQGNvbnN0cnVjdG9yDQogICAgICogQHBhcmFtIHsgRG9jdW1lbnQgfSBkb2N1bWVudCDmlrDlu7rnmoTpgInljLrmiYDlsZ7nmoTmlofmoaPlr7nosaENCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIEBwcm9wZXJ0eSB7IE5vZGUgfSBzdGFydENvbnRhaW5lciDlvZPliY1SYW5nZeeahOW8gOWni+i+ueeVjOeahOWuueWZqOiKgueCuSwg5Y+v5Lul5piv5LiA5Liq5YWD57Sg6IqC54K55oiW6ICF5piv5paH5pys6IqC54K5DQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiBAcHJvcGVydHkgeyBOb2RlIH0gc3RhcnRPZmZzZXQg5b2T5YmNUmFuZ2XnmoTlvIDlp4vovrnnlYzlrrnlmajoioLngrnnmoTlgY/np7vph48sIOWmguaenOaYr+WFg+e0oOiKgueCue+8jA0KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6K+l5YC85bCx5pivY2hpbGROb2Rlc+S4reeahOesrOWHoOS4quiKgueCue+8jCDlpoLmnpzmmK/mlofmnKzoioLngrnlsLHmmK/mlofmnKzlhoXlrrnnmoTnrKzlh6DkuKrlrZfnrKYNCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIEBwcm9wZXJ0eSB7IE5vZGUgfSBlbmRDb250YWluZXIg5b2T5YmNUmFuZ2XnmoTnu5PmnZ/ovrnnlYznmoTlrrnlmajoioLngrksIOWPr+S7peaYr+S4gOS4quWFg+e0oOiKgueCueaIluiAheaYr+aWh+acrOiKgueCuQ0KICAgICAqLw0KDQogICAgLyoqDQogICAgICogQHByb3BlcnR5IHsgTm9kZSB9IGVuZE9mZnNldCDlvZPliY1SYW5nZeeahOe7k+adn+i+ueeVjOWuueWZqOiKgueCueeahOWBj+enu+mHjywg5aaC5p6c5piv5YWD57Sg6IqC54K577yMDQogICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDor6XlgLzlsLHmmK9jaGlsZE5vZGVz5Lit55qE56ys5Yeg5Liq6IqC54K577yMIOWmguaenOaYr+aWh+acrOiKgueCueWwseaYr+aWh+acrOWGheWuueeahOesrOWHoOS4quWtl+espg0KICAgICAqLw0KDQogICAgLyoqDQogICAgICogQHByb3BlcnR5IHsgQm9vbGVhbiB9IGNvbGxhcHNlZCDlvZPliY1SYW5nZeaYr+WQpumXreWQiA0KICAgICAqIEBkZWZhdWx0IHRydWUNCiAgICAgKiBAcmVtaW5kIFJhbmdl5piv6Zet5ZCI55qE5pe25YCZ77yMIHN0YXJ0Q29udGFpbmVyID09PSBlbmRDb250YWluZXIgJiYgc3RhcnRPZmZzZXQgPT09IGVuZE9mZnNldA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICogQHByb3BlcnR5IHsgRG9jdW1lbnQgfSBkb2N1bWVudCDlvZPliY1SYW5nZeaJgOWxnueahERvY3VtZW505a+56LGhDQogICAgICogQHJlbWluZCDkuI3lkIxyYW5nZeeahOeahGRvY3VtZW505bGe5oCn5Y+v5Lul5piv5LiN5ZCM55qEDQogICAgICovDQogICAgdmFyIFJhbmdlID0gZG9tLlJhbmdlID0gZnVuY3Rpb24gKGRvY3VtZW50KSB7DQogICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgIG1lLnN0YXJ0Q29udGFpbmVyID0NCiAgICAgICAgICAgIG1lLnN0YXJ0T2Zmc2V0ID0NCiAgICAgICAgICAgICAgICBtZS5lbmRDb250YWluZXIgPQ0KICAgICAgICAgICAgICAgICAgICBtZS5lbmRPZmZzZXQgPSBudWxsOw0KICAgICAgICBtZS5kb2N1bWVudCA9IGRvY3VtZW50Ow0KICAgICAgICBtZS5jb2xsYXBzZWQgPSB0cnVlOw0KICAgIH07DQoNCiAgICAvKg0KICAgICAqIOWIoOmZpGZpbGxEYXRhDQogICAgICogQHBhcmFtIGRvYw0KICAgICAqIEBwYXJhbSBleGNsdWRlTm9kZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHJlbW92ZUZpbGxEYXRhKGRvYywgZXhjbHVkZU5vZGUpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGlmIChmaWxsRGF0YSAmJiBkb21VdGlscy5pbkRvYyhmaWxsRGF0YSwgZG9jKSkgew0KICAgICAgICAgICAgICAgIGlmICghZmlsbERhdGEubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsICcnKS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBmaWxsRGF0YS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoZmlsbERhdGEpOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG1wTm9kZSAmJiBkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudCh0bXBOb2RlKSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9zYWZhcmnnmoRjb250YWluc+aciWJ1Zw0KICAgICAgICAgICAgICAgICAgICAgICAgKGJyb3dzZXIuc2FmYXJpID8gIShkb21VdGlscy5nZXRQb3NpdGlvbih0bXBOb2RlLGV4Y2x1ZGVOb2RlKSAmIGRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TKSA6ICF0bXBOb2RlLmNvbnRhaW5zKGV4Y2x1ZGVOb2RlKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsbERhdGEgPSB0bXBOb2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gZmlsbERhdGE7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBmaWxsRGF0YS5ub2RlVmFsdWUgPSBmaWxsRGF0YS5ub2RlVmFsdWUucmVwbGFjZShmaWxsQ2hhclJlZywgJycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoNCiAgICAgKiBAcGFyYW0gbm9kZQ0KICAgICAqIEBwYXJhbSBkaXINCiAgICAgKi8NCiAgICBmdW5jdGlvbiBtZXJnZVNpYmxpbmcobm9kZSwgZGlyKSB7DQogICAgICAgIHZhciB0bXBOb2RlOw0KICAgICAgICBub2RlID0gbm9kZVtkaXJdOw0KICAgICAgICB3aGlsZSAobm9kZSAmJiBkb21VdGlscy5pc0ZpbGxDaGFyKG5vZGUpKSB7DQogICAgICAgICAgICB0bXBOb2RlID0gbm9kZVtkaXJdOw0KICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5vZGUpOw0KICAgICAgICAgICAgbm9kZSA9IHRtcE5vZGU7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBSYW5nZS5wcm90b3R5cGUgPSB7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWFi+mahumAieWMuueahOWGheWuueWIsOS4gOS4qkRvY3VtZW50RnJhZ21lbnTph4wNCiAgICAgICAgICogQG1ldGhvZCBjbG9uZUNvbnRlbnRzDQogICAgICAgICAqIEByZXR1cm4geyBEb2N1bWVudEZyYWdtZW50IHwgTlVMTCB9IOWmguaenOmAieWMuuaYr+mXreWQiOeahOWwhui/lOWbnm51bGzvvIwg5ZCm5YiZ77yMIOi/lOWbnuWMheWQq+aJgGNsb25l5YaF5a6555qERG9jdW1lbnRGcmFnbWVudOWFg+e0oA0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxib2R5Pg0KICAgICAgICAgKiAgICAgIDwhLS0g5Lit5ous5Y+36KGo56S66YCJ5Yy6IC0tPg0KICAgICAgICAgKiAgICAgIDxiPng8aT54W3g8L2k+eHhdeDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgICA8c2NyaXB0Pg0KICAgICAgICAgKiAgICAgICAgICAvL3Jhbmdl5piv5bey6YCJ5Lit55qE6YCJ5Yy6DQogICAgICAgICAqICAgICAgICAgIHZhciBmcmFnbWVudCA9IHJhbmdlLmNsb25lQ29udGVudHMoKSwNCiAgICAgICAgICogICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCggZnJhZ21lbnQgKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgICAgICAgLy9vdXRwdXQ6IDxpPng8L2k+eHgNCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIG5vZGUuaW5uZXJIVE1MICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgPC9zY3JpcHQ+DQogICAgICAgICAqIDwvYm9keT4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNlZCA/IG51bGwgOiBleGVjQ29udGVudHNBY3Rpb24odGhpcywgMCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWIoOmZpOW9k+WJjemAieWMuuiMg+WbtOS4reeahOaJgOacieWGheWuuQ0KICAgICAgICAgKiBAbWV0aG9kIGRlbGV0ZUNvbnRlbnRzDQogICAgICAgICAqIEByZW1pbmQg5omn6KGM5a6M6K+l5pON5L2c5ZCO77yMIOW9k+WJjVJhbmdl5a+56LGh5Y+Y5oiQ5LqG6Zet5ZCI54q25oCBDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY3mk43kvZznmoRSYW5nZeWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxib2R5Pg0KICAgICAgICAgKiAgICAgIDwhLS0g5Lit5ous5Y+36KGo56S66YCJ5Yy6IC0tPg0KICAgICAgICAgKiAgICAgIDxiPng8aT54W3g8L2k+eHhdeDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgICA8c2NyaXB0Pg0KICAgICAgICAgKiAgICAgICAgICAvL3Jhbmdl5piv5bey6YCJ5Lit55qE6YCJ5Yy6DQogICAgICAgICAqICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgIC8v56uW57q/6KGo56S66Zet5ZCI5ZCO55qE6YCJ5Yy65L2N572uDQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiA8Yj54PGk+eDwvaT58eDwvYj4NCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgIC8v5q2k5pe277yMIHJhbmdl55qE5ZCE6aG55bGe5oCn5Li6DQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiBCDQogICAgICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCByYW5nZS5zdGFydENvbnRhaW5lci50YWdOYW1lICk7DQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiAyDQogICAgICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCByYW5nZS5zdGFydE9mZnNldCApOw0KICAgICAgICAgKiAgICAgICAgICAvL291dHB1dDogQg0KICAgICAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZyggcmFuZ2UuZW5kQ29udGFpbmVyLnRhZ05hbWUgKTsNCiAgICAgICAgICogICAgICAgICAgLy9vdXRwdXQ6IDINCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIHJhbmdlLmVuZE9mZnNldCApOw0KICAgICAgICAgKiAgICAgICAgICAvL291dHB1dDogdHJ1ZQ0KICAgICAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZyggcmFuZ2UuY29sbGFwc2VkICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgPC9zY3JpcHQ+DQogICAgICAgICAqIDwvYm9keT4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBkZWxldGVDb250ZW50czpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdHh0Ow0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIGV4ZWNDb250ZW50c0FjdGlvbih0aGlzLCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChicm93c2VyLndlYmtpdCkgew0KICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICAgICAgaWYgKHR4dC5ub2RlVHlwZSA9PSAzICYmICF0eHQubm9kZVZhbHVlLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0QmVmb3JlKHR4dCkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0eHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlsIblvZPliY3pgInljLrnmoTlhoXlrrnmj5Dlj5bliLDkuIDkuKpEb2N1bWVudEZyYWdtZW506YeMDQogICAgICAgICAqIEBtZXRob2QgZXh0cmFjdENvbnRlbnRzDQogICAgICAgICAqIEByZW1pbmQg5omn6KGM6K+l5pON5L2c5ZCO77yMIOmAieWMuuWwhuWPmOaIkOmXreWQiOeKtuaAgQ0KICAgICAgICAgKiBAd2FybmluZyDmiafooYzor6Xmk43kvZzlkI7vvIwg5Y6f5p2l6YCJ5Yy65omA6YCJ5Lit55qE5YaF5a655bCG5LuOZG9t5qCR5LiK5Yml56a75Ye65p2lDQogICAgICAgICAqIEByZXR1cm4geyBEb2N1bWVudEZyYWdtZW50IH0g6L+U5Zue5YyF5ZCr5omA5o+Q5Y+W5YaF5a6555qERG9jdW1lbnRGcmFnbWVudOWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxib2R5Pg0KICAgICAgICAgKiAgICAgIDwhLS0g5Lit5ous5Y+36KGo56S66YCJ5Yy6IC0tPg0KICAgICAgICAgKiAgICAgIDxiPng8aT54W3g8L2k+eHhdeDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgICA8c2NyaXB0Pg0KICAgICAgICAgKiAgICAgICAgICAvL3Jhbmdl5piv5bey6YCJ5Lit55qE6YCJ5Yy6DQogICAgICAgICAqICAgICAgICAgIHZhciBmcmFnbWVudCA9IHJhbmdlLmV4dHJhY3RDb250ZW50cygpLA0KICAgICAgICAgKiAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJkaXYiICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoIGZyYWdtZW50ICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgIC8v56uW57q/6KGo56S66Zet5ZCI5ZCO55qE6YCJ5Yy65L2N572uDQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiA8Yj54PGk+eDwvaT58eDwvYj4NCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIGRvY3VtZW50LmJvZHkuaW5uZXJIVE1MICk7DQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiA8aT54PC9pPnh4DQogICAgICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCBub2RlLmlubmVySFRNTCApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgICAgICAvL+atpOaXtu+8jCByYW5nZeeahOWQhOmhueWxnuaAp+S4ug0KICAgICAgICAgKiAgICAgICAgICAvL291dHB1dDogQg0KICAgICAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZyggcmFuZ2Uuc3RhcnRDb250YWluZXIudGFnTmFtZSApOw0KICAgICAgICAgKiAgICAgICAgICAvL291dHB1dDogMg0KICAgICAgICAgKiAgICAgICAgICBjb25zb2xlLmxvZyggcmFuZ2Uuc3RhcnRPZmZzZXQgKTsNCiAgICAgICAgICogICAgICAgICAgLy9vdXRwdXQ6IEINCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIHJhbmdlLmVuZENvbnRhaW5lci50YWdOYW1lICk7DQogICAgICAgICAqICAgICAgICAgIC8vb3V0cHV0OiAyDQogICAgICAgICAqICAgICAgICAgIGNvbnNvbGUubG9nKCByYW5nZS5lbmRPZmZzZXQgKTsNCiAgICAgICAgICogICAgICAgICAgLy9vdXRwdXQ6IHRydWUNCiAgICAgICAgICogICAgICAgICAgY29uc29sZS5sb2coIHJhbmdlLmNvbGxhcHNlZCApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgIDwvc2NyaXB0Pg0KICAgICAgICAgKiA8L2JvZHk+DQogICAgICAgICAqLw0KICAgICAgICBleHRyYWN0Q29udGVudHM6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2VkID8gbnVsbCA6IGV4ZWNDb250ZW50c0FjdGlvbih0aGlzLCAyKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6+572uUmFuZ2XnmoTlvIDlp4vlrrnlmajoioLngrnlkozlgY/np7vph48NCiAgICAgICAgICogQG1ldGhvZCAgc2V0U3RhcnQNCiAgICAgICAgICogQHJlbWluZCDlpoLmnpznu5nlrprnmoToioLngrnmmK/lhYPntKDoioLngrnvvIzpgqPkuYhvZmZzZXTmjIfnmoTmmK/lhbblrZDlhYPntKDkuK3ntKLlvJXkuLpvZmZzZXTnmoTlhYPntKDvvIwNCiAgICAgICAgICogICAgICAgICAg5aaC5p6c5piv5paH5pys6IqC54K577yM6YKj5LmIb2Zmc2V05oyH55qE5piv5YW25paH5pys5YaF5a6555qE56ysb2Zmc2V05Liq5a2X56ymDQogICAgICAgICAqIEByZW1pbmQg5aaC5p6c5o+Q5L6b55qE5a655Zmo6IqC54K55piv5LiA5Liq5LiN6IO95YyF5ZCr5a2Q5YWD57Sg55qE6IqC54K577yMIOWImeivpemAieWMuueahOW8gOWni+WuueWZqOWwhuiiq+iuvue9rg0KICAgICAgICAgKiAgICAgICAgICDkuLror6XoioLngrnnmoTniLboioLngrnvvIwg5q2k5pe277yMIOWFtui3neemu+W8gOWni+WuueWZqOeahOWBj+enu+mHj+S5n+WPmOaIkOS6huivpeiKgueCueWcqOWFtueItuiKgueCuQ0KICAgICAgICAgKiAgICAgICAgICDkuK3nmoTntKLlvJUNCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg5bCG6KKr6K6+5Li65b2T5YmN6YCJ5Yy65byA5aeL6L6555WM5a655Zmo55qE6IqC54K55a+56LGhDQogICAgICAgICAqIEBwYXJhbSB7IGludCB9IG9mZnNldCDpgInljLrnmoTlvIDlp4vkvY3nva7lgY/np7vph48NCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGh0bWwNCiAgICAgICAgICogPCEtLSDpgInljLogLS0+DQogICAgICAgICAqIDxiPnh4eDxpPng8c3Bhbj54eDwvc3Bhbj54eDxlbT54eDwvZW0+eHh4PC9pPlt4eHhdPC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/miafooYzmk43kvZwNCiAgICAgICAgICogICAgIHJhbmdlLnNldFN0YXJ0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaSIpWzBdLCAxICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+atpOaXtu+8jCDpgInljLrlj5jmiJDkuoYNCiAgICAgICAgICogICAgIC8vPGI+eHh4PGk+eFs8c3Bhbj54eDwvc3Bhbj54eDxlbT54eDwvZW0+eHh4PC9pPnh4eF08L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8IS0tIOmAieWMuiAtLT4NCiAgICAgICAgICogPGI+eHh4PGltZz5beHhdeDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPHNjcmlwdD4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v5omn6KGM5pON5L2cDQogICAgICAgICAqICAgICByYW5nZS5zZXRTdGFydCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpWzBdLCAzICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+atpOaXtu+8jCDpgInljLrlj5jmiJDkuoYNCiAgICAgICAgICogICAgIC8vPGI+eHh4WzxpbWc+eHhdeDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPC9zY3JpcHQ+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgc2V0U3RhcnQ6ZnVuY3Rpb24gKG5vZGUsIG9mZnNldCkgew0KICAgICAgICAgICAgcmV0dXJuIHNldEVuZFBvaW50KHRydWUsIG5vZGUsIG9mZnNldCwgdGhpcyk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rlJhbmdl55qE57uT5p2f5a655Zmo5ZKM5YGP56e76YePDQogICAgICAgICAqIEBtZXRob2QgIHNldEVuZA0KICAgICAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDkvZzkuLrlvZPliY3pgInljLrnu5PmnZ/ovrnnlYzlrrnlmajnmoToioLngrnlr7nosaENCiAgICAgICAgICogQHBhcmFtIHsgaW50IH0gb2Zmc2V0IOe7k+adn+i+ueeVjOeahOWBj+enu+mHjw0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpzZXRTdGFydChOb2RlLGludCkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqLw0KICAgICAgICBzZXRFbmQ6ZnVuY3Rpb24gKG5vZGUsIG9mZnNldCkgew0KICAgICAgICAgICAgcmV0dXJuIHNldEVuZFBvaW50KGZhbHNlLCBub2RlLCBvZmZzZXQsIHRoaXMpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlsIZSYW5nZeW8gOWni+S9jee9ruiuvue9ruWIsG5vZGXoioLngrnkuYvlkI4NCiAgICAgICAgICogQG1ldGhvZCAgc2V0U3RhcnRBZnRlcg0KICAgICAgICAgKiBAcmVtaW5kIOivpeaTjeS9nOWwhuS8muaKiue7meWumuiKgueCueeahOeItuiKgueCueS9nOS4unJhbmdl55qE5byA5aeL5a655Zmo77yMIOS4lOWBj+enu+mHj+aYr+ivpeiKgueCueWcqOWFtueItuiKgueCueS4reeahOS9jee9rue0ouW8lSsxDQogICAgICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOmAieWMuueahOW8gOWni+i+ueeVjOWwhue0p+aOpeedgOivpeiKgueCueS5i+WQjg0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8IS0tIOmAieWMuuekuuS+iyAtLT4NCiAgICAgICAgICogPGI+eHg8aT54eHg8L2k+PHNwYW4+eHhbeDwvc3Bhbj54eHhdPC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/miafooYzmk43kvZwNCiAgICAgICAgICogICAgIHJhbmdlLnNldFN0YXJ0QWZ0ZXIoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpIilbMF0gKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v57uT5p6c6YCJ5Yy6DQogICAgICAgICAqICAgICAvLzxiPnh4PGk+eHh4PC9pPls8c3Bhbj54eHg8L3NwYW4+eHh4XTwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPC9zY3JpcHQ+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgc2V0U3RhcnRBZnRlcjpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZS5wYXJlbnROb2RlLCBkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSkgKyAxKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5bCGUmFuZ2XlvIDlp4vkvY3nva7orr7nva7liLBub2Rl6IqC54K55LmL5YmNDQogICAgICAgICAqIEBtZXRob2QgIHNldFN0YXJ0QmVmb3JlDQogICAgICAgICAqIEByZW1pbmQg6K+l5pON5L2c5bCG5Lya5oqK57uZ5a6a6IqC54K555qE54i26IqC54K55L2c5Li6cmFuZ2XnmoTlvIDlp4vlrrnlmajvvIwg5LiU5YGP56e76YeP5piv6K+l6IqC54K55Zyo5YW254i26IqC54K55Lit55qE5L2N572u57Si5byVDQogICAgICAgICAqIEBwYXJhbSB7IE5vZGUgfSBub2RlIOaWsOeahOmAieWMuuW8gOWni+S9jee9ruWcqOivpeiKgueCueS5i+WJjQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpzZXRTdGFydEFmdGVyKE5vZGUpDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKi8NCiAgICAgICAgc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXJ0KG5vZGUucGFyZW50Tm9kZSwgZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KG5vZGUpKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5bCGUmFuZ2Xnu5PmnZ/kvY3nva7orr7nva7liLBub2Rl6IqC54K55LmL5ZCODQogICAgICAgICAqIEBtZXRob2QgIHNldEVuZEFmdGVyDQogICAgICAgICAqIEByZW1pbmQg6K+l5pON5L2c5bCG5Lya5oqK57uZ5a6a6IqC54K555qE54i26IqC54K55L2c5Li6cmFuZ2XnmoTnu5PmnZ/lrrnlmajvvIwg5LiU5YGP56e76YeP5piv6K+l6IqC54K55Zyo5YW254i26IqC54K55Lit55qE5L2N572u57Si5byVKzENCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K5DQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnNldFN0YXJ0QWZ0ZXIoTm9kZSkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGh0bWwNCiAgICAgICAgICogPCEtLSDpgInljLrnpLrkvosgLS0+DQogICAgICAgICAqIDxiPlt4eDxpPnh4eDwvaT48c3Bhbj54eF14PC9zcGFuPnh4eDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPHNjcmlwdD4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v5omn6KGM5pON5L2cDQogICAgICAgICAqICAgICByYW5nZS5zZXRTdGFydEFmdGVyKCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic3BhbiIpWzBdICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+e7k+aenOmAieWMug0KICAgICAgICAgKiAgICAgLy88Yj5beHg8aT54eHg8L2k+PHNwYW4+eHh4PC9zcGFuPl14eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldEVuZEFmdGVyOmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRFbmQobm9kZS5wYXJlbnROb2RlLCBkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSkgKyAxKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5bCGUmFuZ2Xnu5PmnZ/kvY3nva7orr7nva7liLBub2Rl6IqC54K55LmL5YmNDQogICAgICAgICAqIEBtZXRob2QgIHNldEVuZEJlZm9yZQ0KICAgICAgICAgKiBAcmVtaW5kIOivpeaTjeS9nOWwhuS8muaKiue7meWumuiKgueCueeahOeItuiKgueCueS9nOS4unJhbmdl55qE57uT5p2f5a655Zmo77yMIOS4lOWBj+enu+mHj+aYr+ivpeiKgueCueWcqOWFtueItuiKgueCueS4reeahOS9jee9rue0ouW8lQ0KICAgICAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDnm67moIfoioLngrkNCiAgICAgICAgICogQHNlZSBVRS5kb20uUmFuZ2U6c2V0RW5kQWZ0ZXIoTm9kZSkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqLw0KICAgICAgICBzZXRFbmRCZWZvcmU6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEVuZChub2RlLnBhcmVudE5vZGUsIGRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rlJhbmdl55qE5byA5aeL5L2N572u5Yiwbm9kZeiKgueCueWGheeahOesrOS4gOS4quWtkOiKgueCueS5i+WJjQ0KICAgICAgICAgKiBAbWV0aG9kICBzZXRTdGFydEF0Rmlyc3QNCiAgICAgICAgICogQHJlbWluZCDpgInljLrnmoTlvIDlp4vlrrnlmajlsIblj5jmiJDnu5nlrprnmoToioLngrnvvIwg5LiU5YGP56e76YeP5Li6MA0KICAgICAgICAgKiBAcmVtaW5kIOWmguaenOe7meWumueahOiKgueCueaYr+WFg+e0oOiKgueCue+8jCDliJnor6XoioLngrnlv4XpobvmmK/lhYHorrjljIXlkKvlrZDoioLngrnnmoTlhYPntKDjgIINCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K5DQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnNldFN0YXJ0QmVmb3JlKE5vZGUpDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDwhLS0g6YCJ5Yy656S65L6LIC0tPg0KICAgICAgICAgKiA8Yj54eDxpPnh4eDwvaT48c3Bhbj5beHhdeDwvc3Bhbj54eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDxzY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+aJp+ihjOaTjeS9nA0KICAgICAgICAgKiAgICAgcmFuZ2Uuc2V0U3RhcnRBdEZpcnN0KCBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaSIpWzBdICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+e7k+aenOmAieWMug0KICAgICAgICAgKiAgICAgLy88Yj54eDxpPlt4eHg8L2k+PHNwYW4+eHhdeDwvc3Bhbj54eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldFN0YXJ0QXRGaXJzdDpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZSwgMCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rlJhbmdl55qE5byA5aeL5L2N572u5Yiwbm9kZeiKgueCueWGheeahOacgOWQjuS4gOS4quiKgueCueS5i+WQjg0KICAgICAgICAgKiBAbWV0aG9kIHNldFN0YXJ0QXRMYXN0DQogICAgICAgICAqIEByZW1pbmQg6YCJ5Yy655qE5byA5aeL5a655Zmo5bCG5Y+Y5oiQ57uZ5a6a55qE6IqC54K577yMIOS4lOWBj+enu+mHj+S4uuivpeiKgueCueeahOWtkOiKgueCueaVsA0KICAgICAgICAgKiBAcmVtaW5kIOWmguaenOe7meWumueahOiKgueCueaYr+WFg+e0oOiKgueCue+8jCDliJnor6XoioLngrnlv4XpobvmmK/lhYHorrjljIXlkKvlrZDoioLngrnnmoTlhYPntKDjgIINCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K5DQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnNldFN0YXJ0QXRGaXJzdChOb2RlKQ0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICovDQogICAgICAgIHNldFN0YXJ0QXRMYXN0OmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGFydChub2RlLCBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6+572uUmFuZ2XnmoTnu5PmnZ/kvY3nva7liLBub2Rl6IqC54K55YaF55qE56ys5LiA5Liq6IqC54K55LmL5YmNDQogICAgICAgICAqIEBtZXRob2QgIHNldEVuZEF0Rmlyc3QNCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K5DQogICAgICAgICAqIEByZW1pbmQg6YCJ5Yy655qE57uT5p2f5a655Zmo5bCG5Y+Y5oiQ57uZ5a6a55qE6IqC54K577yMIOS4lOWBj+enu+mHj+S4ujANCiAgICAgICAgICogQHJlbWluZCBub2Rl5b+F6aG75piv5LiA5Liq5YWD57Sg6IqC54K577yMIOS4lOW/hemhu+aYr+WFgeiuuOWMheWQq+WtkOiKgueCueeahOWFg+e0oOOAgg0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpzZXRTdGFydEF0Rmlyc3QoTm9kZSkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqLw0KICAgICAgICBzZXRFbmRBdEZpcnN0OmZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRFbmQobm9kZSwgMCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rlJhbmdl55qE57uT5p2f5L2N572u5Yiwbm9kZeiKgueCueWGheeahOacgOWQjuS4gOS4quiKgueCueS5i+WQjg0KICAgICAgICAgKiBAbWV0aG9kICBzZXRFbmRBdExhc3QNCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K5DQogICAgICAgICAqIEByZW1pbmQg6YCJ5Yy655qE57uT5p2f5a655Zmo5bCG5Y+Y5oiQ57uZ5a6a55qE6IqC54K577yMIOS4lOWBj+enu+mHj+S4uuivpeiKgueCueeahOWtkOiKgueCueaVsOmHjw0KICAgICAgICAgKiBAcmVtaW5kIG5vZGXlv4XpobvmmK/kuIDkuKrlhYPntKDoioLngrnvvIwg5LiU5b+F6aG75piv5YWB6K645YyF5ZCr5a2Q6IqC54K555qE5YWD57Sg44CCDQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnNldFN0YXJ0QXRGaXJzdChOb2RlKQ0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICovDQogICAgICAgIHNldEVuZEF0TGFzdDpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RW5kKG5vZGUsIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDpgInkuK3nu5nlrproioLngrkNCiAgICAgICAgICogQG1ldGhvZCAgc2VsZWN0Tm9kZQ0KICAgICAgICAgKiBAcmVtaW5kIOatpOaXtu+8jCDpgInljLrnmoTlvIDlp4vlrrnlmajlkoznu5PmnZ/lrrnlmajpg73mmK/or6XoioLngrnnmoTniLboioLngrnvvIwg5YW2c3RhcnRPZmZzZXTmmK/or6XoioLngrnlnKjniLboioLngrnkuK3nmoTkvY3nva7ntKLlvJXvvIwNCiAgICAgICAgICogICAgICAgICAg6ICMZW5kT2Zmc2V05Li6c3RhcnRPZmZzZXQrMQ0KICAgICAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHpgInkuK3nmoToioLngrkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGh77yM5q2k5pe255qEcmFuZ2Xku4XljIXlkKvlvZPliY3nu5nlrprnmoToioLngrnlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8IS0tIOmAieWMuuekuuS+iyAtLT4NCiAgICAgICAgICogPGI+eHg8aT54eHg8L2k+PHNwYW4+W3h4XXg8L3NwYW4+eHh4PC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/miafooYzmk43kvZwNCiAgICAgICAgICogICAgIHJhbmdlLnNlbGVjdE5vZGUoIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpIilbMF0gKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v57uT5p6c6YCJ5Yy6DQogICAgICAgICAqICAgICAvLzxiPnh4WzxpPnh4eDwvaT5dPHNwYW4+eHh4PC9zcGFuPnh4eDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPC9zY3JpcHQ+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgc2VsZWN0Tm9kZTpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0U3RhcnRCZWZvcmUobm9kZSkuc2V0RW5kQWZ0ZXIobm9kZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOmAieS4ree7meWumuiKgueCueWGhemDqOeahOaJgOacieiKgueCuQ0KICAgICAgICAgKiBAbWV0aG9kICBzZWxlY3ROb2RlQ29udGVudHMNCiAgICAgICAgICogQHJlbWluZCDmraTml7bvvIwg6YCJ5Yy655qE5byA5aeL5a655Zmo5ZKM57uT5p2f5a655Zmo6YO95piv6K+l6IqC54K577yMIOWFtnN0YXJ0T2Zmc2V05Li6MO+8jA0KICAgICAgICAgKiAgICAgICAgICDogIxlbmRPZmZzZXTmmK/or6XoioLngrnnmoTlrZDoioLngrnmlbDjgIINCiAgICAgICAgICogQHBhcmFtIHsgTm9kZSB9IG5vZGUg55uu5qCH6IqC54K577yMIOW9k+WJjXJhbmdl5bCG5YyF5ZCr6K+l6IqC54K55YaF55qE5omA5pyJ6IqC54K5DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoe+8jCDmraTml7ZyYW5nZeS7heWMheWQq+e7meWumuiKgueCueeahOaJgOacieWtkOiKgueCuQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDwhLS0g6YCJ5Yy656S65L6LIC0tPg0KICAgICAgICAgKiA8Yj54eDxpPnh4eDwvaT48c3Bhbj5beHhdeDwvc3Bhbj54eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDxzY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+aJp+ihjOaTjeS9nA0KICAgICAgICAgKiAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImIiKVswXSApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/nu5PmnpzpgInljLoNCiAgICAgICAgICogICAgIC8vPGI+W3h4PGk+eHh4PC9pPjxzcGFuPnh4eDwvc3Bhbj54eHhdPC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8L3NjcmlwdD4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldFN0YXJ0KG5vZGUsIDApLnNldEVuZEF0TGFzdChub2RlKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICogY2xvbmXlvZPliY1SYW5nZeWvueixoQ0KICAgICAgICAgKiBAbWV0aG9kICBjbG9uZVJhbmdlDQogICAgICAgICAqIEByZW1pbmQg6L+U5Zue55qEcmFuZ2XmmK/kuIDkuKrlhajmlrDnmoRyYW5nZeWvueixoe+8jCDlhbblhoXpg6jmiYDmnInlsZ7mgKfkuI7lvZPliY3ooqtjbG9uZeeahHJhbmdl55u45ZCM44CCDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoeeahOS4gOS4quWJr+acrA0KICAgICAgICAgKi8NCiAgICAgICAgY2xvbmVSYW5nZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShtZS5kb2N1bWVudCkuc2V0U3RhcnQobWUuc3RhcnRDb250YWluZXIsIG1lLnN0YXJ0T2Zmc2V0KS5zZXRFbmQobWUuZW5kQ29udGFpbmVyLCBtZS5lbmRPZmZzZXQpOw0KDQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWQkeW9k+WJjemAieWMuueahOe7k+adn+WkhOmXreWQiOmAieWMug0KICAgICAgICAgKiBAbWV0aG9kICBjb2xsYXBzZQ0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8IS0tIOmAieWMuuekuuS+iyAtLT4NCiAgICAgICAgICogPGI+eHg8aT54eHg8L2k+PHNwYW4+W3h4XXg8L3NwYW4+eHh4PC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/miafooYzmk43kvZwNCiAgICAgICAgICogICAgIHJhbmdlLmNvbGxhcHNlKCk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+e7k+aenOmAieWMug0KICAgICAgICAgKiAgICAgLy/igJx84oCd6KGo56S66YCJ5Yy65bey6Zet5ZCIDQogICAgICAgICAqICAgICAvLzxiPnh4PGk+eHh4PC9pPjxzcGFuPnh4fHg8L3NwYW4+eHh4PC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8L3NjcmlwdD4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDpl63lkIjlvZPliY3pgInljLrvvIzmoLnmja7nu5nlrprnmoR0b1N0YXJ05Y+C5pWw6aG55Yaz5a6a5piv5ZCR5b2T5YmN6YCJ5Yy65byA5aeL5aSE6Zet5ZCI6L+Y5piv5ZCR57uT5p2f5aSE6Zet5ZCI77yMDQogICAgICAgICAqIOWmguaenHRvU3RhcnTnmoTlgLzkuLp0cnVl77yM5YiZ5ZCR5byA5aeL5L2N572u6Zet5ZCI77yMIOWPjeS5i++8jOWQkee7k+adn+S9jee9rumXreWQiOOAgg0KICAgICAgICAgKiBAbWV0aG9kICBjb2xsYXBzZQ0KICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gdG9TdGFydCDmmK/lkKblkJHpgInljLrlvIDlp4vlpITpl63lkIgNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGh77yM5q2k5pe2cmFuZ2Xlr7nosaHlpITkuo7pl63lkIjnirbmgIENCiAgICAgICAgICogQHNlZSBVRS5kb20uUmFuZ2U6Y29sbGFwc2UoKQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDwhLS0g6YCJ5Yy656S65L6LIC0tPg0KICAgICAgICAgKiA8Yj54eDxpPnh4eDwvaT48c3Bhbj5beHhdeDwvc3Bhbj54eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDxzY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+aJp+ihjOaTjeS9nA0KICAgICAgICAgKiAgICAgcmFuZ2UuY29sbGFwc2UoIHRydWUgKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v57uT5p6c6YCJ5Yy6DQogICAgICAgICAqICAgICAvL+KAnHzigJ3ooajnpLrpgInljLrlt7Lpl63lkIgNCiAgICAgICAgICogICAgIC8vPGI+eHg8aT54eHg8L2k+PHNwYW4+fHh4eDwvc3Bhbj54eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGNvbGxhcHNlOmZ1bmN0aW9uICh0b1N0YXJ0KSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKHRvU3RhcnQpIHsNCiAgICAgICAgICAgICAgICBtZS5lbmRDb250YWluZXIgPSBtZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICBtZS5lbmRPZmZzZXQgPSBtZS5zdGFydE9mZnNldDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbWUuc3RhcnRDb250YWluZXIgPSBtZS5lbmRDb250YWluZXI7DQogICAgICAgICAgICAgICAgbWUuc3RhcnRPZmZzZXQgPSBtZS5lbmRPZmZzZXQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBtZS5jb2xsYXBzZWQgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuIG1lOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDosIPmlbRyYW5nZeeahOW8gOWni+S9jee9ruWSjOe7k+adn+S9jee9ru+8jOS9v+WFtiLmlLbnvKki5Yiw5pyA5bCP55qE5L2N572uDQogICAgICAgICAqIEBtZXRob2QgIHNocmlua0JvdW5kYXJ5DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxzcGFuPnh4PGI+eHhbPC9iPnh4eHh4XTwvc3Bhbj4gPT4gPHNwYW4+eHg8Yj54eDwvYj5beHh4eHhdPC9zcGFuPg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICoNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8IS0tIOmAieWMuuekuuS+iyAtLT4NCiAgICAgICAgICogPGI+eFt4eDwvYj48aT5deHh4PC9pPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/miafooYzmlLbnvKkNCiAgICAgICAgICogICAgIHJhbmdlLnNocmlua0JvdW5kYXJ5KCk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+e7k+aenOmAieWMug0KICAgICAgICAgKiAgICAgLy88Yj54W3h4XTwvYj48aT54eHg8L2k+DQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICoNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiBbPGI+PGk+eHh4eDwvaT54eHh4eHh4PC9iPl0gPT4gPGI+PGk+W3h4eHg8L2k+eHh4eHh4eF08L2I+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog6LCD5pW0cmFuZ2XnmoTlvIDlp4vkvY3nva7lkoznu5PmnZ/kvY3nva7vvIzkvb/lhbYi5pS257ypIuWIsOacgOWwj+eahOS9jee9ru+8jA0KICAgICAgICAgKiDlpoLmnpxpZ25vcmVFbmTnmoTlgLzkuLp0cnVl77yM5YiZ5b+955Wl5a+557uT5p2f5L2N572u55qE6LCD5pW0DQogICAgICAgICAqIEBtZXRob2QgIHNocmlua0JvdW5kYXJ5DQogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpZ25vcmVFbmQg5piv5ZCm5b+955Wl5a+557uT5p2f5L2N572u55qE6LCD5pW0DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5kb21VdGlscy5SYW5nZTpzaHJpbmtCb3VuZGFyeSgpDQogICAgICAgICAqLw0KICAgICAgICBzaHJpbmtCb3VuZGFyeTpmdW5jdGlvbiAoaWdub3JlRW5kKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLCBjaGlsZCwNCiAgICAgICAgICAgICAgICBjb2xsYXBzZWQgPSBtZS5jb2xsYXBzZWQ7DQogICAgICAgICAgICBmdW5jdGlvbiBjaGVjayhub2RlKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAxICYmICFkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShub2RlKSAmJiAhZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdICYmICFkdGQuJG5vbkNoaWxkW25vZGUudGFnTmFtZV0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHdoaWxlIChtZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAxIC8v5pivZWxlbWVudA0KICAgICAgICAgICAgICAgICYmIChjaGlsZCA9IG1lLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbbWUuc3RhcnRPZmZzZXRdKSAvL+WtkOiKgueCueS5n+aYr2VsZW1lbnQNCiAgICAgICAgICAgICAgICAmJiBjaGVjayhjaGlsZCkpIHsNCiAgICAgICAgICAgICAgICBtZS5zZXRTdGFydChjaGlsZCwgMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG1lLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKCFpZ25vcmVFbmQpIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAobWUuZW5kQ29udGFpbmVyLm5vZGVUeXBlID09IDEvL+aYr2VsZW1lbnQNCiAgICAgICAgICAgICAgICAgICAgJiYgbWUuZW5kT2Zmc2V0ID4gMCAvL+WmguaenOaYr+epuuWFg+e0oOWwsemAgOWHuiBlbmRPZmZzZXQ9MOmCo+S5iGVuZE9mZnN0LTHkuLrotJ/lgLzvvIxjaGlsZE5vZGVzW2VuZE9mZnNldF3miqXplJkNCiAgICAgICAgICAgICAgICAgICAgJiYgKGNoaWxkID0gbWUuZW5kQ29udGFpbmVyLmNoaWxkTm9kZXNbbWUuZW5kT2Zmc2V0IC0gMV0pIC8v5a2Q6IqC54K55Lmf5pivZWxlbWVudA0KICAgICAgICAgICAgICAgICAgICAmJiBjaGVjayhjaGlsZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuc2V0RW5kKGNoaWxkLCBjaGlsZC5jaGlsZE5vZGVzLmxlbmd0aCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG1lOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5bnprvlvZPliY3pgInljLrlhoXljIXlkKvnmoTmiYDmnInoioLngrnmnIDov5HnmoTlhazlhbHnpZblhYjoioLngrnvvIwNCiAgICAgICAgICogQG1ldGhvZCAgZ2V0Q29tbW9uQW5jZXN0b3INCiAgICAgICAgICogQHJlbWluZCDov5Tlm57nmoTlhazlhbHnpZblhYjoioLngrnkuIDlrprkuI3mmK9yYW5nZeiHqui6q+eahOWuueWZqOiKgueCue+8jCDkvYbmnInlj6/og73mmK/kuIDkuKrmlofmnKzoioLngrkNCiAgICAgICAgICogQHJldHVybiB7IE5vZGUgfSDlvZPliY1yYW5nZeWvueixoeWGheaJgOacieiKgueCueeahOWFrOWFseelluWFiOiKgueCuQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIC8v6YCJ5Yy656S65L6LDQogICAgICAgICAqIDxzcGFuPnh4eDxiPnhbeDxlbT54eF14PC9lbT54eHg8L2I+eHg8L3NwYW4+DQogICAgICAgICAqIDxzY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqICAgICB2YXIgbm9kZSA9IHJhbmdlLmdldENvbW1vbkFuY2VzdG9yKCk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+WFrOWFseelluWFiOiKgueCueaYr++8miBi6IqC54K5DQogICAgICAgICAqICAgICAvL+i+k+WHuu+8miBCDQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyhub2RlLnRhZ05hbWUpOw0KICAgICAgICAgKg0KICAgICAgICAgKiA8L3NjcmlwdD4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5blvZPliY3pgInljLrmiYDljIXlkKvnmoTmiYDmnInoioLngrnnmoTlhazlhbHnpZblhYjoioLngrnvvIwg5Y+v5Lul5qC55o2u57uZ5a6a55qE5Y+C5pWwIGluY2x1ZGVTZWxmIOWGs+WumuiOt+WPluWIsA0KICAgICAgICAgKiDnmoTlhazlhbHnpZblhYjoioLngrnmmK/lkKblj6/ku6XmmK/lvZPliY3pgInljLrnmoRzdGFydENvbnRhaW5lcuaIlmVuZENvbnRhaW5lcuiKgueCue+8jCDlpoLmnpwgaW5jbHVkZVNlbGYNCiAgICAgICAgICog55qE5Y+W5YC85Li6dHJ1Ze+8jCDliJnov5Tlm57nmoToioLngrnlj6/ku6XmmK/oh6rouqvnmoTlrrnlmajoioLngrnvvIwg5ZCm5YiZ77yMIOWImeS4jeiDveaYr+WuueWZqOiKgueCuQ0KICAgICAgICAgKiBAbWV0aG9kICBnZXRDb21tb25BbmNlc3Rvcg0KICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaW5jbHVkZVNlbGYg5piv5ZCm5YWB6K646I635Y+W5Yiw55qE5YWs5YWx56WW5YWI6IqC54K55piv5b2T5YmNcmFuZ2Xlr7nosaHnmoTlrrnlmajoioLngrkNCiAgICAgICAgICogQHJldHVybiB7IE5vZGUgfSDlvZPliY1yYW5nZeWvueixoeWGheaJgOacieiKgueCueeahOWFrOWFseelluWFiOiKgueCuQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpnZXRDb21tb25BbmNlc3RvcigpDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGh0bWwNCiAgICAgICAgICogPGJvZHk+DQogICAgICAgICAqDQogICAgICAgICAqICAgICA8IS0tIOmAieWMuuekuuS+iyAtLT4NCiAgICAgICAgICogICAgIDxiPnh4eDxpPnh4eHg8c3Bhbj54eFt4PC9zcGFuPnh4XXg8L2k+eHh4eHh4eDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIDxzY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgdmFyIG5vZGUgPSByYW5nZS5nZXRDb21tb25BbmNlc3RvciggZmFsc2UgKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgICAgICAvL+i/memHjOeahOWFrOWFseelluWFiOiKgueCueaYr0LogIzkuI3mmK9J77yMIOaYr+WboOS4uuWPguaVsOmZkOWItuS6huiOt+WPluWIsOeahOiKgueCueS4jeiDveaYr+WuueWZqOiKgueCuQ0KICAgICAgICAgKiAgICAgICAgIC8vb3V0cHV0OiBCDQogICAgICAgICAqICAgICAgICAgY29uc29sZS5sb2coIG5vZGUudGFnTmFtZSApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgPC9zY3JpcHQ+DQogICAgICAgICAqDQogICAgICAgICAqIDwvYm9keT4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5blvZPliY3pgInljLrmiYDljIXlkKvnmoTmiYDmnInoioLngrnnmoTlhazlhbHnpZblhYjoioLngrnvvIwg5Y+v5Lul5qC55o2u57uZ5a6a55qE5Y+C5pWwIGluY2x1ZGVTZWxmIOWGs+WumuiOt+WPluWIsA0KICAgICAgICAgKiDnmoTlhazlhbHnpZblhYjoioLngrnmmK/lkKblj6/ku6XmmK/lvZPliY3pgInljLrnmoRzdGFydENvbnRhaW5lcuaIlmVuZENvbnRhaW5lcuiKgueCue+8jCDlpoLmnpwgaW5jbHVkZVNlbGYNCiAgICAgICAgICog55qE5Y+W5YC85Li6dHJ1Ze+8jCDliJnov5Tlm57nmoToioLngrnlj6/ku6XmmK/oh6rouqvnmoTlrrnlmajoioLngrnvvIwg5ZCm5YiZ77yMIOWImeS4jeiDveaYr+WuueWZqOiKgueCue+8myDlkIzml7blj6/ku6XmoLnmja4NCiAgICAgICAgICogaWdub3JlVGV4dE5vZGUg5Y+C5pWw55qE5Y+W5YC85Yaz5a6a5piv5ZCm5b+955Wl57G75Z6L5Li65paH5pys6IqC54K555qE56WW5YWI6IqC54K544CCDQogICAgICAgICAqIEBtZXRob2QgIGdldENvbW1vbkFuY2VzdG9yDQogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpbmNsdWRlU2VsZiDmmK/lkKblhYHorrjojrflj5bliLDnmoTlhazlhbHnpZblhYjoioLngrnmmK/lvZPliY1yYW5nZeWvueixoeeahOWuueWZqOiKgueCuQ0KICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaWdub3JlVGV4dE5vZGUg6I635Y+W56WW5YWI6IqC54K555qE6L+H56iL5Lit5piv5ZCm5b+955Wl57G75Z6L5Li65paH5pys6IqC54K555qE56WW5YWI6IqC54K5DQogICAgICAgICAqIEByZXR1cm4geyBOb2RlIH0g5b2T5YmNcmFuZ2Xlr7nosaHlhoXmiYDmnInoioLngrnnmoTlhazlhbHnpZblhYjoioLngrkNCiAgICAgICAgICogQHNlZSBVRS5kb20uUmFuZ2U6Z2V0Q29tbW9uQW5jZXN0b3IoKQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpnZXRDb21tb25BbmNlc3RvcihCb29sZWFuKQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxib2R5Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgPCEtLSDpgInljLrnpLrkvosgLS0+DQogICAgICAgICAqICAgICA8Yj54eHg8aT54eHh4PHNwYW4+eFt4XXg8L3NwYW4+eHh4PC9pPnh4eHh4eHg8L2I+DQogICAgICAgICAqDQogICAgICAgICAqICAgICA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgICAgIHZhciBub2RlID0gcmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoIHRydWUsIGZhbHNlICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgLy9vdXRwdXQ6IFNQQU4NCiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyggbm9kZS50YWdOYW1lICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICA8L3NjcmlwdD4NCiAgICAgICAgICoNCiAgICAgICAgICogPC9ib2R5Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uIChpbmNsdWRlU2VsZiwgaWdub3JlVGV4dE5vZGUpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgc3RhcnQgPSBtZS5zdGFydENvbnRhaW5lciwNCiAgICAgICAgICAgICAgICBlbmQgPSBtZS5lbmRDb250YWluZXI7DQogICAgICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCkgew0KICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlU2VsZiAmJiBzZWxlY3RPbmVOb2RlKHRoaXMpKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQuY2hpbGROb2Rlc1ttZS5zdGFydE9mZnNldF07DQogICAgICAgICAgICAgICAgICAgIGlmKHN0YXJ0Lm5vZGVUeXBlID09IDEpDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v5Y+q5pyJ5Zyo5LiK5p2l5bCx55u4562J55qE5oOF5Ya15LiL5omN5Lya5Ye6546w5piv5paH5pys55qE5oOF5Ya1DQogICAgICAgICAgICAgICAgcmV0dXJuIGlnbm9yZVRleHROb2RlICYmIHN0YXJ0Lm5vZGVUeXBlID09IDMgPyBzdGFydC5wYXJlbnROb2RlIDogc3RhcnQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZG9tVXRpbHMuZ2V0Q29tbW9uQW5jZXN0b3Ioc3RhcnQsIGVuZCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiwg+aVtOW9k+WJjVJhbmdl55qE5byA5aeL5ZKM57uT5p2f6L6555WM5a655Zmo77yM5aaC5p6c5piv5a655Zmo6IqC54K55piv5paH5pys6IqC54K5LOWwseiwg+aVtOWIsOWMheWQq+ivpeaWh+acrOiKgueCueeahOeItuiKgueCueS4ig0KICAgICAgICAgKiBAbWV0aG9kIHRyaW1Cb3VuZGFyeQ0KICAgICAgICAgKiBAcmVtaW5kIOivpeaTjeS9nOacieWPr+iDveS8muW8lei1t+aWh+acrOiKgueCueiiq+WIh+W8gA0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKg0KICAgICAgICAgKiAvL+mAieWMuuekuuS+iw0KICAgICAgICAgKiA8Yj54eHg8aT5beHh4eHhdPC9pPnh4eDwvYj4NCiAgICAgICAgICoNCiAgICAgICAgICogPHNjcmlwdD4NCiAgICAgICAgICogICAgIC8v5pyq6LCD5pW05YmN77yMIOmAieWMuueahOW8gOWni+WuueWZqOWSjOe7k+adn+mDveaYr+aWh+acrOiKgueCuQ0KICAgICAgICAgKiAgICAgLy/miafooYzosIPmlbQNCiAgICAgICAgICogICAgIHJhbmdlLnRyaW1Cb3VuZGFyeSgpOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/osIPmlbTkuYvlkI7vvIwg5a655Zmo6IqC54K55Y+Y5oiQ5LqGaeiKgueCuQ0KICAgICAgICAgKiAgICAgLy88Yj54eHhbPGk+eHh4eHg8L2k+XXh4eDwvYj4NCiAgICAgICAgICogPC9zY3JpcHQ+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog6LCD5pW05b2T5YmNUmFuZ2XnmoTlvIDlp4vlkoznu5PmnZ/ovrnnlYzlrrnlmajvvIzlpoLmnpzmmK/lrrnlmajoioLngrnmmK/mlofmnKzoioLngrks5bCx6LCD5pW05Yiw5YyF5ZCr6K+l5paH5pys6IqC54K555qE54i26IqC54K55LiK77yMDQogICAgICAgICAqIOWPr+S7peagueaNriBpZ25vcmVFbmQg5Y+C5pWw55qE5YC85Yaz5a6a5piv5ZCm6LCD5pW05a+557uT5p2f6L6555WM55qE6LCD5pW0DQogICAgICAgICAqIEBtZXRob2QgdHJpbUJvdW5kYXJ5DQogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpZ25vcmVFbmQg5piv5ZCm5b+955Wl5a+557uT5p2f6L6555WM55qE6LCD5pW0DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqDQogICAgICAgICAqIC8v6YCJ5Yy656S65L6LDQogICAgICAgICAqIDxiPnh4eDxpPlt4eHh4eF08L2k+eHh4PC9iPg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKiAgICAgLy/mnKrosIPmlbTliY3vvIwg6YCJ5Yy655qE5byA5aeL5a655Zmo5ZKM57uT5p2f6YO95piv5paH5pys6IqC54K5DQogICAgICAgICAqICAgICAvL+aJp+ihjOiwg+aVtA0KICAgICAgICAgKiAgICAgcmFuZ2UudHJpbUJvdW5kYXJ5KCB0cnVlICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+iwg+aVtOS5i+WQju+8jCDlvIDlp4vlrrnlmajoioLngrnlj5jmiJDkuoZp6IqC54K5DQogICAgICAgICAqICAgICAvL+S9huaYr++8jCDnu5PmnZ/lrrnlmajmsqHmnInlj5HnlJ/lj5jljJYNCiAgICAgICAgICogICAgIC8vPGI+eHh4WzxpPnh4eHh4XTwvaT54eHg8L2I+DQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHRyaW1Cb3VuZGFyeTpmdW5jdGlvbiAoaWdub3JlRW5kKSB7DQogICAgICAgICAgICB0aGlzLnR4dFRvRWxtQm91bmRhcnkoKTsNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnRDb250YWluZXIsDQogICAgICAgICAgICAgICAgb2Zmc2V0ID0gdGhpcy5zdGFydE9mZnNldCwNCiAgICAgICAgICAgICAgICBjb2xsYXBzZWQgPSB0aGlzLmNvbGxhcHNlZCwNCiAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgIGlmIChzdGFydC5ub2RlVHlwZSA9PSAzKSB7DQogICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhcnRCZWZvcmUoc3RhcnQpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPj0gc3RhcnQubm9kZVZhbHVlLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydEFmdGVyKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IGRvbVV0aWxzLnNwbGl0KHN0YXJ0LCBvZmZzZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/ot5/mlrDnu5PmnZ/ovrnnlYwNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCA9PT0gZW5kKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbmQodGV4dE5vZGUsIHRoaXMuZW5kT2Zmc2V0IC0gb2Zmc2V0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnQucGFyZW50Tm9kZSA9PT0gZW5kKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRPZmZzZXQgKz0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhcnRCZWZvcmUodGV4dE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChjb2xsYXBzZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKCFpZ25vcmVFbmQpIHsNCiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLmVuZE9mZnNldDsNCiAgICAgICAgICAgICAgICBlbmQgPSB0aGlzLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICBpZiAoZW5kLm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVuZEJlZm9yZShlbmQpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0IDwgZW5kLm5vZGVWYWx1ZS5sZW5ndGggJiYgZG9tVXRpbHMuc3BsaXQoZW5kLCBvZmZzZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbmRBZnRlcihlbmQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWmguaenOmAieWMuuWcqOaWh+acrOeahOi+ueeVjOS4iu+8jOWwseaJqeWxlemAieWMuuWIsOaWh+acrOeahOeItuiKgueCueS4iiwg5aaC5p6c5b2T5YmN6YCJ5Yy65piv6Zet5ZCI55qE77yMIOWImeS7gOS5iOS5n+S4jeWBmg0KICAgICAgICAgKiBAbWV0aG9kIHR4dFRvRWxtQm91bmRhcnkNCiAgICAgICAgICogQHJlbWluZCDor6Xmk43kvZzkuI3kvJrkv67mlLlkb23oioLngrkNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlpoLmnpzpgInljLrlnKjmlofmnKznmoTovrnnlYzkuIrvvIzlsLHmianlsZXpgInljLrliLDmlofmnKznmoTniLboioLngrnkuIosIOWmguaenOW9k+WJjemAieWMuuaYr+mXreWQiOeahO+8jCDliJnmoLnmja7lj4LmlbDpobkNCiAgICAgICAgICogaWdub3JlQ29sbGFwc2VkIOeahOWAvOWGs+WumuaYr+WQpuaJp+ihjOivpeiwg+aVtA0KICAgICAgICAgKiBAbWV0aG9kIHR4dFRvRWxtQm91bmRhcnkNCiAgICAgICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGlnbm9yZUNvbGxhcHNlZCDmmK/lkKblv73nlaXpgInljLrnmoTpl63lkIjnirbmgIHvvIwg5aaC5p6c6K+l5Y+C5pWw5Y+W5YC85Li6dHJ1Ze+8jCDliJkNCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAg5LiN6K666YCJ5Yy65piv5ZCm6Zet5ZCI77yMIOmDveS8muaJp+ihjOivpeaTjeS9nO+8jCDlj43kuYvvvIwg5YiZ5LiN5Lya5a+56Zet5ZCI55qE6YCJ5Yy65omn6KGM6K+l5pON5L2cDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKi8NCiAgICAgICAgdHh0VG9FbG1Cb3VuZGFyeTpmdW5jdGlvbiAoaWdub3JlQ29sbGFwc2VkKSB7DQogICAgICAgICAgICBmdW5jdGlvbiBhZGp1c3QociwgYykgew0KICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSByW2MgKyAnQ29udGFpbmVyJ10sDQogICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHJbYyArICdPZmZzZXQnXTsNCiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyLm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFvZmZzZXQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJbJ3NldCcgKyBjLnJlcGxhY2UoLyhcdykvLCBmdW5jdGlvbiAoYSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnRvVXBwZXJDYXNlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KSArICdCZWZvcmUnXShjb250YWluZXIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9mZnNldCA+PSBjb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgclsnc2V0JyArIGMucmVwbGFjZSgvKFx3KS8sIGZ1bmN0aW9uIChhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pICsgJ0FmdGVyJyBdKGNvbnRhaW5lcik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChpZ25vcmVDb2xsYXBzZWQgfHwgIXRoaXMuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgYWRqdXN0KHRoaXMsICdzdGFydCcpOw0KICAgICAgICAgICAgICAgIGFkanVzdCh0aGlzLCAnZW5kJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5Zyo5b2T5YmN6YCJ5Yy655qE5byA5aeL5L2N572u5YmN5o+S5YWl6IqC54K577yM5paw5o+S5YWl55qE6IqC54K55Lya6KKr6K+lcmFuZ2XljIXlkKsNCiAgICAgICAgICogQG1ldGhvZCAgaW5zZXJ0Tm9kZQ0KICAgICAgICAgKiBAcGFyYW0geyBOb2RlIH0gbm9kZSDpnIDopoHmj5LlhaXnmoToioLngrkNCiAgICAgICAgICogQHJlbWluZCDmj5LlhaXnmoToioLngrnlj6/ku6XmmK/kuIDkuKpEb2N1bWVudEZyYWdtZW505L6d5qyh5o+S5YWl5aSa5Liq6IqC54K5DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKi8NCiAgICAgICAgaW5zZXJ0Tm9kZTpmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgdmFyIGZpcnN0ID0gbm9kZSwgbGVuZ3RoID0gMTsNCiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDExKSB7DQogICAgICAgICAgICAgICAgZmlyc3QgPSBub2RlLmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgbGVuZ3RoID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMudHJpbUJvdW5kYXJ5KHRydWUpOw0KICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zdGFydENvbnRhaW5lciwNCiAgICAgICAgICAgICAgICBvZmZzZXQgPSB0aGlzLnN0YXJ0T2Zmc2V0Ow0KICAgICAgICAgICAgdmFyIG5leHROb2RlID0gc3RhcnQuY2hpbGROb2Rlc1sgb2Zmc2V0IF07DQogICAgICAgICAgICBpZiAobmV4dE5vZGUpIHsNCiAgICAgICAgICAgICAgICBzdGFydC5pbnNlcnRCZWZvcmUobm9kZSwgbmV4dE5vZGUpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzdGFydC5hcHBlbmRDaGlsZChub2RlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmaXJzdC5wYXJlbnROb2RlID09PSB0aGlzLmVuZENvbnRhaW5lcikgew0KICAgICAgICAgICAgICAgIHRoaXMuZW5kT2Zmc2V0ID0gdGhpcy5lbmRPZmZzZXQgKyBsZW5ndGg7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTdGFydEJlZm9yZShmaXJzdCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOmXreWQiOmAieWMuuWIsOW9k+WJjemAieWMuueahOW8gOWni+S9jee9ru+8jCDlubbkuJTlrprkvY3lhYnmoIfliLDpl63lkIjlkI7nmoTkvY3nva4NCiAgICAgICAgICogQG1ldGhvZCAgc2V0Q3Vyc29yDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpjb2xsYXBzZSgpDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDpl63lkIjpgInljLrvvIzlj6/ku6XmoLnmja7lj4LmlbB0b0VuZOeahOWAvOaOp+WItumAieWMuuaYr+WQkeWJjemXreWQiOi/mOaYr+WQkeWQjumXreWQiO+8jCDlubbkuJTlrprkvY3lhYnmoIfliLDpl63lkIjlkI7nmoTkvY3nva7jgIINCiAgICAgICAgICogQG1ldGhvZCAgc2V0Q3Vyc29yDQogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSB0b0VuZCDmmK/lkKblkJHlkI7pl63lkIjvvIwg5aaC5p6c5Li6dHJ1Ze+8jCDliJnpl63lkIjpgInljLrml7bvvIwg5bCG5ZCR57uT5p2f5a655Zmo5pa55ZCR6Zet5ZCI77yMDQogICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgIOWPjeS5i++8jOWImeWQkeW8gOWni+WuueWZqOaWueWQkemXreWQiA0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICogQHNlZSBVRS5kb20uUmFuZ2U6Y29sbGFwc2UoQm9vbGVhbikNCiAgICAgICAgICovDQogICAgICAgIHNldEN1cnNvcjpmdW5jdGlvbiAodG9FbmQsIG5vRmlsbERhdGEpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbGxhcHNlKCF0b0VuZCkuc2VsZWN0KG5vRmlsbERhdGEpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDliJvlu7rlvZPliY1yYW5nZeeahOS4gOS4quS5puetvu+8jOiusOW9leS4i+W9k+WJjXJhbmdl55qE5L2N572u77yM5pa55L6/5b2TZG9t5qCR5pS55Y+Y5pe277yM6L+Y6IO95om+5Zue5Y6f5p2l55qE6YCJ5Yy65L2N572uDQogICAgICAgICAqIEBtZXRob2QgY3JlYXRlQm9va21hcmsNCiAgICAgICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IHNlcmlhbGl6ZSDmjqfliLbov5Tlm57nmoTmoIforrDkvY3nva7mmK/lr7nlvZPliY3kvY3nva7nmoTlvJXnlKjov5jmmK9JRO+8jOWmguaenOivpeWAvOS4unRydWXvvIzliJkNCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICDov5Tlm57moIforrDkvY3nva7nmoRJRO+8jCDlj43kuYvliJnov5Tlm57moIforrDkvY3nva7oioLngrnnmoTlvJXnlKgNCiAgICAgICAgICogQHJldHVybiB7IE9iamVjdCB9IOi/lOWbnuS4gOS4quS5puetvuiusOW9lemUruWAvOWvue+8jCDlhbbljIXlkKvnmoRrZXnmnInvvJogc3RhcnQgPT4g5byA5aeL5qCH6K6w55qESUTmiJbogIXlvJXnlKjvvIwNCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9PiDnu5PmnZ/moIforrDnmoRJROaIluW8leeUqO+8jCBpZCA9PiDlvZPliY3moIforrDnmoTnsbvlnovvvIwg5aaC5p6c5Li6dHJ1Ze+8jOWImeihqOekug0KICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAg6L+U5Zue55qE6K6w5b2V55qE57G75Z6L5Li6SUTvvIwg5Y+N5LmL5YiZ5Li65byV55SoDQogICAgICAgICAqLw0KICAgICAgICBjcmVhdGVCb29rbWFyazpmdW5jdGlvbiAoc2VyaWFsaXplLCBzYW1lKSB7DQogICAgICAgICAgICB2YXIgZW5kTm9kZSwNCiAgICAgICAgICAgICAgICBzdGFydE5vZGUgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgIHN0YXJ0Tm9kZS5zdHlsZS5jc3NUZXh0ID0gJ2Rpc3BsYXk6bm9uZTtsaW5lLWhlaWdodDowcHg7JzsNCiAgICAgICAgICAgIHN0YXJ0Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdcdTIwMEQnKSk7DQogICAgICAgICAgICBzdGFydE5vZGUuaWQgPSAnX2JhaWR1X2Jvb2ttYXJrX3N0YXJ0XycgKyAoc2FtZSA/ICcnIDogZ3VpZCsrKTsNCg0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIGVuZE5vZGUgPSBzdGFydE5vZGUuY2xvbmVOb2RlKHRydWUpOw0KICAgICAgICAgICAgICAgIGVuZE5vZGUuaWQgPSAnX2JhaWR1X2Jvb2ttYXJrX2VuZF8nICsgKHNhbWUgPyAnJyA6IGd1aWQrKyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmluc2VydE5vZGUoc3RhcnROb2RlKTsNCiAgICAgICAgICAgIGlmIChlbmROb2RlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5jb2xsYXBzZSgpLmluc2VydE5vZGUoZW5kTm9kZSkuc2V0RW5kQmVmb3JlKGVuZE5vZGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5zZXRTdGFydEFmdGVyKHN0YXJ0Tm9kZSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHN0YXJ0OnNlcmlhbGl6ZSA/IHN0YXJ0Tm9kZS5pZCA6IHN0YXJ0Tm9kZSwNCiAgICAgICAgICAgICAgICBlbmQ6ZW5kTm9kZSA/IHNlcmlhbGl6ZSA/IGVuZE5vZGUuaWQgOiBlbmROb2RlIDogbnVsbCwNCiAgICAgICAgICAgICAgICBpZDpzZXJpYWxpemUNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICogIOiwg+aVtOW9k+WJjXJhbmdl55qE6L6555WM5Yiw5Lmm562+5L2N572u77yM5bm25Yig6Zmk6K+l5Lmm562+5a+56LGh5omA5qCH6K6w55qE5L2N572u5YaF55qE6IqC54K5DQogICAgICAgICAqICBAbWV0aG9kICBtb3ZlVG9Cb29rbWFyaw0KICAgICAgICAgKiAgQHBhcmFtIHsgQm9va01hcmsgfSBib29rbWFyayBjcmVhdGVCb29rbWFya+aJgOWIm+W7uueahOagh+etvuWvueixoQ0KICAgICAgICAgKiAgQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqICBAc2VlIFVFLmRvbS5SYW5nZTpjcmVhdGVCb29rbWFyayhCb29sZWFuKQ0KICAgICAgICAgKi8NCiAgICAgICAgbW92ZVRvQm9va21hcms6ZnVuY3Rpb24gKGJvb2ttYXJrKSB7DQogICAgICAgICAgICB2YXIgc3RhcnQgPSBib29rbWFyay5pZCA/IHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYm9va21hcmsuc3RhcnQpIDogYm9va21hcmsuc3RhcnQsDQogICAgICAgICAgICAgICAgZW5kID0gYm9va21hcmsuZW5kICYmIGJvb2ttYXJrLmlkID8gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChib29rbWFyay5lbmQpIDogYm9va21hcmsuZW5kOw0KICAgICAgICAgICAgdGhpcy5zZXRTdGFydEJlZm9yZShzdGFydCk7DQogICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnQpOw0KICAgICAgICAgICAgaWYgKGVuZCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5kQmVmb3JlKGVuZCk7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGVuZCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6LCD5pW0cmFuZ2XnmoTovrnnlYzvvIzkvb/lhbYi5pS+5aSnIuWIsOacgOi/keeahOeItuiKgueCuQ0KICAgICAgICAgKiBAbWV0aG9kICBlbmxhcmdlDQogICAgICAgICAqIEByZW1pbmQg5Lya5byV6LW36YCJ5Yy655qE5Y+Y5YyWDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog6LCD5pW0cmFuZ2XnmoTovrnnlYzvvIzkvb/lhbYi5pS+5aSnIuWIsOacgOi/keeahOeItuiKgueCue+8jOagueaNruWPguaVsCB0b0Jsb2NrIOeahOWPluWAvO+8jCDlj6/ku6UNCiAgICAgICAgICog6KaB5rGC5omp5aSn5LmL5ZCO55qE54i26IqC54K55pivYmxvY2voioLngrkNCiAgICAgICAgICogQG1ldGhvZCAgZW5sYXJnZQ0KICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gdG9CbG9jayDmmK/lkKbopoHmsYLmianlpKfkuYvlkI7nmoTniLboioLngrnlv4XpobvmmK9ibG9ja+iKgueCuQ0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNcmFuZ2Xlr7nosaENCiAgICAgICAgICovDQogICAgICAgIGVubGFyZ2U6ZnVuY3Rpb24gKHRvQmxvY2ssIHN0b3BGbikgew0KICAgICAgICAgICAgdmFyIGlzQm9keSA9IGRvbVV0aWxzLmlzQm9keSwNCiAgICAgICAgICAgICAgICBwcmUsIG5vZGUsIHRtcCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpOw0KICAgICAgICAgICAgaWYgKHRvQmxvY2spIHsNCiAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXNbdGhpcy5zdGFydE9mZnNldF0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IG5vZGUgPSBub2RlLmNoaWxkTm9kZXNbdGhpcy5zdGFydE9mZnNldF0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodG1wKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IG5vZGUgPSB0bXA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBwcmUgPSBub2RlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHByZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgocHJlID0gbm9kZS5wcmV2aW91c1NpYmxpbmcpICYmICFkb21VdGlscy5pc0Jsb2NrRWxtKHByZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gcHJlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydEJlZm9yZShub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHByZSA9IG5vZGU7DQogICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwcmUgPSBub2RlLmNoaWxkTm9kZXNbdGhpcy5lbmRPZmZzZXRdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLmluc2VydEJlZm9yZSh0bXAsIHByZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKHRtcCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcHJlID0gbm9kZSA9IHRtcDsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBwcmUgPSBub2RlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB3aGlsZSAoMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHByZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgocHJlID0gbm9kZS5uZXh0U2libGluZykgJiYgIWRvbVV0aWxzLmlzQmxvY2tFbG0ocHJlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBwcmU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVuZEFmdGVyKG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcHJlID0gbm9kZTsNCiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKHRtcC5wYXJlbnROb2RlID09PSB0aGlzLmVuZENvbnRhaW5lcikgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmVuZE9mZnNldC0tOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8g5omp5bGV6L6555WM5Yiw5pyA5aSnDQogICAgICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhcnRPZmZzZXQgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcEZuICYmIHN0b3BGbih0aGlzLnN0YXJ0Q29udGFpbmVyKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGlzQm9keSh0aGlzLnN0YXJ0Q29udGFpbmVyKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydEJlZm9yZSh0aGlzLnN0YXJ0Q29udGFpbmVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuZW5kT2Zmc2V0ID09ICh0aGlzLmVuZENvbnRhaW5lci5ub2RlVHlwZSA9PSAxID8gdGhpcy5lbmRDb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGggOiB0aGlzLmVuZENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcEZuICYmIHN0b3BGbih0aGlzLmVuZENvbnRhaW5lcikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChpc0JvZHkodGhpcy5lbmRDb250YWluZXIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEVuZEFmdGVyKHRoaXMuZW5kQ29udGFpbmVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCiAgICAgICAgZW5sYXJnZVRvQmxvY2tFbG06ZnVuY3Rpb24oaWdub3JlRW5kKXsNCiAgICAgICAgICAgIHdoaWxlKCFkb21VdGlscy5pc0Jsb2NrRWxtKHRoaXMuc3RhcnRDb250YWluZXIpKXsNCiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0QmVmb3JlKHRoaXMuc3RhcnRDb250YWluZXIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoIWlnbm9yZUVuZCl7DQogICAgICAgICAgICAgICAgd2hpbGUoIWRvbVV0aWxzLmlzQmxvY2tFbG0odGhpcy5lbmRDb250YWluZXIpKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRFbmRBZnRlcih0aGlzLmVuZENvbnRhaW5lcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDosIPmlbRSYW5nZeeahOi+ueeVjO+8jOS9v+WFtiLnvKnlsI8i5Yiw5pyA5ZCI6YCC55qE5L2N572uDQogICAgICAgICAqIEBtZXRob2QgYWRqdXN0bWVudEJvdW5kYXJ5DQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAc2VlIFVFLmRvbS5SYW5nZTpzaHJpbmtCb3VuZGFyeSgpDQogICAgICAgICAqLw0KICAgICAgICBhZGp1c3RtZW50Qm91bmRhcnk6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIHdoaWxlICghZG9tVXRpbHMuaXNCb2R5KHRoaXMuc3RhcnRDb250YWluZXIpICYmDQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRPZmZzZXQgPT0gdGhpcy5zdGFydENvbnRhaW5lclt0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlID09IDMgPyAnbm9kZVZhbHVlJyA6ICdjaGlsZE5vZGVzJ10ubGVuZ3RoICYmDQogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRDb250YWluZXJbdGhpcy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAzID8gJ25vZGVWYWx1ZScgOiAnY2hpbGROb2RlcyddLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICApIHsNCg0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXJ0QWZ0ZXIodGhpcy5zdGFydENvbnRhaW5lcik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHdoaWxlICghZG9tVXRpbHMuaXNCb2R5KHRoaXMuZW5kQ29udGFpbmVyKSAmJiAhdGhpcy5lbmRPZmZzZXQgJiYNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmRDb250YWluZXJbdGhpcy5lbmRDb250YWluZXIubm9kZVR5cGUgPT0gMyA/ICdub2RlVmFsdWUnIDogJ2NoaWxkTm9kZXMnXS5sZW5ndGgNCiAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5kQmVmb3JlKHRoaXMuZW5kQ29udGFpbmVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog57uZcmFuZ2XpgInljLrkuK3nmoTlhoXlrrnmt7vliqDnu5nlrprnmoRpbmxpbmXmoIfnrb4NCiAgICAgICAgICogQG1ldGhvZCBhcHBseUlubGluZVN0eWxlDQogICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHRhZ05hbWUg6ZyA6KaB5re75Yqg55qE5qCH562+5ZCNDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGh0bWwNCiAgICAgICAgICogPHA+eHh4eFt4eHh4XXg8L3A+ICA9PT4gIHJhbmdlLmFwcGx5SW5saW5lU3R5bGUoInN0cm9uZyIpICA9PT4gIDxwPnh4eHhbPHN0cm9uZz54eHh4PC9zdHJvbmc+XXg8L3A+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog57uZcmFuZ2XpgInljLrkuK3nmoTlhoXlrrnmt7vliqDnu5nlrprnmoRpbmxpbmXmoIfnrb7vvIwg5bm25LiU5Li65qCH562+6ZmE5Yqg5LiK5LiA5Lqb5Yid5aeL5YyW5bGe5oCn44CCDQogICAgICAgICAqIEBtZXRob2QgYXBwbHlJbmxpbmVTdHlsZQ0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0YWdOYW1lIOmcgOimgea3u+WKoOeahOagh+etvuWQjQ0KICAgICAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBhdHRycyDot5/pmo/mlrDmt7vliqDnmoTmoIfnrb7nmoTlsZ7mgKcNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjemAieWMug0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqIDxwPnh4eHhbeHh4eF14PC9wPg0KICAgICAgICAgKg0KICAgICAgICAgKiA9PT4NCiAgICAgICAgICoNCiAgICAgICAgICogPCEtLSDmiafooYzmk43kvZwgLS0+DQogICAgICAgICAqIHJhbmdlLmFwcGx5SW5saW5lU3R5bGUoInN0cm9uZyIseyJzdHlsZSI6ImZvbnQtc2l6ZToxMnB4In0pDQogICAgICAgICAqDQogICAgICAgICAqID09Pg0KICAgICAgICAgKg0KICAgICAgICAgKiA8cD54eHh4WzxzdHJvbmcgc3R5bGU9ImZvbnQtc2l6ZToxMnB4Ij54eHh4PC9zdHJvbmc+XXg8L3A+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgYXBwbHlJbmxpbmVTdHlsZTpmdW5jdGlvbiAodGFnTmFtZSwgYXR0cnMsIGxpc3QpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmNvbGxhcHNlZClyZXR1cm4gdGhpczsNCiAgICAgICAgICAgIHRoaXMudHJpbUJvdW5kYXJ5KCkuZW5sYXJnZShmYWxzZSwNCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAxICYmIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkNCiAgICAgICAgICAgICAgICB9KS5hZGp1c3RtZW50Qm91bmRhcnkoKTsNCiAgICAgICAgICAgIHZhciBib29rbWFyayA9IHRoaXMuY3JlYXRlQm9va21hcmsoKSwNCiAgICAgICAgICAgICAgICBlbmQgPSBib29rbWFyay5lbmQsDQogICAgICAgICAgICAgICAgZmlsdGVyRm4gPSBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAxID8gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2JyJyA6ICFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYm9va21hcmsuc3RhcnQsIGZhbHNlLCBmaWx0ZXJGbiksDQogICAgICAgICAgICAgICAgbm9kZSwNCiAgICAgICAgICAgICAgICBwcmUsDQogICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmNsb25lUmFuZ2UoKTsNCiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIChkb21VdGlscy5nZXRQb3NpdGlvbihjdXJyZW50LCBlbmQpICYgZG9tVXRpbHMuUE9TSVRJT05fUFJFQ0VESU5HKSkgew0KICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Lm5vZGVUeXBlID09IDMgfHwgZHRkW3RhZ05hbWVdW2N1cnJlbnQudGFnTmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY3VycmVudCk7DQogICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjdXJyZW50Ow0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAobm9kZSAmJiAobm9kZS5ub2RlVHlwZSA9PSAzIHx8IGR0ZFt0YWdOYW1lXVtub2RlLnRhZ05hbWVdKSAmJiBub2RlICE9PSBlbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IG5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUobm9kZSwgbm9kZS5ub2RlVHlwZSA9PSAxLCBudWxsLCBmdW5jdGlvbiAocGFyZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0ZFt0YWdOYW1lXVtwYXJlbnQudGFnTmFtZV07DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IHJhbmdlLnNldEVuZEFmdGVyKHByZSkuZXh0cmFjdENvbnRlbnRzKCksIGVsbTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QgJiYgbGlzdC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGV2ZWwsIHRvcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IGxldmVsID0gbGlzdFswXS5jbG9uZU5vZGUoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGNpOyBjaSA9IGxpc3RbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbC5hcHBlbmRDaGlsZChjaS5jbG9uZU5vZGUoZmFsc2UpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IGxldmVsLmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbG0gPSBsZXZlbDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsbSA9IHJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGVsbSwgYXR0cnMpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsbS5hcHBlbmRDaGlsZChmcmFnKTsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShsaXN0ID8gdG9wIDogZWxtKTsNCiAgICAgICAgICAgICAgICAgICAgLy/lpITnkIbkuIvmu5Hnur/lnKhh5LiK55qE5oOF5Ya1DQogICAgICAgICAgICAgICAgICAgIHZhciBhTm9kZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZ05hbWUgPT0gJ3NwYW4nICYmIGF0dHJzLnN0eWxlICYmIC90ZXh0XC1kZWNvcmF0aW9uLy50ZXN0KGF0dHJzLnN0eWxlKSAmJiAoYU5vZGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVsbSwgJ2EnLCB0cnVlKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoYU5vZGUsIGF0dHJzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShlbG0sIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZWxtID0gYU5vZGU7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5tZXJnZVNpYmxpbmcoZWxtKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmNsZWFyRW1wdHlTaWJsaW5nKGVsbSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy/ljrvpmaTlrZDoioLngrnnm7jlkIznmoQNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubWVyZ2VDaGlsZChlbG0sIGF0dHJzKTsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGVsbSwgZmFsc2UsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubWVyZ2VUb1BhcmVudChlbG0pOw0KICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gZW5kKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LCB0cnVlLCBmaWx0ZXJGbik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRvQm9va21hcmsoYm9va21hcmspOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDnp7vpmaTlvZPliY3pgInljLrlhoXmjIflrprnmoRpbmxpbmXmoIfnrb7vvIzkvYbkv53nlZnlhbbkuK3nmoTlhoXlrrkNCiAgICAgICAgICogQG1ldGhvZCByZW1vdmVJbmxpbmVTdHlsZQ0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSB0YWdOYW1lIOmcgOimgeenu+mZpOeahOagh+etvuWQjQ0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmN55qEcmFuZ2Xlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiB4eFt4PHNwYW4+eHh4PGVtPnl5eTwvZW0+enpdejwvc3Bhbj4gID0+IHJhbmdlLnJlbW92ZUlubGluZVN0eWxlKFsiZW0iXSkgID0+IHh4W3g8c3Bhbj54eHh5eXl6el16PC9zcGFuPg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOenu+mZpOW9k+WJjemAieWMuuWGheaMh+WumueahOS4gOe7hGlubGluZeagh+etvu+8jOS9huS/neeVmeWFtuS4reeahOWGheWuuQ0KICAgICAgICAgKiBAbWV0aG9kIHJlbW92ZUlubGluZVN0eWxlDQogICAgICAgICAqIEBwYXJhbSB7IEFycmF5IH0gdGFnTmFtZUFyciDpnIDopoHnp7vpmaTnmoTmoIfnrb7lkI3nmoTmlbDnu4QNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjeeahHJhbmdl5a+56LGhDQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnJlbW92ZUlubGluZVN0eWxlKFN0cmluZykNCiAgICAgICAgICovDQogICAgICAgIHJlbW92ZUlubGluZVN0eWxlOmZ1bmN0aW9uICh0YWdOYW1lcykgew0KICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VkKXJldHVybiB0aGlzOw0KICAgICAgICAgICAgdGFnTmFtZXMgPSB1dGlscy5pc0FycmF5KHRhZ05hbWVzKSA/IHRhZ05hbWVzIDogW3RhZ05hbWVzXTsNCiAgICAgICAgICAgIHRoaXMuc2hyaW5rQm91bmRhcnkoKS5hZGp1c3RtZW50Qm91bmRhcnkoKTsNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnRDb250YWluZXIsIGVuZCA9IHRoaXMuZW5kQ29udGFpbmVyOw0KICAgICAgICAgICAgd2hpbGUgKDEpIHsNCiAgICAgICAgICAgICAgICBpZiAoc3RhcnQubm9kZVR5cGUgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodXRpbHMuaW5kZXhPZih0YWdOYW1lcywgc3RhcnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKSA+IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdib2R5Jykgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgd2hpbGUgKDEpIHsNCiAgICAgICAgICAgICAgICBpZiAoZW5kLm5vZGVUeXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLmluZGV4T2YodGFnTmFtZXMsIGVuZC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpID4gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChlbmQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdib2R5Jykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVuZCA9IGVuZC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJvb2ttYXJrID0gdGhpcy5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgIGZyYWcsDQogICAgICAgICAgICAgICAgdG1wUmFuZ2U7DQogICAgICAgICAgICBpZiAoc3RhcnQpIHsNCiAgICAgICAgICAgICAgICB0bXBSYW5nZSA9IHRoaXMuY2xvbmVSYW5nZSgpLnNldEVuZEJlZm9yZShib29rbWFyay5zdGFydCkuc2V0U3RhcnRCZWZvcmUoc3RhcnQpOw0KICAgICAgICAgICAgICAgIGZyYWcgPSB0bXBSYW5nZS5leHRyYWN0Q29udGVudHMoKTsNCiAgICAgICAgICAgICAgICB0bXBSYW5nZS5pbnNlcnROb2RlKGZyYWcpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLmNsZWFyRW1wdHlTaWJsaW5nKHN0YXJ0LCB0cnVlKTsNCiAgICAgICAgICAgICAgICBzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShib29rbWFyay5zdGFydCwgc3RhcnQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGVuZCkgew0KICAgICAgICAgICAgICAgIHRtcFJhbmdlID0gdGhpcy5jbG9uZVJhbmdlKCkuc2V0U3RhcnRBZnRlcihib29rbWFyay5lbmQpLnNldEVuZEFmdGVyKGVuZCk7DQogICAgICAgICAgICAgICAgZnJhZyA9IHRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpOw0KICAgICAgICAgICAgICAgIHRtcFJhbmdlLmluc2VydE5vZGUoZnJhZyk7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcoZW5kLCBmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgZW5kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJvb2ttYXJrLmVuZCwgZW5kLm5leHRTaWJsaW5nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYm9va21hcmsuc3RhcnQsIGZhbHNlLCBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDE7DQogICAgICAgICAgICB9KSwgbmV4dDsNCiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGJvb2ttYXJrLmVuZCkgew0KICAgICAgICAgICAgICAgIG5leHQgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LCB0cnVlLCBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAxOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmICh1dGlscy5pbmRleE9mKHRhZ05hbWVzLCBjdXJyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkgPiAtMSkgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY3VycmVudCwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRvQm9va21hcmsoYm9va21hcmspOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5blvZPliY3pgInkuK3nmoToh6rpl63lkIjnmoToioLngrkNCiAgICAgICAgICogQG1ldGhvZCAgZ2V0Q2xvc2VkTm9kZQ0KICAgICAgICAgKiBAcmV0dXJuIHsgTm9kZSB8IE5VTEwgfSDlpoLmnpzlvZPliY3pgInkuK3nmoTmmK/oh6rpl63lkIjoioLngrnvvIwg5YiZ6L+U5Zue6K+l6IqC54K577yMIOWQpuWImei/lOWbnk5VTEwNCiAgICAgICAgICovDQogICAgICAgIGdldENsb3NlZE5vZGU6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG5vZGU7DQogICAgICAgICAgICBpZiAoIXRoaXMuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5jbG9uZVJhbmdlKCkuYWRqdXN0bWVudEJvdW5kYXJ5KCkuc2hyaW5rQm91bmRhcnkoKTsNCiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0T25lTm9kZShyYW5nZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gcmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF07DQogICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCAmJiBjaGlsZC5ub2RlVHlwZSA9PSAxICYmIChkdGQuJGVtcHR5W2NoaWxkLnRhZ05hbWVdIHx8IGR0ZC4kbm9uQ2hpbGRbY2hpbGQudGFnTmFtZV0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gY2hpbGQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbm9kZTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5Zyo6aG16Z2i5LiK6auY5LqucmFuZ2XmiYDooajnpLrnmoTpgInljLoNCiAgICAgICAgICogQG1ldGhvZCBzZWxlY3QNCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOi/lOWbnuW9k+WJjVJhbmdl5a+56LGhDQogICAgICAgICAqLw0KICAgICAgICAgICAgLy/ov5nph4zkuI3ljLrliIZpZTnku6XkuIrvvIx0cmFjZTozODI0DQogICAgICAgIHNlbGVjdDpicm93c2VyLmllID8gZnVuY3Rpb24gKG5vRmlsbERhdGEsIHRleHRSYW5nZSkgew0KICAgICAgICAgICAgdmFyIG5hdGl2ZVJhbmdlOw0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlZCkNCiAgICAgICAgICAgICAgICB0aGlzLnNocmlua0JvdW5kYXJ5KCk7DQogICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMuZ2V0Q2xvc2VkTm9kZSgpOw0KICAgICAgICAgICAgaWYgKG5vZGUgJiYgIXRleHRSYW5nZSkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlID0gdGhpcy5kb2N1bWVudC5ib2R5LmNyZWF0ZUNvbnRyb2xSYW5nZSgpOw0KICAgICAgICAgICAgICAgICAgICBuYXRpdmVSYW5nZS5hZGRFbGVtZW50KG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICBuYXRpdmVSYW5nZS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fQ0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJvb2ttYXJrID0gdGhpcy5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gYm9va21hcmsuc3RhcnQsDQogICAgICAgICAgICAgICAgZW5kOw0KICAgICAgICAgICAgbmF0aXZlUmFuZ2UgPSB0aGlzLmRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7DQogICAgICAgICAgICBuYXRpdmVSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChzdGFydCk7DQogICAgICAgICAgICBuYXRpdmVSYW5nZS5tb3ZlU3RhcnQoJ2NoYXJhY3RlcicsIDEpOw0KICAgICAgICAgICAgaWYgKCF0aGlzLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIHZhciBuYXRpdmVSYW5nZUVuZCA9IHRoaXMuZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICBlbmQgPSBib29rbWFyay5lbmQ7DQogICAgICAgICAgICAgICAgbmF0aXZlUmFuZ2VFbmQubW92ZVRvRWxlbWVudFRleHQoZW5kKTsNCiAgICAgICAgICAgICAgICBuYXRpdmVSYW5nZS5zZXRFbmRQb2ludCgnRW5kVG9FbmQnLCBuYXRpdmVSYW5nZUVuZCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGlmICghbm9GaWxsRGF0YSAmJiB0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlICE9IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/kvb/nlKg8c3Bhbj58eDxzcGFuPuWbuuWumuS9j+WFieaghw0KICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVGV4dCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmlsbENoYXIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQogICAgICAgICAgICAgICAgICAgIHRtcC5hcHBlbmRDaGlsZCh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZpbGxDaGFyKSk7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRtcCwgc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICBzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBUZXh0LCBzdGFydCk7DQogICAgICAgICAgICAgICAgICAgIC8v5b2T54K5YixpLHXml7bvvIzkuI3og73muIXpmaRp5LiK6L6555qEYg0KICAgICAgICAgICAgICAgICAgICByZW1vdmVGaWxsRGF0YSh0aGlzLmRvY3VtZW50LCB0bXBUZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgZmlsbERhdGEgPSB0bXBUZXh0Ow0KICAgICAgICAgICAgICAgICAgICBtZXJnZVNpYmxpbmcodG1wLCAncHJldmlvdXNTaWJsaW5nJyk7DQogICAgICAgICAgICAgICAgICAgIG1lcmdlU2libGluZyhzdGFydCwgJ25leHRTaWJsaW5nJyk7DQogICAgICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlLm1vdmVTdGFydCgnY2hhcmFjdGVyJywgLTEpOw0KICAgICAgICAgICAgICAgICAgICBuYXRpdmVSYW5nZS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrKTsNCiAgICAgICAgICAgIHRtcCAmJiBkb21VdGlscy5yZW1vdmUodG1wKTsNCiAgICAgICAgICAgIC8vSUXlnKjpmpDol4/nirbmgIHkuIvkuI3mlK/mjIFyYW5nZeaTjeS9nO+8jGNhdGNo5LiA5LiLDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlLnNlbGVjdCgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgICAgIH0gOiBmdW5jdGlvbiAobm90SW5zZXJ0RmlsbERhdGEpIHsNCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrT2Zmc2V0KHJuZyl7DQoNCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjaGVjayhub2RlLG9mZnNldCxkaXIpew0KICAgICAgICAgICAgICAgICAgICBpZihub2RlLm5vZGVUeXBlID09IDMgJiYgbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDwgb2Zmc2V0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJuZ1tkaXIgKyAnT2Zmc2V0J10gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjaGVjayhybmcuc3RhcnRDb250YWluZXIscm5nLnN0YXJ0T2Zmc2V0LCdzdGFydCcpOw0KICAgICAgICAgICAgICAgIGNoZWNrKHJuZy5lbmRDb250YWluZXIscm5nLmVuZE9mZnNldCwnZW5kJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgd2luID0gZG9tVXRpbHMuZ2V0V2luZG93KHRoaXMuZG9jdW1lbnQpLA0KICAgICAgICAgICAgICAgIHNlbCA9IHdpbi5nZXRTZWxlY3Rpb24oKSwNCiAgICAgICAgICAgICAgICB0eHROb2RlOw0KICAgICAgICAgICAgLy9GRuS4i+WFs+mXreiHquWKqOmVv+mrmOaXtua7muWKqOadoeWcqOWFs+mXrWRpYWxvZ+aXtuS8mui3sw0KICAgICAgICAgICAgLy9mZuS4i+WmguaenOS4jWJvZHkuZm9jdXPlsIbkuI3og73lrprkvY3pl63lkIjlhYnmoIfliLDnvJbovpHlmajlhoUNCiAgICAgICAgICAgIGJyb3dzZXIuZ2Vja28gPyB0aGlzLmRvY3VtZW50LmJvZHkuZm9jdXMoKSA6IHdpbi5mb2N1cygpOw0KICAgICAgICAgICAgaWYgKHNlbCkgew0KICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTsNCiAgICAgICAgICAgICAgICAvLyB0cmFjZTo4NzAgY2hyb21lL3NhZmFyaeWQjui+ueaYr2Jy5a+55LqO6Zet5ZCI5b6XcmFuZ2XkuI3og73lrprkvY0g5omA5Lul5Y675o6J5LqG5Yik5patDQogICAgICAgICAgICAgICAgLy8gdGhpcy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSAhPSAzICYmISAoKGNoaWxkID0gdGhpcy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3RoaXMuc3RhcnRPZmZzZXRdKSAmJiBjaGlsZC5ub2RlVHlwZSA9PSAxICYmIGNoaWxkLnRhZ05hbWUgPT0gJ0JSJw0KICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbGxhcHNlZCAmJiAhbm90SW5zZXJ0RmlsbERhdGEpIHsNCi8vICAgICAgICAgICAgICAgICAgICAvL29wZWFy5aaC5p6c5rKh5pyJ6IqC54K55o6l552A77yM5Y6f55Sf55qE5LiN6IO95aSf5a6a5L2NLOS4jeiDveWcqGJvZHnnmoTnrKzkuIDnuqfmj5LlhaXnqbrnmb3oioLngrkNCi8vICAgICAgICAgICAgICAgICAgICBpZiAobm90SW5zZXJ0RmlsbERhdGEgJiYgYnJvd3Nlci5vcGVyYSAmJiAhZG9tVXRpbHMuaXNCb2R5KHRoaXMuc3RhcnRDb250YWluZXIpICYmIHRoaXMuc3RhcnRDb250YWluZXIubm9kZVR5cGUgPT0gMSkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gdGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zZXJ0Tm9kZSh0bXApLnNldFN0YXJ0KHRtcCwgMCkuY29sbGFwc2UodHJ1ZSk7DQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8NCiAgICAgICAgICAgICAgICAgICAgLy/lpITnkIblhYnmoIfokL3lnKjmlofmnKzoioLngrnnmoTmg4XlhrUNCiAgICAgICAgICAgICAgICAgICAgLy/lpITnkIbku6XkuIvnmoTmg4XlhrUNCiAgICAgICAgICAgICAgICAgICAgLy88Yj58eHh4eDwvYj4NCiAgICAgICAgICAgICAgICAgICAgLy88Yj54eHh4PC9iPnx4eHh4DQogICAgICAgICAgICAgICAgICAgIC8veHh4eDxiPnw8L2I+DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnRDb250YWluZXIsY2hpbGQgPSBzdGFydDsNCiAgICAgICAgICAgICAgICAgICAgaWYoc3RhcnQubm9kZVR5cGUgPT0gMSl7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IHN0YXJ0LmNoaWxkTm9kZXNbdGhpcy5zdGFydE9mZnNldF07DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiggIShzdGFydC5ub2RlVHlwZSA9PSAzICYmIHRoaXMuc3RhcnRPZmZzZXQpICAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgKGNoaWxkID8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoIWNoaWxkLnByZXZpb3VzU2libGluZyB8fCBjaGlsZC5wcmV2aW91c1NpYmxpbmcubm9kZVR5cGUgIT0gMykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKCFzdGFydC5sYXN0Q2hpbGQgfHwgc3RhcnQubGFzdENoaWxkLm5vZGVUeXBlICE9IDMpDQogICAgICAgICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgICl7DQogICAgICAgICAgICAgICAgICAgICAgICB0eHROb2RlID0gdGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShmaWxsQ2hhcik7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+i3n+edgOWJjei+uei1sA0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnNlcnROb2RlKHR4dE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRmlsbERhdGEodGhpcy5kb2N1bWVudCwgdHh0Tm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBtZXJnZVNpYmxpbmcodHh0Tm9kZSwgJ3ByZXZpb3VzU2libGluZycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VTaWJsaW5nKHR4dE5vZGUsICduZXh0U2libGluZycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsbERhdGEgPSB0eHROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydCh0eHROb2RlLCBicm93c2VyLndlYmtpdCA/IDEgOiAwKS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgbmF0aXZlUmFuZ2UgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7DQogICAgICAgICAgICAgICAgaWYodGhpcy5jb2xsYXBzZWQgJiYgYnJvd3Nlci5vcGVyYSAmJiB0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlID09IDEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbdGhpcy5zdGFydE9mZnNldF07DQogICAgICAgICAgICAgICAgICAgIGlmKCFjaGlsZCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+W+gOWJjemdoOaLog0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSB0aGlzLnN0YXJ0Q29udGFpbmVyLmxhc3RDaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjaGlsZCAmJiBkb21VdGlscy5pc0JyKGNoaWxkKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGFydEJlZm9yZShjaGlsZCkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/lkJHlkI7pnaDmi6INCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGNoaWxkICYmIGRvbVV0aWxzLmlzQmxvY2tFbG0oY2hpbGQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjaGlsZC5ub2RlVHlwZSA9PSAxICYmIGNoaWxkLmNoaWxkTm9kZXNbMF0pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLmNoaWxkTm9kZXNbMF0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgJiYgdGhpcy5zZXRTdGFydEJlZm9yZShjaGlsZCkuY29sbGFwc2UodHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v5pivY3JlYXRlQWRkcmVzc+acgOWQjuS4gOS9jeeul+eahOS4jeWHhu+8jOeOsOWcqOi/memHjOi/m+ihjOW+ruiwgw0KICAgICAgICAgICAgICAgIGNoZWNrT2Zmc2V0KHRoaXMpOw0KICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlLnNldFN0YXJ0KHRoaXMuc3RhcnRDb250YWluZXIsIHRoaXMuc3RhcnRPZmZzZXQpOw0KICAgICAgICAgICAgICAgIG5hdGl2ZVJhbmdlLnNldEVuZCh0aGlzLmVuZENvbnRhaW5lciwgdGhpcy5lbmRPZmZzZXQpOw0KICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShuYXRpdmVSYW5nZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpczsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5rua5Yqo5Yiw5b2T5YmNcmFuZ2XlvIDlp4vnmoTkvY3nva4NCiAgICAgICAgICogQG1ldGhvZCBzY3JvbGxUb1ZpZXcNCiAgICAgICAgICogQHBhcmFtIHsgV2luZG93IH0gd2luIOW9k+WJjXJhbmdl5a+56LGh5omA5bGe55qEd2luZG935a+56LGhDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1SYW5nZeWvueixoQ0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog5rua5Yqo5Yiw6Led56a75b2T5YmNcmFuZ2XlvIDlp4vkvY3nva4gb2Zmc2V0IOeahOS9jee9ruWkhA0KICAgICAgICAgKiBAbWV0aG9kIHNjcm9sbFRvVmlldw0KICAgICAgICAgKiBAcGFyYW0geyBXaW5kb3cgfSB3aW4g5b2T5YmNcmFuZ2Xlr7nosaHmiYDlsZ7nmoR3aW5kb3flr7nosaENCiAgICAgICAgICogQHBhcmFtIHsgTnVtYmVyIH0gb2Zmc2V0IOi3neemu3Jhbmdl5byA5aeL5L2N572u5aSE55qE5YGP56e76YeP77yMIOWmguaenOS4uuato+aVsO+8jCDliJnlkJHkuIvlgY/np7vvvIwg5Y+N5LmL77yMIOWImeWQkeS4iuWBj+enuw0KICAgICAgICAgKiBAcmV0dXJuIHsgVUUuZG9tLlJhbmdlIH0g5b2T5YmNUmFuZ2Xlr7nosaENCiAgICAgICAgICovDQogICAgICAgIHNjcm9sbFRvVmlldzpmdW5jdGlvbiAod2luLCBvZmZzZXQpIHsNCiAgICAgICAgICAgIHdpbiA9IHdpbiA/IHdpbmRvdyA6IGRvbVV0aWxzLmdldFdpbmRvdyh0aGlzLmRvY3VtZW50KTsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgc3BhbiA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgIC8vdHJhY2U6NzE3DQogICAgICAgICAgICBzcGFuLmlubmVySFRNTCA9ICcmbmJzcDsnOw0KICAgICAgICAgICAgbWUuY2xvbmVSYW5nZSgpLmluc2VydE5vZGUoc3Bhbik7DQogICAgICAgICAgICBkb21VdGlscy5zY3JvbGxUb1ZpZXcoc3Bhbiwgd2luLCBvZmZzZXQpOw0KICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHNwYW4pOw0KICAgICAgICAgICAgcmV0dXJuIG1lOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDliKTmlq3lvZPliY3pgInljLrlhoXlrrnmmK/lkKbljaDkvY3nrKYNCiAgICAgICAgICogQHByaXZhdGUNCiAgICAgICAgICogQG1ldGhvZCBpbkZpbGxDaGFyDQogICAgICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g5aaC5p6c5piv5Y2g5L2N56ym6L+U5ZuedHJ1Ze+8jOWQpuWImei/lOWbnmZhbHNlDQogICAgICAgICAqLw0KICAgICAgICBpbkZpbGxDaGFyIDogZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICBpZih0aGlzLmNvbGxhcHNlZCAmJiBzdGFydC5ub2RlVHlwZSA9PSAzDQogICAgICAgICAgICAgICAgJiYgc3RhcnQubm9kZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBkb21VdGlscy5maWxsQ2hhciksJycpLmxlbmd0aCArIDEgPT0gc3RhcnQubm9kZVZhbHVlLmxlbmd0aA0KICAgICAgICAgICAgICAgICl7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOS/neWtmA0KICAgICAgICAgKiBAbWV0aG9kIGNyZWF0ZUFkZHJlc3MNCiAgICAgICAgICogQHByaXZhdGUNCiAgICAgICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDov5Tlm57lvIDlp4vlkoznu5PmnZ/nmoTkvY3nva4NCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKiA8Ym9keT4NCiAgICAgICAgICogICAgIDxwPg0KICAgICAgICAgKiAgICAgICAgIGFhYWENCiAgICAgICAgICogICAgICAgICA8ZW0+DQogICAgICAgICAqICAgICAgICAgICAgIDwhLS0g6YCJ5Yy65byA5aeLIC0tPg0KICAgICAgICAgKiAgICAgICAgICAgICBiYmJiDQogICAgICAgICAqICAgICAgICAgICAgIDwhLS0g6YCJ5Yy657uT5p2fIC0tPg0KICAgICAgICAgKiAgICAgICAgIDwvZW0+DQogICAgICAgICAqICAgICA8L3A+DQogICAgICAgICAqDQogICAgICAgICAqICAgICA8c2NyaXB0Pg0KICAgICAgICAgKiAgICAgICAgIC8vb3V0cHV0OiB7c3RhcnRBZGRyZXNzOlswLDEsMCwwXSxlbmRBZGRyZXNzOlswLDEsMCw0XX0NCiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyggcmFuZ2UuY3JlYXRlQWRkcmVzcygpICk7DQogICAgICAgICAqICAgICA8L3NjcmlwdD4NCiAgICAgICAgICogPC9ib2R5Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGNyZWF0ZUFkZHJlc3MgOiBmdW5jdGlvbihpZ25vcmVFbmQsaWdub3JlVHh0KXsNCiAgICAgICAgICAgIHZhciBhZGRyID0ge30sbWUgPSB0aGlzOw0KDQogICAgICAgICAgICBmdW5jdGlvbiBnZXRBZGRyZXNzKGlzU3RhcnQpew0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gaXNTdGFydCA/IG1lLnN0YXJ0Q29udGFpbmVyIDogbWUuZW5kQ29udGFpbmVyOw0KICAgICAgICAgICAgICAgIHZhciBwYXJlbnRzID0gZG9tVXRpbHMuZmluZFBhcmVudHMobm9kZSx0cnVlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiAhZG9tVXRpbHMuaXNCb2R5KG5vZGUpfSksDQogICAgICAgICAgICAgICAgICAgIGFkZHJzID0gW107DQogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCxjaTtjaSA9IHBhcmVudHNbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBhZGRycy5wdXNoKGRvbVV0aWxzLmdldE5vZGVJbmRleChjaSxpZ25vcmVUeHQpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGZpcnN0SW5kZXggPSAwOw0KDQogICAgICAgICAgICAgICAgaWYoaWdub3JlVHh0KXsNCiAgICAgICAgICAgICAgICAgICAgaWYobm9kZS5ub2RlVHlwZSA9PSAzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSh0bXBOb2RlICYmIHRtcE5vZGUubm9kZVR5cGUgPT0gMyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCArPSB0bXBOb2RlLm5vZGVWYWx1ZS5yZXBsYWNlKGZpbGxDaGFyUmVnLCcnKS5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IHRtcE5vZGUucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCArPSAgKGlzU3RhcnQgPyBtZS5zdGFydE9mZnNldCA6IG1lLmVuZE9mZnNldCkvLyAtIChmaWxsQ2hhclJlZy50ZXN0KG5vZGUubm9kZVZhbHVlKSA/IDEgOiAwICkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gIG5vZGUuY2hpbGROb2Rlc1sgaXNTdGFydCA/IG1lLnN0YXJ0T2Zmc2V0IDogbWUuZW5kT2Zmc2V0XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0SW5kZXggPSBkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSxpZ25vcmVUeHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGlzU3RhcnQgPyBtZS5zdGFydENvbnRhaW5lciA6IG1lLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSBub2RlLmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoZmlyc3Qpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0ZpbGxDaGFyKGZpcnN0KSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZpcnN0Lm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmaXJzdC5ub2RlVHlwZSA9PSAzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKCBmaXJzdCAmJiBmaXJzdC5ub2RlVHlwZSA9PSAzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IGZpcnN0Lm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmlyc3QubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBmaXJzdEluZGV4ID0gaXNTdGFydCA/IGRvbVV0aWxzLmlzRmlsbENoYXIobm9kZSkgPyAwIDogbWUuc3RhcnRPZmZzZXQgIDogbWUuZW5kT2Zmc2V0DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGZpcnN0SW5kZXggPCAwKXsNCiAgICAgICAgICAgICAgICAgICAgZmlyc3RJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGFkZHJzLnB1c2goZmlyc3RJbmRleCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGFkZHJzOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgYWRkci5zdGFydEFkZHJlc3MgPSBnZXRBZGRyZXNzKHRydWUpOw0KICAgICAgICAgICAgaWYoIWlnbm9yZUVuZCl7DQogICAgICAgICAgICAgICAgYWRkci5lbmRBZGRyZXNzID0gbWUuY29sbGFwc2VkID8gW10uY29uY2F0KGFkZHIuc3RhcnRBZGRyZXNzKSA6IGdldEFkZHJlc3MoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBhZGRyOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDkv53lrZgNCiAgICAgICAgICogQG1ldGhvZCBjcmVhdGVBZGRyZXNzDQogICAgICAgICAqIEBwcml2YXRlDQogICAgICAgICAqIEByZXR1cm4geyBCb29sZWFuIH0g6L+U5Zue5byA5aeL5ZKM57uT5p2f55qE5L2N572uDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGh0bWwNCiAgICAgICAgICogPGJvZHk+DQogICAgICAgICAqICAgICA8cD4NCiAgICAgICAgICogICAgICAgICBhYWFhDQogICAgICAgICAqICAgICAgICAgPGVtPg0KICAgICAgICAgKiAgICAgICAgICAgICA8IS0tIOmAieWMuuW8gOWniyAtLT4NCiAgICAgICAgICogICAgICAgICAgICAgYmJiYg0KICAgICAgICAgKiAgICAgICAgICAgICA8IS0tIOmAieWMuue7k+adnyAtLT4NCiAgICAgICAgICogICAgICAgICA8L2VtPg0KICAgICAgICAgKiAgICAgPC9wPg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgPHNjcmlwdD4NCiAgICAgICAgICogICAgICAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAqICAgICAgICAgcmFuZ2UubW92ZVRvQWRkcmVzcyh7c3RhcnRBZGRyZXNzOlswLDEsMCwwXSxlbmRBZGRyZXNzOlswLDEsMCw0XX0pOw0KICAgICAgICAgKiAgICAgICAgIHJhbmdlLnNlbGVjdCgpOw0KICAgICAgICAgKiAgICAgICAgIC8vb3V0cHV0OiAnYmJiYicNCiAgICAgICAgICogICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3Iuc2VsZWN0aW9uLmdldFRleHQoKSk7DQogICAgICAgICAqICAgICA8L3NjcmlwdD4NCiAgICAgICAgICogPC9ib2R5Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIG1vdmVUb0FkZHJlc3MgOiBmdW5jdGlvbihhZGRyLGlnbm9yZUVuZCl7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgZnVuY3Rpb24gZ2V0Tm9kZShhZGRyZXNzLGlzU3RhcnQpew0KICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gbWUuZG9jdW1lbnQuYm9keSwNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSxvZmZzZXQ7DQogICAgICAgICAgICAgICAgZm9yKHZhciBpPSAwLGNpLGw9YWRkcmVzcy5sZW5ndGg7aTxsO2krKyl7DQogICAgICAgICAgICAgICAgICAgIGNpID0gYWRkcmVzc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IHRtcE5vZGU7DQogICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSB0bXBOb2RlLmNoaWxkTm9kZXNbY2ldOw0KICAgICAgICAgICAgICAgICAgICBpZighdG1wTm9kZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBjaTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGlzU3RhcnQpew0KICAgICAgICAgICAgICAgICAgICBpZih0bXBOb2RlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNldFN0YXJ0QmVmb3JlKHRtcE5vZGUpDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2V0U3RhcnQocGFyZW50Tm9kZSxvZmZzZXQpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgaWYodG1wTm9kZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5zZXRFbmRCZWZvcmUodG1wTm9kZSkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5zZXRFbmQocGFyZW50Tm9kZSxvZmZzZXQpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBnZXROb2RlKGFkZHIuc3RhcnRBZGRyZXNzLHRydWUpOw0KICAgICAgICAgICAgIWlnbm9yZUVuZCAmJiBhZGRyLmVuZEFkZHJlc3MgJiYgIGdldE5vZGUoYWRkci5lbmRBZGRyZXNzKTsNCiAgICAgICAgICAgIHJldHVybiBtZTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5Yik5pat57uZ5a6a55qEUmFuZ2Xlr7nosaHmmK/lkKblkozlvZPliY1SYW5nZeWvueixoeihqOekuueahOaYr+WQjOS4gOS4qumAieWMug0KICAgICAgICAgKiBAbWV0aG9kIGVxdWFscw0KICAgICAgICAgKiBAcGFyYW0geyBVRS5kb20uUmFuZ2UgfSDpnIDopoHliKTmlq3nmoRSYW5nZeWvueixoQ0KICAgICAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9IOWmguaenOe7meWumueahFJhbmdl5a+56LGh5LiO5b2T5YmNUmFuZ2Xlr7nosaHooajnpLrnmoTmmK/lkIzkuIDkuKrpgInljLrvvIwg5YiZ6L+U5ZuedHJ1Ze+8jCDlkKbliJnov5Tlm55mYWxzZQ0KICAgICAgICAgKi8NCiAgICAgICAgZXF1YWxzIDogZnVuY3Rpb24ocm5nKXsNCiAgICAgICAgICAgIGZvcih2YXIgcCBpbiB0aGlzKXsNCiAgICAgICAgICAgICAgICBpZih0aGlzLmhhc093blByb3BlcnR5KHApKXsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpc1twXSAhPT0gcm5nW3BdKQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6YGN5Y6GcmFuZ2XlhoXnmoToioLngrnjgILmr4/lvZPpgY3ljobkuIDkuKroioLngrnml7bvvIwg6YO95Lya5omn6KGM5Y+C5pWw6aG5IGRvRm4g5oyH5a6a55qE5Ye95pWw77yMIOivpeWHveaVsOeahOaOpeWPl+W9k+WJjemBjeWOhueahOiKgueCuQ0KICAgICAgICAgKiDkvZzkuLrlhbblj4LmlbDjgIINCiAgICAgICAgICogQG1ldGhvZCB0cmF2ZXJzYWwNCiAgICAgICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSAgZG9GbiDlr7nmr4/kuKrpgY3ljobnmoToioLngrnopoHmiafooYznmoTmlrnms5XvvIwg6K+l5pa55rOV5o6l5Y+X5b2T5YmN6YGN5Y6G55qE6IqC54K55L2c5Li65YW25Y+C5pWwDQogICAgICAgICAqIEByZXR1cm4geyBVRS5kb20uUmFuZ2UgfSDlvZPliY1yYW5nZeWvueixoQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBodG1sDQogICAgICAgICAqDQogICAgICAgICAqIDxib2R5Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgPCEtLSDpgInljLrlvIDlp4sgLS0+DQogICAgICAgICAqICAgICA8c3Bhbj48L3NwYW4+DQogICAgICAgICAqICAgICA8YT48L2E+DQogICAgICAgICAqICAgICA8IS0tIOmAieWMuue7k+adnyAtLT4NCiAgICAgICAgICogPC9ib2R5Pg0KICAgICAgICAgKg0KICAgICAgICAgKiA8c2NyaXB0Pg0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy9vdXRwdXQ6IDxzcGFuPjwvc3Bhbj48YT48L2E+DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggcmFuZ2UuY2xvbmVDb250ZW50cygpICk7DQogICAgICAgICAqDQogICAgICAgICAqICAgICByYW5nZS50cmF2ZXJzYWwoIGZ1bmN0aW9uICggbm9kZSApIHsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgICAgICBpZiAoIG5vZGUubm9kZVR5cGUgPT09IDEgKSB7DQogICAgICAgICAqICAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gInRlc3QiOw0KICAgICAgICAgKiAgICAgICAgIH0NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIH0gKTsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8vb3V0cHV0OiA8c3BhbiBjbGFzcz0idGVzdCI+PC9zcGFuPjxhIGNsYXNzPSJ0ZXN0Ij48L2E+DQogICAgICAgICAqICAgICBjb25zb2xlLmxvZyggcmFuZ2UuY2xvbmVDb250ZW50cygpICk7DQogICAgICAgICAqDQogICAgICAgICAqIDwvc2NyaXB0Pg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOmBjeWOhnJhbmdl5YaF55qE6IqC54K544CCDQogICAgICAgICAqIOavj+W9k+mBjeWOhuS4gOS4quiKgueCueaXtu+8jCDpg73kvJrmiafooYzlj4LmlbDpobkgZG9GbiDmjIflrprnmoTlh73mlbDvvIwg6K+l5Ye95pWw55qE5o6l5Y+X5b2T5YmN6YGN5Y6G55qE6IqC54K5DQogICAgICAgICAqIOS9nOS4uuWFtuWPguaVsOOAgg0KICAgICAgICAgKiDlj6/ku6XpgJrov4flj4LmlbDpobkgZmlsdGVyRm4g5p2l5oyH5a6a5LiA5Liq6L+H5ruk5Zmo77yMIOWPquacieespuWQiOivpei/h+a7pOWZqOi/h+a7pOinhOWImeeahOiKgueCueaJjeS8muinpg0KICAgICAgICAgKiDlj5Fkb0Zu5Ye95pWw55qE5omn6KGMDQogICAgICAgICAqIEBtZXRob2QgdHJhdmVyc2FsDQogICAgICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZG9GbiDlr7nmr4/kuKrpgY3ljobnmoToioLngrnopoHmiafooYznmoTmlrnms5XvvIwg6K+l5pa55rOV5o6l5Y+X5b2T5YmN6YGN5Y6G55qE6IqC54K55L2c5Li65YW25Y+C5pWwDQogICAgICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZmlsdGVyRm4g6L+H5ruk5Zmo77yMIOivpeWHveaVsOaOpeWPl+W9k+WJjemBjeWOhueahOiKgueCueS9nOS4uuWPguaVsO+8jCDlpoLmnpzor6XoioLngrnmu6HotrPov4fmu6QNCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAg6KeE5YiZ77yMIOivt+i/lOWbnnRydWXvvIwg6K+l6IqC54K55Lya6Kem5Y+RZG9Gbu+8jCDlkKbliJnvvIwg6K+36L+U5ZueZmFsc2XvvIwg5YiZ6K+l6IqC54K55LiNDQogICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgIOS8muinpuWPkWRvRm7jgIINCiAgICAgICAgICogQHJldHVybiB7IFVFLmRvbS5SYW5nZSB9IOW9k+WJjXJhbmdl5a+56LGhDQogICAgICAgICAqIEBzZWUgVUUuZG9tLlJhbmdlOnRyYXZlcnNhbChGdW5jdGlvbikNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgaHRtbA0KICAgICAgICAgKg0KICAgICAgICAgKiA8Ym9keT4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIDwhLS0g6YCJ5Yy65byA5aeLIC0tPg0KICAgICAgICAgKiAgICAgPHNwYW4+PC9zcGFuPg0KICAgICAgICAgKiAgICAgPGE+PC9hPg0KICAgICAgICAgKiAgICAgPCEtLSDpgInljLrnu5PmnZ8gLS0+DQogICAgICAgICAqIDwvYm9keT4NCiAgICAgICAgICoNCiAgICAgICAgICogPHNjcmlwdD4NCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8vb3V0cHV0OiA8c3Bhbj48L3NwYW4+PGE+PC9hPg0KICAgICAgICAgKiAgICAgY29uc29sZS5sb2coIHJhbmdlLmNsb25lQ29udGVudHMoKSApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgcmFuZ2UudHJhdmVyc2FsKCBmdW5jdGlvbiAoIG5vZGUgKSB7DQogICAgICAgICAqDQogICAgICAgICAqICAgICAgICAgbm9kZS5jbGFzc05hbWUgPSAidGVzdCI7DQogICAgICAgICAqDQogICAgICAgICAqICAgICB9LCBmdW5jdGlvbiAoIG5vZGUgKSB7DQogICAgICAgICAqICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAxOw0KICAgICAgICAgKiAgICAgfSApOw0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy9vdXRwdXQ6IDxzcGFuIGNsYXNzPSJ0ZXN0Ij48L3NwYW4+PGEgY2xhc3M9InRlc3QiPjwvYT4NCiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKCByYW5nZS5jbG9uZUNvbnRlbnRzKCkgKTsNCiAgICAgICAgICoNCiAgICAgICAgICogPC9zY3JpcHQ+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgdHJhdmVyc2FsOmZ1bmN0aW9uKGRvRm4sZmlsdGVyRm4pew0KICAgICAgICAgICAgaWYgKHRoaXMuY29sbGFwc2VkKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOw0KICAgICAgICAgICAgdmFyIGJvb2ttYXJrID0gdGhpcy5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgIGVuZCA9IGJvb2ttYXJrLmVuZCwNCiAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYm9va21hcmsuc3RhcnQsIGZhbHNlLCBmaWx0ZXJGbik7DQogICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBlbmQgJiYgKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsIGVuZCkgJiBkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcpKSB7DQogICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICBkb0ZuKGN1cnJlbnQpOw0KICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0bXBOb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXMubW92ZVRvQm9va21hcmsoYm9va21hcmspOw0KICAgICAgICB9DQogICAgfTsNCn0pKCk7DQovKioNCiAqIOmAiembhg0KICogQGZpbGUNCiAqIEBtb2R1bGUgVUUuZG9tDQogKiBAY2xhc3MgU2VsZWN0aW9uDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICog6YCJ5Yy66ZuG5ZCIDQogKiBAdW5maWxlDQogKiBAbW9kdWxlIFVFLmRvbQ0KICogQGNsYXNzIFNlbGVjdGlvbg0KICovDQooZnVuY3Rpb24gKCkgew0KDQogICAgZnVuY3Rpb24gZ2V0Qm91bmRhcnlJbmZvcm1hdGlvbiggcmFuZ2UsIHN0YXJ0ICkgew0KICAgICAgICB2YXIgZ2V0SW5kZXggPSBkb21VdGlscy5nZXROb2RlSW5kZXg7DQogICAgICAgIHJhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCk7DQogICAgICAgIHJhbmdlLmNvbGxhcHNlKCBzdGFydCApOw0KICAgICAgICB2YXIgcGFyZW50ID0gcmFuZ2UucGFyZW50RWxlbWVudCgpOw0KICAgICAgICAvL+WmguaenOiKgueCuemHjOayoeacieWtkOiKgueCue+8jOebtOaOpemAgOWHug0KICAgICAgICBpZiAoICFwYXJlbnQuaGFzQ2hpbGROb2RlcygpICkgew0KICAgICAgICAgICAgcmV0dXJuICB7Y29udGFpbmVyOnBhcmVudCwgb2Zmc2V0OjB9Ow0KICAgICAgICB9DQogICAgICAgIHZhciBzaWJsaW5ncyA9IHBhcmVudC5jaGlsZHJlbiwNCiAgICAgICAgICAgIGNoaWxkLA0KICAgICAgICAgICAgdGVzdFJhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCksDQogICAgICAgICAgICBzdGFydEluZGV4ID0gMCwgZW5kSW5kZXggPSBzaWJsaW5ncy5sZW5ndGggLSAxLCBpbmRleCA9IC0xLA0KICAgICAgICAgICAgZGlzdGFuY2U7DQogICAgICAgIHdoaWxlICggc3RhcnRJbmRleCA8PSBlbmRJbmRleCApIHsNCiAgICAgICAgICAgIGluZGV4ID0gTWF0aC5mbG9vciggKHN0YXJ0SW5kZXggKyBlbmRJbmRleCkgLyAyICk7DQogICAgICAgICAgICBjaGlsZCA9IHNpYmxpbmdzW2luZGV4XTsNCiAgICAgICAgICAgIHRlc3RSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCggY2hpbGQgKTsNCiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHRlc3RSYW5nZS5jb21wYXJlRW5kUG9pbnRzKCAnU3RhcnRUb1N0YXJ0JywgcmFuZ2UgKTsNCiAgICAgICAgICAgIGlmICggcG9zaXRpb24gPiAwICkgew0KICAgICAgICAgICAgICAgIGVuZEluZGV4ID0gaW5kZXggLSAxOw0KICAgICAgICAgICAgfSBlbHNlIGlmICggcG9zaXRpb24gPCAwICkgew0KICAgICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBpbmRleCArIDE7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIC8vdHJhY2U6MTA0Mw0KICAgICAgICAgICAgICAgIHJldHVybiAge2NvbnRhaW5lcjpwYXJlbnQsIG9mZnNldDpnZXRJbmRleCggY2hpbGQgKX07DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKCBpbmRleCA9PSAtMSApIHsNCiAgICAgICAgICAgIHRlc3RSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dCggcGFyZW50ICk7DQogICAgICAgICAgICB0ZXN0UmFuZ2Uuc2V0RW5kUG9pbnQoICdTdGFydFRvU3RhcnQnLCByYW5nZSApOw0KICAgICAgICAgICAgZGlzdGFuY2UgPSB0ZXN0UmFuZ2UudGV4dC5yZXBsYWNlKCAvKFxyXG58XHIpL2csICdcbicgKS5sZW5ndGg7DQogICAgICAgICAgICBzaWJsaW5ncyA9IHBhcmVudC5jaGlsZE5vZGVzOw0KICAgICAgICAgICAgaWYgKCAhZGlzdGFuY2UgKSB7DQogICAgICAgICAgICAgICAgY2hpbGQgPSBzaWJsaW5nc1tzaWJsaW5ncy5sZW5ndGggLSAxXTsNCiAgICAgICAgICAgICAgICByZXR1cm4gIHtjb250YWluZXI6Y2hpbGQsIG9mZnNldDpjaGlsZC5ub2RlVmFsdWUubGVuZ3RofTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIGkgPSBzaWJsaW5ncy5sZW5ndGg7DQogICAgICAgICAgICB3aGlsZSAoIGRpc3RhbmNlID4gMCApew0KICAgICAgICAgICAgICAgIGRpc3RhbmNlIC09IHNpYmxpbmdzWyAtLWkgXS5ub2RlVmFsdWUubGVuZ3RoOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHtjb250YWluZXI6c2libGluZ3NbaV0sIG9mZnNldDotZGlzdGFuY2V9Ow0KICAgICAgICB9DQogICAgICAgIHRlc3RSYW5nZS5jb2xsYXBzZSggcG9zaXRpb24gPiAwICk7DQogICAgICAgIHRlc3RSYW5nZS5zZXRFbmRQb2ludCggcG9zaXRpb24gPiAwID8gJ1N0YXJ0VG9TdGFydCcgOiAnRW5kVG9TdGFydCcsIHJhbmdlICk7DQogICAgICAgIGRpc3RhbmNlID0gdGVzdFJhbmdlLnRleHQucmVwbGFjZSggLyhcclxufFxyKS9nLCAnXG4nICkubGVuZ3RoOw0KICAgICAgICBpZiAoICFkaXN0YW5jZSApIHsNCiAgICAgICAgICAgIHJldHVybiAgZHRkLiRlbXB0eVtjaGlsZC50YWdOYW1lXSB8fCBkdGQuJG5vbkNoaWxkW2NoaWxkLnRhZ05hbWVdID8NCiAgICAgICAgICAgIHtjb250YWluZXI6cGFyZW50LCBvZmZzZXQ6Z2V0SW5kZXgoIGNoaWxkICkgKyAocG9zaXRpb24gPiAwID8gMCA6IDEpfSA6DQogICAgICAgICAgICB7Y29udGFpbmVyOmNoaWxkLCBvZmZzZXQ6cG9zaXRpb24gPiAwID8gMCA6IGNoaWxkLmNoaWxkTm9kZXMubGVuZ3RofQ0KICAgICAgICB9DQogICAgICAgIHdoaWxlICggZGlzdGFuY2UgPiAwICkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB2YXIgcHJlID0gY2hpbGQ7DQogICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZFtwb3NpdGlvbiA+IDAgPyAncHJldmlvdXNTaWJsaW5nJyA6ICduZXh0U2libGluZyddOw0KICAgICAgICAgICAgICAgIGRpc3RhbmNlIC09IGNoaWxkLm5vZGVWYWx1ZS5sZW5ndGg7DQogICAgICAgICAgICB9IGNhdGNoICggZSApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4ge2NvbnRhaW5lcjpwYXJlbnQsIG9mZnNldDpnZXRJbmRleCggcHJlICl9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAge2NvbnRhaW5lcjpjaGlsZCwgb2Zmc2V0OnBvc2l0aW9uID4gMCA/IC1kaXN0YW5jZSA6IGNoaWxkLm5vZGVWYWx1ZS5sZW5ndGggKyBkaXN0YW5jZX0NCiAgICB9DQoNCiAgICAvKg0KICAgICAqIOWwhmllUmFuZ2XovazmjaLkuLpSYW5nZeWvueixoQ0KICAgICAqIEBwYXJhbSB7UmFuZ2V9ICAgaWVSYW5nZSAgICBpZVJhbmdl5a+56LGhDQogICAgICogQHBhcmFtIHtSYW5nZX0gICByYW5nZSAgICAgIFJhbmdl5a+56LGhDQogICAgICogQHJldHVybiAge1JhbmdlfSAgcmFuZ2UgICAgICAg6L+U5Zue6L2s5o2i5ZCO55qEUmFuZ2Xlr7nosaENCiAgICAgKi8NCiAgICBmdW5jdGlvbiB0cmFuc2Zvcm1JRVJhbmdlVG9SYW5nZSggaWVSYW5nZSwgcmFuZ2UgKSB7DQogICAgICAgIGlmICggaWVSYW5nZS5pdGVtICkgew0KICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSggaWVSYW5nZS5pdGVtKCAwICkgKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhciBiaSA9IGdldEJvdW5kYXJ5SW5mb3JtYXRpb24oIGllUmFuZ2UsIHRydWUgKTsNCiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KCBiaS5jb250YWluZXIsIGJpLm9mZnNldCApOw0KICAgICAgICAgICAgaWYgKCBpZVJhbmdlLmNvbXBhcmVFbmRQb2ludHMoICdTdGFydFRvRW5kJywgaWVSYW5nZSApICE9IDAgKSB7DQogICAgICAgICAgICAgICAgYmkgPSBnZXRCb3VuZGFyeUluZm9ybWF0aW9uKCBpZVJhbmdlLCBmYWxzZSApOw0KICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZCggYmkuY29udGFpbmVyLCBiaS5vZmZzZXQgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcmFuZ2U7DQogICAgfQ0KDQogICAgLyoNCiAgICAgKiDojrflvpdpZVJhbmdlDQogICAgICogQHBhcmFtIHtTZWxlY3Rpb259IHNlbCAgICBTZWxlY3Rpb27lr7nosaENCiAgICAgKiBAcmV0dXJuIHtpZVJhbmdlfSAgICDlvpfliLBpZVJhbmdlDQogICAgICovDQogICAgZnVuY3Rpb24gX2dldElFUmFuZ2UoIHNlbCApIHsNCiAgICAgICAgdmFyIGllUmFuZ2U7DQogICAgICAgIC8vaWXkuIvmnInlj6/og73miqXplJkNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGllUmFuZ2UgPSBzZWwuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKTsNCiAgICAgICAgfSBjYXRjaCAoIGUgKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgZWwgPSBpZVJhbmdlLml0ZW0gPyBpZVJhbmdlLml0ZW0oIDAgKSA6IGllUmFuZ2UucGFyZW50RWxlbWVudCgpOw0KICAgICAgICBpZiAoICggZWwub3duZXJEb2N1bWVudCB8fCBlbCApID09PSBzZWwuZG9jdW1lbnQgKSB7DQogICAgICAgICAgICByZXR1cm4gaWVSYW5nZTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gbnVsbDsNCiAgICB9DQoNCiAgICB2YXIgU2VsZWN0aW9uID0gZG9tLlNlbGVjdGlvbiA9IGZ1bmN0aW9uICggZG9jICkgew0KICAgICAgICB2YXIgbWUgPSB0aGlzLCBpZnJhbWU7DQogICAgICAgIG1lLmRvY3VtZW50ID0gZG9jOw0KICAgICAgICBpZiAoIGJyb3dzZXIuaWU5YmVsb3cgKSB7DQogICAgICAgICAgICBpZnJhbWUgPSBkb21VdGlscy5nZXRXaW5kb3coIGRvYyApLmZyYW1lRWxlbWVudDsNCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKCBpZnJhbWUsICdiZWZvcmVkZWFjdGl2YXRlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIG1lLl9iYWtJRVJhbmdlID0gbWUuZ2V0SUVSYW5nZSgpOw0KICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgZG9tVXRpbHMub24oIGlmcmFtZSwgJ2FjdGl2YXRlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIGlmICggIV9nZXRJRVJhbmdlKCBtZSApICYmIG1lLl9iYWtJRVJhbmdlICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuX2Jha0lFUmFuZ2Uuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGNhdGNoICggZXggKSB7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG1lLl9iYWtJRVJhbmdlID0gbnVsbDsNCiAgICAgICAgICAgIH0gKTsNCiAgICAgICAgfQ0KICAgICAgICBpZnJhbWUgPSBkb2MgPSBudWxsOw0KICAgIH07DQoNCiAgICBTZWxlY3Rpb24ucHJvdG90eXBlID0gew0KDQogICAgICAgIHJhbmdlSW5Cb2R5IDogZnVuY3Rpb24ocm5nLHR4dFJhbmdlKXsNCiAgICAgICAgICAgIHZhciBub2RlID0gYnJvd3Nlci5pZTliZWxvdyB8fCB0eHRSYW5nZSA/IHJuZy5pdGVtID8gcm5nLml0ZW0oKSA6IHJuZy5wYXJlbnRFbGVtZW50KCkgOiBybmcuc3RhcnRDb250YWluZXI7DQoNCiAgICAgICAgICAgIHJldHVybiBub2RlID09PSB0aGlzLmRvY3VtZW50LmJvZHkgfHwgZG9tVXRpbHMuaW5Eb2Mobm9kZSx0aGlzLmRvY3VtZW50KTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6I635Y+W5Y6f55Sfc2VsZWNpdG9u5a+56LGhDQogICAgICAgICAqIEBtZXRob2QgZ2V0TmF0aXZlDQogICAgICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDojrflvpdzZWxlY3Rpb27lr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2VsZWN0aW9uLmdldE5hdGl2ZSgpOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldE5hdGl2ZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZG9jID0gdGhpcy5kb2N1bWVudDsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICFkb2MgPyBudWxsIDogYnJvd3Nlci5pZTliZWxvdyA/IGRvYy5zZWxlY3Rpb24gOiBkb21VdGlscy5nZXRXaW5kb3coIGRvYyApLmdldFNlbGVjdGlvbigpOw0KICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+W+l2llUmFuZ2UNCiAgICAgICAgICogQG1ldGhvZCBnZXRJRVJhbmdlDQogICAgICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDov5Tlm55pZeWOn+eUn+eahFJhbmdlDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNlbGVjdGlvbi5nZXRJRVJhbmdlKCk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0SUVSYW5nZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgaWVSYW5nZSA9IF9nZXRJRVJhbmdlKCB0aGlzICk7DQogICAgICAgICAgICBpZiAoICFpZVJhbmdlICkgew0KICAgICAgICAgICAgICAgIGlmICggdGhpcy5fYmFrSUVSYW5nZSApIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jha0lFUmFuZ2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGllUmFuZ2U7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOe8k+WtmOW9k+WJjemAieWMuueahHJhbmdl5ZKM6YCJ5Yy655qE5byA5aeL6IqC54K5DQogICAgICAgICAqIEBtZXRob2QgY2FjaGUNCiAgICAgICAgICovDQogICAgICAgIGNhY2hlOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsNCiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFJhbmdlID0gdGhpcy5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50ID0gdGhpcy5nZXRTdGFydCgpOw0KICAgICAgICAgICAgdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aCA9IHRoaXMuZ2V0U3RhcnRFbGVtZW50UGF0aCgpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5bpgInljLrlvIDlp4vkvY3nva7nmoTniLboioLngrnliLBib2R5DQogICAgICAgICAqIEBtZXRob2QgZ2V0U3RhcnRFbGVtZW50UGF0aA0KICAgICAgICAgKiBAcmV0dXJuIHsgQXJyYXkgfSDov5Tlm57niLboioLngrnpm4blkIgNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBnZXRTdGFydEVsZW1lbnRQYXRoOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICggdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aCApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuZ2V0U3RhcnQoKTsNCiAgICAgICAgICAgIGlmICggc3RhcnQgKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGRvbVV0aWxzLmZpbmRQYXJlbnRzKCBzdGFydCwgdHJ1ZSwgbnVsbCwgdHJ1ZSApDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOa4heepuue8k+WtmA0KICAgICAgICAgKiBAbWV0aG9kIGNsZWFyDQogICAgICAgICAqLw0KICAgICAgICBjbGVhcjpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnRQYXRoID0gdGhpcy5fY2FjaGVkUmFuZ2UgPSB0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnQgPSBudWxsOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDnvJbovpHlmajmmK/lkKblvpfliLDkuobpgInljLoNCiAgICAgICAgICogQG1ldGhvZCBpc0ZvY3VzDQogICAgICAgICAqLw0KICAgICAgICBpc0ZvY3VzOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5pZTliZWxvdyl7DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5hdGl2ZVJhbmdlID0gX2dldElFUmFuZ2UodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAhIShuYXRpdmVSYW5nZSAmJiB0aGlzLnJhbmdlSW5Cb2R5KG5hdGl2ZVJhbmdlKSk7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAhIXRoaXMuZ2V0TmF0aXZlKCkucmFuZ2VDb3VudDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoICggZSApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6I635Y+W6YCJ5Yy65a+55bqU55qEUmFuZ2UNCiAgICAgICAgICogQG1ldGhvZCBnZXRSYW5nZQ0KICAgICAgICAgKiBAcmV0dXJuIHsgT2JqZWN0IH0g5b6X5YiwUmFuZ2Xlr7nosaENCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0UmFuZ2U6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIGZ1bmN0aW9uIG9wdGltemUoIHJhbmdlICkgew0KICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IG1lLmRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCwNCiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkID0gcmFuZ2UuY29sbGFwc2VkOw0KICAgICAgICAgICAgICAgIHdoaWxlICggY2hpbGQgJiYgY2hpbGQuZmlyc3RDaGlsZCApIHsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoIGNoaWxkLCAwICk7DQogICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuZmlyc3RDaGlsZDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCAhcmFuZ2Uuc3RhcnRDb250YWluZXIgKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KCBtZS5kb2N1bWVudC5ib2R5LCAwICkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBjb2xsYXBzZWQgKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKCB0cnVlICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoIG1lLl9jYWNoZWRSYW5nZSAhPSBudWxsICkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSYW5nZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBiYWlkdS5lZGl0b3IuZG9tLlJhbmdlKCBtZS5kb2N1bWVudCApOw0KDQogICAgICAgICAgICBpZiAoIGJyb3dzZXIuaWU5YmVsb3cgKSB7DQogICAgICAgICAgICAgICAgdmFyIG5hdGl2ZVJhbmdlID0gbWUuZ2V0SUVSYW5nZSgpOw0KICAgICAgICAgICAgICAgIGlmICggbmF0aXZlUmFuZ2UgKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5aSH5Lu955qEX2Jha0lFUmFuZ2Xlj6/og73lt7Lnu4/lrp7mlYjkuobvvIxkb23moJHlj5HnlJ/kuoblj5jljJbmr5TlpoLku47mupDnoIHmqKHlvI/liIflm57mnaXvvIzmiYDku6V0cnnkuIDkuIvvvIzlrp7mlYjlsLHmlL7liLBib2R55byA5aeL5L2N572uDQogICAgICAgICAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybUlFUmFuZ2VUb1JhbmdlKCBuYXRpdmVSYW5nZSwgcmFuZ2UgKTsNCiAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW16ZSggcmFuZ2UgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgb3B0aW16ZSggcmFuZ2UgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBzZWwgPSBtZS5nZXROYXRpdmUoKTsNCiAgICAgICAgICAgICAgICBpZiAoIHNlbCAmJiBzZWwucmFuZ2VDb3VudCApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0UmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCggMCApOw0KICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdFJhbmdlID0gc2VsLmdldFJhbmdlQXQoIHNlbC5yYW5nZUNvdW50IC0gMSApOw0KICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCggZmlyc3RSYW5nZS5zdGFydENvbnRhaW5lciwgZmlyc3RSYW5nZS5zdGFydE9mZnNldCApLnNldEVuZCggbGFzdFJhbmdlLmVuZENvbnRhaW5lciwgbGFzdFJhbmdlLmVuZE9mZnNldCApOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIHJhbmdlLmNvbGxhcHNlZCAmJiBkb21VdGlscy5pc0JvZHkoIHJhbmdlLnN0YXJ0Q29udGFpbmVyICkgJiYgIXJhbmdlLnN0YXJ0T2Zmc2V0ICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW16ZSggcmFuZ2UgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MTczNCDmnInlj6/og73lt7Lnu4/kuI3lnKhkb23moJHkuIrkuobvvIzmoIfor4bnmoToioLngrkNCiAgICAgICAgICAgICAgICAgICAgaWYgKCB0aGlzLl9iYWtSYW5nZSAmJiBkb21VdGlscy5pbkRvYyggdGhpcy5fYmFrUmFuZ2Uuc3RhcnRDb250YWluZXIsIHRoaXMuZG9jdW1lbnQgKSApew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jha1JhbmdlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIG9wdGltemUoIHJhbmdlICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jha1JhbmdlID0gcmFuZ2U7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPluW8gOWni+WFg+e0oO+8jOeUqOS6jueKtuaAgeWPjeWwhA0KICAgICAgICAgKiBAbWV0aG9kIGdldFN0YXJ0DQogICAgICAgICAqIEByZXR1cm4geyBFbGVtZW50IH0g6I635b6X5byA5aeL5YWD57SgDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldFN0YXJ0OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICggdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50ICkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnQ7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcmFuZ2UgPSBicm93c2VyLmllOWJlbG93ID8gdGhpcy5nZXRJRVJhbmdlKCkgOiB0aGlzLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgdG1wUmFuZ2UsDQogICAgICAgICAgICAgICAgc3RhcnQsIHRtcCwgcGFyZW50Ow0KICAgICAgICAgICAgaWYgKCBicm93c2VyLmllOWJlbG93ICkgew0KICAgICAgICAgICAgICAgIGlmICggIXJhbmdlICkgew0KICAgICAgICAgICAgICAgICAgICAvL3RvZG8g57uZ56ys5LiA5Liq5YC85Y+v6IO95Lya5pyJ6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy9jb250cm9s5YWD57SgDQogICAgICAgICAgICAgICAgaWYgKCByYW5nZS5pdGVtICl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiByYW5nZS5pdGVtKCAwICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRtcFJhbmdlID0gcmFuZ2UuZHVwbGljYXRlKCk7DQogICAgICAgICAgICAgICAgLy/kv67mraNpZeS4izxiPng8L2I+W3h4XSDpl63lkIjlkI4gPGI+eHw8L2I+eHgNCiAgICAgICAgICAgICAgICB0bXBSYW5nZS50ZXh0Lmxlbmd0aCA+IDAgJiYgdG1wUmFuZ2UubW92ZVN0YXJ0KCAnY2hhcmFjdGVyJywgMSApOw0KICAgICAgICAgICAgICAgIHRtcFJhbmdlLmNvbGxhcHNlKCAxICk7DQogICAgICAgICAgICAgICAgc3RhcnQgPSB0bXBSYW5nZS5wYXJlbnRFbGVtZW50KCk7DQogICAgICAgICAgICAgICAgcGFyZW50ID0gdG1wID0gcmFuZ2UucGFyZW50RWxlbWVudCgpOw0KICAgICAgICAgICAgICAgIHdoaWxlICggdG1wID0gdG1wLnBhcmVudE5vZGUgKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICggdG1wID09IHN0YXJ0ICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBwYXJlbnQ7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2hyaW5rQm91bmRhcnkoKTsNCiAgICAgICAgICAgICAgICBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICAgICAgICAgIGlmICggc3RhcnQubm9kZVR5cGUgPT0gMSAmJiBzdGFydC5oYXNDaGlsZE5vZGVzKCkgKXsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5jaGlsZE5vZGVzW01hdGgubWluKCBzdGFydC5jaGlsZE5vZGVzLmxlbmd0aCAtIDEsIHJhbmdlLnN0YXJ0T2Zmc2V0ICldOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoIHN0YXJ0Lm5vZGVUeXBlID09IDMgKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0LnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHN0YXJ0Ow0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlvpfliLDpgInljLrkuK3nmoTmlofmnKwNCiAgICAgICAgICogQG1ldGhvZCBnZXRUZXh0DQogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDpgInljLrkuK3ljIXlkKvnmoTmlofmnKwNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2VsZWN0aW9uLmdldFRleHQoKTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBnZXRUZXh0OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBuYXRpdmVTZWwsIG5hdGl2ZVJhbmdlOw0KICAgICAgICAgICAgaWYgKCB0aGlzLmlzRm9jdXMoKSAmJiAobmF0aXZlU2VsID0gdGhpcy5nZXROYXRpdmUoKSkgKSB7DQogICAgICAgICAgICAgICAgbmF0aXZlUmFuZ2UgPSBicm93c2VyLmllOWJlbG93ID8gbmF0aXZlU2VsLmNyZWF0ZVJhbmdlKCkgOiBuYXRpdmVTZWwuZ2V0UmFuZ2VBdCggMCApOw0KICAgICAgICAgICAgICAgIHJldHVybiBicm93c2VyLmllOWJlbG93ID8gbmF0aXZlUmFuZ2UudGV4dCA6IG5hdGl2ZVJhbmdlLnRvU3RyaW5nKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOa4hemZpOmAieWMug0KICAgICAgICAgKiBAbWV0aG9kIGNsZWFyUmFuZ2UNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2VsZWN0aW9uLmNsZWFyUmFuZ2UoKTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBjbGVhclJhbmdlIDogZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0TmF0aXZlKClbYnJvd3Nlci5pZTliZWxvdyA/ICdlbXB0eScgOiAncmVtb3ZlQWxsUmFuZ2VzJ10oKTsNCiAgICAgICAgfQ0KICAgIH07DQp9KSgpOw0KLyoqDQogKiDnvJbovpHlmajkuLvnsbvvvIzljIXlkKvnvJbovpHlmajmj5DkvpvnmoTlpKfpg6jliIblhaznlKjmjqXlj6MNCiAqIEBmaWxlDQogKiBAbW9kdWxlIFVFDQogKiBAY2xhc3MgRWRpdG9yDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICogVUVkaXRvcuWFrOeUqOepuumXtO+8jFVFZGl0b3LmiYDmnInnmoTlip/og73pg73mjILovb3lnKjor6Xnqbrpl7TkuIsNCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUNCiAqLw0KDQovKioNCiAqIFVFZGl0b3LnmoTmoLjlv4PnsbvvvIzkuLrnlKjmiLfmj5DkvpvkuI7nvJbovpHlmajkuqTkupLnmoTmjqXlj6PjgIINCiAqIEB1bmZpbGUNCiAqIEBtb2R1bGUgVUUNCiAqIEBjbGFzcyBFZGl0b3INCiAqLw0KDQooZnVuY3Rpb24gKCkgew0KICAgIHZhciB1aWQgPSAwLCBfc2VsZWN0aW9uQ2hhbmdlVGltZXI7DQoNCiAgICAvKioNCiAgICAgKiDojrflj5bnvJbovpHlmajnmoRodG1s5YaF5a6577yM6LWL5YC85Yiw57yW6L6R5Zmo5omA5Zyo6KGo5Y2V55qEdGV4dGFyZWHmlofmnKzln5/ph4zpnaINCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBtZXRob2Qgc2V0VmFsdWUNCiAgICAgKiBAcGFyYW0geyBVRS5FZGl0b3IgfSBlZGl0b3Ig57yW6L6R5Zmo5LqL5L6LDQogICAgICovDQogICAgZnVuY3Rpb24gc2V0VmFsdWUoZm9ybSwgZWRpdG9yKSB7DQogICAgICAgIHZhciB0ZXh0YXJlYTsNCiAgICAgICAgaWYgKGVkaXRvci50ZXh0YXJlYSkgew0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGVkaXRvci50ZXh0YXJlYSkpIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgdGksIHRpcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGZvcm0sICd0ZXh0YXJlYScpOyB0aSA9IHRpc1tpKytdOykgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGkuaWQgPT0gJ3VlZGl0b3JfdGV4dGFyZWFfJyArIGVkaXRvci5vcHRpb25zLnRleHRhcmVhKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0YXJlYSA9IHRpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRleHRhcmVhID0gZWRpdG9yLnRleHRhcmVhOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmICghdGV4dGFyZWEpIHsNCiAgICAgICAgICAgIGZvcm0uYXBwZW5kQ2hpbGQodGV4dGFyZWEgPSBkb21VdGlscy5jcmVhdGVFbGVtZW50KGRvY3VtZW50LCAndGV4dGFyZWEnLCB7DQogICAgICAgICAgICAgICAgJ25hbWUnOiBlZGl0b3Iub3B0aW9ucy50ZXh0YXJlYSwNCiAgICAgICAgICAgICAgICAnaWQnOiAndWVkaXRvcl90ZXh0YXJlYV8nICsgZWRpdG9yLm9wdGlvbnMudGV4dGFyZWEsDQogICAgICAgICAgICAgICAgJ3N0eWxlJzogImRpc3BsYXk6bm9uZSINCiAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgIC8v5LiN6KaB5Lqn55Sf5aSa5LiqdGV4dGFyZWENCiAgICAgICAgICAgIGVkaXRvci50ZXh0YXJlYSA9IHRleHRhcmVhOw0KICAgICAgICB9DQogICAgICAgIHRleHRhcmVhLnZhbHVlID0gZWRpdG9yLmhhc0NvbnRlbnRzKCkgPw0KICAgICAgICAgICAgKGVkaXRvci5vcHRpb25zLmFsbEh0bWxFbmFibGVkID8gZWRpdG9yLmdldEFsbEh0bWwoKSA6IGVkaXRvci5nZXRDb250ZW50KG51bGwsIG51bGwsIHRydWUpKSA6DQogICAgICAgICAgICAnJw0KICAgIH0NCiAgICBmdW5jdGlvbiBsb2FkUGx1Z2lucyhtZSl7DQogICAgICAgIC8v5Yid5aeL5YyW5o+S5Lu2DQogICAgICAgIGZvciAodmFyIHBpIGluIFVFLnBsdWdpbnMpIHsNCiAgICAgICAgICAgIFVFLnBsdWdpbnNbcGldLmNhbGwobWUpOw0KICAgICAgICB9DQoNCiAgICB9DQogICAgZnVuY3Rpb24gY2hlY2tDdXJMYW5nKEkxOE4pew0KICAgICAgICBmb3IodmFyIGxhbmcgaW4gSTE4Til7DQogICAgICAgICAgICByZXR1cm4gbGFuZw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbGFuZ1JlYWRpZWQobWUpew0KICAgICAgICBtZS5sYW5nSXNSZWFkeSA9IHRydWU7DQoNCiAgICAgICAgbWUuZmlyZUV2ZW50KCJsYW5nUmVhZHkiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDnvJbovpHlmajlh4blpIflsLHnu6rlkI7kvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCByZWFkeQ0KICAgICAqIEByZW1pbmQgcmVuZGVy5pa55rOV5omn6KGM5a6M5oiQ5LmL5ZCOLOS8muinpuWPkeivpeS6i+S7tg0KICAgICAqIEByZW1pbmQNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBlZGl0b3IuYWRkTGlzdGVuZXIoICdyZWFkeScsIGZ1bmN0aW9uKCBlZGl0b3IgKSB7DQogICAgICogICAgIGVkaXRvci5leGVjQ29tbWFuZCggJ2ZvY3VzJyApOyAvL+e8lui+keWZqOWutuWcqOWujOaIkOWQju+8jOiuqee8lui+keWZqOaLv+WIsOeEpueCuQ0KICAgICAqIH0gKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDmiafooYxkZXN0cm955pa55rOVLOS8muinpuWPkeivpeS6i+S7tg0KICAgICAqIEBtb2R1bGUgVUUNCiAgICAgKiBAY2xhc3MgRWRpdG9yDQogICAgICogQGV2ZW50IGRlc3Ryb3kNCiAgICAgKiBAc2VlIFVFLkVkaXRvcjpkZXN0cm95KCkNCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDmiafooYxyZXNldOaWueazlSzkvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCByZXNldA0KICAgICAqIEBzZWUgVUUuRWRpdG9yOnJlc2V0KCkNCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDmiafooYxmb2N1c+aWueazlSzkvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCBmb2N1cw0KICAgICAqIEBzZWUgVUUuRWRpdG9yOmZvY3VzKEJvb2xlYW4pDQogICAgICovDQogICAgLyoqDQogICAgICog6K+t6KiA5Yqg6L295a6M5oiQ5Lya6Kem5Y+R6K+l5LqL5Lu2DQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgbGFuZ1JlYWR5DQogICAgICovDQogICAgLyoqDQogICAgICog6L+Q6KGM5ZG95Luk5LmL5ZCO5Lya6Kem5Y+R6K+l5ZG95LukDQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgYmVmb3JlRXhlY0NvbW1hbmQNCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDov5DooYzlkb3ku6TkuYvlkI7kvJrop6blj5Hor6Xlkb3ku6QNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCBhZnRlckV4ZWNDb21tYW5kDQogICAgICovDQogICAgLyoqDQogICAgICog6L+Q6KGM5ZG95Luk5LmL5YmN5Lya6Kem5Y+R6K+l5ZG95LukDQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgZmlyc3RCZWZvcmVFeGVjQ29tbWFuZA0KICAgICAqLw0KICAgIC8qKg0KICAgICAqIOWcqGdldENvbnRlbnTmlrnms5XmiafooYzkuYvliY3kvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCBiZWZvcmVHZXRDb250ZW50DQogICAgICogQHNlZSBVRS5FZGl0b3I6Z2V0Q29udGVudCgpDQogICAgICovDQogICAgLyoqDQogICAgICog5ZyoZ2V0Q29udGVudOaWueazleaJp+ihjOS5i+WQjuS8muinpuWPkeivpeS6i+S7tg0KICAgICAqIEBtb2R1bGUgVUUNCiAgICAgKiBAY2xhc3MgRWRpdG9yDQogICAgICogQGV2ZW50IGFmdGVyR2V0Q29udGVudA0KICAgICAqIEBzZWUgVUUuRWRpdG9yOmdldENvbnRlbnQoKQ0KICAgICAqLw0KICAgIC8qKg0KICAgICAqIOWcqGdldEFsbEh0bWzmlrnms5XmiafooYzml7bkvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCBnZXRBbGxIdG1sDQogICAgICogQHNlZSBVRS5FZGl0b3I6Z2V0QWxsSHRtbCgpDQogICAgICovDQogICAgLyoqDQogICAgICog5Zyoc2V0Q29udGVudOaWueazleaJp+ihjOS5i+WJjeS8muinpuWPkeivpeS6i+S7tg0KICAgICAqIEBtb2R1bGUgVUUNCiAgICAgKiBAY2xhc3MgRWRpdG9yDQogICAgICogQGV2ZW50IGJlZm9yZVNldENvbnRlbnQNCiAgICAgKiBAc2VlIFVFLkVkaXRvcjpzZXRDb250ZW50KFN0cmluZykNCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDlnKhzZXRDb250ZW505pa55rOV5omn6KGM5LmL5ZCO5Lya6Kem5Y+R6K+l5LqL5Lu2DQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgYWZ0ZXJTZXRDb250ZW50DQogICAgICogQHNlZSBVRS5FZGl0b3I6c2V0Q29udGVudChTdHJpbmcpDQogICAgICovDQogICAgLyoqDQogICAgICog5q+P5b2T57yW6L6R5Zmo5YaF6YOo6YCJ5Yy65Y+R55Sf5pS55Y+Y5pe277yM5bCG6Kem5Y+R6K+l5LqL5Lu2DQogICAgICogQGV2ZW50IHNlbGVjdGlvbmNoYW5nZQ0KICAgICAqIEB3YXJuaW5nIOivpeS6i+S7tueahOinpuWPkemdnuW4uOmikee5ge+8jOS4jeW7uuiuruWcqOivpeS6i+S7tueahOWkhOeQhui/h+eoi+S4reWBmumHjemHj+e6p+eahOWkhOeQhg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGVkaXRvci5hZGRMaXN0ZW5lciggJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uKCBlZGl0b3IgKSB7DQogICAgICogICAgIGNvbnNvbGUubG9nKCfpgInljLrlj5HnlJ/mlLnlj5gnKTsNCiAgICAgKiB9DQogICAgICovDQogICAgLyoqDQogICAgICog5Zyo5omA5pyJc2VsZWN0aW9uY2hhbmdl55qE55uR5ZCs5Ye95pWw5omn6KGM5LmL5YmN77yM5Lya6Kem5Y+R6K+l5LqL5Lu2DQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgYmVmb3JlU2VsZWN0aW9uQ2hhbmdlDQogICAgICogQHNlZSBVRS5FZGl0b3I6c2VsZWN0aW9uY2hhbmdlDQogICAgICovDQogICAgLyoqDQogICAgICog5Zyo5omA5pyJc2VsZWN0aW9uY2hhbmdl55qE55uR5ZCs5Ye95pWw5omn6KGM5a6M5LmL5ZCO77yM5Lya6Kem5Y+R6K+l5LqL5Lu2DQogICAgICogQG1vZHVsZSBVRQ0KICAgICAqIEBjbGFzcyBFZGl0b3INCiAgICAgKiBAZXZlbnQgYWZ0ZXJTZWxlY3Rpb25DaGFuZ2UNCiAgICAgKiBAc2VlIFVFLkVkaXRvcjpzZWxlY3Rpb25jaGFuZ2UNCiAgICAgKi8NCiAgICAvKioNCiAgICAgKiDnvJbovpHlmajlhoXlrrnlj5HnlJ/mlLnlj5jml7bkvJrop6blj5Hor6Xkuovku7YNCiAgICAgKiBAbW9kdWxlIFVFDQogICAgICogQGNsYXNzIEVkaXRvcg0KICAgICAqIEBldmVudCBjb250ZW50Q2hhbmdlDQogICAgICovDQoNCg0KICAgIC8qKg0KICAgICAqIOS7pem7mOiupOWPguaVsOaehOW7uuS4gOS4que8lui+keWZqOWunuS+iw0KICAgICAqIEBjb25zdHJ1Y3Rvcg0KICAgICAqIEByZW1pbmQg6YCa6L+HIOaUueaehOmAoOaWueazleWunuS+i+WMlueahOe8lui+keWZqCzkuI3luKZ1aeWxgi7pnIDopoFyZW5kZXLliLDkuIDkuKrlrrnlmags57yW6L6R5Zmo5a6e5L6L5omN6IO95q2j5bi45riy5p+T5Yiw6aG16Z2iDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogdmFyIGVkaXRvciA9IG5ldyBVRS5FZGl0b3IoKTsNCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoJ2Jsb2QnKTsNCiAgICAgKiBgYGANCiAgICAgKiBAc2VlIFVFLkNvbmZpZw0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5Lul57uZ5a6a55qE5Y+C5pWw6ZuG5ZCI5Yib5bu65LiA5Liq57yW6L6R5Zmo5a6e5L6L77yM5a+55LqO5pyq5oyH5a6a55qE5Y+C5pWw77yM5bCG5bqU55So6buY6K6k5Y+C5pWw44CCDQogICAgICogQGNvbnN0cnVjdG9yDQogICAgICogQHJlbWluZCDpgJrov4cg5pS55p6E6YCg5pa55rOV5a6e5L6L5YyW55qE57yW6L6R5ZmoLOS4jeW4pnVp5bGCLumcgOimgXJlbmRlcuWIsOS4gOS4quWuueWZqCznvJbovpHlmajlrp7kvovmiY3og73mraPluLjmuLLmn5PliLDpobXpnaINCiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBzZXR0aW5nIOWIm+W7uue8lui+keWZqOeahOWPguaVsA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIHZhciBlZGl0b3IgPSBuZXcgVUUuRWRpdG9yKCk7DQogICAgICogZWRpdG9yLmV4ZWNDb21tYW5kKCdibG9kJyk7DQogICAgICogYGBgDQogICAgICogQHNlZSBVRS5Db25maWcNCiAgICAgKi8NCiAgICB2YXIgRWRpdG9yID0gVUUuRWRpdG9yID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgbWUudWlkID0gdWlkKys7DQogICAgICAgIEV2ZW50QmFzZS5jYWxsKG1lKTsNCiAgICAgICAgbWUuY29tbWFuZHMgPSB7fTsNCiAgICAgICAgbWUub3B0aW9ucyA9IHV0aWxzLmV4dGVuZCh1dGlscy5jbG9uZShvcHRpb25zIHx8IHt9KSwgVUVESVRPUl9DT05GSUcsIHRydWUpOw0KICAgICAgICBtZS5zaG9ydGN1dGtleXMgPSB7fTsNCiAgICAgICAgbWUuaW5wdXRSdWxlcyA9IFtdOw0KICAgICAgICBtZS5vdXRwdXRSdWxlcyA9IFtdOw0KICAgICAgICAvL+iuvue9rum7mOiupOeahOW4uOeUqOWxnuaApw0KICAgICAgICBtZS5zZXRPcHQoew0KICAgICAgICAgICAgaXNTaG93OiB0cnVlLA0KICAgICAgICAgICAgaW5pdGlhbENvbnRlbnQ6ICcnLA0KICAgICAgICAgICAgaW5pdGlhbFN0eWxlOicnLA0KICAgICAgICAgICAgYXV0b0NsZWFyaW5pdGlhbENvbnRlbnQ6IGZhbHNlLA0KICAgICAgICAgICAgaWZyYW1lQ3NzVXJsOiBtZS5vcHRpb25zLlVFRElUT1JfSE9NRV9VUkwgKyAndGhlbWVzL2lmcmFtZS5jc3MnLA0KICAgICAgICAgICAgdGV4dGFyZWE6ICdlZGl0b3JWYWx1ZScsDQogICAgICAgICAgICBmb2N1czogZmFsc2UsDQogICAgICAgICAgICBmb2N1c0luRW5kOiB0cnVlLA0KICAgICAgICAgICAgYXV0b0NsZWFyRW1wdHlOb2RlOiB0cnVlLA0KICAgICAgICAgICAgZnVsbHNjcmVlbjogZmFsc2UsDQogICAgICAgICAgICByZWFkb25seTogZmFsc2UsDQogICAgICAgICAgICB6SW5kZXg6IDk5OSwNCiAgICAgICAgICAgIGltYWdlUG9wdXA6IHRydWUsDQogICAgICAgICAgICBlbnRlclRhZzogJ3AnLA0KICAgICAgICAgICAgY3VzdG9tRG9tYWluOiBmYWxzZSwNCiAgICAgICAgICAgIGxhbmc6ICd6aC1jbicsDQogICAgICAgICAgICBsYW5nUGF0aDogbWUub3B0aW9ucy5VRURJVE9SX0hPTUVfVVJMICsgJ2xhbmcvJywNCiAgICAgICAgICAgIHRoZW1lOiAnZGVmYXVsdCcsDQogICAgICAgICAgICB0aGVtZVBhdGg6IG1lLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCArICd0aGVtZXMvJywNCiAgICAgICAgICAgIGFsbEh0bWxFbmFibGVkOiBmYWxzZSwNCiAgICAgICAgICAgIHNjYWxlRW5hYmxlZDogZmFsc2UsDQogICAgICAgICAgICB0YWJsZU5hdGl2ZUVkaXRJbkZGOiBmYWxzZSwNCiAgICAgICAgICAgIGF1dG9TeW5jRGF0YSA6IHRydWUsDQogICAgICAgICAgICBmaWxlTmFtZUZvcm1hdDogJ3t0aW1lfXtyYW5kOjZ9Jw0KICAgICAgICB9KTsNCg0KICAgICAgICBpZighdXRpbHMuaXNFbXB0eU9iamVjdChVRS5JMThOKSl7DQogICAgICAgICAgICAvL+S/ruaUuem7mOiupOeahOivreiogOexu+Weiw0KICAgICAgICAgICAgbWUub3B0aW9ucy5sYW5nID0gY2hlY2tDdXJMYW5nKFVFLkkxOE4pOw0KICAgICAgICAgICAgVUUucGx1Z2luLmxvYWQobWUpOw0KICAgICAgICAgICAgbGFuZ1JlYWRpZWQobWUpOw0KDQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdXRpbHMubG9hZEZpbGUoZG9jdW1lbnQsIHsNCiAgICAgICAgICAgICAgICBzcmM6IG1lLm9wdGlvbnMubGFuZ1BhdGggKyBtZS5vcHRpb25zLmxhbmcgKyAiLyIgKyBtZS5vcHRpb25zLmxhbmcgKyAiLmpzIiwNCiAgICAgICAgICAgICAgICB0YWc6ICJzY3JpcHQiLA0KICAgICAgICAgICAgICAgIHR5cGU6ICJ0ZXh0L2phdmFzY3JpcHQiLA0KICAgICAgICAgICAgICAgIGRlZmVyOiAiZGVmZXIiDQogICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgVUUucGx1Z2luLmxvYWQobWUpOw0KICAgICAgICAgICAgICAgIGxhbmdSZWFkaWVkKG1lKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgVUUuaW5zdGFudHNbJ3VlZGl0b3JJbnN0YW50JyArIG1lLnVpZF0gPSBtZTsNCiAgICB9Ow0KICAgIEVkaXRvci5wcm90b3R5cGUgPSB7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOe8lui+keWZqOWvueWkluaPkOS+m+eahOebkeWQrHJlYWR55LqL5Lu255qE5o6l5Y+j77yMIOmAmui/h+iwg+eUqOivpeaWueazle+8jOi+vuWIsOeahOaViOaenOS4juebkeWQrHJlYWR55LqL5Lu25piv5LiA6Ie055qEDQogICAgICAgICAqIEBtZXRob2QgcmVhZHkNCiAgICAgICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmbiDnvJbovpHlmahyZWFkeeS5i+WQjuaJgOaJp+ihjOeahOWbnuiwgywg5aaC5p6c5Zyo5rOo5YaM5LqL5Lu25LmL5YmN57yW6L6R5Zmo5bey57uPcmVhZHnvvIzlsIbkvJoNCiAgICAgICAgICog56uL5Y2z6Kem5Y+R6K+l5Zue6LCD44CCDQogICAgICAgICAqIEByZW1pbmQg6ZyA6KaB562J5b6F57yW6L6R5Zmo5Yqg6L295a6M5oiQ5ZCO5omN6IO95omn6KGM55qE5Luj56CBLOWPr+S7peS9v+eUqOivpeaWueazleS8oOWFpQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5yZWFkeSggZnVuY3Rpb24oIGVkaXRvciApIHsNCiAgICAgICAgICogICAgIGVkaXRvci5zZXRDb250ZW50KCfliJ3lp4vljJblrozmr5UnKTsNCiAgICAgICAgICogfSApOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICogQHNlZSBVRS5FZGl0b3IuZXZlbnQ6cmVhZHkNCiAgICAgICAgICovDQogICAgICAgIHJlYWR5OiBmdW5jdGlvbiAoZm4pIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBpZiAoZm4pIHsNCiAgICAgICAgICAgICAgICBtZS5pc1JlYWR5ID8gZm4uYXBwbHkobWUpIDogbWUuYWRkTGlzdGVuZXIoJ3JlYWR5JywgZm4pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDor6Xmlrnms5XmmK/mj5Dkvpvnu5nmj5Lku7bph4zpnaLkvb/nlKjvvIzorr7nva7phY3nva7pobnpu5jorqTlgLwNCiAgICAgICAgICogQG1ldGhvZCBzZXRPcHQNCiAgICAgICAgICogQHdhcm5pbmcg5LiJ5aSE6K6+572u6YWN572u6aG555qE5LyY5YWI57qnOiDlrp7kvovljJbml7bkvKDlhaXlj4LmlbAgPiBzZXRPcHQoKeiuvue9riA+IGNvbmZpZ+aWh+S7tumHjOiuvue9rg0KICAgICAgICAgKiBAd2FybmluZyDor6Xmlrnms5Xku4XkvpvnvJbovpHlmajmj5Lku7blhoXpg6jlkoznvJbovpHlmajliJ3lp4vljJbml7bosIPnlKjvvIzlhbbku5blnLDmlrnkuI3og73osIPnlKjjgIINCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0ga2V5IOe8lui+keWZqOeahOWPr+aOpeWPl+eahOmAiemhueWQjeensA0KICAgICAgICAgKiBAcGFyYW0geyAqIH0gdmFsICDor6XpgInpobnlj6/mjqXlj5fnmoTlgLwNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2V0T3B0KCAnaW5pdENvbnRlbnQnLCAn5qyi6L+O5L2/55So57yW6L6R5ZmoJyApOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOivpeaWueazleaYr+aPkOS+m+e7meaPkuS7tumHjOmdouS9v+eUqO+8jOS7pXtrZXk6dmFsdWV96ZuG5ZCI55qE5pa55byP6K6+572u5o+S5Lu25YaF55So5Yiw55qE6YWN572u6aG56buY6K6k5YC8DQogICAgICAgICAqIEBtZXRob2Qgc2V0T3B0DQogICAgICAgICAqIEB3YXJuaW5nIOS4ieWkhOiuvue9rumFjee9rumhueeahOS8mOWFiOe6pzog5a6e5L6L5YyW5pe25Lyg5YWl5Y+C5pWwID4gc2V0T3B0KCnorr7nva4gPiBjb25maWfmlofku7bph4zorr7nva4NCiAgICAgICAgICogQHdhcm5pbmcg6K+l5pa55rOV5LuF5L6b57yW6L6R5Zmo5o+S5Lu25YaF6YOo5ZKM57yW6L6R5Zmo5Yid5aeL5YyW5pe26LCD55So77yM5YW25LuW5Zyw5pa55LiN6IO96LCD55So44CCDQogICAgICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG9wdGlvbnMg5bCG6KaB6K6+572u55qE6YCJ6aG555qE6ZSu5YC85a+55a+56LGhDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNldE9wdCggew0KICAgICAgICAgKiAgICAgJ2luaXRDb250ZW50JzogJ+asoui/juS9v+eUqOe8lui+keWZqCcNCiAgICAgICAgICogfSApOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldE9wdDogZnVuY3Rpb24gKGtleSwgdmFsKSB7DQogICAgICAgICAgICB2YXIgb2JqID0ge307DQogICAgICAgICAgICBpZiAodXRpbHMuaXNTdHJpbmcoa2V5KSkgew0KICAgICAgICAgICAgICAgIG9ialtrZXldID0gdmFsDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9iaiA9IGtleTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHV0aWxzLmV4dGVuZCh0aGlzLm9wdGlvbnMsIG9iaiwgdHJ1ZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOmUgOavgee8lui+keWZqOWunuS+i++8jOS9v+eUqHRleHRhcmVh5Luj5pu/DQogICAgICAgICAqIEBtZXRob2QgZGVzdHJveQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5kZXN0cm95KCk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gKCkgew0KDQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdkZXN0cm95Jyk7DQogICAgICAgICAgICB2YXIgY29udGFpbmVyID0gbWUuY29udGFpbmVyLnBhcmVudE5vZGU7DQogICAgICAgICAgICB2YXIgdGV4dGFyZWEgPSBtZS50ZXh0YXJlYTsNCiAgICAgICAgICAgIGlmICghdGV4dGFyZWEpIHsNCiAgICAgICAgICAgICAgICB0ZXh0YXJlYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7DQogICAgICAgICAgICAgICAgY29udGFpbmVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHRhcmVhLCBjb250YWluZXIpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gJycNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUud2lkdGggPSBtZS5pZnJhbWUub2Zmc2V0V2lkdGggKyAncHgnOw0KICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gbWUuaWZyYW1lLm9mZnNldEhlaWdodCArICdweCc7DQogICAgICAgICAgICB0ZXh0YXJlYS52YWx1ZSA9IG1lLmdldENvbnRlbnQoKTsNCiAgICAgICAgICAgIHRleHRhcmVhLmlkID0gbWUua2V5Ow0KICAgICAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNvbnRhaW5lcik7DQogICAgICAgICAgICB2YXIga2V5ID0gbWUua2V5Ow0KICAgICAgICAgICAgLy90cmFjZToyMDA0DQogICAgICAgICAgICBmb3IgKHZhciBwIGluIG1lKSB7DQogICAgICAgICAgICAgICAgaWYgKG1lLmhhc093blByb3BlcnR5KHApKSB7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3BdOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIFVFLmRlbEVkaXRvcihrZXkpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmuLLmn5PnvJbovpHlmajnmoRET03liLDmjIflrprlrrnlmagNCiAgICAgICAgICogQG1ldGhvZCByZW5kZXINCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY29udGFpbmVySWQg5oyH5a6a5LiA5Liq5a655ZmoSUQNCiAgICAgICAgICogQHJlbWluZCDmiafooYzor6Xmlrnms5Us5Lya6Kem5Y+RcmVhZHnkuovku7YNCiAgICAgICAgICogQHdhcm5pbmcg5b+F6aG75LiU5Y+q6IO96LCD55So5LiA5qyhDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmuLLmn5PnvJbovpHlmajnmoRET03liLDmjIflrprlrrnlmagNCiAgICAgICAgICogQG1ldGhvZCByZW5kZXINCiAgICAgICAgICogQHBhcmFtIHsgRWxlbWVudCB9IGNvbnRhaW5lckRvbSDnm7TmjqXmjIflrprlrrnlmajlr7nosaENCiAgICAgICAgICogQHJlbWluZCDmiafooYzor6Xmlrnms5Us5Lya6Kem5Y+RcmVhZHnkuovku7YNCiAgICAgICAgICogQHdhcm5pbmcg5b+F6aG75LiU5Y+q6IO96LCD55So5LiA5qyhDQogICAgICAgICAqLw0KICAgICAgICByZW5kZXI6IGZ1bmN0aW9uIChjb250YWluZXIpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgb3B0aW9ucyA9IG1lLm9wdGlvbnMsDQogICAgICAgICAgICAgICAgZ2V0U3R5bGVWYWx1ZT1mdW5jdGlvbihhdHRyKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyLGF0dHIpKTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGNvbnRhaW5lcikpIHsNCiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikgew0KICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgpew0KICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1pbkZyYW1lV2lkdGggPSBvcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoDQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubWluRnJhbWVXaWR0aCA9IG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGggPSBjb250YWluZXIub2Zmc2V0V2lkdGg7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0KXsNCiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5taW5GcmFtZUhlaWdodCA9IG9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0ID0gb3B0aW9ucy5taW5GcmFtZUhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLndpZHRoID0gLyUkLy50ZXN0KG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgpID8gICcxMDAlJyA6IG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgtDQogICAgICAgICAgICAgICAgICAgIGdldFN0eWxlVmFsdWUoInBhZGRpbmctbGVmdCIpLSBnZXRTdHlsZVZhbHVlKCJwYWRkaW5nLXJpZ2h0IikgKydweCc7DQogICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IC8lJC8udGVzdChvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodCkgPyAgJzEwMCUnIDogb3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQgLQ0KICAgICAgICAgICAgICAgICAgICBnZXRTdHlsZVZhbHVlKCJwYWRkaW5nLXRvcCIpLSBnZXRTdHlsZVZhbHVlKCJwYWRkaW5nLWJvdHRvbSIpICsncHgnOw0KDQogICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnpJbmRleCA9IG9wdGlvbnMuekluZGV4Ow0KDQogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSAoIGllICYmIGJyb3dzZXIudmVyc2lvbiA8IDkgID8gJycgOiAnPCFET0NUWVBFIGh0bWw+JykgKw0KICAgICAgICAgICAgICAgICAgICAnPGh0bWwgeG1sbnM9XCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCcgY2xhc3M9XCd2aWV3XCcgPjxoZWFkPicgKw0KICAgICAgICAgICAgICAgICAgICAnPHN0eWxlIHR5cGU9XCd0ZXh0L2Nzc1wnPicgKw0KICAgICAgICAgICAgICAgICAgICAvL+iuvue9ruWbm+WRqOeahOeVmei+uQ0KICAgICAgICAgICAgICAgICAgICAnLnZpZXd7cGFkZGluZzowO3dvcmQtd3JhcDpicmVhay13b3JkO2N1cnNvcjp0ZXh0O2hlaWdodDo5MCU7fVxuJyArDQogICAgICAgICAgICAgICAgICAgIC8v6K6+572u6buY6K6k5a2X5L2T5ZKM5a2X5Y+3DQogICAgICAgICAgICAgICAgICAgIC8vZm9udC1mYW1pbHnkuI3og73lkaLpmo/kvr/mlLnvvIzlnKhzYWZhcmnkuItmaWxsY2hhcuS8muacieino+aekOmXrumimA0KICAgICAgICAgICAgICAgICAgICAnYm9keXttYXJnaW46OHB4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC1zaXplOjE2cHg7fScgKw0KICAgICAgICAgICAgICAgICAgICAvL+iuvue9ruauteiQvemXtOi3nQ0KICAgICAgICAgICAgICAgICAgICAncHttYXJnaW46NXB4IDA7fTwvc3R5bGU+JyArDQogICAgICAgICAgICAgICAgICAgICggb3B0aW9ucy5pZnJhbWVDc3NVcmwgPyAnPGxpbmsgcmVsPVwnc3R5bGVzaGVldFwnIHR5cGU9XCd0ZXh0L2Nzc1wnIGhyZWY9XCcnICsgdXRpbHMudW5odG1sKG9wdGlvbnMuaWZyYW1lQ3NzVXJsKSArICdcJy8+JyA6ICcnICkgKw0KICAgICAgICAgICAgICAgICAgICAob3B0aW9ucy5pbml0aWFsU3R5bGUgPyAnPHN0eWxlPicgKyBvcHRpb25zLmluaXRpYWxTdHlsZSArICc8L3N0eWxlPicgOiAnJykgKw0KICAgICAgICAgICAgICAgICAgICAnPC9oZWFkPjxib2R5IGNsYXNzPVwndmlld1wnID48L2JvZHk+JyArDQogICAgICAgICAgICAgICAgICAgICc8c2NyaXB0IHR5cGU9XCd0ZXh0L2phdmFzY3JpcHRcJyAnICsgKGllID8gJ2RlZmVyPVwnZGVmZXJcJycgOiAnJyApICsnIGlkPVwnX2luaXRpYWxTY3JpcHRcJz4nICsNCiAgICAgICAgICAgICAgICAgICAgJ3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlZGl0b3IgPSB3aW5kb3cucGFyZW50LlVFLmluc3RhbnRzW1wndWVkaXRvckluc3RhbnQnICsgbWUudWlkICsgJ1wnXTtlZGl0b3IuX3NldHVwKGRvY3VtZW50KTt9LDApOycgKw0KICAgICAgICAgICAgICAgICAgICAndmFyIF90bXBTY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcJ19pbml0aWFsU2NyaXB0XCcpO190bXBTY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChfdG1wU2NyaXB0KTs8L3NjcmlwdD48L2h0bWw+JzsNCiAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZG9tVXRpbHMuY3JlYXRlRWxlbWVudChkb2N1bWVudCwgJ2lmcmFtZScsIHsNCiAgICAgICAgICAgICAgICAgICAgaWQ6ICd1ZWRpdG9yXycgKyBtZS51aWQsDQogICAgICAgICAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsDQogICAgICAgICAgICAgICAgICAgIGhlaWdodDogIjEwMCUiLA0KICAgICAgICAgICAgICAgICAgICBmcmFtZWJvcmRlcjogIjAiLA0KICAgICAgICAgICAgICAgICAgICAvL+WFiOazqOmHiuaOieS6hu+8jOWKoOeahOWOn+WboOW/mOiusOS6hu+8jOS9huW8gOWQr+S8muebtOaOpeWvvOiHtOWFqOWxj+aooeW8j+S4i+WGheWuueWkmuaXtuS4jeS8muWHuueOsOa7muWKqOadoQ0KLy8gICAgICAgICAgICAgICAgICAgIHNjcm9sbGluZyA6J25vJywNCiAgICAgICAgICAgICAgICAgICAgc3JjOiAnamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7ZG9jdW1lbnQub3BlbigpOycgKyAob3B0aW9ucy5jdXN0b21Eb21haW4gJiYgZG9jdW1lbnQuZG9tYWluICE9IGxvY2F0aW9uLmhvc3RuYW1lID8gICdkb2N1bWVudC5kb21haW49IicgKyBkb2N1bWVudC5kb21haW4gKyAnIjsnIDogJycpICsNCiAgICAgICAgICAgICAgICAgICAgICAgICdkb2N1bWVudC53cml0ZSgiJyArIGh0bWwgKyAnIik7ZG9jdW1lbnQuY2xvc2UoKTt9KCkpJw0KICAgICAgICAgICAgICAgIH0pKTsNCiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsNCiAgICAgICAgICAgICAgICAvL+ino+WGs+WmguaenOaYr+e7meWumueahOeZvuWIhuavlO+8jOS8muWvvOiHtOmrmOW6pueul+S4jeWvueeahOmXrumimA0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoIC8lJC8udGVzdChvcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoKSl7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1pbkZyYW1lV2lkdGggPSBvcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoID0gY29udGFpbmVyLm9mZnNldFdpZHRoOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzov5nph4znu5nlrprlrr3luqbvvIzkvJrlr7zoh7RpZeWcqOaLluWKqOeql+WPo+Wkp+Wwj+aXtu+8jOe8lui+keWMuuWfn+S4jemaj+edgOWPmOWMlg0KLy8gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBvcHRpb25zLmluaXRpYWxGcmFtZVdpZHRoICsgJ3B4JzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZigvJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubWluRnJhbWVIZWlnaHQgPSBvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQgKyAncHgnOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog57yW6L6R5Zmo5Yid5aeL5YyWDQogICAgICAgICAqIEBtZXRob2QgX3NldHVwDQogICAgICAgICAqIEBwcml2YXRlDQogICAgICAgICAqIEBwYXJhbSB7IEVsZW1lbnQgfSBkb2Mg57yW6L6R5ZmoSWZyYW1l5Lit55qE5paH5qGj5a+56LGhDQogICAgICAgICAqLw0KICAgICAgICBfc2V0dXA6IGZ1bmN0aW9uIChkb2MpIHsNCg0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICBvcHRpb25zID0gbWUub3B0aW9uczsNCiAgICAgICAgICAgIGlmIChpZSkgew0KICAgICAgICAgICAgICAgIGRvYy5ib2R5LmRpc2FibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb2MuYm9keS5jb250ZW50RWRpdGFibGUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGRvYy5ib2R5LmRpc2FibGVkID0gZmFsc2U7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRvYy5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkb2MuYm9keS5zcGVsbGNoZWNrID0gZmFsc2U7DQogICAgICAgICAgICBtZS5kb2N1bWVudCA9IGRvYzsNCiAgICAgICAgICAgIG1lLndpbmRvdyA9IGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93Ow0KICAgICAgICAgICAgbWUuaWZyYW1lID0gbWUud2luZG93LmZyYW1lRWxlbWVudDsNCiAgICAgICAgICAgIG1lLmJvZHkgPSBkb2MuYm9keTsNCiAgICAgICAgICAgIG1lLnNlbGVjdGlvbiA9IG5ldyBkb20uU2VsZWN0aW9uKGRvYyk7DQogICAgICAgICAgICAvL2dlY2tv5Yid5aeL5YyW5bCx6IO95b6X5YiwcmFuZ2Us5peg5rOV5Yik5pataXNGb2N1c+S6hg0KICAgICAgICAgICAgdmFyIGdlY2tvU2VsOw0KICAgICAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgKGdlY2tvU2VsID0gdGhpcy5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkpKSB7DQogICAgICAgICAgICAgICAgZ2Vja29TZWwucmVtb3ZlQWxsUmFuZ2VzKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLl9pbml0RXZlbnRzKCk7DQogICAgICAgICAgICAvL+S4umZvcm3mj5DkuqTmj5DkvpvkuIDkuKrpmpDol4/nmoR0ZXh0YXJlYQ0KICAgICAgICAgICAgZm9yICh2YXIgZm9ybSA9IHRoaXMuaWZyYW1lLnBhcmVudE5vZGU7ICFkb21VdGlscy5pc0JvZHkoZm9ybSk7IGZvcm0gPSBmb3JtLnBhcmVudE5vZGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoZm9ybS50YWdOYW1lID09ICdGT1JNJykgew0KICAgICAgICAgICAgICAgICAgICBtZS5mb3JtID0gZm9ybTsNCiAgICAgICAgICAgICAgICAgICAgaWYobWUub3B0aW9ucy5hdXRvU3luY0RhdGEpew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMub24obWUud2luZG93LCdibHVyJyxmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbHVlKGZvcm0sbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMub24oZm9ybSwgJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWx1ZSh0aGlzLCBtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAob3B0aW9ucy5pbml0aWFsQ29udGVudCkgew0KICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9DbGVhcmluaXRpYWxDb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBvbGRFeGVjQ29tbWFuZCA9IG1lLmV4ZWNDb21tYW5kOw0KICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnZmlyc3RCZWZvcmVFeGVjQ29tbWFuZCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9sZEV4ZWNDb21tYW5kLmFwcGx5KG1lLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXREZWZhdWx0Q29udGVudChvcHRpb25zLmluaXRpYWxDb250ZW50KTsNCiAgICAgICAgICAgICAgICB9IGVsc2UNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb250ZW50KG9wdGlvbnMuaW5pdGlhbENvbnRlbnQsIGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy/nvJbovpHlmajkuI3og73kuLrnqbrlhoXlrrkNCg0KICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKG1lLmJvZHkpKSB7DQogICAgICAgICAgICAgICAgbWUuYm9keS5pbm5lckhUTUwgPSAnPHA+JyArIChicm93c2VyLmllID8gJycgOiAnPGJyLz4nKSArICc8L3A+JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5aaC5p6c6KaB5rGCZm9jdXMsIOWwseaKiuWFieagh+WumuS9jeWIsOWGheWuueW8gOWniw0KICAgICAgICAgICAgaWYgKG9wdGlvbnMuZm9jdXMpIHsNCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuZm9jdXMobWUub3B0aW9ucy5mb2N1c0luRW5kKTsNCiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzoh6rliqjmuIXpmaTlvIDnnYDvvIzlsLHkuI3pnIDopoHlgZpzZWxlY3Rpb25jaGFuZ2U7DQogICAgICAgICAgICAgICAgICAgICFtZS5vcHRpb25zLmF1dG9DbGVhcmluaXRpYWxDb250ZW50ICYmIG1lLl9zZWxlY3Rpb25DaGFuZ2UoKTsNCiAgICAgICAgICAgICAgICB9LCAwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghbWUuY29udGFpbmVyKSB7DQogICAgICAgICAgICAgICAgbWUuY29udGFpbmVyID0gdGhpcy5pZnJhbWUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChvcHRpb25zLmZ1bGxzY3JlZW4gJiYgbWUudWkpIHsNCiAgICAgICAgICAgICAgICBtZS51aS5zZXRGdWxsU2NyZWVuKHRydWUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIG1lLmRvY3VtZW50LmV4ZWNDb21tYW5kKCcyRC1wb3NpdGlvbicsIGZhbHNlLCBmYWxzZSk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIG1lLmRvY3VtZW50LmV4ZWNDb21tYW5kKCdlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmcnLCBmYWxzZSwgZmFsc2UpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBtZS5kb2N1bWVudC5leGVjQ29tbWFuZCgnZW5hYmxlT2JqZWN0UmVzaXppbmcnLCBmYWxzZSwgZmFsc2UpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL+aMguaOpeW/q+aNt+mUrg0KICAgICAgICAgICAgbWUuX2JpbmRzaG9ydGN1dEtleXMoKTsNCiAgICAgICAgICAgIG1lLmlzUmVhZHkgPSAxOw0KICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdyZWFkeScpOw0KICAgICAgICAgICAgb3B0aW9ucy5vbnJlYWR5ICYmIG9wdGlvbnMub25yZWFkeS5jYWxsKG1lKTsNCiAgICAgICAgICAgIGlmICghYnJvd3Nlci5pZTliZWxvdykgew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKG1lLndpbmRvdywgWydibHVyJywgJ2ZvY3VzJ10sIGZ1bmN0aW9uIChlKSB7DQogICAgICAgICAgICAgICAgICAgIC8vY2hyb21l5LiL5Lya5Ye6546wYWx0K3RhYuWIh+aNouaXtu+8jOWvvOiHtOmAieWMuuS9jee9ruS4jeWvuQ0KICAgICAgICAgICAgICAgICAgICBpZiAoZS50eXBlID09ICdibHVyJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuX2Jha1JhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9iYWtOYXRpdmVSYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5nZXRSYW5nZUF0KDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5yZW1vdmVBbGxSYW5nZXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5fYmFrTmF0aXZlUmFuZ2UgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9iYWtSYW5nZSAmJiBtZS5fYmFrUmFuZ2Uuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vdHJhY2U6MTUxOCBmZjMuNmJvZHnkuI3lpJ/lr5vvvIzkvJrlr7zoh7Tngrnlh7vnqbrnmb3lpITml6Dms5XojrflvpfnhKbngrkNCiAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvICYmIGJyb3dzZXIudmVyc2lvbiA8PSAxMDkwMikgew0KICAgICAgICAgICAgICAgIC8v5L+u5aSNZmYzLjbliJ3lp4vljJbov5vmnaXvvIzkuI3og73ngrnlh7vojrflvpfnhKbngrkNCiAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgfSwgMTAwKTsNCiAgICAgICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmJvZHkuc3R5bGUuaGVpZ2h0ID0gbWUuaWZyYW1lLm9mZnNldEhlaWdodCAtIDIwICsgJ3B4Jw0KICAgICAgICAgICAgICAgIH0sIDEwMCkNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgIW9wdGlvbnMuaXNTaG93ICYmIG1lLnNldEhpZGUoKTsNCiAgICAgICAgICAgIG9wdGlvbnMucmVhZG9ubHkgJiYgbWUuc2V0RGlzYWJsZWQoKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5ZCM5q2l5pWw5o2u5Yiw57yW6L6R5Zmo5omA5Zyo55qEZm9ybQ0KICAgICAgICAgKiDku47nvJbovpHlmajnmoTlrrnlmajoioLngrnlkJHkuIrmn6Xmib5mb3Jt5YWD57Sg77yM6Iul5om+5Yiw77yM5bCx5ZCM5q2l57yW6L6R5YaF5a655Yiw5om+5Yiw55qEZm9ybemHjO+8jOS4uuaPkOS6pOaVsOaNruWBmuWHhuWkh++8jOS4u+imgeeUqOS6juaYr+aJi+WKqOaPkOS6pOeahOaDheWGtQ0KICAgICAgICAgKiDlkI7lj7Dlj5blvpfmlbDmja7nmoTplK7lgLzvvIzkvb/nlKjkvaDlrrnlmajkuIrnmoRuYW1l5bGe5oCn77yM5aaC5p6c5rKh5pyJ5bCx5L2/55So5Y+C5pWw6YeM55qEdGV4dGFyZWHpobkNCiAgICAgICAgICogQG1ldGhvZCBzeW5jDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnN5bmMoKTsNCiAgICAgICAgICogZm9ybS5zdW1iaXQoKTsgLy9mb3Jt5Y+Y6YeP5bey57uP5oyH5ZCR5LqGZm9ybeWFg+e0oA0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOagueaNruS8oOWFpeeahGZvcm1JZO+8jOWcqOmhtemdouS4iuafpeaJvuimgeWQjOatpeaVsOaNrueahOihqOWNle+8jOiLpeaJvuWIsO+8jOWwseWQjOatpee8lui+keWGheWuueWIsOaJvuWIsOeahGZvcm3ph4zvvIzkuLrmj5DkuqTmlbDmja7lgZrlh4blpIcNCiAgICAgICAgICog5ZCO5Y+w5Y+W5b6X5pWw5o2u55qE6ZSu5YC877yM6K+l6ZSu5YC86buY6K6k5L2/55So57uZ5a6a55qE57yW6L6R5Zmo5a655Zmo55qEbmFtZeWxnuaAp++8jOWmguaenOayoeaciW5hbWXlsZ7mgKfliJnkvb/nlKjlj4LmlbDpobnph4znu5nlrprnmoTigJx0ZXh0YXJlYeKAnemhuQ0KICAgICAgICAgKiBAbWV0aG9kIHN5bmMNCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gZm9ybUlEIOaMh+WumuS4gOS4quimgeWQjOatpeaVsOaNrueahGZvcm3nmoRpZCznvJbovpHlmajnmoTmlbDmja7kvJrlkIzmraXliLDkvaDmjIflrppmb3Jt5LiLDQogICAgICAgICAqLw0KICAgICAgICBzeW5jOiBmdW5jdGlvbiAoZm9ybUlkKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgIGZvcm0gPSBmb3JtSWQgPyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChmb3JtSWQpIDoNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmluZFBhcmVudChtZS5pZnJhbWUucGFyZW50Tm9kZSwgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnRhZ05hbWUgPT0gJ0ZPUk0nDQogICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOw0KICAgICAgICAgICAgZm9ybSAmJiBzZXRWYWx1ZShmb3JtLCBtZSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rue8lui+keWZqOmrmOW6pg0KICAgICAgICAgKiBAbWV0aG9kIHNldEhlaWdodA0KICAgICAgICAgKiBAcmVtaW5kIOW9k+mFjee9rumhuWF1dG9IZWlnaHRFbmFibGVk5Li655yf5pe2LOivpeaWueazleaXoOaViA0KICAgICAgICAgKiBAcGFyYW0geyBOdW1iZXIgfSBudW1iZXIg6K6+572u55qE6auY5bqm5YC877yM57qv5pWw5YC877yM5LiN5bim5Y2V5L2NDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNldEhlaWdodChudW1iZXIpOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldEhlaWdodDogZnVuY3Rpb24gKGhlaWdodCxub3RTZXRIZWlnaHQpIHsNCiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IHBhcnNlSW50KHRoaXMuaWZyYW1lLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0KSkgew0KICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICFub3RTZXRIZWlnaHQgJiYgKHRoaXMub3B0aW9ucy5taW5GcmFtZUhlaWdodCA9IHRoaXMub3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQgPSBoZWlnaHQpOw0KICAgICAgICAgICAgdGhpcy5ib2R5LnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOS4uue8lui+keWZqOeahOe8lui+keWRveS7pOaPkOS+m+W/q+aNt+mUrg0KICAgICAgICAgKiDov5nkuKrmjqXlj6PmmK/kuLrmj5Lku7bmianlsZXmj5DkvpvnmoTmjqXlj6Ms5Li76KaB5piv5Li65paw5re75Yqg55qE5o+S5Lu277yM5aaC5p6c6ZyA6KaB5re75Yqg5b+r5o236ZSu77yM5omA5o+Q5L6b55qE5o6l5Y+jDQogICAgICAgICAqIEBtZXRob2QgYWRkc2hvcnRjdXRrZXkNCiAgICAgICAgICogQHBhcmFtIHsgT2JqZWN0IH0ga2V5c2V0IOWRveS7pOWQjeWSjOW/q+aNt+mUrumUruWAvOWvueWvueixoe+8jOWkmuS4quaMiemSrueahOW/q+aNt+mUrueUqOKAnO+8i+KAneWIhumalA0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5hZGRzaG9ydGN1dGtleSh7DQogICAgICAgICAqICAgICAiQm9sZCIgOiAiY3RybCs2NiIsLy9eQg0KICAgICAgICAgKiAgICAgIkl0YWxpYyIgOiAiY3RybCs3MyIsIC8vXkkNCiAgICAgICAgICogfSk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgLyoqDQogICAgICAgICAqIOi/meS4quaOpeWPo+aYr+S4uuaPkuS7tuaJqeWxleaPkOS+m+eahOaOpeWPoyzkuLvopoHmmK/kuLrmlrDmt7vliqDnmoTmj5Lku7bvvIzlpoLmnpzpnIDopoHmt7vliqDlv6vmjbfplK7vvIzmiYDmj5DkvpvnmoTmjqXlj6MNCiAgICAgICAgICogQG1ldGhvZCBhZGRzaG9ydGN1dGtleQ0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg6Kem5Y+R5b+r5o236ZSu5pe277yM5ZON5bqU55qE5ZG95LukDQogICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGtleXMg5b+r5o236ZSu55qE5a2X56ym5Liy77yM5aSa5Liq5oyJ6ZKu55So4oCc77yL4oCd5YiG6ZqUDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmFkZHNob3J0Y3V0a2V5KCJVbmRlcmxpbmUiLCAiY3RybCs4NSIpOyAvL15VDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgYWRkc2hvcnRjdXRrZXk6IGZ1bmN0aW9uIChjbWQsIGtleXMpIHsNCiAgICAgICAgICAgIHZhciBvYmogPSB7fTsNCiAgICAgICAgICAgIGlmIChrZXlzKSB7DQogICAgICAgICAgICAgICAgb2JqW2NtZF0gPSBrZXlzDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG9iaiA9IGNtZDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHV0aWxzLmV4dGVuZCh0aGlzLnNob3J0Y3V0a2V5cywgb2JqKQ0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlr7nnvJbovpHlmajorr7nva5rZXlkb3du5LqL5Lu255uR5ZCs77yM57uR5a6a5b+r5o236ZSu5ZKM5ZG95Luk77yM5b2T5b+r5o236ZSu57uE5ZCI6Kem5Y+R5oiQ5Yqf77yM5Lya5ZON5bqU5a+55bqU55qE5ZG95LukDQogICAgICAgICAqIEBtZXRob2QgX2JpbmRzaG9ydGN1dEtleXMNCiAgICAgICAgICogQHByaXZhdGUNCiAgICAgICAgICovDQogICAgICAgIF9iaW5kc2hvcnRjdXRLZXlzOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLCBzaG9ydGN1dGtleXMgPSB0aGlzLnNob3J0Y3V0a2V5czsNCiAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKHR5cGUsIGUpIHsNCiAgICAgICAgICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gc2hvcnRjdXRrZXlzKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzaG9ydGN1dGtleXNbaV0uc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDAsIHRpOyB0aSA9IHRtcFt0KytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGkgPSB0aS5zcGxpdCgnOicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRpWzBdLCBwYXJhbSA9IHRpWzFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eKGN0cmwpKFwrc2hpZnQpP1wrKFxkKykkLy50ZXN0KGtleS50b0xvd2VyQ2FzZSgpKSB8fCAvXihcZCspJC8udGVzdChrZXkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCggKFJlZ0V4cC4kMSA9PSAnY3RybCcgPyAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkgOiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoUmVnRXhwLiQyICE9ICIiID8gZVtSZWdFeHAuJDIuc2xpY2UoMSkgKyAiS2V5Il0gOiAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBrZXlDb2RlID09IFJlZ0V4cC4kMw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleUNvZGUgPT0gUmVnRXhwLiQxDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWUucXVlcnlDb21tYW5kU3RhdGUoaSxwYXJhbSkgIT0gLTEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZChpLCBwYXJhbSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPlue8lui+keWZqOeahOWGheWuuQ0KICAgICAgICAgKiBAbWV0aG9kIGdldENvbnRlbnQNCiAgICAgICAgICogQHdhcm5pbmcg6K+l5pa55rOV6I635Y+W5Yiw55qE5piv57uP6L+H57yW6L6R5Zmo5YaF572u55qE6L+H5ruk6KeE5YiZ6L+b6KGM6L+H5ruk5ZCO5b6X5Yiw55qE5YaF5a65DQogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDnvJbovpHlmajnmoTlhoXlrrnlrZfnrKbkuLIsIOWmguaenOe8lui+keWZqOeahOWGheWuueS4uuepuu+8jOaIluiAheaYr+epuueahOagh+etvuWGheWuue+8iOWmgjrigJ0mbHQ7cCZndDsmbHQ7YnIvJmd0OyZsdDsvcCZndDvigJzvvInvvIwg5YiZ6L+U5Zue56m65a2X56ym5LiyDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogLy/nvJbovpHlmahodG1s5YaF5a65OjxwPjE8c3Ryb25nPjI8ZW0+MzQ8L2VtPjU8L3N0cm9uZz42PC9wPg0KICAgICAgICAgKiB2YXIgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCk7IC8v6L+U5Zue5YC8OjxwPjE8c3Ryb25nPjI8ZW0+MzQ8L2VtPjU8L3N0cm9uZz42PC9wPg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPlue8lui+keWZqOeahOWGheWuueOAgiDlj6/ku6XpgJrov4flj4LmlbDlrprkuYnnvJbovpHlmajlhoXnva7nmoTliKTnqbrop4TliJkNCiAgICAgICAgICogQG1ldGhvZCBnZXRDb250ZW50DQogICAgICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZm4g6Ieq5a6a55qE5Yik56m66KeE5YiZ77yMIOimgeaxguivpeaWueazlei/lOWbnuS4gOS4qmJvb2xlYW7nsbvlnovnmoTlgLzvvIwNCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAg5Luj6KGo5b2T5YmN57yW6L6R5Zmo55qE5YaF5a655piv5ZCm56m677yMDQogICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgIOWmguaenOi/lOWbnnRydWXvvIwg5YiZ6K+l5pa55rOV5bCG55u05o6l6L+U5Zue56m65a2X56ym5Liy77yb5aaC5p6c6L+U5ZueZmFsc2XvvIzliJnnvJbovpHlmajlsIbov5Tlm54NCiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAg57uP6L+H5YaF572u6L+H5ruk6KeE5YiZ5aSE55CG5ZCO55qE5YaF5a6544CCDQogICAgICAgICAqIEByZW1pbmQg6K+l5pa55rOV5Zyo5aSE55CG5YyF5ZCr5pyJ5Yid5aeL5YyW5YaF5a6555qE5pe25YCZ6IO96LW35Yiw5b6I5aW955qE5L2c55So44CCDQogICAgICAgICAqIEB3YXJuaW5nIOivpeaWueazleiOt+WPluWIsOeahOaYr+e7j+i/h+e8lui+keWZqOWGhee9rueahOi/h+a7pOinhOWImei/m+ihjOi/h+a7pOWQjuW+l+WIsOeahOWGheWuuQ0KICAgICAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g57yW6L6R5Zmo55qE5YaF5a655a2X56ym5LiyDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogLy8gZWRpdG9yIOaYr+S4gOS4que8lui+keWZqOeahOWunuS+iw0KICAgICAgICAgKiB2YXIgY29udGVudCA9IGVkaXRvci5nZXRDb250ZW50KCBmdW5jdGlvbiAoIGVkaXRvciApIHsNCiAgICAgICAgICogICAgICByZXR1cm4gZWRpdG9yLmJvZHkuaW5uZXJIVE1MID09PSAn5qyi6L+O5L2/55SoVUVkaXRvcic7IC8v6L+U5Zue56m65a2X56ym5LiyDQogICAgICAgICAqIH0gKTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiAoY21kLCBmbixub3RTZXRDdXJzb3IsaWdub3JlQmxhbmssZm9ybWF0dGVyKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKGNtZCAmJiB1dGlscy5pc0Z1bmN0aW9uKGNtZCkpIHsNCiAgICAgICAgICAgICAgICBmbiA9IGNtZDsNCiAgICAgICAgICAgICAgICBjbWQgPSAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChmbiA/ICFmbigpIDogIXRoaXMuaGFzQ29udGVudHMoKSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYmVmb3JlZ2V0Y29udGVudCcpOw0KICAgICAgICAgICAgdmFyIHJvb3QgPSBVRS5odG1scGFyc2VyKG1lLmJvZHkuaW5uZXJIVE1MLGlnbm9yZUJsYW5rKTsNCiAgICAgICAgICAgIG1lLmZpbHRlck91dHB1dFJ1bGUocm9vdCk7DQogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2FmdGVyZ2V0Y29udGVudCcsIGNtZCxyb290KTsNCiAgICAgICAgICAgIHJldHVybiAgcm9vdC50b0h0bWwoZm9ybWF0dGVyKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5Y+W5b6X5a6M5pW055qEaHRtbOS7o+egge+8jOWPr+S7peebtOaOpeaYvuekuuaIkOWujOaVtOeahGh0bWzmlofmoaMNCiAgICAgICAgICogQG1ldGhvZCBnZXRBbGxIdG1sDQogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDnvJbovpHlmajnmoTlhoXlrrlodG1s5paH5qGj5a2X56ym5LiyDQogICAgICAgICAqIEBlYXhtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmdldEFsbEh0bWwoKTsgLy/ov5Tlm57moLzlvI/lpKfoh7TmmK86IDxodG1sPjxoZWFkPi4uLjwvaGVhZD48Ym9keT4uLi48L2JvZHk+PC9odG1sPg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldEFsbEh0bWw6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgaGVhZEh0bWwgPSBbXSwNCiAgICAgICAgICAgICAgICBodG1sID0gJyc7DQogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2dldEFsbEh0bWwnLCBoZWFkSHRtbCk7DQogICAgICAgICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gPiA4KSB7DQogICAgICAgICAgICAgICAgdmFyIGhlYWRIdG1sRm9ySUU5ID0gJyc7DQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaChtZS5kb2N1bWVudC5zdHlsZVNoZWV0cywgZnVuY3Rpb24gKHNpKSB7DQogICAgICAgICAgICAgICAgICAgIGhlYWRIdG1sRm9ySUU5ICs9ICggc2kuaHJlZiA/ICc8bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSInICsgc2kuaHJlZiArICciIC8+JyA6ICc8c3R5bGU+JyArIHNpLmNzc1RleHQgKyAnPC9zdHlsZT4nKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKG1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKSwgZnVuY3Rpb24gKHNpKSB7DQogICAgICAgICAgICAgICAgICAgIGhlYWRIdG1sRm9ySUU5ICs9IHNpLm91dGVySFRNTDsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuICc8aHRtbD48aGVhZD4nICsgKG1lLm9wdGlvbnMuY2hhcnNldCA/ICc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVR5cGUiIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD0nICsgbWUub3B0aW9ucy5jaGFyc2V0ICsgJyIvPicgOiAnJykNCiAgICAgICAgICAgICAgICArIChoZWFkSHRtbEZvcklFOSB8fCBtZS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmlubmVySFRNTCkgKyBoZWFkSHRtbC5qb2luKCdcbicpICsgJzwvaGVhZD4nDQogICAgICAgICAgICAgICAgKyAnPGJvZHkgJyArIChpZSAmJiBicm93c2VyLnZlcnNpb24gPCA5ID8gJ2NsYXNzPSJ2aWV3IicgOiAnJykgKyAnPicgKyBtZS5nZXRDb250ZW50KG51bGwsIG51bGwsIHRydWUpICsgJzwvYm9keT48L2h0bWw+JzsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5b6X5Yiw57yW6L6R5Zmo55qE57qv5paH5pys5YaF5a6577yM5L2G5Lya5L+d55WZ5q616JC95qC85byPDQogICAgICAgICAqIEBtZXRob2QgZ2V0UGxhaW5UeHQNCiAgICAgICAgICogQHJldHVybiB7IFN0cmluZyB9IOe8lui+keWZqOW4puauteiQveagvOW8j+eahOe6r+aWh+acrOWGheWuueWtl+espuS4sg0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIC8v57yW6L6R5ZmoaHRtbOWGheWuuTo8cD48c3Ryb25nPjE8L3N0cm9uZz48L3A+PHA+PHN0cm9uZz4yPC9zdHJvbmc+PC9wPg0KICAgICAgICAgKiBjb25zb2xlLmxvZyhlZGl0b3IuZ2V0UGxhaW5UeHQoKSk7IC8v6L6T5Ye6OiIxXG4yXG4NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBnZXRQbGFpblR4dDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsICdnJyksDQogICAgICAgICAgICAgICAgaHRtbCA9IHRoaXMuYm9keS5pbm5lckhUTUwucmVwbGFjZSgvW1xuXHJdL2csICcnKTsvL2ll6KaB5YWI5Y675LqGXG7lnKjlpITnkIYNCiAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLzwocHxkaXYpW14+XSo+KDxiclwvPz58Jm5ic3A7KTxcL1wxPi9naSwgJ1xuJykNCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvPGJyXC8/Pi9naSwgJ1xuJykNCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvPFtePi9dKz4vZywgJycpDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhcbik/PFwvKFtePl0rKT4vZywgZnVuY3Rpb24gKGEsIGIsIGMpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0ZC4kYmxvY2tbY10gPyAnXG4nIDogYiA/IGIgOiAnJzsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8v5Y+W5Ye65p2l55qE56m65qC85Lya5pyJYzJhMOS8muWPmOaIkOS5seegge+8jOWkhOeQhui/meenjeaDheWGtVx1MDBhMA0KICAgICAgICAgICAgcmV0dXJuIGh0bWwucmVwbGFjZShyZWcsICcnKS5yZXBsYWNlKC9cdTAwYTAvZywgJyAnKS5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6I635Y+W57yW6L6R5Zmo5Lit55qE57qv5paH5pys5YaF5a65LOayoeacieauteiQveagvOW8jw0KICAgICAgICAgKiBAbWV0aG9kIGdldENvbnRlbnRUeHQNCiAgICAgICAgICogQHJldHVybiB7IFN0cmluZyB9IOe8lui+keWZqOS4jeW4puauteiQveagvOW8j+eahOe6r+aWh+acrOWGheWuueWtl+espuS4sg0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIC8v57yW6L6R5ZmoaHRtbOWGheWuuTo8cD48c3Ryb25nPjE8L3N0cm9uZz48L3A+PHA+PHN0cm9uZz4yPC9zdHJvbmc+PC9wPg0KICAgICAgICAgKiBjb25zb2xlLmxvZyhlZGl0b3IuZ2V0UGxhaW5UeHQoKSk7IC8v6L6T5Ye6OiIxMg0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldENvbnRlbnRUeHQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCAnZycpOw0KICAgICAgICAgICAgLy/lj5blh7rmnaXnmoTnqbrmoLzkvJrmnIljMmEw5Lya5Y+Y5oiQ5Lmx56CB77yM5aSE55CG6L+Z56eN5oOF5Ya1XHUwMGEwDQogICAgICAgICAgICByZXR1cm4gdGhpcy5ib2R5W2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCddLnJlcGxhY2UocmVnLCAnJykucmVwbGFjZSgvXHUwMGEwL2csICcgJyk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuvue9rue8lui+keWZqOeahOWGheWuue+8jOWPr+S/ruaUuee8lui+keWZqOW9k+WJjeeahGh0bWzlhoXlrrkNCiAgICAgICAgICogQG1ldGhvZCBzZXRDb250ZW50DQogICAgICAgICAqIEB3YXJuaW5nIOmAmui/h+ivpeaWueazleaPkuWFpeeahOWGheWuue+8jOaYr+e7j+i/h+e8lui+keWZqOWGhee9rueahOi/h+a7pOinhOWImei/m+ihjOi/h+a7pOWQjuW+l+WIsOeahOWGheWuuQ0KICAgICAgICAgKiBAd2FybmluZyDor6Xmlrnms5XkvJrop6blj5FzZWxlY3Rpb25jaGFuZ2Xkuovku7YNCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gaHRtbCDopoHmj5LlhaXnmoRodG1s5YaF5a65DQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmdldENvbnRlbnQoJzxwPnRlc3Q8L3A+Jyk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6+572u57yW6L6R5Zmo55qE5YaF5a6577yM5Y+v5L+u5pS557yW6L6R5Zmo5b2T5YmN55qEaHRtbOWGheWuuQ0KICAgICAgICAgKiBAbWV0aG9kIHNldENvbnRlbnQNCiAgICAgICAgICogQHdhcm5pbmcg6YCa6L+H6K+l5pa55rOV5o+S5YWl55qE5YaF5a6577yM5piv57uP6L+H57yW6L6R5Zmo5YaF572u55qE6L+H5ruk6KeE5YiZ6L+b6KGM6L+H5ruk5ZCO5b6X5Yiw55qE5YaF5a65DQogICAgICAgICAqIEB3YXJuaW5nIOivpeaWueazleS8muinpuWPkXNlbGVjdGlvbmNoYW5nZeS6i+S7tg0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBodG1sIOimgeaPkuWFpeeahGh0bWzlhoXlrrkNCiAgICAgICAgICogQHBhcmFtIHsgQm9vbGVhbiB9IGlzQXBwZW5kVG8g6Iul5Lyg5YWldHJ1Ze+8jOS4jea4heepuuWOn+adpeeahOWGheWuue+8jOWcqOacgOWQjuaPkuWFpeWGheWuue+8jOWQpuWIme+8jOa4heepuuWGheWuueWGjeaPkuWFpQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIC8v5YGH6K6+6K6+572u5YmN55qE57yW6L6R5Zmo5YaF5a655pivIDxwPm9sZCB0ZXh0PC9wPg0KICAgICAgICAgKiBlZGl0b3Iuc2V0Q29udGVudCgnPHA+bmV3IHRleHQ8L3A+JywgdHJ1ZSk7IC8v5o+S5YWl55qE57uT5p6c5pivPHA+b2xkIHRleHQ8L3A+PHA+bmV3IHRleHQ8L3A+DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgc2V0Q29udGVudDogZnVuY3Rpb24gKGh0bWwsIGlzQXBwZW5kVG8sIG5vdEZpcmVTZWxlY3Rpb25jaGFuZ2UpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQoNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYmVmb3Jlc2V0Y29udGVudCcsIGh0bWwpOw0KICAgICAgICAgICAgdmFyIHJvb3QgPSBVRS5odG1scGFyc2VyKGh0bWwpOw0KICAgICAgICAgICAgbWUuZmlsdGVySW5wdXRSdWxlKHJvb3QpOw0KICAgICAgICAgICAgaHRtbCA9IHJvb3QudG9IdG1sKCk7DQoNCiAgICAgICAgICAgIG1lLmJvZHkuaW5uZXJIVE1MID0gKGlzQXBwZW5kVG8gPyBtZS5ib2R5LmlubmVySFRNTCA6ICcnKSArIGh0bWw7DQoNCg0KICAgICAgICAgICAgZnVuY3Rpb24gaXNDZGF0YURpdihub2RlKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gIG5vZGUudGFnTmFtZSA9PSAnRElWJyAmJiBub2RlLmdldEF0dHJpYnV0ZSgnY2RhdGFfdGFnJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+e7meaWh+acrOaIluiAhWlubGluZeiKgueCueWll3DmoIfnrb4NCiAgICAgICAgICAgIGlmIChtZS5vcHRpb25zLmVudGVyVGFnID09ICdwJykgew0KDQogICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5ib2R5LmZpcnN0Q2hpbGQsIHRtcE5vZGU7DQogICAgICAgICAgICAgICAgaWYgKCFjaGlsZCB8fCBjaGlsZC5ub2RlVHlwZSA9PSAxICYmDQogICAgICAgICAgICAgICAgICAgIChkdGQuJGNkYXRhW2NoaWxkLnRhZ05hbWVdIHx8IGlzQ2RhdGFEaXYoY2hpbGQpIHx8DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5pc0N1c3RvbWVOb2RlKGNoaWxkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAmJiBjaGlsZCA9PT0gdGhpcy5ib2R5Lmxhc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmJvZHkuaW5uZXJIVE1MID0gJzxwPicgKyAoYnJvd3Nlci5pZSA/ICcmbmJzcDsnIDogJzxici8+JykgKyAnPC9wPicgKyB0aGlzLmJvZHkuaW5uZXJIVE1MOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChjaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNoaWxkICYmIChjaGlsZC5ub2RlVHlwZSA9PSAzIHx8IGNoaWxkLm5vZGVUeXBlID09IDEgJiYgZHRkLnBbY2hpbGQudGFnTmFtZV0gJiYgIWR0ZC4kY2RhdGFbY2hpbGQudGFnTmFtZV0pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IGNoaWxkLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQoY2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkID0gdG1wTm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoaWxkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmJvZHkuYXBwZW5kQ2hpbGQocCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsIGNoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdhZnRlcnNldGNvbnRlbnQnKTsNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOw0KDQogICAgICAgICAgICAhbm90RmlyZVNlbGVjdGlvbmNoYW5nZSAmJiBtZS5fc2VsZWN0aW9uQ2hhbmdlKCk7DQogICAgICAgICAgICAvL+a4hemZpOS/neWtmOeahOmAieWMug0KICAgICAgICAgICAgbWUuX2Jha1JhbmdlID0gbWUuX2Jha0lFUmFuZ2UgPSBtZS5fYmFrTmF0aXZlUmFuZ2UgPSBudWxsOw0KICAgICAgICAgICAgLy90cmFjZToxNzQyIHNldENvbnRlbnTlkI5nZWNrb+iDveW+l+WIsOeEpueCuemXrumimA0KICAgICAgICAgICAgdmFyIGdlY2tvU2VsOw0KICAgICAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28gJiYgKGdlY2tvU2VsID0gdGhpcy5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkpKSB7DQogICAgICAgICAgICAgICAgZ2Vja29TZWwucmVtb3ZlQWxsUmFuZ2VzKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihtZS5vcHRpb25zLmF1dG9TeW5jRGF0YSl7DQogICAgICAgICAgICAgICAgbWUuZm9ybSAmJiBzZXRWYWx1ZShtZS5mb3JtLG1lKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6p57yW6L6R5Zmo6I635b6X54Sm54K577yM6buY6K6kZm9jdXPliLDnvJbovpHlmajlpLTpg6gNCiAgICAgICAgICogQG1ldGhvZCBmb2N1cw0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5mb2N1cygpDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6p57yW6L6R5Zmo6I635b6X54Sm54K577yMdG9FbmTnoa7lrppmb2N1c+S9jee9rg0KICAgICAgICAgKiBAbWV0aG9kIGZvY3VzDQogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSB0b0VuZCDpu5jorqRmb2N1c+WIsOe8lui+keWZqOWktOmDqO+8jHRvRW5k5Li6dHJ1ZeaXtmZvY3Vz5Yiw5YaF5a655bC+6YOoDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmZvY3VzKHRydWUpDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgZm9jdXM6IGZ1bmN0aW9uICh0b0VuZCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgICAgICBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICBpZiAodG9FbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBtZS5ib2R5Lmxhc3RDaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgaWYobm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEgJiYgIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEF0TGFzdChub2RlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcm5nLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZXRDdXJzb3IodHJ1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYoIXJuZy5jb2xsYXBzZWQgJiYgZG9tVXRpbHMuaXNCb2R5KHJuZy5zdGFydENvbnRhaW5lcikgJiYgcm5nLnN0YXJ0T2Zmc2V0ID09IDApew0KDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IG1lLmJvZHkuZmlyc3RDaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PSAxICYmICFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBybmcuc2VsZWN0KHRydWUpOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdmb2N1cyBzZWxlY3Rpb25jaGFuZ2UnKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KICAgICAgICBpc0ZvY3VzOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb24uaXNGb2N1cygpOw0KICAgICAgICB9LA0KICAgICAgICBibHVyOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICB2YXIgc2VsID0gdGhpcy5zZWxlY3Rpb24uZ2V0TmF0aXZlKCk7DQogICAgICAgICAgICBpZihzZWwuZW1wdHkgJiYgYnJvd3Nlci5pZSl7DQogICAgICAgICAgICAgICAgdmFyIG5hdGl2ZVJuZyA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7DQogICAgICAgICAgICAgICAgbmF0aXZlUm5nLm1vdmVUb0VsZW1lbnRUZXh0KGRvY3VtZW50LmJvZHkpOw0KICAgICAgICAgICAgICAgIG5hdGl2ZVJuZy5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICBuYXRpdmVSbmcuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgc2VsLmVtcHR5KCkNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL3RoaXMuZmlyZUV2ZW50KCdibHVyIHNlbGVjdGlvbmNoYW5nZScpOw0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5Yid5aeL5YyWVUXkuovku7blj4rpg6jliIbkuovku7bku6PnkIYNCiAgICAgICAgICogQG1ldGhvZCBfaW5pdEV2ZW50cw0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKi8NCiAgICAgICAgX2luaXRFdmVudHM6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgZG9jID0gbWUuZG9jdW1lbnQsDQogICAgICAgICAgICAgICAgd2luID0gbWUud2luZG93Ow0KICAgICAgICAgICAgbWUuX3Byb3h5RG9tRXZlbnQgPSB1dGlscy5iaW5kKG1lLl9wcm94eURvbUV2ZW50LCBtZSk7DQogICAgICAgICAgICBkb21VdGlscy5vbihkb2MsIFsnY2xpY2snLCAnY29udGV4dG1lbnUnLCAnbW91c2Vkb3duJywgJ2tleWRvd24nLCAna2V5dXAnLCAna2V5cHJlc3MnLCAnbW91c2V1cCcsICdtb3VzZW92ZXInLCAnbW91c2VvdXQnLCAnc2VsZWN0c3RhcnQnXSwgbWUuX3Byb3h5RG9tRXZlbnQpOw0KICAgICAgICAgICAgZG9tVXRpbHMub24od2luLCBbJ2ZvY3VzJywgJ2JsdXInXSwgbWUuX3Byb3h5RG9tRXZlbnQpOw0KICAgICAgICAgICAgZG9tVXRpbHMub24obWUuYm9keSwnZHJvcCcsZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgLy/pmLvmraJmZuS4i+m7mOiupOeahOW8ueWHuuaWsOmhtemdouaJk+W8gOWbvueJhw0KICAgICAgICAgICAgICAgIGlmKGJyb3dzZXIuZ2Vja28gJiYgZS5zdG9wUHJvcGFnYXRpb24pIHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfQ0KICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKGRvYywgWydtb3VzZXVwJywgJ2tleWRvd24nXSwgZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgICAgIC8v54m55q6K6ZSu5LiN6Kem5Y+Rc2VsZWN0aW9uY2hhbmdlDQogICAgICAgICAgICAgICAgaWYgKGV2dC50eXBlID09ICdrZXlkb3duJyAmJiAoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkgfHwgZXZ0LnNoaWZ0S2V5IHx8IGV2dC5hbHRLZXkpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGV2dC5idXR0b24gPT0gMilyZXR1cm47DQogICAgICAgICAgICAgICAgbWUuX3NlbGVjdGlvbkNoYW5nZSgyNTAsIGV2dCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOinpuWPkeS6i+S7tuS7o+eQhg0KICAgICAgICAgKiBAbWV0aG9kIF9wcm94eURvbUV2ZW50DQogICAgICAgICAqIEBwcml2YXRlDQogICAgICAgICAqIEByZXR1cm4geyAqIH0gZmlyZUV2ZW5055qE6L+U5Zue5YC8DQogICAgICAgICAqIEBzZWUgVUUuRXZlbnRCYXNlOmZpcmVFdmVudChTdHJpbmcpDQogICAgICAgICAqLw0KICAgICAgICBfcHJveHlEb21FdmVudDogZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgaWYodGhpcy5maXJlRXZlbnQoJ2JlZm9yZScgKyBldnQudHlwZS5yZXBsYWNlKC9eb24vLCAnJykudG9Mb3dlckNhc2UoKSkgPT09IGZhbHNlKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmZpcmVFdmVudChldnQudHlwZS5yZXBsYWNlKC9eb24vLCAnJyksIGV2dCkgPT09IGZhbHNlKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdGhpcy5maXJlRXZlbnQoJ2FmdGVyJyArIGV2dC50eXBlLnJlcGxhY2UoL15vbi8sICcnKS50b0xvd2VyQ2FzZSgpKQ0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5Y+Y5YyW6YCJ5Yy6DQogICAgICAgICAqIEBtZXRob2QgX3NlbGVjdGlvbkNoYW5nZQ0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKi8NCiAgICAgICAgX3NlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gKGRlbGF5LCBldnQpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICAvL+acieWFieagh+aJjeWBmnNlbGVjdGlvbmNoYW5nZSDkuLrkuobop6PlhrPmnKpmb2N1c+aXtueCueWHu3NvdXJjZeS4jeiDveinpuWPkeabtOaUueW3peWFt+agj+eKtuaAgeeahOmXrumimO+8iHNvdXJjZeWRveS7pG5vdE5lZWRVbmRvPTHvvIkNCi8vICAgICAgICAgICAgaWYgKCAhbWUuc2VsZWN0aW9uLmlzRm9jdXMoKSApew0KLy8gICAgICAgICAgICAgICAgcmV0dXJuOw0KLy8gICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgdmFyIGhhY2tGb3JNb3VzZVVwID0gZmFsc2U7DQogICAgICAgICAgICB2YXIgbW91c2VYLCBtb3VzZVk7DQogICAgICAgICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gPCA5ICYmIGV2dCAmJiBldnQudHlwZSA9PSAnbW91c2V1cCcpIHsNCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgICAgIGhhY2tGb3JNb3VzZVVwID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgbW91c2VYID0gZXZ0LmNsaWVudFg7DQogICAgICAgICAgICAgICAgICAgIG1vdXNlWSA9IGV2dC5jbGllbnRZOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNsZWFyVGltZW91dChfc2VsZWN0aW9uQ2hhbmdlVGltZXIpOw0KICAgICAgICAgICAgX3NlbGVjdGlvbkNoYW5nZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKCFtZS5zZWxlY3Rpb24gfHwgIW1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v5L+u5aSN5LiA5LiqSUXkuIvnmoRidWc6IOm8oOagh+eCueWHu+S4gOauteW3sumAieaLqeeahOaWh+acrOS4remXtOaXtu+8jOWPr+iDveWcqG1vdXNldXDlkI7nmoTkuIDmrrXml7bpl7TlhoXlj5bliLDnmoRyYW5nZeaYr+WcqHNlbGVjdGlvbueahHR5cGXkuLpOb25l5LiL55qE6ZSZ6K+v5YC8Lg0KICAgICAgICAgICAgICAgIC8vSUXkuIvlpoLmnpznlKjmiLfmmK/mi5bmi73kuIDmrrXlt7LpgInmi6nmlofmnKzvvIzliJnkuI3kvJrop6blj5Ftb3VzZXVw5LqL5Lu277yM5omA5Lul6L+Z6YeM55qE54m55q6K5aSE55CG5LiN5Lya5a+55YW25pyJ5b2x5ZONDQogICAgICAgICAgICAgICAgdmFyIGllUmFuZ2U7DQogICAgICAgICAgICAgICAgaWYgKGhhY2tGb3JNb3VzZVVwICYmIG1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS50eXBlID09ICdOb25lJykgew0KICAgICAgICAgICAgICAgICAgICBpZVJhbmdlID0gbWUuZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGllUmFuZ2UubW92ZVRvUG9pbnQobW91c2VYLCBtb3VzZVkpOw0KICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWVSYW5nZSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGJha0dldElFUmFuZ2U7DQogICAgICAgICAgICAgICAgaWYgKGllUmFuZ2UpIHsNCiAgICAgICAgICAgICAgICAgICAgYmFrR2V0SUVSYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRJRVJhbmdlOw0KICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpZVJhbmdlOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uY2FjaGUoKTsNCiAgICAgICAgICAgICAgICBpZiAoYmFrR2V0SUVSYW5nZSkgew0KICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZSA9IGJha0dldElFUmFuZ2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChtZS5zZWxlY3Rpb24uX2NhY2hlZFJhbmdlICYmIG1lLnNlbGVjdGlvbi5fY2FjaGVkU3RhcnRFbGVtZW50KSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYmVmb3Jlc2VsZWN0aW9uY2hhbmdlJyk7DQogICAgICAgICAgICAgICAgICAgIC8vIOesrOS6jOS4quWPguaVsGNhdXNlQnlVaeS4unRydWXku6PooajnlLHnlKjmiLfkuqTkupLpgKDmiJDnmoRzZWxlY3Rpb25jaGFuZ2UuDQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2VsZWN0aW9uY2hhbmdlJywgISFldnQpOw0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2FmdGVyc2VsZWN0aW9uY2hhbmdlJyk7DQogICAgICAgICAgICAgICAgICAgIG1lLnNlbGVjdGlvbi5jbGVhcigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sIGRlbGF5IHx8IDUwKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5omn6KGM57yW6L6R5ZG95LukDQogICAgICAgICAqIEBtZXRob2QgX2NhbGxDbWRGbg0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBmbk5hbWUg5Ye95pWw5ZCN56ewDQogICAgICAgICAqIEBwYXJhbSB7ICogfSBhcmdzIOS8oOe7meWRveS7pOWHveaVsOeahOWPguaVsA0KICAgICAgICAgKiBAcmV0dXJuIHsgKiB9IOi/lOWbnuWRveS7pOWHveaVsOi/kOihjOeahOi/lOWbnuWAvA0KICAgICAgICAgKi8NCiAgICAgICAgX2NhbGxDbWRGbjogZnVuY3Rpb24gKGZuTmFtZSwgYXJncykgew0KICAgICAgICAgICAgdmFyIGNtZE5hbWUgPSBhcmdzWzBdLnRvTG93ZXJDYXNlKCksDQogICAgICAgICAgICAgICAgY21kLCBjbWRGbjsNCiAgICAgICAgICAgIGNtZCA9IHRoaXMuY29tbWFuZHNbY21kTmFtZV0gfHwgVUUuY29tbWFuZHNbY21kTmFtZV07DQogICAgICAgICAgICBjbWRGbiA9IGNtZCAmJiBjbWRbZm5OYW1lXTsNCiAgICAgICAgICAgIC8v5rKh5pyJcXVlcnljb21tYW5kc3RhdGXmiJbogIXmsqHmnIljb21tYW5k55qE6YO96buY6K6k6L+U5ZueMA0KICAgICAgICAgICAgaWYgKCghY21kIHx8ICFjbWRGbikgJiYgZm5OYW1lID09ICdxdWVyeUNvbW1hbmRTdGF0ZScpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoY21kRm4pIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY21kRm4uYXBwbHkodGhpcywgYXJncyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOaJp+ihjOe8lui+keWRveS7pGNtZE5hbWXvvIzlrozmiJDlr4zmlofmnKznvJbovpHmlYjmnpwNCiAgICAgICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWROYW1lIOmcgOimgeaJp+ihjOeahOWRveS7pA0KICAgICAgICAgKiBAcmVtaW5kIOWFt+S9k+WRveS7pOeahOS9v+eUqOivt+WPguiAgzxhIGhyZWY9IiNDT01NQU5ELkxJU1QiPuWRveS7pOWIl+ihqDwvYT4NCiAgICAgICAgICogQHJldHVybiB7ICogfSDov5Tlm57lkb3ku6Tlh73mlbDov5DooYznmoTov5Tlm57lgLwNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoY21kTmFtZSk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWROYW1lKSB7DQogICAgICAgICAgICBjbWROYW1lID0gY21kTmFtZS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICByZXN1bHQsDQogICAgICAgICAgICAgICAgY21kID0gbWUuY29tbWFuZHNbY21kTmFtZV0gfHwgVUUuY29tbWFuZHNbY21kTmFtZV07DQogICAgICAgICAgICBpZiAoIWNtZCB8fCAhY21kLmV4ZWNDb21tYW5kKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoIWNtZC5ub3ROZWVkVW5kbyAmJiAhbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kKSB7DQogICAgICAgICAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBpZiAobWUucXVlcnlDb21tYW5kU3RhdGUuYXBwbHkobWUsYXJndW1lbnRzKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2JlZm9yZWV4ZWNjb21tYW5kJywgY21kTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuX2NhbGxDbWRGbignZXhlY0NvbW1hbmQnLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgICAgICAgICAoIWNtZC5pZ25vcmVDb250ZW50Q2hhbmdlICYmICFtZS5faWdub3JlQ29udGVudENoYW5nZSkgJiYgbWUuZmlyZUV2ZW50KCdjb250ZW50Y2hhbmdlJyk7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYWZ0ZXJleGVjY29tbWFuZCcsIGNtZE5hbWUpOw0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fY2FsbENtZEZuKCdleGVjQ29tbWFuZCcsIGFyZ3VtZW50cyk7DQogICAgICAgICAgICAgICAgKCFtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgJiYgIWNtZC5pZ25vcmVDb250ZW50Q2hhbmdlICYmICFtZS5faWdub3JlQ29udGVudENoYW5nZSkgJiYgbWUuZmlyZUV2ZW50KCdjb250ZW50Y2hhbmdlJykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICghbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kICYmICFjbWQuaWdub3JlQ29udGVudENoYW5nZSAmJiAhbWUuX2lnbm9yZUNvbnRlbnRDaGFuZ2UpICYmIG1lLl9zZWxlY3Rpb25DaGFuZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOagueaNruS8oOWFpeeahGNvbW1hbmTlkb3ku6TvvIzmn6XpgInnvJbovpHlmajlvZPliY3nmoTpgInljLrvvIzov5Tlm57lkb3ku6TnmoTnirbmgIENCiAgICAgICAgICogQG1ldGhvZCAgcXVlcnlDb21tYW5kU3RhdGUNCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kTmFtZSDpnIDopoHmn6Xor6LnmoTlkb3ku6TlkI3np7ANCiAgICAgICAgICogQHJlbWluZCDlhbfkvZPlkb3ku6TnmoTkvb/nlKjor7flj4LogIM8YSBocmVmPSIjQ09NTUFORC5MSVNUIj7lkb3ku6TliJfooag8L2E+DQogICAgICAgICAqIEByZXR1cm4geyBOdW1iZXIgfSBudW1iZXIg6L+U5Zue5pS+5YmN5ZG95Luk55qE54q25oCB77yM6L+U5Zue5YC85LiJ56eN5oOF5Ya177yaKC0xfDB8MSkNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kTmFtZSkgID0+ICgtMXwwfDEpDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKiBAc2VlIENPTU1BTkQuTElTVA0KICAgICAgICAgKi8NCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uIChjbWROYW1lKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FsbENtZEZuKCdxdWVyeUNvbW1hbmRTdGF0ZScsIGFyZ3VtZW50cyk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOagueaNruS8oOWFpeeahGNvbW1hbmTlkb3ku6TvvIzmn6XpgInnvJbovpHlmajlvZPliY3nmoTpgInljLrvvIzmoLnmja7lkb3ku6Tov5Tlm57nm7jlhbPnmoTlgLwNCiAgICAgICAgICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWROYW1lIOmcgOimgeafpeivoueahOWRveS7pOWQjeensA0KICAgICAgICAgKiBAcmVtaW5kIOWFt+S9k+WRveS7pOeahOS9v+eUqOivt+WPguiAgzxhIGhyZWY9IiNDT01NQU5ELkxJU1QiPuWRveS7pOWIl+ihqDwvYT4NCiAgICAgICAgICogQHJlbWluZCDlj6rmnInpg6jliIbmj5Lku7bmnInmraTmlrnms5UNCiAgICAgICAgICogQHJldHVybiB7ICogfSDov5Tlm57mr4/kuKrlkb3ku6TnibnlrprnmoTlvZPliY3nirbmgIHlgLwNCiAgICAgICAgICogQGdyYW1tYXIgZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZE5hbWUpICA9PiAgeyp9DQogICAgICAgICAqIEBzZWUgQ09NTUFORC5MSVNUDQogICAgICAgICAqLw0KICAgICAgICBxdWVyeUNvbW1hbmRWYWx1ZTogZnVuY3Rpb24gKGNtZE5hbWUpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsQ21kRm4oJ3F1ZXJ5Q29tbWFuZFZhbHVlJywgYXJndW1lbnRzKTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog5qOA5p+l57yW6L6R5Yy65Z+f5Lit5piv5ZCm5pyJ5YaF5a65DQogICAgICAgICAqIEBtZXRob2QgIGhhc0NvbnRlbnRzDQogICAgICAgICAqIEByZW1pbmQg6buY6K6k5pyJ5paH5pys5YaF5a6577yM5oiW6ICF5pyJ5Lul5LiL6IqC54K56YO95LiN6K6k5Li65piv56m6DQogICAgICAgICAqIHRhYmxlLHVsLG9sLGRsLGlmcmFtZSxhcmVhLGJhc2UsY29sLGhyLGltZyxlbWJlZCxpbnB1dCxsaW5rLG1ldGEscGFyYW0NCiAgICAgICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDmo4Dmn6XmnInlhoXlrrnov5Tlm550cnVl77yM5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3IuaGFzQ29udGVudHMoKQ0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOajgOafpee8lui+keWMuuWfn+S4reaYr+WQpuacieWGheWuue+8jOiLpeWMheWQq+WPguaVsHRhZ3PkuK3nmoToioLngrnnsbvlnovvvIznm7TmjqXov5Tlm550cnVlDQogICAgICAgICAqIEBtZXRob2QgIGhhc0NvbnRlbnRzDQogICAgICAgICAqIEBwYXJhbSB7IEFycmF5IH0gdGFncyDkvKDlhaXmlbDnu4TliKTmlq3ml7bnlKjliLDnmoToioLngrnnsbvlnosNCiAgICAgICAgICogQHJldHVybiB7IEJvb2xlYW4gfSDoi6XmlofmoaPkuK3ljIXlkKt0YWdz5pWw57uE6YeM5a+55bqU55qEdGFn77yM6L+U5ZuedHJ1Ze+8jOWQpuWImei/lOWbnmZhbHNlDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmhhc0NvbnRlbnRzKFsnc3BhbiddKTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBoYXNDb250ZW50czogZnVuY3Rpb24gKHRhZ3MpIHsNCiAgICAgICAgICAgIGlmICh0YWdzKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHRhZ3NbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2kpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKCFkb21VdGlscy5pc0VtcHR5QmxvY2sodGhpcy5ib2R5KSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+maj+aXtua3u+WKoCzlrprkuYnnmoTnibnmrormoIfnrb7lpoLmnpzlrZjlnKjvvIzkuI3og73orqTkuLrmmK/nqboNCiAgICAgICAgICAgIHRhZ3MgPSBbJ2RpdiddOw0KICAgICAgICAgICAgZm9yIChpID0gMDsgY2kgPSB0YWdzW2krK107KSB7DQogICAgICAgICAgICAgICAgdmFyIG5vZGVzID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy5kb2N1bWVudCwgY2kpOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwLCBjbjsgY24gPSBub2Rlc1tuKytdOykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNDdXN0b21lTm9kZShjbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDph43nva7nvJbovpHlmajvvIzlj6/nlKjmnaXlgZrlpJrkuKp0YWLkvb/nlKjlkIzkuIDkuKrnvJbovpHlmajlrp7kvosNCiAgICAgICAgICogQG1ldGhvZCAgcmVzZXQNCiAgICAgICAgICogQHJlbWluZCDmraTmlrnms5XkvJrmuIXnqbrnvJbovpHlmajlhoXlrrnvvIzmuIXnqbrlm57pgIDliJfooajvvIzkvJrop6blj5FyZXNldOS6i+S7tg0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5yZXNldCgpDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdyZXNldCcpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDorr7nva7lvZPliY3nvJbovpHljLrln5/lj6/ku6XnvJbovpENCiAgICAgICAgICogQG1ldGhvZCBzZXRFbmFibGVkDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNldEVuYWJsZWQoKQ0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldEVuYWJsZWQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsIHJhbmdlOw0KICAgICAgICAgICAgaWYgKG1lLmJvZHkuY29udGVudEVkaXRhYmxlID09ICdmYWxzZScpIHsNCiAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAvL+acieWPr+iDveWGheWuueS4ouWkseS6hg0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKG1lLmxhc3RCayk7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZS5sYXN0QmsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QXRGaXJzdChtZS5ib2R5KS5jb2xsYXBzZSh0cnVlKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKG1lLmJrcXVlcnlDb21tYW5kU3RhdGUpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUucXVlcnlDb21tYW5kU3RhdGUgPSBtZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlOw0KICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWUuYmtxdWVyeUNvbW1hbmRTdGF0ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzZWxlY3Rpb25jaGFuZ2UnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRFbmFibGVkKCk7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqIOiuvue9ruW9k+WJjee8lui+keWMuuWfn+S4jeWPr+e8lui+kQ0KICAgICAgICAgKiBAbWV0aG9kIHNldERpc2FibGVkDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKiDorr7nva7lvZPliY3nvJbovpHljLrln5/kuI3lj6/nvJbovpEsZXhjZXB05Lit55qE5ZG95Luk6Zmk5aSWDQogICAgICAgICAqIEBtZXRob2Qgc2V0RGlzYWJsZWQNCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gZXhjZXB0IOS+i+WkluWRveS7pOeahOWtl+espuS4sg0KICAgICAgICAgKiBAcmVtaW5kIOWNs+S9v+iuvue9ruS6hmRpc2FibGXvvIzmraTlpITphY3nva7nmoTkvovlpJblkb3ku6Tku43nhLblj6/ku6XmiafooYwNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2V0RGlzYWJsZWQoJ2JvbGQnKTsgLy/npoHnlKjlt6XlhbfmoI/kuK3pmaTliqDnspfkuYvlpJbnmoTmiYDmnInlip/og70NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KDQogICAgICAgIC8qKiDorr7nva7lvZPliY3nvJbovpHljLrln5/kuI3lj6/nvJbovpEsZXhjZXB05Lit55qE5ZG95Luk6Zmk5aSWDQogICAgICAgICAqIEBtZXRob2Qgc2V0RGlzYWJsZWQNCiAgICAgICAgICogQHBhcmFtIHsgQXJyYXkgfSBleGNlcHQg5L6L5aSW5ZG95Luk55qE5a2X56ym5Liy5pWw57uE77yM5pWw57uE5Lit55qE5ZG95Luk5LuN54S25Y+v5Lul5omn6KGMDQogICAgICAgICAqIEByZW1pbmQg5Y2z5L2/6K6+572u5LqGZGlzYWJsZe+8jOatpOWkhOmFjee9rueahOS+i+WkluWRveS7pOS7jeeEtuWPr+S7peaJp+ihjA0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5zZXREaXNhYmxlZChbJ2JvbGQnLCdpbnNlcnRpbWFnZSddKTsgLy/npoHnlKjlt6XlhbfmoI/kuK3pmaTliqDnspflkozmj5LlhaXlm77niYfkuYvlpJbnmoTmiYDmnInlip/og70NCiAgICAgICAgICogYGBgDQogICAgICAgICAqLw0KICAgICAgICBzZXREaXNhYmxlZDogZnVuY3Rpb24gKGV4Y2VwdCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIGV4Y2VwdCA9IGV4Y2VwdCA/IHV0aWxzLmlzQXJyYXkoZXhjZXB0KSA/IGV4Y2VwdCA6IFtleGNlcHRdIDogW107DQogICAgICAgICAgICBpZiAobWUuYm9keS5jb250ZW50RWRpdGFibGUgPT0gJ3RydWUnKSB7DQogICAgICAgICAgICAgICAgaWYgKCFtZS5sYXN0QmspIHsNCiAgICAgICAgICAgICAgICAgICAgbWUubGFzdEJrID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuY3JlYXRlQm9va21hcmsodHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG1lLmJvZHkuY29udGVudEVkaXRhYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgbWUuYmtxdWVyeUNvbW1hbmRTdGF0ZSA9IG1lLnF1ZXJ5Q29tbWFuZFN0YXRlOw0KICAgICAgICAgICAgICAgIG1lLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24gKHR5cGUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHV0aWxzLmluZGV4T2YoZXhjZXB0LCB0eXBlKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lLmJrcXVlcnlDb21tYW5kU3RhdGUuYXBwbHkobWUsIGFyZ3VtZW50cyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzZWxlY3Rpb25jaGFuZ2UnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZGlzYWJsZTogZnVuY3Rpb24gKGV4Y2VwdCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGlzYWJsZWQoZXhjZXB0KTsNCiAgICAgICAgfSwNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6K6+572u6buY6K6k5YaF5a65DQogICAgICAgICAqIEBtZXRob2QgX3NldERlZmF1bHRDb250ZW50DQogICAgICAgICAqIEBwcml2YXRlDQogICAgICAgICAqIEBwYXJhbSAgeyBTdHJpbmcgfSBjb250IOimgeWtmOWFpeeahOWGheWuuQ0KICAgICAgICAgKi8NCiAgICAgICAgX3NldERlZmF1bHRDb250ZW50OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBmdW5jdGlvbiBjbGVhcigpIHsNCiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgICAgIGlmIChtZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5pdENvbnRlbnQnKSkgew0KICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmlubmVySFRNTCA9ICc8cD4nICsgKGllID8gJycgOiAnPGJyLz4nKSArICc8L3A+JzsNCiAgICAgICAgICAgICAgICAgICAgbWUucmVtb3ZlTGlzdGVuZXIoJ2ZpcnN0QmVmb3JlRXhlY0NvbW1hbmQgZm9jdXMnLCBjbGVhcik7DQogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9zZWxlY3Rpb25DaGFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgMCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udCkgew0KICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICAgICAgbWUuYm9keS5pbm5lckhUTUwgPSAnPHAgaWQ9ImluaXRDb250ZW50Ij4nICsgY29udCArICc8L3A+JzsNCg0KICAgICAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdmaXJzdEJlZm9yZUV4ZWNDb21tYW5kIGZvY3VzJywgY2xlYXIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KCksDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOaYvuekuue8lui+keWZqA0KICAgICAgICAgKiBAbWV0aG9kIHNldFNob3cNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3Iuc2V0U2hvdygpDQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgc2V0U2hvdzogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgIGlmIChtZS5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9PSAnbm9uZScpIHsNCiAgICAgICAgICAgICAgICAvL+acieWPr+iDveWGheWuueS4ouWkseS6hg0KICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKG1lLmxhc3RCayk7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZS5sYXN0QmsNCiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QXRGaXJzdChtZS5ib2R5KS5jb2xsYXBzZSh0cnVlKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAvL2ll5LiLZm9jdXPlrp7mlYjvvIzmiYDku6XlgZrkuobkuKrlu7bov58NCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgIH0sIDEwMCk7DQogICAgICAgICAgICAgICAgbWUuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9LA0KICAgICAgICBzaG93OiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRTaG93KCk7DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDpmpDol4/nvJbovpHlmagNCiAgICAgICAgICogQG1ldGhvZCBzZXRIaWRlDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnNldEhpZGUoKQ0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIHNldEhpZGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBpZiAoIW1lLmxhc3RCaykgew0KICAgICAgICAgICAgICAgIG1lLmxhc3RCayA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUJvb2ttYXJrKHRydWUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbWUuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScNCiAgICAgICAgfSwNCiAgICAgICAgaGlkZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0SGlkZSgpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmoLnmja7mjIflrprnmoTot6/lvoTvvIzojrflj5blr7nlupTnmoTor63oqIDotYTmupANCiAgICAgICAgICogQG1ldGhvZCBnZXRMYW5nDQogICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IHBhdGgg6Lev5b6E5qC55o2u55qE5pivbGFuZ+ebruW9leS4i+eahOivreiogOaWh+S7tueahOi3r+W+hOe7k+aehA0KICAgICAgICAgKiBAcmV0dXJuIHsgT2JqZWN0IHwgU3RyaW5nIH0g5qC55o2u6Lev5b6E6L+U5Zue6K+t6KiA6LWE5rqQ55qESnNvbuagvOW8j+WvueixoeaIluiAheivreiogOWtl+espuS4sg0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5nZXRMYW5nKCdjb250ZXh0TWVudS5kZWxldGUnKTsgLy/lpoLmnpzlvZPliY3mmK/kuK3mlofvvIzpgqPov5Tlm57mmK/nmoTmmK8n5Yig6ZmkJw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldExhbmc6IGZ1bmN0aW9uIChwYXRoKSB7DQogICAgICAgICAgICB2YXIgbGFuZyA9IFVFLkkxOE5bdGhpcy5vcHRpb25zLmxhbmddOw0KICAgICAgICAgICAgaWYgKCFsYW5nKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoIm5vdCBpbXBvcnQgbGFuZ3VhZ2UgZmlsZSIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcGF0aCA9IChwYXRoIHx8ICIiKS5zcGxpdCgiLiIpOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHBhdGhbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBsYW5nID0gbGFuZ1tjaV07DQogICAgICAgICAgICAgICAgaWYgKCFsYW5nKWJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIGxhbmc7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiuoeeul+e8lui+keWZqGh0bWzlhoXlrrnlrZfnrKbkuLLnmoTplb/luqYNCiAgICAgICAgICogQG1ldGhvZCAgZ2V0Q29udGVudExlbmd0aA0KICAgICAgICAgKiBAcmV0dXJuIHsgTnVtYmVyIH0g6L+U5Zue6K6h566X55qE6ZW/5bqmDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogLy/nvJbovpHlmahodG1s5YaF5a65PHA+PHN0cm9uZz4xMzI8L3N0cm9uZz48L3A+DQogICAgICAgICAqIGVkaXRvci5nZXRDb250ZW50TGVuZ3RoKCkgLy/ov5Tlm54yNw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIC8qKg0KICAgICAgICAgKiDorqHnrpfnvJbovpHlmajlvZPliY3nuq/mlofmnKzlhoXlrrnnmoTplb/luqYNCiAgICAgICAgICogQG1ldGhvZCAgZ2V0Q29udGVudExlbmd0aA0KICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gaW5nb25lSHRtbCDkvKDlhaV0cnVl5pe277yM5Y+q5oyJ54Wn57qv5paH5pys5p2l6K6h566XDQogICAgICAgICAqIEByZXR1cm4geyBOdW1iZXIgfSDov5Tlm57orqHnrpfnmoTplb/luqbvvIzlhoXlrrnkuK3mnIloci9pbWcvaWZyYW1l5qCH562+77yM6ZW/5bqm5YqgMQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIC8v57yW6L6R5ZmoaHRtbOWGheWuuTxwPjxzdHJvbmc+MTMyPC9zdHJvbmc+PC9wPg0KICAgICAgICAgKiBlZGl0b3IuZ2V0Q29udGVudExlbmd0aCgpIC8v6L+U5ZueMw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGdldENvbnRlbnRMZW5ndGg6IGZ1bmN0aW9uIChpbmdvbmVIdG1sLCB0YWdOYW1lcykgew0KICAgICAgICAgICAgdmFyIGNvdW50ID0gdGhpcy5nZXRDb250ZW50KGZhbHNlLGZhbHNlLHRydWUpLmxlbmd0aDsNCiAgICAgICAgICAgIGlmIChpbmdvbmVIdG1sKSB7DQogICAgICAgICAgICAgICAgdGFnTmFtZXMgPSAodGFnTmFtZXMgfHwgW10pLmNvbmNhdChbICdocicsICdpbWcnLCAnaWZyYW1lJ10pOw0KICAgICAgICAgICAgICAgIGNvdW50ID0gdGhpcy5nZXRDb250ZW50VHh0KCkucmVwbGFjZSgvW1x0XHJcbl0rL2csICcnKS5sZW5ndGg7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHRhZ05hbWVzW2krK107KSB7DQogICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IHRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2kpLmxlbmd0aDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gY291bnQ7DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOazqOWGjOi+k+WFpei/h+a7pOinhOWImQ0KICAgICAgICAgKiBAbWV0aG9kICBhZGRJbnB1dFJ1bGUNCiAgICAgICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBydWxlIOimgea3u+WKoOeahOi/h+a7pOinhOWImQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5hZGRJbnB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7DQogICAgICAgICAqICAgJC5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ2RpdicpLGZ1bmN0aW9uKGksbm9kZSl7DQogICAgICAgICAqICAgICAgIG5vZGUudGFnTmFtZT0icCI7DQogICAgICAgICAqICAgfSk7DQogICAgICAgICAqIH0pOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQogICAgICAgIGFkZElucHV0UnVsZTogZnVuY3Rpb24gKHJ1bGUpIHsNCiAgICAgICAgICAgIHRoaXMuaW5wdXRSdWxlcy5wdXNoKHJ1bGUpOw0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmiafooYzms6jlhoznmoTov4fmu6Top4TliJkNCiAgICAgICAgICogQG1ldGhvZCAgZmlsdGVySW5wdXRSdWxlDQogICAgICAgICAqIEBwYXJhbSB7IFVFLnVOb2RlIH0gcm9vdCDopoHov4fmu6TnmoR1Tm9kZeiKgueCuQ0KICAgICAgICAgKiBAcmVtaW5kIOaJp+ihjGVkaXRvci5zZXRDb250ZW505pa55rOV5ZKM5omn6KGMJ2luc2VydGh0bWwn5ZG95Luk5ZCO77yM5Lya6L+Q6KGM6K+l6L+H5ruk5Ye95pWwDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmZpbHRlcklucHV0UnVsZShlZGl0b3IuYm9keSk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKiBAc2VlIFVFLkVkaXRvcjphZGRJbnB1dFJ1bGUNCiAgICAgICAgICovDQogICAgICAgIGZpbHRlcklucHV0UnVsZTogZnVuY3Rpb24gKHJvb3QpIHsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0aGlzLmlucHV0UnVsZXNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBjaS5jYWxsKHRoaXMsIHJvb3QpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOazqOWGjOi+k+WHuui/h+a7pOinhOWImQ0KICAgICAgICAgKiBAbWV0aG9kICBhZGRPdXRwdXRSdWxlDQogICAgICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gcnVsZSDopoHmt7vliqDnmoTov4fmu6Top4TliJkNCiAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICogYGBgamF2YXNjcmlwdA0KICAgICAgICAgKiBlZGl0b3IuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXsNCiAgICAgICAgICogICAkLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgncCcpLGZ1bmN0aW9uKGksbm9kZSl7DQogICAgICAgICAqICAgICAgIG5vZGUudGFnTmFtZT0iZGl2IjsNCiAgICAgICAgICogICB9KTsNCiAgICAgICAgICogfSk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCiAgICAgICAgYWRkT3V0cHV0UnVsZTogZnVuY3Rpb24gKHJ1bGUpIHsNCiAgICAgICAgICAgIHRoaXMub3V0cHV0UnVsZXMucHVzaChydWxlKQ0KICAgICAgICB9LA0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmoLnmja7ovpPlh7rov4fmu6Top4TliJnvvIzov4fmu6TnvJbovpHlmajlhoXlrrkNCiAgICAgICAgICogQG1ldGhvZCAgZmlsdGVyT3V0cHV0UnVsZQ0KICAgICAgICAgKiBAcmVtaW5kIOaJp+ihjGVkaXRvci5nZXRDb250ZW505pa55rOV55qE5pe25YCZ77yM5Lya5YWI6L+Q6KGM6K+l6L+H5ruk5Ye95pWwDQogICAgICAgICAqIEBwYXJhbSB7IFVFLnVOb2RlIH0gcm9vdCDopoHov4fmu6TnmoR1Tm9kZeiKgueCuQ0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqIGVkaXRvci5maWx0ZXJPdXRwdXRSdWxlKGVkaXRvci5ib2R5KTsNCiAgICAgICAgICogYGBgDQogICAgICAgICAqIEBzZWUgVUUuRWRpdG9yOmFkZE91dHB1dFJ1bGUNCiAgICAgICAgICovDQogICAgICAgIGZpbHRlck91dHB1dFJ1bGU6IGZ1bmN0aW9uIChyb290KSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5vdXRwdXRSdWxlc1tpKytdOykgew0KICAgICAgICAgICAgICAgIGNpLmNhbGwodGhpcywgcm9vdCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhFZGl0b3IsIEV2ZW50QmFzZSk7DQp9KSgpOw0KDQovKioNCiAqIEBmaWxlDQogKiBAbW9kdWxlIFVFLmFqYXgNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDmj5Dkvpvlr7lhamF46K+35rGC55qE5pSv5oyBDQogKiBAbW9kdWxlIFVFLmFqYXgNCiAqLw0KVUUuYWpheCA9IGZ1bmN0aW9uKCkgew0KDQogICAgLy/liJvlu7rkuIDkuKphamF4UmVxdWVzdOWvueixoQ0KICAgIHZhciBmblN0ciA9ICdYTUxIdHRwUmVxdWVzdCgpJzsNCiAgICB0cnkgew0KICAgICAgICBuZXcgQWN0aXZlWE9iamVjdCgiTXN4bWwyLlhNTEhUVFAiKTsNCiAgICAgICAgZm5TdHIgPSAnQWN0aXZlWE9iamVjdChcJ01zeG1sMi5YTUxIVFRQXCcpJzsNCiAgICB9IGNhdGNoIChlKSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTsNCiAgICAgICAgICAgIGZuU3RyID0gJ0FjdGl2ZVhPYmplY3QoXCdNaWNyb3NvZnQuWE1MSFRUUFwnKScNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICB9DQogICAgfQ0KICAgIHZhciBjcmVhdEFqYXhSZXF1ZXN0ID0gbmV3IEZ1bmN0aW9uKCdyZXR1cm4gbmV3ICcgKyBmblN0cik7DQoNCg0KICAgIC8qDQogICAgICog5bCGanNvbuWPguaVsOi9rOWMluaIkOmAguWQiGFqYXjmj5DkuqTnmoTlj4LmlbDliJfooagNCiAgICAgKiBAcGFyYW0ganNvbg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGpzb24yc3RyKGpzb24pIHsNCiAgICAgICAgdmFyIHN0ckFyciA9IFtdOw0KICAgICAgICBmb3IgKHZhciBpIGluIGpzb24pIHsNCiAgICAgICAgICAgIC8v5b+955Wl6buY6K6k55qE5Yeg5Liq5Y+C5pWwDQogICAgICAgICAgICBpZihpPT0ibWV0aG9kIiB8fCBpPT0idGltZW91dCIgfHwgaT09ImFzeW5jIikgY29udGludWU7DQogICAgICAgICAgICAvL+S8oOmAkui/h+adpeeahOWvueixoeWSjOWHveaVsOS4jeWcqOaPkOS6pOS5i+WIlw0KICAgICAgICAgICAgaWYgKCEoKHR5cGVvZiBqc29uW2ldKS50b0xvd2VyQ2FzZSgpID09ICJmdW5jdGlvbiIgfHwgKHR5cGVvZiBqc29uW2ldKS50b0xvd2VyQ2FzZSgpID09ICJvYmplY3QiKSkgew0KICAgICAgICAgICAgICAgIHN0ckFyci5wdXNoKCBlbmNvZGVVUklDb21wb25lbnQoaSkgKyAiPSIrZW5jb2RlVVJJQ29tcG9uZW50KGpzb25baV0pICk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN0ckFyci5qb2luKCImIik7DQoNCiAgICB9DQoNCg0KICAgIHJldHVybiB7DQogICAgICAgIC8qKg0KICAgICAgICAgKiDmoLnmja7nu5nlrprnmoTlj4LmlbDpobnvvIzlkJHmjIflrprnmoR1cmzlj5HotbfkuIDkuKphamF46K+35rGC44CCIGFqYXjor7fmsYLlrozmiJDlkI7vvIzkvJrmoLnmja7or7fmsYLnu5PmnpzosIPnlKjnm7jlupTlm57osIPvvJog5aaC5p6c6K+35rGCDQogICAgICAgICAqIOaIkOWKn++8jCDliJnosIPnlKhvbnN1Y2Nlc3Plm57osIPvvIwg5aSx6LSl5YiZ6LCD55SoIG9uZXJyb3Ig5Zue6LCDDQogICAgICAgICAqIEBtZXRob2QgcmVxdWVzdA0KICAgICAgICAgKiBAcGFyYW0geyBVUkxTdHJpbmcgfSB1cmwgYWpheOivt+axgueahHVybOWcsOWdgA0KICAgICAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBhamF4T3B0aW9ucyBhamF46K+35rGC6YCJ6aG555qE6ZSu5YC85a+577yM5pSv5oyB55qE6YCJ6aG55aaC5LiL77yaDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogLy/lkJFzYXloZWxsby5waHDlj5HotbfkuIDkuKrlvILmraXnmoRBamF4IEdFVOivt+axgiwg6K+35rGC6LaF5pe25pe26Ze05Li6MTBz77yMIOivt+axguWujOaIkOWQjuaJp+ihjOebuOW6lOeahOWbnuiwg+OAgg0KICAgICAgICAgKiBVRS5hamF4LnJlcXVlc2V0KCAnc2F5aGVsbG8ucGhwJywgew0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/or7fmsYLmlrnms5XjgILlj6/pgInlgLzvvJogJ0dFVCcsICdQT1NUJ++8jOm7mOiupOWAvOaYrydQT1NUJw0KICAgICAgICAgKiAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v6LaF5pe25pe26Ze044CCIOm7mOiupOS4ujUwMDDvvIwg5Y2V5L2N5pivbXMNCiAgICAgICAgICogICAgIHRpbWVvdXQ6IDEwMDAwLA0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/mmK/lkKbmmK/lvILmraXor7fmsYLjgIIgdHJ1ZeS4uuW8guatpeivt+axgu+8jCBmYWxzZeS4uuWQjOatpeivt+axgg0KICAgICAgICAgKiAgICAgYXN5bmM6IHRydWUsDQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+ivt+axguaQuuW4pueahOaVsOaNruOAguWmguaenOivt+axguS4ukdFVOivt+axgu+8jCBkYXRh5Lya57uP6L+Hc3RyaW5naWZ55ZCO6ZmE5Yqg5Yiw6K+35rGCdXJs5LmL5ZCO44CCDQogICAgICAgICAqICAgICBkYXRhOiB7DQogICAgICAgICAqICAgICAgICAgbmFtZTogJ3VlZGl0b3InDQogICAgICAgICAqICAgICB9LA0KICAgICAgICAgKg0KICAgICAgICAgKiAgICAgLy/or7fmsYLmiJDlip/lkI7nmoTlm57osIPvvIwg6K+l5Zue6LCD5o6l5Y+X5b2T5YmN55qEWE1MSHR0cFJlcXVlc3Tlr7nosaHkvZzkuLrlj4LmlbDjgIINCiAgICAgICAgICogICAgIG9uc3VjY2VzczogZnVuY3Rpb24gKCB4aHIgKSB7DQogICAgICAgICAqICAgICAgICAgY29uc29sZS5sb2coIHhoci5yZXNwb25zZVRleHQgKTsNCiAgICAgICAgICogICAgIH0sDQogICAgICAgICAqDQogICAgICAgICAqICAgICAvL+ivt+axguWksei0peaIluiAhei2heaXtuWQjueahOWbnuiwg+OAgg0KICAgICAgICAgKiAgICAgb25lcnJvcjogZnVuY3Rpb24gKCB4aHIgKSB7DQogICAgICAgICAqICAgICAgICAgIGFsZXJ0KCAnQWpheOivt+axguWksei0pScgKTsNCiAgICAgICAgICogICAgIH0NCiAgICAgICAgICoNCiAgICAgICAgICogfSApOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOagueaNrue7meWumueahOWPguaVsOmhueWPkei1t+S4gOS4qmFqYXjor7fmsYLvvIwg5Y+C5pWw6aG56YeM5b+F6aG75YyF5ZCr5LiA5LiqdXJs5Zyw5Z2A44CCIGFqYXjor7fmsYLlrozmiJDlkI7vvIzkvJrmoLnmja7or7fmsYLnu5PmnpzosIPnlKjnm7jlupTlm57osIPvvJog5aaC5p6c6K+35rGCDQogICAgICAgICAqIOaIkOWKn++8jCDliJnosIPnlKhvbnN1Y2Nlc3Plm57osIPvvIwg5aSx6LSl5YiZ6LCD55SoIG9uZXJyb3Ig5Zue6LCD44CCDQogICAgICAgICAqIEBtZXRob2QgcmVxdWVzdA0KICAgICAgICAgKiBAd2FybmluZyDlpoLmnpzlnKjlj4LmlbDpobnph4zmnKrmj5DkvpvkuIDkuKprZXnkuLrigJx1cmzigJ3nmoTlnLDlnYDlgLzvvIzliJnor6Xor7fmsYLlsIbnm7TmjqXpgIDlh7rjgIINCiAgICAgICAgICogQHBhcmFtIHsgT2JqZWN0IH0gYWpheE9wdGlvbnMgYWpheOivt+axgumAiemhueeahOmUruWAvOWvue+8jOaUr+aMgeeahOmAiemhueWmguS4i++8mg0KICAgICAgICAgKiBAZXhhbXBsZQ0KICAgICAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICAgICAqDQogICAgICAgICAqIC8v5ZCRc2F5aGVsbG8ucGhw5Y+R6LW35LiA5Liq5byC5q2l55qEQWpheCBQT1NU6K+35rGCLCDor7fmsYLotoXml7bml7bpl7TkuLo1c++8jCDor7fmsYLlrozmiJDlkI7kuI3miafooYzku7vkvZXlm57osIPjgIINCiAgICAgICAgICogVUUuYWpheC5yZXF1ZXNldCggJ3NheWhlbGxvLnBocCcsIHsNCiAgICAgICAgICoNCiAgICAgICAgICogICAgIC8v6K+35rGC55qE5Zyw5Z2A77yMIOivpemhueaYr+W/hemhu+eahOOAgg0KICAgICAgICAgKiAgICAgdXJsOiAnc2F5aGVsbG8ucGhwJw0KICAgICAgICAgKg0KICAgICAgICAgKiB9ICk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCgkJcmVxdWVzdDpmdW5jdGlvbih1cmwsIGFqYXhPcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgYWpheFJlcXVlc3QgPSBjcmVhdEFqYXhSZXF1ZXN0KCksDQogICAgICAgICAgICAgICAgLy/mmK/lkKbotoXml7YNCiAgICAgICAgICAgICAgICB0aW1lSXNPdXQgPSBmYWxzZSwNCiAgICAgICAgICAgICAgICAvL+m7mOiupOWPguaVsA0KICAgICAgICAgICAgICAgIGRlZmF1bHRBamF4T3B0aW9ucyA9IHsNCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiJQT1NUIiwNCiAgICAgICAgICAgICAgICAgICAgdGltZW91dDo1MDAwLA0KICAgICAgICAgICAgICAgICAgICBhc3luYzp0cnVlLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOnt9LC8v6ZyA6KaB5Lyg6YCS5a+56LGh55qE6K+d5Y+q6IO96KaG55uWDQogICAgICAgICAgICAgICAgICAgIG9uc3VjY2VzczpmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgb25lcnJvcjpmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQoNCgkJCWlmICh0eXBlb2YgdXJsID09PSAib2JqZWN0Iikgew0KCQkJCWFqYXhPcHRpb25zID0gdXJsOw0KCQkJCXVybCA9IGFqYXhPcHRpb25zLnVybDsNCgkJCX0NCgkJCWlmICghYWpheFJlcXVlc3QgfHwgIXVybCkgcmV0dXJuOw0KCQkJdmFyIGFqYXhPcHRzID0gYWpheE9wdGlvbnMgPyB1dGlscy5leHRlbmQoZGVmYXVsdEFqYXhPcHRpb25zLGFqYXhPcHRpb25zKSA6IGRlZmF1bHRBamF4T3B0aW9uczsNCg0KCQkJdmFyIHN1Ym1pdFN0ciA9IGpzb24yc3RyKGFqYXhPcHRzKTsgIC8vIHsgbmFtZToiSmltIixjaXR5OiJCZWlqaW5nIiB9IC0tPiAibmFtZT1KaW0mY2l0eT1CZWlqaW5nIg0KCQkJLy/lpoLmnpznlKjmiLfnm7TmjqXpgJrov4dkYXRh5Y+C5pWw5Lyg6YCSanNvbuWvueixoei/h+adpe+8jOWImeS5n+imgeWwhuatpGpzb27lr7nosaHovazljJbkuLrlrZfnrKbkuLINCgkJCWlmICghdXRpbHMuaXNFbXB0eU9iamVjdChhamF4T3B0cy5kYXRhKSl7DQogICAgICAgICAgICAgICAgc3VibWl0U3RyICs9IChzdWJtaXRTdHI/ICImIjoiIikgKyBqc29uMnN0cihhamF4T3B0cy5kYXRhKTsNCgkJCX0NCiAgICAgICAgICAgIC8v6LaF5pe25qOA5rWLDQogICAgICAgICAgICB2YXIgdGltZXJJRCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgaWYgKGFqYXhSZXF1ZXN0LnJlYWR5U3RhdGUgIT0gNCkgew0KICAgICAgICAgICAgICAgICAgICB0aW1lSXNPdXQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBhamF4UmVxdWVzdC5hYm9ydCgpOw0KICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJRCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwgYWpheE9wdHMudGltZW91dCk7DQoNCgkJCXZhciBtZXRob2QgPSBhamF4T3B0cy5tZXRob2QudG9VcHBlckNhc2UoKTsNCiAgICAgICAgICAgIHZhciBzdHIgPSB1cmwgKyAodXJsLmluZGV4T2YoIj8iKT09LTE/Ij8iOiImIikgKyAobWV0aG9kPT0iUE9TVCI/IiI6c3VibWl0U3RyKyAiJm5vQ2FjaGU9IiArICtuZXcgRGF0ZSk7DQoJCQlhamF4UmVxdWVzdC5vcGVuKG1ldGhvZCwgc3RyLCBhamF4T3B0cy5hc3luYyk7DQoJCQlhamF4UmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHsNCgkJCQlpZiAoYWpheFJlcXVlc3QucmVhZHlTdGF0ZSA9PSA0KSB7DQoJCQkJCWlmICghdGltZUlzT3V0ICYmIGFqYXhSZXF1ZXN0LnN0YXR1cyA9PSAyMDApIHsNCgkJCQkJCWFqYXhPcHRzLm9uc3VjY2VzcyhhamF4UmVxdWVzdCk7DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlhamF4T3B0cy5vbmVycm9yKGFqYXhSZXF1ZXN0KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCX07DQoJCQlpZiAobWV0aG9kID09ICJQT1NUIikgew0KCQkJCWFqYXhSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTsNCgkJCQlhamF4UmVxdWVzdC5zZW5kKHN1Ym1pdFN0cik7DQoJCQl9IGVsc2Ugew0KCQkJCWFqYXhSZXF1ZXN0LnNlbmQobnVsbCk7DQoJCQl9DQoJCX0NCgl9Ow0KDQoNCn0oKTsNCg0KLyoqDQogKiBVRei/h+a7pHdvcmTnmoTpnZnmgIHmlrnms5UNCiAqIEBmaWxlDQogKi8NCg0KLyoqDQogKiBVRWRpdG9y5YWs55So56m66Ze077yMVUVkaXRvcuaJgOacieeahOWKn+iDvemDveaMgui9veWcqOivpeepuumXtOS4iw0KICogQG1vZHVsZSBVRQ0KICovDQoNCg0KLyoqDQogKiDmoLnmja7kvKDlhaVodG1s5a2X56ym5Liy6L+H5rukd29yZA0KICogQG1vZHVsZSBVRQ0KICogQHNpbmNlIDEuMi42LjENCiAqIEBtZXRob2QgZmlsdGVyV29yZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gaHRtbCBodG1s5a2X56ym5LiyDQogKiBAcmV0dXJuIHsgU3RyaW5nIH0g5bey6L+H5ruk5ZCO55qE57uT5p6c5a2X56ym5LiyDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogVUUuZmlsdGVyV29yZChodG1sKTsNCiAqIGBgYA0KICovDQp2YXIgZmlsdGVyV29yZCA9IFVFLmZpbHRlcldvcmQgPSBmdW5jdGlvbiAoKSB7DQoNCiAgICAvL+aYr+WQpuaYr3dvcmTov4fmnaXnmoTlhoXlrrkNCiAgICBmdW5jdGlvbiBpc1dvcmREb2N1bWVudCggc3RyICkgew0KICAgICAgICByZXR1cm4gLyhjbGFzcz0iP01zb3xzdHlsZT0iW14iXSpcYm1zb1wtfHc6V29yZERvY3VtZW50fDwodnxvKTp8bGFuZz0pL2lnLnRlc3QoIHN0ciApOw0KICAgIH0NCiAgICAvL+WOu+aOieWwj+aVsA0KICAgIGZ1bmN0aW9uIHRyYW5zVW5pdCggdiApIHsNCiAgICAgICAgdiA9IHYucmVwbGFjZSggL1tcZC5dK1x3Ky9nLCBmdW5jdGlvbiAoIG0gKSB7DQogICAgICAgICAgICByZXR1cm4gdXRpbHMudHJhbnNVbml0VG9QeChtKTsNCiAgICAgICAgfSApOw0KICAgICAgICByZXR1cm4gdjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBmaWx0ZXJQYXN0ZVdvcmQoIHN0ciApIHsNCiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bXHRcclxuXSsvZywnICcpDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIC88IS0tW1xzXFNdKj8tLT4vaWcsICIiICkNCiAgICAgICAgICAgICAgICAvL+i9rOaNouWbvueJhw0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88djpzaGFwZSBbXj5dKj5bXHNcU10qPy48XC92OnNoYXBlPi9naSxmdW5jdGlvbihzdHIpew0KICAgICAgICAgICAgICAgICAgICAvL29wZXJh6IO96Ieq5bex6Kej5p6Q5Ye6aW1hZ2XmiYDov5nph4znm7TmjqXov5Tlm57nqboNCiAgICAgICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5vcGVyYSl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mnInlj6/og73mmK9iaXRtYXDljaDkuLrlm77vvIzml6DnlKjvvIznm7TmjqXov4fmu6TmjonvvIzkuLvopoHkvZPnjrDlnKjnspjotLRleGNlbOihqOagvOS4rQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoL0JpdG1hcC9pLnRlc3Qoc3RyKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gc3RyLm1hdGNoKC93aWR0aDooWyBcZC5dKnBbdHhdKS9pKVsxXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzdHIubWF0Y2goL2hlaWdodDooWyBcZC5dKnBbdHhdKS9pKVsxXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmMgPSAgc3RyLm1hdGNoKC9zcmM9XHMqIihbXiJdKikiL2kpWzFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8aW1nIHdpZHRoPSInKyB0cmFuc1VuaXQod2lkdGgpICsnIiBoZWlnaHQ9IicrdHJhbnNVbml0KGhlaWdodCkgKyciIHNyYz0iJyArIHNyYyArICciIC8+JzsNCiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLy/pkojlr7l3cHPmt7vliqDnmoTlpJrkvZnmoIfnrb7lpITnkIYNCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvPFwvP2RpdltePl0qPi9nLCcnKQ0KICAgICAgICAgICAgICAgIC8v5Y675o6J5aSa5L2Z55qE5bGe5oCnDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIC92Olx3Kz0oWyInXT8pW14nIl0rXDEvZywgJycgKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKCAvPCghfHNjcmlwdFtePl0qPi4qPzxcL3NjcmlwdCg/PVs+XHNdKXxcLz8oXD94bWwoOlx3Kyk/fHhtbHxtZXRhfGxpbmt8c3R5bGV8XHcrOlx3KykoPz1bXHNcLz5dKSlbXj5dKj4vZ2ksICIiICkNCiAgICAgICAgICAgICAgICAucmVwbGFjZSggLzxwIFtePl0qY2xhc3M9Ij9Nc29IZWFkaW5nIj9bXj5dKj4oLio/KTxcL3A+L2dpLCAiPHA+PHN0cm9uZz4kMTwvc3Ryb25nPjwvcD4iICkNCiAgICAgICAgICAgICAgICAvL+WOu+aOieWkmuS9meeahOWxnuaApw0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKCAvXHMrKGNsYXNzfGxhbmd8YWxpZ24pXHMqPVxzKihbJyJdPykoW1x3LV0rKVwyL2lnLCBmdW5jdGlvbihzdHIsbmFtZSxtYXJrcyx2YWwpew0KICAgICAgICAgICAgICAgICAgICAvL+S/neeVmWxpc3TnmoTmoIfnpLoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT0gJ2NsYXNzJyAmJiB2YWwgPT0gJ01zb0xpc3RQYXJhZ3JhcGgnID8gc3RyIDogJycNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC8v5riF6Zmk5aSa5L2Z55qEZm9udC9zcGFu5LiN6IO95Yy56YWNJm5ic3A75pyJ5Y+v6IO95piv56m65qC8DQogICAgICAgICAgICAgICAgLnJlcGxhY2UoIC88KGZvbnR8c3BhbilbXj5dKj4oXHMqKTxcL1wxPi9naSwgZnVuY3Rpb24oYSxiLGMpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5yZXBsYWNlKC9bXHRcclxuIF0rL2csJyAnKQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLy/lpITnkIZzdHlsZeeahOmXrumimA0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKCAvKDxbYS16XVtePl0qKVxzc3R5bGU9KFsiJ10pKFteXDJdKj8pXDIvZ2ksIGZ1bmN0aW9uKCBzdHIsIHRhZywgdG1wLCBzdHlsZSApIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG4gPSBbXSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSBzdHlsZS5yZXBsYWNlKCAvXlxzK3xccyskLywgJycgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8mIzM5Oy9nLCdcJycpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoIC8mcXVvdDsvZ2ksICInIiApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNwbGl0KCAvO1xzKi9nICk7DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLHY7IHYgPSBzW2ldO2krKyApIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUsIHZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRzID0gdi5zcGxpdCggIjoiICk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcGFydHMubGVuZ3RoID09IDIgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSA9IHBhcnRzWzBdLnRvTG93ZXJDYXNlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJ0c1sxXS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKC9eKGJhY2tncm91bmQpXHcqLy50ZXN0KG5hbWUpICYmIHZhbHVlLnJlcGxhY2UoLyhpbml0aWFsfFxzKS9nLCcnKS5sZW5ndGggPT0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvXihtYXJnaW4pXHcqLy50ZXN0KG5hbWUpICYmIC9eMFx3KyQvLnRlc3QodmFsdWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICggbmFtZSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLXBhZGRpbmctYWx0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLXBhZGRpbmctdG9wLWFsdCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1wYWRkaW5nLXJpZ2h0LWFsdCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1wYWRkaW5nLWJvdHRvbS1hbHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28tcGFkZGluZy1sZWZ0LWFsdCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1tYXJnaW4tYWx0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLW1hcmdpbi10b3AtYWx0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLW1hcmdpbi1yaWdodC1hbHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28tbWFyZ2luLWJvdHRvbS1hbHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28tbWFyZ2luLWxlZnQtYWx0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZeS4i+S8muWHuueOsOaMpOWIsOS4gOi1t+eahOaDheWGtQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2FzZSAibXNvLXRhYmxlLWxheW91dC1hbHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28taGVpZ2h0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLXdpZHRoIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLXZlcnRpY2FsLWFsaWduLWFsdCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjE4MTkgZmbkuIvkvJrop6PmnpDlh7pwYWRkaW5n5ZyodGFibGXkuIoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEvPHRhYmxlLy50ZXN0KHRhZykpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9IG5hbWUucmVwbGFjZSggL15tc28tfC1hbHQkL2csICIiICkgKyAiOiIgKyB0cmFuc1VuaXQoIHZhbHVlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiaG9yaXotYWxpZ24iOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9ICJ0ZXh0LWFsaWduOiIgKyB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInZlcnQtYWxpZ24iOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9ICJ2ZXJ0aWNhbC1hbGlnbjoiICsgdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJmb250LWNvbG9yIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAibXNvLWZvcmVncm91bmQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9ICJjb2xvcjoiICsgdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28tYmFja2dyb3VuZCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1oaWdobGlnaHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9ICJiYWNrZ3JvdW5kOiIgKyB2YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1kZWZhdWx0LWhlaWdodCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuW2ldID0gIm1pbi1oZWlnaHQ6IiArIHRyYW5zVW5pdCggdmFsdWUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIm1zby1kZWZhdWx0LXdpZHRoIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5baV0gPSAibWluLXdpZHRoOiIgKyB0cmFuc1VuaXQoIHZhbHVlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28tcGFkZGluZy1iZXR3ZWVuLWFsdCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuW2ldID0gImJvcmRlci1jb2xsYXBzZTpzZXBhcmF0ZTtib3JkZXItc3BhY2luZzoiICsgdHJhbnNVbml0KCB2YWx1ZSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAidGV4dC1saW5lLXRocm91Z2giOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAodmFsdWUgPT0gInNpbmdsZSIpIHx8ICh2YWx1ZSA9PSAiZG91YmxlIikgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbltpXSA9ICJ0ZXh0LWRlY29yYXRpb246bGluZS10aHJvdWdoIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJtc28temVyby1oZWlnaHQiOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB2YWx1ZSA9PSAieWVzIiApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuW2ldID0gImRpc3BsYXk6bm9uZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiYWNrZ3JvdW5kJzoNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21hcmdpbic6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEvWzEtOV0vLnRlc3QoIHZhbHVlICkgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIC9eKG1zb3xjb2x1bW58Zm9udC1lbXBofGxhbmd8bGF5b3V0fGxpbmUtYnJlYWt8bGlzdC1pbWFnZXxuYXZ8cGFub3NlfHB1bmN0fHJvd3xydWJ5fHNlcHxzaXplfHNyY3x0YWItfHRhYmxlLWJvcmRlcnx0ZXh0LSg/OmRlY29yfHRyYW5zKXx0b3AtYmFyfHZlcnNpb258dm5kfHdvcmQtYnJlYWspLy50ZXN0KCBuYW1lICkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgL3RleHRcLWluZGVudHxwYWRkaW5nfG1hcmdpbi8udGVzdChuYW1lKSAmJiAvXC1bXGQuXSsvLnRlc3QodmFsdWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5baV0gPSBuYW1lICsgIjoiICsgcGFydHNbMV07DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhZyArIChuLmxlbmd0aCA/ICcgc3R5bGU9IicgKyBuLmpvaW4oICc7JykucmVwbGFjZSgvO3syLH0vZywnOycpICsgJyInIDogJycpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAucmVwbGFjZSgvW1xkLl0rKGNtfHB0KS9nLGZ1bmN0aW9uKHN0cil7DQogICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLnRyYW5zVW5pdFRvUHgoc3RyKQ0KICAgICAgICAgICAgfSkNCg0KICAgIH0NCg0KICAgIHJldHVybiBmdW5jdGlvbiAoIGh0bWwgKSB7DQogICAgICAgIHJldHVybiAoaXNXb3JkRG9jdW1lbnQoIGh0bWwgKSA/IGZpbHRlclBhc3RlV29yZCggaHRtbCApIDogaHRtbCk7DQogICAgfTsNCn0oKTsNCi8qKgogKiDnvJbovpHlmajmqKHmi5/nmoToioLngrnnsbsKICogQGZpbGUKICogQG1vZHVsZSBVRQogKiBAY2xhc3MgdU5vZGUKICogQHNpbmNlIDEuMi42LjEKICovCgovKioKICogVUVkaXRvcuWFrOeUqOepuumXtO+8jFVFZGl0b3LmiYDmnInnmoTlip/og73pg73mjILovb3lnKjor6Xnqbrpl7TkuIsKICogQHVuZmlsZQogKiBAbW9kdWxlIFVFCiAqLwoKKGZ1bmN0aW9uICgpIHsKCiAgICAvKioKICAgICAqIOe8lui+keWZqOaooeaLn+eahOiKgueCueexuwogICAgICogQHVuZmlsZQogICAgICogQG1vZHVsZSBVRQogICAgICogQGNsYXNzIHVOb2RlCiAgICAgKi8KCiAgICAvKioKICAgICAqIOmAmui/h+S4gOS4qumUruWAvOWvue+8jOWIm+W7uuS4gOS4qnVOb2Rl5a+56LGhCiAgICAgKiBAY29uc3RydWN0b3IKICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGF0dHIg5Lyg5YWl6KaB5Yib5bu655qEdU5vZGXnmoTliJ3lp4vlsZ7mgKcKICAgICAqIEBleGFtcGxlCiAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgKiB2YXIgbm9kZSA9IG5ldyB1Tm9kZSh7CiAgICAgKiAgICAgdHlwZTonZWxlbWVudCcsCiAgICAgKiAgICAgdGFnTmFtZTonc3BhbicsCiAgICAgKiAgICAgYXR0cnM6e3N0eWxlOidmb250LXNpemU6MTRweDsnfQogICAgICogfQogICAgICogYGBgCiAgICAgKi8KICAgIHZhciB1Tm9kZSA9IFVFLnVOb2RlID0gZnVuY3Rpb24gKG9iaikgewogICAgICAgIHRoaXMudHlwZSA9IG9iai50eXBlOwogICAgICAgIHRoaXMuZGF0YSA9IG9iai5kYXRhOwogICAgICAgIHRoaXMudGFnTmFtZSA9IG9iai50YWdOYW1lOwogICAgICAgIHRoaXMucGFyZW50Tm9kZSA9IG9iai5wYXJlbnROb2RlOwogICAgICAgIHRoaXMuYXR0cnMgPSBvYmouYXR0cnMgfHwge307CiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IG9iai5jaGlsZHJlbjsKICAgIH07CgogICAgdmFyIG5vdFRyYW5zQXR0cnMgPSB7CiAgICAgICAgJ2hyZWYnOjEsCiAgICAgICAgJ3NyYyc6MSwKICAgICAgICAnX3NyYyc6MSwKICAgICAgICAnX2hyZWYnOjEsCiAgICAgICAgJ2NkYXRhX2RhdGEnOjEKICAgIH07CgogICAgdmFyIG5vdFRyYW5zVGFnTmFtZSA9IHsKICAgICAgICBzdHlsZToxLAogICAgICAgIHNjcmlwdDoxCiAgICB9OwoKICAgIHZhciBpbmRlbnRDaGFyID0gJyAgICAnLAogICAgICAgIGJyZWFrQ2hhciA9ICdcbic7CgogICAgZnVuY3Rpb24gaW5zZXJ0TGluZShhcnIsIGN1cnJlbnQsIGJlZ2luKSB7CiAgICAgICAgYXJyLnB1c2goYnJlYWtDaGFyKTsKICAgICAgICByZXR1cm4gY3VycmVudCArIChiZWdpbiA/IDEgOiAtMSk7CiAgICB9CgogICAgZnVuY3Rpb24gaW5zZXJ0SW5kZW50KGFyciwgY3VycmVudCkgewogICAgICAgIC8v5o+S5YWl57yp6L+bCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjdXJyZW50OyBpKyspIHsKICAgICAgICAgICAgYXJyLnB1c2goaW5kZW50Q2hhcik7CiAgICAgICAgfQogICAgfQoKICAgIC8v5Yib5bu6dU5vZGXnmoTpnZnmgIHmlrnms5UKICAgIC8v5pSv5oyB5qCH562+5ZKMaHRtbAogICAgdU5vZGUuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChodG1sKSB7CiAgICAgICAgaWYgKC9bPD5dLy50ZXN0KGh0bWwpKSB7CiAgICAgICAgICAgIHJldHVybiBVRS5odG1scGFyc2VyKGh0bWwpLmNoaWxkcmVuWzBdCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5ldyB1Tm9kZSh7CiAgICAgICAgICAgICAgICB0eXBlOidlbGVtZW50JywKICAgICAgICAgICAgICAgIGNoaWxkcmVuOltdLAogICAgICAgICAgICAgICAgdGFnTmFtZTpodG1sCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfTsKICAgIHVOb2RlLmNyZWF0ZVRleHQgPSBmdW5jdGlvbiAoZGF0YSxub1RyYW5zKSB7CiAgICAgICAgcmV0dXJuIG5ldyBVRS51Tm9kZSh7CiAgICAgICAgICAgIHR5cGU6J3RleHQnLAogICAgICAgICAgICAnZGF0YSc6bm9UcmFucyA/IGRhdGEgOiB1dGlscy51bmh0bWwoZGF0YSB8fCAnJykKICAgICAgICB9KQogICAgfTsKICAgIGZ1bmN0aW9uIG5vZGVUb0h0bWwobm9kZSwgYXJyLCBmb3JtYXR0ZXIsIGN1cnJlbnQpIHsKICAgICAgICBzd2l0Y2ggKG5vZGUudHlwZSkgewogICAgICAgICAgICBjYXNlICdyb290JzoKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBub2RlLmNoaWxkcmVuW2krK107KSB7CiAgICAgICAgICAgICAgICAgICAgLy/mj5LlhaXmlrDooYwKICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVyICYmIGNpLnR5cGUgPT0gJ2VsZW1lbnQnICYmICFkdGQuJGlubGluZVdpdGhBW2NpLnRhZ05hbWVdICYmIGkgPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydExpbmUoYXJyLCBjdXJyZW50LCB0cnVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0SW5kZW50KGFyciwgY3VycmVudCkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbm9kZVRvSHRtbChjaSwgYXJyLCBmb3JtYXR0ZXIsIGN1cnJlbnQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAndGV4dCc6CiAgICAgICAgICAgICAgICBpc1RleHQobm9kZSwgYXJyKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdlbGVtZW50JzoKICAgICAgICAgICAgICAgIGlzRWxlbWVudChub2RlLCBhcnIsIGZvcm1hdHRlciwgY3VycmVudCk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6CiAgICAgICAgICAgICAgICBpc0NvbW1lbnQobm9kZSwgYXJyLCBmb3JtYXR0ZXIpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gYXJyOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzVGV4dChub2RlLCBhcnIpIHsKICAgICAgICBpZihub2RlLnBhcmVudE5vZGUudGFnTmFtZSA9PSAncHJlJyl7CiAgICAgICAgICAgIC8v5rqQ56CB5qih5byP5LiL6L6T5YWlaHRtbOagh+etvu+8jOS4jeiDveWBmui9rOaNouWkhOeQhu+8jOebtOaOpei+k+WHugogICAgICAgICAgICBhcnIucHVzaChub2RlLmRhdGEpCiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGFyci5wdXNoKG5vdFRyYW5zVGFnTmFtZVtub2RlLnBhcmVudE5vZGUudGFnTmFtZV0gPyB1dGlscy5odG1sKG5vZGUuZGF0YSkgOiBub2RlLmRhdGEucmVwbGFjZSgvWyBdezJ9L2csJyAmbmJzcDsnKSkKICAgICAgICB9CgogICAgfQoKICAgIGZ1bmN0aW9uIGlzRWxlbWVudChub2RlLCBhcnIsIGZvcm1hdHRlciwgY3VycmVudCkgewogICAgICAgIHZhciBhdHRyaHRtbCA9ICcnOwogICAgICAgIGlmIChub2RlLmF0dHJzKSB7CiAgICAgICAgICAgIGF0dHJodG1sID0gW107CiAgICAgICAgICAgIHZhciBhdHRycyA9IG5vZGUuYXR0cnM7CiAgICAgICAgICAgIGZvciAodmFyIGEgaW4gYXR0cnMpIHsKICAgICAgICAgICAgICAgIC8v6L+Z6YeM5bCx6ZKI5a+5CiAgICAgICAgICAgICAgICAvLzxwPic8aW1nIHNyYz0naHR0cDovL25zY2xpY2suYmFpZHUuY29tL3UuZ2lmPyZhc2RmPVwic2RmJmFzZGZhc2Rmczthc2RmJz48L3A+CiAgICAgICAgICAgICAgICAvL+i/memHjOi+ueeahFwi5YGa6L2s5o2i77yM6KaB5LiN55SoaW5uZXJIVE1M55u05o6l6KKr5oiq5pat5LqG77yM5bGe5oCnc3JjCiAgICAgICAgICAgICAgICAvL+acieWPr+iDveWBmueahOS4jeWknwogICAgICAgICAgICAgICAgYXR0cmh0bWwucHVzaChhICsgKGF0dHJzW2FdICE9PSB1bmRlZmluZWQgPyAnPSInICsgKG5vdFRyYW5zQXR0cnNbYV0gPyB1dGlscy5odG1sKGF0dHJzW2FdKS5yZXBsYWNlKC9bIl0vZywgZnVuY3Rpb24gKGEpIHsKICAgICAgICAgICAgICAgICAgIHJldHVybiAnJnF1b3Q7JwogICAgICAgICAgICAgICAgfSkgOiB1dGlscy51bmh0bWwoYXR0cnNbYV0pKSArICciJyA6ICcnKSkKICAgICAgICAgICAgfQogICAgICAgICAgICBhdHRyaHRtbCA9IGF0dHJodG1sLmpvaW4oJyAnKTsKICAgICAgICB9CiAgICAgICAgYXJyLnB1c2goJzwnICsgbm9kZS50YWdOYW1lICsKICAgICAgICAgICAgKGF0dHJodG1sID8gJyAnICsgYXR0cmh0bWwgIDogJycpICsKICAgICAgICAgICAgKGR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSA/ICdcLycgOiAnJyApICsgJz4nCiAgICAgICAgKTsKICAgICAgICAvL+aPkuWFpeaWsOihjAogICAgICAgIGlmIChmb3JtYXR0ZXIgICYmICAhZHRkLiRpbmxpbmVXaXRoQVtub2RlLnRhZ05hbWVdICYmIG5vZGUudGFnTmFtZSAhPSAncHJlJykgewogICAgICAgICAgICBpZihub2RlLmNoaWxkcmVuICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoKXsKICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBpbnNlcnRMaW5lKGFyciwgY3VycmVudCwgdHJ1ZSk7CiAgICAgICAgICAgICAgICBpbnNlcnRJbmRlbnQoYXJyLCBjdXJyZW50KQogICAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgICBpZiAobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gbm9kZS5jaGlsZHJlbltpKytdOykgewogICAgICAgICAgICAgICAgaWYgKGZvcm1hdHRlciAmJiBjaS50eXBlID09ICdlbGVtZW50JyAmJiAgIWR0ZC4kaW5saW5lV2l0aEFbY2kudGFnTmFtZV0gJiYgaSA+IDEpIHsKICAgICAgICAgICAgICAgICAgICBpbnNlcnRMaW5lKGFyciwgY3VycmVudCk7CiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0SW5kZW50KGFyciwgY3VycmVudCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIG5vZGVUb0h0bWwoY2ksIGFyciwgZm9ybWF0dGVyLCBjdXJyZW50KQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKSB7CiAgICAgICAgICAgIGlmIChmb3JtYXR0ZXIgJiYgIWR0ZC4kaW5saW5lV2l0aEFbbm9kZS50YWdOYW1lXSAgJiYgbm9kZS50YWdOYW1lICE9ICdwcmUnKSB7CgogICAgICAgICAgICAgICAgaWYobm9kZS5jaGlsZHJlbiAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGluc2VydExpbmUoYXJyLCBjdXJyZW50KTsKICAgICAgICAgICAgICAgICAgICBpbnNlcnRJbmRlbnQoYXJyLCBjdXJyZW50KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGFyci5wdXNoKCc8XC8nICsgbm9kZS50YWdOYW1lICsgJz4nKTsKICAgICAgICB9CgogICAgfQoKICAgIGZ1bmN0aW9uIGlzQ29tbWVudChub2RlLCBhcnIpIHsKICAgICAgICBhcnIucHVzaCgnPCEtLScgKyBub2RlLmRhdGEgKyAnLS0+Jyk7CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0Tm9kZUJ5SWQocm9vdCwgaWQpIHsKICAgICAgICB2YXIgbm9kZTsKICAgICAgICBpZiAocm9vdC50eXBlID09ICdlbGVtZW50JyAmJiByb290LmdldEF0dHIoJ2lkJykgPT0gaWQpIHsKICAgICAgICAgICAgcmV0dXJuIHJvb3Q7CiAgICAgICAgfQogICAgICAgIGlmIChyb290LmNoaWxkcmVuICYmIHJvb3QuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSByb290LmNoaWxkcmVuW2krK107KSB7CiAgICAgICAgICAgICAgICBpZiAobm9kZSA9IGdldE5vZGVCeUlkKGNpLCBpZCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBnZXROb2Rlc0J5VGFnTmFtZShub2RlLCB0YWdOYW1lLCBhcnIpIHsKICAgICAgICBpZiAobm9kZS50eXBlID09ICdlbGVtZW50JyAmJiBub2RlLnRhZ05hbWUgPT0gdGFnTmFtZSkgewogICAgICAgICAgICBhcnIucHVzaChub2RlKTsKICAgICAgICB9CiAgICAgICAgaWYgKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IG5vZGUuY2hpbGRyZW5baSsrXTspIHsKICAgICAgICAgICAgICAgIGdldE5vZGVzQnlUYWdOYW1lKGNpLCB0YWdOYW1lLCBhcnIpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBub2RlVHJhdmVyc2FsKHJvb3QsZm4pewogICAgICAgIGlmKHJvb3QuY2hpbGRyZW4gJiYgcm9vdC5jaGlsZHJlbi5sZW5ndGgpewogICAgICAgICAgICBmb3IodmFyIGk9IDAsY2k7Y2k9cm9vdC5jaGlsZHJlbltpXTspewogICAgICAgICAgICAgICAgbm9kZVRyYXZlcnNhbChjaSxmbik7CiAgICAgICAgICAgICAgICAvL2Np6KKr5pu/5o2i55qE5oOF5Ya177yM6L+Z6YeM5bCx5LiN5YaN6LWwIGZu5LqGCiAgICAgICAgICAgICAgICBpZihjaS5wYXJlbnROb2RlICl7CiAgICAgICAgICAgICAgICAgICAgaWYoY2kuY2hpbGRyZW4gJiYgY2kuY2hpbGRyZW4ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgZm4oY2kpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKGNpLnBhcmVudE5vZGUpIGkrKwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGZuKHJvb3QpCiAgICAgICAgfQoKICAgIH0KICAgIHVOb2RlLnByb3RvdHlwZSA9IHsKCiAgICAgICAgLyoqCiAgICAgICAgICog5b2T5YmN6IqC54K55a+56LGh77yM6L2s5o2i5oiQaHRtbOaWh+acrAogICAgICAgICAqIEBtZXRob2QgdG9IdG1sCiAgICAgICAgICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnui9rOaNouWQjueahGh0bWzlrZfnrKbkuLIKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLnRvSHRtbCgpOwogICAgICAgICAqIGBgYAogICAgICAgICAqLwoKICAgICAgICAvKioKICAgICAgICAgKiDlvZPliY3oioLngrnlr7nosaHvvIzovazmjaLmiJBodG1s5paH5pysCiAgICAgICAgICogQG1ldGhvZCB0b0h0bWwKICAgICAgICAgKiBAcGFyYW0geyBCb29sZWFuIH0gZm9ybWF0dGVyIOaYr+WQpuagvOW8j+WMlui/lOWbnuWAvAogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57ovazmjaLlkI7nmoRodG1s5a2X56ym5LiyCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS50b0h0bWwoIHRydWUgKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICB0b0h0bWw6ZnVuY3Rpb24gKGZvcm1hdHRlcikgewogICAgICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgICAgIG5vZGVUb0h0bWwodGhpcywgYXJyLCBmb3JtYXR0ZXIsIDApOwogICAgICAgICAgICByZXR1cm4gYXJyLmpvaW4oJycpCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6I635Y+W6IqC54K555qEaHRtbOWGheWuuQogICAgICAgICAqIEBtZXRob2QgaW5uZXJIVE1MCiAgICAgICAgICogQHdhcm5pbmcg5YGH5aaC6IqC54K555qEdHlwZeS4jeaYrydlbGVtZW50J++8jOaIluiKgueCueeahOagh+etvuWQjeensOS4jeWcqGR0ZOWIl+ihqOmHjO+8jOebtOaOpei/lOWbnuW9k+WJjeiKgueCuQogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57oioLngrnnmoRodG1s5YaF5a65CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogdmFyIGh0bWxzdHIgPSBub2RlLmlubmVySFRNTCgpOwogICAgICAgICAqIGBgYAogICAgICAgICAqLwoKICAgICAgICAvKioKICAgICAgICAgKiDorr7nva7oioLngrnnmoRodG1s5YaF5a65CiAgICAgICAgICogQG1ldGhvZCBpbm5lckhUTUwKICAgICAgICAgKiBAd2FybmluZyDlgYflpoLoioLngrnnmoR0eXBl5LiN5pivJ2VsZW1lbnQn77yM5oiW6IqC54K555qE5qCH562+5ZCN56ew5LiN5ZyoZHRk5YiX6KGo6YeM77yM55u05o6l6L+U5Zue5b2T5YmN6IqC54K5CiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gaHRtbHN0ciDkvKDlhaXopoHorr7nva7nmoRodG1s5YaF5a65CiAgICAgICAgICogQHJldHVybiB7IFVFLnVOb2RlIH0g6L+U5Zue6IqC54K55pys6LqrCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5pbm5lckhUTUwoJzxzcGFuPnRleHQ8L3NwYW4+Jyk7CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgaW5uZXJIVE1MOmZ1bmN0aW9uIChodG1sc3RyKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgIT0gJ2VsZW1lbnQnIHx8IGR0ZC4kZW1wdHlbdGhpcy50YWdOYW1lXSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGh0bWxzdHIpKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLmNoaWxkcmVuKXsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5jaGlsZHJlbltpKytdOykgewogICAgICAgICAgICAgICAgICAgICAgICBjaS5wYXJlbnROb2RlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICAgICAgICAgICAgICB2YXIgdG1wUm9vdCA9IFVFLmh0bWxwYXJzZXIoaHRtbHN0cik7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdG1wUm9vdC5jaGlsZHJlbltpKytdOykgewogICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaSk7CiAgICAgICAgICAgICAgICAgICAgY2kucGFyZW50Tm9kZSA9IHRoaXM7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciB0bXBSb290ID0gbmV3IFVFLnVOb2RlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOidyb290JywKICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjp0aGlzLmNoaWxkcmVuCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIHJldHVybiB0bXBSb290LnRvSHRtbCgpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6I635Y+W6IqC54K555qE57qv5paH5pys5YaF5a65CiAgICAgICAgICogQG1ldGhvZCBpbm5lclRleHQKICAgICAgICAgKiBAd2FybmluZyDlgYflpoLoioLngrnnmoR0eXBl5LiN5pivJ2VsZW1lbnQn77yM5oiW6IqC54K555qE5qCH562+5ZCN56ew5LiN5ZyoZHRk5YiX6KGo6YeM77yM55u05o6l6L+U5Zue5b2T5YmN6IqC54K5CiAgICAgICAgICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuiKgueCueeahOWtmOaWh+acrOWGheWuuQogICAgICAgICAqIEBleGFtcGxlCiAgICAgICAgICogYGBgamF2YXNjcmlwdAogICAgICAgICAqIHZhciB0ZXh0U3RyID0gbm9kZS5pbm5lclRleHQoKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KCiAgICAgICAgLyoqCiAgICAgICAgICog6K6+572u6IqC54K555qE57qv5paH5pys5YaF5a65CiAgICAgICAgICogQG1ldGhvZCBpbm5lclRleHQKICAgICAgICAgKiBAd2FybmluZyDlgYflpoLoioLngrnnmoR0eXBl5LiN5pivJ2VsZW1lbnQn77yM5oiW6IqC54K555qE5qCH562+5ZCN56ew5LiN5ZyoZHRk5YiX6KGo6YeM77yM55u05o6l6L+U5Zue5b2T5YmN6IqC54K5CiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdGV4dFN0ciDkvKDlhaXopoHorr7nva7nmoTmlofmnKzlhoXlrrkKICAgICAgICAgKiBAcmV0dXJuIHsgVUUudU5vZGUgfSDov5Tlm57oioLngrnmnKzouqsKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLmlubmVyVGV4dCgnPHNwYW4+dGV4dDwvc3Bhbj4nKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBpbm5lclRleHQ6ZnVuY3Rpb24gKHRleHRTdHIsbm9UcmFucykgewogICAgICAgICAgICBpZiAodGhpcy50eXBlICE9ICdlbGVtZW50JyB8fCBkdGQuJGVtcHR5W3RoaXMudGFnTmFtZV0pIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICh0ZXh0U3RyKSB7CiAgICAgICAgICAgICAgICBpZih0aGlzLmNoaWxkcmVuKXsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5jaGlsZHJlbltpKytdOykgewogICAgICAgICAgICAgICAgICAgICAgICBjaS5wYXJlbnROb2RlID0gbnVsbDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHVOb2RlLmNyZWF0ZVRleHQodGV4dFN0cixub1RyYW5zKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpczsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvSHRtbCgpLnJlcGxhY2UoLzxbXj5dKz4vZywgJycpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6I635Y+W5b2T5YmN5a+56LGh55qEZGF0YeWxnuaApwogICAgICAgICAqIEBtZXRob2QgZ2V0RGF0YQogICAgICAgICAqIEByZXR1cm4geyBPYmplY3QgfSDoi6XoioLngrnnmoR0eXBl5YC85pivZWxlbWVuZXTvvIzov5Tlm57nqbrlrZfnrKbkuLLvvIzlkKbliJnov5Tlm57oioLngrnnmoRkYXRh5bGe5oCnCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5nZXREYXRhKCk7CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgZ2V0RGF0YTpmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLnR5cGUgPT0gJ2VsZW1lbnQnKQogICAgICAgICAgICAgICAgcmV0dXJuICcnOwogICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6I635Y+W5b2T5YmN6IqC54K55LiL55qE56ys5LiA5Liq5a2Q6IqC54K5CiAgICAgICAgICogQG1ldGhvZCBmaXJzdENoaWxkCiAgICAgICAgICogQHJldHVybiB7IFVFLnVOb2RlIH0g6L+U5Zue56ys5LiA5Liq5a2Q6IqC54K5CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5maXJzdENoaWxkKCk7IC8v6L+U5Zue56ys5LiA5Liq5a2Q6IqC54K5CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgZmlyc3RDaGlsZDpmdW5jdGlvbiAoKSB7Ci8vICAgICAgICAgICAgaWYgKHRoaXMudHlwZSAhPSAnZWxlbWVudCcgfHwgZHRkLiRlbXB0eVt0aGlzLnRhZ05hbWVdKSB7Ci8vICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwovLyAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4gPyB0aGlzLmNoaWxkcmVuWzBdIDogbnVsbDsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDojrflj5blvZPliY3oioLngrnkuIvnmoTmnIDlkI7kuIDkuKrlrZDoioLngrkKICAgICAgICAgKiBAbWV0aG9kIGxhc3RDaGlsZAogICAgICAgICAqIEByZXR1cm4geyBVRS51Tm9kZSB9IOi/lOWbnuacgOWQjuS4gOS4quWtkOiKgueCuQogICAgICAgICAqIEBleGFtcGxlCiAgICAgICAgICogYGBgamF2YXNjcmlwdAogICAgICAgICAqIG5vZGUubGFzdENoaWxkKCk7IC8v6L+U5Zue5pyA5ZCO5LiA5Liq5a2Q6IqC54K5CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgbGFzdENoaWxkOmZ1bmN0aW9uICgpIHsKLy8gICAgICAgICAgICBpZiAodGhpcy50eXBlICE9ICdlbGVtZW50JyB8fCBkdGQuJGVtcHR5W3RoaXMudGFnTmFtZV0gKSB7Ci8vICAgICAgICAgICAgICAgIHJldHVybiB0aGlzOwovLyAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW4gPyB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gOiBudWxsOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPluWSjOW9k+WJjeiKgueCueacieebuOWQjOeItuS6suiKgueCueeahOWJjeS4gOS4quiKgueCuQogICAgICAgICAqIEBtZXRob2QgcHJldmlvdXNTaWJsaW5nCiAgICAgICAgICogQHJldHVybiB7IFVFLnVOb2RlIH0g6L+U5Zue5YmN5LiA5Liq6IqC54K5CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5jaGlsZHJlblsyXS5wcmV2aW91c1NpYmxpbmcoKTsgLy/ov5Tlm57lrZDoioLngrlub2RlLmNoaWxkcmVuWzFdCiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgcHJldmlvdXNTaWJsaW5nIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHBhcmVudC5jaGlsZHJlbltpXTsgaSsrKSB7CiAgICAgICAgICAgICAgICBpZiAoY2kgPT09IHRoaXMpIHsKICAgICAgICAgICAgICAgICAgIHJldHVybiBpID09IDAgPyBudWxsIDogcGFyZW50LmNoaWxkcmVuW2ktMV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6I635Y+W5ZKM5b2T5YmN6IqC54K55pyJ55u45ZCM54i25Lqy6IqC54K555qE5ZCO5LiA5Liq6IqC54K5CiAgICAgICAgICogQG1ldGhvZCBuZXh0U2libGluZwogICAgICAgICAqIEByZXR1cm4geyBVRS51Tm9kZSB9IOi/lOWbnuWQjuS4gOS4quiKgueCuSzmib7kuI3liLDov5Tlm55udWxsCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5jaGlsZHJlblsyXS5uZXh0U2libGluZygpOyAvL+WmguaenOacie+8jOi/lOWbnuWtkOiKgueCuW5vZGUuY2hpbGRyZW5bM10KICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBuZXh0U2libGluZyA6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBwYXJlbnQuY2hpbGRyZW5baSsrXTspIHsKICAgICAgICAgICAgICAgIGlmIChjaSA9PT0gdGhpcykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnQuY2hpbGRyZW5baV07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDnlKjmlrDnmoToioLngrnmm7/mjaLlvZPliY3oioLngrkKICAgICAgICAgKiBAbWV0aG9kIHJlcGxhY2VDaGlsZAogICAgICAgICAqIEBwYXJhbSB7IFVFLnVOb2RlIH0gdGFyZ2V0IOimgeabv+aNouaIkOivpeiKgueCueWPguaVsAogICAgICAgICAqIEBwYXJhbSB7IFVFLnVOb2RlIH0gc291cmNlIOimgeiiq+abv+aNouaOieeahOiKgueCuQogICAgICAgICAqIEByZXR1cm4geyBVRS51Tm9kZSB9IOi/lOWbnuabv+aNouS5i+WQjueahOiKgueCueWvueixoQogICAgICAgICAqIEBleGFtcGxlCiAgICAgICAgICogYGBgamF2YXNjcmlwdAogICAgICAgICAqIG5vZGUucmVwbGFjZUNoaWxkKG5ld05vZGUsIGNoaWxkTm9kZSk7IC8v55SobmV3Tm9kZeabv+aNomNoaWxkTm9kZSxjaGlsZE5vZGXmmK9ub2Rl55qE5a2Q6IqC54K5CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgcmVwbGFjZUNoaWxkOmZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkgewogICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgaWYodGFyZ2V0LnBhcmVudE5vZGUpewogICAgICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhcmdldCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5jaGlsZHJlbltpXTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNpID09PSBzb3VyY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSwgdGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlLnBhcmVudE5vZGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZSA9IHRoaXM7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog5Zyo6IqC54K555qE5a2Q6IqC54K55YiX6KGo5pyA5ZCO5L2N572u5o+S5YWl5LiA5Liq6IqC54K5CiAgICAgICAgICogQG1ldGhvZCBhcHBlbmRDaGlsZAogICAgICAgICAqIEBwYXJhbSB7IFVFLnVOb2RlIH0gbm9kZSDopoHmj5LlhaXnmoToioLngrkKICAgICAgICAgKiBAcmV0dXJuIHsgVUUudU5vZGUgfSDov5Tlm57liJrmj5LlhaXnmoTlrZDoioLngrkKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLmFwcGVuZENoaWxkKCBuZXdOb2RlICk7IC8v5Zyobm9kZeWGheaPkuWFpeWtkOiKgueCuW5ld05vZGUKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBhcHBlbmRDaGlsZDpmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICBpZiAodGhpcy50eXBlID09ICdyb290JyB8fCAodGhpcy50eXBlID09ICdlbGVtZW50JyAmJiAhZHRkLiRlbXB0eVt0aGlzLnRhZ05hbWVdKSkgewogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihub2RlLnBhcmVudE5vZGUpewogICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0aGlzLmNoaWxkcmVuW2ldOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2kgPT09IG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChub2RlKTsKICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZSA9IHRoaXM7CiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgfQoKCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog5Zyo5Lyg5YWl6IqC54K555qE5YmN6Z2i5o+S5YWl5LiA5Liq6IqC54K5CiAgICAgICAgICogQG1ldGhvZCBpbnNlcnRCZWZvcmUKICAgICAgICAgKiBAcGFyYW0geyBVRS51Tm9kZSB9IHRhcmdldCDopoHmj5LlhaXnmoToioLngrkKICAgICAgICAgKiBAcGFyYW0geyBVRS51Tm9kZSB9IHNvdXJjZSDlnKjor6Xlj4LmlbDoioLngrnliY3pnaLmj5LlhaUKICAgICAgICAgKiBAcmV0dXJuIHsgVUUudU5vZGUgfSDov5Tlm57liJrmj5LlhaXnmoTlrZDoioLngrkKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld05vZGUsIG5vZGUpOyAvL+WcqG5vZGXoioLngrnlkI7pnaLmj5LlhaVuZXdOb2RlCiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgaW5zZXJ0QmVmb3JlOmZ1bmN0aW9uICh0YXJnZXQsIHNvdXJjZSkgewogICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbikgewogICAgICAgICAgICAgICAgaWYodGFyZ2V0LnBhcmVudE5vZGUpewogICAgICAgICAgICAgICAgICAgIHRhcmdldC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRhcmdldCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5jaGlsZHJlbltpXTsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNpID09PSBzb3VyY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMCwgdGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDlnKjkvKDlhaXoioLngrnnmoTlkI7pnaLmj5LlhaXkuIDkuKroioLngrkKICAgICAgICAgKiBAbWV0aG9kIGluc2VydEFmdGVyCiAgICAgICAgICogQHBhcmFtIHsgVUUudU5vZGUgfSB0YXJnZXQg6KaB5o+S5YWl55qE6IqC54K5CiAgICAgICAgICogQHBhcmFtIHsgVUUudU5vZGUgfSBzb3VyY2Ug5Zyo6K+l5Y+C5pWw6IqC54K55ZCO6Z2i5o+S5YWlCiAgICAgICAgICogQHJldHVybiB7IFVFLnVOb2RlIH0g6L+U5Zue5Yia5o+S5YWl55qE5a2Q6IqC54K5CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5wYXJlbnROb2RlLmluc2VydEFmdGVyKG5ld05vZGUsIG5vZGUpOyAvL+WcqG5vZGXoioLngrnlkI7pnaLmj5LlhaVuZXdOb2RlCiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgaW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuKSB7CiAgICAgICAgICAgICAgICBpZih0YXJnZXQucGFyZW50Tm9kZSl7CiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFyZ2V0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0aGlzLmNoaWxkcmVuW2ldOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2kgPT09IHNvdXJjZSkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpICsgMSwgMCwgdGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnBhcmVudE5vZGUgPSB0aGlzOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0OwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDku47lvZPliY3oioLngrnnmoTlrZDoioLngrnliJfooajkuK3vvIznp7vpmaToioLngrkKICAgICAgICAgKiBAbWV0aG9kIHJlbW92ZUNoaWxkCiAgICAgICAgICogQHBhcmFtIHsgVUUudU5vZGUgfSBub2RlIOimgeenu+mZpOeahOiKgueCueW8leeUqAogICAgICAgICAqIEBwYXJhbSB7IEJvb2xlYW4gfSBrZWVwQ2hpbGRyZW4g5piv5ZCm5L+d55WZ56e76Zmk6IqC54K555qE5a2Q6IqC54K577yM6Iul5Lyg5YWldHJ1Ze+8jOiHquWKqOaKiuenu+mZpOiKgueCueeahOWtkOiKgueCueaPkuWFpeWIsOenu+mZpOeahOS9jee9rgogICAgICAgICAqIEByZXR1cm4geyAqIH0g6L+U5Zue5Yia56e76Zmk55qE5a2Q6IqC54K5CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5yZW1vdmVDaGlsZChjaGlsZE5vZGUsdHJ1ZSk7IC8v5Zyobm9kZeeahOWtkOiKgueCueWIl+ihqOS4reenu+mZpGNoaWxk6IqC54K577yM5bm25LiU5ZCnY2hpbGTnmoTlrZDoioLngrnmj5LlhaXliLDnp7vpmaTnmoTkvY3nva4KICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICByZW1vdmVDaGlsZDpmdW5jdGlvbiAobm9kZSxrZWVwQ2hpbGRyZW4pIHsKICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0aGlzLmNoaWxkcmVuW2ldOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoY2kgPT09IG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGNpLnBhcmVudE5vZGUgPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICBpZihrZWVwQ2hpbGRyZW4gJiYgY2kuY2hpbGRyZW4gJiYgY2kuY2hpbGRyZW4ubGVuZ3RoKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaj0gMCxjajtjaj1jaS5jaGlsZHJlbltqXTtqKyspewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGkraiwwLGNqKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjai5wYXJlbnROb2RlID0gdGhpczsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIOiOt+WPluW9k+WJjeiKgueCueaJgOS7o+ihqOeahOWFg+e0oOWxnuaAp++8jOWNs+iOt+WPlmF0dHJz5a+56LGh5LiL55qE5bGe5oCn5YC8CiAgICAgICAgICogQG1ldGhvZCBnZXRBdHRyCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gYXR0ck5hbWUg6KaB6I635Y+W55qE5bGe5oCn5ZCN56ewCiAgICAgICAgICogQHJldHVybiB7ICogfSDov5Tlm55hdHRyc+WvueixoeS4i+eahOWxnuaAp+WAvAogICAgICAgICAqIEBleGFtcGxlCiAgICAgICAgICogYGBgamF2YXNjcmlwdAogICAgICAgICAqIG5vZGUuZ2V0QXR0cigndGl0bGUnKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBnZXRBdHRyOmZ1bmN0aW9uIChhdHRyTmFtZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycyAmJiB0aGlzLmF0dHJzW2F0dHJOYW1lLnRvTG93ZXJDYXNlKCldCiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog6K6+572u5b2T5YmN6IqC54K55omA5Luj6KGo55qE5YWD57Sg5bGe5oCn77yM5Y2z6K6+572uYXR0cnPlr7nosaHkuIvnmoTlsZ7mgKflgLwKICAgICAgICAgKiBAbWV0aG9kIHNldEF0dHIKICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBhdHRyTmFtZSDopoHorr7nva7nmoTlsZ7mgKflkI3np7AKICAgICAgICAgKiBAcGFyYW0geyAqIH0gYXR0clZhbCDopoHorr7nva7nmoTlsZ7mgKflgLzvvIznsbvlnovop4borr7nva7nmoTlsZ7mgKfogIzlrpoKICAgICAgICAgKiBAcmV0dXJuIHsgKiB9IOi/lOWbnmF0dHJz5a+56LGh5LiL55qE5bGe5oCn5YC8CiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5zZXRBdHRyKCd0aXRsZScsJ+agh+mimCcpOwogICAgICAgICAqIGBgYAogICAgICAgICAqLwogICAgICAgIHNldEF0dHI6ZnVuY3Rpb24gKGF0dHJOYW1lLCBhdHRyVmFsKSB7CiAgICAgICAgICAgIGlmICghYXR0ck5hbWUpIHsKICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJzOwogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCF0aGlzLmF0dHJzKXsKICAgICAgICAgICAgICAgIHRoaXMuYXR0cnMgPSB7fTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodXRpbHMuaXNPYmplY3QoYXR0ck5hbWUpKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBhIGluIGF0dHJOYW1lKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdHRyTmFtZVthXSkgewogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hdHRyc1thXQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXR0cnNbYS50b0xvd2VyQ2FzZSgpXSA9IGF0dHJOYW1lW2FdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGlmICghYXR0clZhbCkgewogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmF0dHJzW2F0dHJOYW1lXQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2F0dHJOYW1lLnRvTG93ZXJDYXNlKCldID0gYXR0clZhbDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDojrflj5blvZPliY3oioLngrnlnKjniLboioLngrnkuIvnmoTkvY3nva7ntKLlvJUKICAgICAgICAgKiBAbWV0aG9kIGdldEluZGV4CiAgICAgICAgICogQHJldHVybiB7IE51bWJlciB9IOi/lOWbnue0ouW8leaVsOWAvO+8jOWmguaenOayoeacieeItuiKgueCue+8jOi/lOWbni0xCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5nZXRJbmRleCgpOwogICAgICAgICAqIGBgYAogICAgICAgICAqLwogICAgICAgIGdldEluZGV4OmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudE5vZGU7CiAgICAgICAgICAgIGZvcih2YXIgaT0gMCxjaTtjaT1wYXJlbnQuY2hpbGRyZW5baV07aSsrKXsKICAgICAgICAgICAgICAgIGlmKGNpID09PSB0aGlzKXsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog5Zyo5b2T5YmN6IqC54K55LiL77yM5qC55o2uaWTmn6Xmib7oioLngrkKICAgICAgICAgKiBAbWV0aG9kIGdldE5vZGVCeUlkCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gaWQg6KaB5p+l5om+55qEaWQKICAgICAgICAgKiBAcmV0dXJuIHsgVUUudU5vZGUgfSDov5Tlm57mib7liLDnmoToioLngrkKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLmdldE5vZGVCeUlkKCd0ZXh0SWQnKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBnZXROb2RlQnlJZDpmdW5jdGlvbiAoaWQpIHsKICAgICAgICAgICAgdmFyIG5vZGU7CiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5jaGlsZHJlbltpKytdOykgewogICAgICAgICAgICAgICAgICAgIGlmIChub2RlID0gZ2V0Tm9kZUJ5SWQoY2ksIGlkKSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDlnKjlvZPliY3oioLngrnkuIvvvIzmoLnmja7lhYPntKDlkI3np7Dmn6Xmib7oioLngrnliJfooagKICAgICAgICAgKiBAbWV0aG9kIGdldE5vZGVzQnlUYWdOYW1lCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdGFnTmFtZXMg6KaB5p+l5om+55qE5YWD57Sg5ZCN56ewCiAgICAgICAgICogQHJldHVybiB7IEFycmF5IH0g6L+U5Zue5om+5Yiw55qE6IqC54K55YiX6KGoCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogbm9kZS5nZXROb2Rlc0J5VGFnTmFtZSgnc3BhbicpOwogICAgICAgICAqIGBgYAogICAgICAgICAqLwogICAgICAgIGdldE5vZGVzQnlUYWdOYW1lOmZ1bmN0aW9uICh0YWdOYW1lcykgewogICAgICAgICAgICB0YWdOYW1lcyA9IHV0aWxzLnRyaW0odGFnTmFtZXMpLnJlcGxhY2UoL1sgXXsyLH0vZywgJyAnKS5zcGxpdCgnICcpOwogICAgICAgICAgICB2YXIgYXJyID0gW10sIG1lID0gdGhpczsKICAgICAgICAgICAgdXRpbHMuZWFjaCh0YWdOYW1lcywgZnVuY3Rpb24gKHRhZ05hbWUpIHsKICAgICAgICAgICAgICAgIGlmIChtZS5jaGlsZHJlbiAmJiBtZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gbWUuY2hpbGRyZW5baSsrXTspIHsKICAgICAgICAgICAgICAgICAgICAgICAgZ2V0Tm9kZXNCeVRhZ05hbWUoY2ksIHRhZ05hbWUsIGFycikKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gYXJyOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIOagueaNruagt+W8j+WQjeensO+8jOiOt+WPluiKgueCueeahOagt+W8j+WAvAogICAgICAgICAqIEBtZXRob2QgZ2V0U3R5bGUKICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBuYW1lIOimgeiOt+WPlueahOagt+W8j+WQjeensAogICAgICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57moLflvI/lgLwKICAgICAgICAgKiBAZXhhbXBsZQogICAgICAgICAqIGBgYGphdmFzY3JpcHQKICAgICAgICAgKiBub2RlLmdldFN0eWxlKCdmb250LXNpemUnKTsKICAgICAgICAgKiBgYGAKICAgICAgICAgKi8KICAgICAgICBnZXRTdHlsZTpmdW5jdGlvbiAobmFtZSkgewogICAgICAgICAgICB2YXIgY3NzU3R5bGUgPSB0aGlzLmdldEF0dHIoJ3N0eWxlJyk7CiAgICAgICAgICAgIGlmICghY3NzU3R5bGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiAnJwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKCcoXnw7KVxccyonICsgbmFtZSArICc6KFteO10rKScsJ2knKTsKICAgICAgICAgICAgdmFyIG1hdGNoID0gY3NzU3R5bGUubWF0Y2gocmVnKTsKICAgICAgICAgICAgaWYgKG1hdGNoICYmIG1hdGNoWzBdKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMl0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gJyc7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICog57uZ6IqC54K56K6+572u5qC35byPCiAgICAgICAgICogQG1ldGhvZCBzZXRTdHlsZQogICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG5hbWUg6KaB6K6+572u55qE55qE5qC35byP5ZCN56ewCiAgICAgICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdmFsIOimgeiuvue9rueahOeahOagt+WAvAogICAgICAgICAqIEBleGFtcGxlCiAgICAgICAgICogYGBgamF2YXNjcmlwdAogICAgICAgICAqIG5vZGUuc2V0U3R5bGUoJ2ZvbnQtc2l6ZScsICcxMnB4Jyk7CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgc2V0U3R5bGU6ZnVuY3Rpb24gKG5hbWUsIHZhbCkgewogICAgICAgICAgICBmdW5jdGlvbiBleGVjKG5hbWUsIHZhbCkgewogICAgICAgICAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhefDspXFxzKicgKyBuYW1lICsgJzooW147XSs7PyknLCAnZ2knKTsKICAgICAgICAgICAgICAgIGNzc1N0eWxlID0gY3NzU3R5bGUucmVwbGFjZShyZWcsICckMScpOwogICAgICAgICAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgICAgICAgICAgIGNzc1N0eWxlID0gbmFtZSArICc6JyArIHV0aWxzLnVuaHRtbCh2YWwpICsgJzsnICsgY3NzU3R5bGUKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBjc3NTdHlsZSA9IHRoaXMuZ2V0QXR0cignc3R5bGUnKTsKICAgICAgICAgICAgaWYgKCFjc3NTdHlsZSkgewogICAgICAgICAgICAgICAgY3NzU3R5bGUgPSAnJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAodXRpbHMuaXNPYmplY3QobmFtZSkpIHsKICAgICAgICAgICAgICAgIGZvciAodmFyIGEgaW4gbmFtZSkgewogICAgICAgICAgICAgICAgICAgIGV4ZWMoYSwgbmFtZVthXSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGV4ZWMobmFtZSwgdmFsKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuc2V0QXR0cignc3R5bGUnLCB1dGlscy50cmltKGNzc1N0eWxlKSkKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiDkvKDlhaXkuIDkuKrlh73mlbDvvIzpgJLlvZLpgY3ljoblvZPliY3oioLngrnkuIvnmoTmiYDmnInoioLngrkKICAgICAgICAgKiBAbWV0aG9kIHRyYXZlcnNhbAogICAgICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZm4g6YGN5Y6G5Yiw6IqC54K555qE5pe277yM5Lyg5YWl6IqC54K55L2c5Li65Y+C5pWw77yM6L+Q6KGM5q2k5Ye95pWwCiAgICAgICAgICogQGV4YW1wbGUKICAgICAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgICAgICogdHJhdmVyc2FsKG5vZGUsIGZ1bmN0aW9uKCl7CiAgICAgICAgICogICAgIGNvbnNvbGUubG9nKG5vZGUudHlwZSk7CiAgICAgICAgICogfSk7CiAgICAgICAgICogYGBgCiAgICAgICAgICovCiAgICAgICAgdHJhdmVyc2FsOmZ1bmN0aW9uKGZuKXsKICAgICAgICAgICAgaWYodGhpcy5jaGlsZHJlbiAmJiB0aGlzLmNoaWxkcmVuLmxlbmd0aCl7CiAgICAgICAgICAgICAgICBub2RlVHJhdmVyc2FsKHRoaXMsZm4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIH0KICAgIH0KfSkoKTsKDQovKioKICogaHRtbOWtl+espuS4sui9rOaNouaIkHVOb2Rl6IqC54K5CiAqIEBmaWxlCiAqIEBtb2R1bGUgVUUKICogQHNpbmNlIDEuMi42LjEKICovCgovKioKICogVUVkaXRvcuWFrOeUqOepuumXtO+8jFVFZGl0b3LmiYDmnInnmoTlip/og73pg73mjILovb3lnKjor6Xnqbrpl7TkuIsKICogQHVuZmlsZQogKiBAbW9kdWxlIFVFCiAqLwoKLyoqCiAqIGh0bWzlrZfnrKbkuLLovazmjaLmiJB1Tm9kZeiKgueCueeahOmdmeaAgeaWueazlQogKiBAbWV0aG9kIGh0bWxwYXJzZXIKICogQHBhcmFtIHsgU3RyaW5nIH0gaHRtbHN0ciDopoHovazmjaLnmoRodG1s5Luj56CBCiAqIEBwYXJhbSB7IEJvb2xlYW4gfSBpZ25vcmVCbGFuayDoi6Xorr7nva7kuLp0cnVl77yM6L2s5o2i55qE5pe25YCZ5b+955WlXG5cclx0562J56m655m95a2X56ymCiAqIEByZXR1cm4geyB1Tm9kZSB9IOe7meWumueahGh0bWzniYfmrrXovazmjaLlvaLmiJDnmoR1Tm9kZeWvueixoQogKiBAZXhhbXBsZQogKiBgYGBqYXZhc2NyaXB0CiAqIHZhciByb290ID0gVUUuaHRtbHBhcnNlcignPHA+PGI+aHRtbHBhcnNlcjwvYj48L3A+JywgdHJ1ZSk7CiAqIGBgYAogKi8KCnZhciBodG1scGFyc2VyID0gVUUuaHRtbHBhcnNlciA9IGZ1bmN0aW9uIChodG1sc3RyLGlnbm9yZUJsYW5rKSB7CiAgICAvL3RvZG8g5Y6f5p2l55qE5pa55byPICBbXiInPD5cL10g5pyJXC/lsLHkuI3og73phY3lr7nkuIogPFREIHZBbGlnbj10b3AgYmFja2dyb3VuZD0uLi9BQUEuSlBHPiDov5nmoLfnmoTmoIfnrb7kuoYKICAgIC8v5YWI5Y675o6J5LqG77yM5Yqg5LiK55qE5Y6f5Zug5b+Y5LqG77yM6L+Z6YeM5YWI6K6w5b2VCiAgICB2YXIgcmVfdGFnID0gLzwoPzooPzpcLyhbXj5dKyk+KXwoPzohLS0oW1xTfFxzXSo/KS0tPil8KD86KFteXHNcLz5dKylccyooKD86KD86IlteIl0qIil8KD86J1teJ10qJyl8W14iJzw+XSkqKVwvPz4pKS9nLAogICAgICAgIHJlX2F0dHIgPSAvKFtcd1wtOi5dKykoPzooPzpccyo9XHMqKD86KD86IihbXiJdKikiKXwoPzonKFteJ10qKScpfChbXlxzPl0rKSkpfCg/PVxzfCQpKS9nOwoKICAgIC8vaWXkuIvlj5blvpfnmoRodG1s5Y+v6IO95Lya5pyJXG7lrZjlnKjvvIzopoHljrvmjonvvIzlnKjlpITnkIZyZXBsYWNlKC9bXHRcclxuXSovZywnJyk75Luj56CB6auY6YeP55qEXG7kuI3og73ljrvpmaQKICAgIHZhciBhbGxvd0VtcHR5VGFncyA9IHsKICAgICAgICBiOjEsY29kZToxLGk6MSx1OjEsc3RyaWtlOjEsczoxLHR0OjEsc3Ryb25nOjEscToxLHNhbXA6MSxlbToxLHNwYW46MSwKICAgICAgICBzdWI6MSxpbWc6MSxzdXA6MSxmb250OjEsYmlnOjEsc21hbGw6MSxpZnJhbWU6MSxhOjEsYnI6MSxwcmU6MQogICAgfTsKICAgIGh0bWxzdHIgPSBodG1sc3RyLnJlcGxhY2UobmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwgJ2cnKSwgJycpOwogICAgaWYoIWlnbm9yZUJsYW5rKXsKICAgICAgICBodG1sc3RyID0gaHRtbHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoJ1tcXHJcXHRcXG4nKyhpZ25vcmVCbGFuaz8nJzonICcpKyddKjxcLz8oXFx3KylcXHMqKD86W14+XSopPltcXHJcXHRcXG4nKyhpZ25vcmVCbGFuaz8nJzonICcpKyddKicsJ2cnKSwgZnVuY3Rpb24oYSxiKXsKICAgICAgICAgICAgLy9icuaaguaXtuWNleeLrOWkhOeQhgogICAgICAgICAgICBpZihiICYmIGFsbG93RW1wdHlUYWdzW2IudG9Mb3dlckNhc2UoKV0pewogICAgICAgICAgICAgICAgcmV0dXJuIGEucmVwbGFjZSgvKF5bXG5ccl0rKXwoW1xuXHJdKyQpL2csJycpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UobmV3IFJlZ0V4cCgnXltcXHJcXG4nKyhpZ25vcmVCbGFuaz8nJzonICcpKyddKycpLCcnKS5yZXBsYWNlKG5ldyBSZWdFeHAoJ1tcXHJcXG4nKyhpZ25vcmVCbGFuaz8nJzonICcpKyddKyQnKSwnJyk7CiAgICAgICAgfSk7CiAgICB9CgogICAgdmFyIG5vdFRyYW5zQXR0cnMgPSB7CiAgICAgICAgJ2hyZWYnOjEsCiAgICAgICAgJ3NyYyc6MQogICAgfTsKCiAgICB2YXIgdU5vZGUgPSBVRS51Tm9kZSwKICAgICAgICBuZWVkUGFyZW50Tm9kZSA9IHsKICAgICAgICAgICAgJ3RkJzondHInLAogICAgICAgICAgICAndHInOlsndGJvZHknLCd0aGVhZCcsJ3Rmb290J10sCiAgICAgICAgICAgICd0Ym9keSc6J3RhYmxlJywKICAgICAgICAgICAgJ3RoJzondHInLAogICAgICAgICAgICAndGhlYWQnOid0YWJsZScsCiAgICAgICAgICAgICd0Zm9vdCc6J3RhYmxlJywKICAgICAgICAgICAgJ2NhcHRpb24nOid0YWJsZScsCiAgICAgICAgICAgICdsaSc6Wyd1bCcsICdvbCddLAogICAgICAgICAgICAnZHQnOidkbCcsCiAgICAgICAgICAgICdkZCc6J2RsJywKICAgICAgICAgICAgJ29wdGlvbic6J3NlbGVjdCcKICAgICAgICB9LAogICAgICAgIG5lZWRDaGlsZCA9IHsKICAgICAgICAgICAgJ29sJzonbGknLAogICAgICAgICAgICAndWwnOidsaScKICAgICAgICB9OwoKICAgIGZ1bmN0aW9uIHRleHQocGFyZW50LCBkYXRhKSB7CgogICAgICAgIGlmKG5lZWRDaGlsZFtwYXJlbnQudGFnTmFtZV0pewogICAgICAgICAgICB2YXIgdG1wTm9kZSA9IHVOb2RlLmNyZWF0ZUVsZW1lbnQobmVlZENoaWxkW3BhcmVudC50YWdOYW1lXSk7CiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh0bXBOb2RlKTsKICAgICAgICAgICAgdG1wTm9kZS5hcHBlbmRDaGlsZCh1Tm9kZS5jcmVhdGVUZXh0KGRhdGEpKTsKICAgICAgICAgICAgcGFyZW50ID0gdG1wTm9kZTsKICAgICAgICB9ZWxzZXsKCiAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh1Tm9kZS5jcmVhdGVUZXh0KGRhdGEpKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZWxlbWVudChwYXJlbnQsIHRhZ05hbWUsIGh0bWxhdHRyKSB7CiAgICAgICAgdmFyIG5lZWRQYXJlbnRUYWc7CiAgICAgICAgaWYgKG5lZWRQYXJlbnRUYWcgPSBuZWVkUGFyZW50Tm9kZVt0YWdOYW1lXSkgewogICAgICAgICAgICB2YXIgdG1wUGFyZW50ID0gcGFyZW50LGhhc1BhcmVudDsKICAgICAgICAgICAgd2hpbGUodG1wUGFyZW50LnR5cGUgIT0gJ3Jvb3QnKXsKICAgICAgICAgICAgICAgIGlmKHV0aWxzLmlzQXJyYXkobmVlZFBhcmVudFRhZykgPyB1dGlscy5pbmRleE9mKG5lZWRQYXJlbnRUYWcsIHRtcFBhcmVudC50YWdOYW1lKSAhPSAtMSA6IG5lZWRQYXJlbnRUYWcgPT0gdG1wUGFyZW50LnRhZ05hbWUpewogICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IHRtcFBhcmVudDsKICAgICAgICAgICAgICAgICAgICBoYXNQYXJlbnQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdG1wUGFyZW50ID0gdG1wUGFyZW50LnBhcmVudE5vZGU7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoIWhhc1BhcmVudCl7CiAgICAgICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50KHBhcmVudCwgdXRpbHMuaXNBcnJheShuZWVkUGFyZW50VGFnKSA/IG5lZWRQYXJlbnRUYWdbMF0gOiBuZWVkUGFyZW50VGFnKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8v5oyJZHRk5aSE55CG5bWM5aWXCi8vICAgICAgICBpZihwYXJlbnQudHlwZSAhPSAncm9vdCcgJiYgIWR0ZFtwYXJlbnQudGFnTmFtZV1bdGFnTmFtZV0pCi8vICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7CiAgICAgICAgdmFyIGVsbSA9IG5ldyB1Tm9kZSh7CiAgICAgICAgICAgIHBhcmVudE5vZGU6cGFyZW50LAogICAgICAgICAgICB0eXBlOidlbGVtZW50JywKICAgICAgICAgICAgdGFnTmFtZTp0YWdOYW1lLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgIC8v5piv6Ieq6Zet5ZCI55qE5aSE55CG5LiA5LiLCiAgICAgICAgICAgIGNoaWxkcmVuOmR0ZC4kZW1wdHlbdGFnTmFtZV0gPyBudWxsIDogW10KICAgICAgICB9KTsKICAgICAgICAvL+WmguaenOWxnuaAp+WtmOWcqO+8jOWkhOeQhuWxnuaApwogICAgICAgIGlmIChodG1sYXR0cikgewogICAgICAgICAgICB2YXIgYXR0cnMgPSB7fSwgbWF0Y2g7CiAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IHJlX2F0dHIuZXhlYyhodG1sYXR0cikpIHsKICAgICAgICAgICAgICAgIGF0dHJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCldID0gbm90VHJhbnNBdHRyc1ttYXRjaFsxXS50b0xvd2VyQ2FzZSgpXSA/IChtYXRjaFsyXSB8fCBtYXRjaFszXSB8fCBtYXRjaFs0XSkgOiB1dGlscy51bmh0bWwobWF0Y2hbMl0gfHwgbWF0Y2hbM10gfHwgbWF0Y2hbNF0pCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxtLmF0dHJzID0gYXR0cnM7CiAgICAgICAgfQoKICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChlbG0pOwogICAgICAgIC8v5aaC5p6c5piv6Ieq6Zet5ZCI6IqC54K56L+U5Zue54i25Lqy6IqC54K5CiAgICAgICAgcmV0dXJuICBkdGQuJGVtcHR5W3RhZ05hbWVdID8gcGFyZW50IDogZWxtCiAgICB9CgogICAgZnVuY3Rpb24gY29tbWVudChwYXJlbnQsIGRhdGEpIHsKICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChuZXcgdU5vZGUoewogICAgICAgICAgICB0eXBlOidjb21tZW50JywKICAgICAgICAgICAgZGF0YTpkYXRhLAogICAgICAgICAgICBwYXJlbnROb2RlOnBhcmVudAogICAgICAgIH0pKTsKICAgIH0KCiAgICB2YXIgbWF0Y2gsIGN1cnJlbnRJbmRleCA9IDAsIG5leHRJbmRleCA9IDA7CiAgICAvL+iuvue9ruagueiKgueCuQogICAgdmFyIHJvb3QgPSBuZXcgdU5vZGUoewogICAgICAgIHR5cGU6J3Jvb3QnLAogICAgICAgIGNoaWxkcmVuOltdCiAgICB9KTsKICAgIHZhciBjdXJyZW50UGFyZW50ID0gcm9vdDsKCiAgICB3aGlsZSAobWF0Y2ggPSByZV90YWcuZXhlYyhodG1sc3RyKSkgewogICAgICAgIGN1cnJlbnRJbmRleCA9IG1hdGNoLmluZGV4OwogICAgICAgIHRyeXsKICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IG5leHRJbmRleCkgewogICAgICAgICAgICAgICAgLy90ZXh0IG5vZGUKICAgICAgICAgICAgICAgIHRleHQoY3VycmVudFBhcmVudCwgaHRtbHN0ci5zbGljZShuZXh0SW5kZXgsIGN1cnJlbnRJbmRleCkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChtYXRjaFszXSkgewoKICAgICAgICAgICAgICAgIGlmKGR0ZC4kY2RhdGFbY3VycmVudFBhcmVudC50YWdOYW1lXSl7CiAgICAgICAgICAgICAgICAgICAgdGV4dChjdXJyZW50UGFyZW50LCBtYXRjaFswXSk7CiAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAvL3N0YXJ0IHRhZwogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBlbGVtZW50KGN1cnJlbnRQYXJlbnQsIG1hdGNoWzNdLnRvTG93ZXJDYXNlKCksIG1hdGNoWzRdKTsKICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoWzFdKSB7CiAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFyZW50LnR5cGUgIT0gJ3Jvb3QnKXsKICAgICAgICAgICAgICAgICAgICBpZihkdGQuJGNkYXRhW2N1cnJlbnRQYXJlbnQudGFnTmFtZV0gJiYgIWR0ZC4kY2RhdGFbbWF0Y2hbMV1dKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dChjdXJyZW50UGFyZW50LCBtYXRjaFswXSk7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBQYXJlbnQgPSBjdXJyZW50UGFyZW50OwogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShjdXJyZW50UGFyZW50LnR5cGUgPT0gJ2VsZW1lbnQnICYmIGN1cnJlbnRQYXJlbnQudGFnTmFtZSAhPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYXJlbnQgPSBjdXJyZW50UGFyZW50LnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjdXJyZW50UGFyZW50LnR5cGUgPT0gJ3Jvb3QnKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFyZW50ID0gdG1wUGFyZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdicmVhaycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAvL2VuZCB0YWcKICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50Tm9kZTsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFsyXSkgewogICAgICAgICAgICAgICAgLy9jb21tZW50CiAgICAgICAgICAgICAgICBjb21tZW50KGN1cnJlbnRQYXJlbnQsIG1hdGNoWzJdKQogICAgICAgICAgICB9CiAgICAgICAgfWNhdGNoKGUpe30KCiAgICAgICAgbmV4dEluZGV4ID0gcmVfdGFnLmxhc3RJbmRleDsKCiAgICB9CiAgICAvL+WmguaenOe7k+adn+aYr+aWh+acrO+8jOWwseacieWPr+iDveS4ouaOie+8jOaJgOS7pei/memHjOaJi+WKqOWIpOaWreS4gOS4iwogICAgLy/kvovlpoIgPGxpPnNkZnNkZnNkZjxsaT5zZGZzZGZzZGZzZGYKICAgIGlmIChuZXh0SW5kZXggPCBodG1sc3RyLmxlbmd0aCkgewogICAgICAgIHRleHQoY3VycmVudFBhcmVudCwgaHRtbHN0ci5zbGljZShuZXh0SW5kZXgpKTsKICAgIH0KICAgIHJldHVybiByb290Owp9Ow0KLyoqDQogKiBVRei/h+a7pOiKgueCueeahOmdmeaAgeaWueazlQ0KICogQGZpbGUNCiAqLw0KDQovKioNCiAqIFVFZGl0b3LlhaznlKjnqbrpl7TvvIxVRWRpdG9y5omA5pyJ55qE5Yqf6IO96YO95oyC6L295Zyo6K+l56m66Ze05LiLDQogKiBAbW9kdWxlIFVFDQogKi8NCg0KDQovKioNCiAqIOagueaNruS8oOWFpeiKgueCueWSjOi/h+a7pOinhOWImei/h+a7pOebuOW6lOiKgueCuQ0KICogQG1vZHVsZSBVRQ0KICogQHNpbmNlIDEuMi42LjENCiAqIEBtZXRob2QgZmlsdGVyTm9kZQ0KICogQHBhcmFtIHsgT2JqZWN0IH0gcm9vdCDmjIflrppyb2906IqC54K5DQogKiBAcGFyYW0geyBPYmplY3QgfSBydWxlcyDov4fmu6Top4TliJlqc29u5a+56LGhDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogVUUuZmlsdGVyTm9kZShyb290LGVkaXRvci5vcHRpb25zLmZpbHRlclJ1bGVzKTsNCiAqIGBgYA0KICovDQp2YXIgZmlsdGVyTm9kZSA9IFVFLmZpbHRlck5vZGUgPSBmdW5jdGlvbiAoKSB7DQogICAgZnVuY3Rpb24gZmlsdGVyTm9kZShub2RlLHJ1bGVzKXsNCiAgICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHsNCiAgICAgICAgICAgIGNhc2UgJ3RleHQnOg0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAnZWxlbWVudCc6DQogICAgICAgICAgICAgICAgdmFyIHZhbDsNCiAgICAgICAgICAgICAgICBpZih2YWwgPSBydWxlc1tub2RlLnRhZ05hbWVdKXsNCiAgICAgICAgICAgICAgICAgICBpZih2YWwgPT09ICctJyl7DQogICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKQ0KICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHV0aWxzLmlzRnVuY3Rpb24odmFsKSl7DQogICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gbm9kZS5wYXJlbnROb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBub2RlLmdldEluZGV4KCk7DQogICAgICAgICAgICAgICAgICAgICAgIHZhbChub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgaWYobm9kZS5wYXJlbnROb2RlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuY2hpbGRyZW4pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsY2k7Y2k9bm9kZS5jaGlsZHJlbltpXTspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJOb2RlKGNpLHJ1bGVzKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2kucGFyZW50Tm9kZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gaW5kZXgsY2k7Y2k9cGFyZW50Tm9kZS5jaGlsZHJlbltpXTspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck5vZGUoY2kscnVsZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNpLnBhcmVudE5vZGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cnMgPSB2YWxbJyQnXTsNCiAgICAgICAgICAgICAgICAgICAgICAgaWYoYXR0cnMgJiYgbm9kZS5hdHRycyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQXR0cnMgPSB7fSx0bXBWYWw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGEgaW4gYXR0cnMpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFZhbCA9IG5vZGUuZ2V0QXR0cihhKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RvZG8g5Y+q5YWI5a+5c3R5bGXljZXni6zlpITnkIYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhID09ICdzdHlsZScgJiYgdXRpbHMuaXNBcnJheShhdHRyc1thXSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQ3NzU3R5bGUgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaChhdHRyc1thXSxmdW5jdGlvbih2KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0bXAgPSBub2RlLmdldFN0eWxlKHYpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBDc3NTdHlsZS5wdXNoKHYgKyAnOicgKyB0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wVmFsID0gdG1wQ3NzU3R5bGUuam9pbignOycpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRtcFZhbCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEF0dHJzW2FdID0gdG1wVmFsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hdHRycyA9IHRtcEF0dHJzOw0KICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuY2hpbGRyZW4pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCxjaTtjaT1ub2RlLmNoaWxkcmVuW2ldOyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyTm9kZShjaSxydWxlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2kucGFyZW50Tm9kZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIC8v5aaC5p6c5LiN5Zyo5ZCN5Y2V6YeM5omj5Ye65a2Q6IqC54K55bm25Yig6Zmk6K+l6IqC54K5LGNkYXRh6Zmk5aSWDQogICAgICAgICAgICAgICAgICAgIGlmKGR0ZC4kY2RhdGFbbm9kZS50YWdOYW1lXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSkNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IG5vZGUuZ2V0SW5kZXgoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gaW5kZXgsY2k7Y2k9cGFyZW50Tm9kZS5jaGlsZHJlbltpXTspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck5vZGUoY2kscnVsZXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNpLnBhcmVudE5vZGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6DQogICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpDQogICAgICAgIH0NCg0KICAgIH0NCiAgICByZXR1cm4gZnVuY3Rpb24ocm9vdCxydWxlcyl7DQogICAgICAgIGlmKHV0aWxzLmlzRW1wdHlPYmplY3QocnVsZXMpKXsNCiAgICAgICAgICAgIHJldHVybiByb290Ow0KICAgICAgICB9DQogICAgICAgIHZhciB2YWw7DQogICAgICAgIGlmKHZhbCA9IHJ1bGVzWyctJ10pew0KICAgICAgICAgICAgdXRpbHMuZWFjaCh2YWwuc3BsaXQoJyAnKSxmdW5jdGlvbihrKXsNCiAgICAgICAgICAgICAgICBydWxlc1trXSA9ICctJw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgICBmb3IodmFyIGk9IDAsY2k7Y2k9cm9vdC5jaGlsZHJlbltpXTspew0KICAgICAgICAgICAgZmlsdGVyTm9kZShjaSxydWxlcyk7DQogICAgICAgICAgICBpZihjaS5wYXJlbnROb2RlKXsNCiAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcm9vdDsNCiAgICB9DQp9KCk7DQovKgogKiBDcmVhdGVkIHdpdGggSmV0QnJhaW5zIFBocFN0b3JtLgogKiBVc2VyOiBjYW1wYWlnbgogKiBEYXRlOiAxMC84LzEzCiAqIFRpbWU6IDY6MTUgUE0KICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUgdXNlIEZpbGUgfCBTZXR0aW5ncyB8IEZpbGUgVGVtcGxhdGVzLgogKi8KVUUucGx1Z2luID0gZnVuY3Rpb24oKXsKICAgIHZhciBfcGx1Z2lucyA9IHt9OwogICAgcmV0dXJuIHsKICAgICAgICByZWdpc3RlciA6IGZ1bmN0aW9uKHBsdWdpbk5hbWUsZm4sb2xkT3B0aW9uTmFtZSxhZnRlckRpc2FibGVkKXsKICAgICAgICAgICAgaWYob2xkT3B0aW9uTmFtZSAmJiB1dGlscy5pc0Z1bmN0aW9uKG9sZE9wdGlvbk5hbWUpKXsKICAgICAgICAgICAgICAgIGFmdGVyRGlzYWJsZWQgPSBvbGRPcHRpb25OYW1lOwogICAgICAgICAgICAgICAgb2xkT3B0aW9uTmFtZSA9IG51bGwKICAgICAgICAgICAgfQogICAgICAgICAgICBfcGx1Z2luc1twbHVnaW5OYW1lXSA9IHsKICAgICAgICAgICAgICAgIG9wdGlvbk5hbWUgOiBvbGRPcHRpb25OYW1lIHx8IHBsdWdpbk5hbWUsCiAgICAgICAgICAgICAgICBleGVjRm4gOiBmbiwKICAgICAgICAgICAgICAgIC8v5b2T5o+S5Lu26KKr56aB55So5pe25omn6KGMCiAgICAgICAgICAgICAgICBhZnRlckRpc2FibGVkIDogYWZ0ZXJEaXNhYmxlZAogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsb2FkIDogZnVuY3Rpb24oZWRpdG9yKXsKICAgICAgICAgICAgdXRpbHMuZWFjaChfcGx1Z2lucyxmdW5jdGlvbihwbHVnaW4pewogICAgICAgICAgICAgICAgdmFyIF9leHBvcnQgPSBwbHVnaW4uZXhlY0ZuLmNhbGwoZWRpdG9yKTsKICAgICAgICAgICAgICAgIGlmKGVkaXRvci5vcHRpb25zW3BsdWdpbi5vcHRpb25OYW1lXSAhPT0gZmFsc2UpewogICAgICAgICAgICAgICAgICAgIGlmKF9leHBvcnQpewogICAgICAgICAgICAgICAgICAgICAgICAvL+WQjui+uemcgOimgeWGjeWBmuaJqeWxlQogICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKF9leHBvcnQsZnVuY3Rpb24odixrKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaChrLnRvTG93ZXJDYXNlKCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3J0Y3V0a2V5JzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmFkZHNob3J0Y3V0a2V5KHYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiaW5kZXZlbnRzJzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaCh2LGZ1bmN0aW9uKGZuLGV2ZW50TmFtZSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoZXZlbnROYW1lLGZuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JpbmRtdWx0aWV2ZW50cyc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2godXRpbHMuaXNBcnJheSh2KSA/IHY6W3ZdLGZ1bmN0aW9uKGV2ZW50KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlcyA9IHV0aWxzLnRyaW0oZXZlbnQudHlwZSkuc3BsaXQoL1xzKy8pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaCh0eXBlcyxmdW5jdGlvbihldmVudE5hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50LmhhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb21tYW5kcyc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2godixmdW5jdGlvbihleGVjRm4sZXhlY05hbWUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNvbW1hbmRzW2V4ZWNOYW1lXSA9IGV4ZWNGbgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnb3V0cHV0cnVsZSc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hZGRPdXRwdXRSdWxlKHYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpbnB1dHJ1bGUnOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYWRkSW5wdXRSdWxlKHYpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkZWZhdWx0b3B0aW9ucyc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHQodikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfWVsc2UgaWYocGx1Z2luLmFmdGVyRGlzYWJsZWQpewogICAgICAgICAgICAgICAgICAgIHBsdWdpbi5hZnRlckRpc2FibGVkLmNhbGwoZWRpdG9yKQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8v5ZCR5LiL5YW85a65CiAgICAgICAgICAgIHV0aWxzLmVhY2goVUUucGx1Z2lucyxmdW5jdGlvbihwbHVnaW4pewogICAgICAgICAgICAgICAgcGx1Z2luLmNhbGwoZWRpdG9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBydW4gOiBmdW5jdGlvbihwbHVnbk5hbWUsZWRpdG9yKXsKICAgICAgICAgICAgdmFyIHBsdWdpbiA9IF9wbHVnaW5zW3BsdWdpbk5hbWVdOwogICAgICAgICAgICBpZihwbHVnaW4pewogICAgICAgICAgICAgICAgcGx1Z2luLmV4ZUZuLmNhbGwoZWRpdG9yKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9KCk7DQovLy9pbXBvcnQgY29yZQ0KLy8vcGx1Z2luIOe8lui+keWZqOm7mOiupOeahOi/h+a7pOi9rOaNouacuuWItg0KDQpVRS5wbHVnaW5zWydkZWZhdWx0ZmlsdGVyJ10gPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBtZS5zZXRPcHQoew0KICAgICAgICAnYWxsb3dEaXZUcmFuc1RvUCc6dHJ1ZSwNCiAgICAgICAgJ2Rpc2FibGVkVGFibGVJblRhYmxlJzp0cnVlDQogICAgfSk7DQogICAgLy/pu5jorqTnmoTov4fmu6TlpITnkIYNCiAgICAvL+i/m+WFpee8lui+keWZqOeahOWGheWuueWkhOeQhg0KICAgIG1lLmFkZElucHV0UnVsZShmdW5jdGlvbiAocm9vdCkgew0KICAgICAgICB2YXIgYWxsb3dEaXZUcmFuc1RvUCA9IHRoaXMub3B0aW9ucy5hbGxvd0RpdlRyYW5zVG9QOw0KICAgICAgICB2YXIgdmFsOw0KICAgICAgICBmdW5jdGlvbiB0ZFBhcmVudChub2RlKXsNCiAgICAgICAgICAgIHdoaWxlKG5vZGUgJiYgbm9kZS50eXBlID09ICdlbGVtZW50Jyl7DQogICAgICAgICAgICAgICAgaWYobm9kZS50YWdOYW1lID09ICd0ZCcpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICAvL+i/m+ihjOm7mOiupOeahOWkhOeQhg0KICAgICAgICByb290LnRyYXZlcnNhbChmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PSAnZWxlbWVudCcpIHsNCiAgICAgICAgICAgICAgICBpZiAoIWR0ZC4kY2RhdGFbbm9kZS50YWdOYW1lXSAmJiBtZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZSAmJiBkdGQuJGlubGluZVtub2RlLnRhZ05hbWVdICYmICFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0gJiYgKCFub2RlLmF0dHJzIHx8IHV0aWxzLmlzRW1wdHlPYmplY3Qobm9kZS5hdHRycykpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghbm9kZS5maXJzdENoaWxkKCkpIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm9kZS50YWdOYW1lID09ICdzcGFuJyAmJiAoIW5vZGUuYXR0cnMgfHwgdXRpbHMuaXNFbXB0eU9iamVjdChub2RlLmF0dHJzKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgc3dpdGNoIChub2RlLnRhZ05hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3R5bGUnOg0KICAgICAgICAgICAgICAgICAgICBjYXNlICdzY3JpcHQnOg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZGF0YV90YWc6IG5vZGUudGFnTmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZGF0YV9kYXRhOiAobm9kZS5pbm5lckhUTUwoKSB8fCAnJyksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ191ZV9jdXN0b21fbm9kZV8nOid0cnVlJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUgPSAnZGl2JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5uZXJIVE1MKCcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdhJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPSBub2RlLmdldEF0dHIoJ2hyZWYnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cignX2hyZWYnLCB2YWwpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1nJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyBiYXNlNjTmmoLml7bljrvmjonvvIzlkI7ovrnlgZrov5znqIvlm77niYfkuIrkvKDlkI7vvIzlubLmjonov5nkuKoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPSBub2RlLmdldEF0dHIoJ3NyYycpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC9eZGF0YTovLnRlc3QodmFsKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cignX3NyYycsIG5vZGUuZ2V0QXR0cignc3JjJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3NwYW4nOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIud2Via2l0ICYmICh2YWwgPSBub2RlLmdldFN0eWxlKCd3aGl0ZS1zcGFjZScpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvbm93cmFwfG5vcm1hbC8udGVzdCh2YWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0U3R5bGUoJ3doaXRlLXNwYWNlJywgJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWUub3B0aW9ucy5hdXRvQ2xlYXJFbXB0eU5vZGUgJiYgdXRpbHMuaXNFbXB0eU9iamVjdChub2RlLmF0dHJzKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsIHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAncCc6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID0gbm9kZS5nZXRBdHRyKCdhbGlnbicpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyKCdhbGlnbicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0U3R5bGUoJ3RleHQtYWxpZ24nLCB2YWwpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjM0MzENCi8vICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNzc1N0eWxlID0gbm9kZS5nZXRBdHRyKCdzdHlsZScpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3NzU3R5bGUpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc1N0eWxlID0gY3NzU3R5bGUucmVwbGFjZSgvKG1hcmdpbnxwYWRkaW5nKVteO10rL2csICcnKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cignc3R5bGUnLCBjc3NTdHlsZSkNCi8vDQovLyAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIC8vcOagh+etvuS4jeWFgeiuuOW1jOWllw0KICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaChub2RlLmNoaWxkcmVuLGZ1bmN0aW9uKG4pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG4udHlwZSA9PSAnZWxlbWVudCcgJiYgbi50YWdOYW1lID09ICdwJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gbi5uZXh0U2libGluZygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QWZ0ZXIobixub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3QgPSBuOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShuZXh0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBuZXh0Lm5leHRTaWJsaW5nKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QWZ0ZXIobmV4dCxsYXN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBuZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHRtcDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUuZmlyc3RDaGlsZCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwoYnJvd3Nlci5pZSA/ICcmbmJzcDsnIDogJzxici8+JykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdkaXYnOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYobm9kZS5nZXRBdHRyKCdjZGF0YV90YWcnKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL+mSiOWvueS7o+eggei/memHjOS4jeWkhOeQhuaPkuWFpeS7o+eggeeahGRpdg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsID0gbm9kZS5nZXRBdHRyKCdjbGFzcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodmFsICYmIC9ebGluZSBudW1iZXJcZCsvLnRlc3QodmFsKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZighYWxsb3dEaXZUcmFuc1RvUCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSwgcCA9IFVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0bXBOb2RlID0gbm9kZS5maXJzdENoaWxkKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wTm9kZS50eXBlID09ICd0ZXh0JyB8fCAhVUUuZG9tLmR0ZC4kYmxvY2tbdG1wTm9kZS50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmFwcGVuZENoaWxkKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmZpcnN0Q2hpbGQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLCBub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBVRS51Tm9kZS5jcmVhdGVFbGVtZW50KCdwJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRtcE5vZGUsIG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHAuZmlyc3RDaGlsZCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLCBub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdkbCc6DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUgPSAndWwnOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2R0JzoNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGQnOg0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50YWdOYW1lID0gJ2xpJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdsaSc6DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gbm9kZS5nZXRBdHRyKCdjbGFzcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbGFzc05hbWUgfHwgIS9saXN0XC0vLnRlc3QoY2xhc3NOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cigpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZXMgPSBub2RlLmdldE5vZGVzQnlUYWdOYW1lKCdvbCB1bCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgVUUudXRpbHMuZWFjaCh0bXBOb2RlcywgZnVuY3Rpb24gKG4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QWZ0ZXIobiwgbm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZCc6DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RoJzoNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2FwdGlvbic6DQogICAgICAgICAgICAgICAgICAgICAgICBpZighbm9kZS5jaGlsZHJlbiB8fCAhbm9kZS5jaGlsZHJlbi5sZW5ndGgpew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChicm93c2VyLmllID8gVUUudU5vZGUuY3JlYXRlVGV4dCgnICcpIDogVUUudU5vZGUuY3JlYXRlRWxlbWVudCgnYnInKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICd0YWJsZSc6DQogICAgICAgICAgICAgICAgICAgICAgICBpZihtZS5vcHRpb25zLmRpc2FibGVkVGFibGVJblRhYmxlICYmIHRkUGFyZW50KG5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKFVFLnVOb2RlLmNyZWF0ZVRleHQobm9kZS5pbm5lclRleHQoKSksbm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQovLyAgICAgICAgICAgIGlmKG5vZGUudHlwZSA9PSAnY29tbWVudCcpew0KLy8gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpOw0KLy8gICAgICAgICAgICB9DQogICAgICAgIH0pDQoNCiAgICB9KTsNCg0KICAgIC8v5LuO57yW6L6R5Zmo5Ye65Y6755qE5YaF5a655aSE55CGDQogICAgbWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbiAocm9vdCkgew0KDQogICAgICAgIHZhciB2YWw7DQogICAgICAgIHJvb3QudHJhdmVyc2FsKGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICBpZiAobm9kZS50eXBlID09ICdlbGVtZW50Jykgew0KDQogICAgICAgICAgICAgICAgaWYgKG1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlICYmIGR0ZC4kaW5saW5lW25vZGUudGFnTmFtZV0gJiYgIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSAmJiAoIW5vZGUuYXR0cnMgfHwgdXRpbHMuaXNFbXB0eU9iamVjdChub2RlLmF0dHJzKSkpIHsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoIW5vZGUuZmlyc3RDaGlsZCgpKSBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7DQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vZGUudGFnTmFtZSA9PSAnc3BhbicgJiYgKCFub2RlLmF0dHJzIHx8IHV0aWxzLmlzRW1wdHlPYmplY3Qobm9kZS5hdHRycykpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSwgdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN3aXRjaCAobm9kZS50YWdOYW1lKSB7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpdic6DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsID0gbm9kZS5nZXRBdHRyKCdjZGF0YV90YWcnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9IHZhbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKFVFLnVOb2RlLmNyZWF0ZVRleHQobm9kZS5nZXRBdHRyKCdjZGF0YV9kYXRhJykpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHIoe2NkYXRhX3RhZzogJycsIGNkYXRhX2RhdGE6ICcnLCdfdWVfY3VzdG9tX25vZGVfJzonJ30pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2EnOg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9IG5vZGUuZ2V0QXR0cignX2hyZWYnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cih7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdocmVmJzogdXRpbHMuaHRtbCh2YWwpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnX2hyZWYnOiAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1nJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPSBub2RlLmdldEF0dHIoJ19zcmMnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cih7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzcmMnOiBub2RlLmdldEF0dHIoJ19zcmMnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ19zcmMnOiAnJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9KQ0KDQoNCiAgICB9KTsNCn07DQoNCi8qKg0KICog5o+S5YWlaHRtbOWtl+espuS4suaPkuS7tg0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDmj5LlhaVodG1s5Luj56CBDQogKiBAY29tbWFuZCBpbnNlcnRodG1sDQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAcGFyYW0geyBTdHJpbmcgfSBodG1sIOaPkuWFpeeahGh0bWzlrZfnrKbkuLINCiAqIEByZW1haW5kIOaPkuWFpeeahOagh+etvuWGheWuueaYr+WcqOW9k+WJjeeahOmAieWMuuS9jee9ruS4iuaPkuWFpe+8jOWmguaenOW9k+WJjeaYr+mXreWQiOeKtuaAge+8jOmCo+ebtOaOpeaPkuWFpeWGheWuue+8jCDlpoLmnpzlvZPliY3mmK/pgInkuK3nirbmgIHvvIzlsIblhYjmuIXpmaTlvZPliY3pgInkuK3lhoXlrrnlkI7vvIzlho3lgZrmj5LlhaUNCiAqIEB3YXJuaW5nIOazqOaEjzror6Xlkb3ku6TkvJrlr7nlvZPliY3pgInljLrnmoTkvY3nva7vvIzlr7nmj5LlhaXnmoTlhoXlrrnov5vooYzov4fmu6TovazmjaLlpITnkIbjgIIg6L+H5ruk55qE6KeE5YiZ6YG15b6qaHRtbOivreaEj+WMlueahOWOn+WImeOAgg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIC8veHh4W0JCXXh4eCDlvZPliY3pgInljLrkuLrpnZ7pl63lkIjpgInljLrvvIzpgInkuK1CQui/meS4pOS4quaWh+acrA0KICogLy/miafooYzlkb3ku6TvvIzmj5LlhaU8Yj5DQzwvYj4NCiAqIC8v5o+S5YWl5ZCO55qE5pWI5p6cIHh4eDxiPkNDPC9iPnh4eA0KICogLy88cD54eHx4eHg8L3A+IOW9k+WJjemAieWMuuS4uumXreWQiOeKtuaAgQ0KICogLy/mj5LlhaU8cD5DQzwvcD4NCiAqIC8v57uT5p6cIDxwPnh4PC9wPjxwPkNDPC9wPjxwPnh4eDwvcD4NCiAqIC8vPHA+eHh4eDwvcD58PC9wPnh4eDwvcD4g5b2T5YmN6YCJ5Yy65Zyo5Lik5LiqcOagh+etvuS5i+mXtA0KICogLy/mj5LlhaUgeHh4eA0KICogLy/nu5PmnpwgPHA+eHh4eDwvcD48cD54eHh4PC9wPjwvcD54eHg8L3A+DQogKiBgYGANCiAqLw0KDQpVRS5jb21tYW5kc1snaW5zZXJ0aHRtbCddID0gew0KICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY29tbWFuZCxodG1sLG5vdE5lZWRGaWx0ZXIpew0KICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgcmFuZ2UsDQogICAgICAgICAgICBkaXY7DQogICAgICAgIGlmKCFodG1sKXsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZihtZS5maXJlRXZlbnQoJ2JlZm9yZWluc2VydGh0bWwnLGh0bWwpID09PSB0cnVlKXsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICBkaXYgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApOw0KICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUnOw0KDQogICAgICAgIGlmICghbm90TmVlZEZpbHRlcikgew0KICAgICAgICAgICAgdmFyIHJvb3QgPSBVRS5odG1scGFyc2VyKGh0bWwpOw0KICAgICAgICAgICAgLy/lpoLmnpznu5nkuobov4fmu6Top4TliJnlsLHlhYjov5vooYzov4fmu6QNCiAgICAgICAgICAgIGlmKG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpew0KICAgICAgICAgICAgICAgIFVFLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclJ1bGVzKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5omn6KGM6buY6K6k55qE5aSE55CGDQogICAgICAgICAgICBtZS5maWx0ZXJJbnB1dFJ1bGUocm9vdCk7DQogICAgICAgICAgICBodG1sID0gcm9vdC50b0h0bWwoKQ0KICAgICAgICB9DQogICAgICAgIGRpdi5pbm5lckhUTUwgPSB1dGlscy50cmltKCBodG1sICk7DQoNCiAgICAgICAgaWYgKCAhcmFuZ2UuY29sbGFwc2VkICkgew0KICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzRmlsbENoYXIodG1wTm9kZSkpew0KICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHRtcE5vZGUpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0bXBOb2RlID0gcmFuZ2UuZW5kQ29udGFpbmVyOw0KICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNGaWxsQ2hhcih0bXBOb2RlKSl7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIodG1wTm9kZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJhbmdlLnR4dFRvRWxtQm91bmRhcnkoKTsNCiAgICAgICAgICAgIC8v57uT5p2f6L6555WM5Y+v6IO95pS+5Yiw5LqGYnLnmoTliY3ovrnvvIzopoHmiopicuWMheWQq+i/m+adpQ0KICAgICAgICAgICAgLy8geFt4eHhdPGJyLz4NCiAgICAgICAgICAgIGlmKHJhbmdlLmVuZENvbnRhaW5lciAmJiByYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGUgPT0gMSl7DQogICAgICAgICAgICAgICAgdG1wTm9kZSA9IHJhbmdlLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLmVuZE9mZnNldF07DQogICAgICAgICAgICAgICAgaWYodG1wTm9kZSAmJiBkb21VdGlscy5pc0JyKHRtcE5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIodG1wTm9kZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYocmFuZ2Uuc3RhcnRPZmZzZXQgPT0gMCl7DQogICAgICAgICAgICAgICAgdG1wTm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQm91bmRhcnlOb2RlKHRtcE5vZGUsJ2ZpcnN0Q2hpbGQnKSApew0KICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gcmFuZ2UuZW5kQ29udGFpbmVyOw0KICAgICAgICAgICAgICAgICAgICBpZihyYW5nZS5lbmRPZmZzZXQgPT0gKHRtcE5vZGUubm9kZVR5cGUgPT0gMyA/IHRtcE5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IHRtcE5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpICYmIGRvbVV0aWxzLmlzQm91bmRhcnlOb2RlKHRtcE5vZGUsJ2xhc3RDaGlsZCcpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmJvZHkuaW5uZXJIVE1MID0gJzxwPicrKGJyb3dzZXIuaWUgPyAnJyA6ICc8YnIvPicpKyc8L3A+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG1lLmJvZHkuZmlyc3RDaGlsZCwwKS5jb2xsYXBzZSh0cnVlKQ0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAhcmFuZ2UuY29sbGFwc2VkICYmIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7DQogICAgICAgICAgICBpZihyYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSByYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSxwcmU7DQogICAgICAgICAgICAgICAgaWYoY2hpbGQgJiYgZG9tVXRpbHMuaXNCbG9ja0VsbShjaGlsZCkgJiYgKHByZSA9IGNoaWxkLnByZXZpb3VzU2libGluZykgJiYgZG9tVXRpbHMuaXNCbG9ja0VsbShwcmUpKXsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKHByZSxwcmUuY2hpbGROb2Rlcy5sZW5ndGgpLmNvbGxhcHNlKCk7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlKGNoaWxkLmZpcnN0Q2hpbGQpew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKGNoaWxkLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaGlsZCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCg0KDQogICAgICAgIHZhciBjaGlsZCxwYXJlbnQscHJlLHRtcCxoYWRCcmVhayA9IDAsIG5leHROb2RlOw0KICAgICAgICAvL+WmguaenOW9k+WJjeS9jee9rumAieS4reS6hmZpbGxjaGFy6KaB5bmy5o6J77yM6KaB5LiN5Lya5Lqn55Sf56m66KGMDQogICAgICAgIGlmKHJhbmdlLmluRmlsbENoYXIoKSl7DQogICAgICAgICAgICBjaGlsZCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNGaWxsQ2hhcihjaGlsZCkpew0KICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKGNoaWxkKS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2hpbGQpOw0KICAgICAgICAgICAgfWVsc2UgaWYoZG9tVXRpbHMuaXNGaWxsQ2hhcihjaGlsZCx0cnVlKSl7DQogICAgICAgICAgICAgICAgY2hpbGQubm9kZVZhbHVlID0gY2hpbGQubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsJycpOw0KICAgICAgICAgICAgICAgIHJhbmdlLnN0YXJ0T2Zmc2V0LS07DQogICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2VkICYmIHJhbmdlLmNvbGxhcHNlKHRydWUpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgLy/liJfooajljZXni6zlpITnkIYNCiAgICAgICAgdmFyIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwnbGknLHRydWUpOw0KICAgICAgICBpZihsaSl7DQogICAgICAgICAgICB2YXIgbmV4dCxsYXN0Ow0KICAgICAgICAgICAgd2hpbGUoY2hpbGQgPSBkaXYuZmlyc3RDaGlsZCl7DQogICAgICAgICAgICAgICAgLy/pkojlr7locuWNleeLrOWkhOeQhuS4gOS4i+WFiA0KICAgICAgICAgICAgICAgIHdoaWxlKGNoaWxkICYmIChjaGlsZC5ub2RlVHlwZSA9PSAzIHx8ICFkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSB8fCBjaGlsZC50YWdOYW1lPT0nSFInICkpew0KICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoIGNoaWxkKS5jb2xsYXBzZSgpOw0KICAgICAgICAgICAgICAgICAgICBsYXN0ID0gY2hpbGQ7DQogICAgICAgICAgICAgICAgICAgIGNoaWxkID0gbmV4dDsNCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihjaGlsZCl7DQogICAgICAgICAgICAgICAgICAgIGlmKC9eKG9sfHVsKSQvaS50ZXN0KGNoaWxkLnRhZ05hbWUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGNoaWxkLmZpcnN0Q2hpbGQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBjaGlsZC5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmluc2VydEFmdGVyKGxpLGNoaWxkLmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpID0gbGkubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2hpbGQpDQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcExpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGNoaWxkLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgdG1wTGkgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobGksdG1wTGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdG1wTGkuYXBwZW5kQ2hpbGQoY2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGNoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBuZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSB0bXBMaTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwnbGknLHRydWUpOw0KICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGxpKSl7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGxpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYobGFzdCl7DQoNCiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKGxhc3QpLmNvbGxhcHNlKHRydWUpLnNlbGVjdCh0cnVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHdoaWxlICggY2hpbGQgPSBkaXYuZmlyc3RDaGlsZCApIHsNCiAgICAgICAgICAgICAgICBpZihoYWRCcmVhayl7DQogICAgICAgICAgICAgICAgICAgIHZhciBwID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZShjaGlsZCAmJiAoY2hpbGQubm9kZVR5cGUgPT0gMyB8fCAhZHRkLiRibG9ja1tjaGlsZC50YWdOYW1lXSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBjaGlsZC5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQoY2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQgPSBuZXh0Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihwLmZpcnN0Q2hpbGQpew0KDQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IHANCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKCBjaGlsZCApOw0KICAgICAgICAgICAgICAgIG5leHROb2RlID0gY2hpbGQubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgaWYgKCAhaGFkQnJlYWsgJiYgY2hpbGQubm9kZVR5cGUgPT0gZG9tVXRpbHMuTk9ERV9FTEVNRU5UICYmIGRvbVV0aWxzLmlzQmxvY2tFbG0oIGNoaWxkICkgKXsNCg0KICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBkb21VdGlscy5maW5kUGFyZW50KCBjaGlsZCxmdW5jdGlvbiAoIG5vZGUgKXsgcmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0oIG5vZGUgKTsgfSApOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcmVudCAmJiBwYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICdib2R5JyAmJiAhKGR0ZFtwYXJlbnQudGFnTmFtZV1bY2hpbGQubm9kZU5hbWVdICYmIGNoaWxkLnBhcmVudE5vZGUgPT09IHBhcmVudCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWR0ZFtwYXJlbnQudGFnTmFtZV1bY2hpbGQubm9kZU5hbWVdKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUgPSBwYXJlbnQ7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBjaGlsZC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0bXAgIT09IHBhcmVudCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IHRtcDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gdG1wLnBhcmVudE5vZGU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuYnJlYWtQYXJlbnQoIGNoaWxkLCBwcmUgfHwgdG1wICk7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+WOu+aOiWJyZWFr5ZCO5YmN5LiA5Liq5aSa5L2Z55qE6IqC54K5ICA8cD58PFtwPiA9PT4gPHA+PC9wPjxkaXY+PC9kaXY+PHA+fDwvcD4NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmUgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy50cmltV2hpdGVUZXh0Tm9kZShwcmUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXByZS5jaGlsZE5vZGVzLmxlbmd0aCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHByZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjIwMTIs5Zyo6Z2eaWXnmoTmg4XlhrXvvIzliIflvIDlkI7liankuIvnmoToioLngrnmnInlj6/og73kuI3og73ngrnlhaXlhYnmoIfmt7vliqBicuWNoOS9jQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZighYnJvd3Nlci5pZSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmcpICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuaXNCbG9ja0VsbShuZXh0KSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQubGFzdENoaWxkICYmDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIWRvbVV0aWxzLmlzQnIobmV4dC5sYXN0Q2hpbGQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0LmFwcGVuZENoaWxkKG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaGFkQnJlYWsgPSAxOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gY2hpbGQubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgaWYoIWRpdi5maXJzdENoaWxkICYmIG5leHQgJiYgZG9tVXRpbHMuaXNCbG9ja0VsbShuZXh0KSl7DQoNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobmV4dCwwKS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKCBjaGlsZCApLmNvbGxhcHNlKCk7DQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgY2hpbGQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCg0KICAgICAgICAgICAgaWYobmV4dE5vZGUgJiYgZG9tVXRpbHMuaXNCcihuZXh0Tm9kZSkpew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShuZXh0Tm9kZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v55SoY2hyb21l5Y+v6IO95pyJ56m655m95bGV5L2N56ymDQogICAgICAgICAgICBpZihkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSAmJiBkb21VdGlscy5pc0VtcHR5Tm9kZShjaGlsZCkpew0KICAgICAgICAgICAgICAgIGlmKG5leHROb2RlID0gY2hpbGQubmV4dFNpYmxpbmcpew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICBpZihuZXh0Tm9kZS5ub2RlVHlwZSA9PSAxICYmIGR0ZC4kYmxvY2tbbmV4dE5vZGUudGFnTmFtZV0pew0KDQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChuZXh0Tm9kZSwwKS5jb2xsYXBzZSh0cnVlKS5zaHJpbmtCb3VuZGFyeSgpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9ZWxzZXsNCg0KICAgICAgICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5pbm5lckhUTUwgPSBicm93c2VyLmllID8gZG9tVXRpbHMuZmlsbENoYXIgOiAnPGJyLz4nOw0KICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShjaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2hpbGQpDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/liqDkuIp0cnVl5Zug5Li65Zyo5Yig6Zmk6KGo5oOF562J5pe25Lya5Yig5Lik5qyh77yM56ys5LiA5qyh5piv5Yig55qEZmlsbERhdGENCiAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICB9Y2F0Y2goZSl7fQ0KDQogICAgICAgIH0NCg0KDQoNCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgIHJhbmdlLnNjcm9sbFRvVmlldyhtZS5hdXRvSGVpZ2h0RW5hYmxlZCxtZS5hdXRvSGVpZ2h0RW5hYmxlZCA/IGRvbVV0aWxzLmdldFhZKG1lLmlmcmFtZSkueTowKTsNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYWZ0ZXJpbnNlcnRodG1sJyk7DQogICAgICAgIH0sMjAwKTsNCiAgICB9DQp9Ow0KDQovKioNCiAqIOiHquWKqOaOkueJiA0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDlr7nlvZPliY3nvJbovpHlmajnmoTlhoXlrrnmiafooYzoh6rliqjmjpLniYjvvIwg5o6S54mI55qE6KGM5Li65qC55o2uY29uZmln6YWN572u5paH5Lu26YeM55qE4oCcYXV0b3R5cGVzZXTigJ3pgInpobnov5vooYzmjqfliLbjgIINCiAqIEBjb21tYW5kIGF1dG90eXBlc2V0DQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnYXV0b3R5cGVzZXQnICk7DQogKiBgYGANCiAqLw0KDQpVRS5wbHVnaW5zWydhdXRvdHlwZXNldCddID0gZnVuY3Rpb24oKXsNCg0KICAgIHRoaXMuc2V0T3B0KHsnYXV0b3R5cGVzZXQnOnsNCiAgICAgICAgbWVyZ2VFbXB0eWxpbmUgOiB0cnVlLCAgICAgICAgICAvL+WQiOW5tuepuuihjA0KICAgICAgICAgICAgcmVtb3ZlQ2xhc3MgOiB0cnVlLCAgICAgICAgICAgIC8v5Y675o6J5YaX5L2Z55qEY2xhc3MNCiAgICAgICAgICAgIHJlbW92ZUVtcHR5bGluZSA6IGZhbHNlLCAgICAgICAgLy/ljrvmjonnqbrooYwNCiAgICAgICAgICAgIHRleHRBbGlnbiA6ICJsZWZ0IiwgICAgICAgICAgICAgLy/mrrXokL3nmoTmjpLniYjmlrnlvI/vvIzlj6/ku6XmmK8gbGVmdCxyaWdodCxjZW50ZXIsanVzdGlmeSDljrvmjonov5nkuKrlsZ7mgKfooajnpLrkuI3miafooYzmjpLniYgNCiAgICAgICAgICAgIGltYWdlQmxvY2tMaW5lIDogJ2NlbnRlcicsICAgICAgLy/lm77niYfnmoTmta7liqjmlrnlvI/vvIzni6zljaDkuIDooYzliafkuK0s5bem5Y+z5rWu5Yqo77yM6buY6K6kOiBjZW50ZXIsbGVmdCxyaWdodCxub25lIOWOu+aOiei/meS4quWxnuaAp+ihqOekuuS4jeaJp+ihjOaOkueJiA0KICAgICAgICAgICAgcGFzdGVGaWx0ZXIgOiBmYWxzZSwgICAgICAgICAgICAgLy/moLnmja7op4TliJnov4fmu6TmsqHkuovnspjotLTov5vmnaXnmoTlhoXlrrkNCiAgICAgICAgICAgIGNsZWFyRm9udFNpemUgOiBmYWxzZSwgICAgICAgICAgIC8v5Y675o6J5omA5pyJ55qE5YaF5bWM5a2X5Y+377yM5L2/55So57yW6L6R5Zmo6buY6K6k55qE5a2X5Y+3DQogICAgICAgICAgICBjbGVhckZvbnRGYW1pbHkgOiBmYWxzZSwgICAgICAgICAvL+WOu+aOieaJgOacieeahOWGheW1jOWtl+S9k++8jOS9v+eUqOe8lui+keWZqOm7mOiupOeahOWtl+S9kw0KICAgICAgICAgICAgcmVtb3ZlRW1wdHlOb2RlIDogZmFsc2UsICAgICAgICAgLy8g5Y675o6J56m66IqC54K5DQogICAgICAgICAgICAvL+WPr+S7peWOu+aOieeahOagh+etvg0KICAgICAgICAgICAgcmVtb3ZlVGFnTmFtZXMgOiB1dGlscy5leHRlbmQoe2RpdjoxfSxkdGQuJHJlbW92ZUVtcHR5KSwNCiAgICAgICAgICAgIGluZGVudCA6IGZhbHNlLCAgICAgICAgICAgICAgICAgIC8vIOihjOmmlue8qei/mw0KICAgICAgICAgICAgaW5kZW50VmFsdWUgOiAnMmVtJyAgICAgICAgICAgICAvL+ihjOmmlue8qei/m+eahOWkp+Wwjw0KICAgIH19KTsNCiAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICBvcHQgPSBtZS5vcHRpb25zLmF1dG90eXBlc2V0LA0KICAgICAgICByZW1haW5DbGFzcyA9IHsNCiAgICAgICAgICAgICdzZWxlY3RUZENsYXNzJzoxLA0KICAgICAgICAgICAgJ3BhZ2VicmVhayc6MSwNCiAgICAgICAgICAgICdhbmNob3JjbGFzcyc6MQ0KICAgICAgICB9LA0KICAgICAgICByZW1haW5UYWcgPSB7DQogICAgICAgICAgICAnbGknOjENCiAgICAgICAgfSwNCiAgICAgICAgdGFncyA9IHsNCiAgICAgICAgICAgIGRpdjoxLA0KICAgICAgICAgICAgcDoxLA0KICAgICAgICAgICAgLy90cmFjZToyMTgzIOi/meS6m+S5n+iupOS4uuaYr+ihjA0KICAgICAgICAgICAgYmxvY2txdW90ZToxLGNlbnRlcjoxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLA0KICAgICAgICAgICAgc3BhbjoxDQogICAgICAgIH0sDQogICAgICAgIGhpZ2hsaWdodENvbnQ7DQogICAgLy/ljYfnuqfkuobniYjmnKzvvIzkvYbphY3nva7pobnnm67ph4zmsqHmnIlhdXRvdHlwZXNldA0KICAgIGlmKCFvcHQpew0KICAgICAgICByZXR1cm47DQogICAgfQ0KICAgIGZ1bmN0aW9uIGlzTGluZShub2RlLG5vdEVtcHR5KXsNCiAgICAgICAgaWYoIW5vZGUgfHwgbm9kZS5ub2RlVHlwZSA9PSAzKQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIGlmKGRvbVV0aWxzLmlzQnIobm9kZSkpDQogICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgaWYobm9kZSAmJiBub2RlLnBhcmVudE5vZGUgJiYgdGFnc1tub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0pew0KICAgICAgICAgICAgaWYoaGlnaGxpZ2h0Q29udCAmJiBoaWdobGlnaHRDb250LmNvbnRhaW5zKG5vZGUpDQogICAgICAgICAgICAgICAgfHwNCiAgICAgICAgICAgICAgICBub2RlLmdldEF0dHJpYnV0ZSgncGFnZWJyZWFrJykNCiAgICAgICAgICAgICl7DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiBub3RFbXB0eSA/ICFkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSkgOiBkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSxuZXcgUmVnRXhwKCdbXFxzJytkb21VdGlscy5maWxsQ2hhcg0KICAgICAgICAgICAgICAgICsnXScsJ2cnKSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZW1vdmVOb3RBdHRyaWJ1dGVTcGFuKG5vZGUpew0KICAgICAgICBpZighbm9kZS5zdHlsZS5jc3NUZXh0KXsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMobm9kZSxbJ3N0eWxlJ10pOw0KICAgICAgICAgICAgaWYobm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gJ3NwYW4nICYmIGRvbVV0aWxzLmhhc05vQXR0cmlidXRlcyhub2RlKSl7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5vZGUsdHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gYXV0b3R5cGUodHlwZSxodG1sKXsNCiAgICAgICAgdmFyIG1lID0gdGhpcyxjb250Ow0KICAgICAgICBpZihodG1sKXsNCiAgICAgICAgICAgIGlmKCFvcHQucGFzdGVGaWx0ZXIpew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnQgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgICAgIGNvbnQuaW5uZXJIVE1MID0gaHRtbC5odG1sOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGNvbnQgPSBtZS5kb2N1bWVudC5ib2R5Ow0KICAgICAgICB9DQogICAgICAgIHZhciBub2RlcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGNvbnQsJyonKTsNCg0KICAgICAgICAgIC8vIOihjOmmlue8qei/m++8jOauteiQveaWueWQke+8jOautemXtOi3ne+8jOauteWGhemXtOi3nQ0KICAgICAgICBmb3IodmFyIGk9MCxjaTtjaT1ub2Rlc1tpKytdOyl7DQoNCiAgICAgICAgICAgIGlmKG1lLmZpcmVFdmVudCgnZXhjbHVkZU5vZGVpbmF1dG90eXBlJyxjaSkgPT09IHRydWUpew0KICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIC8vZm9udC1zaXplDQogICAgICAgICAgICBpZihvcHQuY2xlYXJGb250U2l6ZSAmJiBjaS5zdHlsZS5mb250U2l6ZSl7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlU3R5bGUoY2ksJ2ZvbnQtc2l6ZScpOw0KDQogICAgICAgICAgICAgICAgcmVtb3ZlTm90QXR0cmlidXRlU3BhbihjaSk7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vZm9udC1mYW1pbHkNCiAgICAgICAgICAgIGlmKG9wdC5jbGVhckZvbnRGYW1pbHkgJiYgY2kuc3R5bGUuZm9udEZhbWlseSl7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlU3R5bGUoY2ksJ2ZvbnQtZmFtaWx5Jyk7DQogICAgICAgICAgICAgICAgcmVtb3ZlTm90QXR0cmlidXRlU3BhbihjaSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmKGlzTGluZShjaSkpew0KICAgICAgICAgICAgICAgIC8v5ZCI5bm256m66KGMDQogICAgICAgICAgICAgICAgaWYob3B0Lm1lcmdlRW1wdHlsaW5lICl7DQogICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gY2kubmV4dFNpYmxpbmcsdG1wTm9kZSxpc0JyID0gZG9tVXRpbHMuaXNCcihjaSk7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlKGlzTGluZShuZXh0KSl7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gbmV4dDsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB0bXBOb2RlLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNCciAmJiAoIW5leHQgfHwgbmV4dCAmJiAhZG9tVXRpbHMuaXNCcihuZXh0KSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgIC8v5Y675o6J56m66KGM77yM5L+d55WZ5Y2g5L2N55qE56m66KGMDQogICAgICAgICAgICAgICAgaWYob3B0LnJlbW92ZUVtcHR5bGluZSAmJiBkb21VdGlscy5pbkRvYyhjaSxjb250KSAmJiAhcmVtYWluVGFnW2NpLnBhcmVudE5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSApew0KICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0JyKGNpKSl7DQogICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gY2kubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihuZXh0ICYmICFkb21VdGlscy5pc0JyKG5leHQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2kpOw0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoaXNMaW5lKGNpLHRydWUpICYmIGNpLnRhZ05hbWUgIT0gJ1NQQU4nKXsNCiAgICAgICAgICAgICAgICBpZihvcHQuaW5kZW50KXsNCiAgICAgICAgICAgICAgICAgICAgY2kuc3R5bGUudGV4dEluZGVudCA9IG9wdC5pbmRlbnRWYWx1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYob3B0LnRleHRBbGlnbil7DQogICAgICAgICAgICAgICAgICAgIGNpLnN0eWxlLnRleHRBbGlnbiA9IG9wdC50ZXh0QWxpZ247DQogICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgaWYob3B0LmxpbmVIZWlnaHQpDQovLyAgICAgICAgICAgICAgICAgICAgY2kuc3R5bGUubGluZUhlaWdodCA9IG9wdC5saW5lSGVpZ2h0ICsgJ2NtJzsNCg0KDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8v5Y675o6JY2xhc3Ms5L+d55WZ55qEY2xhc3PkuI3ljrvmjokNCiAgICAgICAgICAgIGlmKG9wdC5yZW1vdmVDbGFzcyAmJiBjaS5jbGFzc05hbWUgJiYgIXJlbWFpbkNsYXNzW2NpLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpXSl7DQoNCiAgICAgICAgICAgICAgICBpZihoaWdobGlnaHRDb250ICYmIGhpZ2hsaWdodENvbnQuY29udGFpbnMoY2kpKXsNCiAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGNpLFsnY2xhc3MnXSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8v6KGo5oOF5LiN5aSE55CGDQogICAgICAgICAgICBpZihvcHQuaW1hZ2VCbG9ja0xpbmUgJiYgY2kudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICdpbWcnICYmICFjaS5nZXRBdHRyaWJ1dGUoJ2Vtb3Rpb24nKSl7DQogICAgICAgICAgICAgICAgaWYoaHRtbCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBjaTsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcHQuaW1hZ2VCbG9ja0xpbmUpew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdub25lJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcE4gPSBpbWcucGFyZW50Tm9kZSx0bXBOb2RlLHByZSxuZXh0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGR0ZC4kaW5saW5lW3BOLnRhZ05hbWVdIHx8IHBOLnRhZ05hbWUgPT0gJ0EnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcE4gPSBwTi5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gcE47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodG1wTm9kZS50YWdOYW1lID09ICdQJyAmJiBkb21VdGlscy5nZXRTdHlsZSh0bXBOb2RlLCd0ZXh0LWFsaWduJykgPT0gJ2NlbnRlcicpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighZG9tVXRpbHMuaXNCb2R5KHRtcE5vZGUpICYmIGRvbVV0aWxzLmdldENoaWxkQ291bnQodG1wTm9kZSxmdW5jdGlvbihub2RlKXtyZXR1cm4gIWRvbVV0aWxzLmlzQnIobm9kZSkgJiYgIWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKX0pID09IDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlID0gdG1wTm9kZS5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gdG1wTm9kZS5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZSAmJiBuZXh0ICYmIHByZS5ub2RlVHlwZSA9PSAxICYmICBuZXh0Lm5vZGVUeXBlID09IDEgJiYgcHJlLnRhZ05hbWUgPT0gbmV4dC50YWdOYW1lICYmIGRvbVV0aWxzLmlzQmxvY2tFbG0ocHJlKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKHRtcE5vZGUuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUobmV4dC5maXJzdENoaWxkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKG5leHQuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRTdHlsZSh0bXBOb2RlLCd0ZXh0LWFsaWduJywnJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRTdHlsZShpbWcsJ2Zsb2F0JyxvcHQuaW1hZ2VCbG9ja0xpbmUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtZS5xdWVyeUNvbW1hbmRWYWx1ZSgnaW1hZ2VmbG9hdCcpICE9ICdjZW50ZXInKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcE4gPSBpbWcucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0U3R5bGUoaW1nLCdmbG9hdCcsJ25vbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IGltZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUocE4gJiYgZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChwTixmdW5jdGlvbihub2RlKXtyZXR1cm4gIWRvbVV0aWxzLmlzQnIobm9kZSkgJiYgIWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKX0pID09IDENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChkdGQuJGlubGluZVtwTi50YWdOYW1lXSB8fCBwTi50YWdOYW1lID09ICdBJykpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IHBOOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcE4gPSBwTi5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwTm9kZSA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhwTm9kZSx7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOid0ZXh0LWFsaWduOmNlbnRlcicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocE5vZGUsdG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBOb2RlLmFwcGVuZENoaWxkKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRTdHlsZSh0bXBOb2RlLCdmbG9hdCcsJycpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShjaSkuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdpbWFnZWZsb2F0JyxvcHQuaW1hZ2VCbG9ja0xpbmUpOw0KICAgICAgICAgICAgICAgIH0NCg0KDQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy/ljrvmjonlhpfkvZnnmoTmoIfnrb4NCiAgICAgICAgICAgIGlmKG9wdC5yZW1vdmVFbXB0eU5vZGUpew0KICAgICAgICAgICAgICAgIGlmKG9wdC5yZW1vdmVUYWdOYW1lc1tjaS50YWdOYW1lLnRvTG93ZXJDYXNlKCldICYmIGRvbVV0aWxzLmhhc05vQXR0cmlidXRlcyhjaSkgJiYgZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGNpKSl7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKGh0bWwpew0KICAgICAgICAgICAgaHRtbC5odG1sID0gY29udC5pbm5lckhUTUw7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYob3B0LnBhc3RlRmlsdGVyKXsNCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2JlZm9yZXBhc3RlJyxhdXRvdHlwZSk7DQogICAgfQ0KDQogICAgbWUuY29tbWFuZHNbJ2F1dG90eXBlc2V0J10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIG1lLnJlbW92ZUxpc3RlbmVyKCdiZWZvcmVwYXN0ZScsYXV0b3R5cGUpOw0KICAgICAgICAgICAgaWYob3B0LnBhc3RlRmlsdGVyKXsNCiAgICAgICAgICAgICAgICBtZS5hZGRMaXN0ZW5lcignYmVmb3JlcGFzdGUnLGF1dG90eXBlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGF1dG90eXBlLmNhbGwobWUpDQogICAgICAgIH0NCg0KICAgIH07DQoNCn07DQoNCg0KLyoqDQogKiDlv6vmjbfplK7mj5DkuqQNCiAqIEBmaWxlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICog5o+Q5Lqk6KGo5Y2VDQogKiBAY29tbWFuZCBhdXRvc3VibWl0DQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnYXV0b3N1Ym1pdCcgKTsNCiAqIGBgYA0KICovDQoNClVFLnBsdWdpbi5yZWdpc3RlcignYXV0b3N1Ym1pdCcsZnVuY3Rpb24oKXsNCiAgICByZXR1cm4gew0KICAgICAgICBzaG9ydGN1dGtleTp7DQogICAgICAgICAgICAiYXV0b3N1Ym1pdCI6ImN0cmwrMTMiIC8v5omL5Yqo5o+Q5LqkDQogICAgICAgIH0sDQogICAgICAgIGNvbW1hbmRzOnsNCiAgICAgICAgICAgICdhdXRvc3VibWl0Jzp7DQogICAgICAgICAgICAgICAgZXhlY0NvbW1hbmQ6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbWU9dGhpcywNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKG1lLmlmcmFtZSwiZm9ybSIsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0pew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYobWUuZmlyZUV2ZW50KCJiZWZvcmVzdWJtaXQiKT09PWZhbHNlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5zeW5jKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfSk7DQovKioKICog5Zu+54mH5o+S5YWl44CB5o6S54mI5o+S5Lu2CiAqIEBmaWxlCiAqIEBzaW5jZSAxLjIuNi4xCiAqLwoKLyoqCiAqIOWbvueJh+Wvuem9kOaWueW8jwogKiBAY29tbWFuZCBpbWFnZWZsb2F0CiAqIEBtZXRob2QgZXhlY0NvbW1hbmQKICogQHJlbWluZCDlgLxjZW50ZXLkuLrni6zljaDkuIDooYzlsYXkuK0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sgogKiBAcGFyYW0geyBTdHJpbmcgfSBhbGlnbiDlr7npvZDmlrnlvI/vvIzlj6/kvKBsZWZ044CBcmlnaHTjgIFub25l44CBY2VudGVyCiAqIEByZW1haW5kIGNlbnRlcuihqOekuuWbvueJh+eLrOWNoOS4gOihjAogKiBAZXhhbXBsZQogKiBgYGBqYXZhc2NyaXB0CiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2ltYWdlZmxvYXQnLCAnY2VudGVyJyApOwogKiBgYGAKICovCgovKioKICog5aaC5p6c6YCJ5Yy65omA5Zyo5L2N572u5piv5Zu+54mH5Yy65Z+fCiAqIEBjb21tYW5kIGltYWdlZmxvYXQKICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyCiAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57lm77niYflr7npvZDmlrnlvI8KICogQGV4YW1wbGUKICogYGBgamF2YXNjcmlwdAogKiBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoICdpbWFnZWZsb2F0JyApOwogKiBgYGAKICovCgpVRS5jb21tYW5kc1snaW1hZ2VmbG9hdCddID0gewogICAgZXhlY0NvbW1hbmQ6ZnVuY3Rpb24gKGNtZCwgYWxpZ24pIHsKICAgICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgICByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkKSB7CiAgICAgICAgICAgIHZhciBpbWcgPSByYW5nZS5nZXRDbG9zZWROb2RlKCk7CiAgICAgICAgICAgIGlmIChpbWcgJiYgaW1nLnRhZ05hbWUgPT0gJ0lNRycpIHsKICAgICAgICAgICAgICAgIHN3aXRjaCAoYWxpZ24pIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzoKICAgICAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbm9uZSc6CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwTiA9IGltZy5wYXJlbnROb2RlLCB0bXBOb2RlLCBwcmUsIG5leHQ7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChkdGQuJGlubGluZVtwTi50YWdOYW1lXSB8fCBwTi50YWdOYW1lID09ICdBJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcE4gPSBwTi5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSBwTjsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcE5vZGUudGFnTmFtZSA9PSAnUCcgJiYgZG9tVXRpbHMuZ2V0U3R5bGUodG1wTm9kZSwgJ3RleHQtYWxpZ24nKSA9PSAnY2VudGVyJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb21VdGlscy5pc0JvZHkodG1wTm9kZSkgJiYgZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudCh0bXBOb2RlLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZG9tVXRpbHMuaXNCcihub2RlKSAmJiAhZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IHRtcE5vZGUucHJldmlvdXNTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB0bXBOb2RlLm5leHRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmUgJiYgbmV4dCAmJiBwcmUubm9kZVR5cGUgPT0gMSAmJiBuZXh0Lm5vZGVUeXBlID09IDEgJiYgcHJlLnRhZ05hbWUgPT0gbmV4dC50YWdOYW1lICYmIGRvbVV0aWxzLmlzQmxvY2tFbG0ocHJlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUuYXBwZW5kQ2hpbGQodG1wTm9kZS5maXJzdENoaWxkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5leHQuZmlyc3RDaGlsZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKG5leHQuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0U3R5bGUodG1wTm9kZSwgJ3RleHQtYWxpZ24nLCAnJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShpbWcpLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFN0eWxlKGltZywgJ2Zsb2F0JywgYWxpZ24gPT0gJ25vbmUnID8gJycgOiBhbGlnbik7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFsaWduID09ICdub25lJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGltZywnYWxpZ24nKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2VudGVyJzoKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lLnF1ZXJ5Q29tbWFuZFZhbHVlKCdpbWFnZWZsb2F0JykgIT0gJ2NlbnRlcicpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBOID0gaW1nLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRTdHlsZShpbWcsICdmbG9hdCcsICcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoaW1nLCdhbGlnbicpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZSA9IGltZzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwTiAmJiBkb21VdGlscy5nZXRDaGlsZENvdW50KHBOLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhZG9tVXRpbHMuaXNCcihub2RlKSAmJiAhZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgPT0gMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIChkdGQuJGlubGluZVtwTi50YWdOYW1lXSB8fCBwTi50YWdOYW1lID09ICdBJykpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gcE47CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcE4gPSBwTi5wYXJlbnROb2RlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wTm9kZSkuc2V0Q3Vyc29yKGZhbHNlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBOID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwTi5hcHBlbmRDaGlsZCh0bXBOb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFN0eWxlKHRtcE5vZGUsICdmbG9hdCcsICcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0SHRtbCcsICc8cCBpZD0iX2ltZ19wYXJlbnRfdG1wIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXIiPicgKyBwTi5pbm5lckhUTUwgKyAnPC9wPicpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSBtZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnX2ltZ19wYXJlbnRfdG1wJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSB0bXBOb2RlLmZpcnN0Q2hpbGQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKHRtcE5vZGUpLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/ljrvmjonlkI7ovrnlpJrkvZnnmoTlhYPntKAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSB0bXBOb2RlLnBhcmVudE5vZGUubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dCAmJiBkb21VdGlscy5pc0VtcHR5Tm9kZShuZXh0KSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShuZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwKICAgICAgICAgICAgc3RhcnROb2RlLCBmbG9hdFN0eWxlOwogICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHsKICAgICAgICAgICAgcmV0dXJuICdub25lJzsKICAgICAgICB9CiAgICAgICAgc3RhcnROb2RlID0gcmFuZ2UuZ2V0Q2xvc2VkTm9kZSgpOwogICAgICAgIGlmIChzdGFydE5vZGUgJiYgc3RhcnROb2RlLm5vZGVUeXBlID09IDEgJiYgc3RhcnROb2RlLnRhZ05hbWUgPT0gJ0lNRycpIHsKICAgICAgICAgICAgZmxvYXRTdHlsZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoc3RhcnROb2RlLCAnZmxvYXQnKSB8fCBzdGFydE5vZGUuZ2V0QXR0cmlidXRlKCdhbGlnbicpOwoKICAgICAgICAgICAgaWYgKGZsb2F0U3R5bGUgPT0gJ25vbmUnKSB7CiAgICAgICAgICAgICAgICBmbG9hdFN0eWxlID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzdGFydE5vZGUucGFyZW50Tm9kZSwgJ3RleHQtYWxpZ24nKSA9PSAnY2VudGVyJyA/ICdjZW50ZXInIDogZmxvYXRTdHlsZTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgbGVmdDoxLAogICAgICAgICAgICAgICAgcmlnaHQ6MSwKICAgICAgICAgICAgICAgIGNlbnRlcjoxCiAgICAgICAgICAgIH1bZmxvYXRTdHlsZV0gPyBmbG9hdFN0eWxlIDogJ25vbmUnOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJ25vbmUnOwoKCiAgICB9LAogICAgcXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24gKCkgewogICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksCiAgICAgICAgICAgIHN0YXJ0Tm9kZTsKCiAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkgIHJldHVybiAtMTsKCiAgICAgICAgc3RhcnROb2RlID0gcmFuZ2UuZ2V0Q2xvc2VkTm9kZSgpOwogICAgICAgIGlmIChzdGFydE5vZGUgJiYgc3RhcnROb2RlLm5vZGVUeXBlID09IDEgJiYgc3RhcnROb2RlLnRhZ05hbWUgPT0gJ0lNRycpIHsKICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfQogICAgICAgIHJldHVybiAtMTsKICAgIH0KfTsKCgovKioKICog5o+S5YWl5Zu+54mHCiAqIEBjb21tYW5kIGluc2VydGltYWdlCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQKICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sgogKiBAcGFyYW0geyBPYmplY3QgfSBvcHQg5bGe5oCn6ZSu5YC85a+577yM6L+Z5Lqb5bGe5oCn6YO95bCG6KKr5aSN5Yi25Yiw5b2T5YmN5o+S5YWl5Zu+54mHCiAqIEByZW1pbmQg6K+l5ZG95Luk56ys5LqM5Liq5Y+C5pWw5Y+v5o6l5Y+X5LiA5Liq5Zu+54mH6YWN572u6aG55a+56LGh55qE5pWw57uE77yM5Y+v5Lul5o+S5YWl5aSa5byg5Zu+54mH77yMCiAqIOatpOaXtuaVsOe7hOeahOavj+S4gOS4quWFg+e0oOmDveaYr+S4gOS4qk9iamVjdOexu+Wei+eahOWbvueJh+WxnuaAp+mbhuWQiOOAggogKiBAZXhhbXBsZQogKiBgYGBqYXZhc2NyaXB0CiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2luc2VydGltYWdlJywgewogKiAgICAgc3JjOidhL2IvYy5qcGcnLAogKiAgICAgd2lkdGg6JzEwMCcsCiAqICAgICBoZWlnaHQ6JzEwMCcKICogfSApOwogKiBgYGAKICogQGV4YW1wbGUKICogYGBgamF2YXNjcmlwdAogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnRpbWFnZScsIFt7CiAqICAgICBzcmM6J2EvYi9jLmpwZycsCiAqICAgICB3aWR0aDonMTAwJywKICogICAgIGhlaWdodDonMTAwJwogKiB9LHsKICogICAgIHNyYzonYS9iL2QuanBnJywKICogICAgIHdpZHRoOicxMDAnLAogKiAgICAgaGVpZ2h0OicxMDAnCiAqIH1dICk7CiAqIGBgYAogKi8KClVFLmNvbW1hbmRzWydpbnNlcnRpbWFnZSddID0gewogICAgZXhlY0NvbW1hbmQ6ZnVuY3Rpb24gKGNtZCwgb3B0KSB7CgogICAgICAgIG9wdCA9IHV0aWxzLmlzQXJyYXkob3B0KSA/IG9wdCA6IFtvcHRdOwogICAgICAgIGlmICghb3B0Lmxlbmd0aCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksCiAgICAgICAgICAgIGltZyA9IHJhbmdlLmdldENsb3NlZE5vZGUoKTsKICAgICAgICBpZiAoaW1nICYmIC9pbWcvaS50ZXN0KGltZy50YWdOYW1lKSAmJiAoaW1nLmNsYXNzTmFtZSAhPSAiZWR1aS1mYWtlZC12aWRlbyIgfHwgaW1nLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLXVwbG9hZC12aWRlbyIpIT0tMSkgJiYgIWltZy5nZXRBdHRyaWJ1dGUoIndvcmRfaW1nIikpIHsKICAgICAgICAgICAgdmFyIGZpcnN0ID0gb3B0LnNoaWZ0KCk7CiAgICAgICAgICAgIHZhciBmbG9hdFN0eWxlID0gZmlyc3RbJ2Zsb2F0U3R5bGUnXTsKICAgICAgICAgICAgZGVsZXRlIGZpcnN0WydmbG9hdFN0eWxlJ107Ci8vLy8gICAgICAgICAgICAgICAgaW1nLnN0eWxlLmJvcmRlciA9IChmaXJzdC5ib3JkZXJ8fDApICsicHggc29saWQgIzAwMCI7Ci8vLy8gICAgICAgICAgICAgICAgaW1nLnN0eWxlLm1hcmdpbiA9IChmaXJzdC5tYXJnaW58fDApICsicHgiOwovLyAgICAgICAgICAgICAgICBpbWcuc3R5bGUuY3NzVGV4dCArPSAnO21hcmdpbjonICsgKGZpcnN0Lm1hcmdpbnx8MCkgKyJweDsiICsgJ2JvcmRlcjonICsgKGZpcnN0LmJvcmRlcnx8MCkgKyJweCBzb2xpZCAjMDAwIjsKICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhpbWcsIGZpcnN0KTsKICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2ltYWdlZmxvYXQnLCBmbG9hdFN0eWxlKTsKICAgICAgICAgICAgaWYgKG9wdC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKGltZykuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsKICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdpbnNlcnRpbWFnZScsIG9wdCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdmFyIGh0bWwgPSBbXSwgc3RyID0gJycsIGNpOwogICAgICAgICAgICBjaSA9IG9wdFswXTsKICAgICAgICAgICAgaWYgKG9wdC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgc3RyID0gJzxpbWcgc3JjPSInICsgY2kuc3JjICsgJyIgJyArIChjaS5fc3JjID8gJyBfc3JjPSInICsgY2kuX3NyYyArICciICcgOiAnJykgKwogICAgICAgICAgICAgICAgICAgIChjaS53aWR0aCA/ICd3aWR0aD0iJyArIGNpLndpZHRoICsgJyIgJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpLmhlaWdodCA/ICcgaGVpZ2h0PSInICsgY2kuaGVpZ2h0ICsgJyIgJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpWydmbG9hdFN0eWxlJ10gPT0gJ2xlZnQnIHx8IGNpWydmbG9hdFN0eWxlJ10gPT0gJ3JpZ2h0JyA/ICcgc3R5bGU9ImZsb2F0OicgKyBjaVsnZmxvYXRTdHlsZSddICsgJzsiJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpLnRpdGxlICYmIGNpLnRpdGxlICE9ICIiID8gJyB0aXRsZT0iJyArIGNpLnRpdGxlICsgJyInIDogJycpICsKICAgICAgICAgICAgICAgICAgICAoY2kuYm9yZGVyICYmIGNpLmJvcmRlciAhPSAiMCIgPyAnIGJvcmRlcj0iJyArIGNpLmJvcmRlciArICciJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpLmFsdCAmJiBjaS5hbHQgIT0gIiIgPyAnIGFsdD0iJyArIGNpLmFsdCArICciJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpLmhzcGFjZSAmJiBjaS5oc3BhY2UgIT0gIjAiID8gJyBoc3BhY2UgPSAiJyArIGNpLmhzcGFjZSArICciJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgKGNpLnZzcGFjZSAmJiBjaS52c3BhY2UgIT0gIjAiID8gJyB2c3BhY2UgPSAiJyArIGNpLnZzcGFjZSArICciJyA6ICcnKSArICcvPic7CiAgICAgICAgICAgICAgICBpZiAoY2lbJ2Zsb2F0U3R5bGUnXSA9PSAnY2VudGVyJykgewogICAgICAgICAgICAgICAgICAgIHN0ciA9ICc8cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyIj4nICsgc3RyICsgJzwvcD4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaHRtbC5wdXNoKHN0cik7CgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGNpID0gb3B0W2krK107KSB7CiAgICAgICAgICAgICAgICAgICAgc3RyID0gJzxwICcgKyAoY2lbJ2Zsb2F0U3R5bGUnXSA9PSAnY2VudGVyJyA/ICdzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyIiAnIDogJycpICsgJz48aW1nIHNyYz0iJyArIGNpLnNyYyArICciICcgKwogICAgICAgICAgICAgICAgICAgICAgICAoY2kud2lkdGggPyAnd2lkdGg9IicgKyBjaS53aWR0aCArICciICcgOiAnJykgKyAoY2kuX3NyYyA/ICcgX3NyYz0iJyArIGNpLl9zcmMgKyAnIiAnIDogJycpICsKICAgICAgICAgICAgICAgICAgICAgICAgKGNpLmhlaWdodCA/ICcgaGVpZ2h0PSInICsgY2kuaGVpZ2h0ICsgJyIgJyA6ICcnKSArCiAgICAgICAgICAgICAgICAgICAgICAgICcgc3R5bGU9IicgKyAoY2lbJ2Zsb2F0U3R5bGUnXSAmJiBjaVsnZmxvYXRTdHlsZSddICE9ICdjZW50ZXInID8gJ2Zsb2F0OicgKyBjaVsnZmxvYXRTdHlsZSddICsgJzsnIDogJycpICsKICAgICAgICAgICAgICAgICAgICAgICAgKGNpLmJvcmRlciB8fCAnJykgKyAnIiAnICsKICAgICAgICAgICAgICAgICAgICAgICAgKGNpLnRpdGxlID8gJyB0aXRsZT0iJyArIGNpLnRpdGxlICsgJyInIDogJycpICsgJyAvPjwvcD4nOwogICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaChzdHIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0SHRtbCcsIGh0bWwuam9pbignJykpOwogICAgICAgIH0KICAgIH0KfTsNCi8qKg0KICog5q616JC95qC85byPDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQovKioNCiAqIOauteiQveWvuem9kOaWueW8jw0KICogQGNvbW1hbmQganVzdGlmeQ0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHBhcmFtIHsgU3RyaW5nIH0gYWxpZ24g5a+56b2Q5pa55byP77yabGVmdCA9PiDlsYXlt6bvvIxyaWdodCA9PiDlsYXlj7PvvIxjZW50ZXIgPT4g5bGF5Lit77yManVzdGlmeSA9PiDkuKTnq6/lr7npvZANCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdqdXN0aWZ5JywgJ2NlbnRlcicgKTsNCiAqIGBgYA0KICovDQovKioNCiAqIOWmguaenOmAieWMuuaJgOWcqOS9jee9ruaYr+auteiQveWMuuWfn++8jOi/lOWbnuW9k+WJjeauteiQveWvuem9kOaWueW8jw0KICogQGNvbW1hbmQganVzdGlmeQ0KICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuauteiQveWvuem9kOaWueW8jw0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2p1c3RpZnknICk7DQogKiBgYGANCiAqLw0KDQpVRS5wbHVnaW5zWydqdXN0aWZ5J109ZnVuY3Rpb24oKXsNCiAgICB2YXIgbWU9dGhpcywNCiAgICAgICAgYmxvY2sgPSBkb21VdGlscy5pc0Jsb2NrRWxtLA0KICAgICAgICBkZWZhdWx0VmFsdWUgPSB7DQogICAgICAgICAgICBsZWZ0OjEsDQogICAgICAgICAgICByaWdodDoxLA0KICAgICAgICAgICAgY2VudGVyOjEsDQogICAgICAgICAgICBqdXN0aWZ5OjENCiAgICAgICAgfSwNCiAgICAgICAgZG9KdXN0aWZ5ID0gZnVuY3Rpb24gKHJhbmdlLCBzdHlsZSkgew0KICAgICAgICAgICAgdmFyIGJvb2ttYXJrID0gcmFuZ2UuY3JlYXRlQm9va21hcmsoKSwNCiAgICAgICAgICAgICAgICBmaWx0ZXJGbiA9IGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDEgPyBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAnYnInICYmICFkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShub2RlKSA6ICFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSk7DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgcmFuZ2UuZW5sYXJnZSh0cnVlKTsNCiAgICAgICAgICAgIHZhciBib29rbWFyazIgPSByYW5nZS5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyazIuc3RhcnQsIGZhbHNlLCBmaWx0ZXJGbiksDQogICAgICAgICAgICAgICAgdG1wUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCksDQogICAgICAgICAgICAgICAgdG1wTm9kZTsNCiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmICEoZG9tVXRpbHMuZ2V0UG9zaXRpb24oY3VycmVudCwgYm9va21hcmsyLmVuZCkgJiBkb21VdGlscy5QT1NJVElPTl9GT0xMT1dJTkcpKSB7DQogICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT0gMyB8fCAhYmxvY2soY3VycmVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY3VycmVudCk7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGJvb2ttYXJrMi5lbmQgJiYgIWJsb2NrKGN1cnJlbnQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gY3VycmVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LCBmYWxzZSwgbnVsbCwgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWJsb2NrKG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0RW5kQWZ0ZXIodG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBjb21tb24gPSB0bXBSYW5nZS5nZXRDb21tb25BbmNlc3RvcigpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbVV0aWxzLmlzQm9keShjb21tb24pICYmIGJsb2NrKGNvbW1vbikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFN0eWxlcyhjb21tb24sIHV0aWxzLmlzU3RyaW5nKHN0eWxlKSA/IHsndGV4dC1hbGlnbic6c3R5bGV9IDogc3R5bGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGNvbW1vbjsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gcmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0U3R5bGVzKHAsIHV0aWxzLmlzU3RyaW5nKHN0eWxlKSA/IHsndGV4dC1hbGlnbic6c3R5bGV9IDogc3R5bGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWcgPSB0bXBSYW5nZS5leHRyYWN0Q29udGVudHMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQoZnJhZyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBSYW5nZS5pbnNlcnROb2RlKHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsIGZhbHNlLCBmaWx0ZXJGbik7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsIHRydWUsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gcmFuZ2UubW92ZVRvQm9va21hcmsoYm9va21hcmsyKS5tb3ZlVG9Cb29rbWFyayhib29rbWFyayk7DQogICAgICAgIH07DQoNCiAgICBVRS5jb21tYW5kc1snanVzdGlmeSddID0gew0KICAgICAgICBleGVjQ29tbWFuZDpmdW5jdGlvbiAoY21kTmFtZSwgYWxpZ24pIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgdHh0Ow0KDQogICAgICAgICAgICAvL+mXreWQiOaXtuWNleeLrOWkhOeQhg0KICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIHR4dCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ3AnKTsNCiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHR4dCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkb0p1c3RpZnkocmFuZ2UsIGFsaWduKTsNCiAgICAgICAgICAgIGlmICh0eHQpIHsNCiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZSh0eHQpLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0eHQpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsNCg0KDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHN0YXJ0Tm9kZSA9IHRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0KCksDQogICAgICAgICAgICAgICAgdmFsdWUgPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHN0YXJ0Tm9kZSwgJ3RleHQtYWxpZ24nKTsNCiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVbdmFsdWVdID8gdmFsdWUgOiAnbGVmdCc7DQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0KCksDQogICAgICAgICAgICAgICAgY2VsbCA9IHN0YXJ0ICYmIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsIFsidGQiLCAidGgiLCJjYXB0aW9uIl0sIHRydWUpOw0KDQogICAgICAgICAgICByZXR1cm4gY2VsbD8gLTE6MDsNCiAgICAgICAgfQ0KDQogICAgfTsNCn07DQoNCi8qKg0KICog5a2X5L2T6aKc6ImyLOiDjOaZr+iJsizlrZflj7cs5a2X5L2TLOS4i+WIkue6vyzliKDpmaTnur8NCiAqIEBmaWxlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICog5a2X5L2T6aKc6ImyDQogKiBAY29tbWFuZCBmb3JlY29sb3INCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBwYXJhbSB7IFN0cmluZyB9IHZhbHVlIOiJsuWAvCjlv4XpobvljYHlha3ov5vliLYpDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnZm9yZWNvbG9yJywgJyMwMDAnICk7DQogKiBgYGANCiAqLw0KLyoqDQogKiDov5Tlm57pgInljLrlrZfkvZPpopzoibINCiAqIEBjb21tYW5kIGZvcmVjb2xvcg0KICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuWtl+S9k+minOiJsg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2ZvcmVjb2xvcicgKTsNCiAqIGBgYA0KICovDQoNCi8qKg0KICog5a2X5L2T6IOM5pmv6aKc6ImyDQogKiBAY29tbWFuZCBiYWNrY29sb3INCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBwYXJhbSB7IFN0cmluZyB9IHZhbHVlIOiJsuWAvCjlv4XpobvljYHlha3ov5vliLYpDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnYmFja2NvbG9yJywgJyMwMDAnICk7DQogKiBgYGANCiAqLw0KLyoqDQogKiDov5Tlm57pgInljLrlrZfkvZPpopzoibINCiAqIEBjb21tYW5kIGJhY2tjb2xvcg0KICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuWtl+S9k+iDjOaZr+minOiJsg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2JhY2tjb2xvcicgKTsNCiAqIGBgYA0KICovDQoNCi8qKg0KICog5a2X5L2T5aSn5bCPDQogKiBAY29tbWFuZCBmb250c2l6ZQ0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHBhcmFtIHsgU3RyaW5nIH0gdmFsdWUg5a2X5L2T5aSn5bCPDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnZm9udHNpemUnLCAnMTRweCcgKTsNCiAqIGBgYA0KICovDQovKioNCiAqIOi/lOWbnumAieWMuuWtl+S9k+Wkp+Wwjw0KICogQGNvbW1hbmQgZm9udHNpemUNCiAqIEBtZXRob2QgcXVlcnlDb21tYW5kVmFsdWUNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57lrZfkvZPlpKflsI8NCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoICdmb250c2l6ZScgKTsNCiAqIGBgYA0KICovDQoNCi8qKg0KICog5a2X5L2T5qC35byPDQogKiBAY29tbWFuZCBmb250ZmFtaWx5DQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAcGFyYW0geyBTdHJpbmcgfSB2YWx1ZSDlrZfkvZPmoLflvI8NCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdmb250ZmFtaWx5JywgJ+W+rui9r+mbhem7kScgKTsNCiAqIGBgYA0KICovDQovKioNCiAqIOi/lOWbnumAieWMuuWtl+S9k+agt+W8jw0KICogQGNvbW1hbmQgZm9udGZhbWlseQ0KICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuWtl+S9k+agt+W8jw0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2ZvbnRmYW1pbHknICk7DQogKiBgYGANCiAqLw0KDQovKioNCiAqIOWtl+S9k+S4i+WIkue6vyzkuI7liKDpmaTnur/kupLmlqUNCiAqIEBjb21tYW5kIHVuZGVybGluZQ0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ3VuZGVybGluZScgKTsNCiAqIGBgYA0KICovDQoNCi8qKg0KICog5a2X5L2T5Yig6Zmk57q/LOS4juS4i+WIkue6v+S6kuaWpQ0KICogQGNvbW1hbmQgc3RyaWtldGhyb3VnaA0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ3N0cmlrZXRocm91Z2gnICk7DQogKiBgYGANCiAqLw0KDQovKioNCiAqIOWtl+S9k+i+ueahhg0KICogQGNvbW1hbmQgZm9udGJvcmRlcg0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2ZvbnRib3JkZXInICk7DQogKiBgYGANCiAqLw0KDQpVRS5wbHVnaW5zWydmb250J10gPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgZm9udHMgPSB7DQogICAgICAgICAgICAnZm9yZWNvbG9yJzogJ2NvbG9yJywNCiAgICAgICAgICAgICdiYWNrY29sb3InOiAnYmFja2dyb3VuZC1jb2xvcicsDQogICAgICAgICAgICAnZm9udHNpemUnOiAnZm9udC1zaXplJywNCiAgICAgICAgICAgICdmb250ZmFtaWx5JzogJ2ZvbnQtZmFtaWx5JywNCiAgICAgICAgICAgICd1bmRlcmxpbmUnOiAndGV4dC1kZWNvcmF0aW9uJywNCiAgICAgICAgICAgICdzdHJpa2V0aHJvdWdoJzogJ3RleHQtZGVjb3JhdGlvbicsDQogICAgICAgICAgICAnZm9udGJvcmRlcic6ICdib3JkZXInDQogICAgICAgIH0sDQogICAgICAgIG5lZWRDbWQgPSB7J3VuZGVybGluZSc6IDEsICdzdHJpa2V0aHJvdWdoJzogMSwgJ2ZvbnRib3JkZXInOiAxfSwNCiAgICAgICAgbmVlZFNldENoaWxkID0gew0KICAgICAgICAgICAgJ2ZvcmVjb2xvcic6ICdjb2xvcicsDQogICAgICAgICAgICAnYmFja2NvbG9yJzogJ2JhY2tncm91bmQtY29sb3InLA0KICAgICAgICAgICAgJ2ZvbnRzaXplJzogJ2ZvbnQtc2l6ZScsDQogICAgICAgICAgICAnZm9udGZhbWlseSc6ICdmb250LWZhbWlseScNCg0KICAgICAgICB9Ow0KICAgIG1lLnNldE9wdCh7DQogICAgICAgICdmb250ZmFtaWx5JzogWw0KICAgICAgICAgICAgeyBuYW1lOiAnc29uZ3RpJywgdmFsOiAn5a6L5L2TLFNpbVN1bid9LA0KICAgICAgICAgICAgeyBuYW1lOiAneWFoZWknLCB2YWw6ICflvq7ova/pm4Xpu5EsTWljcm9zb2Z0IFlhSGVpJ30sDQogICAgICAgICAgICB7IG5hbWU6ICdrYWl0aScsIHZhbDogJ+alt+S9kyzmpbfkvZNfR0IyMzEyLCBTaW1LYWknfSwNCiAgICAgICAgICAgIHsgbmFtZTogJ2hlaXRpJywgdmFsOiAn6buR5L2TLCBTaW1IZWknfSwNCiAgICAgICAgICAgIHsgbmFtZTogJ2xpc2h1JywgdmFsOiAn6Zq25LmmLCBTaW1MaSd9LA0KICAgICAgICAgICAgeyBuYW1lOiAnYW5kYWxlTW9ubycsIHZhbDogJ2FuZGFsZSBtb25vJ30sDQogICAgICAgICAgICB7IG5hbWU6ICdhcmlhbCcsIHZhbDogJ2FyaWFsLCBoZWx2ZXRpY2Esc2Fucy1zZXJpZid9LA0KICAgICAgICAgICAgeyBuYW1lOiAnYXJpYWxCbGFjaycsIHZhbDogJ2FyaWFsIGJsYWNrLGF2YW50IGdhcmRlJ30sDQogICAgICAgICAgICB7IG5hbWU6ICdjb21pY1NhbnNNcycsIHZhbDogJ2NvbWljIHNhbnMgbXMnfSwNCiAgICAgICAgICAgIHsgbmFtZTogJ2ltcGFjdCcsIHZhbDogJ2ltcGFjdCxjaGljYWdvJ30sDQogICAgICAgICAgICB7IG5hbWU6ICd0aW1lc05ld1JvbWFuJywgdmFsOiAndGltZXMgbmV3IHJvbWFuJ30NCiAgICAgICAgXSwNCiAgICAgICAgJ2ZvbnRzaXplJzogWzEwLCAxMSwgMTIsIDE0LCAxNiwgMTgsIDIwLCAyNCwgMzZdDQogICAgfSk7DQoNCiAgICBmdW5jdGlvbiBtZXJnZVdpdGhQYXJlbnQobm9kZSl7DQogICAgICAgIHZhciBwYXJlbnQ7DQogICAgICAgIHdoaWxlKHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSl7DQogICAgICAgICAgICBpZihwYXJlbnQudGFnTmFtZSA9PSAnU1BBTicgJiYgZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChwYXJlbnQsZnVuY3Rpb24oY2hpbGQpew0KICAgICAgICAgICAgICAgIHJldHVybiAhZG9tVXRpbHMuaXNCb29rbWFya05vZGUoY2hpbGQpICYmICFkb21VdGlscy5pc0JyKGNoaWxkKQ0KICAgICAgICAgICAgfSkgPT0gMSkgew0KICAgICAgICAgICAgICAgIHBhcmVudC5zdHlsZS5jc3NUZXh0ICs9IG5vZGUuc3R5bGUuY3NzVGV4dDsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobm9kZSx0cnVlKTsNCiAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50Ow0KDQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfQ0KICAgIGZ1bmN0aW9uIG1lcmdlQ2hpbGQocm5nLGNtZE5hbWUsdmFsdWUpew0KICAgICAgICBpZihuZWVkU2V0Q2hpbGRbY21kTmFtZV0pew0KICAgICAgICAgICAgcm5nLmFkanVzdG1lbnRCb3VuZGFyeSgpOw0KICAgICAgICAgICAgaWYoIXJuZy5jb2xsYXBzZWQgJiYgcm5nLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlID09IDEpew0KICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHJuZy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF07DQogICAgICAgICAgICAgICAgaWYoc3RhcnQgJiYgZG9tVXRpbHMuaXNUYWdOb2RlKHN0YXJ0LCdzcGFuJykpew0KICAgICAgICAgICAgICAgICAgICB2YXIgYmsgPSBybmcuY3JlYXRlQm9va21hcmsoKTsNCiAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShzdGFydCwgJ3NwYW4nKSwgZnVuY3Rpb24gKHNwYW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3Bhbi5wYXJlbnROb2RlIHx8IGRvbVV0aWxzLmlzQm9va21hcmtOb2RlKHNwYW4pKXJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNtZE5hbWUgPT0gJ2JhY2tjb2xvcicgJiYgZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzcGFuLCdiYWNrZ3JvdW5kLWNvbG9yJykudG9Mb3dlckNhc2UoKSA9PT0gdmFsdWUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZVN0eWxlKHNwYW4sbmVlZFNldENoaWxkW2NtZE5hbWVdKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNwYW4uc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC9eXHMrJC8sJycpLmxlbmd0aCA9PSAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3Bhbix0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgcm5nLm1vdmVUb0Jvb2ttYXJrKGJrKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfQ0KICAgIGZ1bmN0aW9uIG1lcmdlc2libGluZyhybmcsY21kTmFtZSx2YWx1ZSkgew0KICAgICAgICB2YXIgY29sbGFwc2VkID0gcm5nLmNvbGxhcHNlZCwNCiAgICAgICAgICAgIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKCksIGNvbW1vbjsNCiAgICAgICAgaWYgKGNvbGxhcHNlZCkgew0KICAgICAgICAgICAgY29tbW9uID0gYmsuc3RhcnQucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIHdoaWxlIChkdGQuJGlubGluZVtjb21tb24udGFnTmFtZV0pIHsNCiAgICAgICAgICAgICAgICBjb21tb24gPSBjb21tb24ucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGNvbW1vbiA9IGRvbVV0aWxzLmdldENvbW1vbkFuY2VzdG9yKGJrLnN0YXJ0LCBiay5lbmQpOw0KICAgICAgICB9DQogICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY29tbW9uLCAnc3BhbicpLCBmdW5jdGlvbiAoc3Bhbikgew0KICAgICAgICAgICAgaWYgKCFzcGFuLnBhcmVudE5vZGUgfHwgZG9tVXRpbHMuaXNCb29rbWFya05vZGUoc3BhbikpcmV0dXJuOw0KICAgICAgICAgICAgaWYgKC9ccypib3JkZXJccyo6XHMqbm9uZTs/XHMqL2kudGVzdChzcGFuLnN0eWxlLmNzc1RleHQpKSB7DQogICAgICAgICAgICAgICAgaWYoL15ccypib3JkZXJccyo6XHMqbm9uZTs/XHMqJC8udGVzdChzcGFuLnN0eWxlLmNzc1RleHQpKXsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHNwYW4sIHRydWUpOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVTdHlsZShzcGFuLCdib3JkZXInKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoL2JvcmRlci9pLnRlc3Qoc3Bhbi5zdHlsZS5jc3NUZXh0KSAmJiBzcGFuLnBhcmVudE5vZGUudGFnTmFtZSA9PSAnU1BBTicgJiYgL2JvcmRlci9pLnRlc3Qoc3Bhbi5wYXJlbnROb2RlLnN0eWxlLmNzc1RleHQpKSB7DQogICAgICAgICAgICAgICAgc3Bhbi5zdHlsZS5jc3NUZXh0ID0gc3Bhbi5zdHlsZS5jc3NUZXh0LnJlcGxhY2UoL2JvcmRlclteOl0qOlteO10rOz8vZ2ksICcnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKCEoY21kTmFtZT09J2ZvbnRib3JkZXInICYmIHZhbHVlPT0nbm9uZScpKXsNCiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHNwYW4ubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQgJiYgbmV4dC5ub2RlVHlwZSA9PSAxICYmIG5leHQudGFnTmFtZSA9PSAnU1BBTicgKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5leHQpICYmIGNtZE5hbWUgPT0gJ2ZvbnRib3JkZXInKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmFwcGVuZENoaWxkKG5leHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IHNwYW4ubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAobmV4dC5zdHlsZS5jc3NUZXh0ID09IHNwYW4uc3R5bGUuY3NzVGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKG5leHQsIHNwYW4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5leHQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChzcGFuLm5leHRTaWJsaW5nID09PSBuZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIG5leHQgPSBzcGFuLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICBtZXJnZVdpdGhQYXJlbnQoc3Bhbik7DQogICAgICAgICAgICBpZihicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA+IDggKXsNCiAgICAgICAgICAgICAgICAvL+aLt+i0neeItuS6suS7rOeahOeJueWIq+eahOWxnuaApyzov5nph4zlj6rlgZrog4zmma/popzoibLnmoTlpITnkIYNCiAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gZG9tVXRpbHMuZmluZFBhcmVudChzcGFuLGZ1bmN0aW9uKG4pe3JldHVybiBuLnRhZ05hbWUgPT0gJ1NQQU4nICYmIC9iYWNrZ3JvdW5kLWNvbG9yLy50ZXN0KG4uc3R5bGUuY3NzVGV4dCl9KTsNCiAgICAgICAgICAgICAgICBpZihwYXJlbnQgJiYgIS9iYWNrZ3JvdW5kLWNvbG9yLy50ZXN0KHNwYW4uc3R5bGUuY3NzVGV4dCkpew0KICAgICAgICAgICAgICAgICAgICBzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBhcmVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pOw0KICAgICAgICBybmcubW92ZVRvQm9va21hcmsoYmspOw0KICAgICAgICBtZXJnZUNoaWxkKHJuZyxjbWROYW1lLHZhbHVlKQ0KICAgIH0NCg0KICAgIG1lLmFkZElucHV0UnVsZShmdW5jdGlvbiAocm9vdCkgew0KICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ3UgcyBkZWwgZm9udCBzdHJpa2UnKSwgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT0gJ2ZvbnQnKSB7DQogICAgICAgICAgICAgICAgdmFyIGNzc1N0eWxlID0gW107DQogICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBub2RlLmF0dHJzKSB7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc2l6ZSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzU3R5bGUucHVzaCgnZm9udC1zaXplOicgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMSc6JzEwJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzInOicxMicsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICczJzonMTYnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnNCc6JzE4JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzUnOicyNCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc2JzonMzInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnNyc6JzQ4Jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1bbm9kZS5hdHRyc1twXV0gfHwgbm9kZS5hdHRyc1twXSkgKyAncHgnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZS5wdXNoKCdjb2xvcjonICsgbm9kZS5hdHRyc1twXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmYWNlJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZS5wdXNoKCdmb250LWZhbWlseTonICsgbm9kZS5hdHRyc1twXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHlsZSc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3NzU3R5bGUucHVzaChub2RlLmF0dHJzW3BdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBub2RlLmF0dHJzID0gew0KICAgICAgICAgICAgICAgICAgICAnc3R5bGUnOiBjc3NTdHlsZS5qb2luKCc7JykNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgdmFsID0gbm9kZS50YWdOYW1lID09ICd1JyA/ICd1bmRlcmxpbmUnIDogJ2xpbmUtdGhyb3VnaCc7DQogICAgICAgICAgICAgICAgbm9kZS5hdHRycyA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ3N0eWxlJzogKG5vZGUuZ2V0QXR0cignc3R5bGUnKSB8fCAnJykgKyAndGV4dC1kZWNvcmF0aW9uOicgKyB2YWwgKyAnOycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBub2RlLnRhZ05hbWUgPSAnc3Bhbic7DQogICAgICAgIH0pOw0KLy8gICAgICAgIHV0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgnc3BhbicpLCBmdW5jdGlvbiAobm9kZSkgew0KLy8gICAgICAgICAgICB2YXIgdmFsOw0KLy8gICAgICAgICAgICBpZih2YWwgPSBub2RlLmdldEF0dHIoJ2NsYXNzJykpew0KLy8gICAgICAgICAgICAgICAgaWYoL2ZvbnRzdHJpa2V0aHJvdWdoLy50ZXN0KHZhbCkpew0KLy8gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0U3R5bGUoJ3RleHQtZGVjb3JhdGlvbicsJ2xpbmUtdGhyb3VnaCcpOw0KLy8gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuYXR0cnNbJ2NsYXNzJ10pew0KLy8gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJzWydjbGFzcyddID0gbm9kZS5hdHRyc1snY2xhc3MnXS5yZXBsYWNlKC9mb250c3RyaWtldGhyb3VnaC8sJycpOw0KLy8gICAgICAgICAgICAgICAgICAgIH1lbHNlew0KLy8gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHIoJ2NsYXNzJykNCi8vICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICBpZigvZm9udGJvcmRlci8udGVzdCh2YWwpKXsNCi8vICAgICAgICAgICAgICAgICAgICBub2RlLnNldFN0eWxlKCdib3JkZXInLCcxcHggc29saWQgIzAwMCcpOw0KLy8gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuYXR0cnNbJ2NsYXNzJ10pew0KLy8gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJzWydjbGFzcyddID0gbm9kZS5hdHRyc1snY2xhc3MnXS5yZXBsYWNlKC9mb250Ym9yZGVyLywnJyk7DQovLyAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cignY2xhc3MnKQ0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgfQ0KLy8gICAgICAgIH0pOw0KICAgIH0pOw0KLy8gICAgbWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXsNCi8vICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ3NwYW4nKSwgZnVuY3Rpb24gKG5vZGUpIHsNCi8vICAgICAgICAgICAgdmFyIHZhbDsNCi8vICAgICAgICAgICAgaWYodmFsID0gbm9kZS5nZXRTdHlsZSgndGV4dC1kZWNvcmF0aW9uJykpew0KLy8gICAgICAgICAgICAgICAgaWYoL2xpbmUtdGhyb3VnaC8udGVzdCh2YWwpKXsNCi8vICAgICAgICAgICAgICAgICAgICBpZihub2RlLmF0dHJzWydjbGFzcyddKXsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hdHRyc1snY2xhc3MnXSArPSAnIGZvbnRzdHJpa2V0aHJvdWdoJzsNCi8vICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyKCdjbGFzcycsJ2ZvbnRzdHJpa2V0aHJvdWdoJykNCi8vICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICB9DQovLw0KLy8gICAgICAgICAgICAgICAgbm9kZS5zZXRTdHlsZSgndGV4dC1kZWNvcmF0aW9uJykNCi8vICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICBpZih2YWwgPSBub2RlLmdldFN0eWxlKCdib3JkZXInKSl7DQovLyAgICAgICAgICAgICAgICBpZigvMXB4Ly50ZXN0KHZhbCkgJiYgL3NvbGlkLy50ZXN0KHZhbCkpew0KLy8gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuYXR0cnNbJ2NsYXNzJ10pew0KLy8gICAgICAgICAgICAgICAgICAgICAgICBub2RlLmF0dHJzWydjbGFzcyddICs9ICcgZm9udGJvcmRlcic7DQovLw0KLy8gICAgICAgICAgICAgICAgICAgIH1lbHNlew0KLy8gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHIoJ2NsYXNzJywnZm9udGJvcmRlcicpDQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgbm9kZS5zZXRTdHlsZSgnYm9yZGVyJykNCi8vDQovLyAgICAgICAgICAgIH0NCi8vICAgICAgICB9KTsNCi8vICAgIH0pOw0KICAgIGZvciAodmFyIHAgaW4gZm9udHMpIHsNCiAgICAgICAgKGZ1bmN0aW9uIChjbWQsIHN0eWxlKSB7DQogICAgICAgICAgICBVRS5jb21tYW5kc1tjbWRdID0gew0KICAgICAgICAgICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kTmFtZSwgdmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSB8fCAodGhpcy5xdWVyeUNvbW1hbmRTdGF0ZShjbWROYW1lKSA/ICdub25lJyA6IGNtZE5hbWUgPT0gJ3VuZGVybGluZScgPyAndW5kZXJsaW5lJyA6DQogICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lID09ICdmb250Ym9yZGVyJyA/ICcxcHggc29saWQgIzAwMCcgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsaW5lLXRocm91Z2gnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09ICdkZWZhdWx0Jykgew0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCA9IG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCdmb250Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0KS5zZWxlY3QoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ3JlbW92ZUZvcm1hdCcsICdzcGFuLGEnLCBzdHlsZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHRleHQpLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0ZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlc2libGluZyhyYW5nZSxjbWROYW1lLHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZWVkQ21kW2NtZF0gJiYgbWUucXVlcnlDb21tYW5kVmFsdWUoY21kKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgncmVtb3ZlRm9ybWF0JywgJ3NwYW4sYScsIHN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmFwcGx5SW5saW5lU3R5bGUoJ3NwYW4nLCB7J3N0eWxlJzogc3R5bGUgKyAnOicgKyB2YWx1ZX0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lcmdlc2libGluZyhyYW5nZSwgY21kTmFtZSx2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYW4gPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCAnc3BhbicsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgPSBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnZm9udCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuICYmICFzcGFuLmNoaWxkcmVuLmxlbmd0aCAmJiAhc3Bhblticm93c2VyLmllID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnXS5yZXBsYWNlKGZpbGxDaGFyUmVnLCAnJykubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGllIGhhY2sgd2hlbiBlbnRlcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmVlZENtZFtjbWRdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKHRleHQpLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ3JlbW92ZUZvcm1hdCcsICdzcGFuLGEnLCBzdHlsZSwgbnVsbCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4gPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRleHQsICdzcGFuJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZSh0ZXh0KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4gJiYgKHNwYW4uc3R5bGUuY3NzVGV4dCArPSAnOycgKyBzdHlsZSArICc6JyArIHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KCk7DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUodGV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUodGV4dCkuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4gPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5lZWRDbWRbY21kXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9h5qCH562+5YaF55qE5LiN5aSE55CG6Lez6L+HDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0ZXh0LCAnYScsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUodGV4dCkuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdyZW1vdmVGb3JtYXQnLCAnc3BhbixhJywgc3R5bGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zdHlsZS5jc3NUZXh0ID0gc3R5bGUgKyAnOicgKyB2YWx1ZTsNCg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3BhbiwgdGV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+u5aSN77yMc3BhbuWll3NwYW4g5L2G5qC35byP5LiN57un5om/55qE6Zeu6aKYDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnJvd3Nlci5pZSB8fCBicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA9PSA5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhblBhcmVudCA9IHNwYW4ucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICghZG9tVXRpbHMuaXNCbG9ja0VsbShzcGFuUGFyZW50KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGFuUGFyZW50LnRhZ05hbWUgPT0gJ1NQQU4nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb3BlcmHlkIjlubZzdHlsZeS4jeS8muWKoOWFpSI7Ig0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuLnN0eWxlLmNzc1RleHQgPSBzcGFuUGFyZW50LnN0eWxlLmNzc1RleHQgKyAiOyIgKyBzcGFuLnN0eWxlLmNzc1RleHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5QYXJlbnQgPSBzcGFuUGFyZW50LnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcGVyYSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3BhbiwgMCkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVyZ2VzaWJsaW5nKHJhbmdlLCBjbWROYW1lLHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3BhbiwgMCkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXJnZXNpYmxpbmcocmFuZ2UsY21kTmFtZSx2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6OTgxDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZG9tVXRpbHMubWVyZ2VUb1BhcmVudChzcGFuKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodGV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcXVlcnlDb21tYW5kVmFsdWU6IGZ1bmN0aW9uIChjbWROYW1lKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydE5vZGUgPSB0aGlzLnNlbGVjdGlvbi5nZXRTdGFydCgpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6OTQ2DQogICAgICAgICAgICAgICAgICAgIGlmIChjbWROYW1lID09ICd1bmRlcmxpbmUnIHx8IGNtZE5hbWUgPT0gJ3N0cmlrZXRocm91Z2gnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSA9IHN0YXJ0Tm9kZSwgdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG1wTm9kZSAmJiAhZG9tVXRpbHMuaXNCbG9ja0VsbSh0bXBOb2RlKSAmJiAhZG9tVXRpbHMuaXNCb2R5KHRtcE5vZGUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcE5vZGUubm9kZVR5cGUgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodG1wTm9kZSwgc3R5bGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gJ25vbmUnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gdG1wTm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoY21kTmFtZSA9PSAnZm9udGJvcmRlcicpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdGFydE5vZGUsIHZhbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICh0bXAgJiYgZHRkLiRpbmxpbmVbdG1wLnRhZ05hbWVdKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbCA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodG1wLCAnYm9yZGVyJykpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLzFweC8udGVzdCh2YWwpICYmIC9zb2xpZC8udGVzdCh2YWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHRtcC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiggY21kTmFtZSA9PSAnRm9udFNpemUnICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlVmFsID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzdGFydE5vZGUsIHN0eWxlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSAvXihbXGRcLl0rKShcdyspJC8uZXhlYyggc3R5bGVWYWwgKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHRtcCApIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKCB0bXBbMV0gKSArIHRtcFsyXTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3R5bGVWYWw7DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiAgZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzdGFydE5vZGUsIHN0eWxlKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoY21kTmFtZSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoIW5lZWRDbWRbY21kTmFtZV0pDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMucXVlcnlDb21tYW5kVmFsdWUoY21kTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChjbWROYW1lID09ICdmb250Ym9yZGVyJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC8xcHgvLnRlc3QodmFsKSAmJiAvc29saWQvLnRlc3QodmFsKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICBjbWROYW1lID09ICd1bmRlcmxpbmUnID8gL3VuZGVybGluZS8udGVzdCh2YWwpIDogL2xpbmVcLXRocm91Z2gvLnRlc3QodmFsKTsNCg0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICB9KShwLCBmb250c1twXSk7DQogICAgfQ0KfTsNCi8qKg0KICog6LaF6ZO+5o6lDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQovKioNCiAqIOaPkuWFpei2hemTvuaOpQ0KICogQGNvbW1hbmQgbGluaw0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHBhcmFtIHsgT2JqZWN0IH0gb3B0aW9ucyAgIOiuvue9ruiHquWumuS5ieWxnuaAp++8jOS+i+Wmgu+8mnVybOOAgXRpdGxl44CBdGFyZ2V0DQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnbGluaycsICd7DQogKiAgICAgdXJsOid1ZWRpdG9yLmJhaWR1LmNvbScsDQogKiAgICAgdGl0bGU6J3VlZGl0b3InLA0KICogICAgIHRhcmdldDonX2JsYW5rJw0KICogfScgKTsNCiAqIGBgYA0KICovDQovKioNCiAqIOi/lOWbnuW9k+WJjemAieS4reeahOesrOS4gOS4qui2hemTvuaOpeiKgueCuQ0KICogQGNvbW1hbmQgbGluaw0KICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQHJldHVybiB7IEVsZW1lbnQgfSDotoXpk77mjqXoioLngrkNCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoICdsaW5rJyApOw0KICogYGBgDQogKi8NCg0KLyoqDQogKiDlj5bmtojotoXpk77mjqUNCiAqIEBjb21tYW5kIHVubGluaw0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ3VubGluaycpOw0KICogYGBgDQogKi8NCg0KVUUucGx1Z2luc1snbGluayddID0gZnVuY3Rpb24oKXsNCiAgICBmdW5jdGlvbiBvcHRpbWl6ZSggcmFuZ2UgKSB7DQogICAgICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLGVuZCA9IHJhbmdlLmVuZENvbnRhaW5lcjsNCg0KICAgICAgICBpZiAoIHN0YXJ0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSggc3RhcnQsICdhJywgdHJ1ZSApICkgew0KICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoIHN0YXJ0ICk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCBlbmQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKCBlbmQsICdhJywgdHJ1ZSApICkgew0KICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIoIGVuZCApOw0KICAgICAgICB9DQogICAgfQ0KDQoNCiAgICBVRS5jb21tYW5kc1sndW5saW5rJ10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kIDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIGJvb2ttYXJrOw0KICAgICAgICAgICAgaWYocmFuZ2UuY29sbGFwc2VkICYmICFkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKCByYW5nZS5zdGFydENvbnRhaW5lciwgJ2EnLCB0cnVlICkpew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGJvb2ttYXJrID0gcmFuZ2UuY3JlYXRlQm9va21hcmsoKTsNCiAgICAgICAgICAgIG9wdGltaXplKCByYW5nZSApOw0KICAgICAgICAgICAgcmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUoICdhJyApLm1vdmVUb0Jvb2ttYXJrKCBib29rbWFyayApLnNlbGVjdCgpOw0KICAgICAgICB9LA0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZSA6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICByZXR1cm4gIXRoaXMuaGlnaGxpZ2h0ICYmIHRoaXMucXVlcnlDb21tYW5kVmFsdWUoJ2xpbmsnKSA/ICAwIDogLTE7DQogICAgICAgIH0NCg0KICAgIH07DQogICAgZnVuY3Rpb24gZG9MaW5rKHJhbmdlLG9wdCxtZSl7DQogICAgICAgIHZhciBybmdDbG9uZSA9IHJhbmdlLmNsb25lUmFuZ2UoKSwNCiAgICAgICAgICAgIGxpbmsgPSBtZS5xdWVyeUNvbW1hbmRWYWx1ZSgnbGluaycpOw0KICAgICAgICBvcHRpbWl6ZSggcmFuZ2UgPSByYW5nZS5hZGp1c3RtZW50Qm91bmRhcnkoKSApOw0KICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgaWYoc3RhcnQubm9kZVR5cGUgPT0gMSAmJiBsaW5rKXsNCiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF07DQogICAgICAgICAgICBpZihzdGFydCAmJiBzdGFydC5ub2RlVHlwZSA9PSAxICYmIHN0YXJ0LnRhZ05hbWUgPT0gJ0EnICYmIC9eKD86aHR0cHM/fGZ0cHxmaWxlKVxzKjpccypcL1wvLy50ZXN0KHN0YXJ0W2Jyb3dzZXIuaWU/J2lubmVyVGV4dCc6J3RleHRDb250ZW50J10pKXsNCiAgICAgICAgICAgICAgICBzdGFydFticm93c2VyLmllID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnXSA9ICB1dGlscy5odG1sKG9wdC50ZXh0VmFsdWV8fG9wdC5ocmVmKTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmKCAhcm5nQ2xvbmUuY29sbGFwc2VkIHx8IGxpbmspew0KICAgICAgICAgICAgcmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUoICdhJyApOw0KICAgICAgICAgICAgcm5nQ2xvbmUgPSByYW5nZS5jbG9uZVJhbmdlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoIHJuZ0Nsb25lLmNvbGxhcHNlZCApIHsNCiAgICAgICAgICAgIHZhciBhID0gcmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2EnKSwNCiAgICAgICAgICAgICAgICB0ZXh0ID0gJyc7DQogICAgICAgICAgICBpZihvcHQudGV4dFZhbHVlKXsNCg0KICAgICAgICAgICAgICAgIHRleHQgPSAgIHV0aWxzLmh0bWwob3B0LnRleHRWYWx1ZSk7DQogICAgICAgICAgICAgICAgZGVsZXRlIG9wdC50ZXh0VmFsdWU7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0ZXh0ID0gICB1dGlscy5odG1sKG9wdC5ocmVmKTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyggYSwgb3B0ICk7DQogICAgICAgICAgICBzdGFydCA9ICBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKCBybmdDbG9uZS5zdGFydENvbnRhaW5lciwgJ2EnLCB0cnVlICk7DQogICAgICAgICAgICBpZihzdGFydCAmJiBkb21VdGlscy5pc0luTm9kZUVuZEJvdW5kYXJ5KHJuZ0Nsb25lLHN0YXJ0KSl7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihzdGFydCkuY29sbGFwc2UodHJ1ZSk7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGFbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50J10gPSB0ZXh0Ow0KICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShhKS5zZWxlY3ROb2RlKCBhICk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByYW5nZS5hcHBseUlubGluZVN0eWxlKCAnYScsIG9wdCApOw0KDQogICAgICAgIH0NCiAgICB9DQogICAgVUUuY29tbWFuZHNbJ2xpbmsnXSA9IHsNCiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbiggY21kTmFtZSwgb3B0ICkgew0KICAgICAgICAgICAgdmFyIHJhbmdlOw0KICAgICAgICAgICAgb3B0Ll9ocmVmICYmIChvcHQuX2hyZWYgPSB1dGlscy51bmh0bWwob3B0Ll9ocmVmLC9bPCI+XS9nKSk7DQogICAgICAgICAgICBvcHQuaHJlZiAmJiAob3B0LmhyZWYgPSB1dGlscy51bmh0bWwob3B0LmhyZWYsL1s8Ij5dL2cpKTsNCiAgICAgICAgICAgIG9wdC50ZXh0VmFsdWUgJiYgKG9wdC50ZXh0VmFsdWUgPSB1dGlscy51bmh0bWwob3B0LnRleHRWYWx1ZSwvWzwiPl0vZykpOw0KICAgICAgICAgICAgZG9MaW5rKHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksb3B0LHRoaXMpOw0KICAgICAgICAgICAgLy/pl63lkIjpg73kuI3liqDljaDkvY3nrKbvvIzlpoLmnpzliqDkuobkvJrlnKhh5ZCO6L655aSa5Liq5Y2g5L2N56ym6IqC54K577yM5a+86Ie0YeaYr+WbvueJh+iDjOaZr+e7hOaIkOeahOWIl+ihqO+8jOWHuueOsOepuueZvemXrumimA0KICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoKS5zZWxlY3QodHJ1ZSk7DQoNCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kVmFsdWUgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgbm9kZTsNCiAgICAgICAgICAgIGlmICggcmFuZ2UuY29sbGFwc2VkICkgew0KLy8gICAgICAgICAgICAgICAgICAgIG5vZGUgPSB0aGlzLnNlbGVjdGlvbi5nZXRTdGFydCgpOw0KICAgICAgICAgICAgICAgIC8v5ZyoaWXkuItnZXRzdGFydCgp5Y+W5YC85YGP5LiK5LqGDQogICAgICAgICAgICAgICAgbm9kZSA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5vZGVUeXBlID09IDEgPyBub2RlIDogbm9kZS5wYXJlbnROb2RlOw0KDQogICAgICAgICAgICAgICAgaWYgKCBub2RlICYmIChub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSggbm9kZSwgJ2EnLCB0cnVlICkpICYmICEgZG9tVXRpbHMuaXNJbk5vZGVFbmRCb3VuZGFyeShyYW5nZSxub2RlKSkgew0KDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy90cmFjZToxMTExICDlpoLmnpzmmK88cD48YT54eDwvYT48L3A+IHN0YXJ0Q29udGFpbmVy5pivcOWwseS8muaJvuS4jeWIsGENCiAgICAgICAgICAgICAgICByYW5nZS5zaHJpbmtCb3VuZGFyeSgpOw0KICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlICA9PSAzIHx8ICFyYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSA/IHJhbmdlLnN0YXJ0Q29udGFpbmVyIDogcmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF0sDQogICAgICAgICAgICAgICAgICAgIGVuZCA9ICByYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGUgPT0gMyB8fCByYW5nZS5lbmRPZmZzZXQgPT0gMCA/IHJhbmdlLmVuZENvbnRhaW5lciA6IHJhbmdlLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLmVuZE9mZnNldC0xXSwNCiAgICAgICAgICAgICAgICAgICAgY29tbW9uID0gcmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKTsNCiAgICAgICAgICAgICAgICBub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSggY29tbW9uLCAnYScsIHRydWUgKTsNCiAgICAgICAgICAgICAgICBpZiAoICFub2RlICYmIGNvbW1vbi5ub2RlVHlwZSA9PSAxKXsNCg0KICAgICAgICAgICAgICAgICAgICB2YXIgYXMgPSBjb21tb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoICdhJyApLA0KICAgICAgICAgICAgICAgICAgICAgICAgcHMscGU7DQoNCiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGkgPSAwLGNpOyBjaSA9IGFzW2krK107ICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcHMgPSBkb21VdGlscy5nZXRQb3NpdGlvbiggY2ksIHN0YXJ0ICkscGUgPSBkb21VdGlscy5nZXRQb3NpdGlvbiggY2ksZW5kKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKHBzICYgZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HIHx8IHBzICYgZG9tVXRpbHMuUE9TSVRJT05fQ09OVEFJTlMpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAocGUgJiBkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcgfHwgcGUgJiBkb21VdGlscy5QT1NJVElPTl9DT05UQUlOUykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gY2k7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIG5vZGU7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGUgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIC8v5Yik5pat5aaC5p6c5piv6KeG6aKR55qE6K+d6L+e5o6l5LiN5Y+v55SoDQogICAgICAgICAgICAvL2ZpeCA4NTMNCiAgICAgICAgICAgIHZhciBpbWcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKSwNCiAgICAgICAgICAgICAgICBmbGFnID0gaW1nICYmIChpbWcuY2xhc3NOYW1lID09ICJlZHVpLWZha2VkLXZpZGVvIiB8fCBpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktdXBsb2FkLXZpZGVvIikhPS0xKTsNCiAgICAgICAgICAgIHJldHVybiBmbGFnID8gLTEgOiAwOw0KICAgICAgICB9DQogICAgfTsNCn07DQovLy9pbXBvcnQgY29yZQovLy9pbXBvcnQgcGx1Z2luc1xpbnNlcnRodG1sLmpzCi8vL2NvbW1hbmRzIOaPkuWFpeahhuaetgovLy9jb21tYW5kc05hbWUgIEluc2VydEZyYW1lCi8vL2NvbW1hbmRzVGl0bGUgIOaPkuWFpUlmcmFtZQovLy9jb21tYW5kc0RpYWxvZyAgZGlhbG9nc1xpbnNlcnRmcmFtZQoKVUUucGx1Z2luc1snaW5zZXJ0ZnJhbWUnXSA9IGZ1bmN0aW9uKCkgewogICB2YXIgbWUgPXRoaXM7CiAgICBmdW5jdGlvbiBkZWxldGVJZnJhbWUoKXsKICAgICAgICBtZS5faWZyYW1lICYmIGRlbGV0ZSBtZS5faWZyYW1lOwogICAgfQoKICAgIG1lLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7CiAgICAgICAgZGVsZXRlSWZyYW1lKCk7CiAgICB9KTsKCn07CgoNCi8vL2ltcG9ydCBjb3JlDQovLy9jb21tYW5kcyDmtoLpuKYNCi8vL2NvbW1hbmRzTmFtZSAgU2NyYXdsDQovLy9jb21tYW5kc1RpdGxlICDmtoLpuKYNCi8vL2NvbW1hbmRzRGlhbG9nICBkaWFsb2dzXHNjcmF3bA0KVUUuY29tbWFuZHNbJ3NjcmF3bCddID0gew0KICAgIHF1ZXJ5Q29tbWFuZFN0YXRlIDogZnVuY3Rpb24oKXsNCiAgICAgICAgcmV0dXJuICggYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gIDw9IDggKSA/IC0xIDowOw0KICAgIH0NCn07DQoNCi8qKg0KICog5riF6Zmk5qC85byPDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQovKioNCiAqIOa4hemZpOaWh+Wtl+agt+W8jw0KICogQGNvbW1hbmQgcmVtb3ZlZm9ybWF0DQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAcGFyYW0gICB7U3RyaW5nfSAgIHRhZ3MgICAgIOS7pemAl+WPt+malOW8gOeahOagh+etvuOAguWmgu+8mnN0cm9uZw0KICogQHBhcmFtICAge1N0cmluZ30gICBzdHlsZSAgICDmoLflvI/lpoLvvJpjb2xvcg0KICogQHBhcmFtICAge1N0cmluZ30gICBhdHRycyAgICDlsZ7mgKflpoI6d2lkdGgNCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdyZW1vdmVmb3JtYXQnLCAnc3Ryb25nJywnY29sb3InLCd3aWR0aCcgKTsNCiAqIGBgYA0KICovDQoNClVFLnBsdWdpbnNbJ3JlbW92ZWZvcm1hdCddID0gZnVuY3Rpb24oKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIG1lLnNldE9wdCh7DQogICAgICAgJ3JlbW92ZUZvcm1hdFRhZ3MnOiAnYixiaWcsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbnMsa2JkLHEsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhcicsDQogICAgICAgJ3JlbW92ZUZvcm1hdEF0dHJpYnV0ZXMnOidjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduJw0KICAgIH0pOw0KICAgIG1lLmNvbW1hbmRzWydyZW1vdmVmb3JtYXQnXSA9IHsNCiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbiggY21kTmFtZSwgdGFncywgc3R5bGUsIGF0dHJzLG5vdEluY2x1ZGVBICkgew0KDQogICAgICAgICAgICB2YXIgdGFnUmVnID0gbmV3IFJlZ0V4cCggJ14oPzonICsgKHRhZ3MgfHwgdGhpcy5vcHRpb25zLnJlbW92ZUZvcm1hdFRhZ3MpLnJlcGxhY2UoIC8sL2csICd8JyApICsgJykkJywgJ2knICkgLA0KICAgICAgICAgICAgICAgIHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMgPSBzdHlsZSA/IFtdIDogKGF0dHJzIHx8IHRoaXMub3B0aW9ucy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzKS5zcGxpdCggJywnICksDQogICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgZG9tLlJhbmdlKCB0aGlzLmRvY3VtZW50ICksDQogICAgICAgICAgICAgICAgYm9va21hcmssbm9kZSxwYXJlbnQsDQogICAgICAgICAgICAgICAgZmlsdGVyID0gZnVuY3Rpb24oIG5vZGUgKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09IDE7DQogICAgICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgZnVuY3Rpb24gaXNSZWR1bmRhbnRTcGFuIChub2RlKSB7DQogICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMyB8fCBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSAnc3Bhbicpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUpIHsNCiAgICAgICAgICAgICAgICAgICAgLy9pZSDkuIvliKTmlq3lrp7mlYjvvIzmiYDku6Xlj6rog73nroDljZXnlKhzdHlsZeadpeWIpOaWrQ0KICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBub2RlLnN0eWxlLmNzc1RleHQgPT0gJycgPyAxIDogMDsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gbm9kZS5hdHRyaWJ1dGVzOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIGF0dHJzLmxlbmd0aCApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gMCxsID0gYXR0cnMubGVuZ3RoOyBpPGw7IGkrKyApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGF0dHJzW2ldLnNwZWNpZmllZCApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuICFub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZnVuY3Rpb24gZG9SZW1vdmUoIHJhbmdlICkgew0KDQogICAgICAgICAgICAgICAgdmFyIGJvb2ttYXJrMSA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgaWYgKCByYW5nZS5jb2xsYXBzZWQgKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmVubGFyZ2UoIHRydWUgKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+S4jeiDveaKimHmoIfnrb7liIfkuoYNCiAgICAgICAgICAgICAgICBpZighbm90SW5jbHVkZUEpew0KICAgICAgICAgICAgICAgICAgICB2YXIgYU5vZGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCdhJyx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoYU5vZGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUoYU5vZGUpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgYU5vZGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLmVuZENvbnRhaW5lciwnYScsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGlmKGFOb2RlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKGFOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICBib29rbWFyayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQoNCiAgICAgICAgICAgICAgICBub2RlID0gYm9va21hcmsuc3RhcnQ7DQoNCiAgICAgICAgICAgICAgICAvL+WIh+W8gOWniw0KICAgICAgICAgICAgICAgIHdoaWxlICggKHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSkgJiYgIWRvbVV0aWxzLmlzQmxvY2tFbG0oIHBhcmVudCApICkgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5icmVha1BhcmVudCggbm9kZSwgcGFyZW50ICk7DQoNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcoIG5vZGUgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCBib29rbWFyay5lbmQgKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5YiH57uT5p2fDQogICAgICAgICAgICAgICAgICAgIG5vZGUgPSBib29rbWFyay5lbmQ7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlICggKHBhcmVudCA9IG5vZGUucGFyZW50Tm9kZSkgJiYgIWRvbVV0aWxzLmlzQmxvY2tFbG0oIHBhcmVudCApICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuYnJlYWtQYXJlbnQoIG5vZGUsIHBhcmVudCApOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcoIG5vZGUgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC8v5byA5aeL5Y676Zmk5qC35byPDQogICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoIGJvb2ttYXJrLnN0YXJ0LCBmYWxzZSwgZmlsdGVyICksDQogICAgICAgICAgICAgICAgICAgICAgICBuZXh0Ow0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIGN1cnJlbnQgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGN1cnJlbnQgPT0gYm9va21hcmsuZW5kICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoIGN1cnJlbnQsIHRydWUsIGZpbHRlciApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFkdGQuJGVtcHR5W2N1cnJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSAmJiAhZG9tVXRpbHMuaXNCb29rbWFya05vZGUoIGN1cnJlbnQgKSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRhZ1JlZy50ZXN0KCBjdXJyZW50LnRhZ05hbWUgKSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBzdHlsZSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZVN0eWxlKCBjdXJyZW50LCBzdHlsZSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpc1JlZHVuZGFudFNwYW4oIGN1cnJlbnQgKSAmJiBzdHlsZSAhPSAndGV4dC1kZWNvcmF0aW9uJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKCBjdXJyZW50LCB0cnVlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoIGN1cnJlbnQsIHRydWUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6OTM5ICDkuI3og73miopsaXN05LiK55qE5qC35byP5Y675o6JDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFkdGQuJHRhYmxlQ29udGVudFtjdXJyZW50LnRhZ05hbWVdICYmICFkdGQuJGxpc3RbY3VycmVudC50YWdOYW1lXSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKCBjdXJyZW50LCByZW1vdmVGb3JtYXRBdHRyaWJ1dGVzICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGlzUmVkdW5kYW50U3BhbiggY3VycmVudCApICl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKCBjdXJyZW50LCB0cnVlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBuZXh0Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vdHJhY2U6MTAzNQ0KICAgICAgICAgICAgICAgIC8vdHJhY2U6MTA5NiDkuI3og73miop0ZOS4iueahOagt+W8j+WOu+aOie+8jOavlOWmgui+ueahhg0KICAgICAgICAgICAgICAgIHZhciBwTiA9IGJvb2ttYXJrLnN0YXJ0LnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNCbG9ja0VsbShwTikgJiYgIWR0ZC4kdGFibGVDb250ZW50W3BOLnRhZ05hbWVdICYmICFkdGQuJGxpc3RbcE4udGFnTmFtZV0pew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKCAgcE4scmVtb3ZlRm9ybWF0QXR0cmlidXRlcyApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBwTiA9IGJvb2ttYXJrLmVuZC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgIGlmKGJvb2ttYXJrLmVuZCAmJiBkb21VdGlscy5pc0Jsb2NrRWxtKHBOKSAmJiAhZHRkLiR0YWJsZUNvbnRlbnRbcE4udGFnTmFtZV0mJiAhZHRkLiRsaXN0W3BOLnRhZ05hbWVdKXsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyggIHBOLHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMgKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsoIGJvb2ttYXJrICkubW92ZVRvQm9va21hcmsoYm9va21hcmsxKTsNCiAgICAgICAgICAgICAgICAvL+a4hemZpOWGl+S9meeahOS7o+eggSA8Yj48Ym9va21hcms+PC9iPg0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gcmFuZ2Uuc3RhcnRDb250YWluZXIsDQogICAgICAgICAgICAgICAgICAgIHRtcCwNCiAgICAgICAgICAgICAgICAgICAgY29sbGFwc2VkID0gcmFuZ2UuY29sbGFwc2VkOw0KICAgICAgICAgICAgICAgIHdoaWxlKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBkb21VdGlscy5pc0VtcHR5Tm9kZShub2RlKSAmJiBkdGQuJHJlbW92ZUVtcHR5W25vZGUudGFnTmFtZV0pew0KICAgICAgICAgICAgICAgICAgICB0bXAgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjkzNw0KICAgICAgICAgICAgICAgICAgICAvL+abtOaWsOe7k+adn+i+ueeVjA0KICAgICAgICAgICAgICAgICAgICBpZihyYW5nZS5zdGFydENvbnRhaW5lciA9PT0gcmFuZ2UuZW5kQ29udGFpbmVyKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmVuZE9mZnNldC0tOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRtcDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZighY29sbGFwc2VkKXsNCiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHJhbmdlLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUobm9kZS5ub2RlVHlwZSA9PSAxICYmIGRvbVV0aWxzLmlzRW1wdHlOb2RlKG5vZGUpICYmIGR0ZC4kcmVtb3ZlRW1wdHlbbm9kZS50YWdOYW1lXSl7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmRCZWZvcmUobm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobm9kZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSB0bXA7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQoNCg0KICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgZG9SZW1vdmUoIHJhbmdlICk7DQogICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsNCg0KICAgICAgICB9DQoNCiAgICB9Ow0KDQp9Ow0KDQovKioNCiAqIOa3u+WKoOW8leeUqA0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDmt7vliqDlvJXnlKgNCiAqIEBjb21tYW5kIGJsb2NrcXVvdGUNCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdibG9ja3F1b3RlJyApOw0KICogYGBgDQogKi8NCg0KLyoqDQogKiDmt7vliqDlvJXnlKgNCiAqIEBjb21tYW5kIGJsb2NrcXVvdGUNCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBwYXJhbSB7IE9iamVjdCB9IGF0dHJzIOiKgueCueWxnuaApw0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2Jsb2NrcXVvdGUnLHsNCiAqICAgICBzdHlsZTogImNvbG9yOiByZWQ7Ig0KICogfSApOw0KICogYGBgDQogKi8NCg0KDQpVRS5wbHVnaW5zWydibG9ja3F1b3RlJ10gPSBmdW5jdGlvbigpew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgZnVuY3Rpb24gZ2V0T2JqKGVkaXRvcil7DQogICAgICAgIHJldHVybiBkb21VdGlscy5maWx0ZXJOb2RlTGlzdChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSwnYmxvY2txdW90ZScpOw0KICAgIH0NCiAgICBtZS5jb21tYW5kc1snYmxvY2txdW90ZSddID0gew0KICAgICAgICBleGVjQ29tbWFuZCA6IGZ1bmN0aW9uKCBjbWROYW1lLCBhdHRycyApIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgb2JqID0gZ2V0T2JqKHRoaXMpLA0KICAgICAgICAgICAgICAgIGJsb2NrcXVvdGUgPSBkdGQuYmxvY2txdW90ZSwNCiAgICAgICAgICAgICAgICBib29rbWFyayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQoNCiAgICAgICAgICAgIGlmICggb2JqICkgew0KDQogICAgICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHJhbmdlLnN0YXJ0Q29udGFpbmVyLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRCbG9jayA9IGRvbVV0aWxzLmlzQmxvY2tFbG0oc3RhcnQpID8gc3RhcnQgOiBkb21VdGlscy5maW5kUGFyZW50KHN0YXJ0LGZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5pc0Jsb2NrRWxtKG5vZGUpfSksDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZENvbnRhaW5lciwNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEJsb2NrID0gZG9tVXRpbHMuaXNCbG9ja0VsbShlbmQpID8gZW5kIDogIGRvbVV0aWxzLmZpbmRQYXJlbnQoZW5kLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5pc0Jsb2NrRWxtKG5vZGUpfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/lpITnkIbkuIDkuItsaQ0KICAgICAgICAgICAgICAgICAgICBzdGFydEJsb2NrID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydEJsb2NrLCdsaScsdHJ1ZSkgfHwgc3RhcnRCbG9jazsNCiAgICAgICAgICAgICAgICAgICAgZW5kQmxvY2sgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVuZEJsb2NrLCdsaScsdHJ1ZSkgfHwgZW5kQmxvY2s7DQoNCg0KICAgICAgICAgICAgICAgICAgICBpZihzdGFydEJsb2NrLnRhZ05hbWUgPT0gJ0xJJyB8fCBzdGFydEJsb2NrLnRhZ05hbWUgPT0gJ1REJyB8fCBzdGFydEJsb2NrID09PSBvYmogfHwgZG9tVXRpbHMuaXNCb2R5KHN0YXJ0QmxvY2spKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShvYmosdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuYnJlYWtQYXJlbnQoc3RhcnRCbG9jayxvYmopOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgaWYoc3RhcnRCbG9jayAhPT0gZW5kQmxvY2spew0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbmRCbG9jaywnYmxvY2txdW90ZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYob2JqKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihlbmRCbG9jay50YWdOYW1lID09ICdMSScgfHwgZW5kQmxvY2sudGFnTmFtZSA9PSAnVEQnfHwgZG9tVXRpbHMuaXNCb2R5KGVuZEJsb2NrKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5wYXJlbnROb2RlICYmIGRvbVV0aWxzLnJlbW92ZShvYmosdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmJyZWFrUGFyZW50KGVuZEJsb2NrLG9iaik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgYmxvY2txdW90ZXMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLmRvY3VtZW50LCdibG9ja3F1b3RlJyk7DQogICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wLGJpO2JpPWJsb2NrcXVvdGVzW2krK107KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFiaS5jaGlsZE5vZGVzLmxlbmd0aCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGJpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRvbVV0aWxzLmdldFBvc2l0aW9uKGJpLHN0YXJ0QmxvY2spJmRvbVV0aWxzLlBPU0lUSU9OX0ZPTExPV0lORyAmJiBkb21VdGlscy5nZXRQb3NpdGlvbihiaSxlbmRCbG9jaykmZG9tVXRpbHMuUE9TSVRJT05fUFJFQ0VESU5HKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoYmksdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQoNCg0KICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgIHZhciB0bXBSYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKSwNCiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlID09IDEgPyB0bXBSYW5nZS5zdGFydENvbnRhaW5lciA6IHRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUsDQogICAgICAgICAgICAgICAgICAgIHByZU5vZGUgPSBub2RlLA0KICAgICAgICAgICAgICAgICAgICBkb0VuZCA9IDE7DQoNCiAgICAgICAgICAgICAgICAvL+iwg+aVtOW8gOWniw0KICAgICAgICAgICAgICAgIHdoaWxlICggMSApIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCBkb21VdGlscy5pc0JvZHkobm9kZSkgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHByZU5vZGUgIT09IG5vZGUgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByYW5nZS5jb2xsYXBzZWQgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNlbGVjdE5vZGUoIHByZU5vZGUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9FbmQgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKCBwcmVOb2RlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0U3RhcnQobm9kZSwwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCAhYmxvY2txdW90ZVtub2RlLnRhZ05hbWVdICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByYW5nZS5jb2xsYXBzZWQgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2VsZWN0Tm9kZSggcHJlTm9kZSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKCBwcmVOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgcHJlTm9kZSA9IG5vZGU7DQogICAgICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgLy/osIPmlbTnu5PmnZ8NCiAgICAgICAgICAgICAgICBpZiAoIGRvRW5kICkgew0KICAgICAgICAgICAgICAgICAgICBwcmVOb2RlID0gbm9kZSA9ICBub2RlID0gdG1wUmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlID09IDEgPyB0bXBSYW5nZS5lbmRDb250YWluZXIgOiB0bXBSYW5nZS5lbmRDb250YWluZXIucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCAxICkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRvbVV0aWxzLmlzQm9keSggbm9kZSApICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcHJlTm9kZSAhPT0gbm9kZSApIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBSYW5nZS5zZXRFbmRBZnRlciggcHJlTm9kZSApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0RW5kKCBub2RlLCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFibG9ja3F1b3RlW25vZGUudGFnTmFtZV0gKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0RW5kQWZ0ZXIoIHByZU5vZGUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlTm9kZSA9IG5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgIG5vZGUgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYmxvY2txdW90ZScgKTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRBdHRyaWJ1dGVzKCBub2RlLCBhdHRycyApOw0KICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoIHRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpICk7DQogICAgICAgICAgICAgICAgdG1wUmFuZ2UuaW5zZXJ0Tm9kZSggbm9kZSApOw0KICAgICAgICAgICAgICAgIC8v5Y676Zmk6YeN5aSN55qEDQogICAgICAgICAgICAgICAgdmFyIGNoaWxkcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5vZGUsJ2Jsb2NrcXVvdGUnKTsNCiAgICAgICAgICAgICAgICBmb3IodmFyIGk9MCxjaTtjaT1jaGlsZHNbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBpZihjaS5wYXJlbnROb2RlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaSx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsoIGJvb2ttYXJrICkuc2VsZWN0KCk7DQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlIDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICByZXR1cm4gZ2V0T2JqKHRoaXMpID8gMSA6IDA7DQogICAgICAgIH0NCiAgICB9Ow0KfTsNCg0KDQovKioNCiAqIOmmluihjOe8qei/mw0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDnvKnov5sNCiAqIEBjb21tYW5kIGluZGVudA0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2luZGVudCcgKTsNCiAqIGBgYA0KICovDQpVRS5jb21tYW5kc1snaW5kZW50J10gPSB7DQogICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgIHZhciBtZSA9IHRoaXMsdmFsdWUgPSBtZS5xdWVyeUNvbW1hbmRTdGF0ZSgiaW5kZW50IikgPyAiMGVtIiA6IChtZS5vcHRpb25zLmluZGVudFZhbHVlIHx8ICcyZW0nKTsNCiAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdQYXJhZ3JhcGgnLCdwJyx7c3R5bGU6J3RleHQtaW5kZW50OicrIHZhbHVlfSk7DQogICAgfSwNCiAgICBxdWVyeUNvbW1hbmRTdGF0ZSA6IGZ1bmN0aW9uKCkgew0KICAgICAgICB2YXIgcE4gPSBkb21VdGlscy5maWx0ZXJOb2RlTGlzdCh0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCksJ3AgaDEgaDIgaDMgaDQgaDUgaDYnKTsNCiAgICAgICAgcmV0dXJuIHBOICYmIHBOLnN0eWxlLnRleHRJbmRlbnQgJiYgcGFyc2VJbnQocE4uc3R5bGUudGV4dEluZGVudCkgPyAgMSA6IDA7DQogICAgfQ0KDQp9Ow0KDQovKioNCiAqIOWFqOmAiQ0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDpgInkuK3miYDmnInlhoXlrrkNCiAqIEBjb21tYW5kIHNlbGVjdGFsbA0KICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ3NlbGVjdGFsbCcgKTsNCiAqIGBgYA0KICovDQpVRS5wbHVnaW5zWydzZWxlY3RhbGwnXSA9IGZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBtZS5jb21tYW5kc1snc2VsZWN0YWxsJ10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kIDogZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIC8v5Y675o6J5LqG5Y6f55Sf55qEc2VsZWN0QWxsLOWboOS4uuS8muWHuueOsOaKpemUmeWSjOW9k+WGheWuueS4uuepuuaXtu+8jOS4jeiDveWHuueOsOmXreWQiOeKtuaAgeeahOWFieaghw0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcyxib2R5ID0gbWUuYm9keSwNCiAgICAgICAgICAgICAgICByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGJvZHkpOw0KICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGJvZHkpKXsNCiAgICAgICAgICAgICAgICAvL29wZXJh5LiN6IO96Ieq5Yqo5ZCI5bm25Yiw5YWD57Sg55qE6YeM6L6577yM6KaB5omL5Yqo5aSE55CG5LiA5LiLDQogICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5vcGVyYSAmJiBib2R5LmZpcnN0Q2hpbGQgJiYgYm9keS5maXJzdENoaWxkLm5vZGVUeXBlID09IDEpew0KICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEF0Rmlyc3QoYm9keS5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByYW5nZS5zZWxlY3QodHJ1ZSk7DQogICAgICAgIH0sDQogICAgICAgIG5vdE5lZWRVbmRvIDogMQ0KICAgIH07DQoNCg0KICAgIC8v5b+r5o236ZSuDQogICAgbWUuYWRkc2hvcnRjdXRrZXkoew0KICAgICAgICAgInNlbGVjdEFsbCIgOiAiY3RybCs2NSINCiAgICB9KTsNCn07DQoNCi8qKg0KICog5q616JC95qC35byPDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQovKioNCiAqIOauteiQveagvOW8jw0KICogQGNvbW1hbmQgcGFyYWdyYXBoDQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAcGFyYW0ge1N0cmluZ30gICBzdHlsZSAgICAgICAgICAgICAgIOagh+etvuWAvOS4uu+8midwJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2Jw0KICogQHBhcmFtIHtPYmplY3R9ICAgYXR0cnMgICAgICAgICAgICAgICDmoIfnrb7nmoTlsZ7mgKcNCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdQYXJhZ3JhcGgnLCdoMScsJ3sNCiAqICAgICBjbGFzczondGVzdCcNCiAqIH0nICk7DQogKiBgYGANCiAqLw0KDQovKioNCiAqIOi/lOWbnumAieWMuuWGheiKgueCueagh+etvuWQjQ0KICogQGNvbW1hbmQgcGFyYWdyYXBoDQogKiBAbWV0aG9kIHF1ZXJ5Q29tbWFuZFZhbHVlDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAcmV0dXJuIHsgU3RyaW5nIH0g6IqC54K55qCH562+5ZCNDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCAnUGFyYWdyYXBoJyApOw0KICogYGBgDQogKi8NCg0KVUUucGx1Z2luc1sncGFyYWdyYXBoJ10gPSBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICBibG9jayA9IGRvbVV0aWxzLmlzQmxvY2tFbG0sDQogICAgICAgIG5vdEV4Y2hhbmdlID0gWydURCcsJ0xJJywnUFJFJ10sDQoNCiAgICAgICAgZG9QYXJhZ3JhcGggPSBmdW5jdGlvbihyYW5nZSxzdHlsZSxhdHRycyxzb3VyY2VDbWROYW1lKXsNCiAgICAgICAgICAgIHZhciBib29rbWFyayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCksDQogICAgICAgICAgICAgICAgZmlsdGVyRm4gPSBmdW5jdGlvbiggbm9kZSApIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAgbm9kZS5ub2RlVHlwZSA9PSAxID8gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2JyJyAmJiAgIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpIDogIWRvbVV0aWxzLmlzV2hpdGVzcGFjZSggbm9kZSApOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcGFyYTsNCg0KICAgICAgICAgICAgcmFuZ2UuZW5sYXJnZSggdHJ1ZSApOw0KICAgICAgICAgICAgdmFyIGJvb2ttYXJrMiA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCksDQogICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKCBib29rbWFyazIuc3RhcnQsIGZhbHNlLCBmaWx0ZXJGbiApLA0KICAgICAgICAgICAgICAgIHRtcFJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHRtcE5vZGU7DQogICAgICAgICAgICB3aGlsZSAoIGN1cnJlbnQgJiYgIShkb21VdGlscy5nZXRQb3NpdGlvbiggY3VycmVudCwgYm9va21hcmsyLmVuZCApICYgZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSApIHsNCiAgICAgICAgICAgICAgICBpZiAoIGN1cnJlbnQubm9kZVR5cGUgPT0gMyB8fCAhYmxvY2soIGN1cnJlbnQgKSApIHsNCiAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0U3RhcnRCZWZvcmUoIGN1cnJlbnQgKTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKCBjdXJyZW50ICYmIGN1cnJlbnQgIT09IGJvb2ttYXJrMi5lbmQgJiYgIWJsb2NrKCBjdXJyZW50ICkgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gY3VycmVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZSggY3VycmVudCwgZmFsc2UsIG51bGwsIGZ1bmN0aW9uKCBub2RlICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYmxvY2soIG5vZGUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0bXBSYW5nZS5zZXRFbmRBZnRlciggdG1wTm9kZSApOw0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgcGFyYSA9IHJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIHN0eWxlICk7DQogICAgICAgICAgICAgICAgICAgIGlmKGF0dHJzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldEF0dHJpYnV0ZXMocGFyYSxhdHRycyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzb3VyY2VDbWROYW1lICYmIHNvdXJjZUNtZE5hbWUgPT0gJ2N1c3RvbXN0eWxlJyAmJiBhdHRycy5zdHlsZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYS5zdHlsZS5jc3NUZXh0ID0gYXR0cnMuc3R5bGU7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcGFyYS5hcHBlbmRDaGlsZCggdG1wUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkgKTsNCiAgICAgICAgICAgICAgICAgICAgLy/pnIDopoHlhoXlrrnljaDkvY0NCiAgICAgICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUocGFyYSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmlsbENoYXIocmFuZ2UuZG9jdW1lbnQscGFyYSk7DQogICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLmluc2VydE5vZGUoIHBhcmEgKTsNCg0KICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gcGFyYS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAvL+WmguaenHBhcmHkuIrkuIDnuqfmmK/kuIDkuKpibG9ja+WFg+e0oOS4lOS4jeaYr2JvZHksdGTlsLHliKDpmaTlroMNCiAgICAgICAgICAgICAgICAgICAgaWYgKCBibG9jayggcGFyZW50ICkgJiYgIWRvbVV0aWxzLmlzQm9keSggcGFyYS5wYXJlbnROb2RlICkgJiYgdXRpbHMuaW5kZXhPZihub3RFeGNoYW5nZSxwYXJlbnQudGFnTmFtZSk9PS0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL+WtmOWCqGRpcixzdHlsZQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIShzb3VyY2VDbWROYW1lICYmIHNvdXJjZUNtZE5hbWUgPT0gJ2N1c3RvbXN0eWxlJykpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpICYmIHBhcmEuc2V0QXR0cmlidXRlKCdkaXInLHBhcmVudC5nZXRBdHRyaWJ1dGUoJ2RpcicpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjEwNzANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc3R5bGUuY3NzVGV4dCAmJiAocGFyYS5zdHlsZS5jc3NUZXh0ID0gcGFyZW50LnN0eWxlLmNzc1RleHQgKyAnOycgKyBwYXJhLnN0eWxlLmNzc1RleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MTAzMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5zdHlsZS50ZXh0QWxpZ24gJiYgIXBhcmEuc3R5bGUudGV4dEFsaWduICYmIChwYXJhLnN0eWxlLnRleHRBbGlnbiA9IHBhcmVudC5zdHlsZS50ZXh0QWxpZ24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5zdHlsZS50ZXh0SW5kZW50ICYmICFwYXJhLnN0eWxlLnRleHRJbmRlbnQgJiYgKHBhcmEuc3R5bGUudGV4dEluZGVudCA9IHBhcmVudC5zdHlsZS50ZXh0SW5kZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc3R5bGUucGFkZGluZyAmJiAhcGFyYS5zdHlsZS5wYWRkaW5nICYmIChwYXJhLnN0eWxlLnBhZGRpbmcgPSBwYXJlbnQuc3R5bGUucGFkZGluZyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MTcwNiDpgInmi6nnmoTlsLHmmK9oMS026KaB5Yig6ZmkDQogICAgICAgICAgICAgICAgICAgICAgICBpZihhdHRycyAmJiAvaFxkL2kudGVzdChwYXJlbnQudGFnTmFtZSkgJiYgIS9oXGQvaS50ZXN0KHBhcmEudGFnTmFtZSkgKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRBdHRyaWJ1dGVzKHBhcmVudCxhdHRycyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc291cmNlQ21kTmFtZSAmJiBzb3VyY2VDbWROYW1lID09ICdjdXN0b21zdHlsZScgJiYgYXR0cnMuc3R5bGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuc3R5bGUuY3NzVGV4dCA9IGF0dHJzLnN0eWxlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUocGFyYSx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhID0gcGFyZW50Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKCBwYXJhLnBhcmVudE5vZGUsIHRydWUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCAgdXRpbHMuaW5kZXhPZihub3RFeGNoYW5nZSxwYXJlbnQudGFnTmFtZSkhPS0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBwYXJlbnQ7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcGFyYTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKCBjdXJyZW50LCBmYWxzZSwgZmlsdGVyRm4gKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoIGN1cnJlbnQsIHRydWUsIGZpbHRlckZuICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKCBib29rbWFyazIgKS5tb3ZlVG9Cb29rbWFyayggYm9va21hcmsgKTsNCiAgICAgICAgfTsNCiAgICBtZS5zZXRPcHQoJ3BhcmFncmFwaCcseydwJzonJywgJ2gxJzonJywgJ2gyJzonJywgJ2gzJzonJywgJ2g0JzonJywgJ2g1JzonJywgJ2g2JzonJ30pOw0KICAgIG1lLmNvbW1hbmRzWydwYXJhZ3JhcGgnXSA9IHsNCiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbiggY21kTmFtZSwgc3R5bGUsYXR0cnMsc291cmNlQ21kTmFtZSApIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICAgLy/pl63lkIjml7bljZXni6zlpITnkIYNCiAgICAgICAgICAgIGlmKHJhbmdlLmNvbGxhcHNlZCl7DQogICAgICAgICAgICAgICAgdmFyIHR4dCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ3AnKTsNCiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHR4dCk7DQogICAgICAgICAgICAgICAgLy/ljrvmjonlhpfkvZnnmoRmaWxsY2hhcg0KICAgICAgICAgICAgICAgIGlmKGJyb3dzZXIuaWUpew0KICAgICAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHR4dC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgIGlmKG5vZGUgJiYgZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBub2RlID0gdHh0Lm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICBpZihub2RlICYmIGRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKSl7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobm9kZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJhbmdlID0gZG9QYXJhZ3JhcGgocmFuZ2Usc3R5bGUsYXR0cnMsc291cmNlQ21kTmFtZSk7DQogICAgICAgICAgICBpZih0eHQpew0KICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHR4dCkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgcE4gPSB0eHQucGFyZW50Tm9kZTsNCg0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0eHQpOw0KDQogICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNCbG9ja0VsbShwTikmJmRvbVV0aWxzLmlzRW1wdHlOb2RlKHBOKSl7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKHRoaXMuZG9jdW1lbnQscE4pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZihicm93c2VyLmdlY2tvICYmIHJhbmdlLmNvbGxhcHNlZCAmJiByYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAxKXsNCiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSByYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XTsNCiAgICAgICAgICAgICAgICBpZihjaGlsZCAmJiBjaGlsZC5ub2RlVHlwZSA9PSAxICYmIGNoaWxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSBzdHlsZSl7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGNoaWxkLDApLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vdHJhY2U6MTA5NyDljp/mnaXmnIl0cnVl77yM5Y6f5Zug5b+Y5LqG77yM5L2G5Y675LqG5bCx5LiN6IO95riF6Zmk5aSa5L2Z55qE5Y2g5L2N56ym5LqGDQogICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsNCg0KDQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kVmFsdWUgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBub2RlID0gZG9tVXRpbHMuZmlsdGVyTm9kZUxpc3QodGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLCdwIGgxIGgyIGgzIGg0IGg1IGg2Jyk7DQogICAgICAgICAgICByZXR1cm4gbm9kZSA/IG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpIDogJyc7DQogICAgICAgIH0NCiAgICB9Ow0KfTsNCg0KLyoqDQogKiDmj5LlhaXliIblibLnur/mj5Lku7YNCiAqIEBmaWxlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICog5o+S5YWl5YiG5Ymy57q/DQogKiBAY29tbWFuZCBob3Jpem9udGFsDQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWROYW1lIOWRveS7pOWtl+espuS4sg0KICogQGV4YW1wbGUNCiAqIGBgYGphdmFzY3JpcHQNCiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2hvcml6b250YWwnICk7DQogKiBgYGANCiAqLw0KVUUucGx1Z2luc1snaG9yaXpvbnRhbCddID0gZnVuY3Rpb24oKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIG1lLmNvbW1hbmRzWydob3Jpem9udGFsJ10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kIDogZnVuY3Rpb24oIGNtZE5hbWUgKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgaWYobWUucXVlcnlDb21tYW5kU3RhdGUoY21kTmFtZSkhPT0tMSl7DQogICAgICAgICAgICAgICAgaWYobWUuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhyIikubGVuZ3RoID09IDApew0KICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0SHRtbCcsJzxociBjbGFzcz0ibW9yZSI+Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2V7DQogICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdpbnNlcnRIdG1sJywnPGhyPicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICBpZihzdGFydC5ub2RlVHlwZSA9PSAxICYmICFzdGFydC5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSApew0KDQogICAgICAgICAgICAgICAgICAgIHZhciB0bXA7DQogICAgICAgICAgICAgICAgICAgIGlmKHRtcCA9IHN0YXJ0LmNoaWxkTm9kZXNbcmFuZ2Uuc3RhcnRPZmZzZXQgLSAxXSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0bXAubm9kZVR5cGUgPT0gMSAmJiB0bXAudGFnTmFtZSA9PSAnSFInKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtZS5vcHRpb25zLmVudGVyVGFnID09ICdwJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0bXAsMCkuc2V0Q3Vyc29yKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZSh0bXApLnNldEN1cnNvcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIC8v6L6555WM5ZyodGFibGXph4zkuI3og73liqDliIbpmpTnur8NCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGUgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHJldHVybiBkb21VdGlscy5maWx0ZXJOb2RlTGlzdCh0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCksJ3RhYmxlJykgPyAtMSA6IDA7DQogICAgICAgIH0NCiAgICB9Ow0KLy8gICAgbWUuYWRkTGlzdGVuZXIoJ2RlbGtleXVwJyxmdW5jdGlvbigpew0KLy8gICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KLy8gICAgICAgIGlmKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uID4gOCl7DQovLyAgICAgICAgICAgIHJuZy50eHRUb0VsbUJvdW5kYXJ5KHRydWUpOw0KLy8gICAgICAgICAgICBpZihkb21VdGlscy5pc1N0YXJ0SW5ibG9jayhybmcpKXsNCi8vICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gcm5nLnN0YXJ0Q29udGFpbmVyOw0KLy8gICAgICAgICAgICAgICAgdmFyIHByZSA9IHRtcE5vZGUucHJldmlvdXNTaWJsaW5nOw0KLy8gICAgICAgICAgICAgICAgaWYocHJlICYmIGRvbVV0aWxzLmlzVGFnTm9kZShwcmUsJ2hyJykpew0KLy8gICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwcmUpOw0KLy8gICAgICAgICAgICAgICAgICAgIHJuZy5zZWxlY3QoKTsNCi8vICAgICAgICAgICAgICAgICAgICByZXR1cm47DQovLyAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgIH0NCi8vICAgICAgICB9DQovLyAgICAgICAgaWYoZG9tVXRpbHMuaXNCb2R5KHJuZy5zdGFydENvbnRhaW5lcikpew0KLy8gICAgICAgICAgICB2YXIgaHIgPSBybmcuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tybmcuc3RhcnRPZmZzZXQgLTFdOw0KLy8gICAgICAgICAgICBpZihociAmJiBoci5ub2RlTmFtZSA9PSAnSFInKXsNCi8vICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gaHIubmV4dFNpYmxpbmc7DQovLyAgICAgICAgICAgICAgICBpZihuZXh0KXsNCi8vICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnQobmV4dCwwKQ0KLy8gICAgICAgICAgICAgICAgfWVsc2UgaWYoaHIucHJldmlvdXNTaWJsaW5nKXsNCi8vICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnRBdExhc3QoaHIucHJldmlvdXNTaWJsaW5nKQ0KLy8gICAgICAgICAgICAgICAgfWVsc2V7DQovLyAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCi8vICAgICAgICAgICAgICAgICAgICBoci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLGhyKTsNCi8vICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5maWxsTm9kZSh0aGlzLmRvY3VtZW50LHApOw0KLy8gICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydChwLDApOw0KLy8gICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGhyKTsNCi8vICAgICAgICAgICAgICAgIHJuZy5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7DQovLyAgICAgICAgICAgIH0NCi8vICAgICAgICB9DQovLyAgICB9KQ0KICAgIG1lLmFkZExpc3RlbmVyKCdkZWxrZXlkb3duJyxmdW5jdGlvbihuYW1lLGV2dCl7DQogICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICBybmcudHh0VG9FbG1Cb3VuZGFyeSh0cnVlKTsNCiAgICAgICAgaWYoZG9tVXRpbHMuaXNTdGFydEluYmxvY2socm5nKSl7DQogICAgICAgICAgICB2YXIgdG1wTm9kZSA9IHJuZy5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgIHZhciBwcmUgPSB0bXBOb2RlLnByZXZpb3VzU2libGluZzsNCiAgICAgICAgICAgIGlmKHByZSAmJiBkb21VdGlscy5pc1RhZ05vZGUocHJlLCdocicpKXsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUocHJlKTsNCiAgICAgICAgICAgICAgICBybmcuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9KQ0KfTsNCg0KDQovKioNCiAqIOauteWJjeauteWQjumXtOi3neaPkuS7tg0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDorr7nva7mrrXpl7Tot50NCiAqIEBjb21tYW5kIHJvd3NwYWNpbmcNCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBwYXJhbSB7IFN0cmluZyB9IHZhbHVlIOautemXtOi3neeahOWAvO+8jOS7pXB45Li65Y2V5L2NDQogKiBAcGFyYW0geyBTdHJpbmcgfSBkaXIg6Ze06Led5L2N572u77yMdG9w5oiWYm90dG9t77yM5YiG5Yir6KGo56S65q615YmN5ZKM5q615ZCODQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAncm93c3BhY2luZycsICcxMCcsICd0b3AnICk7DQogKiBgYGANCiAqLw0KDQpVRS5wbHVnaW5zWydyb3dzcGFjaW5nJ10gPSBmdW5jdGlvbigpew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgbWUuc2V0T3B0KHsNCiAgICAgICAgJ3Jvd3NwYWNpbmd0b3AnOlsnNScsICcxMCcsICcxNScsICcyMCcsICcyNSddLA0KICAgICAgICAncm93c3BhY2luZ2JvdHRvbSc6Wyc1JywgJzEwJywgJzE1JywgJzIwJywgJzI1J10NCg0KICAgIH0pOw0KICAgIG1lLmNvbW1hbmRzWydyb3dzcGFjaW5nJ10gPSAgew0KICAgICAgICBleGVjQ29tbWFuZCA6IGZ1bmN0aW9uKCBjbWROYW1lLHZhbHVlLGRpciApIHsNCiAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ3BhcmFncmFwaCcsJ3AnLHtzdHlsZTonbWFyZ2luLScrZGlyKyc6Jyt2YWx1ZSArICdweCd9KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBxdWVyeUNvbW1hbmRWYWx1ZSA6IGZ1bmN0aW9uKGNtZE5hbWUsZGlyKSB7DQogICAgICAgICAgICB2YXIgcE4gPSBkb21VdGlscy5maWx0ZXJOb2RlTGlzdCh0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCksZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkgfSksDQogICAgICAgICAgICAgICAgdmFsdWU7DQogICAgICAgICAgICAvL3RyYWNlOjEwMjYNCiAgICAgICAgICAgIGlmKHBOKXsNCiAgICAgICAgICAgICAgICB2YWx1ZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUocE4sJ21hcmdpbi0nK2RpcikucmVwbGFjZSgvW15cZF0vZywnJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuICF2YWx1ZSA/IDAgOiB2YWx1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAwOw0KDQogICAgICAgIH0NCiAgICB9Ow0KfTsNCg0KDQoNCi8qKg0KICog6K6+572u6KGM5YaF6Ze06LedDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KVUUucGx1Z2luc1snbGluZWhlaWdodCddID0gZnVuY3Rpb24oKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIG1lLnNldE9wdCh7J2xpbmVoZWlnaHQnOlsnMScsICcxLjUnLCcxLjc1JywnMicsICczJywgJzQnLCAnNSddfSk7DQoNCiAgICAvKioNCiAgICAgKiDooYzot50NCiAgICAgKiBAY29tbWFuZCBsaW5laGVpZ2h0DQogICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZE5hbWUg5ZG95Luk5a2X56ym5LiyDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gdmFsdWUg5Lyg5YWl55qE6KGM6auY5YC877yMIOivpeWAvOaYr+W9k+WJjeWtl+S9k+eahOWAjeaVsO+8jCDkvovlpoLvvJogMS41LCAxLjc1DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnbGluZWhlaWdodCcsIDEuNSk7DQogICAgICogYGBgDQogICAgICovDQogICAgLyoqDQogICAgICog5p+l6K+i5b2T5YmN6YCJ5Yy65YaF5a6555qE6KGM6auY5aSn5bCPDQogICAgICogQGNvbW1hbmQgbGluZWhlaWdodA0KICAgICAqIEBtZXRob2QgcXVlcnlDb21tYW5kVmFsdWUNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICogQHJldHVybiB7IFN0cmluZyB9IOi/lOWbnuW9k+WJjeihjOmrmOWkp+Wwjw0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2xpbmVoZWlnaHQnICk7DQogICAgICogYGBgDQogICAgICovDQoNCiAgICBtZS5jb21tYW5kc1snbGluZWhlaWdodCddID0gIHsNCiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbiggY21kTmFtZSx2YWx1ZSApIHsNCiAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoJ3BhcmFncmFwaCcsJ3AnLHtzdHlsZTonbGluZS1oZWlnaHQ6JysgKHZhbHVlID09ICIxIiA/ICJub3JtYWwiIDogdmFsdWUgKyAnZW0nKSB9KTsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9LA0KICAgICAgICBxdWVyeUNvbW1hbmRWYWx1ZSA6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIHBOID0gZG9tVXRpbHMuZmlsdGVyTm9kZUxpc3QodGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5pc0Jsb2NrRWxtKG5vZGUpfSk7DQogICAgICAgICAgICBpZihwTil7DQogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShwTiwnbGluZS1oZWlnaHQnKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gJ25vcm1hbCcgPyAxIDogdmFsdWUucmVwbGFjZSgvW15cZC5dKi9pZywiIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KfTsNCg0KDQoNCi8qKgogKiDmj5LlhaXku6PnoIHmj5Lku7YKICogQGZpbGUKICogQHNpbmNlIDEuMi42LjEKICovCgpVRS5wbHVnaW5zWydpbnNlcnRjb2RlJ10gPSBmdW5jdGlvbigpIHsKICAgIHZhciBtZSA9IHRoaXM7CiAgICBtZS5yZWFkeShmdW5jdGlvbigpewogICAgICAgIHV0aWxzLmNzc1J1bGUoJ3ByZScsJ3ByZXttYXJnaW46LjVlbSAwO3BhZGRpbmc6LjRlbSAuNmVtO2JvcmRlci1yYWRpdXM6OHB4O2JhY2tncm91bmQ6I2Y4ZjhmODt9JywKICAgICAgICAgICAgbWUuZG9jdW1lbnQpCiAgICB9KTsKICAgIG1lLnNldE9wdCgnaW5zZXJ0Y29kZScsewogICAgICAgICAgICAnYXMzJzonQWN0aW9uU2NyaXB0MycsCiAgICAgICAgICAgICdiYXNoJzonQmFzaC9TaGVsbCcsCiAgICAgICAgICAgICdjcHAnOidDL0MrKycsCiAgICAgICAgICAgICdjc3MnOidDc3MnLAogICAgICAgICAgICAnY2YnOidDb2RlRnVuY3Rpb24nLAogICAgICAgICAgICAnYyMnOidDIycsCiAgICAgICAgICAgICdkZWxwaGknOidEZWxwaGknLAogICAgICAgICAgICAnZGlmZic6J0RpZmYnLAogICAgICAgICAgICAnZXJsYW5nJzonRXJsYW5nJywKICAgICAgICAgICAgJ2dyb292eSc6J0dyb292eScsCiAgICAgICAgICAgICdodG1sJzonSHRtbCcsCiAgICAgICAgICAgICdqYXZhJzonSmF2YScsCiAgICAgICAgICAgICdqZngnOidKYXZhRngnLAogICAgICAgICAgICAnanMnOidKYXZhc2NyaXB0JywKICAgICAgICAgICAgJ3BsJzonUGVybCcsCiAgICAgICAgICAgICdwaHAnOidQaHAnLAogICAgICAgICAgICAncGxhaW4nOidQbGFpbiBUZXh0JywKICAgICAgICAgICAgJ3BzJzonUG93ZXJTaGVsbCcsCiAgICAgICAgICAgICdweXRob24nOidQeXRob24nLAogICAgICAgICAgICAncnVieSc6J1J1YnknLAogICAgICAgICAgICAnc2NhbGEnOidTY2FsYScsCiAgICAgICAgICAgICdzcWwnOidTcWwnLAogICAgICAgICAgICAndmInOidWYicsCiAgICAgICAgICAgICd4bWwnOidYbWwnCiAgICB9KTsKCiAgICAvKioKICAgICAqIOaPkuWFpeS7o+eggQogICAgICogQGNvbW1hbmQgaW5zZXJ0Y29kZQogICAgICogQG1ldGhvZCBleGVjQ29tbWFuZAogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sgogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbGFuZyDmj5LlhaXku6PnoIHnmoTor63oqIAKICAgICAqIEBleGFtcGxlCiAgICAgKiBgYGBqYXZhc2NyaXB0CiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnRjb2RlJywgJ2phdmFzY3JpcHQnICk7CiAgICAgKiBgYGAKICAgICAqLwoKICAgIC8qKgogICAgICog5aaC5p6c6YCJ5Yy65omA5Zyo5L2N572u5piv5o+S5YWl5o+S5YWl5Luj56CB5Yy65Z+f77yM6L+U5Zue5Luj56CB55qE6K+t6KiACiAgICAgKiBAY29tbWFuZCBpbnNlcnRjb2RlCiAgICAgKiBAbWV0aG9kIHF1ZXJ5Q29tbWFuZFZhbHVlCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyCiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g6L+U5Zue5Luj56CB55qE6K+t6KiACiAgICAgKiBAZXhhbXBsZQogICAgICogYGBgamF2YXNjcmlwdAogICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCAnaW5zZXJ0Y29kZScgKTsKICAgICAqIGBgYAogICAgICovCgogICAgbWUuY29tbWFuZHNbJ2luc2VydGNvZGUnXSA9IHsKICAgICAgICBleGVjQ29tbWFuZCA6IGZ1bmN0aW9uKGNtZCxsYW5nKXsKICAgICAgICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgICAgICAgIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLAogICAgICAgICAgICAgICAgcHJlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsJ3ByZScsdHJ1ZSk7CiAgICAgICAgICAgIGlmKHByZSl7CiAgICAgICAgICAgICAgICBwcmUuY2xhc3NOYW1lID0gJ2JydXNoOicrbGFuZysnO3Rvb2xiYXI6ZmFsc2U7JzsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB2YXIgY29kZSA9ICcnOwogICAgICAgICAgICAgICAgaWYocm5nLmNvbGxhcHNlZCl7CiAgICAgICAgICAgICAgICAgICAgY29kZSA9IGJyb3dzZXIuaWU/IChicm93c2VyLnZlcnNpb24gPiA4ID8gJycgOiAnJm5ic3A7Jyk6Jzxici8+JzsKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHZhciBmcmFnID0gcm5nLmV4dHJhY3RDb250ZW50cygpOwogICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZnJhZyk7CgogICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goVUUuZmlsdGVyTm9kZShVRS5odG1scGFyc2VyKGRpdi5pbm5lckhUTUwucmVwbGFjZSgvW1xyXHRdL2csJycpKSxtZS5vcHRpb25zLmZpbHRlclR4dFJ1bGVzKS5jaGlsZHJlbixmdW5jdGlvbihub2RlKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gPiA4KXsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLnR5cGUgPT0nZWxlbWVudCcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUudGFnTmFtZSA9PSAnYnInKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2gobm9kZS5jaGlsZHJlbixmdW5jdGlvbihjbil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjbi50eXBlID09J2VsZW1lbnQnKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjbi50YWdOYW1lID09ICdicicpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICdcbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZighZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSBjbi5pbm5lclRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9IGNuLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIS9cbiQvLnRlc3QoY29kZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAnXG4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSBub2RlLmRhdGEgKyAnXG4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighbm9kZS5uZXh0U2libGluZygpICYmIC9cbiQvLnRlc3QoY29kZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBjb2RlLnJlcGxhY2UoL1xuJC8sJycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGJyb3dzZXIuaWUpewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLnR5cGUgPT0nZWxlbWVudCcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLnRhZ05hbWUgPT0gJ2JyJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICc8YnI+JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZighZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2gobm9kZS5jaGlsZHJlbixmdW5jdGlvbihjbil7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY24udHlwZSA9PSdlbGVtZW50Jyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNuLnRhZ05hbWUgPT0gJ2JyJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlICs9ICc8YnI+JwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZighZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gY24uaW5uZXJUZXh0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSBjbi5kYXRhCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighL2JyPiQvLnRlc3QoY29kZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gJzxicj4nOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gbm9kZS5kYXRhICsgJzxicj4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFub2RlLm5leHRTaWJsaW5nKCkgJiYgLzxicj4kLy50ZXN0KGNvZGUpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSA9IGNvZGUucmVwbGFjZSgvPGJyPiQvLCcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAobm9kZS50eXBlID09ICdlbGVtZW50JyA/IChkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0gPyAgJycgOiBub2RlLmlubmVyVGV4dCgpKSA6IG5vZGUuZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIS9iclwvP1xzKj4kLy50ZXN0KGNvZGUpKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIW5vZGUubmV4dFNpYmxpbmcoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAnPGJyPicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2luc2VydGh0bWwnLCc8cHJlIGlkPSJjb2RlciJjbGFzcz0iYnJ1c2g6JytsYW5nKyc7dG9vbGJhcjpmYWxzZSI+Jytjb2RlKyc8L3ByZT4nLHRydWUpOwoKICAgICAgICAgICAgICAgIHByZSA9IG1lLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2RlcicpOwogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhwcmUsJ2lkJyk7CiAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSA9IHByZS5wcmV2aW91c1NpYmxpbmc7CgogICAgICAgICAgICAgICAgaWYodG1wTm9kZSAmJiAodG1wTm9kZS5ub2RlVHlwZSA9PSAzICYmIHRtcE5vZGUubm9kZVZhbHVlLmxlbmd0aCA9PSAxICYmIGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uID09IDYgfHwgIGRvbVV0aWxzLmlzRW1wdHlCbG9jayh0bXBOb2RlKSkpewoKICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wTm9kZSkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsKICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpKXsKICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnQocHJlLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKQogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcm5nLnNlbGVjdE5vZGVDb250ZW50cyhwcmUpLnNlbGVjdCgpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCgoKICAgICAgICB9LAogICAgICAgIHF1ZXJ5Q29tbWFuZFZhbHVlIDogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIHBhdGggPSB0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCk7CiAgICAgICAgICAgIHZhciBsYW5nID0gJyc7CiAgICAgICAgICAgIHV0aWxzLmVhY2gocGF0aCxmdW5jdGlvbihub2RlKXsKICAgICAgICAgICAgICAgIGlmKG5vZGUubm9kZU5hbWUgPT0nUFJFJyl7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gbm9kZS5jbGFzc05hbWUubWF0Y2goL2JydXNoOihbXjtdKykvKTsKICAgICAgICAgICAgICAgICAgICBsYW5nID0gbWF0Y2ggJiYgbWF0Y2hbMV0gPyBtYXRjaFsxXSA6ICcnOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiBsYW5nOwogICAgICAgIH0KICAgIH07CgogICAgbWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3QpewogICAgICAgdXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCdwcmUnKSxmdW5jdGlvbihwcmUpewogICAgICAgICAgIHZhciBicnMgPSBwcmUuZ2V0Tm9kZXNCeVRhZ05hbWUoJ2JyJyk7CiAgICAgICAgICAgaWYoYnJzLmxlbmd0aCl7CiAgICAgICAgICAgICAgIGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uID4gOCAmJiB1dGlscy5lYWNoKGJycyxmdW5jdGlvbihicil7CiAgICAgICAgICAgICAgICAgICB2YXIgdHh0ID0gVUUudU5vZGUuY3JlYXRlVGV4dCgnXG4nKTsKICAgICAgICAgICAgICAgICAgIGJyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHR4dCxicik7CiAgICAgICAgICAgICAgICAgICBici5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJyKTsKICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgIGlmKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uID4gOCkKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGNvZGUgPSBwcmUuaW5uZXJUZXh0KCkuc3BsaXQoL1xuLyk7CiAgICAgICAgICAgIHByZS5pbm5lckhUTUwoJycpOwogICAgICAgICAgICB1dGlscy5lYWNoKGNvZGUsZnVuY3Rpb24oYyl7CiAgICAgICAgICAgICAgICBpZihjLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKFVFLnVOb2RlLmNyZWF0ZVRleHQoYykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcHJlLmFwcGVuZENoaWxkKFVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoJ2JyJykpCiAgICAgICAgICAgIH0pCiAgICAgICB9KQogICAgfSk7CiAgICBtZS5hZGRPdXRwdXRSdWxlKGZ1bmN0aW9uKHJvb3QpewogICAgICAgIHV0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgncHJlJyksZnVuY3Rpb24ocHJlKXsKICAgICAgICAgICAgdmFyIGNvZGUgPSAnJzsKICAgICAgICAgICAgdXRpbHMuZWFjaChwcmUuY2hpbGRyZW4sZnVuY3Rpb24obil7CiAgICAgICAgICAgICAgIGlmKG4udHlwZSA9PSAndGV4dCcpewogICAgICAgICAgICAgICAgICAgLy/lnKhpZeS4i+aWh+acrOWGheWuueacieWPr+iDveacq+WwvuW4puaciVxu6KaB5Y675o6JCiAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjMzOTYKICAgICAgICAgICAgICAgICAgIGNvZGUgKz0gbi5kYXRhLnJlcGxhY2UoL1sgXS9nLCcmbmJzcDsnKS5yZXBsYWNlKC9cbiQvLCcnKTsKICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICBpZihuLnRhZ05hbWUgPT0gJ2JyJyl7CiAgICAgICAgICAgICAgICAgICAgICAgY29kZSAgKz0gJ1xuJwogICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgY29kZSArPSAoIWR0ZC4kZW1wdHlbbi50YWdOYW1lXSA/ICcnIDogbi5pbm5lclRleHQoKSk7CiAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHByZS5pbm5lclRleHQoY29kZS5yZXBsYWNlKC8oJm5ic3A7fFxuKSskLywnJykpCiAgICAgICAgfSkKICAgIH0pOwogICAgLy/kuI3pnIDopoHliKTmlq1oaWdobGlnaHTnmoRjb21tYW5k5YiX6KGoCiAgICBtZS5ub3ROZWVkQ29kZVF1ZXJ5ID17CiAgICAgICAgaGVscDoxLAogICAgICAgIHVuZG86MSwKICAgICAgICByZWRvOjEsCiAgICAgICAgc291cmNlOjEsCiAgICAgICAgcHJpbnQ6MSwKICAgICAgICBzZWFyY2hyZXBsYWNlOjEsCiAgICAgICAgZnVsbHNjcmVlbjoxLAogICAgICAgIHByZXZpZXc6MSwKICAgICAgICBpbnNlcnRwYXJhZ3JhcGg6MSwKICAgICAgICBlbGVtZW50cGF0aDoxLAogICAgICAgIGluc2VydGNvZGU6MSwKICAgICAgICBpbnNlcnRodG1sOjEsCiAgICAgICAgc2VsZWN0YWxsOjEKICAgIH07CiAgICAvL+WwhnF1ZXlDb21tYW1uZFN0YXRl6YeN572uCiAgICB2YXIgb3JnUXVlcnkgPSBtZS5xdWVyeUNvbW1hbmRTdGF0ZTsKICAgIG1lLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24oY21kKXsKICAgICAgICB2YXIgbWUgPSB0aGlzOwoKICAgICAgICBpZighbWUubm90TmVlZENvZGVRdWVyeVtjbWQudG9Mb3dlckNhc2UoKV0gJiYgbWUuc2VsZWN0aW9uICYmIG1lLnF1ZXJ5Q29tbWFuZFZhbHVlKCdpbnNlcnRjb2RlJykpewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIHJldHVybiBVRS5FZGl0b3IucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKQogICAgfTsKICAgIG1lLmFkZExpc3RlbmVyKCdiZWZvcmVlbnRlcmtleWRvd24nLGZ1bmN0aW9uKCl7CiAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgIHZhciBwcmUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwncHJlJyx0cnVlKTsKICAgICAgICBpZihwcmUpewogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOwogICAgICAgICAgICBpZighcm5nLmNvbGxhcHNlZCl7CiAgICAgICAgICAgICAgIHJuZy5kZWxldGVDb250ZW50cygpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKCFicm93c2VyLmllIHx8IGJyb3dzZXIuaWU5YWJvdmUpewogICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpLHByZTsKICAgICAgICAgICAgICAgIHJuZy5pbnNlcnROb2RlKHRtcE5vZGUpLnNldFN0YXJ0QWZ0ZXIodG1wTm9kZSkuY29sbGFwc2UodHJ1ZSk7CiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9IHRtcE5vZGUubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICBpZighbmV4dCAmJiAoIWJyb3dzZXIuaWUgfHwgYnJvd3Nlci52ZXJzaW9uID4gMTApKXsKICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlLmNsb25lTm9kZShmYWxzZSkpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QWZ0ZXIodG1wTm9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwcmUgPSB0bXBOb2RlLnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgICAgIHZhciB0bXA7CiAgICAgICAgICAgICAgICB3aGlsZShwcmUgKXsKICAgICAgICAgICAgICAgICAgICB0bXAgPSBwcmU7CiAgICAgICAgICAgICAgICAgICAgcHJlID0gcHJlLnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgICAgICAgICBpZighcHJlIHx8IHByZS5ub2RlTmFtZSA9PSAnQlInKXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlID0gdG1wOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZihwcmUpewogICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSAnJzsKICAgICAgICAgICAgICAgICAgICB3aGlsZShwcmUgJiYgcHJlLm5vZGVOYW1lICE9ICdCUicgJiYgIG5ldyBSZWdFeHAoJ15bXFxzJytkb21VdGlscy5maWxsQ2hhcisnXSokJykudGVzdChwcmUubm9kZVZhbHVlKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBwcmUubm9kZVZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICBwcmUgPSBwcmUubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKHByZS5ub2RlTmFtZSAhPSAnQlInKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcHJlLm5vZGVWYWx1ZS5tYXRjaChuZXcgUmVnRXhwKCdeKFtcXHMnK2RvbVV0aWxzLmZpbGxDaGFyKyddKyknKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG1hdGNoICYmIG1hdGNoWzFdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ciArPSBtYXRjaFsxXQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihzdHIpewogICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpOwogICAgICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZShzdHIpLnNldFN0YXJ0QWZ0ZXIoc3RyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBybmcuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIGlmKGJyb3dzZXIudmVyc2lvbiA+IDgpewoKICAgICAgICAgICAgICAgICAgICB2YXIgdHh0ID0gbWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ1xuJyk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcm5nLnN0YXJ0Q29udGFpbmVyOwogICAgICAgICAgICAgICAgICAgIGlmKHJuZy5zdGFydE9mZnNldCA9PSAwKXsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZU5vZGUgPSBzdGFydC5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZU5vZGUpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLmluc2VydE5vZGUodHh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxsY2hhciA9IG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnRBZnRlcih0eHQpLmluc2VydE5vZGUoZmlsbGNoYXIpLnNldFN0YXJ0KGZpbGxjaGFyLDApLmNvbGxhcHNlKHRydWUpLnNlbGVjdCh0cnVlKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5pbnNlcnROb2RlKHR4dCkuc2V0U3RhcnRBZnRlcih0eHQpOwogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsbGNoYXIgPSBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICcpOwogICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHJuZy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF07CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0YXJ0ICYmICEvXlxuLy50ZXN0KHN0YXJ0Lm5vZGVWYWx1ZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QmVmb3JlKHR4dCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZShmaWxsY2hhcikuc2V0U3RhcnQoZmlsbGNoYXIsMCkuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpCiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTsKICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlKTsKICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkb21VdGlscy5maWxsQ2hhcikpOwogICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEFmdGVyKHRtcE5vZGUpOwogICAgICAgICAgICAgICAgICAgIHByZSA9IHRtcE5vZGUucHJldmlvdXNTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIHZhciB0bXA7CiAgICAgICAgICAgICAgICAgICAgd2hpbGUocHJlICl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHByZTsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlID0gcHJlLnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXByZSB8fCBwcmUubm9kZU5hbWUgPT0gJ0JSJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUgPSB0bXA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihwcmUpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKHByZSAmJiBwcmUubm9kZU5hbWUgIT0gJ0JSJyAmJiAgbmV3IFJlZ0V4cCgnXlsgJytkb21VdGlscy5maWxsQ2hhcisnXSokJykudGVzdChwcmUubm9kZVZhbHVlKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gcHJlLm5vZGVWYWx1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IHByZS5uZXh0U2libGluZzsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmUubm9kZU5hbWUgIT0gJ0JSJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBwcmUubm9kZVZhbHVlLm1hdGNoKG5ldyBSZWdFeHAoJ14oWyAnK2RvbVV0aWxzLmZpbGxDaGFyKyddKyknKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihtYXRjaCAmJiBtYXRjaFsxXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IG1hdGNoWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHIpOwogICAgICAgICAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZShzdHIpLnNldFN0YXJ0QWZ0ZXIoc3RyKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcm5nLmNvbGxhcHNlKHRydWUpLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgfQoKCiAgICAgICAgICAgIH0KICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKCiAgICB9KTsKCiAgICBtZS5hZGRMaXN0ZW5lcigndGFia2V5ZG93bicsZnVuY3Rpb24oY21kLGV2dCl7CiAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgIHZhciBwcmUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwncHJlJyx0cnVlKTsKICAgICAgICBpZihwcmUpewogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOwogICAgICAgICAgICBpZihldnQuc2hpZnRLZXkpewoKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBpZighcm5nLmNvbGxhcHNlZCl7CiAgICAgICAgICAgICAgICAgICAgdmFyIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gYmsuc3RhcnQucHJldmlvdXNTaWJsaW5nOwoKICAgICAgICAgICAgICAgICAgICB3aGlsZShzdGFydCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZS5maXJzdENoaWxkID09PSBzdGFydCAmJiAhZG9tVXRpbHMuaXNCcihzdGFydCkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICAgICcpLHN0YXJ0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0JyKHN0YXJ0KSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUuaW5zZXJ0QmVmb3JlKG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgICAgJyksc3RhcnQubmV4dFNpYmxpbmcpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQucHJldmlvdXNTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gYmsuZW5kOwogICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gYmsuc3RhcnQubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgaWYocHJlLmZpcnN0Q2hpbGQgPT09IGJrLnN0YXJ0KXsKICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICAgICcpLHN0YXJ0Lm5leHRTaWJsaW5nKQoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgd2hpbGUoc3RhcnQgJiYgc3RhcnQgIT09IGVuZCl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQnIoc3RhcnQpICYmIHN0YXJ0Lm5leHRTaWJsaW5nKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0YXJ0Lm5leHRTaWJsaW5nID09PSBlbmQpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICAgICcpLHN0YXJ0Lm5leHRTaWJsaW5nKQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN0YXJ0Lm5leHRTaWJsaW5nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnICAgICcpOwogICAgICAgICAgICAgICAgICAgIHJuZy5pbnNlcnROb2RlKHRtcE5vZGUpLnNldFN0YXJ0QWZ0ZXIodG1wTm9kZSkuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgoKICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQoKCiAgICB9KTsKCgogICAgbWUuYWRkTGlzdGVuZXIoJ2JlZm9yZWluc2VydGh0bWwnLGZ1bmN0aW9uKGV2dE5hbWUsaHRtbCl7CiAgICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgICAgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksCiAgICAgICAgICAgIHByZSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCdwcmUnLHRydWUpOwogICAgICAgIGlmKHByZSl7CiAgICAgICAgICAgIGlmKCFybmcuY29sbGFwc2VkKXsKICAgICAgICAgICAgICAgIHJuZy5kZWxldGVDb250ZW50cygpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIGh0bWxzdHIgPSAnJzsKICAgICAgICAgICAgaWYoYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gPiA4KXsKCiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKFVFLmZpbHRlck5vZGUoVUUuaHRtbHBhcnNlcihodG1sKSxtZS5vcHRpb25zLmZpbHRlclR4dFJ1bGVzKS5jaGlsZHJlbixmdW5jdGlvbihub2RlKXsKICAgICAgICAgICAgICAgICAgICBpZihub2RlLnR5cGUgPT0nZWxlbWVudCcpewogICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLnRhZ05hbWUgPT0gJ2JyJyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sc3RyICs9ICdcbicKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKG5vZGUuY2hpbGRyZW4sZnVuY3Rpb24oY24pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNuLnR5cGUgPT0nZWxlbWVudCcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjbi50YWdOYW1lID09ICdicicpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbHN0ciArPSAnXG4nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbHN0ciArPSBjbi5pbm5lclRleHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sc3RyICs9IGNuLmRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIS9cbiQvLnRlc3QoaHRtbHN0cikpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxzdHIgKz0gJ1xuJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgICAgICAgICBodG1sc3RyICs9IG5vZGUuZGF0YSArICdcbicKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoIW5vZGUubmV4dFNpYmxpbmcoKSAmJiAvXG4kLy50ZXN0KGh0bWxzdHIpKXsKICAgICAgICAgICAgICAgICAgICAgICAgaHRtbHN0ciA9IGh0bWxzdHIucmVwbGFjZSgvXG4kLywnJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSA9IG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHV0aWxzLmh0bWwoaHRtbHN0ci5yZXBsYWNlKC8mbmJzcDsvZywnICcpKSk7CiAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlKS5zZWxlY3ROb2RlKHRtcE5vZGUpLnNlbGVjdCgpOwogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHZhciBmcmFnID0gbWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoKICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goVUUuZmlsdGVyTm9kZShVRS5odG1scGFyc2VyKGh0bWwpLG1lLm9wdGlvbnMuZmlsdGVyVHh0UnVsZXMpLmNoaWxkcmVuLGZ1bmN0aW9uKG5vZGUpewogICAgICAgICAgICAgICAgICAgIGlmKG5vZGUudHlwZSA9PSdlbGVtZW50Jyl7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUudGFnTmFtZSA9PSAnYnInKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQobWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSkKICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKG5vZGUuY2hpbGRyZW4sZnVuY3Rpb24oY24pewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNuLnR5cGUgPT0nZWxlbWVudCcpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjbi50YWdOYW1lID09ICdicicpewoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQobWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHV0aWxzLmh0bWwoY24uaW5uZXJUZXh0KCkucmVwbGFjZSgvJm5ic3A7L2csJyAnKSkpKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1dGlscy5odG1sKCBjbi5kYXRhLnJlcGxhY2UoLyZuYnNwOy9nLCcgJykpKSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmcmFnLmxhc3RDaGlsZC5ub2RlTmFtZSAhPSAnQlInKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1dGlscy5odG1sKCBub2RlLmRhdGEucmVwbGFjZSgvJm5ic3A7L2csJyAnKSkpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYoIW5vZGUubmV4dFNpYmxpbmcoKSAmJiBmcmFnLmxhc3RDaGlsZC5ub2RlTmFtZSA9PSAnQlInKXsKICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnJlbW92ZUNoaWxkKGZyYWcubGFzdENoaWxkKQogICAgICAgICAgICAgICAgICAgIH0KCgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBybmcuaW5zZXJ0Tm9kZShmcmFnKS5zZWxlY3QoKTsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgIH0pOwogICAgLy/mlrnlkJHplK7nmoTlpITnkIYKICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJyxmdW5jdGlvbihjbWQsZXZ0KXsKICAgICAgICB2YXIgbWUgPSB0aGlzLGtleUNvZGUgPSBldnQua2V5Q29kZSB8fCBldnQud2hpY2g7CiAgICAgICAgaWYoa2V5Q29kZSA9PSA0MCl7CiAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxwcmUsc3RhcnQgPSBybmcuc3RhcnRDb250YWluZXI7CiAgICAgICAgICAgIGlmKHJuZy5jb2xsYXBzZWQgJiYgKHByZSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCdwcmUnLHRydWUpKSAmJiAhcHJlLm5leHRTaWJsaW5nKXsKICAgICAgICAgICAgICAgIHZhciBsYXN0ID0gcHJlLmxhc3RDaGlsZAogICAgICAgICAgICAgICAgd2hpbGUobGFzdCAmJiBsYXN0Lm5vZGVOYW1lID09ICdCUicpewogICAgICAgICAgICAgICAgICAgIGxhc3QgPSBsYXN0LnByZXZpb3VzU2libGluZzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKGxhc3QgPT09IHN0YXJ0IHx8IHJuZy5zdGFydENvbnRhaW5lciA9PT0gcHJlICYmIHJuZy5zdGFydE9mZnNldCA9PSBwcmUuY2hpbGROb2Rlcy5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdpbnNlcnRwYXJhZ3JhcGgnKTsKICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CiAgICAvL3RyYWNlOjMzOTUKICAgIG1lLmFkZExpc3RlbmVyKCdkZWxrZXlkb3duJyxmdW5jdGlvbih0eXBlLGV2dCl7CiAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7CiAgICAgICAgcm5nLnR4dFRvRWxtQm91bmRhcnkodHJ1ZSk7CiAgICAgICAgdmFyIHN0YXJ0ID0gcm5nLnN0YXJ0Q29udGFpbmVyOwogICAgICAgIGlmKGRvbVV0aWxzLmlzVGFnTm9kZShzdGFydCwncHJlJykgJiYgcm5nLmNvbGxhcHNlZCAmJiBkb21VdGlscy5pc1N0YXJ0SW5ibG9jayhybmcpKXsKICAgICAgICAgICAgdmFyIHAgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CiAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LHApOwogICAgICAgICAgICBzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLHN0YXJ0KTsKICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHN0YXJ0KTsKICAgICAgICAgICAgcm5nLnNldFN0YXJ0KHAsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpOwogICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICB9KQp9OwoNCi8qKg0KICog6ZSa54K55o+S5Lu277yM5Li6VUVkaXRvcuaPkOS+m+aPkuWFpemUmueCueaUr+aMgQ0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NClVFLnBsdWdpbi5yZWdpc3RlcignYW5jaG9yJywgZnVuY3Rpb24gKCl7DQoNCiAgICByZXR1cm4gew0KICAgICAgICBiaW5kRXZlbnRzOnsNCiAgICAgICAgICAgICdyZWFkeSc6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB1dGlscy5jc3NSdWxlKCdhbmNob3InLA0KICAgICAgICAgICAgICAgICAgICAnLmFuY2hvcmNsYXNze2JhY2tncm91bmQ6IHVybChcJycNCiAgICAgICAgICAgICAgICAgICAgICAgICsgdGhpcy5vcHRpb25zLnRoZW1lUGF0aA0KICAgICAgICAgICAgICAgICAgICAgICAgKyB0aGlzLm9wdGlvbnMudGhlbWUgKycvaW1hZ2VzL2FuY2hvci5naWZcJykgbm8tcmVwZWF0IHNjcm9sbCBsZWZ0IGNlbnRlciB0cmFuc3BhcmVudDtib3JkZXI6IDFweCBkb3R0ZWQgIzAwMDBGRjtjdXJzb3I6IGF1dG87ZGlzcGxheTogaW5saW5lLWJsb2NrO2hlaWdodDogMTZweDt3aWR0aDogMTVweDt9JywNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgb3V0cHV0UnVsZTogZnVuY3Rpb24ocm9vdCl7DQogICAgICAgICAgIHV0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgnaW1nJyksZnVuY3Rpb24oYSl7DQogICAgICAgICAgICAgICB2YXIgdmFsOw0KICAgICAgICAgICAgICAgaWYodmFsID0gYS5nZXRBdHRyKCdhbmNob3JuYW1lJykpew0KICAgICAgICAgICAgICAgICAgIGEudGFnTmFtZSA9ICdhJzsNCiAgICAgICAgICAgICAgICAgICBhLnNldEF0dHIoew0KICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JuYW1lIDogJycsDQogICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiB2YWwsDQogICAgICAgICAgICAgICAgICAgICAgICdjbGFzcycgOiAnJw0KICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICB9DQogICAgICAgICAgIH0pDQogICAgICAgfSwNCiAgICAgICBpbnB1dFJ1bGU6ZnVuY3Rpb24ocm9vdCl7DQogICAgICAgICAgIHV0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgnYScpLGZ1bmN0aW9uKGEpew0KICAgICAgICAgICAgICAgdmFyIHZhbDsNCiAgICAgICAgICAgICAgIGlmKCh2YWwgPSBhLmdldEF0dHIoJ25hbWUnKSkgJiYgIWEuZ2V0QXR0cignaHJlZicpKXsNCiAgICAgICAgICAgICAgICAgICBhLnRhZ05hbWUgPSAnaW1nJzsNCiAgICAgICAgICAgICAgICAgICBhLnNldEF0dHIoew0KICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JuYW1lIDphLmdldEF0dHIoJ25hbWUnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJyA6ICdhbmNob3JjbGFzcycNCiAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICBhLnNldEF0dHIoJ25hbWUnKQ0KDQogICAgICAgICAgICAgICB9DQogICAgICAgICAgIH0pDQoNCiAgICAgICB9LA0KICAgICAgIGNvbW1hbmRzOnsNCiAgICAgICAgICAgLyoqDQogICAgICAgICAgICAqIOaPkuWFpemUmueCuQ0KICAgICAgICAgICAgKiBAY29tbWFuZCBhbmNob3INCiAgICAgICAgICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG5hbWUg6ZSa54K55ZCN56ew5a2X56ym5LiyDQogICAgICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICAgICogLy9lZGl0b3Ig5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICAgICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCgnYW5jaG9yJywgJ2FuY2hvcjEnKTsNCiAgICAgICAgICAgICogYGBgDQogICAgICAgICAgICAqLw0KICAgICAgICAgICAnYW5jaG9yJzp7DQogICAgICAgICAgICAgICBleGVjQ29tbWFuZDpmdW5jdGlvbiAoY21kLCBuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxpbWcgPSByYW5nZS5nZXRDbG9zZWROb2RlKCk7DQogICAgICAgICAgICAgICAgICAgaWYgKGltZyAmJiBpbWcuZ2V0QXR0cmlidXRlKCdhbmNob3JuYW1lJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ2FuY2hvcm5hbWUnLCBuYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKGltZykuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoaW1nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPquWcqOmAieWMuueahOW8gOWni+aPkuWFpQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoYW5jaG9yLHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYW5jaG9ybmFtZSc6bmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOidhbmNob3JjbGFzcycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShhbmNob3IpLnNldFN0YXJ0QWZ0ZXIoYW5jaG9yKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICB9DQogICAgICAgICAgIH0NCiAgICAgICB9DQogICAgfQ0KfSk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9jb21tYW5kcyDlrZfmlbDnu5/orqENCi8vL2NvbW1hbmRzTmFtZSAgV29yZENvdW50LHdvcmRDb3VudA0KLy8vY29tbWFuZHNUaXRsZSAg5a2X5pWw57uf6K6hDQovKg0KICogQ3JlYXRlZCBieSBKZXRCcmFpbnMgV2ViU3Rvcm0uDQogKiBVc2VyOiB0YW9xaWxpDQogKiBEYXRlOiAxMS05LTcNCiAqIFRpbWU6IOS4i+WNiDg6MTgNCiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlIHVzZSBGaWxlIHwgU2V0dGluZ3MgfCBGaWxlIFRlbXBsYXRlcy4NCiAqLw0KDQpVRS5wbHVnaW5zWyd3b3JkY291bnQnXSA9IGZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICBtZS5zZXRPcHQoJ3dvcmRDb3VudCcsdHJ1ZSk7DQogICAgbWUuYWRkTGlzdGVuZXIoJ2NvbnRlbnRjaGFuZ2UnLGZ1bmN0aW9uKCl7DQogICAgICAgIG1lLmZpcmVFdmVudCgnd29yZGNvdW50Jyk7DQogICAgfSk7DQogICAgdmFyIHRpbWVyOw0KICAgIG1lLmFkZExpc3RlbmVyKCdyZWFkeScsZnVuY3Rpb24oKXsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgZG9tVXRpbHMub24obWUuYm9keSwia2V5dXAiLGZ1bmN0aW9uKGV2dCl7DQogICAgICAgICAgICB2YXIgY29kZSA9IGV2dC5rZXlDb2RlfHxldnQud2hpY2gsDQogICAgICAgICAgICAgICAgLy/lv73nlaXnmoTmjInplK4sY3RyLGFsdCxzaGlmdCzmlrnlkJHplK4NCiAgICAgICAgICAgICAgICBpZ25vcmVzID0geyIxNiI6MSwiMTgiOjEsIjIwIjoxLCIzNyI6MSwiMzgiOjEsIjM5IjoxLCI0MCI6MX07DQogICAgICAgICAgICBpZihjb2RlIGluIGlnbm9yZXMpIHJldHVybjsNCiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7DQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3dvcmRjb3VudCcpOw0KICAgICAgICAgICAgfSwyMDApDQogICAgICAgIH0pDQogICAgfSk7DQp9Ow0KDQovLy9pbXBvcnQgY29yZQ0KLy8vY29tbWFuZHMg5pys5Zyw5Zu+54mH5byV5a+85LiK5LygDQovLy9jb21tYW5kc05hbWUgIFdvcmRJbWFnZQ0KLy8vY29tbWFuZHNUaXRsZSAg5pys5Zyw5Zu+54mH5byV5a+85LiK5LygDQovLy9jb21tYW5kc0RpYWxvZyAgZGlhbG9nc1x3b3JkaW1hZ2UNCg0KVUUucGx1Z2luLnJlZ2lzdGVyKCd3b3JkaW1hZ2UnLGZ1bmN0aW9uKCl7DQogICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgaW1hZ2VzID0gW107DQogICAgcmV0dXJuIHsNCiAgICAgICAgY29tbWFuZHMgOiB7DQogICAgICAgICAgICAnd29yZGltYWdlJzp7DQogICAgICAgICAgICAgICAgZXhlY0NvbW1hbmQ6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VzID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuYm9keSwgImltZyIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdXJsTGlzdCA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gaW1hZ2VzW2krK107KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gY2kuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsICYmIHVybExpc3QucHVzaCh1cmwpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB1cmxMaXN0Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBpbWFnZXMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5ib2R5LCAiaW1nIik7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBpbWFnZXNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaS5nZXRBdHRyaWJ1dGUoIndvcmRfaW1nIikpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBub3ROZWVkVW5kbzp0cnVlDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlucHV0UnVsZSA6IGZ1bmN0aW9uIChyb290KSB7DQogICAgICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ2ltZycpLCBmdW5jdGlvbiAoaW1nKSB7DQogICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gaW1nLmF0dHJzLA0KICAgICAgICAgICAgICAgICAgICBmbGFnID0gcGFyc2VJbnQoYXR0cnMud2lkdGgpIDwgMTI4IHx8IHBhcnNlSW50KGF0dHJzLmhlaWdodCkgPCA0MywNCiAgICAgICAgICAgICAgICAgICAgb3B0ID0gbWUub3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgc3JjID0gb3B0LlVFRElUT1JfSE9NRV9VUkwgKyAndGhlbWVzL2RlZmF1bHQvaW1hZ2VzL3NwYWNlci5naWYnOw0KICAgICAgICAgICAgICAgIGlmIChhdHRyc1snc3JjJ10gJiYgL14oPzooZmlsZTpcLyspKS8udGVzdChhdHRyc1snc3JjJ10pKSB7DQogICAgICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyKHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOmF0dHJzLndpZHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OmF0dHJzLmhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGFsdDphdHRycy5hbHQsDQogICAgICAgICAgICAgICAgICAgICAgICB3b3JkX2ltZzogYXR0cnMuc3JjLA0KICAgICAgICAgICAgICAgICAgICAgICAgc3JjOnNyYywNCiAgICAgICAgICAgICAgICAgICAgICAgICdzdHlsZSc6J2JhY2tncm91bmQ6dXJsKCcgKyAoIGZsYWcgPyBvcHQudGhlbWVQYXRoICsgb3B0LnRoZW1lICsgJy9pbWFnZXMvd29yZC5naWYnIDogb3B0LmxhbmdQYXRoICsgb3B0LmxhbmcgKyAnL2ltYWdlcy9sb2NhbGltYWdlLnBuZycpICsgJykgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7Ym9yZGVyOjFweCBzb2xpZCAjZGRkJw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICB9DQp9KTsNClVFLnBsdWdpbnNbJ2RyYWdkcm9wJ10gPSBmdW5jdGlvbiAoKXsNCg0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgbWUucmVhZHkoZnVuY3Rpb24oKXsNCiAgICAgICAgZG9tVXRpbHMub24odGhpcy5ib2R5LCdkcmFnZW5kJyxmdW5jdGlvbigpew0KICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgdmFyIG5vZGUgPSBybmcuZ2V0Q2xvc2VkTm9kZSgpfHxtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTsNCg0KICAgICAgICAgICAgaWYobm9kZSAmJiBub2RlLnRhZ05hbWUgPT0gJ0lNRycpew0KDQogICAgICAgICAgICAgICAgdmFyIHByZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nLG5leHQ7DQogICAgICAgICAgICAgICAgd2hpbGUobmV4dCA9IG5vZGUubmV4dFNpYmxpbmcpew0KICAgICAgICAgICAgICAgICAgICBpZihuZXh0Lm5vZGVUeXBlID09IDEgJiYgbmV4dC50YWdOYW1lID09ICdTUEFOJyAmJiAhbmV4dC5maXJzdENoaWxkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShuZXh0KQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICBpZigocHJlICYmIHByZS5ub2RlVHlwZSA9PSAxICYmICFkb21VdGlscy5pc0VtcHR5QmxvY2socHJlKSB8fCAhcHJlKSAmJiAoIW5leHQgfHwgbmV4dCAmJiAhZG9tVXRpbHMuaXNFbXB0eUJsb2NrKG5leHQpKSl7DQogICAgICAgICAgICAgICAgICAgIGlmKHByZSAmJiBwcmUudGFnTmFtZSA9PSAnUCcgJiYgIWRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZS5hcHBlbmRDaGlsZChub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm1vdmVDaGlsZChuZXh0LHByZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dCk7DQogICAgICAgICAgICAgICAgICAgIH1lbHNlICBpZihuZXh0ICYmIG5leHQudGFnTmFtZSA9PSAnUCcgJiYgIWRvbVV0aWxzLmlzRW1wdHlCbG9jayhuZXh0KSl7DQogICAgICAgICAgICAgICAgICAgICAgICBuZXh0Lmluc2VydEJlZm9yZShub2RlLG5leHQuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZihwcmUgJiYgcHJlLnRhZ05hbWUgPT0gJ1AnICYmIGRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwcmUpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYobmV4dCAmJiBuZXh0LnRhZ05hbWUgPT0gJ1AnICYmIGRvbVV0aWxzLmlzRW1wdHlCbG9jayhuZXh0KSl7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBybmcuc2VsZWN0Tm9kZShub2RlKS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pDQogICAgfSk7DQogICAgbWUuYWRkTGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24odHlwZSwgZXZ0KSB7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoOw0KICAgICAgICBpZiAoa2V5Q29kZSA9PSAxMykgew0KICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLG5vZGU7DQogICAgICAgICAgICBpZihub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsJ3AnLHRydWUpKXsNCiAgICAgICAgICAgICAgICBpZihkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsJ3RleHQtYWxpZ24nKSA9PSAnY2VudGVyJyl7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZVN0eWxlKG5vZGUsJ3RleHQtYWxpZ24nKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0pDQp9Ow0KDQovKioNCiAqIHVuZG8gcmVkbw0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KLyoqDQogKiDmkqTplIDkuIrkuIDmrKHmiafooYznmoTlkb3ku6QNCiAqIEBjb21tYW5kIHVuZG8NCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICd1bmRvJyApOw0KICogYGBgDQogKi8NCg0KLyoqDQogKiDph43lgZrkuIrkuIDmrKHmiafooYznmoTlkb3ku6QNCiAqIEBjb21tYW5kIHJlZG8NCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAqIEBleGFtcGxlDQogKiBgYGBqYXZhc2NyaXB0DQogKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdyZWRvJyApOw0KICogYGBgDQogKi8NCg0KVUUucGx1Z2luc1sndW5kbyddID0gZnVuY3Rpb24gKCkgew0KICAgIHZhciBzYXZlU2NlbmVUaW1lcjsNCiAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICBtYXhVbmRvQ291bnQgPSBtZS5vcHRpb25zLm1heFVuZG9Db3VudCB8fCAyMCwNCiAgICAgICAgbWF4SW5wdXRDb3VudCA9IG1lLm9wdGlvbnMubWF4SW5wdXRDb3VudCB8fCAyMCwNCiAgICAgICAgZmlsbGNoYXIgPSBuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyICsgJ3w8XC9ocj4nLCAnZ2knKTsvLyBpZeS8muS6p+eUn+WkmuS9meeahDwvaHI+DQogICAgdmFyIG5vTmVlZEZpbGxDaGFyVGFncyA9IHsNCiAgICAgICAgb2w6MSx1bDoxLHRhYmxlOjEsdGJvZHk6MSx0cjoxLGJvZHk6MQ0KICAgIH07DQogICAgdmFyIG9yZ1N0YXRlID0gbWUub3B0aW9ucy5hdXRvQ2xlYXJFbXB0eU5vZGU7DQogICAgZnVuY3Rpb24gY29tcGFyZUFkZHIoaW5kZXhBLCBpbmRleEIpIHsNCiAgICAgICAgaWYgKGluZGV4QS5sZW5ndGggIT0gaW5kZXhCLmxlbmd0aCkNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGluZGV4QS5sZW5ndGg7IGkgPCBsOyBpKyspIHsNCiAgICAgICAgICAgIGlmIChpbmRleEFbaV0gIT0gaW5kZXhCW2ldKQ0KICAgICAgICAgICAgICAgIHJldHVybiAwDQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDE7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY29tcGFyZVJhbmdlQWRkcmVzcyhybmdBZGRyQSwgcm5nQWRkckIpIHsNCiAgICAgICAgaWYgKHJuZ0FkZHJBLmNvbGxhcHNlZCAhPSBybmdBZGRyQi5jb2xsYXBzZWQpIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGlmICghY29tcGFyZUFkZHIocm5nQWRkckEuc3RhcnRBZGRyZXNzLCBybmdBZGRyQi5zdGFydEFkZHJlc3MpIHx8ICFjb21wYXJlQWRkcihybmdBZGRyQS5lbmRBZGRyZXNzLCBybmdBZGRyQi5lbmRBZGRyZXNzKSkgew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIDE7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gVW5kb01hbmFnZXIoKSB7DQogICAgICAgIHRoaXMubGlzdCA9IFtdOw0KICAgICAgICB0aGlzLmluZGV4ID0gMDsNCiAgICAgICAgdGhpcy5oYXNVbmRvID0gZmFsc2U7DQogICAgICAgIHRoaXMuaGFzUmVkbyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnVuZG8gPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5oYXNVbmRvKSB7DQogICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxpc3RbdGhpcy5pbmRleCAtIDFdICYmIHRoaXMubGlzdC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMubGlzdFt0aGlzLmluZGV4XS5jb250ZW50ID09IHRoaXMubGlzdFt0aGlzLmluZGV4IC0gMV0uY29udGVudCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4LS07DQogICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3RvcmUoMCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlKC0tdGhpcy5pbmRleCk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHRoaXMucmVkbyA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmhhc1JlZG8pIHsNCiAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5saXN0W3RoaXMuaW5kZXhdLmNvbnRlbnQgPT0gdGhpcy5saXN0W3RoaXMuaW5kZXggKyAxXS5jb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5kZXgrKzsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXggPT0gdGhpcy5saXN0Lmxlbmd0aCAtIDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3RvcmUodGhpcy5pbmRleCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlKCsrdGhpcy5pbmRleCk7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQoNCiAgICAgICAgdGhpcy5yZXN0b3JlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcy5lZGl0b3I7DQogICAgICAgICAgICB2YXIgc2NlbmUgPSB0aGlzLmxpc3RbdGhpcy5pbmRleF07DQogICAgICAgICAgICB2YXIgcm9vdCA9IFVFLmh0bWxwYXJzZXIoc2NlbmUuY29udGVudC5yZXBsYWNlKGZpbGxjaGFyLCAnJykpOw0KICAgICAgICAgICAgbWUub3B0aW9ucy5hdXRvQ2xlYXJFbXB0eU5vZGUgPSBmYWxzZTsNCiAgICAgICAgICAgIG1lLmZpbHRlcklucHV0UnVsZShyb290KTsNCiAgICAgICAgICAgIG1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlID0gb3JnU3RhdGU7DQogICAgICAgICAgICAvL3RyYWNlOjg3Mw0KICAgICAgICAgICAgLy/ljrvmjonlsZXkvY3nrKYNCiAgICAgICAgICAgIG1lLmRvY3VtZW50LmJvZHkuaW5uZXJIVE1MID0gcm9vdC50b0h0bWwoKTsNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYWZ0ZXJzY2VuY2VyZXN0b3JlJyk7DQogICAgICAgICAgICAvL+WkhOeQhnVuZG/lkI7nqbrmoLzkuI3lsZXkvY3nmoTpl67popgNCiAgICAgICAgICAgIGlmIChicm93c2VyLmllKSB7DQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5kb2N1bWVudCwndGQgdGggY2FwdGlvbiBwJyksZnVuY3Rpb24obm9kZSl7DQogICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKG5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCBub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICB2YXIgcm5nID0gbmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCkubW92ZVRvQWRkcmVzcyhzY2VuZS5hZGRyZXNzKTsNCiAgICAgICAgICAgICAgICBybmcuc2VsZWN0KG5vTmVlZEZpbGxDaGFyVGFnc1tybmcuc3RhcnRDb250YWluZXIubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pOw0KICAgICAgICAgICAgfWNhdGNoKGUpe30NCg0KICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsNCiAgICAgICAgICAgIHRoaXMuY2xlYXJLZXkoKTsNCiAgICAgICAgICAgIC8v5LiN6IO95oqK6Ieq5bexcmVzZXTkuoYNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgncmVzZXQnLCB0cnVlKTsNCiAgICAgICAgfTsNCg0KICAgICAgICB0aGlzLmdldFNjZW5lID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcy5lZGl0b3I7DQogICAgICAgICAgICB2YXIgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgcm5nQWRkcmVzcyA9IHJuZy5jcmVhdGVBZGRyZXNzKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdiZWZvcmVnZXRzY2VuZScpOw0KICAgICAgICAgICAgdmFyIHJvb3QgPSBVRS5odG1scGFyc2VyKG1lLmJvZHkuaW5uZXJIVE1MKTsNCiAgICAgICAgICAgIG1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlID0gZmFsc2U7DQogICAgICAgICAgICBtZS5maWx0ZXJPdXRwdXRSdWxlKHJvb3QpOw0KICAgICAgICAgICAgbWUub3B0aW9ucy5hdXRvQ2xlYXJFbXB0eU5vZGUgPSBvcmdTdGF0ZTsNCiAgICAgICAgICAgIHZhciBjb250ID0gcm9vdC50b0h0bWwoKTsNCiAgICAgICAgICAgIC8vdHJhY2U6MzQ2MQ0KICAgICAgICAgICAgLy/ov5nkuKrkvJrlvJXotbflm57pgIDml7blr7zoh7TnqbrmoLzkuKLlpLHnmoTmg4XlhrUNCi8vICAgICAgICAgICAgYnJvd3Nlci5pZSAmJiAoY29udCA9IGNvbnQucmVwbGFjZSgvPiZuYnNwOzwvZywgJz48JykucmVwbGFjZSgvXHMqPC9nLCAnPCcpLnJlcGxhY2UoLz5ccyovZywgJz4nKSk7DQogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2FmdGVyZ2V0c2NlbmUnKTsNCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBhZGRyZXNzOnJuZ0FkZHJlc3MsDQogICAgICAgICAgICAgICAgY29udGVudDpjb250DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIHRoaXMuc2F2ZSA9IGZ1bmN0aW9uIChub3RDb21wYXJlUmFuZ2Usbm90U2V0Q3Vyc29yKSB7DQogICAgICAgICAgICBjbGVhclRpbWVvdXQoc2F2ZVNjZW5lVGltZXIpOw0KICAgICAgICAgICAgdmFyIGN1cnJlbnRTY2VuZSA9IHRoaXMuZ2V0U2NlbmUobm90U2V0Q3Vyc29yKSwNCiAgICAgICAgICAgICAgICBsYXN0U2NlbmUgPSB0aGlzLmxpc3RbdGhpcy5pbmRleF07DQogICAgICAgICAgICAvL+WGheWuueebuOWQjOS9jee9ruebuOWQjOS4jeWtmA0KICAgICAgICAgICAgaWYgKGxhc3RTY2VuZSAmJiBsYXN0U2NlbmUuY29udGVudCA9PSBjdXJyZW50U2NlbmUuY29udGVudCAmJg0KICAgICAgICAgICAgICAgICggbm90Q29tcGFyZVJhbmdlID8gMSA6IGNvbXBhcmVSYW5nZUFkZHJlc3MobGFzdFNjZW5lLmFkZHJlc3MsIGN1cnJlbnRTY2VuZS5hZGRyZXNzKSApDQogICAgICAgICAgICAgICAgKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LnNsaWNlKDAsIHRoaXMuaW5kZXggKyAxKTsNCiAgICAgICAgICAgIHRoaXMubGlzdC5wdXNoKGN1cnJlbnRTY2VuZSk7DQogICAgICAgICAgICAvL+WmguaenOWkp+S6juacgOWkp+aVsOmHj+S6hu+8jOWwseaKiuacgOWJjeeahOWJlOmZpA0KICAgICAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPiBtYXhVbmRvQ291bnQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmxpc3Quc2hpZnQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuaW5kZXggPSB0aGlzLmxpc3QubGVuZ3RoIC0gMTsNCiAgICAgICAgICAgIHRoaXMuY2xlYXJLZXkoKTsNCiAgICAgICAgICAgIC8v6Lef5pawdW5kby9yZWRv54q25oCBDQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KDQogICAgICAgIH07DQogICAgICAgIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5oYXNSZWRvID0gISF0aGlzLmxpc3RbdGhpcy5pbmRleCArIDFdOw0KICAgICAgICAgICAgdGhpcy5oYXNVbmRvID0gISF0aGlzLmxpc3RbdGhpcy5pbmRleCAtIDFdOw0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5saXN0ID0gW107DQogICAgICAgICAgICB0aGlzLmluZGV4ID0gMDsNCiAgICAgICAgICAgIHRoaXMuaGFzVW5kbyA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy5oYXNSZWRvID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLmNsZWFyS2V5KCk7DQogICAgICAgIH07DQogICAgICAgIHRoaXMuY2xlYXJLZXkgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBrZXljb250ID0gMDsNCiAgICAgICAgICAgIGxhc3RLZXlDb2RlID0gbnVsbDsNCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBtZS51bmRvTWFuZ2VyID0gbmV3IFVuZG9NYW5hZ2VyKCk7DQogICAgbWUudW5kb01hbmdlci5lZGl0b3IgPSBtZTsNCiAgICBmdW5jdGlvbiBzYXZlU2NlbmUoKSB7DQogICAgICAgIHRoaXMudW5kb01hbmdlci5zYXZlKCk7DQogICAgfQ0KDQogICAgbWUuYWRkTGlzdGVuZXIoJ3NhdmVTY2VuZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJndW1lbnRzLDEpOw0KICAgICAgICB0aGlzLnVuZG9NYW5nZXIuc2F2ZS5hcHBseSh0aGlzLnVuZG9NYW5nZXIsYXJncyk7DQogICAgfSk7DQoNCi8vICAgIG1lLmFkZExpc3RlbmVyKCdiZWZvcmVleGVjY29tbWFuZCcsIHNhdmVTY2VuZSk7DQovLyAgICBtZS5hZGRMaXN0ZW5lcignYWZ0ZXJleGVjY29tbWFuZCcsIHNhdmVTY2VuZSk7DQoNCiAgICBtZS5hZGRMaXN0ZW5lcigncmVzZXQnLCBmdW5jdGlvbiAodHlwZSwgZXhjbHVkZSkgew0KICAgICAgICBpZiAoIWV4Y2x1ZGUpIHsNCiAgICAgICAgICAgIHRoaXMudW5kb01hbmdlci5yZXNldCgpOw0KICAgICAgICB9DQogICAgfSk7DQogICAgbWUuY29tbWFuZHNbJ3JlZG8nXSA9IG1lLmNvbW1hbmRzWyd1bmRvJ10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kOmZ1bmN0aW9uIChjbWROYW1lKSB7DQogICAgICAgICAgICB0aGlzLnVuZG9NYW5nZXJbY21kTmFtZV0oKTsNCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24gKGNtZE5hbWUpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnVuZG9NYW5nZXJbJ2hhcycgKyAoY21kTmFtZS50b0xvd2VyQ2FzZSgpID09ICd1bmRvJyA/ICdVbmRvJyA6ICdSZWRvJyldID8gMCA6IC0xOw0KICAgICAgICB9LA0KICAgICAgICBub3ROZWVkVW5kbzoxDQogICAgfTsNCg0KICAgIHZhciBrZXlzID0gew0KICAgICAgICAgICAgLy8gIC8qQmFja3NwYWNlKi8gODoxLCAvKkRlbGV0ZSovIDQ2OjEsDQogICAgICAgICAgICAvKlNoaWZ0Ki8gMTY6MSwgLypDdHJsKi8gMTc6MSwgLypBbHQqLyAxODoxLA0KICAgICAgICAgICAgMzc6MSwgMzg6MSwgMzk6MSwgNDA6MQ0KDQogICAgICAgIH0sDQogICAgICAgIGtleWNvbnQgPSAwLA0KICAgICAgICBsYXN0S2V5Q29kZTsNCiAgICAvL+i+k+WFpeazleeKtuaAgeS4i+S4jeiuoeeul+Wtl+espuaVsA0KICAgIHZhciBpbnB1dFR5cGUgPSBmYWxzZTsNCiAgICBtZS5hZGRMaXN0ZW5lcigncmVhZHknLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIGRvbVV0aWxzLm9uKHRoaXMuYm9keSwgJ2NvbXBvc2l0aW9uc3RhcnQnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpbnB1dFR5cGUgPSB0cnVlOw0KICAgICAgICB9KTsNCiAgICAgICAgZG9tVXRpbHMub24odGhpcy5ib2R5LCAnY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpbnB1dFR5cGUgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICB9KTsNCiAgICAvL+W/q+aNt+mUrg0KICAgIG1lLmFkZHNob3J0Y3V0a2V5KHsNCiAgICAgICAgIlVuZG8iOiJjdHJsKzkwIiwgLy91bmRvDQogICAgICAgICJSZWRvIjoiY3RybCs4OSIgLy9yZWRvDQoNCiAgICB9KTsNCiAgICB2YXIgaXNDb2xsYXBzZWQgPSB0cnVlOw0KICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKHR5cGUsIGV2dCkgew0KDQogICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoOw0KICAgICAgICBpZiAoIWtleXNba2V5Q29kZV0gJiYgIWV2dC5jdHJsS2V5ICYmICFldnQubWV0YUtleSAmJiAhZXZ0LnNoaWZ0S2V5ICYmICFldnQuYWx0S2V5KSB7DQogICAgICAgICAgICBpZiAoaW5wdXRUeXBlKQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAgICAgaWYoIW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNvbGxhcHNlZCl7DQogICAgICAgICAgICAgICAgbWUudW5kb01hbmdlci5zYXZlKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgIGlzQ29sbGFwc2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKG1lLnVuZG9NYW5nZXIubGlzdC5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgIG1lLnVuZG9NYW5nZXIuc2F2ZSh0cnVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNsZWFyVGltZW91dChzYXZlU2NlbmVUaW1lcik7DQogICAgICAgICAgICBmdW5jdGlvbiBzYXZlKGNvbnQpew0KDQogICAgICAgICAgICAgICAgaWYgKGNvbnQuc2VsZWN0aW9uLmdldFJhbmdlKCkuY29sbGFwc2VkKQ0KICAgICAgICAgICAgICAgICAgICBjb250LmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOw0KICAgICAgICAgICAgICAgIGNvbnQudW5kb01hbmdlci5zYXZlKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgIGNvbnQuZmlyZUV2ZW50KCdzZWxlY3Rpb25jaGFuZ2UnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNhdmVTY2VuZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGlmKGlucHV0VHlwZSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBpbnRlcmFsVGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWlucHV0VHlwZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZShtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcmFsVGltZXIpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sMzAwKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHNhdmUobWUpOw0KICAgICAgICAgICAgfSwyMDApOw0KDQogICAgICAgICAgICBsYXN0S2V5Q29kZSA9IGtleUNvZGU7DQogICAgICAgICAgICBrZXljb250Kys7DQogICAgICAgICAgICBpZiAoa2V5Y29udCA+PSBtYXhJbnB1dENvdW50ICkgew0KICAgICAgICAgICAgICAgIHNhdmUobWUpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgICBtZS5hZGRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbiAodHlwZSwgZXZ0KSB7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoOw0KICAgICAgICBpZiAoIWtleXNba2V5Q29kZV0gJiYgIWV2dC5jdHJsS2V5ICYmICFldnQubWV0YUtleSAmJiAhZXZ0LnNoaWZ0S2V5ICYmICFldnQuYWx0S2V5KSB7DQogICAgICAgICAgICBpZiAoaW5wdXRUeXBlKQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIGlmKCFpc0NvbGxhcHNlZCl7DQogICAgICAgICAgICAgICAgdGhpcy51bmRvTWFuZ2VyLnNhdmUoZmFsc2UsdHJ1ZSk7DQogICAgICAgICAgICAgICAgaXNDb2xsYXBzZWQgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQogICAgLy/mianlsZXlrp7kvovvvIzmt7vliqDlhbPpl63lkozlvIDlkK/lkb3ku6R1bmRvDQogICAgbWUuc3RvcENtZFVuZG8gPSBmdW5jdGlvbigpew0KICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSB0cnVlOw0KICAgIH07DQogICAgbWUuc3RhcnRDbWRVbmRvID0gZnVuY3Rpb24oKXsNCiAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gZmFsc2U7DQogICAgfQ0KfTsNCg0KLy8vaW1wb3J0IGNvcmUKLy8vaW1wb3J0IHBsdWdpbnMvaW5zZXJ0aHRtbC5qcwovLy9pbXBvcnQgcGx1Z2lucy91bmRvLmpzCi8vL2ltcG9ydCBwbHVnaW5zL3NlcmlhbGl6ZS5qcwovLy9jb21tYW5kcyDnspjotLQKLy8vY29tbWFuZHNOYW1lICBQYXN0ZVBsYWluCi8vL2NvbW1hbmRzVGl0bGUgIOe6r+aWh+acrOeymOi0tOaooeW8jwovKgogKiogQGRlc2NyaXB0aW9uIOeymOi0tAogKiBAYXV0aG9yIHpoYW55aQogKi8KVUUucGx1Z2luc1sncGFzdGUnXSA9IGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIGdldENsaXBib2FyZERhdGEoY2FsbGJhY2spIHsKICAgICAgICB2YXIgZG9jID0gdGhpcy5kb2N1bWVudDsKICAgICAgICBpZiAoZG9jLmdldEVsZW1lbnRCeUlkKCdiYWlkdV9wYXN0ZWJpbicpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwKICAgICAgICAgICAgYmsgPSByYW5nZS5jcmVhdGVCb29rbWFyaygpLAogICAgICAgIC8v5Yib5bu65Ymq6LS055qE5a655ZmoZGl2CiAgICAgICAgICAgIHBhc3RlYmluID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgIHBhc3RlYmluLmlkID0gJ2JhaWR1X3Bhc3RlYmluJzsKICAgICAgICAvLyBTYWZhcmkg6KaB5rGCZGl25b+F6aG75pyJ5YaF5a6577yM5omN6IO957KY6LS05YaF5a656L+b5p2lCiAgICAgICAgYnJvd3Nlci53ZWJraXQgJiYgcGFzdGViaW4uYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKGRvbVV0aWxzLmZpbGxDaGFyICsgZG9tVXRpbHMuZmlsbENoYXIpKTsKICAgICAgICBkb2MuYm9keS5hcHBlbmRDaGlsZChwYXN0ZWJpbik7CiAgICAgICAgLy90cmFjZTo3MTcg6ZqQ6JeP55qEc3BhbuS4jeiDveW+l+WIsHRvcAogICAgICAgIC8vYmsuc3RhcnQuaW5uZXJIVE1MID0gJyZuYnNwOyc7CiAgICAgICAgYmsuc3RhcnQuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgIHBhc3RlYmluLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MXB4O2hlaWdodDoxcHg7b3ZlcmZsb3c6aGlkZGVuO2xlZnQ6LTEwMDBweDt3aGl0ZS1zcGFjZTpub3dyYXA7dG9wOiIgKwogICAgICAgICAgICAvL+imgeWcqOeOsOWcqOWFieagh+W5s+ihjOeahOS9jee9ruWKoOWFpe+8jOWQpuWImeS8muWHuueOsOi3s+WKqOeahOmXrumimAogICAgICAgICAgICBkb21VdGlscy5nZXRYWShiay5zdGFydCkueSArICdweCc7CgogICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhwYXN0ZWJpbikuc2VsZWN0KHRydWUpOwoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKGJyb3dzZXIud2Via2l0KSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgcGFzdGViaW5zID0gZG9jLnF1ZXJ5U2VsZWN0b3JBbGwoJyNiYWlkdV9wYXN0ZWJpbicpLCBwaTsgcGkgPSBwYXN0ZWJpbnNbaSsrXTspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eU5vZGUocGkpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwaSk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGViaW4gPSBwaTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBwYXN0ZWJpbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHBhc3RlYmluKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICB9CiAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QodHJ1ZSk7CiAgICAgICAgICAgIGNhbGxiYWNrKHBhc3RlYmluKTsKICAgICAgICB9LCAwKTsKICAgIH0KCiAgICB2YXIgbWUgPSB0aGlzOwoKICAgIHZhciB0eHRDb250ZW50LCBodG1sQ29udGVudCwgYWRkcmVzczsKCiAgICBmdW5jdGlvbiBmaWx0ZXIoZGl2KSB7CiAgICAgICAgdmFyIGh0bWw7CiAgICAgICAgaWYgKGRpdi5maXJzdENoaWxkKSB7CiAgICAgICAgICAgIC8v5Y675o6JY3V05Lit5re75Yqg55qE6L6555WM5YC8CiAgICAgICAgICAgIHZhciBub2RlcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGRpdiwgJ3NwYW4nKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5pOyBuaSA9IG5vZGVzW2krK107KSB7CiAgICAgICAgICAgICAgICBpZiAobmkuaWQgPT0gJ19iYWlkdV9jdXRfc3RhcnQnIHx8IG5pLmlkID09ICdfYmFpZHVfY3V0X2VuZCcpIHsKICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmkpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoYnJvd3Nlci53ZWJraXQpIHsKCiAgICAgICAgICAgICAgICB2YXIgYnJzID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ2RpdiBicicpOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGJpOyBiaSA9IGJyc1tpKytdOykgewogICAgICAgICAgICAgICAgICAgIHZhciBwTiA9IGJpLnBhcmVudE5vZGU7CiAgICAgICAgICAgICAgICAgICAgaWYgKHBOLnRhZ05hbWUgPT0gJ0RJVicgJiYgcE4uY2hpbGROb2Rlcy5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBwTi5pbm5lckhUTUwgPSAnPHA+PGJyLz48L3A+JzsKICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHBOKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZGl2cyA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCcjYmFpZHVfcGFzdGViaW4nKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBkaTsgZGkgPSBkaXZzW2krK107KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcFAgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7CiAgICAgICAgICAgICAgICAgICAgZGkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wUCwgZGkpOwogICAgICAgICAgICAgICAgICAgIHdoaWxlIChkaS5maXJzdENoaWxkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRtcFAuYXBwZW5kQ2hpbGQoZGkuZmlyc3RDaGlsZCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShkaSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIG1ldGFzID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ21ldGEnKTsKICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBtZXRhc1tpKytdOykgewogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShjaSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdmFyIGJycyA9IGRpdi5xdWVyeVNlbGVjdG9yQWxsKCdicicpOwogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgY2kgPSBicnNbaSsrXTspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoL15hcHBsZS0vaS50ZXN0KGNpLmNsYXNzTmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28pIHsKICAgICAgICAgICAgICAgIHZhciBkaXJ0eU5vZGVzID0gZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tfbW96X2RpcnR5XScpOwogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgY2kgPSBkaXJ0eU5vZGVzW2krK107KSB7CiAgICAgICAgICAgICAgICAgICAgY2kucmVtb3ZlQXR0cmlidXRlKCdfbW96X2RpcnR5Jyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKCFicm93c2VyLmllKSB7CiAgICAgICAgICAgICAgICB2YXIgc3BhbnMgPSBkaXYucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5BcHBsZS1zdHlsZS1zcGFuJyk7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gc3BhbnNbaSsrXTspIHsKICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2ksIHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAvL2ll5LiL5L2/55SoaW5uZXJIVE1M5Lya5Lqn55Sf5aSa5L2Z55qEXHJcbuWtl+espu+8jOS5n+S8muS6p+eUnyZuYnNwO+i/memHjOi/h+a7pOaOiQogICAgICAgICAgICBodG1sID0gZGl2LmlubmVySFRNTDsvLy5yZXBsYWNlKC8+KD86KFxzfCZuYnNwOykqPyk8L2csJz48Jyk7CgogICAgICAgICAgICAvL+i/h+a7pHdvcmTnspjotLTov4fmnaXnmoTlhpfkvZnlsZ7mgKcKICAgICAgICAgICAgaHRtbCA9IFVFLmZpbHRlcldvcmQoaHRtbCk7CiAgICAgICAgICAgIC8v5Y+W5raI5LqG5b+955Wl56m655m955qE56ys5LqM5Liq5Y+C5pWw77yM57KY6LS06L+H5p2l55qE5pyJ5Lqb5piv5pyJ56m655m955qE77yM5Lya6KKr5aWX5LiK55u45YWz55qE5qCH562+CiAgICAgICAgICAgIHZhciByb290ID0gVUUuaHRtbHBhcnNlcihodG1sKTsKICAgICAgICAgICAgLy/lpoLmnpznu5nkuobov4fmu6Top4TliJnlsLHlhYjov5vooYzov4fmu6QKICAgICAgICAgICAgaWYgKG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpIHsKICAgICAgICAgICAgICAgIFVFLmZpbHRlck5vZGUocm9vdCwgbWUub3B0aW9ucy5maWx0ZXJSdWxlcyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLy/miafooYzpu5jorqTnmoTlpITnkIYKICAgICAgICAgICAgbWUuZmlsdGVySW5wdXRSdWxlKHJvb3QpOwogICAgICAgICAgICAvL+mSiOWvuWNocm9tZeeahOWkhOeQhgogICAgICAgICAgICBpZiAoYnJvd3Nlci53ZWJraXQpIHsKICAgICAgICAgICAgICAgIHZhciBiciA9IHJvb3QubGFzdENoaWxkKCk7CiAgICAgICAgICAgICAgICBpZiAoYnIgJiYgYnIudHlwZSA9PSAnZWxlbWVudCcgJiYgYnIudGFnTmFtZSA9PSAnYnInKSB7CiAgICAgICAgICAgICAgICAgICAgcm9vdC5yZW1vdmVDaGlsZChicikKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2gobWUuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCdkaXYnKSwgZnVuY3Rpb24gKG5vZGUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKG5vZGUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShub2RlLHRydWUpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfQogICAgICAgICAgICBodG1sID0geydodG1sJzogcm9vdC50b0h0bWwoKX07CiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYmVmb3JlcGFzdGUnLCBodG1sLCByb290KTsKICAgICAgICAgICAgLy/miqLkuobpu5jorqTnmoTnspjotLTvvIzpgqPlkI7ovrnnmoTlhoXlrrnlsLHkuI3miafooYzkuobvvIzmr5TlpoLooajmoLznspjotLQKICAgICAgICAgICAgaWYoIWh0bWwuaHRtbCl7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcm9vdCA9IFVFLmh0bWxwYXJzZXIoaHRtbC5odG1sLHRydWUpOwogICAgICAgICAgICAvL+WmguaenOW8gOWQr+S6hue6r+aWh+acrOaooeW8jwogICAgICAgICAgICBpZiAobWUucXVlcnlDb21tYW5kU3RhdGUoJ3Bhc3RlcGxhaW4nKSA9PT0gMSkgewogICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2luc2VydEh0bWwnLCBVRS5maWx0ZXJOb2RlKHJvb3QsIG1lLm9wdGlvbnMuZmlsdGVyVHh0UnVsZXMpLnRvSHRtbCgpLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8v5paH5pys5qih5byPCiAgICAgICAgICAgICAgICBVRS5maWx0ZXJOb2RlKHJvb3QsIG1lLm9wdGlvbnMuZmlsdGVyVHh0UnVsZXMpOwogICAgICAgICAgICAgICAgdHh0Q29udGVudCA9IHJvb3QudG9IdG1sKCk7CiAgICAgICAgICAgICAgICAvL+WujOWFqOaooeW8jwogICAgICAgICAgICAgICAgaHRtbENvbnRlbnQgPSBodG1sLmh0bWw7CgogICAgICAgICAgICAgICAgYWRkcmVzcyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUFkZHJlc3ModHJ1ZSk7CiAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0SHRtbCcsIGh0bWxDb250ZW50LCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtZS5maXJlRXZlbnQoImFmdGVycGFzdGUiLCBodG1sKTsKICAgICAgICB9CiAgICB9CgogICAgbWUuYWRkTGlzdGVuZXIoJ3Bhc3RlVHJhbnNmZXInLCBmdW5jdGlvbiAoY21kLCBwbGFpblR5cGUpIHsKCiAgICAgICAgaWYgKGFkZHJlc3MgJiYgdHh0Q29udGVudCAmJiBodG1sQ29udGVudCAmJiB0eHRDb250ZW50ICE9IGh0bWxDb250ZW50KSB7CiAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgICAgICByYW5nZS5tb3ZlVG9BZGRyZXNzKGFkZHJlc3MsIHRydWUpOwoKICAgICAgICAgICAgaWYgKCFyYW5nZS5jb2xsYXBzZWQpIHsKCiAgICAgICAgICAgICAgICB3aGlsZSAoIWRvbVV0aWxzLmlzQm9keShyYW5nZS5zdGFydENvbnRhaW5lcikKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsKICAgICAgICAgICAgICAgICAgICBpZihzdGFydC5ub2RlVHlwZSA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXN0YXJ0KXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmUgPSBzdGFydC5wcmV2aW91c1NpYmxpbmc7CgogICAgICAgICAgICAgICAgICAgICAgICBpZihwcmUgJiYgcHJlLm5vZGVUeXBlID09IDMgJiYgbmV3IFJlZ0V4cCgnXltcblxyXHQgJytkb21VdGlscy5maWxsQ2hhcisnXSokJykudGVzdChwcmUubm9kZVZhbHVlKSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShwcmUpCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYocmFuZ2Uuc3RhcnRPZmZzZXQgPT0gMCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlICghZG9tVXRpbHMuaXNCb2R5KHJhbmdlLmVuZENvbnRhaW5lcikKICAgICAgICAgICAgICAgICAgICApIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZW5kID0gcmFuZ2UuZW5kQ29udGFpbmVyOwogICAgICAgICAgICAgICAgICAgIGlmKGVuZC5ub2RlVHlwZSA9PSAxKXsKICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gZW5kLmNoaWxkTm9kZXNbcmFuZ2UuZW5kT2Zmc2V0XTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWVuZCl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmRBZnRlcihyYW5nZS5lbmRDb250YWluZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHQgPSBlbmQubmV4dFNpYmxpbmc7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5leHQgJiYgbmV4dC5ub2RlVHlwZSA9PSAzICYmIG5ldyBSZWdFeHAoJ15bXG5cclx0Jytkb21VdGlscy5maWxsQ2hhcisnXSokJykudGVzdChuZXh0Lm5vZGVWYWx1ZSkpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kQWZ0ZXIobmV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBpZihyYW5nZS5lbmRPZmZzZXQgPT0gcmFuZ2UuZW5kQ29udGFpbmVyW3JhbmdlLmVuZENvbnRhaW5lci5ub2RlVHlwZSA9PSAzID8gJ25vZGVWYWx1ZScgOiAnY2hpbGROb2RlcyddLmxlbmd0aCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKHJhbmdlLmVuZENvbnRhaW5lcik7CiAgICAgICAgICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICB9CgogICAgICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpOwogICAgICAgICAgICByYW5nZS5zZWxlY3QodHJ1ZSk7CiAgICAgICAgICAgIG1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZCA9IHRydWU7CiAgICAgICAgICAgIHZhciBodG1sID0gaHRtbENvbnRlbnQ7CiAgICAgICAgICAgIGlmIChwbGFpblR5cGUgPT09IDIpIHsKICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoLzwoXC8/KShbXHdcLV0rKShbXj5dKik+L2dpLCBmdW5jdGlvbiAoYSwgYiwgdGFnTmFtZSwgYXR0cnMpIHsKICAgICAgICAgICAgICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgICAgICAgICAgICAgIGlmICh7aW1nOiAxfVt0YWdOYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgYXR0cnMgPSBhdHRycy5yZXBsYWNlKC8oW1x3XC1dKj8pXHMqPVxzKigoIihbXiJdKikiKXwoJyhbXiddKiknKXwoW15ccz5dKykpL2dpLCBmdW5jdGlvbiAoc3RyLCBhdHIsIHZhbCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NyYyc6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaHJlZic6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IDEKICAgICAgICAgICAgICAgICAgICAgICAgfVthdHIudG9Mb3dlckNhc2UoKV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhdHIgKyAnPScgKyB2YWwgKyAnICcKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJycKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICBpZiAoewogICAgICAgICAgICAgICAgICAgICAgICAnc3Bhbic6IDEsCiAgICAgICAgICAgICAgICAgICAgICAgICdkaXYnOiAxCiAgICAgICAgICAgICAgICAgICAgfVt0YWdOYW1lXSkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJycKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8JyArIGIgKyB0YWdOYW1lICsgJyAnICsgdXRpbHMudHJpbShhdHRycykgKyAnPicKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhaW5UeXBlKSB7CiAgICAgICAgICAgICAgICBodG1sID0gdHh0Q29udGVudDsKICAgICAgICAgICAgfQogICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0aHRtbCcsIGh0bWwsIHRydWUpOwogICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSBmYWxzZTsKICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgICAgICB3aGlsZSAoIWRvbVV0aWxzLmlzQm9keShybmcuc3RhcnRDb250YWluZXIpICYmICFybmcuc3RhcnRPZmZzZXQgJiYKICAgICAgICAgICAgICAgIHJuZy5zdGFydENvbnRhaW5lcltybmcuc3RhcnRDb250YWluZXIubm9kZVR5cGUgPT0gMyA/ICdub2RlVmFsdWUnIDogJ2NoaWxkTm9kZXMnXS5sZW5ndGgKICAgICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QmVmb3JlKHJuZy5zdGFydENvbnRhaW5lcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHRtcEFkZHJlc3MgPSBybmcuY3JlYXRlQWRkcmVzcyh0cnVlKTsKICAgICAgICAgICAgYWRkcmVzcy5lbmRBZGRyZXNzID0gdG1wQWRkcmVzcy5zdGFydEFkZHJlc3M7CiAgICAgICAgfQogICAgfSk7CiAgICBtZS5hZGRMaXN0ZW5lcigncmVhZHknLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9tVXRpbHMub24obWUuYm9keSwgJ2N1dCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7CiAgICAgICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkICYmIG1lLnVuZG9NYW5nZXIpIHsKICAgICAgICAgICAgICAgIG1lLnVuZG9NYW5nZXIuc2F2ZSgpOwogICAgICAgICAgICB9CiAgICAgICAgfSk7CgogICAgICAgIC8vaWXkuItiZWZvcmVwYXN0ZeWcqOeCueWHu+WPs+mUruaXtuS5n+S8muinpuWPke+8jOaJgOS7peeUqOebkeaOp+mUruebmOaJjeWkhOeQhgogICAgICAgIGRvbVV0aWxzLm9uKG1lLmJvZHksIGJyb3dzZXIuaWUgfHwgYnJvd3Nlci5vcGVyYSA/ICdrZXlkb3duJyA6ICdwYXN0ZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmICgoYnJvd3Nlci5pZSB8fCBicm93c2VyLm9wZXJhKSAmJiAoKCFlLmN0cmxLZXkgJiYgIWUubWV0YUtleSkgfHwgZS5rZXlDb2RlICE9ICc4NicpKSB7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZ2V0Q2xpcGJvYXJkRGF0YS5jYWxsKG1lLCBmdW5jdGlvbiAoZGl2KSB7CiAgICAgICAgICAgICAgICBmaWx0ZXIoZGl2KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSk7CgogICAgfSk7Cn07CgoNCi8qKg0KICog5pyJ5bqP5YiX6KGoLOaXoOW6j+WIl+ihqOaPkuS7tg0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KVUUucGx1Z2luc1snbGlzdCddID0gZnVuY3Rpb24gKCkgew0KICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgIG5vdEV4Y2hhbmdlID0gew0KICAgICAgICAgICAgJ1REJzoxLA0KICAgICAgICAgICAgJ1BSRSc6MSwNCiAgICAgICAgICAgICdCTE9DS1FVT1RFJzoxDQogICAgICAgIH07DQogICAgdmFyIGN1c3RvbVN0eWxlID0gew0KICAgICAgICAnY24nIDogJ2NuLTEtJywNCiAgICAgICAgJ2NuMScgOiAnY24tMi0nLA0KICAgICAgICAnY24yJyA6ICdjbi0zLScsDQogICAgICAgICdudW0nOiAgJ251bS0xLScsDQogICAgICAgICdudW0xJyA6ICdudW0tMi0nLA0KICAgICAgICAnbnVtMicgOiAnbnVtLTMtJywNCiAgICAgICAgJ2Rhc2gnICA6ICdkYXNoJywNCiAgICAgICAgJ2RvdCc6J2RvdCcNCiAgICB9Ow0KDQogICAgbWUuc2V0T3B0KCB7DQogICAgICAgICdhdXRvVHJhbnNXb3JkVG9MaXN0JzpmYWxzZSwNCiAgICAgICAgJ2luc2VydG9yZGVyZWRsaXN0Jzp7DQogICAgICAgICAgICAnbnVtJzonJywNCiAgICAgICAgICAgICdudW0xJzonJywNCiAgICAgICAgICAgICdudW0yJzonJywNCiAgICAgICAgICAgICdjbic6JycsDQogICAgICAgICAgICAnY24xJzonJywNCiAgICAgICAgICAgICdjbjInOicnLA0KICAgICAgICAgICAgJ2RlY2ltYWwnOicnLA0KICAgICAgICAgICAgJ2xvd2VyLWFscGhhJzonJywNCiAgICAgICAgICAgICdsb3dlci1yb21hbic6JycsDQogICAgICAgICAgICAndXBwZXItYWxwaGEnOicnLA0KICAgICAgICAgICAgJ3VwcGVyLXJvbWFuJzonJw0KICAgICAgICB9LA0KICAgICAgICAnaW5zZXJ0dW5vcmRlcmVkbGlzdCc6ew0KICAgICAgICAgICAgJ2NpcmNsZSc6JycsDQogICAgICAgICAgICAnZGlzYyc6JycsDQogICAgICAgICAgICAnc3F1YXJlJzonJywNCiAgICAgICAgICAgICdkYXNoJyA6ICcnLA0KICAgICAgICAgICAgJ2RvdCc6JycNCiAgICAgICAgfSwNCiAgICAgICAgbGlzdERlZmF1bHRQYWRkaW5nTGVmdCA6ICczMCcsDQogICAgICAgIGxpc3RpY29ucGF0aCA6ICdodHRwOi8vYnMuYmFpZHUuY29tL2xpc3RpY29uLycsDQogICAgICAgIG1heExpc3RMZXZlbCA6IC0xLy8tMeS4jemZkOWItg0KICAgIH0gKTsNCiAgICBmdW5jdGlvbiBsaXN0VG9BcnJheShsaXN0KXsNCiAgICAgICAgdmFyIGFyciA9IFtdOw0KICAgICAgICBmb3IodmFyIHAgaW4gbGlzdCl7DQogICAgICAgICAgICBhcnIucHVzaChwKQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBhcnI7DQogICAgfQ0KICAgIHZhciBsaXN0U3R5bGUgPSB7DQogICAgICAgICdPTCc6bGlzdFRvQXJyYXkobWUub3B0aW9ucy5pbnNlcnRvcmRlcmVkbGlzdCksDQogICAgICAgICdVTCc6bGlzdFRvQXJyYXkobWUub3B0aW9ucy5pbnNlcnR1bm9yZGVyZWRsaXN0KQ0KICAgIH07DQogICAgdmFyIGxpaWNvbnBhdGggPSBtZS5vcHRpb25zLmxpc3RpY29ucGF0aDsNCg0KICAgIC8v5qC55o2u55So5oi36YWN572u77yM6LCD5pW0Y3VzdG9tU3R5bGUNCiAgICBmb3IodmFyIHMgaW4gY3VzdG9tU3R5bGUpew0KICAgICAgICBpZighbWUub3B0aW9ucy5pbnNlcnRvcmRlcmVkbGlzdC5oYXNPd25Qcm9wZXJ0eShzKSAmJiAhbWUub3B0aW9ucy5pbnNlcnR1bm9yZGVyZWRsaXN0Lmhhc093blByb3BlcnR5KHMpKXsNCiAgICAgICAgICAgIGRlbGV0ZSBjdXN0b21TdHlsZVtzXTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIG1lLnJlYWR5KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGN1c3RvbUNzcyA9IFtdOw0KICAgICAgICBmb3IodmFyIHAgaW4gY3VzdG9tU3R5bGUpew0KICAgICAgICAgICAgaWYocCA9PSAnZGFzaCcgfHwgcCA9PSAnZG90Jyl7DQogICAgICAgICAgICAgICAgY3VzdG9tQ3NzLnB1c2goJ2xpLmxpc3QtJyArIGN1c3RvbVN0eWxlW3BdICsgJ3tiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgbGlpY29ucGF0aCArY3VzdG9tU3R5bGVbcF0rJy5naWYpfScpOw0KICAgICAgICAgICAgICAgIGN1c3RvbUNzcy5wdXNoKCd1bC5jdXN0b21fJytwKyd7bGlzdC1zdHlsZTpub25lO311bC5jdXN0b21fJytwKycgbGl7YmFja2dyb3VuZC1wb3NpdGlvbjowIDNweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9Jyk7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBmb3IodmFyIGk9IDA7aTw5OTtpKyspew0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nICsgY3VzdG9tU3R5bGVbcF0gKyBpICsgJ3tiYWNrZ3JvdW5kLWltYWdlOnVybCgnICsgbGlpY29ucGF0aCArICdsaXN0LScrY3VzdG9tU3R5bGVbcF0gKyBpICsgJy5naWYpfScpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGN1c3RvbUNzcy5wdXNoKCdvbC5jdXN0b21fJytwKyd7bGlzdC1zdHlsZTpub25lO31vbC5jdXN0b21fJytwKycgbGl7YmFja2dyb3VuZC1wb3NpdGlvbjowIDNweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9Jyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzd2l0Y2gocCl7DQogICAgICAgICAgICAgICAgY2FzZSAnY24nOg0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDoyNXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ye3BhZGRpbmctbGVmdDo0MHB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ze3BhZGRpbmctbGVmdDo1NXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdjbjEnOg0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDozMHB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ye3BhZGRpbmctbGVmdDo0MHB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ze3BhZGRpbmctbGVmdDo1NXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdjbjInOg0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDo0MHB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ye3BhZGRpbmctbGVmdDo1NXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0ze3BhZGRpbmctbGVmdDo2OHB4fScpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdudW0nOg0KICAgICAgICAgICAgICAgIGNhc2UgJ251bTEnOg0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDoyNXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdudW0yJzoNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ3NzLnB1c2goJ2xpLmxpc3QtJytwKyctcGFkZGluZ2xlZnQtMXtwYWRkaW5nLWxlZnQ6MzVweH0nKTsNCiAgICAgICAgICAgICAgICAgICAgY3VzdG9tQ3NzLnB1c2goJ2xpLmxpc3QtJytwKyctcGFkZGluZ2xlZnQtMntwYWRkaW5nLWxlZnQ6NDBweH0nKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSAnZGFzaCc6DQogICAgICAgICAgICAgICAgICAgIGN1c3RvbUNzcy5wdXNoKCdsaS5saXN0LScrcCsnLXBhZGRpbmdsZWZ0e3BhZGRpbmctbGVmdDozNXB4fScpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdkb3QnOg0KICAgICAgICAgICAgICAgICAgICBjdXN0b21Dc3MucHVzaCgnbGkubGlzdC0nK3ArJy1wYWRkaW5nbGVmdHtwYWRkaW5nLWxlZnQ6MjBweH0nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBjdXN0b21Dc3MucHVzaCgnLmxpc3QtcGFkZGluZ2xlZnQtMXtwYWRkaW5nLWxlZnQ6MH0nKTsNCiAgICAgICAgY3VzdG9tQ3NzLnB1c2goJy5saXN0LXBhZGRpbmdsZWZ0LTJ7cGFkZGluZy1sZWZ0OicrbWUub3B0aW9ucy5saXN0RGVmYXVsdFBhZGRpbmdMZWZ0KydweH0nKTsNCiAgICAgICAgY3VzdG9tQ3NzLnB1c2goJy5saXN0LXBhZGRpbmdsZWZ0LTN7cGFkZGluZy1sZWZ0OicrbWUub3B0aW9ucy5saXN0RGVmYXVsdFBhZGRpbmdMZWZ0KjIrJ3B4fScpOw0KICAgICAgICAvL+WmguaenOS4jee7meWuveW6puS8muWcqOiHquWumuW6lOagt+W8j+mHjOWHuueOsOa7muWKqOadoQ0KICAgICAgICB1dGlscy5jc3NSdWxlKCdsaXN0JywgJ29sLHVse21hcmdpbjowO3BhZGluZzowOycrKGJyb3dzZXIuaWUgPyAnJyA6ICd3aWR0aDo5NSUnKSsnfWxpe2NsZWFyOmJvdGg7fScrY3VzdG9tQ3NzLmpvaW4oJ1xuJyksIG1lLmRvY3VtZW50KTsNCiAgICB9KTsNCiAgICAvL+WNleeLrOWkhOeQhuWJquWIh+eahOmXrumimA0KICAgIG1lLnJlYWR5KGZ1bmN0aW9uKCl7DQogICAgICAgIGRvbVV0aWxzLm9uKG1lLmJvZHksJ2N1dCcsZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB2YXIgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksbGk7DQogICAgICAgICAgICAgICAgLy90cmFjZTozNDE2DQogICAgICAgICAgICAgICAgaWYoIXJuZy5jb2xsYXBzZWQpew0KICAgICAgICAgICAgICAgICAgICBpZihsaSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCdsaScsdHJ1ZSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWxpLm5leHRTaWJsaW5nICYmIGRvbVV0aWxzLmlzRW1wdHlCbG9jayhsaSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbiA9IGxpLnBhcmVudE5vZGUsbm9kZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlID0gcG4ucHJldmlvdXNTaWJsaW5nKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHBuKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QXRMYXN0KG5vZGUpLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKG5vZGUgPSBwbi5uZXh0U2libGluZyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCx0bXBOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG4ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wTm9kZSxwbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydCh0bXBOb2RlLDApLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICB9KTsNCg0KICAgIGZ1bmN0aW9uIGdldFN0eWxlKG5vZGUpew0KICAgICAgICB2YXIgY2xzID0gbm9kZS5jbGFzc05hbWU7DQogICAgICAgIGlmKGRvbVV0aWxzLmhhc0NsYXNzKG5vZGUsL2N1c3RvbV8vKSl7DQogICAgICAgICAgICByZXR1cm4gY2xzLm1hdGNoKC9jdXN0b21fKFx3KykvKVsxXQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBkb21VdGlscy5nZXRTdHlsZShub2RlLCAnbGlzdC1zdHlsZS10eXBlJykNCg0KICAgIH0NCg0KICAgIG1lLmFkZExpc3RlbmVyKCdiZWZvcmVwYXN0ZScsZnVuY3Rpb24odHlwZSxodG1sKXsNCiAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGxpOw0KICAgICAgICB2YXIgcm9vdCA9IFVFLmh0bWxwYXJzZXIoaHRtbC5odG1sLHRydWUpOw0KICAgICAgICBpZihsaSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCdsaScsdHJ1ZSkpew0KICAgICAgICAgICAgdmFyIGxpc3QgPSBsaS5wYXJlbnROb2RlLHRhZ05hbWUgPSBsaXN0LnRhZ05hbWUgPT0gJ09MJyA/ICd1bCc6J29sJzsNCiAgICAgICAgICAgIHV0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSh0YWdOYW1lKSxmdW5jdGlvbihuKXsNCiAgICAgICAgICAgICAgICBuLnRhZ05hbWUgPSBsaXN0LnRhZ05hbWU7DQogICAgICAgICAgICAgICAgbi5zZXRBdHRyKCk7DQogICAgICAgICAgICAgICAgaWYobi5wYXJlbnROb2RlID09PSByb290KXsNCiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGdldFN0eWxlKGxpc3QpIHx8IChsaXN0LnRhZ05hbWUgPT0gJ09MJyA/ICdkZWNpbWFsJyA6ICdkaXNjJykNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG4ucGFyZW50Tm9kZS5nZXRBdHRyKCdjbGFzcycpOw0KICAgICAgICAgICAgICAgICAgICBpZihjbGFzc05hbWUgJiYgL2N1c3RvbV8vLnRlc3QoY2xhc3NOYW1lKSl7DQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gY2xhc3NOYW1lLm1hdGNoKC9jdXN0b21fKFx3KykvKVsxXQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBuLnBhcmVudE5vZGUuZ2V0U3R5bGUoJ2xpc3Qtc3R5bGUtdHlwZScpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCF0eXBlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUgPSBsaXN0LnRhZ05hbWUgPT0gJ09MJyA/ICdkZWNpbWFsJyA6ICdkaXNjJzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB1dGlscy5pbmRleE9mKGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLCB0eXBlKTsNCiAgICAgICAgICAgICAgICBpZihuLnBhcmVudE5vZGUgIT09IHJvb3QpDQogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyAxID09IGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLmxlbmd0aCA/IDAgOiBpbmRleCArIDE7DQogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdW2luZGV4XTsNCiAgICAgICAgICAgICAgICBpZihjdXN0b21TdHlsZVtjdXJyZW50U3R5bGVdKXsNCiAgICAgICAgICAgICAgICAgICAgbi5zZXRBdHRyKCdjbGFzcycsICdjdXN0b21fJyArIGN1cnJlbnRTdHlsZSkNCg0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBuLnNldFN0eWxlKCdsaXN0LXN0eWxlLXR5cGUnLGN1cnJlbnRTdHlsZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KDQogICAgICAgIH0NCg0KICAgICAgICBodG1sLmh0bWwgPSByb290LnRvSHRtbCgpOw0KICAgIH0pOw0KICAgIC8v6L+b5YWl57yW6L6R5Zmo55qEbGnopoHlpZdw5qCH562+DQogICAgbWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpew0KICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ2xpJyksZnVuY3Rpb24obGkpew0KICAgICAgICAgICAgdmFyIHRtcFAgPSBVRS51Tm9kZS5jcmVhdGVFbGVtZW50KCdwJyk7DQogICAgICAgICAgICBmb3IodmFyIGk9IDAsY2k7Y2k9bGkuY2hpbGRyZW5baV07KXsNCiAgICAgICAgICAgICAgICBpZihjaS50eXBlID09ICd0ZXh0JyB8fCBkdGQucFtjaS50YWdOYW1lXSl7DQogICAgICAgICAgICAgICAgICAgIHRtcFAuYXBwZW5kQ2hpbGQoY2kpOw0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpZih0bXBQLmZpcnN0Q2hpbGQoKSl7DQogICAgICAgICAgICAgICAgICAgICAgICBsaS5pbnNlcnRCZWZvcmUodG1wUCxjaSk7DQogICAgICAgICAgICAgICAgICAgICAgICB0bXBQID0gVUUudU5vZGUuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkgKyAyOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGkrKzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYodG1wUC5maXJzdENoaWxkKCkgJiYgIXRtcFAucGFyZW50Tm9kZSB8fCAhbGkuZmlyc3RDaGlsZCgpKXsNCiAgICAgICAgICAgICAgICBsaS5hcHBlbmRDaGlsZCh0bXBQKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vdHJhY2U6MzM1Nw0KICAgICAgICAgICAgLy9w5LiN6IO95Li656m6DQogICAgICAgICAgICBpZiAoIXRtcFAuZmlyc3RDaGlsZCgpKSB7DQogICAgICAgICAgICAgICAgdG1wUC5pbm5lckhUTUwoYnJvd3Nlci5pZSA/ICcmbmJzcDsnIDogJzxici8+JykNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5Y675o6J5pyr5bC+55qE56m655m9DQogICAgICAgICAgICB2YXIgcCA9IGxpLmZpcnN0Q2hpbGQoKTsNCiAgICAgICAgICAgIHZhciBsYXN0Q2hpbGQgPSBwLmxhc3RDaGlsZCgpOw0KICAgICAgICAgICAgaWYobGFzdENoaWxkICYmIGxhc3RDaGlsZC50eXBlID09ICd0ZXh0JyAmJiAvXlxzKiQvLnRlc3QobGFzdENoaWxkLmRhdGEpKXsNCiAgICAgICAgICAgICAgICBwLnJlbW92ZUNoaWxkKGxhc3RDaGlsZCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGlmKG1lLm9wdGlvbnMuYXV0b1RyYW5zV29yZFRvTGlzdCl7DQogICAgICAgICAgICB2YXIgb3JkZXJsaXN0dHlwZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ251bTEnOi9eXGQrXCkvLA0KICAgICAgICAgICAgICAgICAgICAnZGVjaW1hbCc6L15cZCtcLi8sDQogICAgICAgICAgICAgICAgICAgICdsb3dlci1hbHBoYSc6L15bYS16XStcKS8sDQogICAgICAgICAgICAgICAgICAgICd1cHBlci1hbHBoYSc6L15bQS1aXStcLi8sDQogICAgICAgICAgICAgICAgICAgICdjbic6L15bXHU0RTAwXHU0RThDXHU0RTA5XHU1NkRCXHU1MTZkXHU0ZTk0XHU0ZTAzXHU1MTZiXHU0ZTVkXStbXHUzMDAxXS8sDQogICAgICAgICAgICAgICAgICAgICdjbjInOi9eXChbXHU0RTAwXHU0RThDXHU0RTA5XHU1NkRCXHU1MTZkXHU0ZTk0XHU0ZTAzXHU1MTZiXHU0ZTVkXStcKS8NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHVub3JkZXJsaXN0dHlwZSA9IHsNCiAgICAgICAgICAgICAgICAgICAgJ3NxdWFyZSc6J24nDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIGZ1bmN0aW9uIGNoZWNrTGlzdFR5cGUoY29udGVudCxjb250YWluZXIpew0KICAgICAgICAgICAgICAgIHZhciBzcGFuID0gY29udGFpbmVyLmZpcnN0Q2hpbGQoKTsNCiAgICAgICAgICAgICAgICBpZihzcGFuICYmICBzcGFuLnR5cGUgPT0gJ2VsZW1lbnQnICYmIHNwYW4udGFnTmFtZSA9PSAnc3BhbicgJiYgL1dpbmdkaW5nc3xTeW1ib2wvLnRlc3Qoc3Bhbi5nZXRTdHlsZSgnZm9udC1mYW1pbHknKSkpew0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIHAgaW4gdW5vcmRlcmxpc3R0eXBlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHVub3JkZXJsaXN0dHlwZVtwXSA9PSBzcGFuLmRhdGEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNjJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBmb3IodmFyIHAgaW4gb3JkZXJsaXN0dHlwZSl7DQogICAgICAgICAgICAgICAgICAgIGlmKG9yZGVybGlzdHR5cGVbcF0udGVzdChjb250ZW50KSl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCdwJyksZnVuY3Rpb24obm9kZSl7DQogICAgICAgICAgICAgICAgaWYobm9kZS5nZXRBdHRyKCdjbGFzcycpICE9ICdNc29MaXN0UGFyYWdyYXBoJyl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vd29yZOeymOi0tOi/h+adpeeahOS8muW4puaciW1hcmdpbuimgeWOu+aOiSzkvYbov5nmoLfkuZ/lj6/og73kvJror6/lkb3kuK3kuIDkupvlpK7op4YNCiAgICAgICAgICAgICAgICBub2RlLnNldFN0eWxlKCdtYXJnaW4nLCcnKTsNCiAgICAgICAgICAgICAgICBub2RlLnNldFN0eWxlKCdtYXJnaW4tbGVmdCcsJycpOw0KICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cignY2xhc3MnLCcnKTsNCg0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFwcGVuZExpKGxpc3QscCx0eXBlKXsNCiAgICAgICAgICAgICAgICAgICAgaWYobGlzdC50YWdOYW1lID09ICdvbCcpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5pZSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gcC5maXJzdENoaWxkKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlyc3QudHlwZSA9PSdlbGVtZW50JyAmJiBmaXJzdC50YWdOYW1lID09ICdzcGFuJyAmJiBvcmRlcmxpc3R0eXBlW3R5cGVdLnRlc3QoZmlyc3QuaW5uZXJUZXh0KCkpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5yZW1vdmVDaGlsZChmaXJzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5pbm5lckhUTUwocC5pbm5lckhUTUwoKS5yZXBsYWNlKG9yZGVybGlzdHR5cGVbdHlwZV0sJycpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBwLnJlbW92ZUNoaWxkKHAuZmlyc3RDaGlsZCgpKQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxpID0gVUUudU5vZGUuY3JlYXRlRWxlbWVudCgnbGknKTsNCiAgICAgICAgICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQocCk7DQogICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQobGkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgdG1wID0gbm9kZSx0eXBlLGNhY2hlTm9kZSA9IG5vZGU7DQoNCiAgICAgICAgICAgICAgICBpZihub2RlLnBhcmVudE5vZGUudGFnTmFtZSAhPSAnbGknICYmICh0eXBlID0gY2hlY2tMaXN0VHlwZShub2RlLmlubmVyVGV4dCgpLG5vZGUpKSl7DQoNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBVRS51Tm9kZS5jcmVhdGVFbGVtZW50KG1lLm9wdGlvbnMuaW5zZXJ0b3JkZXJlZGxpc3QuaGFzT3duUHJvcGVydHkodHlwZSkgPyAnb2wnIDogJ3VsJyk7DQogICAgICAgICAgICAgICAgICAgIGlmKGN1c3RvbVN0eWxlW3R5cGVdKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc2V0QXR0cignY2xhc3MnLCdjdXN0b21fJyt0eXBlKQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc2V0U3R5bGUoJ2xpc3Qtc3R5bGUtdHlwZScsdHlwZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB3aGlsZShub2RlICYmIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lICE9ICdsaScgJiYgY2hlY2tMaXN0VHlwZShub2RlLmlubmVyVGV4dCgpLG5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IG5vZGUubmV4dFNpYmxpbmcoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCF0bXApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGlzdCxub2RlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kTGkobGlzdCxub2RlLHR5cGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IHRtcDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZighbGlzdC5wYXJlbnROb2RlICYmIG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGlzdCxub2RlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBzcGFuID0gY2FjaGVOb2RlLmZpcnN0Q2hpbGQoKTsNCiAgICAgICAgICAgICAgICBpZihzcGFuICYmIHNwYW4udHlwZSA9PSAnZWxlbWVudCcgJiYgc3Bhbi50YWdOYW1lID09ICdzcGFuJyAmJiAvXlxzKigmbmJzcDspK1xzKiQvLnRlc3Qoc3Bhbi5pbm5lclRleHQoKSkpew0KICAgICAgICAgICAgICAgICAgICBzcGFuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3BhbikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQoNCiAgICB9KTsNCg0KICAgIC8v6LCD5pW057Si5byV5qCH562+DQogICAgbWUuYWRkTGlzdGVuZXIoJ2NvbnRlbnRjaGFuZ2UnLGZ1bmN0aW9uKCl7DQogICAgICAgIGFkanVzdExpc3RTdHlsZShtZS5kb2N1bWVudCkNCiAgICB9KTsNCg0KICAgIGZ1bmN0aW9uIGFkanVzdExpc3RTdHlsZShkb2MsaWdub3JlKXsNCiAgICAgICAgdXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShkb2MsJ29sIHVsJyksZnVuY3Rpb24obm9kZSl7DQoNCiAgICAgICAgICAgIGlmKCFkb21VdGlscy5pbkRvYyhub2RlLGRvYykpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgaWYocGFyZW50LnRhZ05hbWUgPT0gbm9kZS50YWdOYW1lKXsNCiAgICAgICAgICAgICAgICB2YXIgbm9kZVN0eWxlVHlwZSA9IGdldFN0eWxlKG5vZGUpIHx8IChub2RlLnRhZ05hbWUgPT0gJ09MJyA/ICdkZWNpbWFsJyA6ICdkaXNjJyksDQogICAgICAgICAgICAgICAgICAgIHBhcmVudFN0eWxlVHlwZSA9IGdldFN0eWxlKHBhcmVudCkgfHwgKHBhcmVudC50YWdOYW1lID09ICdPTCcgPyAnZGVjaW1hbCcgOiAnZGlzYycpOw0KICAgICAgICAgICAgICAgIGlmKG5vZGVTdHlsZVR5cGUgPT0gcGFyZW50U3R5bGVUeXBlKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlSW5kZXggPSB1dGlscy5pbmRleE9mKGxpc3RTdHlsZVtub2RlLnRhZ05hbWVdLCBub2RlU3R5bGVUeXBlKTsNCiAgICAgICAgICAgICAgICAgICAgc3R5bGVJbmRleCA9IHN0eWxlSW5kZXggKyAxID09IGxpc3RTdHlsZVtub2RlLnRhZ05hbWVdLmxlbmd0aCA/IDAgOiBzdHlsZUluZGV4ICsgMTsNCiAgICAgICAgICAgICAgICAgICAgc2V0TGlzdFN0eWxlKG5vZGUsbGlzdFN0eWxlW25vZGUudGFnTmFtZV1bc3R5bGVJbmRleF0pDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgaW5kZXggPSAwLHR5cGUgPSAyOw0KICAgICAgICAgICAgaWYoIGRvbVV0aWxzLmhhc0NsYXNzKG5vZGUsL2N1c3RvbV8vKSl7DQogICAgICAgICAgICAgICAgaWYoISgvW291XWwvaS50ZXN0KHBhcmVudC50YWdOYW1lKSAmJiBkb21VdGlscy5oYXNDbGFzcyhwYXJlbnQsL2N1c3RvbV8vKSkpew0KICAgICAgICAgICAgICAgICAgICB0eXBlID0gMTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICBpZigvW291XWwvaS50ZXN0KHBhcmVudC50YWdOYW1lKSAmJiBkb21VdGlscy5oYXNDbGFzcyhwYXJlbnQsL2N1c3RvbV8vKSl7DQogICAgICAgICAgICAgICAgICAgIHR5cGUgPSAzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9tVXRpbHMuZ2V0U3R5bGUobm9kZSwgJ2xpc3Qtc3R5bGUtdHlwZScpOw0KICAgICAgICAgICAgc3R5bGUgJiYgKG5vZGUuc3R5bGUuY3NzVGV4dCA9ICdsaXN0LXN0eWxlLXR5cGU6JyArIHN0eWxlKTsNCiAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gdXRpbHMudHJpbShub2RlLmNsYXNzTmFtZS5yZXBsYWNlKC9saXN0LXBhZGRpbmdsZWZ0LVx3Ky8sJycpKSArICcgbGlzdC1wYWRkaW5nbGVmdC0nICsgdHlwZTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZSwnbGknKSxmdW5jdGlvbihsaSl7DQogICAgICAgICAgICAgICAgbGkuc3R5bGUuY3NzVGV4dCAmJiAobGkuc3R5bGUuY3NzVGV4dCA9ICcnKTsNCiAgICAgICAgICAgICAgICBpZighbGkuZmlyc3RDaGlsZCl7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShsaSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYobGkucGFyZW50Tm9kZSAhPT0gbm9kZSl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaW5kZXgrKzsNCiAgICAgICAgICAgICAgICBpZihkb21VdGlscy5oYXNDbGFzcyhub2RlLC9jdXN0b21fLykgKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmdMZWZ0ID0gMSxjdXJyZW50U3R5bGUgPSBnZXRTdHlsZShub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYobm9kZS50YWdOYW1lID09ICdPTCcpew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudFN0eWxlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2goY3VycmVudFN0eWxlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY24nIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY24xJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY24yJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID4gMTAgJiYgKGluZGV4ICUgMTAgPT0gMCB8fCBpbmRleCA+IDEwICYmIGluZGV4IDwgMjApKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdCA9IDINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKGluZGV4ID4gMjApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0ID0gMw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ251bTInIDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGluZGV4ID4gOSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSAyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbGkuY2xhc3NOYW1lID0gJ2xpc3QtJytjdXN0b21TdHlsZVtjdXJyZW50U3R5bGVdKyBpbmRleCArICcgJyArICdsaXN0LScrY3VycmVudFN0eWxlKyctcGFkZGluZ2xlZnQtJyArIHBhZGRpbmdMZWZ0Ow0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpLmNsYXNzTmFtZSA9ICdsaXN0LScrY3VzdG9tU3R5bGVbY3VycmVudFN0eWxlXSAgKyAnICcgKyAnbGlzdC0nK2N1cnJlbnRTdHlsZSsnLXBhZGRpbmdsZWZ0JzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBsaS5jbGFzc05hbWUgPSBsaS5jbGFzc05hbWUucmVwbGFjZSgvbGlzdC1bXHdcLV0rL2dpLCcnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGxpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTsNCiAgICAgICAgICAgICAgICBpZihjbGFzc05hbWUgIT09IG51bGwgJiYgIWNsYXNzTmFtZS5yZXBsYWNlKC9ccy9nLCcnKSl7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMobGksJ2NsYXNzJykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICFpZ25vcmUgJiYgYWRqdXN0TGlzdChub2RlLG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGdldFN0eWxlKG5vZGUpfHxkb21VdGlscy5nZXRTdHlsZShub2RlLCAnbGlzdC1zdHlsZS10eXBlJyksdHJ1ZSk7DQogICAgICAgIH0pDQogICAgfQ0KICAgIGZ1bmN0aW9uIGFkanVzdExpc3QobGlzdCwgdGFnLCBzdHlsZSxpZ25vcmVFbXB0eSkgew0KICAgICAgICB2YXIgbmV4dExpc3QgPSBsaXN0Lm5leHRTaWJsaW5nOw0KICAgICAgICBpZiAobmV4dExpc3QgJiYgbmV4dExpc3Qubm9kZVR5cGUgPT0gMSAmJiBuZXh0TGlzdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdGFnICYmIChnZXRTdHlsZShuZXh0TGlzdCkgfHwgZG9tVXRpbHMuZ2V0U3R5bGUobmV4dExpc3QsICdsaXN0LXN0eWxlLXR5cGUnKSB8fCAodGFnID09ICdvbCcgPyAnZGVjaW1hbCcgOiAnZGlzYycpKSA9PSBzdHlsZSkgew0KICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKG5leHRMaXN0LCBsaXN0KTsNCiAgICAgICAgICAgIGlmIChuZXh0TGlzdC5jaGlsZE5vZGVzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5leHRMaXN0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpZihuZXh0TGlzdCAmJiBkb21VdGlscy5pc0ZpbGxDaGFyKG5leHRMaXN0KSl7DQogICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobmV4dExpc3QpOw0KICAgICAgICB9DQogICAgICAgIHZhciBwcmVMaXN0ID0gbGlzdC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgIGlmIChwcmVMaXN0ICYmIHByZUxpc3Qubm9kZVR5cGUgPT0gMSAmJiBwcmVMaXN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSB0YWcgJiYgKGdldFN0eWxlKHByZUxpc3QpIHx8IGRvbVV0aWxzLmdldFN0eWxlKHByZUxpc3QsICdsaXN0LXN0eWxlLXR5cGUnKSB8fCAodGFnID09ICdvbCcgPyAnZGVjaW1hbCcgOiAnZGlzYycpKSA9PSBzdHlsZSkgew0KICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKGxpc3QsIHByZUxpc3QpOw0KICAgICAgICB9DQogICAgICAgIGlmKHByZUxpc3QgJiYgZG9tVXRpbHMuaXNGaWxsQ2hhcihwcmVMaXN0KSl7DQogICAgICAgICAgICBkb21VdGlscy5yZW1vdmUocHJlTGlzdCk7DQogICAgICAgIH0NCiAgICAgICAgIWlnbm9yZUVtcHR5ICYmIGRvbVV0aWxzLmlzRW1wdHlCbG9jayhsaXN0KSAmJiBkb21VdGlscy5yZW1vdmUobGlzdCk7DQogICAgICAgIGlmKGdldFN0eWxlKGxpc3QpKXsNCiAgICAgICAgICAgIGFkanVzdExpc3RTdHlsZShsaXN0Lm93bmVyRG9jdW1lbnQsdHJ1ZSkNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldExpc3RTdHlsZShsaXN0LHN0eWxlKXsNCiAgICAgICAgaWYoY3VzdG9tU3R5bGVbc3R5bGVdKXsNCiAgICAgICAgICAgIGxpc3QuY2xhc3NOYW1lID0gJ2N1c3RvbV8nICsgc3R5bGU7DQogICAgICAgIH0NCiAgICAgICAgdHJ5ew0KICAgICAgICAgICAgZG9tVXRpbHMuc2V0U3R5bGUobGlzdCwgJ2xpc3Qtc3R5bGUtdHlwZScsIHN0eWxlKTsNCiAgICAgICAgfWNhdGNoKGUpe30NCiAgICB9DQogICAgZnVuY3Rpb24gY2xlYXJFbXB0eVNpYmxpbmcobm9kZSkgew0KICAgICAgICB2YXIgdG1wTm9kZSA9IG5vZGUucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICBpZiAodG1wTm9kZSAmJiBkb21VdGlscy5pc0VtcHR5QmxvY2sodG1wTm9kZSkpIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTsNCiAgICAgICAgfQ0KICAgICAgICB0bXBOb2RlID0gbm9kZS5uZXh0U2libGluZzsNCiAgICAgICAgaWYgKHRtcE5vZGUgJiYgZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHRtcE5vZGUpKSB7DQogICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBtZS5hZGRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uICh0eXBlLCBldnQpIHsNCiAgICAgICAgZnVuY3Rpb24gcHJldmVudEFuZFNhdmUoKSB7DQogICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQgPyBldnQucHJldmVudERlZmF1bHQoKSA6IChldnQucmV0dXJuVmFsdWUgPSBmYWxzZSk7DQogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2NvbnRlbnRjaGFuZ2UnKTsNCiAgICAgICAgICAgIG1lLnVuZG9NYW5nZXIgJiYgbWUudW5kb01hbmdlci5zYXZlKCk7DQogICAgICAgIH0NCiAgICAgICAgZnVuY3Rpb24gZmluZExpc3Qobm9kZSxmaWx0ZXJGbil7DQogICAgICAgICAgICB3aGlsZShub2RlICYmICFkb21VdGlscy5pc0JvZHkobm9kZSkpew0KICAgICAgICAgICAgICAgIGlmKGZpbHRlckZuKG5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYobm9kZS5ub2RlVHlwZSA9PSAxICYmIC9bb3VdbC9pLnRlc3Qobm9kZS50YWdOYW1lKSl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZSB8fCBldnQud2hpY2g7DQogICAgICAgIGlmIChrZXlDb2RlID09IDEzICYmICFldnQuc2hpZnRLZXkpIHsvL+Wbnui9pg0KICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHBhcmVudCA9IGRvbVV0aWxzLmZpbmRQYXJlbnQocm5nLnN0YXJ0Q29udGFpbmVyLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5pc0Jsb2NrRWxtKG5vZGUpfSx0cnVlKSwNCiAgICAgICAgICAgICAgICBsaSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCdsaScsdHJ1ZSk7DQogICAgICAgICAgICBpZihwYXJlbnQgJiYgcGFyZW50LnRhZ05hbWUgIT0gJ1BSRScgJiYgIWxpKXsNCiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IHBhcmVudC5pbm5lckhUTUwucmVwbGFjZShuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCAnZycpLCcnKTsNCiAgICAgICAgICAgICAgICBpZigvXlxzKjFccypcLlteXGRdLy50ZXN0KGh0bWwpKXsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50LmlubmVySFRNTCA9IGh0bWwucmVwbGFjZSgvXlxzKjFccypcLi8sJycpOw0KICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnRBdExhc3QocGFyZW50KS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2luc2VydG9yZGVyZWRsaXN0Jyk7DQogICAgICAgICAgICAgICAgICAgIG1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gZmluZExpc3QocmFuZ2Uuc3RhcnRDb250YWluZXIsZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudGFnTmFtZSA9PSAnVEFCTEUnOw0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgIGVuZCA9IHJhbmdlLmNvbGxhcHNlZCA/IHN0YXJ0IDogZmluZExpc3QocmFuZ2UuZW5kQ29udGFpbmVyLGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLnRhZ05hbWUgPT0gJ1RBQkxFJzsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKHN0YXJ0ICYmIGVuZCAmJiBzdGFydCA9PT0gZW5kKSB7DQoNCiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsICdsaScsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBlbmQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLmVuZENvbnRhaW5lciwgJ2xpJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydCAmJiBlbmQgJiYgc3RhcnQgPT09IGVuZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwgJ2xpJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobGkgJiYgZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGxpKSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlID0gbGkucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQgPSBsaS5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQsIHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudExpc3QgPSBsaS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmUgJiYgbmV4dCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChuZXh0LCAwKS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShsaSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZSAmJiAhbmV4dCB8fCAhcHJlKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudExpc3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCwgcGFyZW50TGlzdCk7DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGkucGFyZW50Tm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLCBwYXJlbnRMaXN0Lm5leHRTaWJsaW5nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobGkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcmVudExpc3QuZmlyc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHBhcmVudExpc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHAsIDApLnNldEN1cnNvcigpOw0KDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudEFuZFNhdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBSYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiayA9IHRtcFJhbmdlLmNvbGxhcHNlKGZhbHNlKS5jcmVhdGVCb29rbWFyaygpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2UubW92ZVRvQm9va21hcmsoYmspOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0bXBSYW5nZS5zdGFydENvbnRhaW5lciwgJ2xpJywgdHJ1ZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyRW1wdHlTaWJsaW5nKGxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJldmVudEFuZFNhdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgbGkgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCAnbGknLCB0cnVlKTsNCg0KICAgICAgICAgICAgICAgIGlmIChsaSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGxpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYmsgPSByYW5nZS5jcmVhdGVCb29rbWFyaygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudExpc3QgPSBsaS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxpICE9PSBwYXJlbnRMaXN0Lmxhc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmJyZWFrUGFyZW50KGxpLCBwYXJlbnRMaXN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckVtcHR5U2libGluZyhsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50TGlzdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsaSwgcGFyZW50TGlzdC5uZXh0U2libGluZyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHBhcmVudExpc3QpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwYXJlbnRMaXN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvL+W1jOWll+S4jeWkhOeQhg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkdGQuJGxpc3RbbGkucGFyZW50Tm9kZS50YWdOYW1lXSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb21VdGlscy5pc0Jsb2NrRWxtKGxpLmZpcnN0Q2hpbGQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsIGxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxpLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobGksIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKTsNCg0KDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSBsaS5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCB8fCAhZG9tVXRpbHMuaXNCbG9ja0VsbShmaXJzdCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICFsaS5maXJzdENoaWxkICYmIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCBwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobGkuZmlyc3RDaGlsZCkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpLmFwcGVuZENoaWxkKHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYW4gPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5icmVha1BhcmVudChzcGFuLCBsaSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0TGkgPSBzcGFuLm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBuZXh0TGkuZmlyc3RDaGlsZDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaXJzdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCwgcCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dExpLmFwcGVuZENoaWxkKHApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb21VdGlscy5pc0VtcHR5Tm9kZShmaXJzdCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdC5pbm5lckhUTUwgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCwgZmlyc3QpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChmaXJzdCwgMCkuY29sbGFwc2UodHJ1ZSkuc2hyaW5rQm91bmRhcnkoKS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShzcGFuKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmUgPSBuZXh0TGkucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZSAmJiBkb21VdGlscy5pc0VtcHR5QmxvY2socHJlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZS5pbm5lckhUTUwgPSAnPHA+PC9wPic7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQsIHByZS5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcHJldmVudEFuZFNhdmUoKTsNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgfQ0KICAgICAgICBpZiAoa2V5Q29kZSA9PSA4KSB7DQogICAgICAgICAgICAvL+S/ruS4rWll5LitbGnkuIvnmoTpl67popgNCiAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkICYmIGRvbVV0aWxzLmlzU3RhcnRJbmJsb2NrKHJhbmdlKSkgew0KICAgICAgICAgICAgICAgIHRtcFJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpLnRyaW1Cb3VuZGFyeSgpOw0KICAgICAgICAgICAgICAgIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwgJ2xpJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgLy/opoHlnKhsaeeahOacgOW3pui+ue+8jOaJjeiDveWkhOeQhg0KICAgICAgICAgICAgICAgIGlmIChsaSAmJiBkb21VdGlscy5pc1N0YXJ0SW5ibG9jayh0bXBSYW5nZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCAncCcsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnQgJiYgc3RhcnQgIT09IGxpLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRMaXN0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCxbJ29sJywndWwnXSk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5icmVha1BhcmVudChzdGFydCxwYXJlbnRMaXN0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyRW1wdHlTaWJsaW5nKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBpZiAobGkgJiYgKHByZSA9IGxpLnByZXZpb3VzU2libGluZykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXlDb2RlID09IDQ2ICYmIGxpLmNoaWxkTm9kZXMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy/mnInlj6/og73kuIrovrnnmoTlhYTlvJ/oioLngrnmmK/kuKoy57qn6I+c5Y2V77yM6KaB6L+95Yqg5YiwMue6p+iPnOWNleeahOacgOWQjueahGxpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHRkLiRsaXN0W3ByZS50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZSA9IHByZS5sYXN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBtZS51bmRvTWFuZ2VyICYmIG1lLnVuZG9NYW5nZXIuc2F2ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3QgPSBsaS5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzQmxvY2tFbG0oZmlyc3QpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKGZpcnN0KSkgew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQocHJlLCBwcmUuY2hpbGROb2Rlcy5sZW5ndGgpLnNocmlua0JvdW5kYXJ5KCkuY29sbGFwc2UoKS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZS5hcHBlbmRDaGlsZChmaXJzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGZpcnN0LCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZpcnN05LiN5piv5ZSv5LiA55qE6IqC54K5DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsaS5maXJzdENoaWxkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUuYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4gPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Yik5patcHJl5piv5ZCm5piv56m655qE6IqC54K5LOWmguaenOaYrzxwPjxici8+PC9wPuexu+Wei+eahOepuuiKgueCue+8jOW5suaOiXDmoIfnrb7pmLLmraLlroPljaDkvY0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUuaW5uZXJIVE1MID0gJyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKGxpLCBwcmUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShzcGFuKS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHNwYW4pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eU5vZGUobGkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmUuYXBwZW5kQ2hpbGQocCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHAsIDApLnNldEN1cnNvcigpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQocHJlLCBwcmUuY2hpbGROb2Rlcy5sZW5ndGgpLnNocmlua0JvdW5kYXJ5KCkuY29sbGFwc2UoKS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKHByZSwgcHJlLmNoaWxkTm9kZXMubGVuZ3RoKS5jb2xsYXBzZSgpLnNlbGVjdCh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGxpLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZS5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShsaSk7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2NvbnRlbnRjaGFuZ2UnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy90cmFjZTo5ODANCg0KICAgICAgICAgICAgICAgICAgICBpZiAobGkgJiYgIWxpLnByZXZpb3VzU2libGluZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudExpc3QgPSBsaS5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJrID0gcmFuZ2UuY3JlYXRlQm9va21hcmsoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzVGFnTm9kZShwYXJlbnRMaXN0LnBhcmVudE5vZGUsJ29sIHVsJykpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudExpc3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGkscGFyZW50TGlzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUocGFyZW50TGlzdCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUocGFyZW50TGlzdCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGxpLmZpcnN0Q2hpbGQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRMaXN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpLmZpcnN0Q2hpbGQscGFyZW50TGlzdCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGxpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0VtcHR5Tm9kZShwYXJlbnRMaXN0KSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwYXJlbnRMaXN0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNldEN1cnNvcihmYWxzZSx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIG1lLmFkZExpc3RlbmVyKCdrZXl1cCcsZnVuY3Rpb24odHlwZSwgZXZ0KXsNCiAgICAgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZSB8fCBldnQud2hpY2g7DQogICAgICAgIGlmIChrZXlDb2RlID09IDgpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxsaXN0Ow0KICAgICAgICAgICAgaWYobGlzdCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLFsnb2wnLCAndWwnXSx0cnVlKSl7DQogICAgICAgICAgICAgICAgYWRqdXN0TGlzdChsaXN0LGxpc3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGdldFN0eWxlKGxpc3QpfHxkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGxpc3QsJ2xpc3Qtc3R5bGUtdHlwZScpLHRydWUpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCiAgICAvL+WkhOeQhnRhYumUrg0KICAgIG1lLmFkZExpc3RlbmVyKCd0YWJrZXlkb3duJyxmdW5jdGlvbigpew0KDQogICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KDQogICAgICAgIC8v5o6n5Yi257qn5pWwDQogICAgICAgIGZ1bmN0aW9uIGNoZWNrTGV2ZWwobGkpew0KICAgICAgICAgICAgaWYobWUub3B0aW9ucy5tYXhMaXN0TGV2ZWwgIT0gLTEpew0KICAgICAgICAgICAgICAgIHZhciBsZXZlbCA9IGxpLnBhcmVudE5vZGUsbGV2ZWxOdW0gPSAwOw0KICAgICAgICAgICAgICAgIHdoaWxlKC9bb3VdbC9pLnRlc3QobGV2ZWwudGFnTmFtZSkpew0KICAgICAgICAgICAgICAgICAgICBsZXZlbE51bSsrOw0KICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IGxldmVsLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGxldmVsTnVtID49IG1lLm9wdGlvbnMubWF4TGlzdExldmVsKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8v5Y+q5Lul5byA5aeL5Li65YeGDQogICAgICAgIC8vdG9kbyDlkI7nu63mlLnov5sNCiAgICAgICAgdmFyIGxpID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwgJ2xpJywgdHJ1ZSk7DQogICAgICAgIGlmKGxpKXsNCg0KICAgICAgICAgICAgdmFyIGJrOw0KICAgICAgICAgICAgaWYocmFuZ2UuY29sbGFwc2VkKXsNCiAgICAgICAgICAgICAgICBpZihjaGVja0xldmVsKGxpKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgdmFyIHBhcmVudExpID0gbGkucGFyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICAgICAgbGlzdCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50TGkudGFnTmFtZSksDQogICAgICAgICAgICAgICAgICAgIGluZGV4ID0gdXRpbHMuaW5kZXhPZihsaXN0U3R5bGVbbGlzdC50YWdOYW1lXSwgZ2V0U3R5bGUocGFyZW50TGkpfHxkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudExpLCAnbGlzdC1zdHlsZS10eXBlJykpOw0KICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXggKyAxID09IGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLmxlbmd0aCA/IDAgOiBpbmRleCArIDE7DQogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTdHlsZSA9IGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdW2luZGV4XTsNCiAgICAgICAgICAgICAgICBzZXRMaXN0U3R5bGUobGlzdCxjdXJyZW50U3R5bGUpOw0KICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzU3RhcnRJbmJsb2NrKHJhbmdlKSl7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgICAgIGJrID0gcmFuZ2UuY3JlYXRlQm9va21hcmsoKTsNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50TGkuaW5zZXJ0QmVmb3JlKGxpc3QsIGxpKTsNCiAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChsaSk7DQogICAgICAgICAgICAgICAgICAgIGFkanVzdExpc3QobGlzdCxsaXN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxjdXJyZW50U3R5bGUpOw0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ2NvbnRlbnRjaGFuZ2UnKTsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICBiayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgZm9yKHZhciBpPSAwLGNsb3NlTGlzdCxwYXJlbnRzID0gZG9tVXRpbHMuZmluZFBhcmVudHMobGkpLGNpO2NpPXBhcmVudHNbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc1RhZ05vZGUoY2ksJ29sIHVsJykpew0KICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VMaXN0ID0gY2k7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IGxpOw0KICAgICAgICAgICAgICAgIGlmKGJrLmVuZCl7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlKGN1cnJlbnQgJiYgIShkb21VdGlscy5nZXRQb3NpdGlvbihjdXJyZW50LCBiay5lbmQpICYgZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihjaGVja0xldmVsKGN1cnJlbnQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCxmYWxzZSxudWxsLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlICE9PSBjbG9zZUxpc3R9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRMaSA9IGN1cnJlbnQucGFyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChwYXJlbnRMaS50YWdOYW1lKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHV0aWxzLmluZGV4T2YobGlzdFN0eWxlW2xpc3QudGFnTmFtZV0sIGdldFN0eWxlKHBhcmVudExpKXx8ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnRMaSwgJ2xpc3Qtc3R5bGUtdHlwZScpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SW5kZXggPSBpbmRleCArIDEgPT0gbGlzdFN0eWxlW2xpc3QudGFnTmFtZV0ubGVuZ3RoID8gMCA6IGluZGV4ICsgMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U3R5bGUgPSBsaXN0U3R5bGVbbGlzdC50YWdOYW1lXVtjdXJyZW50SW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0TGlzdFN0eWxlKGxpc3QsY3VycmVudFN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudExpLmluc2VydEJlZm9yZShsaXN0LCBjdXJyZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGN1cnJlbnQgJiYgIShkb21VdGlscy5nZXRQb3NpdGlvbihjdXJyZW50LCBiay5lbmQpICYgZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGkgPSBjdXJyZW50Lm5leHRTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kQ2hpbGQoY3VycmVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWxpIHx8IGRvbVV0aWxzLmlzVGFnTm9kZShsaSwnb2wgdWwnKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGxpID0gbGkuZmlyc3RDaGlsZCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobGkudGFnTmFtZSA9PSAnTEknKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCxmYWxzZSxudWxsLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlICE9PSBjbG9zZUxpc3R9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGxpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0TGlzdChsaXN0LGxpc3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpLGN1cnJlbnRTdHlsZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbGk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdjb250ZW50Y2hhbmdlJyk7DQogICAgICAgICAgICAgICAgcmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9KTsNCiAgICBmdW5jdGlvbiBnZXRMaShzdGFydCl7DQogICAgICAgIHdoaWxlKHN0YXJ0ICYmICFkb21VdGlscy5pc0JvZHkoc3RhcnQpKXsNCiAgICAgICAgICAgIGlmKHN0YXJ0Lm5vZGVOYW1lID09ICdUQUJMRScpew0KICAgICAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYoc3RhcnQubm9kZU5hbWUgPT0gJ0xJJyl7DQogICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzdGFydCA9IHN0YXJ0LnBhcmVudE5vZGU7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmnInluo/liJfooajvvIzkuI7igJxpbnNlcnR1bm9yZGVyZWRsaXN04oCd5ZG95Luk5LqS5palDQogICAgICogQGNvbW1hbmQgaW5zZXJ0b3JkZXJlZGxpc3QNCiAgICAgKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY29tbWFuZCDlkb3ku6TlrZfnrKbkuLINCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBzdHlsZSDmj5LlhaXnmoTmnInluo/liJfooajnsbvlnovvvIzlgLzkuLrvvJpkZWNpbWFsLGxvd2VyLWFscGhhLGxvd2VyLXJvbWFuLHVwcGVyLWFscGhhLHVwcGVyLXJvbWFuLGNuLGNuMSxjbjIsbnVtLG51bTEsbnVtMg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2luc2VydHVub3JkZXJlZGxpc3QnLCdkZWNpbWFsJyk7DQogICAgICogYGBgDQogICAgICovDQogICAgLyoqDQogICAgICog5p+l6K+i5b2T5YmN6YCJ5Yy65YaF5a655piv5ZCm5pyJ5bqP5YiX6KGoDQogICAgICogQGNvbW1hbmQgaW5zZXJ0b3JkZXJlZGxpc3QNCiAgICAgKiBAbWV0aG9kIHF1ZXJ5Q29tbWFuZFN0YXRlDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEByZXR1cm4geyBpbnQgfSDlpoLmnpzlvZPliY3pgInljLrmmK/mnInluo/liJfooajov5Tlm54x77yM5ZCm5YiZ6L+U5ZueMA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSggJ2luc2VydG9yZGVyZWRsaXN0JyApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIC8qKg0KICAgICAqIOafpeivouW9k+WJjemAieWMuuWGheWuueaYr+WQpuacieW6j+WIl+ihqA0KICAgICAqIEBjb21tYW5kIGluc2VydG9yZGVyZWRsaXN0DQogICAgICogQG1ldGhvZCBxdWVyeUNvbW1hbmRWYWx1ZQ0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH0g6L+U5Zue5b2T5YmN5pyJ5bqP5YiX6KGo55qE57G75Z6L77yM5YC85Li6bnVsbOaIlmRlY2ltYWwsbG93ZXItYWxwaGEsbG93ZXItcm9tYW4sdXBwZXItYWxwaGEsdXBwZXItcm9tYW4sY24sY24xLGNuMixudW0sbnVtMSxudW0yDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCAnaW5zZXJ0b3JkZXJlZGxpc3QnICk7DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDml6Dluo/liJfooajvvIzkuI7igJxpbnNlcnRvcmRlcmVkbGlzdOKAneWRveS7pOS6kuaWpQ0KICAgICAqIEBjb21tYW5kIGluc2VydHVub3JkZXJlZGxpc3QNCiAgICAgKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY29tbWFuZCDlkb3ku6TlrZfnrKbkuLINCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBzdHlsZSDmj5LlhaXnmoTml6Dluo/liJfooajnsbvlnovvvIzlgLzkuLrvvJpjaXJjbGUsZGlzYyxzcXVhcmUsZGFzaCxkb3QNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnR1bm9yZGVyZWRsaXN0JywnY2lyY2xlJyk7DQogICAgICogYGBgDQogICAgICovDQogICAgLyoqDQogICAgICog5p+l6K+i5b2T5YmN5piv5ZCm5pyJd29yZOaWh+aho+eymOi0tOi/m+adpeeahOWbvueJhw0KICAgICAqIEBjb21tYW5kIGluc2VydHVub3JkZXJlZGxpc3QNCiAgICAgKiBAbWV0aG9kIGluc2VydHVub3JkZXJlZGxpc3QNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjb21tYW5kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEByZXR1cm4geyBpbnQgfSDlpoLmnpzlvZPliY3pgInljLrmmK/ml6Dluo/liJfooajov5Tlm54x77yM5ZCm5YiZ6L+U5ZueMA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSggJ2luc2VydHVub3JkZXJlZGxpc3QnICk7DQogICAgICogYGBgDQogICAgICovDQogICAgLyoqDQogICAgICog5p+l6K+i5b2T5YmN6YCJ5Yy65YaF5a655piv5ZCm5pyJ5bqP5YiX6KGoDQogICAgICogQGNvbW1hbmQgaW5zZXJ0dW5vcmRlcmVkbGlzdA0KICAgICAqIEBtZXRob2QgcXVlcnlDb21tYW5kVmFsdWUNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjb21tYW5kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEByZXR1cm4geyBTdHJpbmcgfSDov5Tlm57lvZPliY3ml6Dluo/liJfooajnmoTnsbvlnovvvIzlgLzkuLpudWxs5oiWY2lyY2xlLGRpc2Msc3F1YXJlLGRhc2gsZG90DQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCAnaW5zZXJ0dW5vcmRlcmVkbGlzdCcgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIG1lLmNvbW1hbmRzWydpbnNlcnRvcmRlcmVkbGlzdCddID0NCiAgICBtZS5jb21tYW5kc1snaW5zZXJ0dW5vcmRlcmVkbGlzdCddID0gew0KICAgICAgICAgICAgZXhlY0NvbW1hbmQ6ZnVuY3Rpb24gKGNvbW1hbmQsIHN0eWxlKSB7DQoNCiAgICAgICAgICAgICAgICBpZiAoIXN0eWxlKSB7DQogICAgICAgICAgICAgICAgICAgIHN0eWxlID0gY29tbWFuZC50b0xvd2VyQ2FzZSgpID09ICdpbnNlcnRvcmRlcmVkbGlzdCcgPyAnZGVjaW1hbCcgOiAnZGlzYyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyRm4gPSBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAgbm9kZS5ub2RlVHlwZSA9PSAxID8gbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ2JyJyA6ICFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHRhZyA9IGNvbW1hbmQudG9Mb3dlckNhc2UoKSA9PSAnaW5zZXJ0b3JkZXJlZGxpc3QnID8gJ29sJyA6ICd1bCcsDQogICAgICAgICAgICAgICAgICAgIGZyYWcgPSBtZS5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7DQogICAgICAgICAgICAgICAgLy/ljrvmjonmmK/lm6DkuLrkvJrlh7rnjrDpgInliLDmnKvlsL7vvIzlr7zoh7RhZGp1c3RtZW50Qm91bmRhcnnnvKnliLBvbC91bOeahOS9jee9rg0KICAgICAgICAgICAgICAgIC8vcmFuZ2Uuc2hyaW5rQm91bmRhcnkoKTsvLy5hZGp1c3RtZW50Qm91bmRhcnkoKTsNCiAgICAgICAgICAgICAgICByYW5nZS5hZGp1c3RtZW50Qm91bmRhcnkoKS5zaHJpbmtCb3VuZGFyeSgpOw0KICAgICAgICAgICAgICAgIHZhciBia28gPSByYW5nZS5jcmVhdGVCb29rbWFyayh0cnVlKSwNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBnZXRMaShtZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChia28uc3RhcnQpKSwNCiAgICAgICAgICAgICAgICAgICAgbW9kaWZ5U3RhcnQgPSAwLA0KICAgICAgICAgICAgICAgICAgICBlbmQgPSAgZ2V0TGkobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmtvLmVuZCkpLA0KICAgICAgICAgICAgICAgICAgICBtb2RpZnlFbmQgPSAwLA0KICAgICAgICAgICAgICAgICAgICBzdGFydFBhcmVudCwgZW5kUGFyZW50LA0KICAgICAgICAgICAgICAgICAgICBsaXN0LCB0bXA7DQoNCiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgfHwgZW5kKSB7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0ICYmIChzdGFydFBhcmVudCA9IHN0YXJ0LnBhcmVudE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIWJrby5lbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IHN0YXJ0Ow0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVuZCAmJiAoZW5kUGFyZW50ID0gZW5kLnBhcmVudE5vZGUpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBhcmVudCA9PT0gZW5kUGFyZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnQgIT09IGVuZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IHN0YXJ0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb21VdGlscy5pc0Jsb2NrRWxtKHRtcC5maXJzdENoaWxkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRtcC5maXJzdENoaWxkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwLmFwcGVuZENoaWxkKHRtcC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAuYXBwZW5kQ2hpbGQocCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQodG1wKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0UGFyZW50Lmluc2VydEJlZm9yZSh0bXAsIGVuZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRvbVV0aWxzLmlzQmxvY2tFbG0oZW5kLmZpcnN0Q2hpbGQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZW5kLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcC5hcHBlbmRDaGlsZChlbmQuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZC5hcHBlbmRDaGlsZChwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQoZW5kKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmJyZWFrUGFyZW50KHRtcCwgc3RhcnRQYXJlbnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHRtcC5wcmV2aW91c1NpYmxpbmcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcC5wcmV2aW91c1NpYmxpbmcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHRtcC5uZXh0U2libGluZykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wLm5leHRTaWJsaW5nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vZGVTdHlsZSA9IGdldFN0eWxlKHN0YXJ0UGFyZW50KSB8fCBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHN0YXJ0UGFyZW50LCAnbGlzdC1zdHlsZS10eXBlJykgfHwgKGNvbW1hbmQudG9Mb3dlckNhc2UoKSA9PSAnaW5zZXJ0b3JkZXJlZGxpc3QnID8gJ2RlY2ltYWwnIDogJ2Rpc2MnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdGFydFBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT0gdGFnICYmIG5vZGVTdHlsZSA9PSBzdHlsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaSwgdG1wRnJhZyA9IG1lLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsgY2kgPSBmcmFnLmZpcnN0Q2hpbGQ7KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzVGFnTm9kZShjaSwnb2wgdWwnKSl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDliKDpmaTml7bvvIzlrZDliJfooajkuI3lpITnkIYNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2ksJ2xpJyksZnVuY3Rpb24obGkpew0KLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUobGkuZmlyc3RDaGlsZCl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRnJhZy5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCi8vDQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRnJhZy5hcHBlbmRDaGlsZChjaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNpLmZpcnN0Q2hpbGQpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEZyYWcuYXBwZW5kQ2hpbGQoY2kuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBGcmFnLCB0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldExpc3RTdHlsZShsaXN0LHN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZENoaWxkKGZyYWcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsaXN0LCB0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QgJiYgYWRqdXN0TGlzdChsaXN0LCB0YWcsIHN0eWxlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrbykuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy/lvIDlp4sNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoc3RhcnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBzdGFydC5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNUYWdOb2RlKHN0YXJ0LCAnb2wgdWwnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wZnJhZyA9IG1lLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Jsb2NrID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0LmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb21VdGlscy5pc0Jsb2NrRWxtKHN0YXJ0LmZpcnN0Q2hpbGQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQmxvY2sgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wZnJhZy5hcHBlbmRDaGlsZChzdGFydC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc0Jsb2NrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wUCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFAuYXBwZW5kQ2hpbGQodG1wZnJhZyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHRtcFApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZCh0bXBmcmFnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdG1wOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRQYXJlbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZnJhZywgc3RhcnRQYXJlbnQubmV4dFNpYmxpbmcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHN0YXJ0UGFyZW50KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHN0YXJ0UGFyZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnRQYXJlbnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKHN0YXJ0UGFyZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmeVN0YXJ0ID0gMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChlbmQgJiYgZG9tVXRpbHMuaW5Eb2MoZW5kUGFyZW50LCBtZS5kb2N1bWVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v57uT5p2fDQogICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGVuZFBhcmVudC5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0ICYmIHN0YXJ0ICE9PSBlbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBzdGFydC5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNUYWdOb2RlKHN0YXJ0LCAnb2wgdWwnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBmcmFnID0gbWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCbG9jayA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydC5maXJzdENoaWxkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNCbG9ja0VsbShzdGFydC5maXJzdENoaWxkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Jsb2NrID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcGZyYWcuYXBwZW5kQ2hpbGQoc3RhcnQuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNCbG9jaykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wUCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcFAuYXBwZW5kQ2hpbGQodG1wZnJhZyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHRtcFApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZCh0bXBmcmFnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHRtcDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBEaXYgPSBkb21VdGlscy5jcmVhdGVFbGVtZW50KG1lLmRvY3VtZW50LCAnZGl2Jywgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0bXBEaXYnOjENCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKGVuZCwgdG1wRGl2KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZCh0bXBEaXYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGVuZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlbmRQYXJlbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZnJhZywgZW5kUGFyZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEJlZm9yZShlbmRQYXJlbnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlOb2RlKGVuZFBhcmVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoZW5kUGFyZW50KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZ5RW5kID0gMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAoIW1vZGlmeVN0YXJ0KSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKG1lLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJrby5zdGFydCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoYmtvLmVuZCAmJiAhbW9kaWZ5RW5kKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZEFmdGVyKG1lLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJrby5lbmQpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmFuZ2UuZW5sYXJnZSh0cnVlLCBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90RXhjaGFuZ2Vbbm9kZS50YWdOYW1lXTsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGZyYWcgPSBtZS5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7DQoNCiAgICAgICAgICAgICAgICB2YXIgYmsgPSByYW5nZS5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYmsuc3RhcnQsIGZhbHNlLCBmaWx0ZXJGbiksDQogICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpLA0KICAgICAgICAgICAgICAgICAgICB0bXBOb2RlLA0KICAgICAgICAgICAgICAgICAgICBibG9jayA9IGRvbVV0aWxzLmlzQmxvY2tFbG07DQoNCiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBiay5lbmQgJiYgKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsIGJrLmVuZCkgJiBkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcpKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT0gMyB8fCBkdGQubGlbY3VycmVudC50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQubm9kZVR5cGUgPT0gMSAmJiBkdGQuJGxpc3RbY3VycmVudC50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50LmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5hcHBlbmRDaGlsZChjdXJyZW50LmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCwgZmFsc2UsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY3VycmVudCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHRtcE5vZGU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcE5vZGUgPSBjdXJyZW50Ow0KICAgICAgICAgICAgICAgICAgICAgICAgdG1wUmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY3VycmVudCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICYmIGN1cnJlbnQgIT09IGJrLmVuZCAmJiAoIWJsb2NrKGN1cnJlbnQpIHx8IGRvbVV0aWxzLmlzQm9va21hcmtOb2RlKGN1cnJlbnQpICkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gY3VycmVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCwgZmFsc2UsIG51bGwsIGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhbm90RXhjaGFuZ2Vbbm9kZS50YWdOYW1lXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgJiYgYmxvY2soY3VycmVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAgPSBkb21VdGlscy5nZXROZXh0RG9tTm9kZSh0bXBOb2RlLCBmYWxzZSwgZmlsdGVyRm4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXAgJiYgZG9tVXRpbHMuaXNCb29rbWFya05vZGUodG1wKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUodG1wLCBmYWxzZSwgZmlsdGVyRm4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gdG1wOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHRtcFJhbmdlLnNldEVuZEFmdGVyKHRtcE5vZGUpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUodG1wTm9kZSwgZmFsc2UsIGZpbHRlckZuKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpID0gcmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgbGkuYXBwZW5kQ2hpbGQodG1wUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUobGkpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSA9IHJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShsaS5maXJzdENoaWxkKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wTm9kZS5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaS5hcHBlbmRDaGlsZCh0bXBOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQobGkpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsIHRydWUsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByYW5nZS5tb3ZlVG9Cb29rbWFyayhiaykuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgbGlzdCA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsNCiAgICAgICAgICAgICAgICBzZXRMaXN0U3R5bGUobGlzdCxzdHlsZSk7DQogICAgICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChmcmFnKTsNCiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGxpc3QpOw0KICAgICAgICAgICAgICAgIC8v5b2T5YmNbGlzdOS4iuS4i+eci+iDveWQpuWQiOW5tg0KICAgICAgICAgICAgICAgIGFkanVzdExpc3QobGlzdCwgdGFnLCBzdHlsZSk7DQogICAgICAgICAgICAgICAgLy/ljrvmjonlhpfkvZnnmoR0bXBEaXYNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2ksIHRtcERpdnMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShsaXN0LCAnZGl2Jyk7IGNpID0gdG1wRGl2c1tpKytdOykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY2kuZ2V0QXR0cmlidXRlKCd0bXBEaXYnKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNpLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrbykuc2VsZWN0KCk7DQoNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbiAoY29tbWFuZCkgew0KICAgICAgICAgICAgICAgIHZhciB0YWcgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gJ2luc2VydG9yZGVyZWRsaXN0JyA/ICdvbCcgOiAndWwnOw0KICAgICAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpOw0KICAgICAgICAgICAgICAgIGZvcih2YXIgaT0gMCxjaTtjaSA9IHBhdGhbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBpZihjaS5ub2RlTmFtZSA9PSAnVEFCTEUnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYodGFnID09IGNpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDENCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIDA7DQoNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbiAoY29tbWFuZCkgew0KICAgICAgICAgICAgICAgIHZhciB0YWcgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gJ2luc2VydG9yZGVyZWRsaXN0JyA/ICdvbCcgOiAndWwnOw0KICAgICAgICAgICAgICAgIHZhciBwYXRoID0gdGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLA0KICAgICAgICAgICAgICAgICAgICBub2RlOw0KICAgICAgICAgICAgICAgIGZvcih2YXIgaT0gMCxjaTtjaSA9IHBhdGhbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBpZihjaS5ub2RlTmFtZSA9PSAnVEFCTEUnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYodGFnID09IGNpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBub2RlID8gZ2V0U3R5bGUobm9kZSkgfHwgZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCAnbGlzdC1zdHlsZS10eXBlJykgOiBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KfTsNCg0KDQovKioNCiAqIOa6kOeggee8lui+keaPkuS7tg0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KKGZ1bmN0aW9uICgpew0KICAgIHZhciBzb3VyY2VFZGl0b3JzID0gew0KICAgICAgICB0ZXh0YXJlYTogZnVuY3Rpb24gKGVkaXRvciwgaG9sZGVyKXsNCiAgICAgICAgICAgIHZhciB0ZXh0YXJlYSA9IGhvbGRlci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7DQogICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO3Jlc2l6ZTpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyOjA7cGFkZGluZzowO21hcmdpbjowO292ZXJmbG93LXk6YXV0bzsnOw0KICAgICAgICAgICAgLy8gdG9kbzogSUXkuIvlj6rmnIlvbnJlc2l6ZeWxnuaAp+WPr+eUqC4uLiDlvojnuqDnu5MNCiAgICAgICAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA8IDgpIHsNCiAgICAgICAgICAgICAgICB0ZXh0YXJlYS5zdHlsZS53aWR0aCA9IGhvbGRlci5vZmZzZXRXaWR0aCArICdweCc7DQogICAgICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gaG9sZGVyLm9mZnNldEhlaWdodCArICdweCc7DQogICAgICAgICAgICAgICAgaG9sZGVyLm9ucmVzaXplID0gZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnN0eWxlLndpZHRoID0gaG9sZGVyLm9mZnNldFdpZHRoICsgJ3B4JzsNCiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEuc3R5bGUuaGVpZ2h0ID0gaG9sZGVyLm9mZnNldEhlaWdodCArICdweCc7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChjb250ZW50KXsNCiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEudmFsdWUgPSBjb250ZW50Ow0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0YXJlYS52YWx1ZTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHZhciByYW5nZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGV4dGFyZWEuY3JlYXRlVGV4dFJhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy90b2RvOiBjaHJvbWXkuIvml6Dms5Xorr7nva7nhKbngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnNldFNlbGVjdGlvblJhbmdlKDAsIDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZGlzcG9zZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIGhvbGRlci5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7DQogICAgICAgICAgICAgICAgICAgIC8vIHRvZG8NCiAgICAgICAgICAgICAgICAgICAgaG9sZGVyLm9ucmVzaXplID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgdGV4dGFyZWEgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICBob2xkZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgIH0sDQogICAgICAgIGNvZGVtaXJyb3I6IGZ1bmN0aW9uIChlZGl0b3IsIGhvbGRlcil7DQogICAgICAgIAkNCiAgICAgICAgICAgIHZhciBjb2RlRWRpdG9yID0gd2luZG93LkNvZGVNaXJyb3IoaG9sZGVyLCB7DQogICAgICAgICAgICAgICAgbW9kZTogInRleHQvaHRtbCIsDQogICAgICAgICAgICAgICAgdGFiTW9kZTogImluZGVudCIsDQogICAgICAgICAgICAgICAgbGluZU51bWJlcnM6IHRydWUsDQogICAgICAgICAgICAgICAgbGluZVdyYXBwaW5nOnRydWUNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdmFyIGRvbSA9IGNvZGVFZGl0b3IuZ2V0V3JhcHBlckVsZW1lbnQoKTsNCiAgICAgICAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2ZvbnQtZmFtaWx5OmNvbnNvbGFzLCJDb3VyaWVyIG5ldyIsbW9ub3NwYWNlO2ZvbnQtc2l6ZToxM3B4Oyc7DQogICAgICAgICAgICBjb2RlRWRpdG9yLmdldFNjcm9sbGVyRWxlbWVudCgpLnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7JzsNCiAgICAgICAgICAgIGNvZGVFZGl0b3IucmVmcmVzaCgpOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICBnZXRDb2RlTWlycm9yOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlRWRpdG9yOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc2V0Q29udGVudDogZnVuY3Rpb24gKGNvbnRlbnQpew0KICAgICAgICAgICAgICAgICAgICBjb2RlRWRpdG9yLnNldFZhbHVlKGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlRWRpdG9yLmdldFZhbHVlKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBzZWxlY3Q6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgICAgICBjb2RlRWRpdG9yLmZvY3VzKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgICAgICAgICAgaG9sZGVyLnJlbW92ZUNoaWxkKGRvbSk7DQogICAgICAgICAgICAgICAgICAgIGRvbSA9IG51bGw7DQogICAgICAgICAgICAgICAgICAgIGNvZGVFZGl0b3IgPSBudWxsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgVUUucGx1Z2luc1snc291cmNlJ10gPSBmdW5jdGlvbiAoKXsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgdmFyIG9wdCA9IHRoaXMub3B0aW9uczsNCiAgICAgICAgdmFyIHNvdXJjZU1vZGUgPSBmYWxzZTsNCiAgICAgICAgdmFyIHNvdXJjZUVkaXRvcjsNCiAgICAgICAgdmFyIG9yZ1NldENvbnRlbnQ7DQogICAgICAgIG9wdC5zb3VyY2VFZGl0b3IgPSBicm93c2VyLmllICA/ICd0ZXh0YXJlYScgOiAob3B0LnNvdXJjZUVkaXRvciB8fCAnY29kZW1pcnJvcicpOw0KDQogICAgICAgIG1lLnNldE9wdCh7DQogICAgICAgICAgICBzb3VyY2VFZGl0b3JGaXJzdDpmYWxzZQ0KICAgICAgICB9KTsNCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU291cmNlRWRpdG9yKGhvbGRlcil7DQogICAgICAgICAgICByZXR1cm4gc291cmNlRWRpdG9yc1tvcHQuc291cmNlRWRpdG9yID09ICdjb2RlbWlycm9yJyAmJiB3aW5kb3cuQ29kZU1pcnJvciA/ICdjb2RlbWlycm9yJyA6ICd0ZXh0YXJlYSddKG1lLCBob2xkZXIpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGJha0Nzc1RleHQ7DQogICAgICAgIC8v6Kej5Yaz5Zyo5rqQ56CB5qih5byP5LiLZ2V0Q29udGVudOS4jeiDveW+l+WIsOacgOaWsOeahOWGheWuuemXrumimA0KICAgICAgICB2YXIgb2xkR2V0Q29udGVudCwNCiAgICAgICAgICAgIGJha0FkZHJlc3M7DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWIh+aNoua6kOeggeaooeW8j+WSjOe8lui+keaooeW8jw0KICAgICAgICAgKiBAY29tbWFuZCBzb3VyY2UNCiAgICAgICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnc291cmNlJyk7DQogICAgICAgICAqIGBgYA0KICAgICAgICAgKi8NCg0KICAgICAgICAvKioNCiAgICAgICAgICog5p+l6K+i5b2T5YmN57yW6L6R5Yy65Z+f55qE54q25oCB5piv5rqQ56CB5qih5byP6L+Y5piv5Y+v6KeG5YyW5qih5byPDQogICAgICAgICAqIEBjb21tYW5kIHNvdXJjZQ0KICAgICAgICAgKiBAbWV0aG9kIHF1ZXJ5Q29tbWFuZFN0YXRlDQogICAgICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAgICAgICAgICogQHJldHVybiB7IGludCB9IOWmguaenOW9k+WJjeaYr+a6kOeggee8lui+keaooeW8j++8jOi/lOWbnjHvvIzlkKbliJnov5Tlm54wDQogICAgICAgICAqIEBleGFtcGxlDQogICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCAnc291cmNlJyApOw0KICAgICAgICAgKiBgYGANCiAgICAgICAgICovDQoNCiAgICAgICAgbWUuY29tbWFuZHNbJ3NvdXJjZSddID0gew0KICAgICAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpew0KDQogICAgICAgICAgICAgICAgc291cmNlTW9kZSA9ICFzb3VyY2VNb2RlOw0KICAgICAgICAgICAgICAgIGlmIChzb3VyY2VNb2RlKSB7DQogICAgICAgICAgICAgICAgICAgIGJha0FkZHJlc3MgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5jcmVhdGVBZGRyZXNzKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBtZS51bmRvTWFuZ2VyICYmIG1lLnVuZG9NYW5nZXIuc2F2ZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5nZWNrbyl7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgYmFrQ3NzVGV4dCA9IG1lLmlmcmFtZS5zdHlsZS5jc3NUZXh0Ow0KICAgICAgICAgICAgICAgICAgICBtZS5pZnJhbWUuc3R5bGUuY3NzVGV4dCArPSAncG9zaXRpb246YWJzb2x1dGU7bGVmdDotMzI3NjhweDt0b3A6LTMyNzY4cHg7JzsNCg0KDQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnYmVmb3JlZ2V0Y29udGVudCcpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IFVFLmh0bWxwYXJzZXIobWUuYm9keS5pbm5lckhUTUwpOw0KICAgICAgICAgICAgICAgICAgICBtZS5maWx0ZXJPdXRwdXRSdWxlKHJvb3QpOw0KICAgICAgICAgICAgICAgICAgICByb290LnRyYXZlcnNhbChmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PSAnZWxlbWVudCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG5vZGUudGFnTmFtZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd0ZCc6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RoJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY2FwdGlvbic6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuY2hpbGRyZW4gJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT0gMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihub2RlLmZpcnN0Q2hpbGQoKS50YWdOYW1lID09ICdicicgKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCgpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAncHJlJzoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5uZXJUZXh0KG5vZGUuaW5uZXJUZXh0KCkucmVwbGFjZSgvJm5ic3A7L2csJyAnKSkNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdhZnRlcmdldGNvbnRlbnQnKTsNCg0KICAgICAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IHJvb3QudG9IdG1sKHRydWUpOw0KDQogICAgICAgICAgICAgICAgICAgIHNvdXJjZUVkaXRvciA9IGNyZWF0ZVNvdXJjZUVkaXRvcihtZS5pZnJhbWUucGFyZW50Tm9kZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgc291cmNlRWRpdG9yLnNldENvbnRlbnQoY29udGVudCk7DQoNCiAgICAgICAgICAgICAgICAgICAgb3JnU2V0Q29udGVudCA9IG1lLnNldENvbnRlbnQ7DQoNCiAgICAgICAgICAgICAgICAgICAgbWUuc2V0Q29udGVudCA9IGZ1bmN0aW9uKGh0bWwpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/ov5nph4zmmoLml7bkuI3op6blj5Hkuovku7bvvIzpmLLmraLmiqXplJkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb290ID0gVUUuaHRtbHBhcnNlcihodG1sKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpbHRlcklucHV0UnVsZShyb290KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgPSByb290LnRvSHRtbCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlRWRpdG9yLnNldENvbnRlbnQoaHRtbCk7DQogICAgICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUVkaXRvci5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdmdWxsc2NyZWVuY2hhbmdlZCcsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VFZGl0b3IuZ2V0Q29kZU1pcnJvcigpLnJlZnJlc2goKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1jYXRjaChlKXt9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgLy/ph43nva5nZXRDb250ZW5077yM5rqQ56CB5qih5byP5LiL5Y+W5YC85Lmf6IO95piv5pyA5paw55qE5pWw5o2uDQogICAgICAgICAgICAgICAgICAgIG9sZEdldENvbnRlbnQgPSBtZS5nZXRDb250ZW50Ow0KICAgICAgICAgICAgICAgICAgICBtZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlRWRpdG9yLmdldENvbnRlbnQoKSB8fCAnPHA+JyArIChicm93c2VyLmllID8gJycgOiAnPGJyLz4nKSsnPC9wPic7DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuaWZyYW1lLnN0eWxlLmNzc1RleHQgPSBiYWtDc3NUZXh0Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgY29udCA9IHNvdXJjZUVkaXRvci5nZXRDb250ZW50KCkgfHwgJzxwPicgKyAoYnJvd3Nlci5pZSA/ICcnIDogJzxici8+JykrJzwvcD4nOw0KICAgICAgICAgICAgICAgICAgICAvL+WkhOeQhuaOiWJsb2Nr6IqC54K55YmN5ZCO55qE56m65qC8LOacieWPr+iDveS8muivr+WRveS4re+8jOaaguaXtuS4jeiAg+iZkQ0KICAgICAgICAgICAgICAgICAgICBjb250ID0gY29udC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1tcXHJcXHRcXG4gXSo8XC8/KFxcdyspXFxzKig/OltePl0qKT4nLCdnJyksIGZ1bmN0aW9uKGEsYil7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihiICYmICFkdGQuJGlubGluZVdpdGhBW2IudG9Mb3dlckNhc2UoKV0pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UoLyheW1xuXHJcdCBdKil8KFtcblxyXHQgXSokKS9nLCcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLnJlcGxhY2UoLyheW1xuXHJcdF0qKXwoW1xuXHJcdF0qJCkvZywnJykNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgbWUuc2V0Q29udGVudCA9IG9yZ1NldENvbnRlbnQ7DQoNCiAgICAgICAgICAgICAgICAgICAgbWUuc2V0Q29udGVudChjb250KTsNCiAgICAgICAgICAgICAgICAgICAgc291cmNlRWRpdG9yLmRpc3Bvc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgc291cmNlRWRpdG9yID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgLy/ov5jljp9nZXRDb250ZW505pa55rOVDQogICAgICAgICAgICAgICAgICAgIG1lLmdldENvbnRlbnQgPSBvbGRHZXRDb250ZW50Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3QgPSBtZS5ib2R5LmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MTEwNiDpg73liKDpmaTnqbrkuobvvIzkuIvovrnkvJrmiqXplJnvvIzmiYDku6XooaXlhYXkuIDkuKpw5Y2g5L2NDQogICAgICAgICAgICAgICAgICAgIGlmKCFmaXJzdCl7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmlubmVySFRNTCA9ICc8cD4nKyhicm93c2VyLmllPycnOic8YnIvPicpKyc8L3A+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbWUuYm9keS5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICAvL+imgeWcqGlmbeS4uuaYvuekuuaXtmZm5omN6IO95Y+W5Yiwc2VsZWN0aW9uLOWQpuWImeaKpemUmQ0KICAgICAgICAgICAgICAgICAgICAvL+i/memHjOS4jeiDveavlOi+g+S9jee9ruS6hg0KICAgICAgICAgICAgICAgICAgICBtZS51bmRvTWFuZ2VyICYmIG1lLnVuZG9NYW5nZXIuc2F2ZSh0cnVlKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZihicm93c2VyLmdlY2tvKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LnN0eWxlLmNzc1RleHQgPSAncG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotMzI3NjhweCc7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFZpZXdwb3J0T2Zmc2V0KGlucHV0LCB7IGxlZnQ6IC0zMjc2OCwgdG9wOiAwIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LmZvY3VzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLm1vdmVUb0FkZHJlc3MoYmFrQWRkcmVzcykuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoaW5wdXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAvL2ll5LiL5pyJ5Y+v6IO95oql6ZSZ77yM5q+U5aaC5Zyo5Luj56CB6aG25aS055qE5oOF5Ya1DQogICAgICAgICAgICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2VsZWN0aW9uLmdldFJhbmdlKCkubW92ZVRvQWRkcmVzcyhiYWtBZGRyZXNzKS5zZWxlY3QodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9Y2F0Y2goZSl7fQ0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3NvdXJjZW1vZGVjaGFuZ2VkJywgc291cmNlTW9kZSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VNb2RlfDA7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbm90TmVlZFVuZG8gOiAxDQogICAgICAgIH07DQogICAgICAgIHZhciBvbGRRdWVyeUNvbW1hbmRTdGF0ZSA9IG1lLnF1ZXJ5Q29tbWFuZFN0YXRlOw0KDQogICAgICAgIG1lLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24gKGNtZE5hbWUpew0KICAgICAgICAgICAgY21kTmFtZSA9IGNtZE5hbWUudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgIGlmIChzb3VyY2VNb2RlKSB7DQogICAgICAgICAgICAgICAgLy/mupDnoIHmqKHlvI/kuIvlj6/ku6XlvIDlkK/nmoTlkb3ku6QNCiAgICAgICAgICAgICAgICByZXR1cm4gY21kTmFtZSBpbiB7DQogICAgICAgICAgICAgICAgICAgICdzb3VyY2UnIDogMSwNCiAgICAgICAgICAgICAgICAgICAgJ2Z1bGxzY3JlZW4nIDogMQ0KICAgICAgICAgICAgICAgIH0gPyAxIDogLTENCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBvbGRRdWVyeUNvbW1hbmRTdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICB9Ow0KDQogICAgICAgIGlmKG9wdC5zb3VyY2VFZGl0b3IgPT0gImNvZGVtaXJyb3IiKXsNCg0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoInJlYWR5IixmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIHV0aWxzLmxvYWRGaWxlKGRvY3VtZW50LHsNCiAgICAgICAgICAgICAgICAgICAgc3JjIDogb3B0LmNvZGVNaXJyb3JKc1VybCB8fCBvcHQuVUVESVRPUl9IT01FX1VSTCArICJ0aGlyZC1wYXJ0eS9jb2RlbWlycm9yL2NvZGVtaXJyb3IuanMiLA0KICAgICAgICAgICAgICAgICAgICB0YWcgOiAic2NyaXB0IiwNCiAgICAgICAgICAgICAgICAgICAgdHlwZSA6ICJ0ZXh0L2phdmFzY3JpcHQiLA0KICAgICAgICAgICAgICAgICAgICBkZWZlciA6ICJkZWZlciINCiAgICAgICAgICAgICAgICB9LGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGlmKG9wdC5zb3VyY2VFZGl0b3JGaXJzdCl7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoInNvdXJjZSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwwKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHV0aWxzLmxvYWRGaWxlKGRvY3VtZW50LHsNCiAgICAgICAgICAgICAgICAgICAgdGFnIDogImxpbmsiLA0KICAgICAgICAgICAgICAgICAgICByZWwgOiAic3R5bGVzaGVldCIsDQogICAgICAgICAgICAgICAgICAgIHR5cGUgOiAidGV4dC9jc3MiLA0KICAgICAgICAgICAgICAgICAgICBocmVmIDogb3B0LmNvZGVNaXJyb3JDc3NVcmwgfHwgb3B0LlVFRElUT1JfSE9NRV9VUkwgKyAidGhpcmQtcGFydHkvY29kZW1pcnJvci9jb2RlbWlycm9yLmNzcyINCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgIH07DQoNCn0pKCk7DQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHBsdWdpbnMvdW5kby5qcw0KLy8vY29tbWFuZHMg6K6+572u5Zue6L2m5qCH562+cOaIlmJyDQovLy9jb21tYW5kc05hbWUgIEVudGVyS2V5DQovLy9jb21tYW5kc1RpdGxlICDorr7nva7lm57ovabmoIfnrb5w5oiWYnINCi8qDQogKiBAZGVzY3JpcHRpb24g5aSE55CG5Zue6L2mDQogKiBAYXV0aG9yIHpoYW55aQ0KICovDQpVRS5wbHVnaW5zWydlbnRlcmtleSddID0gZnVuY3Rpb24oKSB7DQogICAgdmFyIGhUYWcsDQogICAgICAgIG1lID0gdGhpcywNCiAgICAgICAgdGFnID0gbWUub3B0aW9ucy5lbnRlclRhZzsNCiAgICBtZS5hZGRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbih0eXBlLCBldnQpIHsNCg0KICAgICAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlIHx8IGV2dC53aGljaDsNCiAgICAgICAgaWYgKGtleUNvZGUgPT0gMTMpIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXIsDQogICAgICAgICAgICAgICAgZG9TYXZlOw0KDQogICAgICAgICAgICAvL+S/ruato+WcqGgxLWg26YeM6L655Zue6L2m5ZCO5LiN6IO95bWM5aWXcOeahOmXrumimA0KICAgICAgICAgICAgaWYgKCFicm93c2VyLmllKSB7DQoNCiAgICAgICAgICAgICAgICBpZiAoL2hcZC9pLnRlc3QoaFRhZykpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuZ2Vja28pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCwgWyAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCdibG9ja3F1b3RlJywnY2FwdGlvbicsJ3RhYmxlJ10sIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2Zvcm1hdEJsb2NrJywgZmFsc2UsICc8cD4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1NhdmUgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgLy9jaHJvbWUgcmVtb3ZlIGRpdg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0Lm5vZGVUeXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gbWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpLGRpdjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHRtcCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0bXAsICdkaXYnLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGl2KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoZGl2LmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLCBkaXYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoZGl2KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wKS5zZXRDdXJzb3IoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9TYXZlID0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChtZS51bmRvTWFuZ2VyICYmIGRvU2F2ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUudW5kb01hbmdlci5zYXZlKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/msqHmnInnq5nkvY3nrKbvvIzkvJrlh7rnjrDlpJrooYznmoTpl67popgNCiAgICAgICAgICAgICAgICBicm93c2VyLm9wZXJhICYmICByYW5nZS5zZWxlY3QoKTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyx0cnVlLHRydWUpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9KTsNCg0KICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24odHlwZSwgZXZ0KSB7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoOw0KICAgICAgICBpZiAoa2V5Q29kZSA9PSAxMykgey8v5Zue6L2mDQogICAgICAgICAgICBpZihtZS5maXJlRXZlbnQoJ2JlZm9yZWVudGVya2V5ZG93bicpKXsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyx0cnVlLHRydWUpOw0KICAgICAgICAgICAgaFRhZyA9ICcnOw0KDQoNCiAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KDQogICAgICAgICAgICBpZiAoIXJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgIC8v6LeodGTkuI3og73liKANCiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lciwNCiAgICAgICAgICAgICAgICAgICAgZW5kID0gcmFuZ2UuZW5kQ29udGFpbmVyLA0KICAgICAgICAgICAgICAgICAgICBzdGFydFRkID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCwgJ3RkJywgdHJ1ZSksDQogICAgICAgICAgICAgICAgICAgIGVuZFRkID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbmQsICd0ZCcsIHRydWUpOw0KICAgICAgICAgICAgICAgIGlmIChzdGFydFRkICYmIGVuZFRkICYmIHN0YXJ0VGQgIT09IGVuZFRkIHx8ICFzdGFydFRkICYmIGVuZFRkIHx8IHN0YXJ0VGQgJiYgIWVuZFRkKSB7DQogICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCA/IGV2dC5wcmV2ZW50RGVmYXVsdCgpIDogKCBldnQucmV0dXJuVmFsdWUgPSBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodGFnID09ICdwJykgew0KDQoNCiAgICAgICAgICAgICAgICBpZiAoIWJyb3dzZXIuaWUpIHsNCg0KICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsIFsnb2wnLCd1bCcsJ3AnLCAnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCdibG9ja3F1b3RlJywnY2FwdGlvbiddLCB0cnVlKTsNCg0KICAgICAgICAgICAgICAgICAgICAvL29wZXJh5LiL5omn6KGMZm9ybWF0YmxvY2vkvJrlnKh0YWJsZeeahOWcuuaZr+S4i+aciemXrumimO+8jOWbnui9puWcqG9wZXJh5Y6f55Sf5pSv5oyB5b6I5aW977yM5omA5Lul5pqC5pe25Zyob3BlcmHljrvmjonosIPnlKjov5nkuKrljp/nlJ/nmoRjb21tYW5kDQogICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MjQzMQ0KICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0ICYmICFicm93c2VyLm9wZXJhKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmRvY3VtZW50LmV4ZWNDb21tYW5kKCdmb3JtYXRCbG9jaycsIGZhbHNlLCAnPHA+Jyk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsICdwJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgJiYgZG9tVXRpbHMucmVtb3ZlRGlydHlBdHRyKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBoVGFnID0gc3RhcnQudGFnTmFtZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAncCcgJiYgYnJvd3Nlci5nZWNrbyAmJiBkb21VdGlscy5yZW1vdmVEaXJ0eUF0dHIoc3RhcnQpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0ID8gZXZ0LnByZXZlbnREZWZhdWx0KCkgOiAoIGV2dC5yZXR1cm5WYWx1ZSA9IGZhbHNlKTsNCg0KICAgICAgICAgICAgICAgIGlmICghcmFuZ2UuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7DQogICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGFydC5ub2RlVHlwZSA9PSAxICYmIChzdGFydCA9IHN0YXJ0LmNoaWxkTm9kZXNbcmFuZ2Uuc3RhcnRPZmZzZXRdKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHN0YXJ0Lm5vZGVUeXBlID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHRkLiRlbXB0eVtzdGFydC50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShzdGFydCkuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZS51bmRvTWFuZ2VyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS51bmRvTWFuZ2VyLnNhdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnQuZmlyc3RDaGlsZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnIgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5hcHBlbmRDaGlsZChicik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0LCAwKS5zZXRDdXJzb3IoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lLnVuZG9NYW5nZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnVuZG9NYW5nZXIuc2F2ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSByYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyID0gcmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGJyKS5zZXRDdXJzb3IoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChzdGFydCwgMCkuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYnIgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShicikuc2V0U3RhcnRBZnRlcihicikuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYnIgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdicicpOw0KICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGJyKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGJyLnBhcmVudE5vZGU7DQogICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQubGFzdENoaWxkID09PSBicikgew0KICAgICAgICAgICAgICAgICAgICAgICAgYnIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYnIuY2xvbmVOb2RlKHRydWUpLCBicik7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZShicik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKGJyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRDdXJzb3IoKTsNCg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICB9KTsNCn07DQoNCi8qDQogKiAgIOWkhOeQhueJueauiumUrueahOWFvOWuueaAp+mXrumimA0KICovDQpVRS5wbHVnaW5zWydrZXlzdHJva2VzJ10gPSBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIHZhciBjb2xsYXBzZWQgPSB0cnVlOw0KICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24odHlwZSwgZXZ0KSB7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoLA0KICAgICAgICAgICAgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQoNCiAgICAgICAgLy/lpITnkIblhajpgInnmoTmg4XlhrUNCiAgICAgICAgaWYoIXJuZy5jb2xsYXBzZWQgJiYgIShldnQuY3RybEtleSB8fCBldnQuc2hpZnRLZXkgfHwgZXZ0LmFsdEtleSB8fCBldnQubWV0YUtleSkgJiYgKGtleUNvZGUgPj0gNjUgJiYga2V5Q29kZSA8PTkwDQogICAgICAgICAgICB8fCBrZXlDb2RlID49IDQ4ICYmIGtleUNvZGUgPD0gNTcgfHwNCiAgICAgICAgICAgIGtleUNvZGUgPj0gOTYgJiYga2V5Q29kZSA8PSAxMTEgfHwgew0KICAgICAgICAgICAgICAgICAgICAxMzoxLA0KICAgICAgICAgICAgICAgICAgICA4OjEsDQogICAgICAgICAgICAgICAgICAgIDQ2OjENCiAgICAgICAgICAgICAgICB9W2tleUNvZGVdKQ0KICAgICAgICAgICAgKXsNCg0KICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBybmcuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICBpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXsNCiAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnRCZWZvcmUodG1wTm9kZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRtcE5vZGUgPSBybmcuZW5kQ29udGFpbmVyOw0KICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNGaWxsQ2hhcih0bXBOb2RlKSl7DQogICAgICAgICAgICAgICAgcm5nLnNldEVuZEFmdGVyKHRtcE5vZGUpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBybmcudHh0VG9FbG1Cb3VuZGFyeSgpOw0KICAgICAgICAgICAgLy/nu5PmnZ/ovrnnlYzlj6/og73mlL7liLDkuoZicueahOWJjei+ue+8jOimgeaKimJy5YyF5ZCr6L+b5p2lDQogICAgICAgICAgICAvLyB4W3h4eF08YnIvPg0KICAgICAgICAgICAgaWYocm5nLmVuZENvbnRhaW5lciAmJiBybmcuZW5kQ29udGFpbmVyLm5vZGVUeXBlID09IDEpew0KICAgICAgICAgICAgICAgIHRtcE5vZGUgPSBybmcuZW5kQ29udGFpbmVyLmNoaWxkTm9kZXNbcm5nLmVuZE9mZnNldF07DQogICAgICAgICAgICAgICAgaWYodG1wTm9kZSAmJiBkb21VdGlscy5pc0JyKHRtcE5vZGUpKXsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNldEVuZEFmdGVyKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHJuZy5zdGFydE9mZnNldCA9PSAwKXsNCiAgICAgICAgICAgICAgICB0bXBOb2RlID0gcm5nLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQm91bmRhcnlOb2RlKHRtcE5vZGUsJ2ZpcnN0Q2hpbGQnKSApew0KICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gcm5nLmVuZENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICAgICAgaWYocm5nLmVuZE9mZnNldCA9PSAodG1wTm9kZS5ub2RlVHlwZSA9PSAzID8gdG1wTm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogdG1wTm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkgJiYgZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwnbGFzdENoaWxkJykpew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmJvZHkuaW5uZXJIVE1MID0gJzxwPicrKGJyb3dzZXIuaWUgPyAnJyA6ICc8YnIvPicpKyc8L3A+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydChtZS5ib2R5LmZpcnN0Q2hpbGQsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuX3NlbGVjdGlvbkNoYW5nZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLy/lpITnkIZiYWNrc3BhY2UNCiAgICAgICAgaWYgKGtleUNvZGUgPT0gOCkgew0KICAgICAgICAgICAgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBjb2xsYXBzZWQgPSBybmcuY29sbGFwc2VkOw0KICAgICAgICAgICAgaWYobWUuZmlyZUV2ZW50KCdkZWxrZXlkb3duJyxldnQpKXsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgc3RhcnQsZW5kOw0KICAgICAgICAgICAgLy/pgb/lhY3mjInkuKTmrKHliKDpmaTmiY3og73nlJ/mlYjnmoTpl67popgNCiAgICAgICAgICAgIGlmKHJuZy5jb2xsYXBzZWQgJiYgcm5nLmluRmlsbENoYXIoKSl7DQogICAgICAgICAgICAgICAgc3RhcnQgPSBybmcuc3RhcnRDb250YWluZXI7DQoNCiAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0ZpbGxDaGFyKHN0YXJ0KSl7DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydEJlZm9yZShzdGFydCkuc2hyaW5rQm91bmRhcnkodHJ1ZSkuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShzdGFydCkNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgc3RhcnQubm9kZVZhbHVlID0gc3RhcnQubm9kZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBkb21VdGlscy5maWxsQ2hhciApLCcnKTsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnN0YXJ0T2Zmc2V0LS07DQogICAgICAgICAgICAgICAgICAgIHJuZy5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8v6Kej5Yaz6YCJ5LitY29udHJvbOWFg+e0oOS4jeiDveWIoOmZpOeahOmXrumimA0KICAgICAgICAgICAgaWYgKHN0YXJ0ID0gcm5nLmdldENsb3NlZE5vZGUoKSkgew0KICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnQpOw0KICAgICAgICAgICAgICAgIHJuZy5zZXRDdXJzb3IoKTsNCiAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/pmLvmraLlnKh0YWJsZeS4iueahOWIoOmZpA0KICAgICAgICAgICAgaWYgKCFicm93c2VyLmllKSB7DQogICAgICAgICAgICAgICAgc3RhcnQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwgJ3RhYmxlJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgZW5kID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuZW5kQ29udGFpbmVyLCAndGFibGUnLCB0cnVlKTsNCiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgJiYgIWVuZCB8fCAhc3RhcnQgJiYgZW5kIHx8IHN0YXJ0ICE9PSBlbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgICAgICAvL+WkhOeQhnRhYumUrueahOmAu+i+kQ0KICAgICAgICBpZiAoa2V5Q29kZSA9PSA5KSB7DQogICAgICAgICAgICAvL+S4jeWkhOeQhuS7peS4i+agh+etvg0KICAgICAgICAgICAgdmFyIGV4Y2x1ZGVUYWdOYW1lRm9yVGFiS2V5ID0gew0KICAgICAgICAgICAgICAgICdvbCcgOiAxLA0KICAgICAgICAgICAgICAgICd1bCcgOiAxLA0KICAgICAgICAgICAgICAgICd0YWJsZSc6MQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIC8v5aSE55CG57uE5Lu26YeM55qEdGFi5oyJ5LiL5LqL5Lu2DQogICAgICAgICAgICBpZihtZS5maXJlRXZlbnQoJ3RhYmtleWRvd24nLGV2dCkpew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsdHh0ID0gJycsdGFiU2l6ZSA9IG1lLm9wdGlvbnMudGFiU2l6ZXx8IDQsdGFiTm9kZSA9ICBtZS5vcHRpb25zLnRhYk5vZGUgfHwgJyZuYnNwOyc7IGkgPCB0YWJTaXplOyBpKyspIHsNCiAgICAgICAgICAgICAgICB0eHQgKz0gdGFiTm9kZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBzcGFuID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOw0KICAgICAgICAgICAgc3Bhbi5pbm5lckhUTUwgPSB0eHQgKyBkb21VdGlscy5maWxsQ2hhcjsNCiAgICAgICAgICAgIGlmIChyYW5nZS5jb2xsYXBzZWQpIHsNCiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKHNwYW4uY2xvbmVOb2RlKHRydWUpLmZpcnN0Q2hpbGQpLnNldEN1cnNvcih0cnVlKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdmFyIGZpbHRlckZuID0gZnVuY3Rpb24obm9kZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKSAmJiAhZXhjbHVkZVRhZ05hbWVGb3JUYWJLZXlbbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCldDQoNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIC8v5pmu6YCa55qE5oOF5Ya1DQogICAgICAgICAgICAgICAgc3RhcnQgPSBkb21VdGlscy5maW5kUGFyZW50KHJhbmdlLnN0YXJ0Q29udGFpbmVyLCBmaWx0ZXJGbix0cnVlKTsNCiAgICAgICAgICAgICAgICBlbmQgPSBkb21VdGlscy5maW5kUGFyZW50KHJhbmdlLmVuZENvbnRhaW5lciwgZmlsdGVyRm4sdHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICYmIGVuZCAmJiBzdGFydCA9PT0gZW5kKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbi5jbG9uZU5vZGUodHJ1ZSkuZmlyc3RDaGlsZCkuc2V0Q3Vyc29yKHRydWUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBib29rbWFyayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmVubGFyZ2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBib29rbWFyazIgPSByYW5nZS5jcmVhdGVCb29rbWFyaygpLA0KICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGJvb2ttYXJrMi5zdGFydCwgZmFsc2UsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgIShkb21VdGlscy5nZXRQb3NpdGlvbihjdXJyZW50LCBib29rbWFyazIuZW5kKSAmIGRvbVV0aWxzLlBPU0lUSU9OX0ZPTExPV0lORykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuaW5zZXJ0QmVmb3JlKHNwYW4uY2xvbmVOb2RlKHRydWUpLmZpcnN0Q2hpbGQsIGN1cnJlbnQuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCwgZmFsc2UsIGZpbHRlckZuKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByYW5nZS5tb3ZlVG9Cb29rbWFyayhib29rbWFyazIpLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrKS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpDQogICAgICAgIH0NCiAgICAgICAgLy90cmFjZToxNjM0DQogICAgICAgIC8vZmbnmoRkZWzplK7lnKjlrrnlmajnqbrnmoTml7blgJnvvIzkuZ/kvJrliKDpmaQNCiAgICAgICAgaWYoYnJvd3Nlci5nZWNrbyAmJiBrZXlDb2RlID09IDQ2KXsNCiAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBpZihyYW5nZS5jb2xsYXBzZWQpew0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHN0YXJ0KSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBzdGFydC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZShkb21VdGlscy5nZXRDaGlsZENvdW50KHBhcmVudCkgPT0gMSAmJiAhZG9tVXRpbHMuaXNCb2R5KHBhcmVudCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBwYXJlbnQ7DQogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZihzdGFydCA9PT0gcGFyZW50Lmxhc3RDaGlsZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQogICAgbWUuYWRkTGlzdGVuZXIoJ2tleXVwJywgZnVuY3Rpb24odHlwZSwgZXZ0KSB7DQogICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoLA0KICAgICAgICAgICAgcm5nLG1lID0gdGhpczsNCiAgICAgICAgaWYoa2V5Q29kZSA9PSA4KXsNCiAgICAgICAgICAgIGlmKG1lLmZpcmVFdmVudCgnZGVsa2V5dXAnKSl7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBpZihybmcuY29sbGFwc2VkKXsNCiAgICAgICAgICAgICAgICB2YXIgdG1wTm9kZSwNCiAgICAgICAgICAgICAgICAgICAgYXV0b0NsZWFyVGFnTmFtZSA9IFsnaDEnLCdoMicsJ2gzJywnaDQnLCdoNScsJ2g2J107DQogICAgICAgICAgICAgICAgaWYodG1wTm9kZSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLGF1dG9DbGVhclRhZ05hbWUsdHJ1ZSkpew0KICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5pc0VtcHR5QmxvY2sodG1wTm9kZSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByZSA9IHRtcE5vZGUucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlICYmIHByZS5ub2RlTmFtZSAhPSAnVEFCTEUnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QXRMYXN0KHByZSkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdG1wTm9kZS5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihuZXh0ICYmIG5leHQubm9kZU5hbWUgIT0gJ1RBQkxFJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QXRGaXJzdChuZXh0KS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/lpITnkIblvZPliKDpmaTliLBib2R55pe277yM6KaB6YeN5paw57uZcOagh+etvuWxleS9jQ0KICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQm9keShybmcuc3RhcnRDb250YWluZXIpKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSBkb21VdGlscy5jcmVhdGVFbGVtZW50KG1lLmRvY3VtZW50LCdwJyx7DQogICAgICAgICAgICAgICAgICAgICAgICAnaW5uZXJIVE1MJyA6IGJyb3dzZXIuaWUgPyBkb21VdGlscy5maWxsQ2hhciA6ICc8YnIvPicNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHJuZy5pbnNlcnROb2RlKHRtcE5vZGUpLnNldFN0YXJ0KHRtcE5vZGUsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAvL2Nocm9tZeS4i+WmguaenOWIoOmZpOS6hmlubGluZeagh+etvu+8jOa1j+iniOWZqOS8muacieiusOW/hu+8jOWcqOi+k+WFpeaWh+Wtl+i/mOaYr+S8muWll+S4iuWImuaJjeWIoOmZpOeahOagh+etvu+8jOaJgOS7pei/memHjOWGjemAieS4gOasoeWwseS4jeS8muS6hg0KICAgICAgICAgICAgaWYoICFjb2xsYXBzZWQgJiYgKHJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAzIHx8IHJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZSA9PSAxICYmIGRvbVV0aWxzLmlzRW1wdHlCbG9jayhybmcuc3RhcnRDb250YWluZXIpKSl7DQogICAgICAgICAgICAgICAgaWYoYnJvd3Nlci5pZSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBzcGFuID0gcm5nLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgICAgICAgICAgcm5nLmluc2VydE5vZGUoc3Bhbikuc2V0U3RhcnRCZWZvcmUoc3BhbikuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHNwYW4pDQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZWxlY3QoKQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9KQ0KfTsNCi8vL2ltcG9ydCBjb3JlCi8vL2NvbW1hbmRzIOS/ruWkjWNocm9tZeS4i+WbvueJh+S4jeiDveeCueWHu+eahOmXrumimO+8jOWHuueOsOWFq+S4quinkuWPr+aUueWPmOWkp+WwjwovLy9jb21tYW5kc05hbWUgIEZpeEltZ0NsaWNrCi8vL2NvbW1hbmRzVGl0bGUgIOS/ruWkjWNocm9tZeS4i+WbvueJh+S4jeiDveeCueWHu+eahOmXrumimO+8jOWHuueOsOWFq+S4quinkuWPr+aUueWPmOWkp+WwjwovL+S/ruWkjWNocm9tZeS4i+WbvueJh+S4jeiDveeCueWHu+eahOmXrumimO+8jOWHuueOsOWFq+S4quinkuWPr+aUueWPmOWkp+WwjwoKVUUucGx1Z2luc1snZml4aW1nY2xpY2snXSA9IChmdW5jdGlvbiAoKSB7CgogICAgZnVuY3Rpb24gU2NhbGUoKSB7CiAgICAgICAgdGhpcy5lZGl0b3IgPSBudWxsOwogICAgICAgIHRoaXMucmVzaXplciA9IG51bGw7CiAgICAgICAgdGhpcy5jb3ZlciA9IG51bGw7CiAgICAgICAgdGhpcy5kb2MgPSBkb2N1bWVudDsKICAgICAgICB0aGlzLnByZVBvcyA9IHt4OiAwLCB5OiAwfTsKICAgICAgICB0aGlzLnN0YXJ0UG9zID0ge3g6IDAsIHk6IDB9OwogICAgfQoKICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHJlY3QgPSBbCiAgICAgICAgICAgIC8vW2xlZnQsIHRvcCwgd2lkdGgsIGhlaWdodF0KICAgICAgICAgICAgWzAsIDAsIC0xLCAtMV0sCiAgICAgICAgICAgIFswLCAwLCAwLCAtMV0sCiAgICAgICAgICAgIFswLCAwLCAxLCAtMV0sCiAgICAgICAgICAgIFswLCAwLCAtMSwgMF0sCiAgICAgICAgICAgIFswLCAwLCAxLCAwXSwKICAgICAgICAgICAgWzAsIDAsIC0xLCAxXSwKICAgICAgICAgICAgWzAsIDAsIDAsIDFdLAogICAgICAgICAgICBbMCwgMCwgMSwgMV0KICAgICAgICBdOwoKICAgICAgICBTY2FsZS5wcm90b3R5cGUgPSB7CiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uIChlZGl0b3IpIHsKICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgICAgICAgICBtZS5lZGl0b3IgPSBlZGl0b3I7CiAgICAgICAgICAgICAgICBtZS5zdGFydFBvcyA9IHRoaXMucHJlUG9zID0ge3g6IDAsIHk6IDB9OwogICAgICAgICAgICAgICAgbWUuZHJhZ0lkID0gLTE7CgogICAgICAgICAgICAgICAgdmFyIGhhbmRzID0gW10sCiAgICAgICAgICAgICAgICAgICAgY292ZXIgPSBtZS5jb3ZlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLAogICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIgPSBtZS5yZXNpemVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CgogICAgICAgICAgICAgICAgY292ZXIuaWQgPSBtZS5lZGl0b3IudWkuaWQgKyAnX2ltYWdlc2NhbGVfY292ZXInOwogICAgICAgICAgICAgICAgY292ZXIuc3R5bGUuY3NzVGV4dCA9ICdwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Om5vbmU7ei1pbmRleDonICsgKG1lLmVkaXRvci5vcHRpb25zLnpJbmRleCkgKyAnO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApOyBvcGFjaXR5OjA7YmFja2dyb3VuZDojQ0NDOyc7CiAgICAgICAgICAgICAgICBkb21VdGlscy5vbihjb3ZlciwgJ21vdXNlZG93biBjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICBtZS5oaWRlKCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgODsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgaGFuZHMucHVzaCgnPHNwYW4gY2xhc3M9ImVkdWktZWRpdG9yLXNjYWxlLWhhbmQnICsgaSArICciPjwvc3Bhbj4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlc2l6ZXIuaWQgPSBtZS5lZGl0b3IudWkuaWQgKyAnX2ltYWdlc2NhbGUnOwogICAgICAgICAgICAgICAgcmVzaXplci5jbGFzc05hbWUgPSAnZWR1aS1lZGl0b3Itc2NhbGUnOwogICAgICAgICAgICAgICAgcmVzaXplci5pbm5lckhUTUwgPSBoYW5kcy5qb2luKCcnKTsKICAgICAgICAgICAgICAgIHJlc2l6ZXIuc3R5bGUuY3NzVGV4dCArPSAnO2Rpc3BsYXk6bm9uZTtib3JkZXI6MXB4IHNvbGlkICMzYjc3ZmY7ei1pbmRleDonICsgKG1lLmVkaXRvci5vcHRpb25zLnpJbmRleCkgKyAnOyc7CgogICAgICAgICAgICAgICAgbWUuZWRpdG9yLnVpLmdldERvbSgpLmFwcGVuZENoaWxkKGNvdmVyKTsKICAgICAgICAgICAgICAgIG1lLmVkaXRvci51aS5nZXREb20oKS5hcHBlbmRDaGlsZChyZXNpemVyKTsKCiAgICAgICAgICAgICAgICBtZS5pbml0U3R5bGUoKTsKICAgICAgICAgICAgICAgIG1lLmluaXRFdmVudHMoKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgaW5pdFN0eWxlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB1dGlscy5jc3NSdWxlKCdpbWFnZXNjYWxlJywgJy5lZHVpLWVkaXRvci1zY2FsZXtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MXB4IHNvbGlkICMzOEIyQ0U7fScgKwogICAgICAgICAgICAgICAgICAgICcuZWR1aS1lZGl0b3Itc2NhbGUgc3Bhbntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo2cHg7aGVpZ2h0OjZweDtvdmVyZmxvdzpoaWRkZW47Zm9udC1zaXplOjBweDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQtY29sb3I6IzNDOUREMDt9JwogICAgICAgICAgICAgICAgICAgICsgJy5lZHVpLWVkaXRvci1zY2FsZSAuZWR1aS1lZGl0b3Itc2NhbGUtaGFuZDB7Y3Vyc29yOm53LXJlc2l6ZTt0b3A6MDttYXJnaW4tdG9wOi00cHg7bGVmdDowO21hcmdpbi1sZWZ0Oi00cHg7fScKICAgICAgICAgICAgICAgICAgICArICcuZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQxe2N1cnNvcjpuLXJlc2l6ZTt0b3A6MDttYXJnaW4tdG9wOi00cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTRweDt9JwogICAgICAgICAgICAgICAgICAgICsgJy5lZHVpLWVkaXRvci1zY2FsZSAuZWR1aS1lZGl0b3Itc2NhbGUtaGFuZDJ7Y3Vyc29yOm5lLXJlc2l6ZTt0b3A6MDttYXJnaW4tdG9wOi00cHg7bGVmdDoxMDAlO21hcmdpbi1sZWZ0Oi0zcHg7fScKICAgICAgICAgICAgICAgICAgICArICcuZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQze2N1cnNvcjp3LXJlc2l6ZTt0b3A6NTAlO21hcmdpbi10b3A6LTRweDtsZWZ0OjA7bWFyZ2luLWxlZnQ6LTRweDt9JwogICAgICAgICAgICAgICAgICAgICsgJy5lZHVpLWVkaXRvci1zY2FsZSAuZWR1aS1lZGl0b3Itc2NhbGUtaGFuZDR7Y3Vyc29yOmUtcmVzaXplO3RvcDo1MCU7bWFyZ2luLXRvcDotNHB4O2xlZnQ6MTAwJTttYXJnaW4tbGVmdDotM3B4O30nCiAgICAgICAgICAgICAgICAgICAgKyAnLmVkdWktZWRpdG9yLXNjYWxlIC5lZHVpLWVkaXRvci1zY2FsZS1oYW5kNXtjdXJzb3I6c3ctcmVzaXplO3RvcDoxMDAlO21hcmdpbi10b3A6LTNweDtsZWZ0OjA7bWFyZ2luLWxlZnQ6LTRweDt9JwogICAgICAgICAgICAgICAgICAgICsgJy5lZHVpLWVkaXRvci1zY2FsZSAuZWR1aS1lZGl0b3Itc2NhbGUtaGFuZDZ7Y3Vyc29yOnMtcmVzaXplO3RvcDoxMDAlO21hcmdpbi10b3A6LTNweDtsZWZ0OjUwJTttYXJnaW4tbGVmdDotNHB4O30nCiAgICAgICAgICAgICAgICAgICAgKyAnLmVkdWktZWRpdG9yLXNjYWxlIC5lZHVpLWVkaXRvci1zY2FsZS1oYW5kN3tjdXJzb3I6c2UtcmVzaXplO3RvcDoxMDAlO21hcmdpbi10b3A6LTNweDtsZWZ0OjEwMCU7bWFyZ2luLWxlZnQ6LTNweDt9Jyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGluaXRFdmVudHM6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7CgogICAgICAgICAgICAgICAgbWUuc3RhcnRQb3MueCA9IG1lLnN0YXJ0UG9zLnkgPSAwOwogICAgICAgICAgICAgICAgbWUuaXNEcmFnaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF9ldmVudEhhbmRsZXI6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzOwogICAgICAgICAgICAgICAgc3dpdGNoIChlLnR5cGUpIHsKICAgICAgICAgICAgICAgICAgICBjYXNlICdtb3VzZWRvd24nOgogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudCwgaGFuZDsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmQuY2xhc3NOYW1lLmluZGV4T2YoJ2VkdWktZWRpdG9yLXNjYWxlLWhhbmQnKSAhPSAtMSAmJiBtZS5kcmFnSWQgPT0gLTEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmRyYWdJZCA9IGhhbmQuY2xhc3NOYW1lLnNsaWNlKC0xKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnN0YXJ0UG9zLnggPSBtZS5wcmVQb3MueCA9IGUuY2xpZW50WDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnN0YXJ0UG9zLnkgPSBtZS5wcmVQb3MueSA9IGUuY2xpZW50WTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKG1lLmRvYywnbW91c2Vtb3ZlJywgbWUucHJveHkobWUuX2V2ZW50SGFuZGxlciwgbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBjYXNlICdtb3VzZW1vdmUnOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWUuZHJhZ0lkICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS51cGRhdGVDb250YWluZXJTdHlsZShtZS5kcmFnSWQsIHt4OiBlLmNsaWVudFggLSBtZS5wcmVQb3MueCwgeTogZS5jbGllbnRZIC0gbWUucHJlUG9zLnl9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnByZVBvcy54ID0gZS5jbGllbnRYOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUucHJlUG9zLnkgPSBlLmNsaWVudFk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS51cGRhdGVUYXJnZXRFbGVtZW50KCk7CgogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vdXNldXAnOgogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWUuZHJhZ0lkICE9IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS51cGRhdGVDb250YWluZXJTdHlsZShtZS5kcmFnSWQsIHt4OiBlLmNsaWVudFggLSBtZS5wcmVQb3MueCwgeTogZS5jbGllbnRZIC0gbWUucHJlUG9zLnl9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnVwZGF0ZVRhcmdldEVsZW1lbnQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZS50YXJnZXQucGFyZW50Tm9kZSkgbWUuYXR0YWNoVG8obWUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmRyYWdJZCA9IC0xOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnVuKG1lLmRvYywnbW91c2Vtb3ZlJywgbWUucHJveHkobWUuX2V2ZW50SGFuZGxlciwgbWUpKTsKICAgICAgICAgICAgICAgICAgICAgICAgbWUuZWRpdG9yLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOwogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlVGFyZ2V0RWxlbWVudDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgICAgICAgICAgICB0YXJnZXRQb3M7CiAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRTdHlsZXMobWUudGFyZ2V0LCB7CiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogbWUucmVzaXplci5zdHlsZS53aWR0aCwKICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogbWUucmVzaXplci5zdHlsZS5oZWlnaHQKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbWUuYXR0YWNoVG8obWUudGFyZ2V0KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdXBkYXRlQ29udGFpbmVyU3R5bGU6IGZ1bmN0aW9uIChkaXIsIG9mZnNldCkgewogICAgICAgICAgICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgICAgICAgICAgICBkb20gPSBtZS5yZXNpemVyLCB0bXA7CgogICAgICAgICAgICAgICAgaWYgKHJlY3RbZGlyXVswXSAhPSAwKSB7CiAgICAgICAgICAgICAgICAgICAgdG1wID0gcGFyc2VJbnQoZG9tLnN0eWxlLmxlZnQpICsgb2Zmc2V0Lng7CiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLmxlZnQgPSBtZS5fdmFsaWRTY2FsZWRQcm9wKCdsZWZ0JywgdG1wKSArICdweCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmVjdFtkaXJdWzFdICE9IDApIHsKICAgICAgICAgICAgICAgICAgICB0bXAgPSBwYXJzZUludChkb20uc3R5bGUudG9wKSArIG9mZnNldC55OwogICAgICAgICAgICAgICAgICAgIGRvbS5zdHlsZS50b3AgPSBtZS5fdmFsaWRTY2FsZWRQcm9wKCd0b3AnLCB0bXApICsgJ3B4JzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChyZWN0W2Rpcl1bMl0gIT0gMCkgewogICAgICAgICAgICAgICAgICAgIHRtcCA9IGRvbS5jbGllbnRXaWR0aCArIHJlY3RbZGlyXVsyXSAqIG9mZnNldC54OwogICAgICAgICAgICAgICAgICAgIGRvbS5zdHlsZS53aWR0aCA9IG1lLl92YWxpZFNjYWxlZFByb3AoJ3dpZHRoJywgdG1wKSArICdweCc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAocmVjdFtkaXJdWzNdICE9IDApIHsKICAgICAgICAgICAgICAgICAgICB0bXAgPSBkb20uY2xpZW50SGVpZ2h0ICsgcmVjdFtkaXJdWzNdICogb2Zmc2V0Lnk7CiAgICAgICAgICAgICAgICAgICAgZG9tLnN0eWxlLmhlaWdodCA9IG1lLl92YWxpZFNjYWxlZFByb3AoJ2hlaWdodCcsIHRtcCkgKyAncHgnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBfdmFsaWRTY2FsZWRQcm9wOiBmdW5jdGlvbiAocHJvcCwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIHZhciBlbGUgPSB0aGlzLnJlc2l6ZXIsCiAgICAgICAgICAgICAgICAgICAgd3JhcCA9IGRvY3VtZW50OwoKICAgICAgICAgICAgICAgIHZhbHVlID0gaXNOYU4odmFsdWUpID8gMCA6IHZhbHVlOwogICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGVmdCc6CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSA8IDAgPyAwIDogKHZhbHVlICsgZWxlLmNsaWVudFdpZHRoKSA+IHdyYXAuY2xpZW50V2lkdGggPyB3cmFwLmNsaWVudFdpZHRoIC0gZWxlLmNsaWVudFdpZHRoIDogdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAndG9wJzoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDwgMCA/IDAgOiAodmFsdWUgKyBlbGUuY2xpZW50SGVpZ2h0KSA+IHdyYXAuY2xpZW50SGVpZ2h0ID8gd3JhcC5jbGllbnRIZWlnaHQgLSBlbGUuY2xpZW50SGVpZ2h0IDogdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnd2lkdGgnOgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgPD0gMCA/IDEgOiAodmFsdWUgKyBlbGUub2Zmc2V0TGVmdCkgPiB3cmFwLmNsaWVudFdpZHRoID8gd3JhcC5jbGllbnRXaWR0aCAtIGVsZS5vZmZzZXRMZWZ0IDogdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGVpZ2h0JzoKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlIDw9IDAgPyAxIDogKHZhbHVlICsgZWxlLm9mZnNldFRvcCkgPiB3cmFwLmNsaWVudEhlaWdodCA/IHdyYXAuY2xpZW50SGVpZ2h0IC0gZWxlLm9mZnNldFRvcCA6IHZhbHVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBoaWRlQ292ZXI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHRoaXMuY292ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2hvd0NvdmVyOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgICAgICAgICAgIGVkaXRvclBvcyA9IGRvbVV0aWxzLmdldFhZKG1lLmVkaXRvci51aS5nZXREb20oKSksCiAgICAgICAgICAgICAgICAgICAgaWZyYW1lUG9zID0gZG9tVXRpbHMuZ2V0WFkobWUuZWRpdG9yLmlmcmFtZSk7CgogICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0U3R5bGVzKG1lLmNvdmVyLCB7CiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogbWUuZWRpdG9yLmlmcmFtZS5vZmZzZXRXaWR0aCArICdweCcsCiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IG1lLmVkaXRvci5pZnJhbWUub2Zmc2V0SGVpZ2h0ICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICAndG9wJzogaWZyYW1lUG9zLnkgLSBlZGl0b3JQb3MueSArICdweCcsCiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBpZnJhbWVQb3MueCAtIGVkaXRvclBvcy54ICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICAncG9zaXRpb24nOiAnYWJzb2x1dGUnLAogICAgICAgICAgICAgICAgICAgICdkaXNwbGF5JzogJycKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uICh0YXJnZXRPYmopIHsKICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgICAgICAgICBtZS5yZXNpemVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgaWYodGFyZ2V0T2JqKSBtZS5hdHRhY2hUbyh0YXJnZXRPYmopOwoKICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKHRoaXMucmVzaXplciwgJ21vdXNlZG93bicsIG1lLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsIG1lKSk7CiAgICAgICAgICAgICAgICBkb21VdGlscy5vbihtZS5kb2MsICdtb3VzZXVwJywgbWUucHJveHkobWUuX2V2ZW50SGFuZGxlciwgbWUpKTsKCiAgICAgICAgICAgICAgICBtZS5zaG93Q292ZXIoKTsKICAgICAgICAgICAgICAgIG1lLmVkaXRvci5maXJlRXZlbnQoJ2FmdGVyc2NhbGVzaG93JywgbWUpOwogICAgICAgICAgICAgICAgbWUuZWRpdG9yLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7CiAgICAgICAgICAgICAgICBtZS5oaWRlQ292ZXIoKTsKICAgICAgICAgICAgICAgIG1lLnJlc2l6ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKCiAgICAgICAgICAgICAgICBkb21VdGlscy51bihtZS5yZXNpemVyLCAnbW91c2Vkb3duJywgbWUucHJveHkobWUuX2V2ZW50SGFuZGxlciwgbWUpKTsKICAgICAgICAgICAgICAgIGRvbVV0aWxzLnVuKG1lLmRvYywgJ21vdXNldXAnLCBtZS5wcm94eShtZS5fZXZlbnRIYW5kbGVyLCBtZSkpOwogICAgICAgICAgICAgICAgbWUuZWRpdG9yLmZpcmVFdmVudCgnYWZ0ZXJzY2FsZWhpZGUnLCBtZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgYXR0YWNoVG86IGZ1bmN0aW9uICh0YXJnZXRPYmopIHsKICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gbWUudGFyZ2V0ID0gdGFyZ2V0T2JqLAogICAgICAgICAgICAgICAgICAgIHJlc2l6ZXIgPSB0aGlzLnJlc2l6ZXIsCiAgICAgICAgICAgICAgICAgICAgaW1nUG9zID0gZG9tVXRpbHMuZ2V0WFkodGFyZ2V0KSwKICAgICAgICAgICAgICAgICAgICBpZnJhbWVQb3MgPSBkb21VdGlscy5nZXRYWShtZS5lZGl0b3IuaWZyYW1lKSwKICAgICAgICAgICAgICAgICAgICBlZGl0b3JQb3MgPSBkb21VdGlscy5nZXRYWShyZXNpemVyLnBhcmVudE5vZGUpOwoKICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldFN0eWxlcyhyZXNpemVyLCB7CiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogdGFyZ2V0LndpZHRoICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICAnaGVpZ2h0JzogdGFyZ2V0LmhlaWdodCArICdweCcsCiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiBpZnJhbWVQb3MueCArIGltZ1Bvcy54IC0gbWUuZWRpdG9yLmRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCAtIGVkaXRvclBvcy54IC0gcGFyc2VJbnQocmVzaXplci5zdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICAndG9wJzogaWZyYW1lUG9zLnkgKyBpbWdQb3MueSAtIG1lLmVkaXRvci5kb2N1bWVudC5ib2R5LnNjcm9sbFRvcCAtIGVkaXRvclBvcy55IC0gcGFyc2VJbnQocmVzaXplci5zdHlsZS5ib3JkZXJUb3BXaWR0aCkgKyAncHgnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0pKCk7CgogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgICBpbWFnZVNjYWxlOwoKICAgICAgICBtZS5zZXRPcHQoJ2ltYWdlU2NhbGVFbmFibGVkJywgdHJ1ZSk7CgogICAgICAgIGlmICggIWJyb3dzZXIuaWUgJiYgbWUub3B0aW9ucy5pbWFnZVNjYWxlRW5hYmxlZCkgewogICAgICAgICAgICBtZS5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAodHlwZSwgZSkgewoKICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLAogICAgICAgICAgICAgICAgICAgIGltZyA9IHJhbmdlLmdldENsb3NlZE5vZGUoKTsKCiAgICAgICAgICAgICAgICBpZiAoaW1nICYmIGltZy50YWdOYW1lID09ICdJTUcnICYmIG1lLmJvZHkuY29udGVudEVkaXRhYmxlIT0iZmFsc2UiKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbWFnZVNjYWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlU2NhbGUgPSBuZXcgU2NhbGUoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VTY2FsZS5pbml0KG1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgbWUudWkuZ2V0RG9tKCkuYXBwZW5kQ2hpbGQoaW1hZ2VTY2FsZS5yZXNpemVyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfa2V5RG93bkhhbmRsZXIgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VTY2FsZS5oaWRlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbWFnZVNjYWxlLnRhcmdldCkgbWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2VsZWN0Tm9kZShpbWFnZVNjYWxlLnRhcmdldCkuc2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIF9tb3VzZURvd25IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlICYmIChlbGUuY2xhc3NOYW1lPT09dW5kZWZpbmVkIHx8IGVsZS5jbGFzc05hbWUuaW5kZXhPZignZWR1aS1lZGl0b3Itc2NhbGUnKSA9PSAtMSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfa2V5RG93bkhhbmRsZXIoZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRpbWVyOwoKICAgICAgICAgICAgICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2FmdGVyc2NhbGVzaG93JywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdiZWZvcmVrZXlkb3duJywgX2tleURvd25IYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdiZWZvcmVtb3VzZWRvd24nLCBfbW91c2VEb3duSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbihkb2N1bWVudCwgJ2tleWRvd24nLCBfa2V5RG93bkhhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMub24oZG9jdW1lbnQsJ21vdXNlZG93bicsIF9tb3VzZURvd25IYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdhZnRlcnNjYWxlaGlkZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5yZW1vdmVMaXN0ZW5lcignYmVmb3Jla2V5ZG93bicsIF9rZXlEb3duSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5yZW1vdmVMaXN0ZW5lcignYmVmb3JlbW91c2Vkb3duJywgX21vdXNlRG93bkhhbmRsZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMudW4oZG9jdW1lbnQsICdrZXlkb3duJywgX2tleURvd25IYW5kbGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnVuKGRvY3VtZW50LCdtb3VzZWRvd24nLCBfbW91c2VEb3duSGFuZGxlcik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gaW1hZ2VTY2FsZS50YXJnZXQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnBhcmVudE5vZGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZWxlY3ROb2RlKHRhcmdldCkuc2VsZWN0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8g5pyJaWZyYW1l55qE5oOF5Ya177yMbW91c2Vkb3du5LiN6IO95b6A5LiL5Lyg44CC44CCCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKGltYWdlU2NhbGUucmVzaXplciwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkucmVtb3ZlQWxsUmFuZ2VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZSAmJiBlbGUuY2xhc3NOYW1lLmluZGV4T2YoJ2VkdWktZWRpdG9yLXNjYWxlLWhhbmQnKSA9PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlU2NhbGUuaGlkZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpbWFnZVNjYWxlLnRhcmdldCkgbWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2VsZWN0Tm9kZShlbGUpLnNlbGVjdCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbihpbWFnZVNjYWxlLnJlc2l6ZXIsICdtb3VzZXVwJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlICYmIGVsZS5jbGFzc05hbWUuaW5kZXhPZignZWR1aS1lZGl0b3Itc2NhbGUtaGFuZCcpID09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGltYWdlU2NhbGUuc2hvdyhpbWcpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTY2FsZSAmJiBpbWFnZVNjYWxlLnJlc2l6ZXIuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIGltYWdlU2NhbGUuaGlkZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChicm93c2VyLndlYmtpdCkgewogICAgICAgICAgICBtZS5hZGRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAodHlwZSwgZSkgewogICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnRhZ05hbWUgPT0gJ0lNRycgJiYgbWUuYm9keS5jb250ZW50RWRpdGFibGUhPSJmYWxzZSIpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50KTsKICAgICAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGUudGFyZ2V0KS5zZWxlY3QoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfQp9KSgpOw0KLy8vaW1wb3J0IGNvcmUNCi8vL2NvbW1hbmRzIOS4uumdnmll5rWP6KeI5Zmo6Ieq5Yqo5re75YqgYeagh+etvg0KLy8vY29tbWFuZHNOYW1lICBBdXRvTGluaw0KLy8vY29tbWFuZHNUaXRsZSAg6Ieq5Yqo5aKe5Yqg6ZO+5o6lDQovKg0KICogQGRlc2NyaXB0aW9uIOS4uumdnmll5rWP6KeI5Zmo6Ieq5Yqo5re75YqgYeagh+etvg0KICogQGF1dGhvciB6aGFueWkNCiAqLw0KDQpVRS5wbHVnaW4ucmVnaXN0ZXIoJ2F1dG9saW5rJyxmdW5jdGlvbigpew0KICAgIHZhciBjb250ID0gMDsNCg0KICAgIHJldHVybiAhYnJvd3Nlci5pZSA/IHsNCg0KICAgICAgICAgICAgYmluZEV2ZW50czp7DQogICAgICAgICAgICAgICAgJ3Jlc2V0JyA6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnQgPSAwOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgJ2tleWRvd24nOmZ1bmN0aW9uKHR5cGUsIGV2dCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlIHx8IGV2dC53aGljaDsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSAzMiB8fCBrZXlDb2RlID09IDEzKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWwgPSBtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKS5jbG9uZVJhbmdlKCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJDb2RlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydC5ub2RlVHlwZSA9PSAxICYmIHJhbmdlLnN0YXJ0T2Zmc2V0ID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldCAtIDFdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RhcnQpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoc3RhcnQsIHN0YXJ0Lm5vZGVUeXBlID09IDEgPyBzdGFydC5jaGlsZE5vZGVzLmxlbmd0aCA6IHN0YXJ0Lm5vZGVWYWx1ZS5sZW5ndGgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS5zdGFydE9mZnNldCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXIucHJldmlvdXNTaWJsaW5nOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChzdGFydCAmJiBzdGFydC5ub2RlVHlwZSA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN0YXJ0Lmxhc3RDaGlsZDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0IHx8IGRvbVV0aWxzLmlzRmlsbENoYXIoc3RhcnQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHN0YXJ0Lm5vZGVWYWx1ZS5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gcmFuZ2Uuc3RhcnRPZmZzZXQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHN0YXJ0LCBvZmZzZXQgLSAxKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZSA9IHJhbmdlLnRvU3RyaW5nKCkuY2hhckNvZGVBdCgwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGNoYXJDb2RlICE9IDE2MCAmJiBjaGFyQ29kZSAhPSAzMik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYW5nZS50b1N0cmluZygpLnJlcGxhY2UobmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwgJ2cnKSwgJycpLm1hdGNoKC8oPzpodHRwcz86XC9cL3xzc2g6XC9cL3xmdHA6XC9cL3xmaWxlOlwvfHd3d1wuKS9pKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKHJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoL14oPzpodHRwcz86XC9cL3xzc2g6XC9cL3xmdHA6XC9cL3xmaWxlOlwvfHd3d1wuKS9pLnRlc3QocmFuZ2UudG9TdHJpbmcoKSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQocmFuZ2Uuc3RhcnRDb250YWluZXIscmFuZ2Uuc3RhcnRPZmZzZXQrMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1jYXRjaChlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MjEyMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcmFuZ2Uuc3RhcnRDb250YWluZXI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSghKG5leHQgPSBzdGFydC5uZXh0U2libGluZykpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzQm9keShzdGFydCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQucGFyZW50Tm9kZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobmV4dCwwKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yYW5nZeeahOW8gOWni+i+ueeVjOW3sue7j+WcqGHmoIfnrb7ph4znmoTkuI3lho3lpITnkIYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCdhJyx0cnVlKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksdGV4dCA9IG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcgJyksaHJlZjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnVuZG9NYW5nZXIgJiYgbWUudW5kb01hbmdlci5zYXZlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5ocmVmID0gYS5pbm5lckhUTUwgPSBhLmlubmVySFRNTC5yZXBsYWNlKC88W14+XSs+L2csJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWYgPSBhLmdldEF0dHJpYnV0ZSgiaHJlZiIpLnJlcGxhY2UobmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwnZycpLCcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBocmVmID0gL14oPzpodHRwcz86XC9cLykvaWcudGVzdChocmVmKSA/IGhyZWYgOiAiaHR0cDovLyIrIGhyZWY7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5zZXRBdHRyaWJ1dGUoJ19zcmMnLHV0aWxzLmh0bWwoaHJlZikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IHV0aWxzLmh0bWwoaHJlZik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dCwgYS5uZXh0U2libGluZyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQodGV4dCwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUudW5kb01hbmdlciAmJiBtZS51bmRvTWFuZ2VyLnNhdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTp7fQ0KICAgIH0sZnVuY3Rpb24oKXsNCiAgICAgICAgdmFyIGtleUNvZGVzID0gew0KICAgICAgICAgICAgMzc6MSwgMzg6MSwgMzk6MSwgNDA6MSwNCiAgICAgICAgICAgIDEzOjEsMzI6MQ0KICAgICAgICB9Ow0KICAgICAgICBmdW5jdGlvbiBjaGVja0lzQ2x1ZGVMaW5rKG5vZGUpew0KICAgICAgICAgICAgaWYobm9kZS5ub2RlVHlwZSA9PSAzKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYobm9kZS5ub2RlTmFtZSA9PSAnQScpew0KICAgICAgICAgICAgICAgIHJldHVybiBub2RlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGxhc3RDaGlsZCA9IG5vZGUubGFzdENoaWxkOw0KDQogICAgICAgICAgICB3aGlsZShsYXN0Q2hpbGQpew0KICAgICAgICAgICAgICAgIGlmKGxhc3RDaGlsZC5ub2RlTmFtZSA9PSAnQScpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFzdENoaWxkOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZihsYXN0Q2hpbGQubm9kZVR5cGUgPT0gMyl7DQogICAgICAgICAgICAgICAgICAgIGlmKGRvbVV0aWxzLmlzV2hpdGVzcGFjZShsYXN0Q2hpbGQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RDaGlsZCA9IGxhc3RDaGlsZC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBsYXN0Q2hpbGQgPSBsYXN0Q2hpbGQubGFzdENoaWxkOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGJyb3dzZXIuaWUgJiYgdGhpcy5hZGRMaXN0ZW5lcigna2V5dXAnLGZ1bmN0aW9uKGNtZCxldnQpew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcyxrZXlDb2RlID0gZXZ0LmtleUNvZGU7DQogICAgICAgICAgICBpZihrZXlDb2Rlc1trZXlDb2RlXSl7DQogICAgICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgICAgIHZhciBzdGFydCA9IHJuZy5zdGFydENvbnRhaW5lcjsNCg0KICAgICAgICAgICAgICAgIGlmKGtleUNvZGUgPT0gMTMpew0KICAgICAgICAgICAgICAgICAgICB3aGlsZShzdGFydCAmJiAhZG9tVXRpbHMuaXNCb2R5KHN0YXJ0KSAmJiAhZG9tVXRpbHMuaXNCbG9ja0VsbShzdGFydCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5wYXJlbnROb2RlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKHN0YXJ0ICYmICFkb21VdGlscy5pc0JvZHkoc3RhcnQpICYmIHN0YXJ0Lm5vZGVOYW1lID09ICdQJyl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJlID0gc3RhcnQucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYocHJlICYmIHByZS5ub2RlVHlwZSA9PSAxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJlID0gY2hlY2tJc0NsdWRlTGluayhwcmUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHByZSAmJiAhcHJlLmdldEF0dHJpYnV0ZSgnX2hyZWYnKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShwcmUsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2UgaWYoa2V5Q29kZSA9PSAzMiApew0KICAgICAgICAgICAgICAgICAgICBpZihzdGFydC5ub2RlVHlwZSA9PSAzICYmIC9eXHMkLy50ZXN0KHN0YXJ0Lm5vZGVWYWx1ZSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBzdGFydC5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdGFydCAmJiBzdGFydC5ub2RlTmFtZSA9PSAnQScgJiYgIXN0YXJ0LmdldEF0dHJpYnV0ZSgnX2hyZWYnKSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHN0YXJ0LHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfWVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsJ2EnLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBpZihzdGFydCAmJiAhc3RhcnQuZ2V0QXR0cmlidXRlKCdfaHJlZicpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiayA9IHJuZy5jcmVhdGVCb29rbWFyaygpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoc3RhcnQsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQoNCg0KICAgICAgICB9KTsNCiAgICB9DQopOw0KLy8vaW1wb3J0IGNvcmUNCi8vL2NvbW1hbmRzIOW9k+i+k+WFpeWGheWuuei2hei/h+e8lui+keWZqOmrmOW6puaXtu+8jOe8lui+keWZqOiHquWKqOWinumrmA0KLy8vY29tbWFuZHNOYW1lICBBdXRvSGVpZ2h0LGF1dG9IZWlnaHRFbmFibGVkDQovLy9jb21tYW5kc1RpdGxlICDoh6rliqjlop7pq5gNCi8qDQogKiBAZGVzY3JpcHRpb24g6Ieq5Yqo5Ly45bGVDQogKiBAYXV0aG9yIHpoYW55aQ0KICovDQpVRS5wbHVnaW5zWydhdXRvaGVpZ2h0J10gPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIG1lID0gdGhpczsNCiAgICAvL+aPkOS+m+W8gOWFs++8jOWwseeul+WKoOi9veS5n+WPr+S7peWFs+mXrQ0KICAgIG1lLmF1dG9IZWlnaHRFbmFibGVkID0gbWUub3B0aW9ucy5hdXRvSGVpZ2h0RW5hYmxlZCAhPT0gZmFsc2U7DQogICAgaWYgKCFtZS5hdXRvSGVpZ2h0RW5hYmxlZCkgew0KICAgICAgICByZXR1cm47DQogICAgfQ0KDQogICAgdmFyIGJha092ZXJmbG93LA0KICAgICAgICBsYXN0SGVpZ2h0ID0gMCwNCiAgICAgICAgb3B0aW9ucyA9IG1lLm9wdGlvbnMsDQogICAgICAgIGN1cnJlbnRIZWlnaHQsDQogICAgICAgIHRpbWVyOw0KDQogICAgZnVuY3Rpb24gYWRqdXN0SGVpZ2h0KCkgew0KICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOw0KICAgICAgICBpZihpc0Z1bGxzY3JlZW4pcmV0dXJuOw0KICAgICAgICBpZiAoIW1lLnF1ZXJ5Q29tbWFuZFN0YXRlIHx8IG1lLnF1ZXJ5Q29tbWFuZFN0YXRlICYmIG1lLnF1ZXJ5Q29tbWFuZFN0YXRlKCdzb3VyY2UnKSAhPSAxKSB7DQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCg0KICAgICAgICAgICAgICAgIHZhciBub2RlID0gbWUuYm9keS5sYXN0Q2hpbGQ7DQogICAgICAgICAgICAgICAgd2hpbGUobm9kZSAmJiBub2RlLm5vZGVUeXBlICE9IDEpew0KICAgICAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PSAxKXsNCiAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5jbGVhciA9ICdib3RoJzsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudEhlaWdodCA9IE1hdGgubWF4KGRvbVV0aWxzLmdldFhZKG5vZGUpLnkgKyBub2RlLm9mZnNldEhlaWdodCArIDI1ICxNYXRoLm1heChvcHRpb25zLm1pbkZyYW1lSGVpZ2h0LCBvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodCkpIDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRIZWlnaHQgIT0gbGFzdEhlaWdodCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2V0SGVpZ2h0KGN1cnJlbnRIZWlnaHQsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBsYXN0SGVpZ2h0ID0gY3VycmVudEhlaWdodDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVTdHlsZShub2RlLCdjbGVhcicpOw0KICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICB9LDUwKQ0KICAgICAgICB9DQogICAgfQ0KICAgIHZhciBpc0Z1bGxzY3JlZW47DQogICAgbWUuYWRkTGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2VkJyxmdW5jdGlvbihjbWQsZil7DQogICAgICAgIGlzRnVsbHNjcmVlbiA9IGYNCiAgICB9KTsNCiAgICBtZS5hZGRMaXN0ZW5lcignZGVzdHJveScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgbWUucmVtb3ZlTGlzdGVuZXIoJ2NvbnRlbnRjaGFuZ2UgYWZ0ZXJpbnNlcnRodG1sIGtleXVwIG1vdXNldXAnLGFkanVzdEhlaWdodCkNCiAgICB9KTsNCiAgICBtZS5lbmFibGVBdXRvSGVpZ2h0ID0gZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICBpZiAoIW1lLmF1dG9IZWlnaHRFbmFibGVkKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIGRvYyA9IG1lLmRvY3VtZW50Ow0KICAgICAgICBtZS5hdXRvSGVpZ2h0RW5hYmxlZCA9IHRydWU7DQogICAgICAgIGJha092ZXJmbG93ID0gZG9jLmJvZHkuc3R5bGUub3ZlcmZsb3dZOw0KICAgICAgICBkb2MuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJzsNCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2NvbnRlbnRjaGFuZ2UgYWZ0ZXJpbnNlcnRodG1sIGtleXVwIG1vdXNldXAnLGFkanVzdEhlaWdodCk7DQogICAgICAgIC8vZmbkuI3nu5nkuovku7bnrpflvpfkuI3lr7kNCg0KICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGFkanVzdEhlaWdodC5jYWxsKG1lKTsNCiAgICAgICAgfSwgYnJvd3Nlci5nZWNrbyA/IDEwMCA6IDApOw0KICAgICAgICBtZS5maXJlRXZlbnQoJ2F1dG9oZWlnaHRjaGFuZ2VkJywgbWUuYXV0b0hlaWdodEVuYWJsZWQpOw0KICAgIH07DQogICAgbWUuZGlzYWJsZUF1dG9IZWlnaHQgPSBmdW5jdGlvbiAoKSB7DQoNCiAgICAgICAgbWUuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSBiYWtPdmVyZmxvdyB8fCAnJzsNCg0KICAgICAgICBtZS5yZW1vdmVMaXN0ZW5lcignY29udGVudGNoYW5nZScsIGFkanVzdEhlaWdodCk7DQogICAgICAgIG1lLnJlbW92ZUxpc3RlbmVyKCdrZXl1cCcsIGFkanVzdEhlaWdodCk7DQogICAgICAgIG1lLnJlbW92ZUxpc3RlbmVyKCdtb3VzZXVwJywgYWRqdXN0SGVpZ2h0KTsNCiAgICAgICAgbWUuYXV0b0hlaWdodEVuYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgbWUuZmlyZUV2ZW50KCdhdXRvaGVpZ2h0Y2hhbmdlZCcsIG1lLmF1dG9IZWlnaHRFbmFibGVkKTsNCiAgICB9Ow0KICAgIG1lLmFkZExpc3RlbmVyKCdyZWFkeScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgbWUuZW5hYmxlQXV0b0hlaWdodCgpOw0KICAgICAgICAvL3RyYWNlOjE3NjQNCiAgICAgICAgdmFyIHRpbWVyOw0KICAgICAgICBkb21VdGlscy5vbihicm93c2VyLmllID8gbWUuYm9keSA6IG1lLmRvY3VtZW50LCBicm93c2VyLndlYmtpdCA/ICdkcmFnb3ZlcicgOiAnZHJvcCcsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7DQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIC8vdHJhY2U6MzY4MQ0KICAgICAgICAgICAgICAgIGFkanVzdEhlaWdodC5jYWxsKG1lKTsNCiAgICAgICAgICAgIH0sIDEwMCk7DQoNCiAgICAgICAgfSk7DQogICAgfSk7DQoNCg0KfTsNCg0KDQovLy9pbXBvcnQgY29yZQ0KLy8vY29tbWFuZHMg5oKs5rWu5bel5YW35qCPDQovLy9jb21tYW5kc05hbWUgIEF1dG9GbG9hdCxhdXRvRmxvYXRFbmFibGVkDQovLy9jb21tYW5kc1RpdGxlICDmgqzmta7lt6XlhbfmoI8NCi8qDQogKiAgbW9kaWZpZWQgYnkgY2hlbmdjaGFvMDENCiAqDQogKiAg5rOo5oSP77yaIOW8leWFpeatpOWKn+iDveWQju+8jOWcqElFNuS4i+S8muWwhmJvZHnnmoTog4zmma/lm77niYfopobnm5bmjonvvIENCiAqLw0KVUUucGx1Z2luc1snYXV0b2Zsb2F0J10gPSBmdW5jdGlvbigpIHsNCiAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICBsYW5nID0gbWUuZ2V0TGFuZygpOw0KICAgIG1lLnNldE9wdCh7DQogICAgICAgIHRvcE9mZnNldDowDQogICAgfSk7DQogICAgdmFyIG9wdHNBdXRvRmxvYXRFbmFibGVkID0gbWUub3B0aW9ucy5hdXRvRmxvYXRFbmFibGVkICE9PSBmYWxzZSwNCiAgICAgICAgdG9wT2Zmc2V0ID0gbWUub3B0aW9ucy50b3BPZmZzZXQ7DQoNCg0KICAgIC8v5aaC5p6c5LiN5Zu65a6adG9vbGJhcueahOS9jee9ru+8jOWImeebtOaOpemAgOWHug0KICAgIGlmKCFvcHRzQXV0b0Zsb2F0RW5hYmxlZCl7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdmFyIHVpVXRpbHMgPSBVRS51aS51aVV0aWxzLA0KICAgICAgICBMdGVJRTYgPSBicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA8PSA2LA0KICAgICAgICBxdWlya3MgPSBicm93c2VyLnF1aXJrczsNCg0KICAgIGZ1bmN0aW9uIGNoZWNrSGFzVUkoKXsNCiAgICAgICAgaWYoIVVFLnVpKXsNCiAgICAgICAgICAgIGFsZXJ0KGxhbmcuYXV0b2Zsb2F0TXNnKTsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAxOw0KICAgIH0NCiAgICBmdW5jdGlvbiBmaXhJRTZGaXhlZFBvcygpew0KICAgICAgICB2YXIgZG9jU3R5bGUgPSBkb2N1bWVudC5ib2R5LnN0eWxlOw0KICAgICAgICBkb2NTdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCJhYm91dDpibGFuayIpJzsNCiAgICAgICAgZG9jU3R5bGUuYmFja2dyb3VuZEF0dGFjaG1lbnQgPSAnZml4ZWQnOw0KICAgIH0NCiAgICB2YXIJYmFrQ3NzVGV4dCwNCiAgICAgICAgcGxhY2VIb2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSwNCiAgICAgICAgdG9vbGJhckJveCxvcmdUb3AsDQogICAgICAgIGdldFBvc2l0aW9uLA0KICAgICAgICBmbGFnID10cnVlOyAgIC8vaWU35qih5byP5LiL6ZyA6KaB5YGP56e7DQogICAgZnVuY3Rpb24gc2V0RmxvYXRpbmcoKXsNCiAgICAgICAgdmFyIHRvb2JhckJveFBvcyA9IGRvbVV0aWxzLmdldFhZKHRvb2xiYXJCb3gpLA0KICAgICAgICAgICAgb3JpZ2FsRmxvYXQgPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRvb2xiYXJCb3gsJ3Bvc2l0aW9uJyksDQogICAgICAgICAgICBvcmlnYWxMZWZ0ID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0b29sYmFyQm94LCdsZWZ0Jyk7DQogICAgICAgIHRvb2xiYXJCb3guc3R5bGUud2lkdGggPSB0b29sYmFyQm94Lm9mZnNldFdpZHRoICsgJ3B4JzsNCiAgICAgICAgdG9vbGJhckJveC5zdHlsZS56SW5kZXggPSBtZS5vcHRpb25zLnpJbmRleCAqIDEgKyAxOw0KICAgICAgICB0b29sYmFyQm94LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBsYWNlSG9sZGVyLCB0b29sYmFyQm94KTsNCiAgICAgICAgaWYgKEx0ZUlFNiB8fCAocXVpcmtzICYmIGJyb3dzZXIuaWUpKSB7DQogICAgICAgICAgICBpZih0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uICE9ICdhYnNvbHV0ZScpew0KICAgICAgICAgICAgICAgIHRvb2xiYXJCb3guc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdG9vbGJhckJveC5zdHlsZS50b3AgPSAoZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApIC0gb3JnVG9wICsgdG9wT2Zmc2V0ICArICdweCc7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpZiAoYnJvd3Nlci5pZTdDb21wYXQgJiYgZmxhZykgew0KICAgICAgICAgICAgICAgIGZsYWcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0b29sYmFyQm94LnN0eWxlLmxlZnQgPSAgZG9tVXRpbHMuZ2V0WFkodG9vbGJhckJveCkueCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KzIgICsgJ3B4JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRvb2xiYXJCb3guc3R5bGUucG9zaXRpb24gIT0gJ2ZpeGVkJyl7DQogICAgICAgICAgICAgICAgdG9vbGJhckJveC5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7DQogICAgICAgICAgICAgICAgdG9vbGJhckJveC5zdHlsZS50b3AgPSB0b3BPZmZzZXQgKyJweCI7DQogICAgICAgICAgICAgICAgKChvcmlnYWxGbG9hdCA9PSAnYWJzb2x1dGUnIHx8IG9yaWdhbEZsb2F0ID09ICdyZWxhdGl2ZScpICYmIHBhcnNlRmxvYXQob3JpZ2FsTGVmdCkpICYmICh0b29sYmFyQm94LnN0eWxlLmxlZnQgPSB0b29iYXJCb3hQb3MueCArICdweCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHVuc2V0RmxvYXRpbmcoKXsNCiAgICAgICAgZmxhZyA9IHRydWU7DQogICAgICAgIGlmKHBsYWNlSG9sZGVyLnBhcmVudE5vZGUpew0KICAgICAgICAgICAgcGxhY2VIb2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwbGFjZUhvbGRlcik7DQogICAgICAgIH0NCg0KICAgICAgICB0b29sYmFyQm94LnN0eWxlLmNzc1RleHQgPSBiYWtDc3NUZXh0Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHVwZGF0ZUZsb2F0aW5nKCl7DQogICAgICAgIHZhciByZWN0MyA9IGdldFBvc2l0aW9uKG1lLmNvbnRhaW5lcik7DQogICAgICAgIHZhciBvZmZzZXQ9bWUub3B0aW9ucy50b29sYmFyVG9wT2Zmc2V0fHwwOw0KICAgICAgICBpZiAocmVjdDMudG9wIDwgMCAmJiByZWN0My5ib3R0b20gLSB0b29sYmFyQm94Lm9mZnNldEhlaWdodCA+IG9mZnNldCkgew0KICAgICAgICAgICAgc2V0RmxvYXRpbmcoKTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB1bnNldEZsb2F0aW5nKCk7DQogICAgICAgIH0NCiAgICB9DQogICAgdmFyIGRlZmVyX3VwZGF0ZUZsb2F0aW5nID0gdXRpbHMuZGVmZXIoZnVuY3Rpb24oKXsNCiAgICAgICAgdXBkYXRlRmxvYXRpbmcoKTsNCiAgICB9LGJyb3dzZXIuaWUgPyAyMDAgOiAxMDAsdHJ1ZSk7DQoNCiAgICBtZS5hZGRMaXN0ZW5lcignZGVzdHJveScsZnVuY3Rpb24oKXsNCiAgICAgICAgZG9tVXRpbHMudW4od2luZG93LCBbJ3Njcm9sbCcsJ3Jlc2l6ZSddLCB1cGRhdGVGbG9hdGluZyk7DQogICAgICAgIG1lLnJlbW92ZUxpc3RlbmVyKCdrZXlkb3duJywgZGVmZXJfdXBkYXRlRmxvYXRpbmcpOw0KICAgIH0pOw0KDQogICAgbWUuYWRkTGlzdGVuZXIoJ3JlYWR5JywgZnVuY3Rpb24oKXsNCiAgICAgICAgaWYoY2hlY2tIYXNVSShtZSkpew0KICAgICAgICAgICAgLy/liqDovb3kuoZ1aee7hOS7tu+8jOS9huWcqG5ld+aXtu+8jOayoeacieWKoOi9vXVp77yM5a+86Ie057yW6L6R5Zmo5a6e5L6L5LiK5rKh5pyJdWnnsbvvvIzmiYDku6Xov5nph4zlgZrliKTmlq0NCiAgICAgICAgICAgIGlmKCFtZS51aSl7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZ2V0UG9zaXRpb24gPSB1aVV0aWxzLmdldENsaWVudFJlY3Q7DQogICAgICAgICAgICB0b29sYmFyQm94ID0gbWUudWkuZ2V0RG9tKCd0b29sYmFyYm94Jyk7DQogICAgICAgICAgICBvcmdUb3AgPSBnZXRQb3NpdGlvbih0b29sYmFyQm94KS50b3A7DQogICAgICAgICAgICBiYWtDc3NUZXh0ID0gdG9vbGJhckJveC5zdHlsZS5jc3NUZXh0Ow0KICAgICAgICAgICAgcGxhY2VIb2xkZXIuc3R5bGUuaGVpZ2h0ID0gdG9vbGJhckJveC5vZmZzZXRIZWlnaHQgKyAncHgnOw0KICAgICAgICAgICAgaWYoTHRlSUU2KXsNCiAgICAgICAgICAgICAgICBmaXhJRTZGaXhlZFBvcygpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZG9tVXRpbHMub24od2luZG93LCBbJ3Njcm9sbCcsJ3Jlc2l6ZSddLCB1cGRhdGVGbG9hdGluZyk7DQogICAgICAgICAgICBtZS5hZGRMaXN0ZW5lcigna2V5ZG93bicsIGRlZmVyX3VwZGF0ZUZsb2F0aW5nKTsNCg0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2JlZm9yZWZ1bGxzY3JlZW5jaGFuZ2UnLCBmdW5jdGlvbiAodCwgZW5hYmxlZCl7DQogICAgICAgICAgICAgICAgaWYgKGVuYWJsZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdW5zZXRGbG9hdGluZygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2VkJywgZnVuY3Rpb24gKHQsIGVuYWJsZWQpew0KICAgICAgICAgICAgICAgIGlmICghZW5hYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVGbG9hdGluZygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ3NvdXJjZW1vZGVjaGFuZ2VkJywgZnVuY3Rpb24gKHQsIGVuYWJsZWQpew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHVwZGF0ZUZsb2F0aW5nKCk7DQogICAgICAgICAgICAgICAgfSwwKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoImNsZWFyRG9jIixmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRmxvYXRpbmcoKTsNCiAgICAgICAgICAgICAgICB9LDApOw0KDQogICAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgfSk7DQp9Ow0KDQovKioNCiAqIOe6r+aWh+acrOeymOi0tOaPkuS7tg0KICogQGZpbGUNCiAqIEBzaW5jZSAxLjIuNi4xDQogKi8NCg0KVUUucGx1Z2luc1sncGFzdGVwbGFpbiddID0gZnVuY3Rpb24oKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIG1lLnNldE9wdCh7DQogICAgICAgICdwYXN0ZXBsYWluJzpmYWxzZSwNCiAgICAgICAgJ2ZpbHRlclR4dFJ1bGVzJyA6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICBmdW5jdGlvbiB0cmFuc1Aobm9kZSl7DQogICAgICAgICAgICAgICAgbm9kZS50YWdOYW1lID0gJ3AnOw0KICAgICAgICAgICAgICAgIG5vZGUuc2V0U3R5bGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZU5vZGUobm9kZSl7DQogICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsdHJ1ZSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgLy/nm7TmjqXliKDpmaTlj4rlhbblrZfoioLngrnlhoXlrrkNCiAgICAgICAgICAgICAgICAnLScgOiAnc2NyaXB0IHN0eWxlIG9iamVjdCBpZnJhbWUgZW1iZWQgaW5wdXQgc2VsZWN0JywNCiAgICAgICAgICAgICAgICAncCc6IHskOnt9fSwNCiAgICAgICAgICAgICAgICAnYnInOnskOnt9fSwNCiAgICAgICAgICAgICAgICBkaXY6IGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlLCBwID0gVUUudU5vZGUuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICB3aGlsZSAodG1wTm9kZSA9IG5vZGUuZmlyc3RDaGlsZCgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG1wTm9kZS50eXBlID09ICd0ZXh0JyB8fCAhVUUuZG9tLmR0ZC4kYmxvY2tbdG1wTm9kZS50YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHAuYXBwZW5kQ2hpbGQodG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwLmZpcnN0Q2hpbGQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsIG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gVUUudU5vZGUuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wTm9kZSwgbm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChwLmZpcnN0Q2hpbGQoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLCBub2RlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBvbDogcmVtb3ZlTm9kZSwNCiAgICAgICAgICAgICAgICB1bDogcmVtb3ZlTm9kZSwNCiAgICAgICAgICAgICAgICBkbDpyZW1vdmVOb2RlLA0KICAgICAgICAgICAgICAgIGR0OnJlbW92ZU5vZGUsDQogICAgICAgICAgICAgICAgZGQ6cmVtb3ZlTm9kZSwNCiAgICAgICAgICAgICAgICAnbGknOnJlbW92ZU5vZGUsDQogICAgICAgICAgICAgICAgJ2NhcHRpb24nOnRyYW5zUCwNCiAgICAgICAgICAgICAgICAndGgnOnRyYW5zUCwNCiAgICAgICAgICAgICAgICAndHInOnRyYW5zUCwNCiAgICAgICAgICAgICAgICAnaDEnOnRyYW5zUCwnaDInOnRyYW5zUCwnaDMnOnRyYW5zUCwnaDQnOnRyYW5zUCwnaDUnOnRyYW5zUCwnaDYnOnRyYW5zUCwNCiAgICAgICAgICAgICAgICAndGQnOmZ1bmN0aW9uKG5vZGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy/msqHmnInlhoXlrrnnmoR0ZOebtOaOpeWIoOaOiQ0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4dCA9ICEhbm9kZS5pbm5lclRleHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR4dCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEFmdGVyKFVFLnVOb2RlLmNyZWF0ZVRleHQoJyAmbmJzcDsgJm5ic3A7Jyksbm9kZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsbm9kZS5pbm5lclRleHQoKSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0oKQ0KICAgIH0pOw0KICAgIC8v5pqC5pe26L+Z6YeM5pSv5oyB5LiA5LiL6ICB54mI5pys55qE5bGe5oCnDQogICAgdmFyIHBhc3RlcGxhaW4gPSBtZS5vcHRpb25zLnBhc3RlcGxhaW47DQoNCiAgICAvKioNCiAgICAgKiDlkK/nlKjmiJblj5bmtojnuq/mlofmnKznspjotLTmqKHlvI8NCiAgICAgKiBAY29tbWFuZCBwYXN0ZXBsYWluDQogICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IGNtZCDlkb3ku6TlrZfnrKbkuLINCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoICdwYXN0ZXBsYWluJyApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5p+l6K+i5b2T5YmN5piv5ZCm5aSE5LqO57qv5paH5pys57KY6LS05qih5byPDQogICAgICogQGNvbW1hbmQgcGFzdGVwbGFpbg0KICAgICAqIEBtZXRob2QgcXVlcnlDb21tYW5kU3RhdGUNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICogQHJldHVybiB7IGludCB9IOWmguaenOWkhOS6jue6r+aWh+acrOaooeW8j++8jOi/lOWbnjHvvIzlkKbliJnvvIzov5Tlm54wDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCAncGFzdGVwbGFpbicgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCiAgICBtZS5jb21tYW5kc1sncGFzdGVwbGFpbiddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gcGFzdGVwbGFpbiA/IDEgOiAwOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICBwYXN0ZXBsYWluID0gIXBhc3RlcGxhaW58MDsNCiAgICAgICAgfSwNCiAgICAgICAgbm90TmVlZFVuZG8gOiAxDQogICAgfTsNCn07DQovKioNCiAqIHZpZGVv5o+S5Lu277yMIOS4ulVFZGl0b3Lmj5Dkvpvop4bpopHmj5LlhaXmlK/mjIENCiAqIEBmaWxlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNClVFLnBsdWdpbnNbJ3ZpZGVvJ10gPSBmdW5jdGlvbiAoKXsNCiAgICB2YXIgbWUgPXRoaXM7DQoNCiAgICAvKg0KICAgICAqIOWIm+W7uuaPkuWFpeinhumikeWtl+espueqnA0KICAgICAqIEBwYXJhbSB1cmwg6KeG6aKR5Zyw5Z2ADQogICAgICogQHBhcmFtIHdpZHRoIOinhumikeWuveW6pg0KICAgICAqIEBwYXJhbSBoZWlnaHQg6KeG6aKR6auY5bqmDQogICAgICogQHBhcmFtIGFsaWduIOinhumikeWvuem9kA0KICAgICAqIEBwYXJhbSB0b0VtYmVkIOaYr+WQpuS7pWZsYXNo5Luj5pu/5pi+56S6DQogICAgICogQHBhcmFtIGFkZFBhcmFncmFwaCAg5piv5ZCm6ZyA6KaB5re75YqgUCDmoIfnrb4NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjcmVhdEluc2VydFN0cih1cmwsd2lkdGgsaGVpZ2h0LGlkLGFsaWduLGNsYXNzbmFtZSx0eXBlKXsNCiAgICAgICAgdmFyIHN0cjsNCiAgICAgICAgc3dpdGNoICh0eXBlKXsNCiAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzoNCiAgICAgICAgICAgICAgICBzdHIgPSAnPGltZyAnICsgKGlkID8gJ2lkPSInICsgaWQrJyInIDogJycpICsgJyB3aWR0aD0iJysgd2lkdGggKyciIGhlaWdodD0iJyArIGhlaWdodCArICciIF91cmw9IicrdXJsKyciIGNsYXNzPSInICsgY2xhc3NuYW1lICsgJyInICArDQogICAgICAgICAgICAgICAgICAgICcgc3JjPSInICsgbWUub3B0aW9ucy5VRURJVE9SX0hPTUVfVVJMKyd0aGVtZXMvZGVmYXVsdC9pbWFnZXMvc3BhY2VyLmdpZiIgc3R5bGU9ImJhY2tncm91bmQ6dXJsKCcrbWUub3B0aW9ucy5VRURJVE9SX0hPTUVfVVJMKyd0aGVtZXMvZGVmYXVsdC9pbWFnZXMvdmlkZW9sb2dvLmdpZikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7IGJvcmRlcjoxcHggc29saWQgZ3JheTsnKyhhbGlnbiA/ICdmbG9hdDonICsgYWxpZ24gKyAnOyc6ICcnKSsnIiAvPicNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGNhc2UgJ2VtYmVkJzoNCiAgICAgICAgICAgICAgICBzdHIgPSAnPGVtYmVkIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiBjbGFzcz0iJyArIGNsYXNzbmFtZSArICciIHBsdWdpbnNwYWdlPSJodHRwOi8vd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyIicgKw0KICAgICAgICAgICAgICAgICAgICAnIHNyYz0iJyArICB1dGlscy5odG1sKHVybCkgKyAnIiB3aWR0aD0iJyArIHdpZHRoICArICciIGhlaWdodD0iJyArIGhlaWdodCAgKyAnIicgICsgKGFsaWduID8gJyBzdHlsZT0iZmxvYXQ6JyArIGFsaWduICsgJyInOiAnJykgKw0KICAgICAgICAgICAgICAgICAgICAnIHdtb2RlPSJ0cmFuc3BhcmVudCIgcGxheT0idHJ1ZSIgbG9vcD0iZmFsc2UiIG1lbnU9ImZhbHNlIiBhbGxvd3NjcmlwdGFjY2Vzcz0ibmV2ZXIiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSIgPic7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICd2aWRlbyc6DQogICAgICAgICAgICAgICAgdmFyIGV4dCA9IHVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKCcuJykgKyAxKTsNCiAgICAgICAgICAgICAgICBpZihleHQgPT0gJ29ndicpIGV4dCA9ICdvZ2cnOw0KICAgICAgICAgICAgICAgIHN0ciA9ICc8dmlkZW8nICsgKGlkID8gJyBpZD0iJyArIGlkICsgJyInIDogJycpICsgJyBjbGFzcz0iJyArIGNsYXNzbmFtZSArICciICcgKyAoYWxpZ24gPyAnIHN0eWxlPSJmbG9hdDonICsgYWxpZ24gKyAnIic6ICcnKSArDQogICAgICAgICAgICAgICAgICAgICcgY29udHJvbHMgcHJlbG9hZD0ibm9uZSIgd2lkdGg9IicgKyB3aWR0aCArICciIGhlaWdodD0iJyArIGhlaWdodCArICciIHNyYz0iJyArIHVybCArICciIGRhdGEtc2V0dXA9Int9Ij4nICsNCiAgICAgICAgICAgICAgICAgICAgJzxzb3VyY2Ugc3JjPSInICsgdXJsICsgJyIgdHlwZT0idmlkZW8vJyArIGV4dCArICciIC8+PC92aWRlbz4nOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBzdHI7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc3dpdGNoSW1nQW5kVmlkZW8ocm9vdCxpbWcydmlkZW8pew0KICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoaW1nMnZpZGVvID8gJ2ltZycgOiAnZW1iZWQgdmlkZW8nKSxmdW5jdGlvbihub2RlKXsNCiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBub2RlLmdldEF0dHIoJ2NsYXNzJyk7DQogICAgICAgICAgICBpZihjbGFzc05hbWUgJiYgY2xhc3NOYW1lLmluZGV4T2YoJ2VkdWktZmFrZWQtdmlkZW8nKSAhPSAtMSl7DQogICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBjcmVhdEluc2VydFN0ciggaW1nMnZpZGVvID8gbm9kZS5nZXRBdHRyKCdfdXJsJykgOiBub2RlLmdldEF0dHIoJ3NyYycpLG5vZGUuZ2V0QXR0cignd2lkdGgnKSxub2RlLmdldEF0dHIoJ2hlaWdodCcpLG51bGwsbm9kZS5nZXRTdHlsZSgnZmxvYXQnKSB8fCAnJyxjbGFzc05hbWUsaW1nMnZpZGVvID8gJ2VtYmVkJzonaW1hZ2UnKTsNCiAgICAgICAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoaHRtbCksbm9kZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZihjbGFzc05hbWUgJiYgY2xhc3NOYW1lLmluZGV4T2YoJ2VkdWktdXBsb2FkLXZpZGVvJykgIT0gLTEpew0KICAgICAgICAgICAgICAgIHZhciBodG1sID0gY3JlYXRJbnNlcnRTdHIoIGltZzJ2aWRlbyA/IG5vZGUuZ2V0QXR0cignX3VybCcpIDogbm9kZS5nZXRBdHRyKCdzcmMnKSxub2RlLmdldEF0dHIoJ3dpZHRoJyksbm9kZS5nZXRBdHRyKCdoZWlnaHQnKSxudWxsLG5vZGUuZ2V0U3R5bGUoJ2Zsb2F0JykgfHwgJycsY2xhc3NOYW1lLGltZzJ2aWRlbyA/ICd2aWRlbyc6J2ltYWdlJyk7DQogICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChVRS51Tm9kZS5jcmVhdGVFbGVtZW50KGh0bWwpLG5vZGUpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgIH0NCg0KICAgIG1lLmFkZE91dHB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7DQogICAgICAgIHN3aXRjaEltZ0FuZFZpZGVvKHJvb3QsdHJ1ZSkNCiAgICB9KTsNCiAgICBtZS5hZGRJbnB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7DQogICAgICAgIHN3aXRjaEltZ0FuZFZpZGVvKHJvb3QpDQogICAgfSk7DQoNCiAgICAvKioNCiAgICAgKiDmj5LlhaXop4bpopENCiAgICAgKiBAY29tbWFuZCBpbnNlcnR2aWRlbw0KICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICogQHBhcmFtIHsgT2JqZWN0IH0gdmlkZW9BdHRyIOmUruWAvOWvueWvueixoe+8jCDmj4/ov7DkuIDkuKrop4bpopHnmoTmiYDmnInlsZ7mgKcNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIHZhciB2aWRlb0F0dHIgPSB7DQogICAgICogICAgICAvL+inhumikeWcsOWdgA0KICAgICAqICAgICAgdXJsOiAnaHR0cDovL3d3dy55b3VrdS5jb20veHh4JywNCiAgICAgKiAgICAgIC8v6KeG6aKR5a696auY5YC877yMIOWNleS9jXB4DQogICAgICogICAgICB3aWR0aDogMjAwLA0KICAgICAqICAgICAgaGVpZ2h0OiAxMDANCiAgICAgKiB9Ow0KICAgICAqDQogICAgICogLy9lZGl0b3Ig5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICogLy/lkJHnvJbovpHlmajmj5LlhaXljZXkuKrop4bpopENCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnR2aWRlbycsIHZpZGVvQXR0ciApOw0KICAgICAqIGBgYA0KICAgICAqLw0KDQogICAgLyoqDQogICAgICog5o+S5YWl6KeG6aKRDQogICAgICogQGNvbW1hbmQgaW5zZXJ0dmlkZW8NCiAgICAgKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEBwYXJhbSB7IEFycmF5IH0gdmlkZW9BcnIg6ZyA6KaB5o+S5YWl55qE6KeG6aKR55qE5pWw57uE77yMIOWFtuS4reeahOavj+S4gOS4quWFg+e0oOmDveaYr+S4gOS4qumUruWAvOWvueWvueixoe+8jCDmj4/ov7DkuobkuIDkuKrop4bpopHnmoTmiYDmnInlsZ7mgKcNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKg0KICAgICAqIHZhciB2aWRlb0F0dHIxID0gew0KICAgICAqICAgICAgLy/op4bpopHlnLDlnYANCiAgICAgKiAgICAgIHVybDogJ2h0dHA6Ly93d3cueW91a3UuY29tL3h4eCcsDQogICAgICogICAgICAvL+inhumikeWuvemrmOWAvO+8jCDljZXkvY1weA0KICAgICAqICAgICAgd2lkdGg6IDIwMCwNCiAgICAgKiAgICAgIGhlaWdodDogMTAwDQogICAgICogfSwNCiAgICAgKiB2aWRlb0F0dHIyID0gew0KICAgICAqICAgICAgLy/op4bpopHlnLDlnYANCiAgICAgKiAgICAgIHVybDogJ2h0dHA6Ly93d3cueW91a3UuY29tL3h4eCcsDQogICAgICogICAgICAvL+inhumikeWuvemrmOWAvO+8jCDljZXkvY1weA0KICAgICAqICAgICAgd2lkdGg6IDIwMCwNCiAgICAgKiAgICAgIGhlaWdodDogMTAwDQogICAgICogfQ0KICAgICAqDQogICAgICogLy9lZGl0b3Ig5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICogLy/or6Xmlrnms5XlsIbkvJrlkJHnvJbovpHlmajlhoXmj5LlhaXkuKTkuKrop4bpopENCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnR2aWRlbycsIFsgdmlkZW9BdHRyMSwgdmlkZW9BdHRyMiBdICk7DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDmn6Xor6LlvZPliY3lhYnmoIfmiYDlnKjlpITmmK/lkKbmmK/kuIDkuKrop4bpopENCiAgICAgKiBAY29tbWFuZCBpbnNlcnR2aWRlbw0KICAgICAqIEBtZXRob2QgcXVlcnlDb21tYW5kU3RhdGUNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg6ZyA6KaB5p+l6K+i55qE5ZG95Luk5a2X56ym5LiyDQogICAgICogQHJldHVybiB7IGludCB9IOWmguaenOW9k+WJjeWFieagh+aJgOWcqOWkhOeahOWFg+e0oOaYr+S4gOS4quinhumikeWvueixoe+8jCDliJnov5Tlm54x77yM5ZCm5YiZ6L+U5ZueMA0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqDQogICAgICogLy9lZGl0b3Ig5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICogZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCAnaW5zZXJ0dmlkZW8nICk7DQogICAgICogYGBgDQogICAgICovDQogICAgbWUuY29tbWFuZHNbImluc2VydHZpZGVvIl0gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kLCB2aWRlb09ianMsIHR5cGUpew0KICAgICAgICAgICAgdmlkZW9PYmpzID0gdXRpbHMuaXNBcnJheSh2aWRlb09ianMpP3ZpZGVvT2JqczpbdmlkZW9PYmpzXTsNCiAgICAgICAgICAgIHZhciBodG1sID0gW10saWQgPSAndG1wVmVkaW8nLCBjbDsNCiAgICAgICAgICAgIGZvcih2YXIgaT0wLHZpLGxlbiA9IHZpZGVvT2Jqcy5sZW5ndGg7aTxsZW47aSsrKXsNCiAgICAgICAgICAgICAgICB2aSA9IHZpZGVvT2Jqc1tpXTsNCiAgICAgICAgICAgICAgICBjbCA9ICh0eXBlID09ICd1cGxvYWQnID8gJ2VkdWktdXBsb2FkLXZpZGVvIHZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4nOidlZHVpLWZha2VkLXZpZGVvJyk7DQogICAgICAgICAgICAgICAgaHRtbC5wdXNoKGNyZWF0SW5zZXJ0U3RyKCB2aS51cmwsIHZpLndpZHRoIHx8IDQyMCwgIHZpLmhlaWdodCB8fCAyODAsIGlkICsgaSwgbnVsbCwgY2wsICdpbWFnZScpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCJpbnNlcnRodG1sIixodG1sLmpvaW4oIiIpLHRydWUpOw0KICAgICAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBmb3IodmFyIGk9IDAsbGVuPXZpZGVvT2Jqcy5sZW5ndGg7aTxsZW47aSsrKXsNCiAgICAgICAgICAgICAgICB2YXIgaW1nID0gdGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG1wVmVkaW8nK2kpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoaW1nLCdpZCcpOw0KICAgICAgICAgICAgICAgIHJuZy5zZWxlY3ROb2RlKGltZykuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2ltYWdlZmxvYXQnLHZpZGVvT2Jqc1tpXS5hbGlnbikNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGUgOiBmdW5jdGlvbigpew0KICAgICAgICAgICAgdmFyIGltZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKSwNCiAgICAgICAgICAgICAgICBmbGFnID0gaW1nICYmIChpbWcuY2xhc3NOYW1lID09ICJlZHVpLWZha2VkLXZpZGVvIiB8fCBpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktdXBsb2FkLXZpZGVvIikhPS0xKTsNCiAgICAgICAgICAgIHJldHVybiBmbGFnID8gMSA6IDA7DQogICAgICAgIH0NCiAgICB9Ow0KfTsNCi8qKg0KICogQ3JlYXRlZCB3aXRoIEpldEJyYWlucyBXZWJTdG9ybS4NCiAqIFVzZXI6IHRhb3FpbGkNCiAqIERhdGU6IDEzLTEtMTgNCiAqIFRpbWU6IOS4iuWNiDExOjA5DQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCi8qKg0KICogVUXooajmoLzmk43kvZznsbsNCiAqIEBwYXJhbSB0YWJsZQ0KICogQGNvbnN0cnVjdG9yDQogKi8NCihmdW5jdGlvbiAoKSB7DQogICAgdmFyIFVFVGFibGUgPSBVRS5VRVRhYmxlID0gZnVuY3Rpb24gKHRhYmxlKSB7DQogICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTsNCiAgICAgICAgdGhpcy5pbmRleFRhYmxlID0gW107DQogICAgICAgIHRoaXMuc2VsZWN0ZWRUZHMgPSBbXTsNCiAgICAgICAgdGhpcy5jZWxsc1JhbmdlID0ge307DQogICAgICAgIHRoaXMudXBkYXRlKHRhYmxlKTsNCiAgICB9Ow0KDQogICAgLy89PT3ku6XkuIvkuLrpnZnmgIHlt6Xlhbfmlrnms5U9PT0NCiAgICBVRVRhYmxlLnJlbW92ZVNlbGVjdGVkQ2xhc3MgPSBmdW5jdGlvbiAoY2VsbHMpIHsNCiAgICAgICAgdXRpbHMuZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwpIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUNsYXNzZXMoY2VsbCwgInNlbGVjdFRkQ2xhc3MiKTsNCiAgICAgICAgfSkNCiAgICB9Ow0KICAgIFVFVGFibGUuYWRkU2VsZWN0ZWRDbGFzcyA9IGZ1bmN0aW9uIChjZWxscykgew0KICAgICAgICB1dGlscy5lYWNoKGNlbGxzLCBmdW5jdGlvbiAoY2VsbCkgew0KICAgICAgICAgICAgZG9tVXRpbHMuYWRkQ2xhc3MoY2VsbCwgInNlbGVjdFRkQ2xhc3MiKTsNCiAgICAgICAgfSkNCiAgICB9Ow0KICAgIFVFVGFibGUuaXNFbXB0eUJsb2NrID0gZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsICdnJyk7DQogICAgICAgIGlmIChub2RlW2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCddLnJlcGxhY2UoL15ccyokLywgJycpLnJlcGxhY2UocmVnLCAnJykubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaSBpbiBkdGQuJGlzTm90RW1wdHkpIGlmIChkdGQuJGlzTm90RW1wdHkuaGFzT3duUHJvcGVydHkoaSkpIHsNCiAgICAgICAgICAgIGlmIChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGkpLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAxOw0KICAgIH07DQogICAgVUVUYWJsZS5nZXRXaWR0aCA9IGZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgIGlmICghY2VsbClyZXR1cm4gMDsNCiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoY2VsbCwgIndpZHRoIiksIDEwKTsNCiAgICB9Ow0KDQogICAgLyoqDQogICAgICog6I635Y+W5Y2V5YWD5qC85oiW6ICF5Y2V5YWD5qC857uE55qE4oCc5a+56b2Q4oCd54q25oCB44CCIOWmguaenOW9k+WJjeeahOajgOa1i+WvueixoeaYr+S4gOS4quWNleWFg+agvOe7hO+8jCDlj6rmnInlnKjmu6HotrPmiYDmnInljZXlhYPmoLznmoQg5rC05bmz5ZKM56uW55u0IOWvuem9kOWxnuaAp+mDveebuOWQjOeahA0KICAgICAqIOadoeS7tuaXtuaJjeS8mui/lOWbnuWFtueKtuaAgeWAvO+8jOWQpuWImeWwhui/lOWbnm51bGzvvJsg5aaC5p6c5b2T5YmN5Y+q5qOA5rWL5LqG5LiA5Liq5Y2V5YWD5qC877yMIOWImeebtOaOpei/lOWbnuW9k+WJjeWNleWFg+agvOeahOWvuem9kOeKtuaAge+8mw0KICAgICAqIEBwYXJhbSB0YWJsZSBjZWxsIG9yIHRhYmxlIGNlbGxzICwg5pSv5oyB5Y2V5Liq5Y2V5YWD5qC8ZG9t5a+56LGhIOaIluiAhSDljZXlhYPmoLxkb23lr7nosaHmlbDnu4QNCiAgICAgKiBAcmV0dXJuIHsgYWxpZ246ICdsZWZ0JyB8fCAncmlnaHQnIHx8ICdjZW50ZXInLCB2YWxpZ246ICd0b3AnIHx8ICdtaWRkbGUnIHx8ICdib3R0b20nIH0g5oiW6ICFIG51bGwNCiAgICAgKi8NCiAgICBVRVRhYmxlLmdldFRhYmxlQ2VsbEFsaWduU3RhdGUgPSBmdW5jdGlvbiAoIGNlbGxzICkgew0KDQogICAgICAgICF1dGlscy5pc0FycmF5KCBjZWxscyApICYmICggY2VsbHMgPSBbY2VsbHNdICk7DQoNCiAgICAgICAgdmFyIHJlc3VsdCA9IHt9LA0KICAgICAgICAgICAgc3RhdHVzID0gWydhbGlnbicsICd2YWxpZ24nXSwNCiAgICAgICAgICAgIHRlbXBTdGF0dXMgPSBudWxsLA0KICAgICAgICAgICAgaXNTYW1lID0gdHJ1ZTsvL+eKtuaAgeaYr+WQpuebuOWQjA0KDQogICAgICAgIHV0aWxzLmVhY2goIGNlbGxzLCBmdW5jdGlvbiggY2VsbE5vZGUgKXsNCg0KICAgICAgICAgICAgdXRpbHMuZWFjaCggc3RhdHVzLCBmdW5jdGlvbiggY3VycmVudFN0YXRlICl7DQoNCiAgICAgICAgICAgICAgICB0ZW1wU3RhdHVzID0gY2VsbE5vZGUuZ2V0QXR0cmlidXRlKCBjdXJyZW50U3RhdGUgKTsNCg0KICAgICAgICAgICAgICAgIGlmKCAhcmVzdWx0WyBjdXJyZW50U3RhdGUgXSAmJiB0ZW1wU3RhdHVzICkgew0KICAgICAgICAgICAgICAgICAgICByZXN1bHRbIGN1cnJlbnRTdGF0ZSBdID0gdGVtcFN0YXR1czsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoICFyZXN1bHRbIGN1cnJlbnRTdGF0ZSBdIHx8ICggdGVtcFN0YXR1cyAhPT0gcmVzdWx0WyBjdXJyZW50U3RhdGUgXSApICkgew0KICAgICAgICAgICAgICAgICAgICBpc1NhbWUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfSApOw0KDQogICAgICAgICAgICByZXR1cm4gaXNTYW1lOw0KDQogICAgICAgIH0pOw0KDQogICAgICAgIHJldHVybiBpc1NhbWUgPyByZXN1bHQgOiBudWxsOw0KDQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOagueaNruW9k+WJjemAieWMuuiOt+WPluebuOWFs+eahHRhYmxl5L+h5oGvDQogICAgICogQHJldHVybiB7T2JqZWN0fQ0KICAgICAqLw0KICAgIFVFVGFibGUuZ2V0VGFibGVJdGVtc0J5UmFuZ2UgPSBmdW5jdGlvbiAoZWRpdG9yKSB7DQogICAgICAgIHZhciBzdGFydCA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0U3RhcnQoKTsNCg0KICAgICAgICAvL2Zm5LiL5Lya6YCJ5LitYm9va21hcmsNCiAgICAgICAgaWYoIHN0YXJ0ICYmIHN0YXJ0LmlkICYmIHN0YXJ0LmlkLmluZGV4T2YoJ19iYWlkdV9ib29rbWFya19zdGFydF8nKSA9PT0gMCApIHsNCiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnQubmV4dFNpYmxpbmc7DQogICAgICAgIH0NCg0KICAgICAgICAvL+WcqHRhYmxl5oiW6ICFdGTovrnnvJjmnInlj6/og73lrZjlnKjpgInkuK10cueahOaDheWGtQ0KICAgICAgICB2YXIgY2VsbCA9IHN0YXJ0ICYmIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsIFsidGQiLCAidGgiXSwgdHJ1ZSksDQogICAgICAgICAgICB0ciA9IGNlbGwgJiYgY2VsbC5wYXJlbnROb2RlLA0KICAgICAgICAgICAgY2FwdGlvbiA9IHN0YXJ0ICYmIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsICdjYXB0aW9uJywgdHJ1ZSksDQogICAgICAgICAgICB0YWJsZSA9IGNhcHRpb24gPyBjYXB0aW9uLnBhcmVudE5vZGUgOiB0ciAmJiB0ci5wYXJlbnROb2RlLnBhcmVudE5vZGU7DQoNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGNlbGw6Y2VsbCwNCiAgICAgICAgICAgIHRyOnRyLA0KICAgICAgICAgICAgdGFibGU6dGFibGUsDQogICAgICAgICAgICBjYXB0aW9uOmNhcHRpb24NCiAgICAgICAgfQ0KICAgIH07DQogICAgVUVUYWJsZS5nZXRVRVRhYmxlQnlTZWxlY3RlZCA9IGZ1bmN0aW9uIChlZGl0b3IpIHsNCiAgICAgICAgdmFyIHRhYmxlID0gVUVUYWJsZS5nZXRUYWJsZUl0ZW1zQnlSYW5nZShlZGl0b3IpLnRhYmxlOw0KICAgICAgICBpZiAodGFibGUgJiYgdGFibGUudWVUYWJsZSAmJiB0YWJsZS51ZVRhYmxlLnNlbGVjdGVkVGRzLmxlbmd0aCkgew0KICAgICAgICAgICAgcmV0dXJuIHRhYmxlLnVlVGFibGU7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG51bGw7DQogICAgfTsNCg0KICAgIFVFVGFibGUuZ2V0RGVmYXVsdFZhbHVlID0gZnVuY3Rpb24gKGVkaXRvciwgdGFibGUpIHsNCiAgICAgICAgdmFyIGJvcmRlck1hcCA9IHsNCiAgICAgICAgICAgICAgICB0aGluOicwcHgnLA0KICAgICAgICAgICAgICAgIG1lZGl1bTonMXB4JywNCiAgICAgICAgICAgICAgICB0aGljazonMnB4Jw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRhYmxlQm9yZGVyLCB0ZFBhZGRpbmcsIHRkQm9yZGVyLCB0bXBWYWx1ZTsNCiAgICAgICAgaWYgKCF0YWJsZSkgew0KICAgICAgICAgICAgdGFibGUgPSBlZGl0b3IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGFibGUnKTsNCiAgICAgICAgICAgIHRhYmxlLmluc2VydFJvdygwKS5pbnNlcnRDZWxsKDApLmlubmVySFRNTCA9ICd4eHgnOw0KICAgICAgICAgICAgZWRpdG9yLmJvZHkuYXBwZW5kQ2hpbGQodGFibGUpOw0KICAgICAgICAgICAgdmFyIHRkID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJylbMF07DQogICAgICAgICAgICB0bXBWYWx1ZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodGFibGUsICdib3JkZXItbGVmdC13aWR0aCcpOw0KICAgICAgICAgICAgdGFibGVCb3JkZXIgPSBwYXJzZUludChib3JkZXJNYXBbdG1wVmFsdWVdIHx8IHRtcFZhbHVlLCAxMCk7DQogICAgICAgICAgICB0bXBWYWx1ZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodGQsICdwYWRkaW5nLWxlZnQnKTsNCiAgICAgICAgICAgIHRkUGFkZGluZyA9IHBhcnNlSW50KGJvcmRlck1hcFt0bXBWYWx1ZV0gfHwgdG1wVmFsdWUsIDEwKTsNCiAgICAgICAgICAgIHRtcFZhbHVlID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0ZCwgJ2JvcmRlci1sZWZ0LXdpZHRoJyk7DQogICAgICAgICAgICB0ZEJvcmRlciA9IHBhcnNlSW50KGJvcmRlck1hcFt0bXBWYWx1ZV0gfHwgdG1wVmFsdWUsIDEwKTsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0YWJsZSk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHRhYmxlQm9yZGVyOnRhYmxlQm9yZGVyLA0KICAgICAgICAgICAgICAgIHRkUGFkZGluZzp0ZFBhZGRpbmcsDQogICAgICAgICAgICAgICAgdGRCb3JkZXI6dGRCb3JkZXINCiAgICAgICAgICAgIH07DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0ZCA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0ZCcpWzBdOw0KICAgICAgICAgICAgdG1wVmFsdWUgPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRhYmxlLCAnYm9yZGVyLWxlZnQtd2lkdGgnKTsNCiAgICAgICAgICAgIHRhYmxlQm9yZGVyID0gcGFyc2VJbnQoYm9yZGVyTWFwW3RtcFZhbHVlXSB8fCB0bXBWYWx1ZSwgMTApOw0KICAgICAgICAgICAgdG1wVmFsdWUgPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRkLCAncGFkZGluZy1sZWZ0Jyk7DQogICAgICAgICAgICB0ZFBhZGRpbmcgPSBwYXJzZUludChib3JkZXJNYXBbdG1wVmFsdWVdIHx8IHRtcFZhbHVlLCAxMCk7DQogICAgICAgICAgICB0bXBWYWx1ZSA9IGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodGQsICdib3JkZXItbGVmdC13aWR0aCcpOw0KICAgICAgICAgICAgdGRCb3JkZXIgPSBwYXJzZUludChib3JkZXJNYXBbdG1wVmFsdWVdIHx8IHRtcFZhbHVlLCAxMCk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHRhYmxlQm9yZGVyOnRhYmxlQm9yZGVyLA0KICAgICAgICAgICAgICAgIHRkUGFkZGluZzp0ZFBhZGRpbmcsDQogICAgICAgICAgICAgICAgdGRCb3JkZXI6dGRCb3JkZXINCiAgICAgICAgICAgIH07DQogICAgICAgIH0NCiAgICB9Ow0KICAgIC8qKg0KICAgICAqIOagueaNruW9k+WJjeeCueWHu+eahHRk5oiW6ICFdGFibGXojrflj5bntKLlvJXlr7nosaENCiAgICAgKiBAcGFyYW0gdGRPclRhYmxlDQogICAgICovDQogICAgVUVUYWJsZS5nZXRVRVRhYmxlID0gZnVuY3Rpb24gKHRkT3JUYWJsZSkgew0KICAgICAgICB2YXIgdGFnID0gdGRPclRhYmxlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgdGRPclRhYmxlID0gKHRhZyA9PSAidGQiIHx8IHRhZyA9PSAidGgiIHx8IHRhZyA9PSAnY2FwdGlvbicpID8gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0ZE9yVGFibGUsICJ0YWJsZSIsIHRydWUpIDogdGRPclRhYmxlOw0KICAgICAgICBpZiAoIXRkT3JUYWJsZS51ZVRhYmxlKSB7DQogICAgICAgICAgICB0ZE9yVGFibGUudWVUYWJsZSA9IG5ldyBVRVRhYmxlKHRkT3JUYWJsZSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRkT3JUYWJsZS51ZVRhYmxlOw0KICAgIH07DQoNCiAgICBVRVRhYmxlLmNsb25lQ2VsbCA9IGZ1bmN0aW9uKGNlbGwsaWdub3JlTWVyZ2Usa2VlcFBybyl7DQogICAgICAgIGlmICghY2VsbCB8fCB1dGlscy5pc1N0cmluZyhjZWxsKSkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFibGUub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KGNlbGwgfHwgJ3RkJyk7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGZsYWcgPSBkb21VdGlscy5oYXNDbGFzcyhjZWxsLCAic2VsZWN0VGRDbGFzcyIpOw0KICAgICAgICBmbGFnICYmIGRvbVV0aWxzLnJlbW92ZUNsYXNzZXMoY2VsbCwgInNlbGVjdFRkQ2xhc3MiKTsNCiAgICAgICAgdmFyIHRtcENlbGwgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTsNCiAgICAgICAgaWYgKGlnbm9yZU1lcmdlKSB7DQogICAgICAgICAgICB0bXBDZWxsLnJvd1NwYW4gPSB0bXBDZWxsLmNvbFNwYW4gPSAxOw0KICAgICAgICB9DQogICAgICAgIC8v5Y675o6J5a696auYDQogICAgICAgICFrZWVwUHJvICYmIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXModG1wQ2VsbCwnd2lkdGggaGVpZ2h0Jyk7DQogICAgICAgICFrZWVwUHJvICYmIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXModG1wQ2VsbCwnc3R5bGUnKTsNCg0KICAgICAgICB0bXBDZWxsLnN0eWxlLmJvcmRlckxlZnRTdHlsZSA9ICIiOw0KICAgICAgICB0bXBDZWxsLnN0eWxlLmJvcmRlclRvcFN0eWxlID0gIiI7DQogICAgICAgIHRtcENlbGwuc3R5bGUuYm9yZGVyTGVmdENvbG9yID0gY2VsbC5zdHlsZS5ib3JkZXJSaWdodENvbG9yOw0KICAgICAgICB0bXBDZWxsLnN0eWxlLmJvcmRlckxlZnRXaWR0aCA9IGNlbGwuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aDsNCiAgICAgICAgdG1wQ2VsbC5zdHlsZS5ib3JkZXJUb3BDb2xvciA9IGNlbGwuc3R5bGUuYm9yZGVyQm90dG9tQ29sb3I7DQogICAgICAgIHRtcENlbGwuc3R5bGUuYm9yZGVyVG9wV2lkdGggPSBjZWxsLnN0eWxlLmJvcmRlckJvdHRvbVdpZHRoOw0KICAgICAgICBmbGFnICYmIGRvbVV0aWxzLmFkZENsYXNzKGNlbGwsICJzZWxlY3RUZENsYXNzIik7DQogICAgICAgIHJldHVybiB0bXBDZWxsOw0KICAgIH0NCg0KICAgIFVFVGFibGUucHJvdG90eXBlID0gew0KICAgICAgICBnZXRNYXhSb3dzOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciByb3dzID0gdGhpcy50YWJsZS5yb3dzLCBtYXhMZW4gPSAxOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHJvdzsgcm93ID0gcm93c1tpXTsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRNYXggPSAxOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBjajsgY2ogPSByb3cuY2VsbHNbaisrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1heCA9IE1hdGgubWF4KGNqLnJvd1NwYW4gfHwgMSwgY3VycmVudE1heCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG1heExlbiA9IE1hdGgubWF4KGN1cnJlbnRNYXggKyBpLCBtYXhMZW4pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG1heExlbjsNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPluW9k+WJjeihqOagvOeahOacgOWkp+WIl+aVsA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0TWF4Q29sczpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMudGFibGUucm93cywgbWF4TGVuID0gMCwgY2VsbFJvd3MgPSB7fTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCByb3c7IHJvdyA9IHJvd3NbaV07IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBjZWxsc051bSA9IDA7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGNqOyBjaiA9IHJvdy5jZWxsc1tqKytdOykgew0KICAgICAgICAgICAgICAgICAgICBjZWxsc051bSArPSAoY2ouY29sU3BhbiB8fCAxKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNqLnJvd1NwYW4gJiYgY2oucm93U3BhbiA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAxOyBrIDwgY2oucm93U3BhbjsgaysrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjZWxsUm93c1sncm93XycgKyAoaSArIGspXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsUm93c1sncm93XycgKyAoaSArIGspXSA9IChjai5jb2xTcGFuIHx8IDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxSb3dzWydyb3dfJyArIChpICsgayldKysNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjZWxsc051bSArPSBjZWxsUm93c1sncm93XycgKyBpXSB8fCAwOw0KICAgICAgICAgICAgICAgIG1heExlbiA9IE1hdGgubWF4KGNlbGxzTnVtLCBtYXhMZW4pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG1heExlbjsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0Q2VsbENvbEluZGV4OmZ1bmN0aW9uIChjZWxsKSB7DQoNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPluW9k+WJjWNlbGzml4HovrnnmoTljZXlhYPmoLzvvIwNCiAgICAgICAgICogQHBhcmFtIGNlbGwNCiAgICAgICAgICogQHBhcmFtIHJpZ2h0DQogICAgICAgICAqLw0KICAgICAgICBnZXRIU2lkZUNlbGw6ZnVuY3Rpb24gKGNlbGwsIHJpZ2h0KSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBjZWxsSW5mbyA9IHRoaXMuZ2V0Q2VsbEluZm8oY2VsbCksDQogICAgICAgICAgICAgICAgICAgIHByZXZpZXdSb3dJbmRleCwgcHJldmlld0NvbEluZGV4Ow0KICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLnNlbGVjdGVkVGRzLmxlbmd0aCwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgLy/pppbooYzmiJbogIXpppbliJfmsqHmnInliY3nva7ljZXlhYPmoLwNCiAgICAgICAgICAgICAgICBpZiAoKCFyaWdodCAmJiAoIWxlbiA/ICFjZWxsSW5mby5jb2xJbmRleCA6ICFyYW5nZS5iZWdpbkNvbEluZGV4KSkgfHwgKHJpZ2h0ICYmICghbGVuID8gKGNlbGxJbmZvLmNvbEluZGV4ID09ICh0aGlzLmNvbHNOdW0gLSAxKSkgOiAocmFuZ2UuZW5kQ29sSW5kZXggPT0gdGhpcy5jb2xzTnVtIC0gMSkpKSkgcmV0dXJuIG51bGw7DQoNCiAgICAgICAgICAgICAgICBwcmV2aWV3Um93SW5kZXggPSAhbGVuID8gY2VsbEluZm8ucm93SW5kZXggOiByYW5nZS5iZWdpblJvd0luZGV4Ow0KICAgICAgICAgICAgICAgIHByZXZpZXdDb2xJbmRleCA9ICFyaWdodCA/ICggIWxlbiA/IChjZWxsSW5mby5jb2xJbmRleCA8IDEgPyAwIDogKGNlbGxJbmZvLmNvbEluZGV4IC0gMSkpIDogcmFuZ2UuYmVnaW5Db2xJbmRleCAtIDEpDQogICAgICAgICAgICAgICAgICAgIDogKCAhbGVuID8gY2VsbEluZm8uY29sSW5kZXggKyAxIDogcmFuZ2UuZW5kQ29sSW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDZWxsKHRoaXMuaW5kZXhUYWJsZVtwcmV2aWV3Um93SW5kZXhdW3ByZXZpZXdDb2xJbmRleF0ucm93SW5kZXgsIHRoaXMuaW5kZXhUYWJsZVtwcmV2aWV3Um93SW5kZXhdW3ByZXZpZXdDb2xJbmRleF0uY2VsbEluZGV4KTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBzaG93RXJyb3IoZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldFRhYk5leHRDZWxsOmZ1bmN0aW9uIChjZWxsLCBwcmVSb3dJbmRleCkgew0KICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICByb3dJbmRleCA9IHByZVJvd0luZGV4IHx8IGNlbGxJbmZvLnJvd0luZGV4LA0KICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gY2VsbEluZm8uY29sSW5kZXggKyAxICsgKGNlbGxJbmZvLmNvbFNwYW4gLSAxKSwNCiAgICAgICAgICAgICAgICBuZXh0Q2VsbDsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgbmV4dENlbGwgPSB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW3Jvd0luZGV4XVtjb2xJbmRleF0ucm93SW5kZXgsIHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdLmNlbGxJbmRleCk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgcm93SW5kZXggPSByb3dJbmRleCAqIDEgKyAxOw0KICAgICAgICAgICAgICAgICAgICBjb2xJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgICAgIG5leHRDZWxsID0gdGhpcy5nZXRDZWxsKHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdLnJvd0luZGV4LCB0aGlzLmluZGV4VGFibGVbcm93SW5kZXhdW2NvbEluZGV4XS5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gbmV4dENlbGw7DQoNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPluinhuinieS4iueahOWQjue9ruWNleWFg+agvA0KICAgICAgICAgKiBAcGFyYW0gY2VsbA0KICAgICAgICAgKiBAcGFyYW0gYm90dG9tDQogICAgICAgICAqLw0KICAgICAgICBnZXRWU2lkZUNlbGw6ZnVuY3Rpb24gKGNlbGwsIGJvdHRvbSwgaWdub3JlUmFuZ2UpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICAgICAgbmV4dFJvd0luZGV4LCBuZXh0Q29sSW5kZXg7DQogICAgICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuc2VsZWN0ZWRUZHMubGVuZ3RoICYmICFpZ25vcmVSYW5nZSwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgLy/mnKvooYzmiJbogIXmnKvliJfmsqHmnInlkI7nva7ljZXlhYPmoLwNCiAgICAgICAgICAgICAgICBpZiAoKCFib3R0b20gJiYgKGNlbGxJbmZvLnJvd0luZGV4ID09IDApKSB8fCAoYm90dG9tICYmICghbGVuID8gKGNlbGxJbmZvLnJvd0luZGV4ICsgY2VsbEluZm8ucm93U3BhbiA+IHRoaXMucm93c051bSAtIDEpIDogKHJhbmdlLmVuZFJvd0luZGV4ID09IHRoaXMucm93c051bSAtIDEpKSkpIHJldHVybiBudWxsOw0KDQogICAgICAgICAgICAgICAgbmV4dFJvd0luZGV4ID0gIWJvdHRvbSA/ICggIWxlbiA/IGNlbGxJbmZvLnJvd0luZGV4IC0gMSA6IHJhbmdlLmJlZ2luUm93SW5kZXggLSAxKQ0KICAgICAgICAgICAgICAgICAgICA6ICggIWxlbiA/IChjZWxsSW5mby5yb3dJbmRleCArIGNlbGxJbmZvLnJvd1NwYW4pIDogcmFuZ2UuZW5kUm93SW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICBuZXh0Q29sSW5kZXggPSAhbGVuID8gY2VsbEluZm8uY29sSW5kZXggOiByYW5nZS5iZWdpbkNvbEluZGV4Ow0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5yb3dJbmRleCwgdGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOiOt+WPluebuOWQjOe7k+adn+S9jee9rueahOWNleWFg+agvO+8jHhPclnmjIfku6PkuobmmK/ojrflj5Z46L2055u45ZCM6L+Y5piveei9tOebuOWQjA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0U2FtZUVuZFBvc0NlbGxzOmZ1bmN0aW9uIChjZWxsLCB4T3JZKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBmbGFnID0gKHhPclkudG9Mb3dlckNhc2UoKSA9PT0gIngiKSwNCiAgICAgICAgICAgICAgICAgICAgZW5kID0gZG9tVXRpbHMuZ2V0WFkoY2VsbClbZmxhZyA/ICd4JyA6ICd5J10gKyBjZWxsWyJvZmZzZXQiICsgKGZsYWcgPyAnV2lkdGgnIDogJ0hlaWdodCcpXSwNCiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHRoaXMudGFibGUucm93cywNCiAgICAgICAgICAgICAgICAgICAgY2VsbHMgPSBudWxsLCByZXR1cm5zID0gW107DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJvd3NOdW07IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBjZWxscyA9IHJvd3NbaV0uY2VsbHM7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCB0bXBDZWxsOyB0bXBDZWxsID0gY2VsbHNbaisrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBFbmQgPSBkb21VdGlscy5nZXRYWSh0bXBDZWxsKVtmbGFnID8gJ3gnIDogJ3knXSArIHRtcENlbGxbIm9mZnNldCIgKyAoZmxhZyA/ICdXaWR0aCcgOiAnSGVpZ2h0JyldOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/lr7nlupTooYznmoR0ZOW3sue7j+iiq+S4iumdouihjHJvd1NwYW7kuoYNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0bXBFbmQgPiBlbmQgJiYgZmxhZykgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbCA9PSB0bXBDZWxsIHx8IGVuZCA9PSB0bXBFbmQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WPquiOt+WPluWNleS4gOeahOWNleWFg+agvA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyDku4Xojrflj5bljZXkuIDljZXlhYPmoLzlnKjnibnlrprmg4XlhrXkuIvkvJrpgKDmiJByZXR1cm5z5Li656m677yM5LuO6ICM5b2x5ZON5ZCO57ut55qE5ouW5ou95a6e546w77yM5L+u5q2j6L+Z5Liq44CC6ZyA6ICD6JmR5oCn6IO9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcENlbGxbZmxhZyA/ICJjb2xTcGFuIiA6ICJyb3dTcGFuIl0gPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5zLnB1c2godG1wQ2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbGFnKSBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuczsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBzaG93RXJyb3IoZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNldENlbGxDb250ZW50OmZ1bmN0aW9uIChjZWxsLCBjb250ZW50KSB7DQogICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGNvbnRlbnQgfHwgKGJyb3dzZXIuaWUgPyBkb21VdGlscy5maWxsQ2hhciA6ICI8YnIgLz4iKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2xvbmVDZWxsOlVFVGFibGUuY2xvbmVDZWxsLA0KICAgICAgICAvKioNCiAgICAgICAgICog6I635Y+W6Lef5b2T5YmN5Y2V5YWD5qC855qE5Y+z6L6556uW57q/5Li65bem6L6555qE5omA5pyJ5pyq5ZCI5bm25Y2V5YWD5qC8DQogICAgICAgICAqLw0KICAgICAgICBnZXRTYW1lU3RhcnRQb3NYQ2VsbHM6ZnVuY3Rpb24gKGNlbGwpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZG9tVXRpbHMuZ2V0WFkoY2VsbCkueCArIGNlbGwub2Zmc2V0V2lkdGgsDQogICAgICAgICAgICAgICAgICAgIHJvd3MgPSB0aGlzLnRhYmxlLnJvd3MsIGNlbGxzICwgcmV0dXJucyA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yb3dzTnVtOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbHMgPSByb3dzW2ldLmNlbGxzOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgdG1wQ2VsbDsgdG1wQ2VsbCA9IGNlbGxzW2orK107KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wU3RhcnQgPSBkb21VdGlscy5nZXRYWSh0bXBDZWxsKS54Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcFN0YXJ0ID4gc3RhcnQpIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRtcFN0YXJ0ID09IHN0YXJ0ICYmIHRtcENlbGwuY29sU3BhbiA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJucy5wdXNoKHRtcENlbGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5zOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOabtOaWsHRhYmxl5a+55bqU55qE57Si5byV6KGoDQogICAgICAgICAqLw0KICAgICAgICB1cGRhdGU6ZnVuY3Rpb24gKHRhYmxlKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlID0gdGFibGUgfHwgdGhpcy50YWJsZTsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZHMgPSBbXTsNCiAgICAgICAgICAgIHRoaXMuY2VsbHNSYW5nZSA9IHt9Ow0KICAgICAgICAgICAgdGhpcy5pbmRleFRhYmxlID0gW107DQogICAgICAgICAgICB2YXIgcm93cyA9IHRoaXMudGFibGUucm93cywNCiAgICAgICAgICAgICAgICByb3dzTnVtID0gdGhpcy5nZXRNYXhSb3dzKCksDQogICAgICAgICAgICAgICAgZE51bSA9IHJvd3NOdW0gLSByb3dzLmxlbmd0aCwNCiAgICAgICAgICAgICAgICBjb2xzTnVtID0gdGhpcy5nZXRNYXhDb2xzKCk7DQogICAgICAgICAgICB3aGlsZSAoZE51bS0tKSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZS5pbnNlcnRSb3cocm93cy5sZW5ndGgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5yb3dzTnVtID0gcm93c051bTsNCiAgICAgICAgICAgIHRoaXMuY29sc051bSA9IGNvbHNOdW07DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhUYWJsZVtpXSA9IG5ldyBBcnJheShjb2xzTnVtKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5aGr5YWF57Si5byV6KGoDQogICAgICAgICAgICBmb3IgKHZhciByb3dJbmRleCA9IDAsIHJvdzsgcm93ID0gcm93c1tyb3dJbmRleF07IHJvd0luZGV4KyspIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBjZWxsSW5kZXggPSAwLCBjZWxsLCBjZWxscyA9IHJvdy5jZWxsczsgY2VsbCA9IGNlbGxzW2NlbGxJbmRleF07IGNlbGxJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgIC8v5L+u5q2j5pW06KGM6KKrcm93U3BhbuaXtuWvvOiHtOeahOihjOaVsOiuoeeul+mUmeivrw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5yb3dTcGFuID4gcm93c051bSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yb3dTcGFuID0gcm93c051bTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgY29sSW5kZXggPSBjZWxsSW5kZXgsDQogICAgICAgICAgICAgICAgICAgICAgICByb3dTcGFuID0gY2VsbC5yb3dTcGFuIHx8IDEsDQogICAgICAgICAgICAgICAgICAgICAgICBjb2xTcGFuID0gY2VsbC5jb2xTcGFuIHx8IDE7DQogICAgICAgICAgICAgICAgICAgIC8v5b2T5bey57uP6KKr5LiK5LiA6KGMcm93U3BhbuaIluiAheiiq+WJjeS4gOWIl2NvbFNwYW7kuobvvIzliJnot7PliLDkuIvkuIDkuKrljZXlhYPmoLzov5vooYwNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdKSBjb2xJbmRleCsrOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJvd1NwYW47IGorKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjb2xTcGFuOyBrKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4VGFibGVbcm93SW5kZXggKyBqXVtjb2xJbmRleCArIGtdID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleDpyb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEluZGV4OmNlbGxJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sSW5kZXg6Y29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd1NwYW46cm93U3BhbiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sU3Bhbjpjb2xTcGFuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/kv67lpI3mrovnvLp0ZA0KICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHJvd3NOdW07IGorKykgew0KICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBjb2xzTnVtOyBrKyspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kZXhUYWJsZVtqXVtrXSA9PT0gdW5kZWZpbmVkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByb3cgPSByb3dzW2pdOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHJvdy5jZWxsc1tyb3cuY2VsbHMubGVuZ3RoIC0gMV07DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsID0gY2VsbCA/IGNlbGwuY2xvbmVOb2RlKHRydWUpIDogdGhpcy50YWJsZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENlbGxDb250ZW50KGNlbGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuY29sU3BhbiAhPT0gMSljZWxsLmNvbFNwYW4gPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwucm93U3BhbiAhPT0gMSljZWxsLnJvd1NwYW4gPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgcm93LmFwcGVuZENoaWxkKGNlbGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmRleFRhYmxlW2pdW2tdID0gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd0luZGV4OmosDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbEluZGV4OmNlbGwuY2VsbEluZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4OmssDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93U3BhbjoxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbFNwYW46MQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/lvZPmoYbpgInlkI7liKDpmaTooYzmiJbogIXliJflkI7mkqTplIDvvIzpnIDopoHph43lu7rpgInljLrjgIINCiAgICAgICAgICAgIHZhciB0ZHMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLnRhYmxlLCAidGQiKSwNCiAgICAgICAgICAgICAgICBzZWxlY3RUZHMgPSBbXTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2godGRzLCBmdW5jdGlvbiAodGQpIHsNCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaGFzQ2xhc3ModGQsICJzZWxlY3RUZENsYXNzIikpIHsNCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGRzLnB1c2godGQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHNlbGVjdFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBzZWxlY3RUZHNbMF0sDQogICAgICAgICAgICAgICAgICAgIGVuZCA9IHNlbGVjdFRkc1tzZWxlY3RUZHMubGVuZ3RoIC0gMV0sDQogICAgICAgICAgICAgICAgICAgIHN0YXJ0SW5mbyA9IHRoaXMuZ2V0Q2VsbEluZm8oc3RhcnQpLA0KICAgICAgICAgICAgICAgICAgICBlbmRJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhlbmQpOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZHMgPSBzZWxlY3RUZHM7DQogICAgICAgICAgICAgICAgdGhpcy5jZWxsc1JhbmdlID0gew0KICAgICAgICAgICAgICAgICAgICBiZWdpblJvd0luZGV4OnN0YXJ0SW5mby5yb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgYmVnaW5Db2xJbmRleDpzdGFydEluZm8uY29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgIGVuZFJvd0luZGV4OmVuZEluZm8ucm93SW5kZXggKyBlbmRJbmZvLnJvd1NwYW4gLSAxLA0KICAgICAgICAgICAgICAgICAgICBlbmRDb2xJbmRleDplbmRJbmZvLmNvbEluZGV4ICsgZW5kSW5mby5jb2xTcGFuIC0gMQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+e7meesrOS4gOihjOiuvue9rmZpcnN0Um9355qE5qC35byP5ZCN56ewLOWcqOaOkuW6j+Wbvuagh+eahOagt+W8j+S4iuS9v+eUqOWIsA0KICAgICAgICAgICAgaWYoIWRvbVV0aWxzLmhhc0NsYXNzKHRoaXMudGFibGUucm93c1swXSwgImZpcnN0Um93IikpIHsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5hZGRDbGFzcyh0aGlzLnRhYmxlLnJvd3NbMF0sICJmaXJzdFJvdyIpOw0KICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDE7IGk8IHRoaXMudGFibGUucm93cy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVDbGFzc2VzKHRoaXMudGFibGUucm93c1tpXSwgImZpcnN0Um93Iik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog6I635Y+W5Y2V5YWD5qC855qE57Si5byV5L+h5oGvDQogICAgICAgICAqLw0KICAgICAgICBnZXRDZWxsSW5mbzpmdW5jdGlvbiAoY2VsbCkgew0KICAgICAgICAgICAgaWYgKCFjZWxsKSByZXR1cm47DQogICAgICAgICAgICB2YXIgY2VsbEluZGV4ID0gY2VsbC5jZWxsSW5kZXgsDQogICAgICAgICAgICAgICAgcm93SW5kZXggPSBjZWxsLnBhcmVudE5vZGUucm93SW5kZXgsDQogICAgICAgICAgICAgICAgcm93SW5mbyA9IHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sDQogICAgICAgICAgICAgICAgbnVtQ29scyA9IHRoaXMuY29sc051bTsNCiAgICAgICAgICAgIGZvciAodmFyIGNvbEluZGV4ID0gY2VsbEluZGV4OyBjb2xJbmRleCA8IG51bUNvbHM7IGNvbEluZGV4KyspIHsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbEluZm8gPSByb3dJbmZvW2NvbEluZGV4XTsNCiAgICAgICAgICAgICAgICBpZiAoY2VsbEluZm8ucm93SW5kZXggPT09IHJvd0luZGV4ICYmIGNlbGxJbmZvLmNlbGxJbmRleCA9PT0gY2VsbEluZGV4KSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWxsSW5mbzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmoLnmja7ooYzliJflj7fojrflj5bljZXlhYPmoLwNCiAgICAgICAgICovDQogICAgICAgIGdldENlbGw6ZnVuY3Rpb24gKHJvd0luZGV4LCBjZWxsSW5kZXgpIHsNCiAgICAgICAgICAgIHJldHVybiByb3dJbmRleCA8IHRoaXMucm93c051bSAmJiB0aGlzLnRhYmxlLnJvd3Nbcm93SW5kZXhdLmNlbGxzW2NlbGxJbmRleF0gfHwgbnVsbDsNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOWIoOmZpOWNleWFg+agvA0KICAgICAgICAgKi8NCiAgICAgICAgZGVsZXRlQ2VsbDpmdW5jdGlvbiAoY2VsbCwgcm93SW5kZXgpIHsNCiAgICAgICAgICAgIHJvd0luZGV4ID0gdHlwZW9mIHJvd0luZGV4ID09ICdudW1iZXInID8gcm93SW5kZXggOiBjZWxsLnBhcmVudE5vZGUucm93SW5kZXg7DQogICAgICAgICAgICB2YXIgcm93ID0gdGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4XTsNCiAgICAgICAgICAgIHJvdy5kZWxldGVDZWxsKGNlbGwuY2VsbEluZGV4KTsNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOagueaNruWni+acq+S4pOS4quWNleWFg+agvOiOt+WPluiiq+ahhumAieeahOaJgOacieWNleWFg+agvOiMg+WbtA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0Q2VsbHNSYW5nZTpmdW5jdGlvbiAoY2VsbEEsIGNlbGxCKSB7DQogICAgICAgICAgICBmdW5jdGlvbiBjaGVja1JhbmdlKGJlZ2luUm93SW5kZXgsIGJlZ2luQ29sSW5kZXgsIGVuZFJvd0luZGV4LCBlbmRDb2xJbmRleCkgew0KICAgICAgICAgICAgICAgIHZhciB0bXBCZWdpblJvd0luZGV4ID0gYmVnaW5Sb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgdG1wQmVnaW5Db2xJbmRleCA9IGJlZ2luQ29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgIHRtcEVuZFJvd0luZGV4ID0gZW5kUm93SW5kZXgsDQogICAgICAgICAgICAgICAgICAgIHRtcEVuZENvbEluZGV4ID0gZW5kQ29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgIGNlbGxJbmZvLCBjb2xJbmRleCwgcm93SW5kZXg7DQogICAgICAgICAgICAgICAgLy8g6YCa6L+HaW5kZXhUYWJsZeajgOafpeaYr+WQpuWtmOWcqOi2heWHulRhYmxlUmFuZ2XkuIrovrnnlYznmoTmg4XlhrUNCiAgICAgICAgICAgICAgICBpZiAoYmVnaW5Sb3dJbmRleCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChjb2xJbmRleCA9IGJlZ2luQ29sSW5kZXg7IGNvbEluZGV4IDwgZW5kQ29sSW5kZXg7IGNvbEluZGV4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gbWUuaW5kZXhUYWJsZVtiZWdpblJvd0luZGV4XVtjb2xJbmRleF07DQogICAgICAgICAgICAgICAgICAgICAgICByb3dJbmRleCA9IGNlbGxJbmZvLnJvd0luZGV4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJvd0luZGV4IDwgYmVnaW5Sb3dJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEJlZ2luUm93SW5kZXggPSBNYXRoLm1pbihyb3dJbmRleCwgdG1wQmVnaW5Sb3dJbmRleCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy8g6YCa6L+HaW5kZXhUYWJsZeajgOafpeaYr+WQpuWtmOWcqOi2heWHulRhYmxlUmFuZ2Xlj7PovrnnlYznmoTmg4XlhrUNCiAgICAgICAgICAgICAgICBpZiAoZW5kQ29sSW5kZXggPCBtZS5jb2xzTnVtKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAocm93SW5kZXggPSBiZWdpblJvd0luZGV4OyByb3dJbmRleCA8IGVuZFJvd0luZGV4OyByb3dJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IG1lLmluZGV4VGFibGVbcm93SW5kZXhdW2VuZENvbEluZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gY2VsbEluZm8uY29sSW5kZXggKyBjZWxsSW5mby5jb2xTcGFuIC0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xJbmRleCA+IGVuZENvbEluZGV4KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRW5kQ29sSW5kZXggPSBNYXRoLm1heChjb2xJbmRleCwgdG1wRW5kQ29sSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaciei2heWHulRhYmxlUmFuZ2XkuIvovrnnlYznmoTmg4XlhrUNCiAgICAgICAgICAgICAgICBpZiAoZW5kUm93SW5kZXggPCBtZS5yb3dzTnVtKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAoY29sSW5kZXggPSBiZWdpbkNvbEluZGV4OyBjb2xJbmRleCA8IGVuZENvbEluZGV4OyBjb2xJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IG1lLmluZGV4VGFibGVbZW5kUm93SW5kZXhdW2NvbEluZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJvd0luZGV4ID0gY2VsbEluZm8ucm93SW5kZXggKyBjZWxsSW5mby5yb3dTcGFuIC0gMTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyb3dJbmRleCA+IGVuZFJvd0luZGV4KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wRW5kUm93SW5kZXggPSBNYXRoLm1heChyb3dJbmRleCwgdG1wRW5kUm93SW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaciei2heWHulRhYmxlUmFuZ2Xlt6bovrnnlYznmoTmg4XlhrUNCiAgICAgICAgICAgICAgICBpZiAoYmVnaW5Db2xJbmRleCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yIChyb3dJbmRleCA9IGJlZ2luUm93SW5kZXg7IHJvd0luZGV4IDwgZW5kUm93SW5kZXg7IHJvd0luZGV4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gbWUuaW5kZXhUYWJsZVtyb3dJbmRleF1bYmVnaW5Db2xJbmRleF07DQogICAgICAgICAgICAgICAgICAgICAgICBjb2xJbmRleCA9IGNlbGxJbmZvLmNvbEluZGV4Ow0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbEluZGV4IDwgYmVnaW5Db2xJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcEJlZ2luQ29sSW5kZXggPSBNYXRoLm1pbihjZWxsSW5mby5jb2xJbmRleCwgdG1wQmVnaW5Db2xJbmRleCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy/pgJLlvZLosIPnlKjnm7Toh7PmiYDmnInlrozmiJDmiYDmnInmoYbpgInljZXlhYPmoLznmoTmianlsZUNCiAgICAgICAgICAgICAgICBpZiAodG1wQmVnaW5Sb3dJbmRleCAhPSBiZWdpblJvd0luZGV4IHx8IHRtcEJlZ2luQ29sSW5kZXggIT0gYmVnaW5Db2xJbmRleCB8fCB0bXBFbmRSb3dJbmRleCAhPSBlbmRSb3dJbmRleCB8fCB0bXBFbmRDb2xJbmRleCAhPSBlbmRDb2xJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tSYW5nZSh0bXBCZWdpblJvd0luZGV4LCB0bXBCZWdpbkNvbEluZGV4LCB0bXBFbmRSb3dJbmRleCwgdG1wRW5kQ29sSW5kZXgpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8vIOS4jemcgOimgeaJqeWxlVRhYmxlUmFuZ2XnmoTmg4XlhrUNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luUm93SW5kZXg6YmVnaW5Sb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luQ29sSW5kZXg6YmVnaW5Db2xJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFJvd0luZGV4OmVuZFJvd0luZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kQ29sSW5kZXg6ZW5kQ29sSW5kZXgNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICAgICAgY2VsbEFJbmZvID0gbWUuZ2V0Q2VsbEluZm8oY2VsbEEpOw0KICAgICAgICAgICAgICAgIGlmIChjZWxsQSA9PT0gY2VsbEIpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGJlZ2luUm93SW5kZXg6Y2VsbEFJbmZvLnJvd0luZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgYmVnaW5Db2xJbmRleDpjZWxsQUluZm8uY29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgICAgICBlbmRSb3dJbmRleDpjZWxsQUluZm8ucm93SW5kZXggKyBjZWxsQUluZm8ucm93U3BhbiAtIDEsDQogICAgICAgICAgICAgICAgICAgICAgICBlbmRDb2xJbmRleDpjZWxsQUluZm8uY29sSW5kZXggKyBjZWxsQUluZm8uY29sU3BhbiAtIDENCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGNlbGxCSW5mbyA9IG1lLmdldENlbGxJbmZvKGNlbGxCKTsNCiAgICAgICAgICAgICAgICAvLyDorqHnrpdUYWJsZVJhbmdl55qE5Zub5Liq6L65DQogICAgICAgICAgICAgICAgdmFyIGJlZ2luUm93SW5kZXggPSBNYXRoLm1pbihjZWxsQUluZm8ucm93SW5kZXgsIGNlbGxCSW5mby5yb3dJbmRleCksDQogICAgICAgICAgICAgICAgICAgIGJlZ2luQ29sSW5kZXggPSBNYXRoLm1pbihjZWxsQUluZm8uY29sSW5kZXgsIGNlbGxCSW5mby5jb2xJbmRleCksDQogICAgICAgICAgICAgICAgICAgIGVuZFJvd0luZGV4ID0gTWF0aC5tYXgoY2VsbEFJbmZvLnJvd0luZGV4ICsgY2VsbEFJbmZvLnJvd1NwYW4gLSAxLCBjZWxsQkluZm8ucm93SW5kZXggKyBjZWxsQkluZm8ucm93U3BhbiAtIDEpLA0KICAgICAgICAgICAgICAgICAgICBlbmRDb2xJbmRleCA9IE1hdGgubWF4KGNlbGxBSW5mby5jb2xJbmRleCArIGNlbGxBSW5mby5jb2xTcGFuIC0gMSwgY2VsbEJJbmZvLmNvbEluZGV4ICsgY2VsbEJJbmZvLmNvbFNwYW4gLSAxKTsNCg0KICAgICAgICAgICAgICAgIHJldHVybiBjaGVja1JhbmdlKGJlZ2luUm93SW5kZXgsIGJlZ2luQ29sSW5kZXgsIGVuZFJvd0luZGV4LCBlbmRDb2xJbmRleCk7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgLy90aHJvdyBlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5L6d5o2uY2VsbHNSYW5nZeiOt+WPluWvueW6lOeahOWNleWFg+agvOmbhuWQiA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0Q2VsbHM6ZnVuY3Rpb24gKHJhbmdlKSB7DQogICAgICAgICAgICAvL+avj+asoeiOt+WPlmNlbGxz5LmL5YmN5b+F6aG75YWI5riF6Zmk5LiK5qyh55qE6YCJ5oup77yM5ZCm5YiZ5Lya5a+55ZCO57ut6I635Y+W5pON5L2c6YCg5oiQ5b2x5ZONDQogICAgICAgICAgICB0aGlzLmNsZWFyU2VsZWN0ZWQoKTsNCiAgICAgICAgICAgIHZhciBiZWdpblJvd0luZGV4ID0gcmFuZ2UuYmVnaW5Sb3dJbmRleCwNCiAgICAgICAgICAgICAgICBiZWdpbkNvbEluZGV4ID0gcmFuZ2UuYmVnaW5Db2xJbmRleCwNCiAgICAgICAgICAgICAgICBlbmRSb3dJbmRleCA9IHJhbmdlLmVuZFJvd0luZGV4LA0KICAgICAgICAgICAgICAgIGVuZENvbEluZGV4ID0gcmFuZ2UuZW5kQ29sSW5kZXgsDQogICAgICAgICAgICAgICAgY2VsbEluZm8sIHJvd0luZGV4LCBjb2xJbmRleCwgdGRIYXNoID0ge30sIHJldHVyblRkcyA9IFtdOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luUm93SW5kZXg7IGkgPD0gZW5kUm93SW5kZXg7IGkrKykgew0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBiZWdpbkNvbEluZGV4OyBqIDw9IGVuZENvbEluZGV4OyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbEluZm8gPSB0aGlzLmluZGV4VGFibGVbaV1bal07DQogICAgICAgICAgICAgICAgICAgIHJvd0luZGV4ID0gY2VsbEluZm8ucm93SW5kZXg7DQogICAgICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gY2VsbEluZm8uY29sSW5kZXg7DQogICAgICAgICAgICAgICAgICAgIC8vIOWmguaenENlbGxz6YeM5bey57uP5YyF5ZCr5LqG5q2kQ2VsbOWImei3s+i/hw0KICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gcm93SW5kZXggKyAnfCcgKyBjb2xJbmRleDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRkSGFzaFtrZXldKSBjb250aW51ZTsNCiAgICAgICAgICAgICAgICAgICAgdGRIYXNoW2tleV0gPSAxOw0KICAgICAgICAgICAgICAgICAgICBpZiAocm93SW5kZXggPCBpIHx8IGNvbEluZGV4IDwgaiB8fCByb3dJbmRleCArIGNlbGxJbmZvLnJvd1NwYW4gLSAxID4gZW5kUm93SW5kZXggfHwgY29sSW5kZXggKyBjZWxsSW5mby5jb2xTcGFuIC0gMSA+IGVuZENvbEluZGV4KSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm5UZHMucHVzaCh0aGlzLmdldENlbGwocm93SW5kZXgsIGNlbGxJbmZvLmNlbGxJbmRleCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByZXR1cm5UZHM7DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmuIXnkIblt7Lnu4/pgInkuK3nmoTljZXlhYPmoLwNCiAgICAgICAgICovDQogICAgICAgIGNsZWFyU2VsZWN0ZWQ6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgVUVUYWJsZS5yZW1vdmVTZWxlY3RlZENsYXNzKHRoaXMuc2VsZWN0ZWRUZHMpOw0KICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRkcyA9IFtdOw0KICAgICAgICAgICAgdGhpcy5jZWxsc1JhbmdlID0ge307DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmoLnmja5yYW5nZeiuvue9ruW3sue7j+mAieS4reeahOWNleWFg+agvA0KICAgICAgICAgKi8NCiAgICAgICAgc2V0U2VsZWN0ZWQ6ZnVuY3Rpb24gKHJhbmdlKSB7DQogICAgICAgICAgICB2YXIgY2VsbHMgPSB0aGlzLmdldENlbGxzKHJhbmdlKTsNCiAgICAgICAgICAgIFVFVGFibGUuYWRkU2VsZWN0ZWRDbGFzcyhjZWxscyk7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGVkVGRzID0gY2VsbHM7DQogICAgICAgICAgICB0aGlzLmNlbGxzUmFuZ2UgPSByYW5nZTsNCiAgICAgICAgfSwNCiAgICAgICAgaXNGdWxsUm93OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY2VsbHNSYW5nZTsNCiAgICAgICAgICAgIHJldHVybiAocmFuZ2UuZW5kQ29sSW5kZXggLSByYW5nZS5iZWdpbkNvbEluZGV4ICsgMSkgPT0gdGhpcy5jb2xzTnVtOw0KICAgICAgICB9LA0KICAgICAgICBpc0Z1bGxDb2w6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5jZWxsc1JhbmdlLA0KICAgICAgICAgICAgICAgIHRhYmxlID0gdGhpcy50YWJsZSwNCiAgICAgICAgICAgICAgICB0aHMgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKSwNCiAgICAgICAgICAgICAgICByb3dzID0gcmFuZ2UuZW5kUm93SW5kZXggLSByYW5nZS5iZWdpblJvd0luZGV4ICsgMTsNCiAgICAgICAgICAgIHJldHVybiAgIXRocy5sZW5ndGggPyByb3dzID09IHRoaXMucm93c051bSA6IHJvd3MgPT0gdGhpcy5yb3dzTnVtIHx8IChyb3dzID09IHRoaXMucm93c051bSAtIDEpOw0KDQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5bop4bop4nkuIrnmoTliY3nva7ljZXlhYPmoLzvvIzpu5jorqTmmK/lt6bovrnvvIx0b3DkvKDlhaXml7YNCiAgICAgICAgICogQHBhcmFtIGNlbGwNCiAgICAgICAgICogQHBhcmFtIHRvcA0KICAgICAgICAgKi8NCiAgICAgICAgZ2V0TmV4dENlbGw6ZnVuY3Rpb24gKGNlbGwsIGJvdHRvbSwgaWdub3JlUmFuZ2UpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICAgICAgbmV4dFJvd0luZGV4LCBuZXh0Q29sSW5kZXg7DQogICAgICAgICAgICAgICAgdmFyIGxlbiA9IHRoaXMuc2VsZWN0ZWRUZHMubGVuZ3RoICYmICFpZ25vcmVSYW5nZSwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgLy/mnKvooYzmiJbogIXmnKvliJfmsqHmnInlkI7nva7ljZXlhYPmoLwNCiAgICAgICAgICAgICAgICBpZiAoKCFib3R0b20gJiYgKGNlbGxJbmZvLnJvd0luZGV4ID09IDApKSB8fCAoYm90dG9tICYmICghbGVuID8gKGNlbGxJbmZvLnJvd0luZGV4ICsgY2VsbEluZm8ucm93U3BhbiA+IHRoaXMucm93c051bSAtIDEpIDogKHJhbmdlLmVuZFJvd0luZGV4ID09IHRoaXMucm93c051bSAtIDEpKSkpIHJldHVybiBudWxsOw0KDQogICAgICAgICAgICAgICAgbmV4dFJvd0luZGV4ID0gIWJvdHRvbSA/ICggIWxlbiA/IGNlbGxJbmZvLnJvd0luZGV4IC0gMSA6IHJhbmdlLmJlZ2luUm93SW5kZXggLSAxKQ0KICAgICAgICAgICAgICAgICAgICA6ICggIWxlbiA/IChjZWxsSW5mby5yb3dJbmRleCArIGNlbGxJbmZvLnJvd1NwYW4pIDogcmFuZ2UuZW5kUm93SW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICBuZXh0Q29sSW5kZXggPSAhbGVuID8gY2VsbEluZm8uY29sSW5kZXggOiByYW5nZS5iZWdpbkNvbEluZGV4Ow0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5yb3dJbmRleCwgdGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0UHJldmlld0NlbGw6ZnVuY3Rpb24gKGNlbGwsIHRvcCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbEluZm8gPSB0aGlzLmdldENlbGxJbmZvKGNlbGwpLA0KICAgICAgICAgICAgICAgICAgICBwcmV2aWV3Um93SW5kZXgsIHByZXZpZXdDb2xJbmRleDsNCiAgICAgICAgICAgICAgICB2YXIgbGVuID0gdGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgsDQogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5jZWxsc1JhbmdlOw0KICAgICAgICAgICAgICAgIC8v6aaW6KGM5oiW6ICF6aaW5YiX5rKh5pyJ5YmN572u5Y2V5YWD5qC8DQogICAgICAgICAgICAgICAgaWYgKCghdG9wICYmICghbGVuID8gIWNlbGxJbmZvLmNvbEluZGV4IDogIXJhbmdlLmJlZ2luQ29sSW5kZXgpKSB8fCAodG9wICYmICghbGVuID8gKGNlbGxJbmZvLnJvd0luZGV4ID4gKHRoaXMuY29sc051bSAtIDEpKSA6IChyYW5nZS5lbmRDb2xJbmRleCA9PSB0aGlzLmNvbHNOdW0gLSAxKSkpKSByZXR1cm4gbnVsbDsNCg0KICAgICAgICAgICAgICAgIHByZXZpZXdSb3dJbmRleCA9ICF0b3AgPyAoICFsZW4gPyBjZWxsSW5mby5yb3dJbmRleCA6IHJhbmdlLmJlZ2luUm93SW5kZXggKQ0KICAgICAgICAgICAgICAgICAgICA6ICggIWxlbiA/IChjZWxsSW5mby5yb3dJbmRleCA8IDEgPyAwIDogKGNlbGxJbmZvLnJvd0luZGV4IC0gMSkpIDogcmFuZ2UuYmVnaW5Sb3dJbmRleCk7DQogICAgICAgICAgICAgICAgcHJldmlld0NvbEluZGV4ID0gIXRvcCA/ICggIWxlbiA/IChjZWxsSW5mby5jb2xJbmRleCA8IDEgPyAwIDogKGNlbGxJbmZvLmNvbEluZGV4IC0gMSkpIDogcmFuZ2UuYmVnaW5Db2xJbmRleCAtIDEpDQogICAgICAgICAgICAgICAgICAgIDogKCAhbGVuID8gY2VsbEluZm8uY29sSW5kZXggOiByYW5nZS5lbmRDb2xJbmRleCArIDEpOw0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW3ByZXZpZXdSb3dJbmRleF1bcHJldmlld0NvbEluZGV4XS5yb3dJbmRleCwgdGhpcy5pbmRleFRhYmxlW3ByZXZpZXdSb3dJbmRleF1bcHJldmlld0NvbEluZGV4XS5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOenu+WKqOWNleWFg+agvOS4reeahOWGheWuuQ0KICAgICAgICAgKi8NCiAgICAgICAgbW92ZUNvbnRlbnQ6ZnVuY3Rpb24gKGNlbGxUbywgY2VsbEZyb20pIHsNCiAgICAgICAgICAgIGlmIChVRVRhYmxlLmlzRW1wdHlCbG9jayhjZWxsRnJvbSkpIHJldHVybjsNCiAgICAgICAgICAgIGlmIChVRVRhYmxlLmlzRW1wdHlCbG9jayhjZWxsVG8pKSB7DQogICAgICAgICAgICAgICAgY2VsbFRvLmlubmVySFRNTCA9IGNlbGxGcm9tLmlubmVySFRNTDsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgY2hpbGQgPSBjZWxsVG8ubGFzdENoaWxkOw0KICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDMgfHwgIWR0ZC4kYmxvY2tbY2hpbGQudGFnTmFtZV0pIHsNCiAgICAgICAgICAgICAgICBjZWxsVG8uYXBwZW5kQ2hpbGQoY2VsbFRvLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IGNlbGxGcm9tLmZpcnN0Q2hpbGQpIHsNCiAgICAgICAgICAgICAgICBjZWxsVG8uYXBwZW5kQ2hpbGQoY2hpbGQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5ZCR5Y+z5ZCI5bm25Y2V5YWD5qC8DQogICAgICAgICAqLw0KICAgICAgICBtZXJnZVJpZ2h0OmZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICB2YXIgY2VsbEluZm8gPSB0aGlzLmdldENlbGxJbmZvKGNlbGwpLA0KICAgICAgICAgICAgICAgIHJpZ2h0Q29sSW5kZXggPSBjZWxsSW5mby5jb2xJbmRleCArIGNlbGxJbmZvLmNvbFNwYW4sDQogICAgICAgICAgICAgICAgcmlnaHRDZWxsSW5mbyA9IHRoaXMuaW5kZXhUYWJsZVtjZWxsSW5mby5yb3dJbmRleF1bcmlnaHRDb2xJbmRleF0sDQogICAgICAgICAgICAgICAgcmlnaHRDZWxsID0gdGhpcy5nZXRDZWxsKHJpZ2h0Q2VsbEluZm8ucm93SW5kZXgsIHJpZ2h0Q2VsbEluZm8uY2VsbEluZGV4KTsNCiAgICAgICAgICAgIC8v5ZCI5bm2DQogICAgICAgICAgICBjZWxsLmNvbFNwYW4gPSBjZWxsSW5mby5jb2xTcGFuICsgcmlnaHRDZWxsSW5mby5jb2xTcGFuOw0KICAgICAgICAgICAgLy/ooqvlkIjlubbnmoTljZXlhYPmoLzkuI3lupTlrZjlnKjlrr3luqblsZ7mgKcNCiAgICAgICAgICAgIGNlbGwucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpOw0KICAgICAgICAgICAgLy/np7vliqjlhoXlrrkNCiAgICAgICAgICAgIHRoaXMubW92ZUNvbnRlbnQoY2VsbCwgcmlnaHRDZWxsKTsNCiAgICAgICAgICAgIC8v5Yig5o6J6KKr5ZCI5bm255qEQ2VsbA0KICAgICAgICAgICAgdGhpcy5kZWxldGVDZWxsKHJpZ2h0Q2VsbCwgcmlnaHRDZWxsSW5mby5yb3dJbmRleCk7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5ZCR5LiL5ZCI5bm25Y2V5YWD5qC8DQogICAgICAgICAqLw0KICAgICAgICBtZXJnZURvd246ZnVuY3Rpb24gKGNlbGwpIHsNCiAgICAgICAgICAgIHZhciBjZWxsSW5mbyA9IHRoaXMuZ2V0Q2VsbEluZm8oY2VsbCksDQogICAgICAgICAgICAgICAgZG93blJvd0luZGV4ID0gY2VsbEluZm8ucm93SW5kZXggKyBjZWxsSW5mby5yb3dTcGFuLA0KICAgICAgICAgICAgICAgIGRvd25DZWxsSW5mbyA9IHRoaXMuaW5kZXhUYWJsZVtkb3duUm93SW5kZXhdW2NlbGxJbmZvLmNvbEluZGV4XSwNCiAgICAgICAgICAgICAgICBkb3duQ2VsbCA9IHRoaXMuZ2V0Q2VsbChkb3duQ2VsbEluZm8ucm93SW5kZXgsIGRvd25DZWxsSW5mby5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgY2VsbC5yb3dTcGFuID0gY2VsbEluZm8ucm93U3BhbiArIGRvd25DZWxsSW5mby5yb3dTcGFuOw0KICAgICAgICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoImhlaWdodCIpOw0KICAgICAgICAgICAgdGhpcy5tb3ZlQ29udGVudChjZWxsLCBkb3duQ2VsbCk7DQogICAgICAgICAgICB0aGlzLmRlbGV0ZUNlbGwoZG93bkNlbGwsIGRvd25DZWxsSW5mby5yb3dJbmRleCk7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5ZCI5bm25pW05LiqcmFuZ2XkuK3nmoTlhoXlrrkNCiAgICAgICAgICovDQogICAgICAgIG1lcmdlUmFuZ2U6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgLy/nlLHkuo7lkIjlubbmk43kvZzlj6/ku6XlnKjku7vmhI/ml7bliLvov5vooYzvvIzmiYDku6Xml6Dms5XpgJrov4fpvKDmoIfkvY3nva7nrYnkv6Hmga/lrp7ml7bnlJ/miJByYW5nZe+8jOWPquiDvemAmui/h+e8k+WtmOWunuS+i+S4reeahGNlbGxzUmFuZ2Xlr7nosaHmnaXorr/pl64NCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY2VsbHNSYW5nZSwNCiAgICAgICAgICAgICAgICBsZWZ0VG9wQ2VsbCA9IHRoaXMuZ2V0Q2VsbChyYW5nZS5iZWdpblJvd0luZGV4LCB0aGlzLmluZGV4VGFibGVbcmFuZ2UuYmVnaW5Sb3dJbmRleF1bcmFuZ2UuYmVnaW5Db2xJbmRleF0uY2VsbEluZGV4KTsNCg0KICAgICAgICAgICAgaWYgKGxlZnRUb3BDZWxsLnRhZ05hbWUgPT0gIlRIIiAmJiByYW5nZS5lbmRSb3dJbmRleCAhPT0gcmFuZ2UuYmVnaW5Sb3dJbmRleCkgew0KICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhUYWJsZSwNCiAgICAgICAgICAgICAgICAgICAgaW5mbyA9IHRoaXMuZ2V0Q2VsbEluZm8obGVmdFRvcENlbGwpOw0KICAgICAgICAgICAgICAgIGxlZnRUb3BDZWxsID0gdGhpcy5nZXRDZWxsKDEsIGluZGV4WzFdW2luZm8uY29sSW5kZXhdLmNlbGxJbmRleCk7DQogICAgICAgICAgICAgICAgcmFuZ2UgPSB0aGlzLmdldENlbGxzUmFuZ2UobGVmdFRvcENlbGwsIHRoaXMuZ2V0Q2VsbChpbmRleFt0aGlzLnJvd3NOdW0gLSAxXVtpbmZvLmNvbEluZGV4XS5yb3dJbmRleCwgaW5kZXhbdGhpcy5yb3dzTnVtIC0gMV1baW5mby5jb2xJbmRleF0uY2VsbEluZGV4KSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIC8vIOWIoOmZpOWJqeS9meeahENlbGxzDQogICAgICAgICAgICB2YXIgY2VsbHMgPSB0aGlzLmdldENlbGxzKHJhbmdlKTsNCiAgICAgICAgICAgIGZvcih2YXIgaT0gMCxjaTtjaT1jZWxsc1tpKytdOyl7DQogICAgICAgICAgICAgICAgaWYgKGNpICE9PSBsZWZ0VG9wQ2VsbCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLm1vdmVDb250ZW50KGxlZnRUb3BDZWxsLCBjaSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2VsbChjaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy8g5L+u5pS55bem5LiK6KeSQ2VsbOeahHJvd1NwYW7lkoxjb2xTcGFu77yM5bm26LCD5pW05a695bqm5bGe5oCn6K6+572uDQogICAgICAgICAgICBsZWZ0VG9wQ2VsbC5yb3dTcGFuID0gcmFuZ2UuZW5kUm93SW5kZXggLSByYW5nZS5iZWdpblJvd0luZGV4ICsgMTsNCiAgICAgICAgICAgIGxlZnRUb3BDZWxsLnJvd1NwYW4gPiAxICYmIGxlZnRUb3BDZWxsLnJlbW92ZUF0dHJpYnV0ZSgiaGVpZ2h0Iik7DQogICAgICAgICAgICBsZWZ0VG9wQ2VsbC5jb2xTcGFuID0gcmFuZ2UuZW5kQ29sSW5kZXggLSByYW5nZS5iZWdpbkNvbEluZGV4ICsgMTsNCiAgICAgICAgICAgIGxlZnRUb3BDZWxsLmNvbFNwYW4gPiAxICYmIGxlZnRUb3BDZWxsLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKTsNCiAgICAgICAgICAgIGlmIChsZWZ0VG9wQ2VsbC5yb3dTcGFuID09IHRoaXMucm93c051bSAmJiBsZWZ0VG9wQ2VsbC5jb2xTcGFuICE9IDEpIHsNCiAgICAgICAgICAgICAgICBsZWZ0VG9wQ2VsbC5jb2xTcGFuID0gMTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGxlZnRUb3BDZWxsLmNvbFNwYW4gPT0gdGhpcy5jb2xzTnVtICYmIGxlZnRUb3BDZWxsLnJvd1NwYW4gIT0gMSkgew0KICAgICAgICAgICAgICAgIHZhciByb3dJbmRleCA9IGxlZnRUb3BDZWxsLnBhcmVudE5vZGUucm93SW5kZXg7DQogICAgICAgICAgICAgICAgLy/op6PlhrNJReS4i+eahOihqOagvOaTjeS9nOmXrumimA0KICAgICAgICAgICAgICAgIGlmKCB0aGlzLnRhYmxlLmRlbGV0ZVJvdyApIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJvd0luZGV4KyAxLCBjdXJJbmRleD1yb3dJbmRleCsgMSwgbGVuPWxlZnRUb3BDZWxsLnJvd1NwYW47IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZS5kZWxldGVSb3coY3VySW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbj1sZWZ0VG9wQ2VsbC5yb3dTcGFuIC0gMTsgaSA8IGxlbjsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4ICsgMV07DQogICAgICAgICAgICAgICAgICAgICAgICByb3cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb3cpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxlZnRUb3BDZWxsLnJvd1NwYW4gPSAxOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsNCiAgICAgICAgfSwNCiAgICAgICAgLyoqDQogICAgICAgICAqIOaPkuWFpeS4gOihjOWNleWFg+agvA0KICAgICAgICAgKi8NCiAgICAgICAgaW5zZXJ0Um93OmZ1bmN0aW9uIChyb3dJbmRleCwgc291cmNlQ2VsbCkgew0KICAgICAgICAgICAgdmFyIG51bUNvbHMgPSB0aGlzLmNvbHNOdW0sDQogICAgICAgICAgICAgICAgdGFibGUgPSB0aGlzLnRhYmxlLA0KICAgICAgICAgICAgICAgIHJvdyA9IHRhYmxlLmluc2VydFJvdyhyb3dJbmRleCksIGNlbGwsDQogICAgICAgICAgICAgICAgaXNJbnNlcnRUaXRsZSA9IHR5cGVvZiBzb3VyY2VDZWxsID09ICdzdHJpbmcnICYmIHNvdXJjZUNlbGwudG9VcHBlckNhc2UoKSA9PSAnVEgnOw0KDQogICAgICAgICAgICBmdW5jdGlvbiByZXBsYWNlVGRUb1RoKGNvbEluZGV4LCBjZWxsLCB0YWJsZVJvdykgew0KICAgICAgICAgICAgICAgIGlmIChjb2xJbmRleCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ciA9IHRhYmxlUm93Lm5leHRTaWJsaW5nIHx8IHRhYmxlUm93LnByZXZpb3VzU2libGluZywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoID0gdHIuY2VsbHNbY29sSW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGgudGFnTmFtZSA9PSAnVEgnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aCA9IGNlbGwub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlUm93Lmluc2VydEJlZm9yZSh0aCwgY2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2VsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC50YWdOYW1lID09ICdUSCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNlbGwub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlUm93Lmluc2VydEJlZm9yZSh0ZCwgY2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2VsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy/pppbooYznm7TmjqXmj5LlhaUs5peg6ZyA6ICD6JmR6YOo5YiG5Y2V5YWD5qC86KKrcm93c3BhbueahOaDheWGtQ0KICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09IDAgfHwgcm93SW5kZXggPT0gdGhpcy5yb3dzTnVtKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IG51bUNvbHM7IGNvbEluZGV4KyspIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRoaXMuY2xvbmVDZWxsKHNvdXJjZUNlbGwsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldENlbGxDb250ZW50KGNlbGwpOw0KICAgICAgICAgICAgICAgICAgICBjZWxsLmdldEF0dHJpYnV0ZSgndkFsaWduJykgJiYgY2VsbC5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNlbGwuZ2V0QXR0cmlidXRlKCd2QWxpZ24nKSk7DQogICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWlzSW5zZXJ0VGl0bGUpIHJlcGxhY2VUZFRvVGgoY29sSW5kZXgsIGNlbGwsIHJvdyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgaW5mb1JvdyA9IHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sDQogICAgICAgICAgICAgICAgICAgIGNlbGxJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgZm9yIChjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgbnVtQ29sczsgY29sSW5kZXgrKykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbEluZm8gPSBpbmZvUm93W2NvbEluZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgLy/lpoLmnpzlrZjlnKjmn5DkuKrljZXlhYPmoLznmoRyb3dzcGFu56m/6L+H5b6F5o+S5YWl6KGM55qE5L2N572u77yM5YiZ5L+u5pS56K+l5Y2V5YWD5qC855qEcm93c3BhbuWNs+WPr++8jOaXoOmcgOaPkuWFpeWNleWFg+agvA0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbEluZm8ucm93SW5kZXggPCByb3dJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCwgY2VsbEluZm8uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwucm93U3BhbiA9IGNlbGxJbmZvLnJvd1NwYW4gKyAxOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRoaXMuY2xvbmVDZWxsKHNvdXJjZUNlbGwsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDZWxsQ29udGVudChjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZighaXNJbnNlcnRUaXRsZSkgcmVwbGFjZVRkVG9UaChjb2xJbmRleCwgY2VsbCwgcm93KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICAvL+ahhumAieaXtuaPkuWFpeS4jeinpuWPkWNvbnRlbnRjaGFuZ2XvvIzpnIDopoHmiYvliqjmm7TmlrDntKLlvJXjgIINCiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7DQogICAgICAgICAgICByZXR1cm4gcm93Ow0KICAgICAgICB9LA0KICAgICAgICAvKioNCiAgICAgICAgICog5Yig6Zmk5LiA6KGM5Y2V5YWD5qC8DQogICAgICAgICAqIEBwYXJhbSByb3dJbmRleA0KICAgICAgICAgKi8NCiAgICAgICAgZGVsZXRlUm93OmZ1bmN0aW9uIChyb3dJbmRleCkgew0KICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMudGFibGUucm93c1tyb3dJbmRleF0sDQogICAgICAgICAgICAgICAgaW5mb1JvdyA9IHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sDQogICAgICAgICAgICAgICAgY29sc051bSA9IHRoaXMuY29sc051bSwNCiAgICAgICAgICAgICAgICBjb3VudCA9IDA7ICAgICAvL+WkhOeQhuiuoeaVsA0KICAgICAgICAgICAgZm9yICh2YXIgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IGNvbHNOdW07KSB7DQogICAgICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gaW5mb1Jvd1tjb2xJbmRleF0sDQogICAgICAgICAgICAgICAgICAgIGNlbGwgPSB0aGlzLmdldENlbGwoY2VsbEluZm8ucm93SW5kZXgsIGNlbGxJbmZvLmNlbGxJbmRleCk7DQogICAgICAgICAgICAgICAgaWYgKGNlbGwucm93U3BhbiA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGxJbmZvLnJvd0luZGV4ID09IHJvd0luZGV4KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xvbmUgPSBjZWxsLmNsb25lTm9kZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLnJvd1NwYW4gPSBjZWxsLnJvd1NwYW4gLSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmUuaW5uZXJIVE1MID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJvd1NwYW4gPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRSb3dJbmRleCA9IHJvd0luZGV4ICsgMSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Um93ID0gdGhpcy50YWJsZS5yb3dzW25leHRSb3dJbmRleF0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0Q2VsbEluZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZU1lcmdlZCA9IHRoaXMuZ2V0UHJldmlld01lcmdlZENlbGxzTnVtKG5leHRSb3dJbmRleCwgY29sSW5kZXgpIC0gY291bnQ7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlTWVyZ2VkIDwgY29sSW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRDZWxsSW5kZXggPSBjb2xJbmRleCAtIHByZU1lcmdlZCAtIDE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXh0Um93Lmluc2VydENlbGwoaW5zZXJ0Q2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5pbnNlcnRBZnRlcihuZXh0Um93LmNlbGxzW2luc2VydENlbGxJbmRleF0sIGNsb25lKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRSb3cuY2VsbHMubGVuZ3RoKSBuZXh0Um93Lmluc2VydEJlZm9yZShjbG9uZSwgbmV4dFJvdy5jZWxsc1swXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICAvL2NlbGwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBjb2xJbmRleCArPSBjZWxsLmNvbFNwYW4gfHwgMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBkZWxldGVUZHMgPSBbXSwgY2FjaGVNYXAgPSB7fTsNCiAgICAgICAgICAgIGZvciAoY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IGNvbHNOdW07IGNvbEluZGV4KyspIHsNCiAgICAgICAgICAgICAgICB2YXIgdG1wUm93SW5kZXggPSBpbmZvUm93W2NvbEluZGV4XS5yb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgdG1wQ2VsbEluZGV4ID0gaW5mb1Jvd1tjb2xJbmRleF0uY2VsbEluZGV4LA0KICAgICAgICAgICAgICAgICAgICBrZXkgPSB0bXBSb3dJbmRleCArICJfIiArIHRtcENlbGxJbmRleDsNCiAgICAgICAgICAgICAgICBpZiAoY2FjaGVNYXBba2V5XSljb250aW51ZTsNCiAgICAgICAgICAgICAgICBjYWNoZU1hcFtrZXldID0gMTsNCiAgICAgICAgICAgICAgICBjZWxsID0gdGhpcy5nZXRDZWxsKHRtcFJvd0luZGV4LCB0bXBDZWxsSW5kZXgpOw0KICAgICAgICAgICAgICAgIGRlbGV0ZVRkcy5wdXNoKGNlbGwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIG1lcmdlVGRzID0gW107DQogICAgICAgICAgICB1dGlscy5lYWNoKGRlbGV0ZVRkcywgZnVuY3Rpb24gKHRkKSB7DQogICAgICAgICAgICAgICAgaWYgKHRkLnJvd1NwYW4gPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICB0ZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRkKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtZXJnZVRkcy5wdXNoKHRkKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2gobWVyZ2VUZHMsIGZ1bmN0aW9uICh0ZCkgew0KICAgICAgICAgICAgICAgIHRkLnJvd1NwYW4tLTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcm93LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocm93KTsNCiAgICAgICAgICAgIC8v5rWP6KeI5Zmo5pa55rOV5pys6Lqr5a2Y5ZyoYnVnLOmHh+eUqOiHquWumuS5ieaWueazleWIoOmZpA0KICAgICAgICAgICAgLy90aGlzLnRhYmxlLmRlbGV0ZVJvdyhyb3dJbmRleCk7DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICB9LA0KICAgICAgICBpbnNlcnRDb2w6ZnVuY3Rpb24gKGNvbEluZGV4LCBzb3VyY2VDZWxsLCBkZWZhdWx0VmFsdWUpIHsNCiAgICAgICAgICAgIHZhciByb3dzTnVtID0gdGhpcy5yb3dzTnVtLA0KICAgICAgICAgICAgICAgIHJvd0luZGV4ID0gMCwNCiAgICAgICAgICAgICAgICB0YWJsZVJvdywgY2VsbCwNCiAgICAgICAgICAgICAgICBiYWNrV2lkdGggPSBwYXJzZUludCgodGhpcy50YWJsZS5vZmZzZXRXaWR0aCAtICh0aGlzLmNvbHNOdW0gKyAxKSAqIDIwIC0gKHRoaXMuY29sc051bSArIDEpKSAvICh0aGlzLmNvbHNOdW0gKyAxKSwgMTApLA0KICAgICAgICAgICAgICAgIGlzSW5zZXJ0VGl0bGVDb2wgPSB0eXBlb2Ygc291cmNlQ2VsbCA9PSAnc3RyaW5nJyAmJiBzb3VyY2VDZWxsLnRvVXBwZXJDYXNlKCkgPT0gJ1RIJzsNCg0KICAgICAgICAgICAgZnVuY3Rpb24gcmVwbGFjZVRkVG9UaChyb3dJbmRleCwgY2VsbCwgdGFibGVSb3cpIHsNCiAgICAgICAgICAgICAgICBpZiAocm93SW5kZXggPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdGggPSBjZWxsLm5leHRTaWJsaW5nIHx8IGNlbGwucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGgudGFnTmFtZSA9PSAnVEgnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aCA9IGNlbGwub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlUm93Lmluc2VydEJlZm9yZSh0aCwgY2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2VsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC50YWdOYW1lID09ICdUSCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZCA9IGNlbGwub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGQuYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlUm93Lmluc2VydEJlZm9yZSh0ZCwgY2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY2VsbCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHByZUNlbGw7DQogICAgICAgICAgICBpZiAoY29sSW5kZXggPT0gMCB8fCBjb2xJbmRleCA9PSB0aGlzLmNvbHNOdW0pIHsNCiAgICAgICAgICAgICAgICBmb3IgKDsgcm93SW5kZXggPCByb3dzTnVtOyByb3dJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgIHRhYmxlUm93ID0gdGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4XTsNCiAgICAgICAgICAgICAgICAgICAgcHJlQ2VsbCA9IHRhYmxlUm93LmNlbGxzW2NvbEluZGV4ID09IDAgPyBjb2xJbmRleCA6IHRhYmxlUm93LmNlbGxzLmxlbmd0aF07DQogICAgICAgICAgICAgICAgICAgIGNlbGwgPSB0aGlzLmNsb25lQ2VsbChzb3VyY2VDZWxsLCB0cnVlKTsgLy90YWJsZVJvdy5pbnNlcnRDZWxsKGNvbEluZGV4ID09IDAgPyBjb2xJbmRleCA6IHRhYmxlUm93LmNlbGxzLmxlbmd0aCk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VsbENvbnRlbnQoY2VsbCk7DQogICAgICAgICAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKCd2QWxpZ24nLCBjZWxsLmdldEF0dHJpYnV0ZSgndkFsaWduJykpOw0KICAgICAgICAgICAgICAgICAgICBwcmVDZWxsICYmIGNlbGwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHByZUNlbGwuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb2xJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVSb3cuaW5zZXJ0QmVmb3JlKGNlbGwsIHRhYmxlUm93LmNlbGxzWzBdKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmluc2VydEFmdGVyKHRhYmxlUm93LmNlbGxzW3RhYmxlUm93LmNlbGxzLmxlbmd0aCAtIDFdLCBjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZighaXNJbnNlcnRUaXRsZUNvbCkgcmVwbGFjZVRkVG9UaChyb3dJbmRleCwgY2VsbCwgdGFibGVSb3cpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmb3IgKDsgcm93SW5kZXggPCByb3dzTnVtOyByb3dJbmRleCsrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBjZWxsSW5mbyA9IHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbEluZm8uY29sSW5kZXggPCBjb2xJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCwgY2VsbEluZm8uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY29sU3BhbiA9IGNlbGxJbmZvLmNvbFNwYW4gKyAxOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVSb3cgPSB0aGlzLnRhYmxlLnJvd3Nbcm93SW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlQ2VsbCA9IHRhYmxlUm93LmNlbGxzW2NlbGxJbmZvLmNlbGxJbmRleF07DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwgPSB0aGlzLmNsb25lQ2VsbChzb3VyY2VDZWxsLCB0cnVlKTsvL3RhYmxlUm93Lmluc2VydENlbGwoY2VsbEluZm8uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VsbENvbnRlbnQoY2VsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgndkFsaWduJywgY2VsbC5nZXRBdHRyaWJ1dGUoJ3ZBbGlnbicpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByZUNlbGwgJiYgY2VsbC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgcHJlQ2VsbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/pmLLmraJJReS4i+aKpemUmQ0KICAgICAgICAgICAgICAgICAgICAgICAgcHJlQ2VsbCA/IHRhYmxlUm93Lmluc2VydEJlZm9yZShjZWxsLCBwcmVDZWxsKSA6IHRhYmxlUm93LmFwcGVuZENoaWxkKGNlbGwpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKCFpc0luc2VydFRpdGxlQ29sKSByZXBsYWNlVGRUb1RoKHJvd0luZGV4LCBjZWxsLCB0YWJsZVJvdyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgLy/moYbpgInml7bmj5LlhaXkuI3op6blj5Fjb250ZW50Y2hhbmdl77yM6ZyA6KaB5omL5Yqo5pu05paw57Si5byVDQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgdGhpcy51cGRhdGVXaWR0aChiYWNrV2lkdGgsIGRlZmF1bHRWYWx1ZSB8fCB7dGRQYWRkaW5nOjEwLCB0ZEJvcmRlcjoxfSk7DQogICAgICAgIH0sDQogICAgICAgIHVwZGF0ZVdpZHRoOmZ1bmN0aW9uICh3aWR0aCwgZGVmYXVsdFZhbHVlKSB7DQogICAgICAgICAgICB2YXIgdGFibGUgPSB0aGlzLnRhYmxlLA0KICAgICAgICAgICAgICAgIHRtcFdpZHRoID0gVUVUYWJsZS5nZXRXaWR0aCh0YWJsZSkgLSBkZWZhdWx0VmFsdWUudGRQYWRkaW5nICogMiAtIGRlZmF1bHRWYWx1ZS50ZEJvcmRlciArIHdpZHRoOw0KICAgICAgICAgICAgaWYgKHRtcFdpZHRoIDwgdGFibGUub3duZXJEb2N1bWVudC5ib2R5Lm9mZnNldFdpZHRoKSB7DQogICAgICAgICAgICAgICAgdGFibGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIHRtcFdpZHRoKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGRzID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy50YWJsZSwgInRkIHRoIik7DQogICAgICAgICAgICB1dGlscy5lYWNoKHRkcywgZnVuY3Rpb24gKHRkKSB7DQogICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIHdpZHRoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZUNvbDpmdW5jdGlvbiAoY29sSW5kZXgpIHsNCiAgICAgICAgICAgIHZhciBpbmRleFRhYmxlID0gdGhpcy5pbmRleFRhYmxlLA0KICAgICAgICAgICAgICAgIHRhYmxlUm93cyA9IHRoaXMudGFibGUucm93cywNCiAgICAgICAgICAgICAgICBiYWNrVGFibGVXaWR0aCA9IHRoaXMudGFibGUuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpLA0KICAgICAgICAgICAgICAgIGJhY2tUZFdpZHRoID0gMCwNCiAgICAgICAgICAgICAgICByb3dzTnVtID0gdGhpcy5yb3dzTnVtLA0KICAgICAgICAgICAgICAgIGNhY2hlTWFwID0ge307DQogICAgICAgICAgICBmb3IgKHZhciByb3dJbmRleCA9IDA7IHJvd0luZGV4IDwgcm93c051bTspIHsNCiAgICAgICAgICAgICAgICB2YXIgaW5mb1JvdyA9IGluZGV4VGFibGVbcm93SW5kZXhdLA0KICAgICAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IGluZm9Sb3dbY29sSW5kZXhdLA0KICAgICAgICAgICAgICAgICAgICBrZXkgPSBjZWxsSW5mby5yb3dJbmRleCArICdfJyArIGNlbGxJbmZvLmNvbEluZGV4Ow0KICAgICAgICAgICAgICAgIC8vIOi3s+i/h+W3sue7j+WkhOeQhui/h+eahENlbGwNCiAgICAgICAgICAgICAgICBpZiAoY2FjaGVNYXBba2V5XSljb250aW51ZTsNCiAgICAgICAgICAgICAgICBjYWNoZU1hcFtrZXldID0gMTsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCwgY2VsbEluZm8uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICBpZiAoIWJhY2tUZFdpZHRoKSBiYWNrVGRXaWR0aCA9IGNlbGwgJiYgcGFyc2VJbnQoY2VsbC5vZmZzZXRXaWR0aCAvIGNlbGwuY29sU3BhbiwgMTApLnRvRml4ZWQoMCk7DQogICAgICAgICAgICAgICAgLy8g5aaC5p6cQ2VsbOeahGNvbFNwYW7lpKfkuo4xLCDlsLHkv67mlLljb2xTcGFuLCDlkKbliJnlsLHliKDmjonov5nkuKpDZWxsDQogICAgICAgICAgICAgICAgaWYgKGNlbGwuY29sU3BhbiA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbC5jb2xTcGFuLS07DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGFibGVSb3dzW3Jvd0luZGV4XS5kZWxldGVDZWxsKGNlbGxJbmZvLmNlbGxJbmRleCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJvd0luZGV4ICs9IGNlbGxJbmZvLnJvd1NwYW4gfHwgMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMudGFibGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIGJhY2tUYWJsZVdpZHRoIC0gYmFja1RkV2lkdGgpOw0KICAgICAgICAgICAgdGhpcy51cGRhdGUoKTsNCiAgICAgICAgfSwNCiAgICAgICAgc3BsaXRUb0NlbGxzOmZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgIGNlbGxzID0gdGhpcy5zcGxpdFRvUm93cyhjZWxsKTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2goY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICAgICAgbWUuc3BsaXRUb0NvbHMoY2VsbCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzcGxpdFRvUm93czpmdW5jdGlvbiAoY2VsbCkgew0KICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICByb3dJbmRleCA9IGNlbGxJbmZvLnJvd0luZGV4LA0KICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gY2VsbEluZm8uY29sSW5kZXgsDQogICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdOw0KICAgICAgICAgICAgLy8g5L+u5pS5Q2VsbOeahHJvd1NwYW4NCiAgICAgICAgICAgIGNlbGwucm93U3BhbiA9IDE7DQogICAgICAgICAgICByZXN1bHRzLnB1c2goY2VsbCk7DQogICAgICAgICAgICAvLyDooaXpvZDljZXlhYPmoLwNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSByb3dJbmRleCwgZW5kUm93ID0gcm93SW5kZXggKyBjZWxsSW5mby5yb3dTcGFuOyBpIDwgZW5kUm93OyBpKyspIHsNCiAgICAgICAgICAgICAgICBpZiAoaSA9PSByb3dJbmRleCljb250aW51ZTsNCiAgICAgICAgICAgICAgICB2YXIgdGFibGVSb3cgPSB0aGlzLnRhYmxlLnJvd3NbaV0sDQogICAgICAgICAgICAgICAgICAgIHRtcENlbGwgPSB0YWJsZVJvdy5pbnNlcnRDZWxsKGNvbEluZGV4IC0gdGhpcy5nZXRQcmV2aWV3TWVyZ2VkQ2VsbHNOdW0oaSwgY29sSW5kZXgpKTsNCiAgICAgICAgICAgICAgICB0bXBDZWxsLmNvbFNwYW4gPSBjZWxsSW5mby5jb2xTcGFuOw0KICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VsbENvbnRlbnQodG1wQ2VsbCk7DQogICAgICAgICAgICAgICAgdG1wQ2VsbC5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNlbGwuZ2V0QXR0cmlidXRlKCd2QWxpZ24nKSk7DQogICAgICAgICAgICAgICAgdG1wQ2VsbC5zZXRBdHRyaWJ1dGUoJ2FsaWduJywgY2VsbC5nZXRBdHRyaWJ1dGUoJ2FsaWduJykpOw0KICAgICAgICAgICAgICAgIGlmIChjZWxsLnN0eWxlLmNzc1RleHQpIHsNCiAgICAgICAgICAgICAgICAgICAgdG1wQ2VsbC5zdHlsZS5jc3NUZXh0ID0gY2VsbC5zdHlsZS5jc3NUZXh0Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godG1wQ2VsbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7DQogICAgICAgIH0sDQogICAgICAgIGdldFByZXZpZXdNZXJnZWRDZWxsc051bTpmdW5jdGlvbiAocm93SW5kZXgsIGNvbEluZGV4KSB7DQogICAgICAgICAgICB2YXIgaW5kZXhSb3cgPSB0aGlzLmluZGV4VGFibGVbcm93SW5kZXhdLA0KICAgICAgICAgICAgICAgIG51bSA9IDA7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbEluZGV4Oykgew0KICAgICAgICAgICAgICAgIHZhciBjb2xTcGFuID0gaW5kZXhSb3dbaV0uY29sU3BhbiwNCiAgICAgICAgICAgICAgICAgICAgdG1wUm93SW5kZXggPSBpbmRleFJvd1tpXS5yb3dJbmRleDsNCiAgICAgICAgICAgICAgICBudW0gKz0gKGNvbFNwYW4gLSAodG1wUm93SW5kZXggPT0gcm93SW5kZXggPyAxIDogMCkpOw0KICAgICAgICAgICAgICAgIGkgKz0gY29sU3BhbjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBudW07DQogICAgICAgIH0sDQogICAgICAgIHNwbGl0VG9Db2xzOmZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICB2YXIgYmFja1dpZHRoID0gKGNlbGwub2Zmc2V0V2lkdGggLyBjZWxsLmNvbFNwYW4gLSAyMikudG9GaXhlZCgwKSwNCg0KICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICByb3dJbmRleCA9IGNlbGxJbmZvLnJvd0luZGV4LA0KICAgICAgICAgICAgICAgIGNvbEluZGV4ID0gY2VsbEluZm8uY29sSW5kZXgsDQogICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdOw0KICAgICAgICAgICAgLy8g5L+u5pS5Q2VsbOeahHJvd1NwYW4NCiAgICAgICAgICAgIGNlbGwuY29sU3BhbiA9IDE7DQogICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZSgid2lkdGgiLCBiYWNrV2lkdGgpOw0KICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGNlbGwpOw0KICAgICAgICAgICAgLy8g6KGl6b2Q5Y2V5YWD5qC8DQogICAgICAgICAgICBmb3IgKHZhciBqID0gY29sSW5kZXgsIGVuZENvbCA9IGNvbEluZGV4ICsgY2VsbEluZm8uY29sU3BhbjsgaiA8IGVuZENvbDsgaisrKSB7DQogICAgICAgICAgICAgICAgaWYgKGogPT0gY29sSW5kZXgpY29udGludWU7DQogICAgICAgICAgICAgICAgdmFyIHRhYmxlUm93ID0gdGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4XSwNCiAgICAgICAgICAgICAgICAgICAgdG1wQ2VsbCA9IHRhYmxlUm93Lmluc2VydENlbGwodGhpcy5pbmRleFRhYmxlW3Jvd0luZGV4XVtqXS5jZWxsSW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICB0bXBDZWxsLnJvd1NwYW4gPSBjZWxsSW5mby5yb3dTcGFuOw0KICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2VsbENvbnRlbnQodG1wQ2VsbCk7DQogICAgICAgICAgICAgICAgdG1wQ2VsbC5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNlbGwuZ2V0QXR0cmlidXRlKCd2QWxpZ24nKSk7DQogICAgICAgICAgICAgICAgdG1wQ2VsbC5zZXRBdHRyaWJ1dGUoJ2FsaWduJywgY2VsbC5nZXRBdHRyaWJ1dGUoJ2FsaWduJykpOw0KICAgICAgICAgICAgICAgIHRtcENlbGwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGJhY2tXaWR0aCk7DQogICAgICAgICAgICAgICAgaWYgKGNlbGwuc3R5bGUuY3NzVGV4dCkgew0KICAgICAgICAgICAgICAgICAgICB0bXBDZWxsLnN0eWxlLmNzc1RleHQgPSBjZWxsLnN0eWxlLmNzc1RleHQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v5aSE55CGdGjnmoTmg4XlhrUNCiAgICAgICAgICAgICAgICBpZiAoY2VsbC50YWdOYW1lID09ICdUSCcpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRoID0gY2VsbC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7DQogICAgICAgICAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKHRtcENlbGwuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgICAgIHRoLnNldEF0dHJpYnV0ZSgndkFsaWduJywgY2VsbC5nZXRBdHRyaWJ1dGUoJ3ZBbGlnbicpKTsNCiAgICAgICAgICAgICAgICAgICAgdGgucm93U3BhbiA9IHRtcENlbGwucm93U3BhbjsNCiAgICAgICAgICAgICAgICAgICAgdGFibGVSb3cuaW5zZXJ0QmVmb3JlKHRoLCB0bXBDZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcENlbGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2godG1wQ2VsbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnVwZGF0ZSgpOw0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7DQogICAgICAgIH0sDQogICAgICAgIGlzTGFzdENlbGw6ZnVuY3Rpb24gKGNlbGwsIHJvd3NOdW0sIGNvbHNOdW0pIHsNCiAgICAgICAgICAgIHJvd3NOdW0gPSByb3dzTnVtIHx8IHRoaXMucm93c051bTsNCiAgICAgICAgICAgIGNvbHNOdW0gPSBjb2xzTnVtIHx8IHRoaXMuY29sc051bTsNCiAgICAgICAgICAgIHZhciBjZWxsSW5mbyA9IHRoaXMuZ2V0Q2VsbEluZm8oY2VsbCk7DQogICAgICAgICAgICByZXR1cm4gKChjZWxsSW5mby5yb3dJbmRleCArIGNlbGxJbmZvLnJvd1NwYW4pID09IHJvd3NOdW0pICYmDQogICAgICAgICAgICAgICAgKChjZWxsSW5mby5jb2xJbmRleCArIGNlbGxJbmZvLmNvbFNwYW4pID09IGNvbHNOdW0pOw0KICAgICAgICB9LA0KICAgICAgICBnZXRMYXN0Q2VsbDpmdW5jdGlvbiAoY2VsbHMpIHsNCiAgICAgICAgICAgIGNlbGxzID0gY2VsbHMgfHwgdGhpcy50YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTsNCiAgICAgICAgICAgIHZhciBmaXJzdEluZm8gPSB0aGlzLmdldENlbGxJbmZvKGNlbGxzWzBdKTsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsIGxhc3QgPSBjZWxsc1swXSwNCiAgICAgICAgICAgICAgICB0ciA9IGxhc3QucGFyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICBjZWxsc051bSA9IDAsIGNvbHMgPSAwLCByb3dzOw0KICAgICAgICAgICAgdXRpbHMuZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwpIHsNCiAgICAgICAgICAgICAgICBpZiAoY2VsbC5wYXJlbnROb2RlID09IHRyKWNvbHMgKz0gY2VsbC5jb2xTcGFuIHx8IDE7DQogICAgICAgICAgICAgICAgY2VsbHNOdW0gKz0gY2VsbC5yb3dTcGFuICogY2VsbC5jb2xTcGFuIHx8IDE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJvd3MgPSBjZWxsc051bSAvIGNvbHM7DQogICAgICAgICAgICB1dGlscy5lYWNoKGNlbGxzLCBmdW5jdGlvbiAoY2VsbCkgew0KICAgICAgICAgICAgICAgIGlmIChtZS5pc0xhc3RDZWxsKGNlbGwsIHJvd3MsIGNvbHMpKSB7DQogICAgICAgICAgICAgICAgICAgIGxhc3QgPSBjZWxsOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gbGFzdDsNCg0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3RSb3c6ZnVuY3Rpb24gKHJvd0luZGV4KSB7DQogICAgICAgICAgICB2YXIgaW5kZXhSb3cgPSB0aGlzLmluZGV4VGFibGVbcm93SW5kZXhdLA0KICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5nZXRDZWxsKGluZGV4Um93WzBdLnJvd0luZGV4LCBpbmRleFJvd1swXS5jZWxsSW5kZXgpLA0KICAgICAgICAgICAgICAgIGVuZCA9IHRoaXMuZ2V0Q2VsbChpbmRleFJvd1t0aGlzLmNvbHNOdW0gLSAxXS5yb3dJbmRleCwgaW5kZXhSb3dbdGhpcy5jb2xzTnVtIC0gMV0uY2VsbEluZGV4KSwNCiAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuZ2V0Q2VsbHNSYW5nZShzdGFydCwgZW5kKTsNCiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWQocmFuZ2UpOw0KICAgICAgICB9LA0KICAgICAgICBzZWxlY3RUYWJsZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdGRzID0gdGhpcy50YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSwNCiAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuZ2V0Q2VsbHNSYW5nZSh0ZHNbMF0sIHRkc1t0ZHMubGVuZ3RoIC0gMV0pOw0KICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZChyYW5nZSk7DQogICAgICAgIH0sDQogICAgICAgIHNldEJhY2tncm91bmQ6ZnVuY3Rpb24gKGNlbGxzLCB2YWx1ZSkgew0KICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gInN0cmluZyIpIHsNCiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKGNlbGxzLCBmdW5jdGlvbiAoY2VsbCkgew0KICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHZhbHVlOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gIm9iamVjdCIpIHsNCiAgICAgICAgICAgICAgICB2YWx1ZSA9IHV0aWxzLmV4dGVuZCh7DQogICAgICAgICAgICAgICAgICAgIHJlcGVhdDp0cnVlLA0KICAgICAgICAgICAgICAgICAgICBjb2xvckxpc3Q6WyIjZGRkIiwgIiNmZmYiXQ0KICAgICAgICAgICAgICAgIH0sIHZhbHVlKTsNCiAgICAgICAgICAgICAgICB2YXIgcm93SW5kZXggPSB0aGlzLmdldENlbGxJbmZvKGNlbGxzWzBdKS5yb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgY291bnQgPSAwLA0KICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSB2YWx1ZS5jb2xvckxpc3QsDQogICAgICAgICAgICAgICAgICAgIGdldENvbG9yID0gZnVuY3Rpb24gKGxpc3QsIGluZGV4LCByZXBlYXQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W2luZGV4XSA/IGxpc3RbaW5kZXhdIDogcmVwZWF0ID8gbGlzdFtpbmRleCAlIGxpc3QubGVuZ3RoXSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjZWxsOyBjZWxsID0gY2VsbHNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdGhpcy5nZXRDZWxsSW5mbyhjZWxsKTsNCiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBnZXRDb2xvcihjb2xvcnMsICgocm93SW5kZXggKyBjb3VudCkgPT0gY2VsbEluZm8ucm93SW5kZXgpID8gY291bnQgOiArK2NvdW50LCB2YWx1ZS5yZXBlYXQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlQmFja2dyb3VuZDpmdW5jdGlvbiAoY2VsbHMpIHsNCiAgICAgICAgICAgIHV0aWxzLmVhY2goY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiIjsNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCg0KDQogICAgfTsNCiAgICBmdW5jdGlvbiBzaG93RXJyb3IoZSkgew0KICAgIH0NCn0pKCk7DQovKioNCiAqIENyZWF0ZWQgd2l0aCBKZXRCcmFpbnMgUGhwU3Rvcm0uDQogKiBVc2VyOiB0YW9xaWxpDQogKiBEYXRlOiAxMy0yLTIwDQogKiBUaW1lOiDkuIvljYg2OjI1DQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCjsNCihmdW5jdGlvbiAoKSB7DQogICAgdmFyIFVUID0gVUUuVUVUYWJsZSwNCiAgICAgICAgZ2V0VGFibGVJdGVtc0J5UmFuZ2UgPSBmdW5jdGlvbiAoZWRpdG9yKSB7DQogICAgICAgICAgICByZXR1cm4gVVQuZ2V0VGFibGVJdGVtc0J5UmFuZ2UoZWRpdG9yKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQgPSBmdW5jdGlvbiAoZWRpdG9yKSB7DQogICAgICAgICAgICByZXR1cm4gVVQuZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQoZWRpdG9yKQ0KICAgICAgICB9LA0KICAgICAgICBnZXREZWZhdWx0VmFsdWUgPSBmdW5jdGlvbiAoZWRpdG9yLCB0YWJsZSkgew0KICAgICAgICAgICAgcmV0dXJuIFVULmdldERlZmF1bHRWYWx1ZShlZGl0b3IsIHRhYmxlKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VUVUYWJsZSA9IGZ1bmN0aW9uICh0ZE9yVGFibGUpIHsNCiAgICAgICAgICAgIHJldHVybiBVVC5nZXRVRVRhYmxlKHRkT3JUYWJsZSk7DQogICAgICAgIH07DQoNCg0KICAgIFVFLmNvbW1hbmRzWydpbnNlcnR0YWJsZSddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlID8gLTEgOiAwOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCwgb3B0KSB7DQogICAgICAgICAgICBmdW5jdGlvbiBjcmVhdGVUYWJsZShvcHQsIHRkV2lkdGgpIHsNCiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IFtdLA0KICAgICAgICAgICAgICAgICAgICByb3dzTnVtID0gb3B0Lm51bVJvd3MsDQogICAgICAgICAgICAgICAgICAgIGNvbHNOdW0gPSBvcHQubnVtQ29sczsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHJvd3NOdW07IHIrKykgew0KICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goJzx0cj4nKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBjb2xzTnVtOyBjKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaCgnPHRkIHdpZHRoPSInICsgdGRXaWR0aCArICciICB2QWxpZ249IicgKyBvcHQudGR2YWxpZ24gKyAnIiA+JyArIChicm93c2VyLmllID8gZG9tVXRpbHMuZmlsbENoYXIgOiAnPGJyLz4nKSArICc8L3RkPicpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaHRtbC5wdXNoKCc8L3RyPicpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8v56aB5q2i5oyH5a6adGFibGUtd2lkdGgNCiAgICAgICAgICAgICAgICByZXR1cm4gJzx0YWJsZT48dGJvZHk+JyArIGh0bWwuam9pbignJykgKyAnPC90Ym9keT48L3RhYmxlPicNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKCFvcHQpIHsNCiAgICAgICAgICAgICAgICBvcHQgPSB1dGlscy5leHRlbmQoe30sIHsNCiAgICAgICAgICAgICAgICAgICAgbnVtQ29sczogdGhpcy5vcHRpb25zLmRlZmF1bHRDb2xzLA0KICAgICAgICAgICAgICAgICAgICBudW1Sb3dzOiB0aGlzLm9wdGlvbnMuZGVmYXVsdFJvd3MsDQogICAgICAgICAgICAgICAgICAgIHRkdmFsaWduOiB0aGlzLm9wdGlvbnMudGR2YWxpZ24NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lciwNCiAgICAgICAgICAgICAgICBmaXJzdFBhcmVudEJsb2NrID0gZG9tVXRpbHMuZmluZFBhcmVudChzdGFydCwgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSk7DQogICAgICAgICAgICAgICAgfSwgdHJ1ZSkgfHwgbWUuYm9keTsNCg0KICAgICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IGdldERlZmF1bHRWYWx1ZShtZSksDQogICAgICAgICAgICAgICAgdGFibGVXaWR0aCA9IGZpcnN0UGFyZW50QmxvY2sub2Zmc2V0V2lkdGgsDQogICAgICAgICAgICAgICAgdGRXaWR0aCA9IE1hdGguZmxvb3IodGFibGVXaWR0aCAvIG9wdC5udW1Db2xzIC0gZGVmYXVsdFZhbHVlLnRkUGFkZGluZyAqIDIgLSBkZWZhdWx0VmFsdWUudGRCb3JkZXIpOw0KDQogICAgICAgICAgICAvL3RvZG/lhbbku5blsZ7mgKcNCiAgICAgICAgICAgICFvcHQudGR2YWxpZ24gJiYgKG9wdC50ZHZhbGlnbiA9IG1lLm9wdGlvbnMudGR2YWxpZ24pOw0KICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoImluc2VydGh0bWwiLCBjcmVhdGVUYWJsZShvcHQsIHRkV2lkdGgpKTsNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICBVRS5jb21tYW5kc1snaW5zZXJ0cGFyYWdyYXBoYmVmb3JldGFibGUnXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsID8gMCA6IC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgcCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpOw0KICAgICAgICAgICAgICAgIHAuaW5uZXJIVE1MID0gYnJvd3Nlci5pZSA/ICcmbmJzcDsnIDogJzxiciAvPic7DQogICAgICAgICAgICAgICAgdGFibGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCwgdGFibGUpOw0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQocCwgMCkuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgVUUuY29tbWFuZHNbJ2RlbGV0ZXRhYmxlJ10gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgIHJldHVybiBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwgJ3RhYmxlJywgdHJ1ZSkgPyAwIDogLTE7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kLCB0YWJsZSkgew0KICAgICAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICB0YWJsZSA9IHRhYmxlIHx8IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCAndGFibGUnLCB0cnVlKTsNCiAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgIHZhciBuZXh0ID0gdGFibGUubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgaWYgKCFuZXh0KSB7DQogICAgICAgICAgICAgICAgICAgIG5leHQgPSBkb21VdGlscy5jcmVhdGVFbGVtZW50KHRoaXMuZG9jdW1lbnQsICdwJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgJ2lubmVySFRNTCc6IGJyb3dzZXIuaWUgPyBkb21VdGlscy5maWxsQ2hhciA6ICc8YnIvPicNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHRhYmxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5leHQsIHRhYmxlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRhYmxlKTsNCiAgICAgICAgICAgICAgICBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgICAgIGlmIChuZXh0Lm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0QmVmb3JlKG5leHQpDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0KG5leHQsIDApDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJuZy5zZXRDdXJzb3IoZmFsc2UsIHRydWUpDQogICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoInRhYmxlaGFzZGVsZXRlZCIpDQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1snY2VsbGFsaWduJ10gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gZ2V0U2VsZWN0ZWRBcnIodGhpcykubGVuZ3RoID8gMCA6IC0xDQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kLCBhbGlnbikgew0KICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGRzID0gZ2V0U2VsZWN0ZWRBcnIodGhpcyk7DQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHNlbGVjdGVkVGRzW2krK107KSB7DQogICAgICAgICAgICAgICAgICAgIGNpLnNldEF0dHJpYnV0ZSgnYWxpZ24nLCBhbGlnbik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1snY2VsbHZhbGlnbiddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIGdldFNlbGVjdGVkQXJyKHRoaXMpLmxlbmd0aCA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQsIHZhbGlnbikgew0KICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGRzID0gZ2V0U2VsZWN0ZWRBcnIodGhpcyk7DQogICAgICAgICAgICBpZiAoc2VsZWN0ZWRUZHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHNlbGVjdGVkVGRzW2krK107KSB7DQogICAgICAgICAgICAgICAgICAgIGNpLnNldEF0dHJpYnV0ZSgndkFsaWduJywgdmFsaWduKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWydpbnNlcnRjYXB0aW9uJ10gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdGFibGUgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTsNCiAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FwdGlvbicpLmxlbmd0aCA9PSAwID8gMSA6IC0xOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2FwdGlvbiA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FwdGlvbicpOw0KICAgICAgICAgICAgICAgIGNhcHRpb24uaW5uZXJIVE1MID0gYnJvd3Nlci5pZSA/IGRvbVV0aWxzLmZpbGxDaGFyIDogJzxici8+JzsNCiAgICAgICAgICAgICAgICB0YWJsZS5pbnNlcnRCZWZvcmUoY2FwdGlvbiwgdGFibGUuZmlyc3RDaGlsZCk7DQogICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChjYXB0aW9uLCAwKS5zZXRDdXJzb3IoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1snZGVsZXRlY2FwdGlvbiddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgdGFibGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwgJ3RhYmxlJyk7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NhcHRpb24nKS5sZW5ndGggPT0gMCA/IC0xIDogMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHRhYmxlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsICd0YWJsZScpOw0KICAgICAgICAgICAgaWYgKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYXB0aW9uJylbMF0pOw0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQodGFibGUucm93c1swXS5jZWxsc1swXSwgMCkuc2V0Q3Vyc29yKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgIH07DQogICAgVUUuY29tbWFuZHNbJ2luc2VydHRpdGxlJ10gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdGFibGUgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTsNCiAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgIHZhciBmaXJzdFJvdyA9IHRhYmxlLnJvd3NbMF07DQogICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0Um93LmNlbGxzW2ZpcnN0Um93LmNlbGxzLmxlbmd0aC0xXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gJ3RoJyA/IDAgOiAtMQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICBnZXRVRVRhYmxlKHRhYmxlKS5pbnNlcnRSb3coMCwgJ3RoJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGggPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGgnKVswXTsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQodGgsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWydkZWxldGV0aXRsZSddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZmlyc3RSb3cgPSB0YWJsZS5yb3dzWzBdOw0KICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdFJvdy5jZWxsc1tmaXJzdFJvdy5jZWxscy5sZW5ndGgtMV0udGFnTmFtZS50b0xvd2VyQ2FzZSgpID09ICd0aCcgPyAwIDogLTENCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlOw0KICAgICAgICAgICAgaWYgKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRhYmxlLnJvd3NbMF0pDQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGQgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKVswXTsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQodGQsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWydpbnNlcnR0aXRsZWNvbCddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgbGFzdFJvdyA9IHRhYmxlLnJvd3NbdGFibGUucm93cy5sZW5ndGgtMV07DQogICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RSb3cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RoJykubGVuZ3RoID8gLTEgOiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICBnZXRVRVRhYmxlKHRhYmxlKS5pbnNlcnRDb2woMCwgJ3RoJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXNldFRkV2lkdGgodGFibGUsIHRoaXMpOw0KICAgICAgICAgICAgdmFyIHRoID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RoJylbMF07DQogICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNldFN0YXJ0KHRoLCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpOw0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1snZGVsZXRldGl0bGVjb2wnXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlOw0KICAgICAgICAgICAgaWYgKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgdmFyIGxhc3RSb3cgPSB0YWJsZS5yb3dzW3RhYmxlLnJvd3MubGVuZ3RoLTFdOw0KICAgICAgICAgICAgICAgIHJldHVybiBsYXN0Um93LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0aCcpLmxlbmd0aCA/IDAgOiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlOw0KICAgICAgICAgICAgaWYgKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaTwgdGFibGUucm93cy5sZW5ndGg7IGkrKyApew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodGFibGUucm93c1tpXS5jaGlsZHJlblswXSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXNldFRkV2lkdGgodGFibGUsIHRoaXMpOw0KICAgICAgICAgICAgdmFyIHRkID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJylbMF07DQogICAgICAgICAgICB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNldFN0YXJ0KHRkLCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpOw0KICAgICAgICB9DQogICAgfTsNCg0KICAgIFVFLmNvbW1hbmRzWyJtZXJnZXJpZ2h0Il0gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoY21kKSB7DQogICAgICAgICAgICB2YXIgdGFibGVJdGVtcyA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpOw0KICAgICAgICAgICAgaWYgKCF0YWJsZUl0ZW1zLmNlbGwpIHJldHVybiAtMTsNCiAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGUodGFibGVJdGVtcy50YWJsZSk7DQogICAgICAgICAgICBpZiAodXQuc2VsZWN0ZWRUZHMubGVuZ3RoKSByZXR1cm4gLTE7DQogICAgICAgICAgICB2YXIgY2VsbEluZm8gPSB1dC5nZXRDZWxsSW5mbyh0YWJsZUl0ZW1zLmNlbGwpLA0KICAgICAgICAgICAgICAgIHJpZ2h0Q29sSW5kZXggPSBjZWxsSW5mby5jb2xJbmRleCArIGNlbGxJbmZvLmNvbFNwYW47DQogICAgICAgICAgICBpZiAocmlnaHRDb2xJbmRleCA+PSB1dC5jb2xzTnVtKSByZXR1cm4gLTE7DQogICAgICAgICAgICB2YXIgcmlnaHRDZWxsSW5mbyA9IHV0LmluZGV4VGFibGVbY2VsbEluZm8ucm93SW5kZXhdW3JpZ2h0Q29sSW5kZXhdOw0KICAgICAgICAgICAgcmV0dXJuIChyaWdodENlbGxJbmZvLnJvd0luZGV4ID09IGNlbGxJbmZvLnJvd0luZGV4DQogICAgICAgICAgICAgICAgJiYgcmlnaHRDZWxsSW5mby5yb3dTcGFuID09IGNlbGxJbmZvLnJvd1NwYW4pID8gMCA6IC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCkgew0KICAgICAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgYmsgPSBybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7DQogICAgICAgICAgICB2YXIgY2VsbCA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLmNlbGwsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKGNlbGwpOw0KICAgICAgICAgICAgdXQubWVyZ2VSaWdodChjZWxsKTsNCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJtZXJnZWRvd24iXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksDQogICAgICAgICAgICAgICAgY2VsbCA9IHRhYmxlSXRlbXMuY2VsbDsNCiAgICAgICAgICAgIGlmICghY2VsbCB8fCBjZWxsLnRhZ05hbWUgPT0gIlRIIikgcmV0dXJuIC0xOw0KICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKTsNCiAgICAgICAgICAgIGlmICh1dC5zZWxlY3RlZFRkcy5sZW5ndGgpcmV0dXJuIC0xOw0KICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdXQuZ2V0Q2VsbEluZm8odGFibGVJdGVtcy5jZWxsKSwNCiAgICAgICAgICAgICAgICBkb3duUm93SW5kZXggPSBjZWxsSW5mby5yb3dJbmRleCArIGNlbGxJbmZvLnJvd1NwYW47DQogICAgICAgICAgICAvLyDlpoLmnpzlpITkuo7mnIDkuIvovrnliJnkuI3og71m5ZCR5Y+z5ZCI5bm2DQogICAgICAgICAgICBpZiAoZG93blJvd0luZGV4ID49IHV0LnJvd3NOdW0pIHJldHVybiAtMTsNCiAgICAgICAgICAgIHZhciBkb3duQ2VsbEluZm8gPSB1dC5pbmRleFRhYmxlW2Rvd25Sb3dJbmRleF1bY2VsbEluZm8uY29sSW5kZXhdOw0KICAgICAgICAgICAgLy8g5b2T5LiU5LuF5b2T5Lik5LiqQ2VsbOeahOW8gOWni+WIl+WPt+WSjOe7k+adn+WIl+WPt+S4gOiHtOaXtuiDvei/m+ihjOWQiOW5tg0KICAgICAgICAgICAgcmV0dXJuIChkb3duQ2VsbEluZm8uY29sSW5kZXggPT0gY2VsbEluZm8uY29sSW5kZXgNCiAgICAgICAgICAgICAgICAmJiBkb3duQ2VsbEluZm8uY29sU3BhbiA9PSBjZWxsSW5mby5jb2xTcGFuKSAmJiB0YWJsZUl0ZW1zLmNlbGwudGFnTmFtZSAhPT0gJ1RIJyA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpOw0KICAgICAgICAgICAgdmFyIGNlbGwgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZShjZWxsKTsNCiAgICAgICAgICAgIHV0Lm1lcmdlRG93bihjZWxsKTsNCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJtZXJnZWNlbGxzIl0gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQodGhpcykgPyAwIDogLTE7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlQnlTZWxlY3RlZCh0aGlzKTsNCiAgICAgICAgICAgIGlmICh1dCAmJiB1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IHV0LnNlbGVjdGVkVGRzWzBdOw0KICAgICAgICAgICAgICAgIHV0Lm1lcmdlUmFuZ2UoKTsNCiAgICAgICAgICAgICAgICB2YXIgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGNlbGwpKSB7DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZXRTdGFydChjZWxsLCAwKS5jb2xsYXBzZSh0cnVlKQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHJuZy5zZWxlY3ROb2RlQ29udGVudHMoY2VsbCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcm5nLnNlbGVjdCgpOw0KICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgfQ0KICAgIH07DQogICAgVUUuY29tbWFuZHNbImluc2VydHJvdyJdID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICBjZWxsID0gdGFibGVJdGVtcy5jZWxsOw0KICAgICAgICAgICAgcmV0dXJuIGNlbGwgJiYgKGNlbGwudGFnTmFtZSA9PSAiVEQiIHx8IChjZWxsLnRhZ05hbWUgPT0gJ1RIJyAmJiB0YWJsZUl0ZW1zLnRyICE9PSB0YWJsZUl0ZW1zLnRhYmxlLnJvd3NbMF0pKSAmJg0KICAgICAgICAgICAgICAgIGdldFVFVGFibGUodGFibGVJdGVtcy50YWJsZSkucm93c051bSA8IHRoaXMub3B0aW9ucy5tYXhSb3dOdW0gPyAwIDogLTE7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICBiayA9IHJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTsNCiAgICAgICAgICAgIHZhciB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksDQogICAgICAgICAgICAgICAgY2VsbCA9IHRhYmxlSXRlbXMuY2VsbCwNCiAgICAgICAgICAgICAgICB0YWJsZSA9IHRhYmxlSXRlbXMudGFibGUsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKHRhYmxlKSwNCiAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IHV0LmdldENlbGxJbmZvKGNlbGwpOw0KICAgICAgICAgICAgLy91dC5pbnNlcnRSb3coIXV0LnNlbGVjdGVkVGRzLmxlbmd0aCA/IGNlbGxJbmZvLnJvd0luZGV4OnV0LmNlbGxzUmFuZ2UuYmVnaW5Sb3dJbmRleCwnJyk7DQogICAgICAgICAgICBpZiAoIXV0LnNlbGVjdGVkVGRzLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgIHV0Lmluc2VydFJvdyhjZWxsSW5mby5yb3dJbmRleCwgY2VsbCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHV0LmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJhbmdlLmVuZFJvd0luZGV4IC0gcmFuZ2UuYmVnaW5Sb3dJbmRleCArIDE7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB1dC5pbnNlcnRSb3cocmFuZ2UuYmVnaW5Sb3dJbmRleCwgY2VsbCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcm5nLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKTsNCiAgICAgICAgICAgIGlmICh0YWJsZS5nZXRBdHRyaWJ1dGUoImludGVybGFjZWQiKSA9PT0gImVuYWJsZWQiKXRoaXMuZmlyZUV2ZW50KCJpbnRlcmxhY2V0YWJsZSIsIHRhYmxlKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy/lkI7mj5LlhaXooYwNCiAgICBVRS5jb21tYW5kc1siaW5zZXJ0cm93bmV4dCJdID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICBjZWxsID0gdGFibGVJdGVtcy5jZWxsOw0KICAgICAgICAgICAgcmV0dXJuIGNlbGwgJiYgKGNlbGwudGFnTmFtZSA9PSAiVEQiKSAmJiBnZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpLnJvd3NOdW0gPCB0aGlzLm9wdGlvbnMubWF4Um93TnVtID8gMCA6IC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJuZyA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICAgICAgYmsgPSBybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7DQogICAgICAgICAgICB2YXIgdGFibGVJdGVtcyA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLA0KICAgICAgICAgICAgICAgIGNlbGwgPSB0YWJsZUl0ZW1zLmNlbGwsDQogICAgICAgICAgICAgICAgdGFibGUgPSB0YWJsZUl0ZW1zLnRhYmxlLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZSh0YWJsZSksDQogICAgICAgICAgICAgICAgY2VsbEluZm8gPSB1dC5nZXRDZWxsSW5mbyhjZWxsKTsNCiAgICAgICAgICAgIC8vdXQuaW5zZXJ0Um93KCF1dC5zZWxlY3RlZFRkcy5sZW5ndGg/IGNlbGxJbmZvLnJvd0luZGV4ICsgY2VsbEluZm8ucm93U3BhbiA6IHV0LmNlbGxzUmFuZ2UuZW5kUm93SW5kZXggKyAxLCcnKTsNCiAgICAgICAgICAgIGlmICghdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgdXQuaW5zZXJ0Um93KGNlbGxJbmZvLnJvd0luZGV4ICsgY2VsbEluZm8ucm93U3BhbiwgY2VsbCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHV0LmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJhbmdlLmVuZFJvd0luZGV4IC0gcmFuZ2UuYmVnaW5Sb3dJbmRleCArIDE7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB1dC5pbnNlcnRSb3cocmFuZ2UuZW5kUm93SW5kZXggKyAxLCBjZWxsKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpOw0KICAgICAgICAgICAgaWYgKHRhYmxlLmdldEF0dHJpYnV0ZSgiaW50ZXJsYWNlZCIpID09PSAiZW5hYmxlZCIpdGhpcy5maXJlRXZlbnQoImludGVybGFjZXRhYmxlIiwgdGFibGUpOw0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1siZGVsZXRlcm93Il0gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdGFibGVJdGVtcyA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpOw0KICAgICAgICAgICAgaWYgKCF0YWJsZUl0ZW1zLmNlbGwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgY2VsbCA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLmNlbGwsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKGNlbGwpLA0KICAgICAgICAgICAgICAgIGNlbGxzUmFuZ2UgPSB1dC5jZWxsc1JhbmdlLA0KICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gdXQuZ2V0Q2VsbEluZm8oY2VsbCksDQogICAgICAgICAgICAgICAgcHJlQ2VsbCA9IHV0LmdldFZTaWRlQ2VsbChjZWxsKSwNCiAgICAgICAgICAgICAgICBuZXh0Q2VsbCA9IHV0LmdldFZTaWRlQ2VsbChjZWxsLCB0cnVlKSwNCiAgICAgICAgICAgICAgICBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRW1wdHlPYmplY3QoY2VsbHNSYW5nZSkpIHsNCiAgICAgICAgICAgICAgICB1dC5kZWxldGVSb3coY2VsbEluZm8ucm93SW5kZXgpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gY2VsbHNSYW5nZS5iZWdpblJvd0luZGV4OyBpIDwgY2VsbHNSYW5nZS5lbmRSb3dJbmRleCArIDE7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB1dC5kZWxldGVSb3coY2VsbHNSYW5nZS5iZWdpblJvd0luZGV4KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdGFibGUgPSB1dC50YWJsZTsNCiAgICAgICAgICAgIGlmICghdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJykubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgdmFyIG5leHRTaWJsaW5nID0gdGFibGUubmV4dFNpYmxpbmc7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRhYmxlKTsNCiAgICAgICAgICAgICAgICBpZiAobmV4dFNpYmxpbmcpIHsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0KG5leHRTaWJsaW5nLCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGNlbGxJbmZvLnJvd1NwYW4gPT0gMSB8fCBjZWxsSW5mby5yb3dTcGFuID09IGNlbGxzUmFuZ2UuZW5kUm93SW5kZXggLSBjZWxsc1JhbmdlLmJlZ2luUm93SW5kZXggKyAxKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChuZXh0Q2VsbCB8fCBwcmVDZWxsKSBybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKG5leHRDZWxsIHx8IHByZUNlbGwpLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0NlbGwgPSB1dC5nZXRDZWxsKGNlbGxJbmZvLnJvd0luZGV4LCB1dC5pbmRleFRhYmxlW2NlbGxJbmZvLnJvd0luZGV4XVtjZWxsSW5mby5jb2xJbmRleF0uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0NlbGwpIHJuZy5zZWxlY3ROb2RlQ29udGVudHMobmV3Q2VsbCkuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodGFibGUuZ2V0QXR0cmlidXRlKCJpbnRlcmxhY2VkIikgPT09ICJlbmFibGVkIil0aGlzLmZpcmVFdmVudCgiaW50ZXJsYWNldGFibGUiLCB0YWJsZSk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJpbnNlcnRjb2wiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksDQogICAgICAgICAgICAgICAgY2VsbCA9IHRhYmxlSXRlbXMuY2VsbDsNCiAgICAgICAgICAgIHJldHVybiBjZWxsICYmIChjZWxsLnRhZ05hbWUgPT0gIlREIiB8fCAoY2VsbC50YWdOYW1lID09ICdUSCcgJiYgY2VsbCAhPT0gdGFibGVJdGVtcy50ci5jZWxsc1swXSkpICYmDQogICAgICAgICAgICAgICAgZ2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKS5jb2xzTnVtIDwgdGhpcy5vcHRpb25zLm1heENvbE51bSA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpOw0KICAgICAgICAgICAgaWYgKHRoaXMucXVlcnlDb21tYW5kU3RhdGUoY21kKSA9PSAtMSlyZXR1cm47DQogICAgICAgICAgICB2YXIgY2VsbCA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLmNlbGwsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKGNlbGwpLA0KICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gdXQuZ2V0Q2VsbEluZm8oY2VsbCk7DQoNCiAgICAgICAgICAgIC8vdXQuaW5zZXJ0Q29sKCF1dC5zZWxlY3RlZFRkcy5sZW5ndGggPyBjZWxsSW5mby5jb2xJbmRleDp1dC5jZWxsc1JhbmdlLmJlZ2luQ29sSW5kZXgpOw0KICAgICAgICAgICAgaWYgKCF1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB1dC5pbnNlcnRDb2woY2VsbEluZm8uY29sSW5kZXgsIGNlbGwpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSB1dC5jZWxsc1JhbmdlOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByYW5nZS5lbmRDb2xJbmRleCAtIHJhbmdlLmJlZ2luQ29sSW5kZXggKyAxOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgdXQuaW5zZXJ0Q29sKHJhbmdlLmJlZ2luQ29sSW5kZXgsIGNlbGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KHRydWUpOw0KICAgICAgICB9DQogICAgfTsNCiAgICBVRS5jb21tYW5kc1siaW5zZXJ0Y29sbmV4dCJdID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICBjZWxsID0gdGFibGVJdGVtcy5jZWxsOw0KICAgICAgICAgICAgcmV0dXJuIGNlbGwgJiYgZ2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKS5jb2xzTnVtIDwgdGhpcy5vcHRpb25zLm1heENvbE51bSA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpOw0KICAgICAgICAgICAgdmFyIGNlbGwgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZShjZWxsKSwNCiAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IHV0LmdldENlbGxJbmZvKGNlbGwpOw0KICAgICAgICAgICAgLy91dC5pbnNlcnRDb2woIXV0LnNlbGVjdGVkVGRzLmxlbmd0aCA/IGNlbGxJbmZvLmNvbEluZGV4ICsgY2VsbEluZm8uY29sU3Bhbjp1dC5jZWxsc1JhbmdlLmVuZENvbEluZGV4ICsxKTsNCiAgICAgICAgICAgIGlmICghdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgdXQuaW5zZXJ0Q29sKGNlbGxJbmZvLmNvbEluZGV4ICsgY2VsbEluZm8uY29sU3BhbiwgY2VsbCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IHV0LmNlbGxzUmFuZ2U7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJhbmdlLmVuZENvbEluZGV4IC0gcmFuZ2UuYmVnaW5Db2xJbmRleCArIDE7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB1dC5pbnNlcnRDb2wocmFuZ2UuZW5kQ29sSW5kZXggKyAxLCBjZWxsKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpOw0KICAgICAgICB9DQogICAgfTsNCg0KICAgIFVFLmNvbW1hbmRzWyJkZWxldGVjb2wiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyk7DQogICAgICAgICAgICBpZiAoIXRhYmxlSXRlbXMuY2VsbCkgcmV0dXJuIC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGNlbGwgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZShjZWxsKSwNCiAgICAgICAgICAgICAgICByYW5nZSA9IHV0LmNlbGxzUmFuZ2UsDQogICAgICAgICAgICAgICAgY2VsbEluZm8gPSB1dC5nZXRDZWxsSW5mbyhjZWxsKSwNCiAgICAgICAgICAgICAgICBwcmVDZWxsID0gdXQuZ2V0SFNpZGVDZWxsKGNlbGwpLA0KICAgICAgICAgICAgICAgIG5leHRDZWxsID0gdXQuZ2V0SFNpZGVDZWxsKGNlbGwsIHRydWUpOw0KICAgICAgICAgICAgaWYgKHV0aWxzLmlzRW1wdHlPYmplY3QocmFuZ2UpKSB7DQogICAgICAgICAgICAgICAgdXQuZGVsZXRlQ29sKGNlbGxJbmZvLmNvbEluZGV4KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJhbmdlLmJlZ2luQ29sSW5kZXg7IGkgPCByYW5nZS5lbmRDb2xJbmRleCArIDE7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB1dC5kZWxldGVDb2wocmFuZ2UuYmVnaW5Db2xJbmRleCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIHRhYmxlID0gdXQudGFibGUsDQogICAgICAgICAgICAgICAgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCg0KICAgICAgICAgICAgaWYgKCF0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB2YXIgbmV4dFNpYmxpbmcgPSB0YWJsZS5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodGFibGUpOw0KICAgICAgICAgICAgICAgIGlmIChuZXh0U2libGluZykgew0KICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnQobmV4dFNpYmxpbmcsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaW5Eb2MoY2VsbCwgdGhpcy5kb2N1bWVudCkpIHsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0KGNlbGwsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDZWxsICYmIGRvbVV0aWxzLmluRG9jKG5leHRDZWxsLCB0aGlzLmRvY3VtZW50KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNlbGVjdE5vZGVDb250ZW50cyhuZXh0Q2VsbCkuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVDZWxsICYmIGRvbVV0aWxzLmluRG9jKHByZUNlbGwsIHRoaXMuZG9jdW1lbnQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNlbGVjdE5vZGVDb250ZW50cyhwcmVDZWxsKS5zZXRDdXJzb3IodHJ1ZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJzcGxpdHRvY2VsbHMiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksDQogICAgICAgICAgICAgICAgY2VsbCA9IHRhYmxlSXRlbXMuY2VsbDsNCiAgICAgICAgICAgIGlmICghY2VsbCkgcmV0dXJuIC0xOw0KICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKTsNCiAgICAgICAgICAgIGlmICh1dC5zZWxlY3RlZFRkcy5sZW5ndGggPiAwKSByZXR1cm4gLTE7DQogICAgICAgICAgICByZXR1cm4gY2VsbCAmJiAoY2VsbC5jb2xTcGFuID4gMSB8fCBjZWxsLnJvd1NwYW4gPiAxKSA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIGJrID0gcm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpOw0KICAgICAgICAgICAgdmFyIGNlbGwgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZShjZWxsKTsNCiAgICAgICAgICAgIHV0LnNwbGl0VG9DZWxscyhjZWxsKTsNCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJzcGxpdHRvcm93cyJdID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICBjZWxsID0gdGFibGVJdGVtcy5jZWxsOw0KICAgICAgICAgICAgaWYgKCFjZWxsKSByZXR1cm4gLTE7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpOw0KICAgICAgICAgICAgaWYgKHV0LnNlbGVjdGVkVGRzLmxlbmd0aCA+IDApIHJldHVybiAtMTsNCiAgICAgICAgICAgIHJldHVybiBjZWxsICYmIGNlbGwucm93U3BhbiA+IDEgPyAwIDogLTE7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICBiayA9IHJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTsNCiAgICAgICAgICAgIHZhciBjZWxsID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbCwNCiAgICAgICAgICAgICAgICB1dCA9IGdldFVFVGFibGUoY2VsbCk7DQogICAgICAgICAgICB1dC5zcGxpdFRvUm93cyhjZWxsKTsNCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIFVFLmNvbW1hbmRzWyJzcGxpdHRvY29scyJdID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICBjZWxsID0gdGFibGVJdGVtcy5jZWxsOw0KICAgICAgICAgICAgaWYgKCFjZWxsKSByZXR1cm4gLTE7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpOw0KICAgICAgICAgICAgaWYgKHV0LnNlbGVjdGVkVGRzLmxlbmd0aCA+IDApIHJldHVybiAtMTsNCiAgICAgICAgICAgIHJldHVybiBjZWxsICYmIGNlbGwuY29sU3BhbiA+IDEgPyAwIDogLTE7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgcm5nID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICBiayA9IHJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTsNCiAgICAgICAgICAgIHZhciBjZWxsID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbCwNCiAgICAgICAgICAgICAgICB1dCA9IGdldFVFVGFibGUoY2VsbCk7DQogICAgICAgICAgICB1dC5zcGxpdFRvQ29scyhjZWxsKTsNCiAgICAgICAgICAgIHJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQoNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICBVRS5jb21tYW5kc1siYWRhcHRieXRleHQiXSA9DQogICAgICAgIFVFLmNvbW1hbmRzWyJhZGFwdGJ5d2luZG93Il0gPSB7DQogICAgICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHJldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZSA/IDAgOiAtMQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kKSB7DQogICAgICAgICAgICAgICAgdmFyIHRhYmxlSXRlbXMgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSwNCiAgICAgICAgICAgICAgICAgICAgdGFibGUgPSB0YWJsZUl0ZW1zLnRhYmxlOw0KICAgICAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoY21kID09ICdhZGFwdGJ5d2luZG93Jykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRUZFdpZHRoKHRhYmxlLCB0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxscyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAidGQgdGgiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goY2VsbHMsIGZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgIC8v5bmz5Z2H5YiG6YWN5ZCE5YiXDQogICAgVUUuY29tbWFuZHNbJ2F2ZXJhZ2VkaXN0cmlidXRlY29sJ10gPSB7DQogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlQnlTZWxlY3RlZCh0aGlzKTsNCiAgICAgICAgICAgIGlmICghdXQpIHJldHVybiAtMTsNCiAgICAgICAgICAgIHJldHVybiB1dC5pc0Z1bGxSb3coKSB8fCB1dC5pc0Z1bGxDb2woKSA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEF2ZXJhZ2VXaWR0aCgpIHsNCiAgICAgICAgICAgICAgICB2YXIgdGIgPSB1dC50YWJsZSwNCiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZVdpZHRoLCBzdW1XaWR0aCA9IDAsIGNvbHNOdW0gPSAwLA0KICAgICAgICAgICAgICAgICAgICB0YkF0dHIgPSBnZXREZWZhdWx0VmFsdWUobWUsIHRiKTsNCg0KICAgICAgICAgICAgICAgIGlmICh1dC5pc0Z1bGxSb3coKSkgew0KICAgICAgICAgICAgICAgICAgICBzdW1XaWR0aCA9IHRiLm9mZnNldFdpZHRoOw0KICAgICAgICAgICAgICAgICAgICBjb2xzTnVtID0gdXQuY29sc051bTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB2YXIgYmVnaW4gPSB1dC5jZWxsc1JhbmdlLmJlZ2luQ29sSW5kZXgsDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSB1dC5jZWxsc1JhbmdlLmVuZENvbEluZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luOyBpIDw9IGVuZDspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSB1dC5zZWxlY3RlZFRkc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHN1bVdpZHRoICs9IG5vZGUub2Zmc2V0V2lkdGg7DQogICAgICAgICAgICAgICAgICAgICAgICBpICs9IG5vZGUuY29sU3BhbjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNOdW0gKz0gMTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBhdmVyYWdlV2lkdGggPSBNYXRoLmNlaWwoc3VtV2lkdGggLyBjb2xzTnVtKSAtIHRiQXR0ci50ZEJvcmRlciAqIDIgLSB0YkF0dHIudGRQYWRkaW5nICogMjsNCiAgICAgICAgICAgICAgICByZXR1cm4gYXZlcmFnZVdpZHRoOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBzZXRBdmVyYWdlV2lkdGgoYXZlcmFnZVdpZHRoKSB7DQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh1dC50YWJsZSwgInRoIiksIGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsICIiKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbHMgPSB1dC5pc0Z1bGxSb3coKSA/IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHV0LnRhYmxlLCAidGQiKSA6IHV0LnNlbGVjdGVkVGRzOw0KDQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaChjZWxscywgZnVuY3Rpb24gKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuY29sU3BhbiA9PSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgid2lkdGgiLCBhdmVyYWdlV2lkdGgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh1dCAmJiB1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBzZXRBdmVyYWdlV2lkdGgoZ2V0QXZlcmFnZVdpZHRoKCkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICAvL+W5s+Wdh+WIhumFjeWQhOihjA0KICAgIFVFLmNvbW1hbmRzWydhdmVyYWdlZGlzdHJpYnV0ZXJvdyddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQodGhpcyk7DQogICAgICAgICAgICBpZiAoIXV0KSByZXR1cm4gLTE7DQogICAgICAgICAgICBpZiAodXQuc2VsZWN0ZWRUZHMgJiYgL3RoL2lnLnRlc3QodXQuc2VsZWN0ZWRUZHNbMF0udGFnTmFtZSkpIHJldHVybiAtMTsNCiAgICAgICAgICAgIHJldHVybiB1dC5pc0Z1bGxSb3coKSB8fCB1dC5pc0Z1bGxDb2woKSA/IDAgOiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEF2ZXJhZ2VIZWlnaHQoKSB7DQogICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2VIZWlnaHQsIHJvd051bSwgc3VtSGVpZ2h0ID0gMCwNCiAgICAgICAgICAgICAgICAgICAgdGIgPSB1dC50YWJsZSwNCiAgICAgICAgICAgICAgICAgICAgdGJBdHRyID0gZ2V0RGVmYXVsdFZhbHVlKG1lLCB0YiksDQogICAgICAgICAgICAgICAgICAgIHRkcGFkZGluZyA9IHBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJylbMF0sICJwYWRkaW5nLXRvcCIpKTsNCg0KICAgICAgICAgICAgICAgIGlmICh1dC5pc0Z1bGxDb2woKSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2FwdGlvbkFyciA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRiLCAiY2FwdGlvbiIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGhBcnIgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YiwgInRoIiksDQogICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uSGVpZ2h0LCB0aEhlaWdodDsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoY2FwdGlvbkFyci5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjYXB0aW9uSGVpZ2h0ID0gY2FwdGlvbkFyclswXS5vZmZzZXRIZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoQXJyLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoSGVpZ2h0ID0gdGhBcnJbMF0ub2Zmc2V0SGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgc3VtSGVpZ2h0ID0gdGIub2Zmc2V0SGVpZ2h0IC0gKGNhcHRpb25IZWlnaHQgfHwgMCkgLSAodGhIZWlnaHQgfHwgMCk7DQogICAgICAgICAgICAgICAgICAgIHJvd051bSA9IHRoQXJyLmxlbmd0aCA9PSAwID8gdXQucm93c051bSA6ICh1dC5yb3dzTnVtIC0gMSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gdXQuY2VsbHNSYW5nZS5iZWdpblJvd0luZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gdXQuY2VsbHNSYW5nZS5lbmRSb3dJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ID0gMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRycyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRiLCAidHIiKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luOyBpIDw9IGVuZDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBzdW1IZWlnaHQgKz0gdHJzW2ldLm9mZnNldEhlaWdodDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICs9IDE7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcm93TnVtID0gY291bnQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIC8vaWU45LiL5piv5re35p2C5qih5byPDQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uIDwgOSkgew0KICAgICAgICAgICAgICAgICAgICBhdmVyYWdlSGVpZ2h0ID0gTWF0aC5jZWlsKHN1bUhlaWdodCAvIHJvd051bSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYXZlcmFnZUhlaWdodCA9IE1hdGguY2VpbChzdW1IZWlnaHQgLyByb3dOdW0pIC0gdGJBdHRyLnRkQm9yZGVyICogMiAtIHRkcGFkZGluZyAqIDI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBhdmVyYWdlSGVpZ2h0Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBmdW5jdGlvbiBzZXRBdmVyYWdlSGVpZ2h0KGF2ZXJhZ2VIZWlnaHQpIHsNCiAgICAgICAgICAgICAgICB2YXIgY2VsbHMgPSB1dC5pc0Z1bGxDb2woKSA/IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHV0LnRhYmxlLCAidGQiKSA6IHV0LnNlbGVjdGVkVGRzOw0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goY2VsbHMsIGZ1bmN0aW9uIChub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnJvd1NwYW4gPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIGF2ZXJhZ2VIZWlnaHQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICh1dCAmJiB1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICBzZXRBdmVyYWdlSGVpZ2h0KGdldEF2ZXJhZ2VIZWlnaHQoKSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgLy/ljZXlhYPmoLzlr7npvZDmlrnlvI8NCiAgICBVRS5jb21tYW5kc1snY2VsbGFsaWdubWVudCddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlID8gMCA6IC0xDQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kLCBkYXRhKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpOw0KDQogICAgICAgICAgICBpZiAoIXV0KSB7DQogICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksDQogICAgICAgICAgICAgICAgICAgIGNlbGwgPSBzdGFydCAmJiBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LCBbInRkIiwgInRoIiwgImNhcHRpb24iXSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKCEvY2FwdGlvbi9pZy50ZXN0KGNlbGwudGFnTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhjZWxsLCBkYXRhKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLnRleHRBbGlnbiA9IGRhdGEuYWxpZ247DQogICAgICAgICAgICAgICAgICAgIGNlbGwuc3R5bGUudmVydGljYWxBbGlnbiA9IGRhdGEudkFsaWduOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZXRDdXJzb3IodHJ1ZSk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2godXQuc2VsZWN0ZWRUZHMsIGZ1bmN0aW9uIChjZWxsKSB7DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoY2VsbCwgZGF0YSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmn6Xor6LlvZPliY3ngrnlh7vnmoTljZXlhYPmoLznmoTlr7npvZDnirbmgIHvvIwg5aaC5p6c5b2T5YmN5bey57uP6YCJ5oup5LqG5aSa5Liq5Y2V5YWD5qC877yMIOWImeS8mui/lOWbnuaJgOacieWNleWFg+agvOe7j+i/h+e7n+S4gOWNj+iwg+i/h+WQjueahOeKtuaAgQ0KICAgICAgICAgKiBAc2VlIFVFLlVFVGFibGUuZ2V0VGFibGVDZWxsQWxpZ25TdGF0ZQ0KICAgICAgICAgKi8NCiAgICAgICAgcXVlcnlDb21tYW5kVmFsdWU6IGZ1bmN0aW9uIChjbWQpIHsNCg0KICAgICAgICAgICAgdmFyIGFjdGl2ZU1lbnVDZWxsID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UoIHRoaXMpLmNlbGw7DQoNCiAgICAgICAgICAgIGlmKCAhYWN0aXZlTWVudUNlbGwgKSB7DQogICAgICAgICAgICAgICAgYWN0aXZlTWVudUNlbGwgPSBnZXRTZWxlY3RlZEFycih0aGlzKVswXTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKCFhY3RpdmVNZW51Q2VsbCkgew0KDQogICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7DQoNCiAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAvL+iOt+WPluWQjOaXtumAieS4reeahOWFtuS7luWNleWFg+agvA0KICAgICAgICAgICAgICAgIHZhciBjZWxscyA9IFVFLlVFVGFibGUuZ2V0VUVUYWJsZShhY3RpdmVNZW51Q2VsbCkuc2VsZWN0ZWRUZHM7DQoNCiAgICAgICAgICAgICAgICAhY2VsbHMubGVuZ3RoICYmICggY2VsbHMgPSBhY3RpdmVNZW51Q2VsbCApOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIFVFLlVFVGFibGUuZ2V0VGFibGVDZWxsQWxpZ25TdGF0ZShjZWxscyk7DQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQogICAgfTsNCiAgICAvL+ihqOagvOWvuem9kOaWueW8jw0KICAgIFVFLmNvbW1hbmRzWyd0YWJsZWFsaWdubWVudCddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uIDwgOCkgew0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZSA/IDAgOiAtMQ0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCwgdmFsdWUpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgc3RhcnQgPSBtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwNCiAgICAgICAgICAgICAgICB0YWJsZSA9IHN0YXJ0ICYmIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsIFsidGFibGUiXSwgdHJ1ZSk7DQoNCiAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgiYWxpZ24iLHZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICAvL+ihqOagvOWxnuaApw0KICAgIFVFLmNvbW1hbmRzWydlZGl0dGFibGUnXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZSA/IDAgOiAtMQ0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCwgY29sb3IpIHsNCiAgICAgICAgICAgIHZhciBybmcgPSB0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgIHRhYmxlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsICd0YWJsZScpOw0KICAgICAgICAgICAgaWYgKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgdmFyIGFyciA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAidGQiKS5jb25jYXQoDQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAidGgiKSwNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsICJjYXB0aW9uIikNCiAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goYXJyLCBmdW5jdGlvbiAobm9kZSkgew0KICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIC8v5Y2V5YWD5qC85bGe5oCnDQogICAgVUUuY29tbWFuZHNbJ2VkaXR0ZCddID0gew0KICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlID8gMCA6IC0xDQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoY21kLCBia0NvbG9yKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpOw0KDQogICAgICAgICAgICBpZiAoIXV0KSB7DQogICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksDQogICAgICAgICAgICAgICAgICAgIGNlbGwgPSBzdGFydCAmJiBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LCBbInRkIiwgInRoIiwgImNhcHRpb24iXSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKGNlbGwpIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBia0NvbG9yOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaCh1dC5zZWxlY3RlZFRkcywgZnVuY3Rpb24gKGNlbGwpIHsNCiAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBia0NvbG9yOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCg0KICAgIFVFLmNvbW1hbmRzWyJzZXR0YWJsZWJhY2tncm91bmQiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiBnZXRTZWxlY3RlZEFycih0aGlzKS5sZW5ndGggPiAxID8gMCA6IC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCwgdmFsdWUpIHsNCiAgICAgICAgICAgIHZhciBjZWxscywgdXQ7DQogICAgICAgICAgICBjZWxscyA9IGdldFNlbGVjdGVkQXJyKHRoaXMpOw0KICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKGNlbGxzWzBdKTsNCiAgICAgICAgICAgIHV0LnNldEJhY2tncm91bmQoY2VsbHMsIHZhbHVlKTsNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICBVRS5jb21tYW5kc1siY2xlYXJ0YWJsZWJhY2tncm91bmQiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBjZWxscyA9IGdldFNlbGVjdGVkQXJyKHRoaXMpOw0KICAgICAgICAgICAgaWYgKCFjZWxscy5sZW5ndGgpcmV0dXJuIC0xOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNlbGw7IGNlbGwgPSBjZWxsc1tpKytdOykgew0KICAgICAgICAgICAgICAgIGlmIChjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciAhPT0gIiIpIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIC0xOw0KICAgICAgICB9LA0KICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGNlbGxzID0gZ2V0U2VsZWN0ZWRBcnIodGhpcyksDQogICAgICAgICAgICAgICAgdXQgPSBnZXRVRVRhYmxlKGNlbGxzWzBdKTsNCiAgICAgICAgICAgIHV0LnJlbW92ZUJhY2tncm91bmQoY2VsbHMpOw0KICAgICAgICB9DQogICAgfTsNCg0KICAgIFVFLmNvbW1hbmRzWyJpbnRlcmxhY2V0YWJsZSJdID0gVUUuY29tbWFuZHNbInVuaW50ZXJsYWNldGFibGUiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlOw0KICAgICAgICAgICAgaWYgKCF0YWJsZSkgcmV0dXJuIC0xOw0KICAgICAgICAgICAgdmFyIGludGVybGFjZWQgPSB0YWJsZS5nZXRBdHRyaWJ1dGUoImludGVybGFjZWQiKTsNCiAgICAgICAgICAgIGlmIChjbWQgPT0gImludGVybGFjZXRhYmxlIikgew0KICAgICAgICAgICAgICAgIC8vVE9ETyDlvoXlrpoNCiAgICAgICAgICAgICAgICAvL+aYr+WQpumcgOimgeW+heWumu+8jOWmguaenOiuvue9ru+8jOWImeWRveS7pOWPquiDveWNleasoeaJp+ihjOaIkOWKn++8jOS9huWPjeWwhOWFt+Wkh3RvZ2dsZeaViOaenO+8m+WQpuWImeWPr+S7peimhuebluWJjeasoeWRveS7pO+8jOS9huWPjeWwhOWwhuS4jeWtmOWcqHRvZ2dsZeaViOaenA0KICAgICAgICAgICAgICAgIHJldHVybiAoaW50ZXJsYWNlZCA9PT0gImVuYWJsZWQiKSA/IC0xIDogMDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICghaW50ZXJsYWNlZCB8fCBpbnRlcmxhY2VkID09PSAiZGlzYWJsZWQiKSA/IC0xIDogMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQsIGNsYXNzTGlzdCkgew0KICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7DQogICAgICAgICAgICBpZiAoY21kID09ICJpbnRlcmxhY2V0YWJsZSIpIHsNCiAgICAgICAgICAgICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoImludGVybGFjZWQiLCAiZW5hYmxlZCIpOw0KICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCJpbnRlcmxhY2V0YWJsZSIsIHRhYmxlLCBjbGFzc0xpc3QpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoImludGVybGFjZWQiLCAiZGlzYWJsZWQiKTsNCiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgidW5pbnRlcmxhY2V0YWJsZSIsIHRhYmxlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgVUUuY29tbWFuZHNbInNldGJvcmRlcnZpc2libGUiXSA9IHsNCiAgICAgICAgcXVlcnlDb21tYW5kU3RhdGU6IGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlOw0KICAgICAgICAgICAgaWYgKCF0YWJsZSkgcmV0dXJuIC0xOw0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0sDQogICAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdGFibGUgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsJ3RkJyksZnVuY3Rpb24odGQpew0KICAgICAgICAgICAgICAgIHRkLnN0eWxlLmJvcmRlcldpZHRoID0gJzFweCc7DQogICAgICAgICAgICAgICAgdGQuc3R5bGUuYm9yZGVyU3R5bGUgPSAnc29saWQnOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH07DQogICAgZnVuY3Rpb24gcmVzZXRUZFdpZHRoKHRhYmxlLCBlZGl0b3IpIHsNCiAgICAgICAgdmFyIHRkcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCd0ZCB0aCcpOw0KICAgICAgICB1dGlscy5lYWNoKHRkcywgZnVuY3Rpb24gKHRkKSB7DQogICAgICAgICAgICB0ZC5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7DQogICAgICAgIH0pOw0KICAgICAgICB0YWJsZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgZ2V0VGFibGVXaWR0aChlZGl0b3IsIHRydWUsIGdldERlZmF1bHRWYWx1ZShlZGl0b3IsIHRhYmxlKSkpOw0KICAgICAgICB2YXIgdGRzV2lkdGhzID0gW107DQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdXRpbHMuZWFjaCh0ZHMsIGZ1bmN0aW9uICh0ZCkgew0KICAgICAgICAgICAgICAgICh0ZC5jb2xTcGFuID09IDEpICYmIHRkc1dpZHRocy5wdXNoKHRkLm9mZnNldFdpZHRoKQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIHV0aWxzLmVhY2godGRzLCBmdW5jdGlvbiAodGQsaSkgew0KICAgICAgICAgICAgICAgICh0ZC5jb2xTcGFuID09IDEpICYmIHRkLnNldEF0dHJpYnV0ZSgid2lkdGgiLCB0ZHNXaWR0aHNbaV0gKyAiIik7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LCAwKTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBnZXRUYWJsZVdpZHRoKGVkaXRvciwgbmVlZElFSGFjaywgZGVmYXVsdFZhbHVlKSB7DQogICAgICAgIHZhciBib2R5ID0gZWRpdG9yLmJvZHk7DQogICAgICAgIHJldHVybiBib2R5Lm9mZnNldFdpZHRoIC0gKG5lZWRJRUhhY2sgPyBwYXJzZUludChkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGJvZHksICdtYXJnaW4tbGVmdCcpLCAxMCkgKiAyIDogMCkgLSBkZWZhdWx0VmFsdWUudGFibGVCb3JkZXIgKiAyIC0gKGVkaXRvci5vcHRpb25zLm9mZnNldFdpZHRoIHx8IDApOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFNlbGVjdGVkQXJyKGVkaXRvcikgew0KICAgICAgICB2YXIgY2VsbCA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKGVkaXRvcikuY2VsbDsNCiAgICAgICAgaWYgKGNlbGwpIHsNCiAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGUoY2VsbCk7DQogICAgICAgICAgICByZXR1cm4gdXQuc2VsZWN0ZWRUZHMubGVuZ3RoID8gdXQuc2VsZWN0ZWRUZHMgOiBbY2VsbF07DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICByZXR1cm4gW107DQogICAgICAgIH0NCiAgICB9DQp9KSgpOw0KLyoqDQogKiBDcmVhdGVkIHdpdGggSmV0QnJhaW5zIFBocFN0b3JtLg0KICogVXNlcjogdGFvcWlsaQ0KICogRGF0ZTogMTItMTAtMTINCiAqIFRpbWU6IOS4iuWNiDEwOjA1DQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NClVFLnBsdWdpbnNbJ3RhYmxlJ10gPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgdGFiVGltZXIgPSBudWxsLA0KICAgICAgICAvL+aLluWKqOiuoeaXtuWZqA0KICAgICAgICB0YWJsZURyYWdUaW1lciA9IG51bGwsDQogICAgICAgIC8v5Y+M5Ye76K6h5pe25ZmoDQogICAgICAgIHRhYmxlUmVzaXplVGltZXIgPSBudWxsLA0KICAgICAgICAvL+WNleWFg+agvOacgOWwj+WuveW6pg0KICAgICAgICBjZWxsTWluV2lkdGggPSA1LA0KICAgICAgICBpc0luUmVzaXplQnVmZmVyID0gZmFsc2UsDQogICAgICAgIC8v5Y2V5YWD5qC86L655qGG5aSn5bCPDQogICAgICAgIGNlbGxCb3JkZXJXaWR0aCA9IDUsDQogICAgICAgIC8v6byg5qCH5YGP56e76Led56a7DQogICAgICAgIG9mZnNldE9mVGFibGVDZWxsID0gMTAsDQogICAgICAgIC8v6K6w5b2V5Zyo5pyJ6ZmQ5pe26Ze05YaF55qE54K55Ye754q25oCB77yMIOWFseaciTPkuKrlj5blgLzvvIwgMCwgMSwgMuOAgiAw5Luj6KGo5pyq5Yid5aeL5YyW77yMIDHku6PooajljZXlh7vkuoYx5qyh77yMMuS7o+ihqDLmrKENCiAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9IDAsDQogICAgICAgIHVzZXJBY3Rpb25TdGF0dXMgPSBudWxsLA0KICAgICAgICAvL+WPjOWHu+WFgeiuuOeahOaXtumXtOiMg+WbtA0KICAgICAgICBkYmxjbGlja1RpbWUgPSAzNjAsDQogICAgICAgIFVUID0gVUUuVUVUYWJsZSwNCiAgICAgICAgZ2V0VUVUYWJsZSA9IGZ1bmN0aW9uICh0ZE9yVGFibGUpIHsNCiAgICAgICAgICAgIHJldHVybiBVVC5nZXRVRVRhYmxlKHRkT3JUYWJsZSk7DQogICAgICAgIH0sDQogICAgICAgIGdldFVFVGFibGVCeVNlbGVjdGVkID0gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICAgICAgcmV0dXJuIFVULmdldFVFVGFibGVCeVNlbGVjdGVkKGVkaXRvcik7DQogICAgICAgIH0sDQogICAgICAgIGdldERlZmF1bHRWYWx1ZSA9IGZ1bmN0aW9uIChlZGl0b3IsIHRhYmxlKSB7DQogICAgICAgICAgICByZXR1cm4gVVQuZ2V0RGVmYXVsdFZhbHVlKGVkaXRvciwgdGFibGUpOw0KICAgICAgICB9LA0KICAgICAgICByZW1vdmVTZWxlY3RlZENsYXNzID0gZnVuY3Rpb24gKGNlbGxzKSB7DQogICAgICAgICAgICByZXR1cm4gVVQucmVtb3ZlU2VsZWN0ZWRDbGFzcyhjZWxscyk7DQogICAgICAgIH07DQoNCiAgICBmdW5jdGlvbiBzaG93RXJyb3IoZSkgew0KLy8gICAgICAgIHRocm93IGU7DQogICAgfQ0KICAgIG1lLnJlYWR5KGZ1bmN0aW9uKCl7DQogICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgIHZhciBvcmdHZXRUZXh0ID0gbWUuc2VsZWN0aW9uLmdldFRleHQ7DQogICAgICAgIG1lLnNlbGVjdGlvbi5nZXRUZXh0ID0gZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTsNCiAgICAgICAgICAgIGlmKHRhYmxlKXsNCiAgICAgICAgICAgICAgICB2YXIgc3RyID0gJyc7DQogICAgICAgICAgICAgICAgdXRpbHMuZWFjaCh0YWJsZS5zZWxlY3RlZFRkcyxmdW5jdGlvbih0ZCl7DQogICAgICAgICAgICAgICAgICAgIHN0ciArPSB0ZFticm93c2VyLmllPydpbm5lclRleHQnOid0ZXh0Q29udGVudCddOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgcmV0dXJuIHN0cjsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHJldHVybiBvcmdHZXRUZXh0LmNhbGwobWUuc2VsZWN0aW9uKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICB9KQ0KDQogICAgLy/lpITnkIbmi5bliqjlj4rmoYbpgInnm7jlhbPmlrnms5UNCiAgICB2YXIgc3RhcnRUZCA9IG51bGwsIC8v6byg5qCH5oyJ5LiL5pe255qE6ZSa54K5dGQNCiAgICAgICAgY3VycmVudFRkID0gbnVsbCwgLy/lvZPliY3pvKDmoIfnu4/ov4fml7bnmoR0ZA0KICAgICAgICBvbkRyYWcgPSAiIiwgLy/mjIfnpLrlvZPliY3mi5bliqjnirbmgIHvvIzlhbblgLzlj6/kuLoiIiwiaCIsInYiICzliIbliKvooajnpLrmnKrmi5bliqjnirbmgIHvvIzmqKrlkJHmi5bliqjnirbmgIHvvIznurXlkJHmi5bliqjnirbmgIHvvIznlKjkuo7pvKDmoIfnp7vliqjov4fnqIvkuK3nmoTliKTmlq0NCiAgICAgICAgb25Cb3JkZXIgPSBmYWxzZSwgLy/mo4DmtYvpvKDmoIfmjInkuIvml7bmmK/lkKblpITlnKjljZXlhYPmoLzovrnnvJjkvY3nva4NCiAgICAgICAgZHJhZ0J1dHRvbiA9IG51bGwsDQogICAgICAgIGRyYWdPdmVyID0gZmFsc2UsDQogICAgICAgIGRyYWdMaW5lID0gbnVsbCwgLy/mqKHmi5/nmoTmi5bliqjnur8NCiAgICAgICAgZHJhZ1RkID0gbnVsbDsgICAgLy/lj5HnlJ/mi5bliqjnmoTnm67moId0ZA0KDQogICAgdmFyIG1vdXNlZG93biA9IGZhbHNlLA0KICAgIC8vdG9kbyDliKTmlq3mt7fkubHmqKHlvI8NCiAgICAgICAgbmVlZElFSGFjayA9IHRydWU7DQoNCiAgICBtZS5zZXRPcHQoew0KICAgICAgICAnbWF4Q29sTnVtJzoyMCwNCiAgICAgICAgJ21heFJvd051bSc6MTAwLA0KICAgICAgICAnZGVmYXVsdENvbHMnOjUsDQogICAgICAgICdkZWZhdWx0Um93cyc6NSwNCiAgICAgICAgJ3RkdmFsaWduJzondG9wJywNCiAgICAgICAgJ2N1cnNvcnBhdGgnOm1lLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCArICJ0aGVtZXMvZGVmYXVsdC9pbWFnZXMvY3Vyc29yXyIsDQogICAgICAgICd0YWJsZURyYWdhYmxlJzpmYWxzZSwNCiAgICAgICAgJ2NsYXNzTGlzdCc6WyJ1ZS10YWJsZS1pbnRlcmxhY2UtY29sb3Itc2luZ2xlIiwidWUtdGFibGUtaW50ZXJsYWNlLWNvbG9yLWRvdWJsZSJdDQogICAgfSk7DQogICAgbWUuZ2V0VUVUYWJsZSA9IGdldFVFVGFibGU7DQogICAgdmFyIGNvbW1hbmRzID0gew0KICAgICAgICAnZGVsZXRldGFibGUnOjEsDQogICAgICAgICdpbnNlcnR0YWJsZSc6MSwNCiAgICAgICAgJ2NlbGx2YWxpZ24nOjEsDQogICAgICAgICdpbnNlcnRjYXB0aW9uJzoxLA0KICAgICAgICAnZGVsZXRlY2FwdGlvbic6MSwNCiAgICAgICAgJ2luc2VydHRpdGxlJzoxLA0KICAgICAgICAnZGVsZXRldGl0bGUnOjEsDQogICAgICAgICJtZXJnZXJpZ2h0IjoxLA0KICAgICAgICAibWVyZ2Vkb3duIjoxLA0KICAgICAgICAibWVyZ2VjZWxscyI6MSwNCiAgICAgICAgImluc2VydHJvdyI6MSwNCiAgICAgICAgImluc2VydHJvd25leHQiOjEsDQogICAgICAgICJkZWxldGVyb3ciOjEsDQogICAgICAgICJpbnNlcnRjb2wiOjEsDQogICAgICAgICJpbnNlcnRjb2xuZXh0IjoxLA0KICAgICAgICAiZGVsZXRlY29sIjoxLA0KICAgICAgICAic3BsaXR0b2NlbGxzIjoxLA0KICAgICAgICAic3BsaXR0b3Jvd3MiOjEsDQogICAgICAgICJzcGxpdHRvY29scyI6MSwNCiAgICAgICAgImFkYXB0Ynl0ZXh0IjoxLA0KICAgICAgICAiYWRhcHRieXdpbmRvdyI6MSwNCiAgICAgICAgImFkYXB0YnljdXN0b21lciI6MSwNCiAgICAgICAgImluc2VydHBhcmFncmFwaCI6MSwNCiAgICAgICAgImluc2VydHBhcmFncmFwaGJlZm9yZXRhYmxlIjoxLA0KICAgICAgICAiYXZlcmFnZWRpc3RyaWJ1dGVjb2wiOjEsDQogICAgICAgICJhdmVyYWdlZGlzdHJpYnV0ZXJvdyI6MQ0KICAgIH07DQogICAgbWUucmVhZHkoZnVuY3Rpb24gKCkgew0KICAgICAgICB1dGlscy5jc3NSdWxlKCd0YWJsZScsDQogICAgICAgICAgICAvL+mAieS4reeahHRk5LiK55qE5qC35byPDQogICAgICAgICAgICAnLnNlbGVjdFRkQ2xhc3N7YmFja2dyb3VuZC1jb2xvcjojZWRmNWZhICFpbXBvcnRhbnR9JyArDQogICAgICAgICAgICAgICAgJ3RhYmxlLm5vQm9yZGVyVGFibGUgdGQsdGFibGUubm9Cb3JkZXJUYWJsZSB0aCx0YWJsZS5ub0JvcmRlclRhYmxlIGNhcHRpb257Ym9yZGVyOjFweCBkYXNoZWQgI2RkZCAhaW1wb3J0YW50fScgKw0KICAgICAgICAgICAgICAgIC8v5o+S5YWl55qE6KGo5qC855qE6buY6K6k5qC35byPDQogICAgICAgICAgICAgICAgJ3RhYmxle21hcmdpbi1ib3R0b206MTBweDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7ZGlzcGxheTp0YWJsZTt9JyArDQogICAgICAgICAgICAgICAgJ3RkLHRoe3BhZGRpbmc6IDVweCAxMHB4O2JvcmRlcjogMXB4IHNvbGlkICNEREQ7fScgKw0KICAgICAgICAgICAgICAgICdjYXB0aW9ue2JvcmRlcjoxcHggZGFzaGVkICNEREQ7Ym9yZGVyLWJvdHRvbTowO3BhZGRpbmc6M3B4O3RleHQtYWxpZ246Y2VudGVyO30nICsNCiAgICAgICAgICAgICAgICAndGh7Ym9yZGVyLXRvcDoxcHggc29saWQgI0JCQjtiYWNrZ3JvdW5kLWNvbG9yOiNGN0Y3Rjc7fScgKw0KICAgICAgICAgICAgICAgICd0YWJsZSB0ci5maXJzdFJvdyB0aHtib3JkZXItdG9wLXdpZHRoOjJweDt9JyArDQogICAgICAgICAgICAgICAgJy51ZS10YWJsZS1pbnRlcmxhY2UtY29sb3Itc2luZ2xleyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmNmY2ZjOyB9IC51ZS10YWJsZS1pbnRlcmxhY2UtY29sb3ItZG91YmxleyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmYWZmOyB9JyArDQogICAgICAgICAgICAgICAgJ3RkIHB7bWFyZ2luOjA7cGFkZGluZzowO30nLCBtZS5kb2N1bWVudCk7DQoNCiAgICAgICAgdmFyIHRhYmxlQ29weUxpc3QsIGlzRnVsbENvbCwgaXNGdWxsUm93Ow0KICAgICAgICAvL+azqOWGjGRlbC9iYWNrc3BhY2Xkuovku7YNCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2tleWRvd24nLCBmdW5jdGlvbiAoY21kLCBldnQpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlIHx8IGV2dC53aGljaDsNCg0KICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gOCkgew0KDQogICAgICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpOw0KICAgICAgICAgICAgICAgIGlmICh1dCAmJiB1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAodXQuaXNGdWxsQ29sKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdkZWxldGVjb2wnKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHV0LmlzRnVsbFJvdygpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnZGVsZXRlcm93JykNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnZGVsY2VsbHMnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHZhciBjYXB0aW9uID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgJ2NhcHRpb24nLCB0cnVlKSwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkICYmIGNhcHRpb24gJiYgaXNFbXB0eUJsb2NrKGNhcHRpb24pKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9IGNhcHRpb24ucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGNhcHRpb24pOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGtleUNvZGUgPT0gNDYpIHsNCg0KICAgICAgICAgICAgICAgIHV0ID0gZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpOw0KICAgICAgICAgICAgICAgIGlmICh1dCkgew0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdXQuc2VsZWN0ZWRUZHNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCBjaSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpOw0KDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoa2V5Q29kZSA9PSAxMykgew0KDQogICAgICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgICAgICBjYXB0aW9uID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsICdjYXB0aW9uJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKGNhcHRpb24pIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjYXB0aW9uLCAndGFibGUnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCFybmcuY29sbGFwc2VkKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJuZy5kZWxldGVDb250ZW50cygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYXB0aW9uKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0KHRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAocm5nLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwgJ3RhYmxlJyk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0YWJsZS5yb3dzWzBdLmNlbGxzWzBdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgWyd0ZCcsICd0aCddLCB0cnVlKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVOb2RlID0gdGFibGUucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwgPT09IHN0YXJ0ICYmICghcHJlTm9kZSB8fCBwcmVOb2RlLm5vZGVUeXBlID09IDEgJiYgcHJlTm9kZS50YWdOYW1lID09ICdUQUJMRScgKSAmJiBkb21VdGlscy5pc1N0YXJ0SW5ibG9jayhybmcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0ID0gZG9tVXRpbHMuZmluZFBhcmVudChtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgZnVuY3Rpb24obil7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obil9LCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihmaXJzdCAmJiAoIC90KGh8ZCkvaS50ZXN0KGZpcnN0LnRhZ05hbWUpIHx8IGZpcnN0ID09PSAgc3RhcnQuZmlyc3RDaGlsZCApKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2luc2VydHBhcmFncmFwaGJlZm9yZXRhYmxlJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmICgoZXZ0LmN0cmxLZXkgfHwgZXZ0Lm1ldGFLZXkpICYmIGV2dC5rZXlDb2RlID09ICc2NycpIHsNCiAgICAgICAgICAgICAgICB0YWJsZUNvcHlMaXN0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7DQogICAgICAgICAgICAgICAgaWYgKHV0KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0ZHMgPSB1dC5zZWxlY3RlZFRkczsNCiAgICAgICAgICAgICAgICAgICAgaXNGdWxsQ29sID0gdXQuaXNGdWxsQ29sKCk7DQogICAgICAgICAgICAgICAgICAgIGlzRnVsbFJvdyA9IHV0LmlzRnVsbFJvdygpOw0KICAgICAgICAgICAgICAgICAgICB0YWJsZUNvcHlMaXN0ID0gWw0KICAgICAgICAgICAgICAgICAgICAgICAgW3V0LmNsb25lQ2VsbCh0ZHNbMF0sbnVsbCx0cnVlKV0NCiAgICAgICAgICAgICAgICAgICAgXTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGNpOyBjaSA9IHRkc1tpXTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2kucGFyZW50Tm9kZSAhPT0gdGRzW2kgLSAxXS5wYXJlbnROb2RlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVDb3B5TGlzdC5wdXNoKFt1dC5jbG9uZUNlbGwoY2ksbnVsbCx0cnVlKV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUNvcHlMaXN0W3RhYmxlQ29weUxpc3QubGVuZ3RoIC0gMV0ucHVzaCh1dC5jbG9uZUNlbGwoY2ksbnVsbCx0cnVlKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJ0YWJsZWhhc2RlbGV0ZWQiLGZ1bmN0aW9uKCl7DQogICAgICAgICAgICB0b2dnbGVEcmFnZ2FibGVTdGF0ZSh0aGlzLCBmYWxzZSwgIiIsIG51bGwpOw0KICAgICAgICAgICAgaWYgKGRyYWdCdXR0b24pZG9tVXRpbHMucmVtb3ZlKGRyYWdCdXR0b24pOw0KICAgICAgICB9KTsNCg0KICAgICAgICBtZS5hZGRMaXN0ZW5lcignYmVmb3JlcGFzdGUnLCBmdW5jdGlvbiAoY21kLCBodG1sKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCAnY2FwdGlvbicsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgdmFyIGRpdiA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sLmh0bWw7DQogICAgICAgICAgICAgICAgLy90cmFjZTozNzI5DQogICAgICAgICAgICAgICAgaHRtbC5odG1sID0gZGl2W2Jyb3dzZXIuaWU5YmVsb3cgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCddOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB0YWJsZSA9IGdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTsNCiAgICAgICAgICAgIGlmICh0YWJsZUNvcHlMaXN0KSB7DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICB2YXIgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICAgICAgdmFyIHRkID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsIFsndGQnLCAndGgnXSwgdHJ1ZSksIHRtcE5vZGUsIHByZU5vZGU7DQogICAgICAgICAgICAgICAgaWYgKHRkKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGUodGQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaXNGdWxsUm93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93SW5kZXggPSB1dC5nZXRDZWxsSW5mbyh0ZCkucm93SW5kZXg7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGQudGFnTmFtZSA9PSAnVEgnKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93SW5kZXgrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0YWJsZUNvcHlMaXN0W2krK107KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdXQuaW5zZXJ0Um93KHJvd0luZGV4KyssICJ0ZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBjajsgY2ogPSBjaVtqXTsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gdHIuY2VsbHNbal07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2VsbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbCA9IHRyLmluc2VydENlbGwoaikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLmlubmVySFRNTCA9IGNqLmlubmVySFRNTDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouZ2V0QXR0cmlidXRlKCd3aWR0aCcpICYmIGNlbGwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIGNqLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNqLmdldEF0dHJpYnV0ZSgndkFsaWduJykgJiYgY2VsbC5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNqLmdldEF0dHJpYnV0ZSgndkFsaWduJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjai5nZXRBdHRyaWJ1dGUoJ2FsaWduJykgJiYgY2VsbC5zZXRBdHRyaWJ1dGUoJ2FsaWduJywgY2ouZ2V0QXR0cmlidXRlKCdhbGlnbicpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouc3R5bGUuY3NzVGV4dCAmJiAoY2VsbC5zdHlsZS5jc3NUZXh0ID0gY2ouc3R5bGUuY3NzVGV4dCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGNqOyBjaiA9IHRyLmNlbGxzW2pdOyBqKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaVtqXSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjai5pbm5lckhUTUwgPSBjaVtqXS5pbm5lckhUTUw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpW2pdLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSAmJiBjai5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgY2lbal0uZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2lbal0uZ2V0QXR0cmlidXRlKCd2QWxpZ24nKSAmJiBjai5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNpW2pdLmdldEF0dHJpYnV0ZSgndkFsaWduJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaVtqXS5nZXRBdHRyaWJ1dGUoJ2FsaWduJykgJiYgY2ouc2V0QXR0cmlidXRlKCdhbGlnbicsIGNpW2pdLmdldEF0dHJpYnV0ZSgnYWxpZ24nKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNpW2pdLnN0eWxlLmNzc1RleHQgJiYgKGNqLnN0eWxlLmNzc1RleHQgPSBjaVtqXS5zdHlsZS5jc3NUZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Z1bGxDb2wpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IHV0LmdldENlbGxJbmZvKHRkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4Q29sTnVtID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgY2kgPSB0YWJsZUNvcHlMaXN0WzBdLCBjajsgY2ogPSBjaVtqKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xOdW0gKz0gY2ouY29sU3BhbiB8fCAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtYXhDb2xOdW07IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCgnaW5zZXJ0Y29sJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkID0gdXQudGFibGUucm93c1swXS5jZWxsc1tjZWxsSW5mby5jZWxsSW5kZXhdOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZC50YWdOYW1lID09ICdUSCcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQgPSB1dC50YWJsZS5yb3dzWzFdLmNlbGxzW2NlbGxJbmZvLmNlbGxJbmRleF07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHRhYmxlQ29weUxpc3RbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXBOb2RlID0gdGQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIGNqOyBjaiA9IGNpW2orK107KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gY2ouaW5uZXJIVE1MOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b2RvIOWumuWItuWkhOeQhg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouZ2V0QXR0cmlidXRlKCd3aWR0aCcpICYmIHRkLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBjai5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouZ2V0QXR0cmlidXRlKCd2QWxpZ24nKSAmJiB0ZC5zZXRBdHRyaWJ1dGUoJ3ZBbGlnbicsIGNqLmdldEF0dHJpYnV0ZSgndkFsaWduJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouZ2V0QXR0cmlidXRlKCdhbGlnbicpICYmIHRkLnNldEF0dHJpYnV0ZSgnYWxpZ24nLCBjai5nZXRBdHRyaWJ1dGUoJ2FsaWduJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2ouc3R5bGUuY3NzVGV4dCAmJiAodGQuc3R5bGUuY3NzVGV4dCA9IGNqLnN0eWxlLmNzc1RleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlTm9kZSA9IHRkOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQgPSB0ZC5uZXh0U2libGluZzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9uZVRkID0gY2ouY2xvbmVOb2RlKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhjbG9uZVRkLCBbJ2NsYXNzJywgJ3Jvd1NwYW4nLCAnY29sU3BhbiddKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlTm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsb25lVGQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGQgPSB1dC5nZXROZXh0Q2VsbCh0bXBOb2RlLCB0cnVlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRhYmxlQ29weUxpc3RbaV0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxJbmZvID0gdXQuZ2V0Q2VsbEluZm8odG1wTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0LnRhYmxlLmluc2VydFJvdyh1dC50YWJsZS5yb3dzLmxlbmd0aCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0LnVwZGF0ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZCA9IHV0LmdldFZTaWRlQ2VsbCh0bXBOb2RlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdXQudXBkYXRlKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGFibGUgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGFibGVDb3B5TGlzdFtpKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyID0gdGFibGUuaW5zZXJ0Um93KHRhYmxlLnJvd3MubGVuZ3RoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBjajsgY2ogPSBjaVtqKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lVGQgPSBVVC5jbG9uZUNlbGwoY2osbnVsbCx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGNsb25lVGQsIFsnY2xhc3MnXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHIuYXBwZW5kQ2hpbGQoY2xvbmVUZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDIgJiYgY2xvbmVUZC5yb3dTcGFuID4gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lVGQucm93U3BhbiA9IDE7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gZ2V0RGVmYXVsdFZhbHVlKG1lKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gbWUuYm9keS5vZmZzZXRXaWR0aCAtDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKG5lZWRJRUhhY2sgPyBwYXJzZUludChkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKG1lLmJvZHksICdtYXJnaW4tbGVmdCcpLCAxMCkgKiAyIDogMCkgLSBkZWZhdWx0VmFsdWUudGFibGVCb3JkZXIgKiAyIC0gKG1lLm9wdGlvbnMub2Zmc2V0V2lkdGggfHwgMCk7DQogICAgICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdpbnNlcnRIVE1MJywgJzx0YWJsZSAgJyArDQogICAgICAgICAgICAgICAgICAgICAgICAoIGlzRnVsbENvbCAmJiBpc0Z1bGxSb3cgPyAnd2lkdGg9IicgKyB3aWR0aCArICciJyA6ICcnKSArDQogICAgICAgICAgICAgICAgICAgICAgICAnPicgKyB0YWJsZS5pbm5lckhUTUwucmVwbGFjZSgvPlxzKjwvZywgJz48JykucmVwbGFjZSgvXGJ0aFxiL2dpLCAidGQiKSArICc8L3RhYmxlPicpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY29udGVudGNoYW5nZScpOw0KICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgaHRtbC5odG1sID0gJyc7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBkaXYgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwgdGFibGVzOw0KICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sLmh0bWw7DQogICAgICAgICAgICAgICAgdGFibGVzID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpOw0KICAgICAgICAgICAgICAgIGlmIChkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKG1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLCAndGFibGUnKSkgew0KICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKHRhYmxlcywgZnVuY3Rpb24gKHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0KQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUobWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksICdjYXB0aW9uJywgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBkaXZbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50J107DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKHRhYmxlcywgZnVuY3Rpb24gKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVTdHlsZVNpemUodGFibGUsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyh0YWJsZSwgWydzdHlsZScsICdib3JkZXInXSk7DQogICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAidGQiKSwgZnVuY3Rpb24gKHRkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRW1wdHlCbG9jayh0ZCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQsIHRkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlU3R5bGVTaXplKHRkLCB0cnVlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXModGQsIFsnc3R5bGUnXSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaHRtbC5odG1sID0gZGl2LmlubmVySFRNTDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2FmdGVycGFzdGUnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksICJ0YWJsZSIpLCBmdW5jdGlvbiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICBpZiAodGFibGUub2Zmc2V0V2lkdGggPiBtZS5ib2R5Lm9mZnNldFdpZHRoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWUgPSBnZXREZWZhdWx0VmFsdWUobWUsIHRhYmxlKTsNCiAgICAgICAgICAgICAgICAgICAgdGFibGUuc3R5bGUud2lkdGggPSBtZS5ib2R5Lm9mZnNldFdpZHRoIC0gKG5lZWRJRUhhY2sgPyBwYXJzZUludChkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKG1lLmJvZHksICdtYXJnaW4tbGVmdCcpLCAxMCkgKiAyIDogMCkgLSBkZWZhdWx0VmFsdWUudGFibGVCb3JkZXIgKiAyIC0gKG1lLm9wdGlvbnMub2Zmc2V0V2lkdGggfHwgMCkgKyAncHgnDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCdibHVyJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGFibGVDb3B5TGlzdCA9IG51bGw7DQogICAgICAgIH0pOw0KICAgICAgICB2YXIgdGltZXI7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsNCiAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgICAgICBjZWxsID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsIFsndGgnLCAndGQnXSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgaWYgKGNlbGwpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gY2VsbC5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmxlLm9mZnNldFdpZHRoID4gdGFibGUuZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnN0eWxlLndvcmRCcmVhayA9ICJicmVhay1hbGwiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9LCAxMDApOw0KICAgICAgICB9KTsNCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRvZ2dsZURyYWdnYWJsZVN0YXRlKG1lLCBmYWxzZSwgIiIsIG51bGwpOw0KICAgICAgICB9KTsNCg0KDQogICAgICAgIC8v5YaF5a655Y+Y5YyW5pe26Kem5Y+R57Si5byV5pu05pawDQogICAgICAgIC8vdG9kbyDlj6/lkKbogIPomZHmoIforrDmo4DmtYvvvIzlpoLmnpzkuI3mtonlj4rooajmoLznmoTlj5jljJblsLHkuI3ov5vooYzntKLlvJXph43lu7rlkozmm7TmlrANCiAgICAgICAgbWUuYWRkTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgLy/lsL3lj6/og73mjpLpmaTkuIDkupvkuI3pnIDopoHmm7TmlrDnmoTnirblhrUNCiAgICAgICAgICAgIGhpZGVEcmFnTGluZShtZSk7DQogICAgICAgICAgICBpZiAoZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpKXJldHVybjsNCiAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgIHZhciBzdGFydCA9IHJuZy5zdGFydENvbnRhaW5lcjsNCiAgICAgICAgICAgIHN0YXJ0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCwgWyd0ZCcsICd0aCddLCB0cnVlKTsNCiAgICAgICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuZG9jdW1lbnQsICd0YWJsZScpLCBmdW5jdGlvbiAodGFibGUpIHsNCiAgICAgICAgICAgICAgICBpZiAobWUuZmlyZUV2ZW50KCJleGNsdWRldGFibGUiLCB0YWJsZSkgPT09IHRydWUpIHJldHVybjsNCiAgICAgICAgICAgICAgICB0YWJsZS51ZVRhYmxlID0gbmV3IFVUKHRhYmxlKTsNCiAgICAgICAgICAgICAgICAvL3RyYWNlOjM3NDINCi8vICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuZG9jdW1lbnQsICd0ZCcpLCBmdW5jdGlvbiAodGQpIHsNCi8vDQovLyAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlCbG9jayh0ZCkgJiYgdGQgIT09IHN0YXJ0KSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCB0ZCk7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA9PSA2KSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZC5pbm5lckhUTUwgPSAnJm5ic3A7Jw0KLy8gICAgICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgfSk7DQovLyAgICAgICAgICAgICAgICB1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmRvY3VtZW50LCAndGgnKSwgZnVuY3Rpb24gKHRoKSB7DQovLyAgICAgICAgICAgICAgICAgICAgaWYgKGRvbVV0aWxzLmlzRW1wdHlCbG9jayh0aCkgJiYgdGggIT09IHN0YXJ0KSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCB0aCk7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmllICYmIGJyb3dzZXIudmVyc2lvbiA9PSA2KSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aC5pbm5lckhUTUwgPSAnJm5ic3A7Jw0KLy8gICAgICAgICAgICAgICAgICAgICAgICB9DQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGFibGUub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgndGFibGVtb3VzZW92ZXInLCB0YWJsZSk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB0YWJsZS5vbm1vdXNlbW92ZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCd0YWJsZW1vdXNlbW92ZScsIHRhYmxlKTsNCiAgICAgICAgICAgICAgICAgICAgbWUub3B0aW9ucy50YWJsZURyYWdhYmxlICYmIHRvZ2dsZURyYWdCdXR0b24odHJ1ZSwgdGhpcywgbWUpOw0KICAgICAgICAgICAgICAgICAgICB1dGlscy5kZWZlcihmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdjb250ZW50Y2hhbmdlJyw1MCkNCiAgICAgICAgICAgICAgICAgICAgfSx0cnVlKQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgdGFibGUub25tb3VzZW91dCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCd0YWJsZW1vdXNlb3V0JywgdGFibGUpOw0KICAgICAgICAgICAgICAgICAgICB0b2dnbGVEcmFnZ2FibGVTdGF0ZShtZSwgZmFsc2UsICIiLCBudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgaGlkZURyYWdMaW5lKG1lKTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIHRhYmxlLm9uY2xpY2sgPSBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICAgICAgICAgIGV2dCA9IG1lLndpbmRvdy5ldmVudCB8fCBldnQ7DQogICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBnZXRQYXJlbnRUZE9yVGgoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCk7DQogICAgICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0KXJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZSh0YXJnZXQpLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGFibGUgPSB1dC50YWJsZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxJbmZvID0gdXQuZ2V0Q2VsbEluZm8odGFyZ2V0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzUmFuZ2UsDQogICAgICAgICAgICAgICAgICAgICAgICBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCi8vICAgICAgICAgICAgICAgICAgICBpZiAoInRvcExlZnQiID09IGluUG9zaXRpb24odGFibGUsIG1vdXNlQ29vcmRzKGV2dCkpKSB7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzUmFuZ2UgPSB1dC5nZXRDZWxsc1JhbmdlKHV0LnRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sIHV0LmdldExhc3RDZWxsKCkpOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICB1dC5zZXRTZWxlY3RlZChjZWxsc1JhbmdlKTsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgICAgICBpZiAoImJvdHRvbVJpZ2h0IiA9PSBpblBvc2l0aW9uKHRhYmxlLCBtb3VzZUNvb3JkcyhldnQpKSkgew0KLy8NCi8vICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KLy8gICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGluVGFibGVTaWRlKHRhYmxlLCB0YXJnZXQsIGV2dCwgdHJ1ZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmRUZENvbCA9IHV0LmdldENlbGwodXQuaW5kZXhUYWJsZVt1dC5yb3dzTnVtIC0gMV1bY2VsbEluZm8uY29sSW5kZXhdLnJvd0luZGV4LCB1dC5pbmRleFRhYmxlW3V0LnJvd3NOdW0gLSAxXVtjZWxsSW5mby5jb2xJbmRleF0uY2VsbEluZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldnQuc2hpZnRLZXkgJiYgdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHV0LnNlbGVjdGVkVGRzWzBdICE9PSBlbmRUZENvbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsc1JhbmdlID0gdXQuZ2V0Q2VsbHNSYW5nZSh1dC5zZWxlY3RlZFRkc1swXSwgZW5kVGRDb2wpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dC5zZXRTZWxlY3RlZChjZWxsc1JhbmdlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcgJiYgcm5nLnNlbGVjdE5vZGVDb250ZW50cyhlbmRUZENvbCkuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSBlbmRUZENvbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsc1JhbmdlID0gdXQuZ2V0Q2VsbHNSYW5nZSh0YXJnZXQsIGVuZFRkQ29sKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXQuc2V0U2VsZWN0ZWQoY2VsbHNSYW5nZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nICYmIHJuZy5zZWxlY3ROb2RlQ29udGVudHMoZW5kVGRDb2wpLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAoaW5UYWJsZVNpZGUodGFibGUsIHRhcmdldCwgZXZ0KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRkUm93ID0gdXQuZ2V0Q2VsbCh1dC5pbmRleFRhYmxlW2NlbGxJbmZvLnJvd0luZGV4XVt1dC5jb2xzTnVtIC0gMV0ucm93SW5kZXgsIHV0LmluZGV4VGFibGVbY2VsbEluZm8ucm93SW5kZXhdW3V0LmNvbHNOdW0gLSAxXS5jZWxsSW5kZXgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2dC5zaGlmdEtleSAmJiB1dC5zZWxlY3RlZFRkcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXQuc2VsZWN0ZWRUZHNbMF0gIT09IGVuZFRkUm93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzUmFuZ2UgPSB1dC5nZXRDZWxsc1JhbmdlKHV0LnNlbGVjdGVkVGRzWzBdLCBlbmRUZFJvdyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0LnNldFNlbGVjdGVkKGNlbGxzUmFuZ2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJuZyAmJiBybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKGVuZFRkUm93KS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQgIT09IGVuZFRkUm93KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxzUmFuZ2UgPSB1dC5nZXRDZWxsc1JhbmdlKHRhcmdldCwgZW5kVGRSb3cpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dC5zZXRTZWxlY3RlZChjZWxsc1JhbmdlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcgJiYgcm5nLnNlbGVjdE5vZGVDb250ZW50cyhlbmRUZFJvdykuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBzd2l0Y2hCb3JkZXJDb2xvcihtZSwgdHJ1ZSk7DQogICAgICAgIH0pOw0KDQogICAgICAgIGRvbVV0aWxzLm9uKG1lLmRvY3VtZW50LCAibW91c2Vtb3ZlIiwgbW91c2VNb3ZlRXZlbnQpOw0KDQogICAgICAgIGRvbVV0aWxzLm9uKG1lLmRvY3VtZW50LCAibW91c2VvdXQiLCBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgIGlmICh0YXJnZXQudGFnTmFtZSA9PSAiVEFCTEUiKSB7DQogICAgICAgICAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlU3RhdGUobWUsIGZhbHNlLCAiIiwgbnVsbCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICAvKioNCiAgICAgICAgICog6KGo5qC86ZqU6KGM5Y+Y6ImyDQogICAgICAgICAqLw0KICAgICAgICBtZS5hZGRMaXN0ZW5lcigiaW50ZXJsYWNldGFibGUiLGZ1bmN0aW9uKHR5cGUsdGFibGUsY2xhc3NMaXN0KXsNCiAgICAgICAgICAgIGlmKCF0YWJsZSkgcmV0dXJuOw0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICByb3dzID0gdGFibGUucm93cywNCiAgICAgICAgICAgICAgICBsZW4gPSByb3dzLmxlbmd0aCwNCiAgICAgICAgICAgICAgICBnZXRDbGFzcyA9IGZ1bmN0aW9uKGxpc3QsaW5kZXgscmVwZWF0KXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RbaW5kZXhdID8gbGlzdFtpbmRleF0gOiByZXBlYXQgPyBsaXN0W2luZGV4ICUgbGlzdC5sZW5ndGhdOiAiIjsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgZm9yKHZhciBpID0gMDtpPGxlbjtpKyspew0KICAgICAgICAgICAgICAgIHJvd3NbaV0uY2xhc3NOYW1lID0gZ2V0Q2xhc3MoIGNsYXNzTGlzdHx8IG1lLm9wdGlvbnMuY2xhc3NMaXN0LGksdHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBtZS5hZGRMaXN0ZW5lcigidW5pbnRlcmxhY2V0YWJsZSIsZnVuY3Rpb24odHlwZSx0YWJsZSl7DQogICAgICAgICAgICBpZighdGFibGUpIHJldHVybjsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgcm93cyA9IHRhYmxlLnJvd3MsDQogICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gbWUub3B0aW9ucy5jbGFzc0xpc3QsDQogICAgICAgICAgICAgICAgbGVuID0gcm93cy5sZW5ndGg7DQogICAgICAgICAgICBmb3IodmFyIGkgPSAwO2k8bGVuO2krKyl7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQ2xhc3Nlcyggcm93c1tpXSwgY2xhc3NMaXN0ICk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJtb3VzZWRvd24iLCBtb3VzZURvd25FdmVudCk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJtb3VzZXVwIiwgbW91c2VVcEV2ZW50KTsNCiAgICAgICAgLy/mi5bliqjnmoTml7blgJnkuI3lh7rlj5Ftb3VzZXVwDQogICAgICAgIGRvbVV0aWxzLm9uKCBtZS5ib2R5LCAnZHJhZ3N0YXJ0JywgZnVuY3Rpb24oIGV2dCApew0KICAgICAgICAgICAgbW91c2VVcEV2ZW50LmNhbGwoIG1lLCAnZHJhZ3N0YXJ0JywgZXZ0ICk7DQogICAgICAgIH0pOw0KDQogICAgICAgIHZhciBjdXJyZW50Um93SW5kZXggPSAwOw0KICAgICAgICBtZS5hZGRMaXN0ZW5lcigibW91c2Vkb3duIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY3VycmVudFJvd0luZGV4ID0gMDsNCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCd0YWJrZXlkb3duJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwNCiAgICAgICAgICAgICAgICBjb21tb24gPSByYW5nZS5nZXRDb21tb25BbmNlc3Rvcih0cnVlLCB0cnVlKSwNCiAgICAgICAgICAgICAgICB0YWJsZSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoY29tbW9uLCAndGFibGUnKTsNCiAgICAgICAgICAgIGlmICh0YWJsZSkgew0KICAgICAgICAgICAgICAgIGlmIChkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGNvbW1vbiwgJ2NhcHRpb24nLCB0cnVlKSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbCA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAndGggdGQnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwgJiYgY2VsbC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGNlbGxbMF0sIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBjZWxsID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjb21tb24sIFsndGQnLCAndGgnXSwgdHJ1ZSksDQogICAgICAgICAgICAgICAgICAgICAgICB1YSA9IGdldFVFVGFibGUoY2VsbCk7DQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRSb3dJbmRleCA9IGNlbGwucm93U3BhbiA+IDEgPyBjdXJyZW50Um93SW5kZXggOiB1YS5nZXRDZWxsSW5mbyhjZWxsKS5yb3dJbmRleDsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDZWxsID0gdWEuZ2V0VGFiTmV4dENlbGwoY2VsbCwgY3VycmVudFJvd0luZGV4KTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRDZWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNFbXB0eUJsb2NrKG5leHRDZWxsKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5leHRDZWxsLCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhuZXh0Q2VsbCkuc2VsZWN0KCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgnaW5zZXJ0cm93bmV4dCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0YWJsZS5yb3dzW3RhYmxlLnJvd3MubGVuZ3RoIC0gMV0uY2VsbHNbMF0sIDApLnNldEN1cnNvcigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9KTsNCiAgICAgICAgYnJvd3Nlci5pZSAmJiBtZS5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlU3RhdGUodGhpcywgZmFsc2UsICIiLCBudWxsKTsNCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJrZXlkb3duIiwgZnVuY3Rpb24gKHR5cGUsIGV2dCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIC8v5aSE55CG5Zyo6KGo5qC855qE5pyA5ZCO5LiA5Liq6L6T5YWldGFi5Lqn55Sf5paw55qE6KGo5qC8DQogICAgICAgICAgICB2YXIga2V5Q29kZSA9IGV2dC5rZXlDb2RlIHx8IGV2dC53aGljaDsNCiAgICAgICAgICAgIGlmIChrZXlDb2RlID09IDggfHwga2V5Q29kZSA9PSA0Nikgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBub3RDdHJsS2V5ID0gIWV2dC5jdHJsS2V5ICYmICFldnQubWV0YUtleSAmJiAhZXZ0LnNoaWZ0S2V5ICYmICFldnQuYWx0S2V5Ow0KICAgICAgICAgICAgbm90Q3RybEtleSAmJiByZW1vdmVTZWxlY3RlZENsYXNzKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksICJ0ZCIpKTsNCiAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTsNCiAgICAgICAgICAgIGlmICghdXQpIHJldHVybjsNCiAgICAgICAgICAgIG5vdEN0cmxLZXkgJiYgdXQuY2xlYXJTZWxlY3RlZCgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICBtZS5hZGRMaXN0ZW5lcigiYmVmb3JlZ2V0Y29udGVudCIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHN3aXRjaEJvcmRlckNvbG9yKHRoaXMsIGZhbHNlKTsNCiAgICAgICAgICAgIGJyb3dzZXIuaWUgJiYgdXRpbHMuZWFjaCh0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjYXB0aW9uJyksIGZ1bmN0aW9uIChjaSkgew0KICAgICAgICAgICAgICAgIGlmIChkb21VdGlscy5pc0VtcHR5Tm9kZShjaSkpIHsNCiAgICAgICAgICAgICAgICAgICAgY2kuaW5uZXJIVE1MID0gJyZuYnNwOycNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJhZnRlcmdldGNvbnRlbnQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBzd2l0Y2hCb3JkZXJDb2xvcih0aGlzLCB0cnVlKTsNCiAgICAgICAgfSk7DQogICAgICAgIG1lLmFkZExpc3RlbmVyKCJnZXRBbGxIdG1sIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcyhtZS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSk7DQogICAgICAgIH0pOw0KICAgICAgICAvL+S/ruato+WFqOWxj+eKtuaAgeS4i+aPkuWFpeeahOihqOagvOWuveW6puWcqOmdnuWFqOWxj+eKtuaAgeS4i+aSkeW8gOe8lui+keWZqOeahOaDheWGtQ0KICAgICAgICBtZS5hZGRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZWQiLCBmdW5jdGlvbiAodHlwZSwgZnVsbHNjcmVlbikgew0KICAgICAgICAgICAgaWYgKCFmdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgdmFyIHJhdGlvID0gdGhpcy5ib2R5Lm9mZnNldFdpZHRoIC8gZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgdGFibGVzID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy5ib2R5LCAidGFibGUiKTsNCiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKHRhYmxlcywgZnVuY3Rpb24gKHRhYmxlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICh0YWJsZS5vZmZzZXRXaWR0aCA8IG1lLmJvZHkub2Zmc2V0V2lkdGgpIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRkcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAidGQiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tXaWR0aHMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaCh0ZHMsIGZ1bmN0aW9uICh0ZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYmFja1dpZHRocy5wdXNoKHRkLm9mZnNldFdpZHRoKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCB0ZDsgdGQgPSB0ZHNbaV07IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIE1hdGguZmxvb3IoYmFja1dpZHRoc1tpXSAqIHJhdGlvKSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGFibGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIE1hdGguZmxvb3IoZ2V0VGFibGVXaWR0aChtZSwgbmVlZElFSGFjaywgZ2V0RGVmYXVsdFZhbHVlKG1lKSkpKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvL+mHjeWGmWV4ZWNDb21tYW5k5ZG95Luk77yM55So5LqO5aSE55CG5qGG6YCJ5pe255qE5aSE55CGDQogICAgICAgIHZhciBvbGRFeGVjQ29tbWFuZCA9IG1lLmV4ZWNDb21tYW5kOw0KICAgICAgICBtZS5leGVjQ29tbWFuZCA9IGZ1bmN0aW9uIChjbWQsIGRhdGF0YXQpIHsNCg0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzOw0KDQogICAgICAgICAgICBjbWQgPSBjbWQudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGVCeVNlbGVjdGVkKG1lKSwgdGRzLA0KICAgICAgICAgICAgICAgIHJhbmdlID0gbmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCksDQogICAgICAgICAgICAgICAgY21kRnVuID0gbWUuY29tbWFuZHNbY21kXSB8fCBVRS5jb21tYW5kc1tjbWRdLA0KICAgICAgICAgICAgICAgIHJlc3VsdDsNCiAgICAgICAgICAgIGlmICghY21kRnVuKSByZXR1cm47DQogICAgICAgICAgICBpZiAodXQgJiYgIWNvbW1hbmRzW2NtZF0gJiYgIWNtZEZ1bi5ub3ROZWVkVW5kbyAmJiAhbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kKSB7DQogICAgICAgICAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoImJlZm9yZWV4ZWNjb21tYW5kIiwgY21kKTsNCiAgICAgICAgICAgICAgICB0ZHMgPSB1dC5zZWxlY3RlZFRkczsNCiAgICAgICAgICAgICAgICB2YXIgbGFzdFN0YXRlID0gLTIsIGxhc3RWYWx1ZSA9IC0yLCB2YWx1ZSwgc3RhdGU7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRkOyB0ZCA9IHRkc1tpXTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpc0VtcHR5QmxvY2sodGQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0ZCwgMCkuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZCkuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHN0YXRlID0gbWUucXVlcnlDb21tYW5kU3RhdGUoY21kKTsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtZS5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0U3RhdGUgIT09IHN0YXRlIHx8IGxhc3RWYWx1ZSAhPT0gdmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5faWdub3JlQ29udGVudENoYW5nZSA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gb2xkRXhlY0NvbW1hbmQuYXBwbHkobWUsIGFyZ3VtZW50cyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuX2lnbm9yZUNvbnRlbnRDaGFuZ2UgPSBmYWxzZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFN0YXRlID0gbWUucXVlcnlDb21tYW5kU3RhdGUoY21kKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IG1lLnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHRkKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LCB0ZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0ZHNbMF0sIDApLnNocmlua0JvdW5kYXJ5KHRydWUpLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCdjb250ZW50Y2hhbmdlJyk7DQogICAgICAgICAgICAgICAgbWUuZmlyZUV2ZW50KCJhZnRlcmV4ZWNjb21tYW5kIiwgY21kKTsNCiAgICAgICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBtZS5fc2VsZWN0aW9uQ2hhbmdlKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJlc3VsdCA9IG9sZEV4ZWNDb21tYW5kLmFwcGx5KG1lLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgfTsNCg0KDQogICAgfSk7DQogICAgLyoqDQogICAgICog5Yig6Zmkb2Jq55qE5a696auYc3R5bGXvvIzmlLnmiJDlsZ7mgKflrr3pq5gNCiAgICAgKiBAcGFyYW0gb2JqDQogICAgICogQHBhcmFtIHJlcGxhY2VUb1Byb3BlcnR5DQogICAgICovDQogICAgZnVuY3Rpb24gcmVtb3ZlU3R5bGVTaXplKG9iaiwgcmVwbGFjZVRvUHJvcGVydHkpIHsNCiAgICAgICAgcmVtb3ZlU3R5bGUob2JqLCAid2lkdGgiLCB0cnVlKTsNCiAgICAgICAgcmVtb3ZlU3R5bGUob2JqLCAiaGVpZ2h0IiwgdHJ1ZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gcmVtb3ZlU3R5bGUob2JqLCBzdHlsZU5hbWUsIHJlcGxhY2VUb1Byb3BlcnR5KSB7DQogICAgICAgIGlmIChvYmouc3R5bGVbc3R5bGVOYW1lXSkgew0KICAgICAgICAgICAgcmVwbGFjZVRvUHJvcGVydHkgJiYgb2JqLnNldEF0dHJpYnV0ZShzdHlsZU5hbWUsIHBhcnNlSW50KG9iai5zdHlsZVtzdHlsZU5hbWVdLCAxMCkpOw0KICAgICAgICAgICAgb2JqLnN0eWxlW3N0eWxlTmFtZV0gPSAiIjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFBhcmVudFRkT3JUaChlbGUpIHsNCiAgICAgICAgaWYgKGVsZS50YWdOYW1lID09ICJURCIgfHwgZWxlLnRhZ05hbWUgPT0gIlRIIikgcmV0dXJuIGVsZTsNCiAgICAgICAgdmFyIHRkOw0KICAgICAgICBpZiAodGQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVsZSwgInRkIiwgdHJ1ZSkgfHwgZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbGUsICJ0aCIsIHRydWUpKSByZXR1cm4gdGQ7DQogICAgICAgIHJldHVybiBudWxsOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGlzRW1wdHlCbG9jayhub2RlKSB7DQogICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCAnZycpOw0KICAgICAgICBpZiAobm9kZVticm93c2VyLmllID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnXS5yZXBsYWNlKC9eXHMqJC8sICcnKS5yZXBsYWNlKHJlZywgJycpLmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQogICAgICAgIGZvciAodmFyIG4gaW4gZHRkLiRpc05vdEVtcHR5KSB7DQogICAgICAgICAgICBpZiAobm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShuKS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gMTsNCiAgICB9DQoNCg0KICAgIGZ1bmN0aW9uIG1vdXNlQ29vcmRzKGV2dCkgew0KICAgICAgICBpZiAoZXZ0LnBhZ2VYIHx8IGV2dC5wYWdlWSkgew0KICAgICAgICAgICAgcmV0dXJuIHsgeDpldnQucGFnZVgsIHk6ZXZ0LnBhZ2VZIH07DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHg6ZXZ0LmNsaWVudFggKyBtZS5kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQgLSBtZS5kb2N1bWVudC5ib2R5LmNsaWVudExlZnQsDQogICAgICAgICAgICB5OmV2dC5jbGllbnRZICsgbWUuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgLSBtZS5kb2N1bWVudC5ib2R5LmNsaWVudFRvcA0KICAgICAgICB9Ow0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1vdXNlTW92ZUV2ZW50KGV2dCkgew0KDQogICAgICAgIGlmKCBpc0VkaXRvckRpc2FibGVkKCkgKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCg0KICAgICAgICB0cnkgew0KDQogICAgICAgICAgICAvL+aZrumAmueKtuaAgeS4i+m8oOagh+enu+WKqA0KICAgICAgICAgICAgdmFyIHRhcmdldCA9IGdldFBhcmVudFRkT3JUaChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSwNCiAgICAgICAgICAgICAgICBwb3M7DQoNCiAgICAgICAgICAgIC8v5Yy65YiG55So5oi355qE6KGM5Li65piv5ouW5Yqo6L+Y5piv5Y+M5Ye7DQogICAgICAgICAgICBpZiggaXNJblJlc2l6ZUJ1ZmZlciAgKSB7DQoNCiAgICAgICAgICAgICAgICBtZS5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7DQoNCiAgICAgICAgICAgICAgICBpZiggTWF0aC5hYnMoIHVzZXJBY3Rpb25TdGF0dXMueCAtIGV2dC5jbGllbnRYICkgPiBvZmZzZXRPZlRhYmxlQ2VsbCB8fCBNYXRoLmFicyggdXNlckFjdGlvblN0YXR1cy55IC0gZXZ0LmNsaWVudFkgKSA+IG9mZnNldE9mVGFibGVDZWxsICkgew0KICAgICAgICAgICAgICAgICAgICBjbGVhclRhYmxlRHJhZ1RpbWVyKCk7DQogICAgICAgICAgICAgICAgICAgIGlzSW5SZXNpemVCdWZmZXIgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9IDA7DQogICAgICAgICAgICAgICAgICAgIC8vZHJhZyBhY3Rpb24NCiAgICAgICAgICAgICAgICAgICAgdGFibGVCb3JkZXJEcmFnKGV2dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL+S/ruaUueWNleWFg+agvOWkp+Wwj+aXtueahOm8oOagh+enu+WKqA0KICAgICAgICAgICAgaWYgKG9uRHJhZyAmJiBkcmFnVGQpIHsNCiAgICAgICAgICAgICAgICBzaW5nbGVDbGlja1N0YXRlID0gMDsNCiAgICAgICAgICAgICAgICBtZS5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgbWUuc2VsZWN0aW9uLmdldE5hdGl2ZSgpW2Jyb3dzZXIuaWU5YmVsb3cgPyAnZW1wdHknIDogJ3JlbW92ZUFsbFJhbmdlcyddKCk7DQogICAgICAgICAgICAgICAgcG9zID0gbW91c2VDb29yZHMoZXZ0KTsNCiAgICAgICAgICAgICAgICB0b2dnbGVEcmFnZ2FibGVTdGF0ZShtZSwgdHJ1ZSwgb25EcmFnLCBwb3MsIHRhcmdldCk7DQogICAgICAgICAgICAgICAgaWYgKG9uRHJhZyA9PSAiaCIpIHsNCiAgICAgICAgICAgICAgICAgICAgZHJhZ0xpbmUuc3R5bGUubGVmdCA9IGdldFBlcm1pc3Npb25YKGRyYWdUZCwgZXZ0KSArICJweCI7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChvbkRyYWcgPT0gInYiKSB7DQogICAgICAgICAgICAgICAgICAgIGRyYWdMaW5lLnN0eWxlLnRvcCA9IGdldFBlcm1pc3Npb25ZKGRyYWdUZCwgZXZ0KSArICJweCI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8v5b2T6byg5qCH5aSE5LqOdGFibGXkuIrml7bvvIzkv67mlLnnp7vliqjov4fnqIvkuK3nmoTlhYnmoIfnirbmgIENCiAgICAgICAgICAgIGlmICh0YXJnZXQpIHsNCiAgICAgICAgICAgICAgICAvL+mSiOWvueS9v+eUqHRhYmxl5L2c5Li65a655Zmo55qE57uE5Lu25LiN6Kem5Y+R5ouW5ou95pWI5p6cDQogICAgICAgICAgICAgICAgaWYgKG1lLmZpcmVFdmVudCgnZXhjbHVkZXRhYmxlJywgdGFyZ2V0KSA9PT0gdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIHBvcyA9IG1vdXNlQ29vcmRzKGV2dCk7DQogICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gZ2V0UmVsYXRpb24odGFyZ2V0LCBwb3MpLA0KICAgICAgICAgICAgICAgICAgICB0YWJsZSA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUodGFyZ2V0LCAidGFibGUiLCB0cnVlKTsNCg0KICAgICAgICAgICAgICAgIGlmIChpblRhYmxlU2lkZSh0YWJsZSwgdGFyZ2V0LCBldnQsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChtZS5maXJlRXZlbnQoImV4Y2x1ZGV0YWJsZSIsIHRhYmxlKSA9PT0gdHJ1ZSkgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LnN0eWxlLmN1cnNvciA9ICJ1cmwoIiArIG1lLm9wdGlvbnMuY3Vyc29ycGF0aCArICJoLnBuZykscG9pbnRlciI7DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpblRhYmxlU2lkZSh0YWJsZSwgdGFyZ2V0LCBldnQpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChtZS5maXJlRXZlbnQoImV4Y2x1ZGV0YWJsZSIsIHRhYmxlKSA9PT0gdHJ1ZSkgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICBtZS5ib2R5LnN0eWxlLmN1cnNvciA9ICJ1cmwoIiArIG1lLm9wdGlvbnMuY3Vyc29ycGF0aCArICJ2LnBuZykscG9pbnRlciI7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuYm9keS5zdHlsZS5jdXJzb3IgPSAidGV4dCI7DQogICAgICAgICAgICAgICAgICAgIHZhciBjdXJDZWxsID0gdGFyZ2V0Ow0KICAgICAgICAgICAgICAgICAgICBpZiAoL1xkLy50ZXN0KHN0YXRlKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZS5yZXBsYWNlKC9cZC8sICcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGdldFVFVGFibGUodGFyZ2V0KS5nZXRQcmV2aWV3Q2VsbCh0YXJnZXQsIHN0YXRlID09ICJ2Iik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgLy/kvY3kuo7nrKzkuIDooYznmoTpobbpg6jmiJbogIXnrKzkuIDliJfnmoTlt6bovrnml7bkuI3lj6/mi5bliqgNCiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlRHJhZ2dhYmxlU3RhdGUobWUsIHRhcmdldCA/ICEhc3RhdGUgOiBmYWxzZSwgdGFyZ2V0ID8gc3RhdGUgOiAnJywgcG9zLCB0YXJnZXQpOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0b2dnbGVEcmFnQnV0dG9uKGZhbHNlLCB0YWJsZSwgbWUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIHZhciBkcmFnQnV0dG9uVGltZXI7DQoNCiAgICBmdW5jdGlvbiB0b2dnbGVEcmFnQnV0dG9uKHNob3csIHRhYmxlLCBlZGl0b3IpIHsNCiAgICAgICAgaWYgKCFzaG93KSB7DQogICAgICAgICAgICBpZiAoZHJhZ092ZXIpcmV0dXJuOw0KICAgICAgICAgICAgZHJhZ0J1dHRvblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgIWRyYWdPdmVyICYmIGRyYWdCdXR0b24gJiYgZHJhZ0J1dHRvbi5wYXJlbnROb2RlICYmIGRyYWdCdXR0b24ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkcmFnQnV0dG9uKTsNCiAgICAgICAgICAgIH0sIDIwMDApOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgY3JlYXRlRHJhZ0J1dHRvbih0YWJsZSwgZWRpdG9yKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNyZWF0ZURyYWdCdXR0b24odGFibGUsIGVkaXRvcikgew0KICAgICAgICB2YXIgcG9zID0gZG9tVXRpbHMuZ2V0WFkodGFibGUpLA0KICAgICAgICAgICAgZG9jID0gdGFibGUub3duZXJEb2N1bWVudDsNCiAgICAgICAgaWYgKGRyYWdCdXR0b24gJiYgZHJhZ0J1dHRvbi5wYXJlbnROb2RlKXJldHVybiBkcmFnQnV0dG9uOw0KICAgICAgICBkcmFnQnV0dG9uID0gZG9jLmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICBkcmFnQnV0dG9uLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlOw0KICAgICAgICBkcmFnQnV0dG9uLmlubmVySFRNTCA9ICIiOw0KICAgICAgICBkcmFnQnV0dG9uLnN0eWxlLmNzc1RleHQgPSAid2lkdGg6MTVweDtoZWlnaHQ6MTVweDtiYWNrZ3JvdW5kLWltYWdlOnVybCgiICsgZWRpdG9yLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCArICJkaWFsb2dzL3RhYmxlL2RyYWdpY29uLnBuZyk7cG9zaXRpb246IGFic29sdXRlO2N1cnNvcjptb3ZlO3RvcDoiICsgKHBvcy55IC0gMTUpICsgInB4O2xlZnQ6IiArIChwb3MueCkgKyAicHg7IjsNCiAgICAgICAgZG9tVXRpbHMudW5TZWxlY3RhYmxlKGRyYWdCdXR0b24pOw0KICAgICAgICBkcmFnQnV0dG9uLm9ubW91c2VvdmVyID0gZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgZHJhZ092ZXIgPSB0cnVlOw0KICAgICAgICB9Ow0KICAgICAgICBkcmFnQnV0dG9uLm9ubW91c2VvdXQgPSBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICBkcmFnT3ZlciA9IGZhbHNlOw0KICAgICAgICB9Ow0KICAgICAgICBkb21VdGlscy5vbihkcmFnQnV0dG9uLCAnY2xpY2snLCBmdW5jdGlvbiAodHlwZSwgZXZ0KSB7DQogICAgICAgICAgICBkb0NsaWNrKGV2dCwgdGhpcyk7DQogICAgICAgIH0pOw0KICAgICAgICBkb21VdGlscy5vbihkcmFnQnV0dG9uLCAnZGJsY2xpY2snLCBmdW5jdGlvbiAodHlwZSwgZXZ0KSB7DQogICAgICAgICAgICBkb0RibENsaWNrKGV2dCk7DQogICAgICAgIH0pOw0KICAgICAgICBkb21VdGlscy5vbihkcmFnQnV0dG9uLCAnZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKHR5cGUsIGV2dCkgew0KICAgICAgICAgICAgZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTsNCiAgICAgICAgfSk7DQogICAgICAgIHZhciB0aW1lcjsNCg0KICAgICAgICBmdW5jdGlvbiBkb0NsaWNrKGV2dCwgYnV0dG9uKSB7DQogICAgICAgICAgICAvLyDpg6jliIbmtY/op4jlmajkuIvpnIDopoHmuIXnkIYNCiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7DQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGVkaXRvci5maXJlRXZlbnQoInRhYmxlQ2xpY2tlZCIsIHRhYmxlLCBidXR0b24pOw0KICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGRvRGJsQ2xpY2soZXZ0KSB7DQogICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOw0KICAgICAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZSh0YWJsZSksDQogICAgICAgICAgICAgICAgc3RhcnQgPSB0YWJsZS5yb3dzWzBdLmNlbGxzWzBdLA0KICAgICAgICAgICAgICAgIGVuZCA9IHV0LmdldExhc3RDZWxsKCksDQogICAgICAgICAgICAgICAgcmFuZ2UgPSB1dC5nZXRDZWxsc1JhbmdlKHN0YXJ0LCBlbmQpOw0KICAgICAgICAgICAgZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNldFN0YXJ0KHN0YXJ0LCAwKS5zZXRDdXJzb3IoZmFsc2UsIHRydWUpOw0KICAgICAgICAgICAgdXQuc2V0U2VsZWN0ZWQocmFuZ2UpOw0KICAgICAgICB9DQoNCiAgICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ0J1dHRvbik7DQogICAgfQ0KDQoNCi8vICAgIGZ1bmN0aW9uIGluUG9zaXRpb24odGFibGUsIHBvcykgew0KLy8gICAgICAgIHZhciB0YWJsZVBvcyA9IGRvbVV0aWxzLmdldFhZKHRhYmxlKSwNCi8vICAgICAgICAgICAgd2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aCwNCi8vICAgICAgICAgICAgaGVpZ2h0ID0gdGFibGUub2Zmc2V0SGVpZ2h0Ow0KLy8gICAgICAgIGlmIChwb3MueCAtIHRhYmxlUG9zLnggPCA1ICYmIHBvcy55IC0gdGFibGVQb3MueSA8IDUpIHsNCi8vICAgICAgICAgICAgcmV0dXJuICJ0b3BMZWZ0IjsNCi8vICAgICAgICB9IGVsc2UgaWYgKHRhYmxlUG9zLnggKyB3aWR0aCAtIHBvcy54IDwgNSAmJiB0YWJsZVBvcy55ICsgaGVpZ2h0IC0gcG9zLnkgPCA1KSB7DQovLyAgICAgICAgICAgIHJldHVybiAiYm90dG9tUmlnaHQiOw0KLy8gICAgICAgIH0NCi8vICAgIH0NCg0KICAgIGZ1bmN0aW9uIGluVGFibGVTaWRlKHRhYmxlLCBjZWxsLCBldnQsIHRvcCkgew0KICAgICAgICB2YXIgcG9zID0gbW91c2VDb29yZHMoZXZ0KSwNCiAgICAgICAgICAgIHN0YXRlID0gZ2V0UmVsYXRpb24oY2VsbCwgcG9zKTsNCg0KICAgICAgICBpZiAodG9wKSB7DQogICAgICAgICAgICB2YXIgY2FwdGlvbiA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYXB0aW9uIilbMF0sDQogICAgICAgICAgICAgICAgY2FwSGVpZ2h0ID0gY2FwdGlvbiA/IGNhcHRpb24ub2Zmc2V0SGVpZ2h0IDogMDsNCiAgICAgICAgICAgIHJldHVybiAoc3RhdGUgPT0gInYxIikgJiYgKChwb3MueSAtIGRvbVV0aWxzLmdldFhZKHRhYmxlKS55IC0gY2FwSGVpZ2h0KSA8IDgpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIChzdGF0ZSA9PSAiaDEiKSAmJiAoKHBvcy54IC0gZG9tVXRpbHMuZ2V0WFkodGFibGUpLngpIDwgOCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDojrflj5bmi5bliqjml7blhYHorrjnmoRY6L205Z2Q5qCHDQogICAgICogQHBhcmFtIGRyYWdUZA0KICAgICAqIEBwYXJhbSBldnQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRQZXJtaXNzaW9uWChkcmFnVGQsIGV2dCkgew0KICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKGRyYWdUZCk7DQogICAgICAgIGlmICh1dCkgew0KICAgICAgICAgICAgdmFyIHByZVRkID0gdXQuZ2V0U2FtZUVuZFBvc0NlbGxzKGRyYWdUZCwgIngiKVswXSwNCiAgICAgICAgICAgICAgICBuZXh0VGQgPSB1dC5nZXRTYW1lU3RhcnRQb3NYQ2VsbHMoZHJhZ1RkKVswXSwNCiAgICAgICAgICAgICAgICBtb3VzZVggPSBtb3VzZUNvb3JkcyhldnQpLngsDQogICAgICAgICAgICAgICAgbGVmdCA9IChwcmVUZCA/IGRvbVV0aWxzLmdldFhZKHByZVRkKS54IDogZG9tVXRpbHMuZ2V0WFkodXQudGFibGUpLngpICsgMjAgLA0KICAgICAgICAgICAgICAgIHJpZ2h0ID0gbmV4dFRkID8gZG9tVXRpbHMuZ2V0WFkobmV4dFRkKS54ICsgbmV4dFRkLm9mZnNldFdpZHRoIC0gMjAgOiAobWUuYm9keS5vZmZzZXRXaWR0aCArIDUgfHwgcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShtZS5ib2R5LCAid2lkdGgiKSwgMTApKTsNCg0KICAgICAgICAgICAgbGVmdCArPSBjZWxsTWluV2lkdGg7DQogICAgICAgICAgICByaWdodCAtPSBjZWxsTWluV2lkdGg7DQoNCiAgICAgICAgICAgIHJldHVybiBtb3VzZVggPCBsZWZ0ID8gbGVmdCA6IG1vdXNlWCA+IHJpZ2h0ID8gcmlnaHQgOiBtb3VzZVg7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDojrflj5bmi5bliqjml7blhYHorrjnmoRZ6L205Z2Q5qCHDQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0UGVybWlzc2lvblkoZHJhZ1RkLCBldnQpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHZhciB0b3AgPSBkb21VdGlscy5nZXRYWShkcmFnVGQpLnksDQogICAgICAgICAgICAgICAgbW91c2VQb3NZID0gbW91c2VDb29yZHMoZXZ0KS55Ow0KICAgICAgICAgICAgcmV0dXJuIG1vdXNlUG9zWSA8IHRvcCA/IHRvcCA6IG1vdXNlUG9zWTsNCiAgICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAgICAgc2hvd0Vycm9yKGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog56e75Yqo54q25oCB5YiH5o2iDQogICAgICovDQogICAgZnVuY3Rpb24gdG9nZ2xlRHJhZ2dhYmxlU3RhdGUoZWRpdG9yLCBkcmFnZ2FibGUsIGRpciwgbW91c2VQb3MsIGNlbGwpIHsNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGVkaXRvci5ib2R5LnN0eWxlLmN1cnNvciA9IGRpciA9PSAiaCIgPyAiY29sLXJlc2l6ZSIgOiBkaXIgPT0gInYiID8gInJvdy1yZXNpemUiIDogInRleHQiOw0KICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUpIHsNCiAgICAgICAgICAgICAgICBpZiAoZGlyICYmICFtb3VzZWRvd24gJiYgIWdldFVFVGFibGVCeVNlbGVjdGVkKGVkaXRvcikpIHsNCiAgICAgICAgICAgICAgICAgICAgZ2V0RHJhZ0xpbmUoZWRpdG9yLCBlZGl0b3IuZG9jdW1lbnQpOw0KICAgICAgICAgICAgICAgICAgICBzaG93RHJhZ0xpbmVBdChkaXIsIGNlbGwpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGhpZGVEcmFnTGluZShlZGl0b3IpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb25Cb3JkZXIgPSBkcmFnZ2FibGU7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgIHNob3dFcnJvcihlKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOiOt+WPluS4jlVFVGFibGXnm7jlhbPnmoRyZXNpemUgbGluZQ0KICAgICAqIEBwYXJhbSB1ZXRhYmxlIFVFVGFibGXlr7nosaENCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRSZXNpemVMaW5lQnlVRVRhYmxlKCkgew0KDQogICAgICAgIHZhciBsaW5lSWQgPSAnX1VFVGFibGVSZXNpemVMaW5lJywNCiAgICAgICAgICAgIGxpbmUgPSB0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBsaW5lSWQgKTsNCg0KICAgICAgICBpZiggIWxpbmUgKSB7DQogICAgICAgICAgICBsaW5lID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgIGxpbmUuaWQgPSBsaW5lSWQ7DQogICAgICAgICAgICBsaW5lLmNvbnRuZXRFZGl0YWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgbGluZS5zZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIsICJvbiIpOw0KDQogICAgICAgICAgICB2YXIgc3R5bGVzID0gew0KICAgICAgICAgICAgICAgIHdpZHRoOiAyKmNlbGxCb3JkZXJXaWR0aCArIDEgKyAncHgnLA0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLA0KICAgICAgICAgICAgICAgICd6LWluZGV4JzogMTAwMDAwLA0KICAgICAgICAgICAgICAgIGN1cnNvcjogJ2NvbC1yZXNpemUnLA0KICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICdyZWQnLA0KICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdub25lJw0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgLy/liIfmjaLnirbmgIENCiAgICAgICAgICAgIGxpbmUub25tb3VzZW91dCA9IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgfTsNCg0KICAgICAgICAgICAgdXRpbHMuZXh0ZW5kKCBsaW5lLnN0eWxlLCBzdHlsZXMgKTsNCg0KICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBsaW5lICk7DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBsaW5lOw0KDQogICAgfQ0KDQogICAgLyoqDQogICAgICog5pu05pawcmVzaXplLWxpbmUNCiAgICAgKi8NCiAgICBmdW5jdGlvbiB1cGRhdGVSZXNpemVMaW5lKCBjZWxsLCB1ZXRhYmxlICkgew0KDQogICAgICAgIHZhciBsaW5lID0gZ2V0UmVzaXplTGluZUJ5VUVUYWJsZS5jYWxsKCB0aGlzICksDQogICAgICAgICAgICB0YWJsZSA9IHVldGFibGUudGFibGUsDQogICAgICAgICAgICBzdHlsZXMgPSB7DQogICAgICAgICAgICAgICAgdG9wOiBkb21VdGlscy5nZXRYWSggdGFibGUgKS55ICsgJ3B4JywNCiAgICAgICAgICAgICAgICBsZWZ0OiBkb21VdGlscy5nZXRYWSggY2VsbCkueCArIGNlbGwub2Zmc2V0V2lkdGggLSBjZWxsQm9yZGVyV2lkdGggKyAncHgnLA0KICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsDQogICAgICAgICAgICAgICAgaGVpZ2h0OiB0YWJsZS5vZmZzZXRIZWlnaHQgKyAncHgnDQogICAgICAgICAgICB9Ow0KDQogICAgICAgIHV0aWxzLmV4dGVuZCggbGluZS5zdHlsZSwgc3R5bGVzICk7DQoNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmmL7npLpyZXNpemUtbGluZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNob3dSZXNpemVMaW5lKCBjZWxsICkgew0KDQogICAgICAgIHZhciB1ZXRhYmxlID0gZ2V0VUVUYWJsZSggY2VsbCApOw0KDQogICAgICAgIHVwZGF0ZVJlc2l6ZUxpbmUuY2FsbCggdGhpcywgY2VsbCwgdWV0YWJsZSApOw0KDQogICAgfQ0KDQogICAgLyoqDQogICAgICog6I635Y+W6byg5qCH5LiO5b2T5YmN5Y2V5YWD5qC855qE55u45a+55L2N572uDQogICAgICogQHBhcmFtIGVsZQ0KICAgICAqIEBwYXJhbSBtb3VzZVBvcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGdldFJlbGF0aW9uKGVsZSwgbW91c2VQb3MpIHsNCiAgICAgICAgdmFyIGVsZVBvcyA9IGRvbVV0aWxzLmdldFhZKGVsZSk7DQoNCiAgICAgICAgaWYoICFlbGVQb3MgKSB7DQogICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZWxlUG9zLnggKyBlbGUub2Zmc2V0V2lkdGggLSBtb3VzZVBvcy54IDwgY2VsbEJvcmRlcldpZHRoKSB7DQogICAgICAgICAgICByZXR1cm4gImgiOw0KICAgICAgICB9DQogICAgICAgIGlmIChtb3VzZVBvcy54IC0gZWxlUG9zLnggPCBjZWxsQm9yZGVyV2lkdGgpIHsNCiAgICAgICAgICAgIHJldHVybiAnaDEnDQogICAgICAgIH0NCiAgICAgICAgaWYgKGVsZVBvcy55ICsgZWxlLm9mZnNldEhlaWdodCAtIG1vdXNlUG9zLnkgPCBjZWxsQm9yZGVyV2lkdGgpIHsNCiAgICAgICAgICAgIHJldHVybiAidiI7DQogICAgICAgIH0NCiAgICAgICAgaWYgKG1vdXNlUG9zLnkgLSBlbGVQb3MueSA8IGNlbGxCb3JkZXJXaWR0aCkgew0KICAgICAgICAgICAgcmV0dXJuICd2MScNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gJyc7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gbW91c2VEb3duRXZlbnQodHlwZSwgZXZ0KSB7DQoNCiAgICAgICAgaWYoIGlzRWRpdG9yRGlzYWJsZWQoKSApIHsNCiAgICAgICAgICAgIHJldHVybiA7DQogICAgICAgIH0NCg0KICAgICAgICB1c2VyQWN0aW9uU3RhdHVzID0gew0KICAgICAgICAgICAgeDogZXZ0LmNsaWVudFgsDQogICAgICAgICAgICB5OiBldnQuY2xpZW50WQ0KICAgICAgICB9Ow0KDQogICAgICAgIC8v5Y+z6ZSu6I+c5Y2V5Y2V54us5aSE55CGDQogICAgICAgIGlmIChldnQuYnV0dG9uID09IDIpIHsNCiAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGVCeVNlbGVjdGVkKG1lKSwNCiAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmICh1dCkgew0KICAgICAgICAgICAgICAgIHZhciB0ZCA9IGdldFRhcmdldFRkKG1lLCBldnQpOw0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2godXQuc2VsZWN0ZWRUZHMsIGZ1bmN0aW9uICh0aSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGkgPT09IHRkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgICAgICAgICByZW1vdmVTZWxlY3RlZENsYXNzKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksICJ0aCB0ZCIpKTsNCiAgICAgICAgICAgICAgICAgICAgdXQuY2xlYXJTZWxlY3RlZCgpDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdGQgPSB1dC5zZWxlY3RlZFRkc1swXTsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZXRTdGFydCh0ZCwgMCkuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfSwgMCk7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0YWJsZUNsaWNrSGFuZGVyKCBldnQgKTsNCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgLy/muIXpmaTooajmoLznmoTorqHml7blmagNCiAgICBmdW5jdGlvbiBjbGVhclRhYmxlVGltZXIoKSB7DQogICAgICAgIHRhYlRpbWVyICYmIGNsZWFyVGltZW91dCggdGFiVGltZXIgKTsNCiAgICAgICAgdGFiVGltZXIgPSBudWxsOw0KICAgIH0NCg0KICAgIC8v5Y+M5Ye75pS257ypDQogICAgZnVuY3Rpb24gdGFibGVEYmNsaWNrSGFuZGxlcihldnQpIHsNCiAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9IDA7DQogICAgICAgIGV2dCA9IGV2dCB8fCBtZS53aW5kb3cuZXZlbnQ7DQogICAgICAgIHZhciB0YXJnZXQgPSBnZXRQYXJlbnRUZE9yVGgoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCk7DQogICAgICAgIGlmICh0YXJnZXQpIHsNCiAgICAgICAgICAgIHZhciBoOw0KICAgICAgICAgICAgaWYgKGggPSBnZXRSZWxhdGlvbih0YXJnZXQsIG1vdXNlQ29vcmRzKGV2dCkpKSB7DQoNCiAgICAgICAgICAgICAgICBoaWRlRHJhZ0xpbmUoIG1lICk7DQoNCiAgICAgICAgICAgICAgICBpZiAoaCA9PSAnaDEnKSB7DQogICAgICAgICAgICAgICAgICAgIGggPSAnaCc7DQogICAgICAgICAgICAgICAgICAgIGlmIChpblRhYmxlU2lkZShkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRhcmdldCwgInRhYmxlIiksIHRhcmdldCwgZXZ0KSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoJ2FkYXB0Ynl3aW5kb3cnKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IGdldFVFVGFibGUodGFyZ2V0KS5nZXRQcmV2aWV3Q2VsbCh0YXJnZXQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKHRhcmdldCkuc2V0Q3Vyc29yKHRydWUsIHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGggPT0gJ2gnKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB1dCA9IGdldFVFVGFibGUodGFyZ2V0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlID0gdXQudGFibGUsDQogICAgICAgICAgICAgICAgICAgICAgICBjZWxscyA9IGdldENlbGxzQnlNb3ZlQm9yZGVyKCB0YXJnZXQsIHRhYmxlLCB0cnVlICk7DQoNCiAgICAgICAgICAgICAgICAgICAgY2VsbHMgPSBleHRyYWN0QXJyYXkoIGNlbGxzLCAnbGVmdCcgKTsNCg0KICAgICAgICAgICAgICAgICAgICB1dC53aWR0aCA9IHV0Lm9mZnNldFdpZHRoOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBvbGRXaWR0aCA9IFtdLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmV3V2lkdGggPSBbXTsNCg0KICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKCBjZWxscywgZnVuY3Rpb24oIGNlbGwgKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgb2xkV2lkdGgucHVzaCggY2VsbC5vZmZzZXRXaWR0aCApOw0KDQogICAgICAgICAgICAgICAgICAgIH0gKTsNCg0KICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKCBjZWxscywgZnVuY3Rpb24oIGNlbGwgKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7DQoNCiAgICAgICAgICAgICAgICAgICAgfSApOw0KDQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpew0KDQogICAgICAgICAgICAgICAgICAgICAgICAvL+aYr+WQpuWFgeiuuOaUueWPmA0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5nZWFibGUgPSB0cnVlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5lYWNoKCBjZWxscywgZnVuY3Rpb24oIGNlbGwsIGluZGV4ICl7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHdpZHRoID4gb2xkV2lkdGhbaW5kZXhdICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VhYmxlID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdXaWR0aC5wdXNoKCB3aWR0aCApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB9ICk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VhYmxlID8gbmV3V2lkdGggOiBvbGRXaWR0aDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaCggY2VsbHMsIGZ1bmN0aW9uKCBjZWxsLCBpbmRleCApew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC53aWR0aCA9IGNoYW5nZVtpbmRleF0gLSBnZXRUYWJjZWxsU3BhY2UoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSApOw0KDQoNCiAgICAgICAgICAgICAgICAgICAgfSwgMCApOw0KDQovLyAgICAgICAgICAgICAgICAgICAgbWluV2lkdGggLT0gY2VsbE1pbldpZHRoOw0KLy8NCi8vICAgICAgICAgICAgICAgICAgICB0YWJsZS5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7DQovLyAgICAgICAgICAgICAgICAgICAgdXRpbHMuZWFjaChjZWxscywgZnVuY3Rpb24gKGNlbGwpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5zdHlsZS53aWR0aCA9ICIiOw0KLy8gICAgICAgICAgICAgICAgICAgICAgICBjZWxsLndpZHRoIC09IG1pbldpZHRoOw0KLy8gICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdGFibGVDbGlja0hhbmRlciggZXZ0ICkgew0KDQogICAgICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuYm9keSwgInRkIHRoIikpOw0KICAgICAgICAvL3RyYWNlOjMxMTMNCiAgICAgICAgLy/pgInkuK3ljZXlhYPmoLzvvIzngrnlh7t0YWJsZeWklumDqO+8jOS4jeS8mua4heaOiXRhYmxl5LiK5oyC55qEdWVUYWJsZSzkvJrlvJXotbdnZXRVRVRhYmxlQnlTZWxlY3RlZOaWueazlei/lOWbnuWAvA0KICAgICAgICB1dGlscy5lYWNoKG1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0YWJsZScpLCBmdW5jdGlvbiAodCkgew0KICAgICAgICAgICAgdC51ZVRhYmxlID0gbnVsbDsNCiAgICAgICAgfSk7DQogICAgICAgIHN0YXJ0VGQgPSBnZXRUYXJnZXRUZChtZSwgZXZ0KTsNCiAgICAgICAgaWYoICFzdGFydFRkICkgcmV0dXJuOw0KICAgICAgICB2YXIgdGFibGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0VGQsICJ0YWJsZSIsIHRydWUpOw0KICAgICAgICB1dCA9IGdldFVFVGFibGUodGFibGUpOw0KICAgICAgICB1dCAmJiB1dC5jbGVhclNlbGVjdGVkKCk7DQoNCiAgICAgICAgLy/liKTmlq3lvZPliY3pvKDmoIfnirbmgIENCiAgICAgICAgaWYgKCFvbkJvcmRlcikgew0KICAgICAgICAgICAgbWUuZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJyc7DQogICAgICAgICAgICBtb3VzZWRvd24gPSB0cnVlOw0KICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ21vdXNlb3ZlcicsIG1vdXNlT3ZlckV2ZW50KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIC8v6L655qGG5LiK55qE5Yqo5L2c5aSE55CGDQogICAgICAgICAgICBib3JkZXJBY3Rpb25IYW5kbGVyKCBldnQgKTsNCiAgICAgICAgfQ0KDQoNCiAgICB9DQoNCiAgICAvL+WkhOeQhuihqOagvOi+ueahhuS4iueahOWKqOS9nCwg6L+Z6YeM5YGa5bu25pe25aSE55CG77yM6YG/5YWN5Lik56eN5Yqo5L2c5LqS55u45b2x5ZONDQogICAgZnVuY3Rpb24gYm9yZGVyQWN0aW9uSGFuZGxlciggZXZ0ICkgew0KDQogICAgICAgIGlmICggYnJvd3Nlci5pZSApIHsNCiAgICAgICAgICAgIGV2dCA9IHJlY29uc3RydWN0KGV2dCApOw0KICAgICAgICB9DQoNCiAgICAgICAgY2xlYXJUYWJsZURyYWdUaW1lcigpOw0KDQogICAgICAgIC8v5piv5ZCm5q2j5Zyo562J5b6FcmVzaXpl55qE57yT5Yay5LitDQogICAgICAgIGlzSW5SZXNpemVCdWZmZXIgPSB0cnVlOw0KDQogICAgICAgIHRhYmxlRHJhZ1RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgdGFibGVCb3JkZXJEcmFnKCBldnQgKTsNCiAgICAgICAgfSwgZGJsY2xpY2tUaW1lKTsNCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGV4dHJhY3RBcnJheSggb3JpZ2luQXJyLCBrZXkgKSB7DQoNCiAgICAgICAgdmFyIHJlc3VsdCA9IFtdLA0KICAgICAgICAgICAgdG1wID0gbnVsbDsNCg0KICAgICAgICBmb3IoIHZhciBpID0gMCwgbGVuID0gb3JpZ2luQXJyLmxlbmd0aDsgaTxsZW47IGkrKyApIHsNCg0KICAgICAgICAgICAgdG1wID0gb3JpZ2luQXJyWyBpIF1bIGtleSBdOw0KDQogICAgICAgICAgICBpZiggdG1wICkgew0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKCB0bXAgKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIHJlc3VsdDsNCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNsZWFyVGFibGVEcmFnVGltZXIoKSB7DQogICAgICAgIHRhYmxlRHJhZ1RpbWVyICYmIGNsZWFyVGltZW91dCh0YWJsZURyYWdUaW1lcik7DQogICAgICAgIHRhYmxlRHJhZ1RpbWVyID0gbnVsbDsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiByZWNvbnN0cnVjdCggb2JqICkgew0KDQogICAgICAgIHZhciBhdHRycyA9IFsncGFnZVgnLCAncGFnZVknLCAnY2xpZW50WCcsICdjbGllbnRZJywgJ3NyY0VsZW1lbnQnLCAndGFyZ2V0J10sDQogICAgICAgICAgICBuZXdPYmogPSB7fTsNCg0KICAgICAgICBpZiggb2JqICkgew0KDQogICAgICAgICAgICBmb3IoIHZhciBpID0gMCwga2V5LCB2YWw7IGtleSA9IGF0dHJzW2ldOyBpKysgKSB7DQogICAgICAgICAgICAgICAgdmFsPW9ialsga2V5IF07DQogICAgICAgICAgICAgICAgdmFsICYmIChuZXdPYmpbIGtleSBdID0gdmFsKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIG5ld09iajsNCg0KICAgIH0NCg0KICAgIC8v6L655qGG5ouW5YqoDQogICAgZnVuY3Rpb24gdGFibGVCb3JkZXJEcmFnKCBldnQgKSB7DQoNCiAgICAgICAgaXNJblJlc2l6ZUJ1ZmZlciA9IGZhbHNlOw0KDQogICAgICAgIGlmKCAhc3RhcnRUZCApIHJldHVybjsNCiAgICAgICAgdmFyIHN0YXRlID0gTWF0aC5hYnMoIHVzZXJBY3Rpb25TdGF0dXMueCAtIGV2dC5jbGllbnRYICkgPj0gTWF0aC5hYnMoIHVzZXJBY3Rpb25TdGF0dXMueSAtIGV2dC5jbGllbnRZICkgPyAnaCcgOiAndic7DQovLyAgICAgICAgdmFyIHN0YXRlID0gZ2V0UmVsYXRpb24oc3RhcnRUZCwgbW91c2VDb29yZHMoZXZ0KSk7DQogICAgICAgIGlmICgvXGQvLnRlc3Qoc3RhdGUpKSB7DQogICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLnJlcGxhY2UoL1xkLywgJycpOw0KICAgICAgICAgICAgc3RhcnRUZCA9IGdldFVFVGFibGUoc3RhcnRUZCkuZ2V0UHJldmlld0NlbGwoc3RhcnRUZCwgc3RhdGUgPT0gJ3YnKTsNCiAgICAgICAgfQ0KICAgICAgICBoaWRlRHJhZ0xpbmUobWUpOw0KICAgICAgICBnZXREcmFnTGluZShtZSwgbWUuZG9jdW1lbnQpOw0KICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgICAgICBzaG93RHJhZ0xpbmVBdChzdGF0ZSwgc3RhcnRUZCk7DQogICAgICAgIG1vdXNlZG93biA9IHRydWU7DQogICAgICAgIC8v5ouW5Yqo5byA5aeLDQogICAgICAgIG9uRHJhZyA9IHN0YXRlOw0KICAgICAgICBkcmFnVGQgPSBzdGFydFRkOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIG1vdXNlVXBFdmVudCh0eXBlLCBldnQpIHsNCg0KICAgICAgICBpZiggaXNFZGl0b3JEaXNhYmxlZCgpICkgew0KICAgICAgICAgICAgcmV0dXJuIDsNCiAgICAgICAgfQ0KDQogICAgICAgIGNsZWFyVGFibGVEcmFnVGltZXIoKTsNCg0KICAgICAgICBpc0luUmVzaXplQnVmZmVyID0gZmFsc2U7DQoNCiAgICAgICAgaWYoIG9uQm9yZGVyICkgew0KICAgICAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9ICsrc2luZ2xlQ2xpY2tTdGF0ZSAlIDM7DQoNCiAgICAgICAgICAgIHVzZXJBY3Rpb25TdGF0dXMgPSB7DQogICAgICAgICAgICAgICAgeDogZXZ0LmNsaWVudFgsDQogICAgICAgICAgICAgICAgeTogZXZ0LmNsaWVudFkNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIHRhYmxlUmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA+IDAgJiYgc2luZ2xlQ2xpY2tTdGF0ZS0tOw0KICAgICAgICAgICAgfSwgZGJsY2xpY2tUaW1lICk7DQoNCiAgICAgICAgICAgIGlmKCBzaW5nbGVDbGlja1N0YXRlID09PSAyICkgew0KDQogICAgICAgICAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9IDA7DQogICAgICAgICAgICAgICAgdGFibGVEYmNsaWNrSGFuZGxlcihldnQpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCg0KICAgICAgICBpZiAoZXZ0LmJ1dHRvbiA9PSAyKXJldHVybjsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgLy/muIXpmaTooajmoLzkuIrljp/nlJ/ot6jpgInpl67popgNCiAgICAgICAgdmFyIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICBzdGFydCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsICd0YWJsZScsIHRydWUpLA0KICAgICAgICAgICAgZW5kID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5lbmRDb250YWluZXIsICd0YWJsZScsIHRydWUpOw0KDQogICAgICAgIGlmIChzdGFydCB8fCBlbmQpIHsNCiAgICAgICAgICAgIGlmIChzdGFydCA9PT0gZW5kKSB7DQogICAgICAgICAgICAgICAgc3RhcnQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCBbJ3RkJywgJ3RoJywgJ2NhcHRpb24nXSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgZW5kID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5lbmRDb250YWluZXIsIFsndGQnLCAndGgnLCAnY2FwdGlvbiddLCB0cnVlKTsNCiAgICAgICAgICAgICAgICBpZiAoc3RhcnQgIT09IGVuZCkgew0KICAgICAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uY2xlYXJSYW5nZSgpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBtZS5zZWxlY3Rpb24uY2xlYXJSYW5nZSgpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgbW91c2Vkb3duID0gZmFsc2U7DQogICAgICAgIG1lLmRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VXNlclNlbGVjdCA9ICcnOw0KICAgICAgICAvL+aLluaLveeKtuaAgeS4i+eahG1vdXNlVVANCiAgICAgICAgaWYgKCBvbkRyYWcgJiYgZHJhZ1RkICkgew0KDQogICAgICAgICAgICBtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKClbYnJvd3Nlci5pZTliZWxvdyA/ICdlbXB0eScgOiAncmVtb3ZlQWxsUmFuZ2VzJ10oKTsNCg0KICAgICAgICAgICAgc2luZ2xlQ2xpY2tTdGF0ZSA9IDA7DQogICAgICAgICAgICBkcmFnTGluZSA9IG1lLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1ZV90YWJsZURyYWdMaW5lJyk7DQoNCiAgICAgICAgICAgIHZhciBkcmFnVGRQb3MgPSBkb21VdGlscy5nZXRYWShkcmFnVGQpLA0KICAgICAgICAgICAgICAgIGRyYWdMaW5lUG9zID0gZG9tVXRpbHMuZ2V0WFkoZHJhZ0xpbmUpOw0KDQogICAgICAgICAgICBzd2l0Y2ggKG9uRHJhZykgew0KICAgICAgICAgICAgICAgIGNhc2UgImgiOg0KICAgICAgICAgICAgICAgICAgICBjaGFuZ2VDb2xXaWR0aChkcmFnVGQsIGRyYWdMaW5lUG9zLnggLSBkcmFnVGRQb3MueCk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgInYiOg0KICAgICAgICAgICAgICAgICAgICBjaGFuZ2VSb3dIZWlnaHQoZHJhZ1RkLCBkcmFnTGluZVBvcy55IC0gZHJhZ1RkUG9zLnkgLSBkcmFnVGQub2Zmc2V0SGVpZ2h0KTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9uRHJhZyA9ICIiOw0KICAgICAgICAgICAgZHJhZ1RkID0gbnVsbDsNCg0KICAgICAgICAgICAgaGlkZURyYWdMaW5lKG1lKTsNCiAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgLy/mraPluLjnirbmgIHkuIvnmoRtb3VzZXVwDQogICAgICAgIGlmICghc3RhcnRUZCkgew0KICAgICAgICAgICAgdmFyIHRhcmdldCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudCwgInRkIiwgdHJ1ZSk7DQogICAgICAgICAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50LCAidGgiLCB0cnVlKTsNCiAgICAgICAgICAgIGlmICh0YXJnZXQgJiYgKHRhcmdldC50YWdOYW1lID09ICJURCIgfHwgdGFyZ2V0LnRhZ05hbWUgPT0gIlRIIikpIHsNCiAgICAgICAgICAgICAgICBpZiAobWUuZmlyZUV2ZW50KCJleGNsdWRldGFibGUiLCB0YXJnZXQpID09PSB0cnVlKSByZXR1cm47DQogICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50KTsNCiAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydCh0YXJnZXQsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKHN0YXJ0VGQpLA0KICAgICAgICAgICAgICAgIGNlbGwgPSB1dCA/IHV0LnNlbGVjdGVkVGRzWzBdIDogbnVsbDsNCiAgICAgICAgICAgIGlmIChjZWxsKSB7DQogICAgICAgICAgICAgICAgcmFuZ2UgPSBuZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50KTsNCiAgICAgICAgICAgICAgICBpZiAoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGNlbGwpKSB7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGNlbGwsIDApLnNldEN1cnNvcihmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGNlbGwpLnNocmlua0JvdW5kYXJ5KCkuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2hyaW5rQm91bmRhcnkoKTsNCiAgICAgICAgICAgICAgICBpZiAoIXJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCBbJ3RkJywgJ3RoJ10sIHRydWUpLA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5lbmRDb250YWluZXIsIFsndGQnLCAndGgnXSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIC8v5ZyodGFibGXph4zovrnnmoTkuI3og73muIXpmaQNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0ICYmICFlbmQgfHwgIXN0YXJ0ICYmIGVuZCB8fCBzdGFydCAmJiBlbmQgJiYgc3RhcnQgIT09IGVuZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0Q3Vyc29yKGZhbHNlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHN0YXJ0VGQgPSBudWxsOw0KICAgICAgICAgICAgbWUucmVtb3ZlTGlzdGVuZXIoJ21vdXNlb3ZlcicsIG1vdXNlT3ZlckV2ZW50KTsNCiAgICAgICAgfQ0KICAgICAgICBtZS5fc2VsZWN0aW9uQ2hhbmdlKDI1MCwgZXZ0KTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBtb3VzZU92ZXJFdmVudCh0eXBlLCBldnQpIHsNCg0KICAgICAgICBpZiggaXNFZGl0b3JEaXNhYmxlZCgpICkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgIHRhciA9IGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQ7DQogICAgICAgIGN1cnJlbnRUZCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUodGFyLCAidGQiLCB0cnVlKSB8fCBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRhciwgInRoIiwgdHJ1ZSk7DQogICAgICAgIC8v6ZyA6KaB5Yik5pat5Lik5LiqVETmmK/lkKbkvY3kuo7lkIzkuIDkuKrooajmoLzlhoUNCiAgICAgICAgaWYgKHN0YXJ0VGQgJiYgY3VycmVudFRkICYmDQogICAgICAgICAgICAoKHN0YXJ0VGQudGFnTmFtZSA9PSAiVEQiICYmIGN1cnJlbnRUZC50YWdOYW1lID09ICJURCIpIHx8IChzdGFydFRkLnRhZ05hbWUgPT0gIlRIIiAmJiBjdXJyZW50VGQudGFnTmFtZSA9PSAiVEgiKSkgJiYNCiAgICAgICAgICAgIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnRUZCwgJ3RhYmxlJykgPT0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjdXJyZW50VGQsICd0YWJsZScpKSB7DQogICAgICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKGN1cnJlbnRUZCk7DQogICAgICAgICAgICBpZiAoc3RhcnRUZCAhPSBjdXJyZW50VGQpIHsNCiAgICAgICAgICAgICAgICBtZS5kb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3QgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgbWUuc2VsZWN0aW9uLmdldE5hdGl2ZSgpW2Jyb3dzZXIuaWU5YmVsb3cgPyAnZW1wdHknIDogJ3JlbW92ZUFsbFJhbmdlcyddKCk7DQogICAgICAgICAgICAgICAgdmFyIHJhbmdlID0gdXQuZ2V0Q2VsbHNSYW5nZShzdGFydFRkLCBjdXJyZW50VGQpOw0KICAgICAgICAgICAgICAgIHV0LnNldFNlbGVjdGVkKHJhbmdlKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgbWUuZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0ID0gJyc7DQogICAgICAgICAgICAgICAgdXQuY2xlYXJTZWxlY3RlZCgpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0ID8gZXZ0LnByZXZlbnREZWZhdWx0KCkgOiAoZXZ0LnJldHVyblZhbHVlID0gZmFsc2UpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNldENlbGxIZWlnaHQoY2VsbCwgaGVpZ2h0LCBiYWNrSGVpZ2h0KSB7DQogICAgICAgIHZhciBsaW5lSGlnaHQgPSBwYXJzZUludChkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGNlbGwsICJsaW5lLWhlaWdodCIpLCAxMCksDQogICAgICAgICAgICB0bXBIZWlnaHQgPSBiYWNrSGVpZ2h0ICsgaGVpZ2h0Ow0KICAgICAgICBoZWlnaHQgPSB0bXBIZWlnaHQgPCBsaW5lSGlnaHQgPyBsaW5lSGlnaHQgOiB0bXBIZWlnaHQ7DQogICAgICAgIGlmIChjZWxsLnN0eWxlLmhlaWdodCkgY2VsbC5zdHlsZS5oZWlnaHQgPSAiIjsNCiAgICAgICAgY2VsbC5yb3dTcGFuID09IDEgPyBjZWxsLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwgaGVpZ2h0KSA6IChjZWxsLnJlbW92ZUF0dHJpYnV0ZSAmJiBjZWxsLnJlbW92ZUF0dHJpYnV0ZSgiaGVpZ2h0IikpOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFdpZHRoKGNlbGwpIHsNCiAgICAgICAgaWYgKCFjZWxsKXJldHVybiAwOw0KICAgICAgICByZXR1cm4gcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjZWxsLCAid2lkdGgiKSwgMTApOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNoYW5nZUNvbFdpZHRoKGNlbGwsIGNoYW5nZVZhbHVlKSB7DQoNCiAgICAgICAgdmFyIHV0ID0gZ2V0VUVUYWJsZShjZWxsKTsNCiAgICAgICAgaWYgKHV0KSB7DQoNCiAgICAgICAgICAgIC8v5qC55o2u5b2T5YmN56e75Yqo55qE6L655qGG6I635Y+W55u45YWz55qE5Y2V5YWD5qC8DQogICAgICAgICAgICB2YXIgdGFibGUgPSB1dC50YWJsZSwNCiAgICAgICAgICAgICAgICBjZWxscyA9IGdldENlbGxzQnlNb3ZlQm9yZGVyKCBjZWxsLCB0YWJsZSApOw0KDQogICAgICAgICAgICB0YWJsZS5zdHlsZS53aWR0aCA9ICIiOw0KICAgICAgICAgICAgdGFibGUucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpOw0KDQogICAgICAgICAgICAvL+S/ruato+aUueWPmOmHjw0KICAgICAgICAgICAgY2hhbmdlVmFsdWUgPSBjb3JyZWN0Q2hhbmdlVmFsdWUoIGNoYW5nZVZhbHVlLCBjZWxsLCBjZWxscyApOw0KDQogICAgICAgICAgICBpZiAoY2VsbC5uZXh0U2libGluZykgew0KDQogICAgICAgICAgICAgICAgdmFyIGk9MDsNCg0KICAgICAgICAgICAgICAgIHV0aWxzLmVhY2goIGNlbGxzLCBmdW5jdGlvbiggY2VsbEdyb3VwICl7DQoNCiAgICAgICAgICAgICAgICAgICAgY2VsbEdyb3VwLmxlZnQud2lkdGggPSAoK2NlbGxHcm91cC5sZWZ0LndpZHRoKStjaGFuZ2VWYWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgY2VsbEdyb3VwLnJpZ2h0ICYmICggY2VsbEdyb3VwLnJpZ2h0LndpZHRoID0gKCtjZWxsR3JvdXAucmlnaHQud2lkdGgpLWNoYW5nZVZhbHVlICk7DQoNCiAgICAgICAgICAgICAgICB9ICk7DQoNCiAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICB1dGlscy5lYWNoKCBjZWxscywgZnVuY3Rpb24oIGNlbGxHcm91cCApew0KICAgICAgICAgICAgICAgICAgICBjZWxsR3JvdXAubGVmdC53aWR0aCAtPSAtY2hhbmdlVmFsdWU7DQogICAgICAgICAgICAgICAgfSApOw0KDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGlzRWRpdG9yRGlzYWJsZWQoKSB7DQogICAgICAgIHJldHVybiBtZS5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9PT0gImZhbHNlIjsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBjaGFuZ2VSb3dIZWlnaHQodGQsIGNoYW5nZVZhbHVlKSB7DQogICAgICAgIGlmIChNYXRoLmFicyhjaGFuZ2VWYWx1ZSkgPCAxMCkgcmV0dXJuOw0KICAgICAgICB2YXIgdXQgPSBnZXRVRVRhYmxlKHRkKTsNCiAgICAgICAgaWYgKHV0KSB7DQogICAgICAgICAgICB2YXIgY2VsbHMgPSB1dC5nZXRTYW1lRW5kUG9zQ2VsbHModGQsICJ5IiksDQogICAgICAgICAgICAvL+Wkh+S7vemcgOimgei/nuW4puWPmOWMlueahHRk55qE5Y6f5aeL6auY5bqm77yM5ZCm5YiZ5ZCO5pyf5peg5rOV6I635Y+W5q2j56Gu55qE5YC8DQogICAgICAgICAgICAgICAgYmFja0hlaWdodCA9IGNlbGxzWzBdID8gY2VsbHNbMF0ub2Zmc2V0SGVpZ2h0IDogMDsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjZWxsOyBjZWxsID0gY2VsbHNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBzZXRDZWxsSGVpZ2h0KGNlbGwsIGNoYW5nZVZhbHVlLCBiYWNrSGVpZ2h0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgfQ0KDQogICAgLyoqDQogICAgICog6I635Y+W6LCD5pW05Y2V5YWD5qC85aSn5bCP55qE55u45YWz5Y2V5YWD5qC8DQogICAgICogQGlzQ29udGFpbk1lcmdlQ2VsbCDov5Tlm57nmoTnu5PmnpzkuK3mmK/lkKbljIXlkKvlj5HnlJ/lkIjlubblkI7nmoTljZXlhYPmoLwNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRDZWxsc0J5TW92ZUJvcmRlciggY2VsbCwgdGFibGUsIGlzQ29udGFpbk1lcmdlQ2VsbCApIHsNCg0KICAgICAgICBpZiggIXRhYmxlICkgew0KICAgICAgICAgICAgdGFibGUgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKCBjZWxsLCAndGFibGUnICk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiggIXRhYmxlICkgew0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0NCg0KICAgICAgICAvL+iOt+WPluWIsOivpeWNleWFg+agvOaJgOWcqOihjOeahOW6j+WIl+WPtw0KICAgICAgICB2YXIgaW5kZXggPSBkb21VdGlscy5nZXROb2RlSW5kZXgoIGNlbGwgKSwNCiAgICAgICAgICAgIHRlbXAgPSBjZWxsLA0KICAgICAgICAgICAgcm93cyA9IHRhYmxlLnJvd3MsDQogICAgICAgICAgICBjb2xJbmRleCA9IDA7DQoNCiAgICAgICAgd2hpbGUoIHRlbXAgKSB7DQogICAgICAgICAgICAvL+iOt+WPluWIsOW9k+WJjeWNleWFg+agvOWcqOacquWPkeeUn+WNleWFg+agvOWQiOW5tuaXtueahOW6j+WIlw0KICAgICAgICAgICAgaWYoIHRlbXAubm9kZVR5cGUgPT09IDEgKSB7DQogICAgICAgICAgICAgICAgY29sSW5kZXggKz0gKHRlbXAuY29sU3BhbiB8fCAxKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRlbXAgPSB0ZW1wLnByZXZpb3VzU2libGluZzsNCiAgICAgICAgfQ0KDQogICAgICAgIHRlbXAgPSBudWxsOw0KDQogICAgICAgIC8v6K6w5b2V5oOz5YWz55qE5Y2V5YWD5qC8DQogICAgICAgIHZhciBib3JkZXJDZWxscyA9IFtdOw0KDQogICAgICAgIHV0aWxzLmVhY2gocm93cywgZnVuY3Rpb24oIHRhYlJvdyApew0KDQogICAgICAgICAgICB2YXIgY2VsbHMgPSB0YWJSb3cuY2VsbHMsDQogICAgICAgICAgICAgICAgY3VyckluZGV4ID0gMDsNCg0KICAgICAgICAgICAgdXRpbHMuZWFjaCggY2VsbHMsIGZ1bmN0aW9uKCB0YWJDZWxsICl7DQoNCiAgICAgICAgICAgICAgICBjdXJySW5kZXggKz0gKHRhYkNlbGwuY29sU3BhbiB8fCAxKTsNCg0KICAgICAgICAgICAgICAgIGlmKCBjdXJySW5kZXggPT09IGNvbEluZGV4ICkgew0KDQogICAgICAgICAgICAgICAgICAgIGJvcmRlckNlbGxzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFiQ2VsbCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0YWJDZWxsLm5leHRTaWJsaW5nIHx8IG51bGwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBjdXJySW5kZXggPiBjb2xJbmRleCApIHsNCg0KICAgICAgICAgICAgICAgICAgICBpZiggaXNDb250YWluTWVyZ2VDZWxsICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ2VsbHMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGFiQ2VsbA0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KDQoNCiAgICAgICAgICAgIH0gKTsNCg0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gYm9yZGVyQ2VsbHM7DQoNCiAgICB9DQoNCg0KICAgIC8qKg0KICAgICAqIOmAmui/h+e7meWumueahOWNleWFg+agvOmbhuWQiOiOt+WPluacgOWwj+eahOWNleWFg+agvHdpZHRoDQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0TWluV2lkdGhCeVRhYmxlQ2VsbHMoIGNlbGxzICkgew0KDQogICAgICAgIHZhciBtaW5XaWR0aCA9IE51bWJlci5NQVhfVkFMVUU7DQoNCiAgICAgICAgZm9yKCB2YXIgaSA9IDAsIGN1ckNlbGw7IGN1ckNlbGwgPSBjZWxsc1sgaSBdIDsgaSsrICkgew0KDQogICAgICAgICAgICBtaW5XaWR0aCA9IE1hdGgubWluKCBtaW5XaWR0aCwgY3VyQ2VsbC53aWR0aCB8fCBnZXRUYWJsZUNlbGxXaWR0aCggY3VyQ2VsbCApICk7DQoNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBtaW5XaWR0aDsNCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGNvcnJlY3RDaGFuZ2VWYWx1ZSggY2hhbmdlVmFsdWUsIHJlbGF0ZWRDZWxsLCBjZWxscyApIHsNCg0KICAgICAgICAvL+S4uuWNleWFg+agvOeahHBhYWRpbmfpooTnlZnnqbrpl7QNCiAgICAgICAgY2hhbmdlVmFsdWUgLT0gZ2V0VGFiY2VsbFNwYWNlKCk7DQoNCiAgICAgICAgaWYoIGNoYW5nZVZhbHVlIDwgMCApIHsNCiAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICB9DQoNCiAgICAgICAgY2hhbmdlVmFsdWUgLT0gZ2V0VGFibGVDZWxsV2lkdGgoIHJlbGF0ZWRDZWxsICk7DQoNCiAgICAgICAgLy/noa7lrprmlrnlkJENCiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGNoYW5nZVZhbHVlIDwgMCA/ICdsZWZ0JzoncmlnaHQnOw0KDQogICAgICAgIGNoYW5nZVZhbHVlID0gTWF0aC5hYnMoY2hhbmdlVmFsdWUpOw0KDQogICAgICAgIC8v5Y+q5YWz5b+D6Z2e5pyA5ZCO5LiA5Liq5Y2V5YWD5qC85bCx5Y+v5LulDQogICAgICAgIHV0aWxzLmVhY2goIGNlbGxzLCBmdW5jdGlvbiggY2VsbEdyb3VwICl7DQoNCiAgICAgICAgICAgIHZhciBjdXJDZWxsID0gY2VsbEdyb3VwW2RpcmVjdGlvbl07DQoNCiAgICAgICAgICAgIC8v5Li65Y2V5YWD5qC85L+d55WZ5pyA5bCP56m66Ze0DQogICAgICAgICAgICBpZiggY3VyQ2VsbCApIHsNCiAgICAgICAgICAgICAgICBjaGFuZ2VWYWx1ZSA9IE1hdGgubWluKCBjaGFuZ2VWYWx1ZSwgZ2V0VGFibGVDZWxsV2lkdGgoIGN1ckNlbGwgKS1jZWxsTWluV2lkdGggKTsNCiAgICAgICAgICAgIH0NCg0KDQogICAgICAgIH0gKTsNCg0KDQogICAgICAgIC8v5L+u5q2j6LaK55WMDQogICAgICAgIGNoYW5nZVZhbHVlID0gY2hhbmdlVmFsdWUgPCAwID8gMCA6IGNoYW5nZVZhbHVlOw0KDQogICAgICAgIHJldHVybiBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IC1jaGFuZ2VWYWx1ZSA6IGNoYW5nZVZhbHVlOw0KDQogICAgfQ0KDQogICAgZnVuY3Rpb24gZ2V0VGFibGVDZWxsV2lkdGgoIGNlbGwgKSB7DQoNCiAgICAgICAgdmFyIHdpZHRoID0gMCwNCiAgICAgICAgICAgIC8v5YGP56e757qg5q2j6YePDQogICAgICAgICAgICBvZmZzZXQgPSAwLA0KICAgICAgICAgICAgd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoIC0gZ2V0VGFiY2VsbFNwYWNlKCk7DQoNCiAgICAgICAgLy/mnIDlkI7kuIDkuKroioLngrnnuqDmraPkuIDkuIsNCiAgICAgICAgaWYoICFjZWxsLm5leHRTaWJsaW5nICkgew0KDQogICAgICAgICAgICB3aWR0aCAtPSBnZXRUYWJsZUNlbGxPZmZzZXQoIGNlbGwgKTsNCg0KICAgICAgICB9DQoNCiAgICAgICAgd2lkdGggPSB3aWR0aCA8IDAgPyAwIDogd2lkdGg7DQoNCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIGNlbGwud2lkdGggPSB3aWR0aDsNCiAgICAgICAgfSBjYXRjaChlKSB7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gd2lkdGg7DQoNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDojrflj5bljZXlhYPmoLzmiYDlnKjooajmoLznmoTmnIDmnKvljZXlhYPmoLznmoTlgY/np7vph48NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBnZXRUYWJsZUNlbGxPZmZzZXQoIGNlbGwgKSB7DQoNCiAgICAgICAgdGFiID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSggY2VsbCwgInRhYmxlIiwgZmFsc2UpOw0KDQogICAgICAgIGlmKCB0YWIub2Zmc2V0VmFsID09PSB1bmRlZmluZWQgKSB7DQoNCiAgICAgICAgICAgIHZhciBwcmV2ID0gY2VsbC5wcmV2aW91c1NpYmxpbmc7DQoNCiAgICAgICAgICAgIGlmKCBwcmV2ICkgew0KDQogICAgICAgICAgICAgICAgLy/mnIDlkI7kuIDkuKrljZXlhYPmoLzlkozliY3kuIDkuKrljZXlhYPmoLznmoR3aWR0aCBkaWZm57uT5p6cIOWmguaenOaBsOWlveS4uuS4gOS4qmJvcmRlciB3aWR0aO+8jCDliJnmnaHku7bmiJDnq4sNCiAgICAgICAgICAgICAgICB0YWIub2Zmc2V0VmFsID0gY2VsbC5vZmZzZXRXaWR0aCAtIHByZXYub2Zmc2V0V2lkdGggPT09IFVULmJvcmRlcldpZHRoID8gVVQuYm9yZGVyV2lkdGggOiAwOw0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRhYi5vZmZzZXRWYWwgPSAwOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gdGFiLm9mZnNldFZhbDsNCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFRhYmNlbGxTcGFjZSgpIHsNCg0KICAgICAgICBpZiggVVQudGFiY2VsbFNwYWNlID09PSB1bmRlZmluZWQgKSB7DQoNCiAgICAgICAgICAgIHZhciBjZWxsID0gbnVsbCwNCiAgICAgICAgICAgICAgICB0YWIgPSBtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0YWJsZSIpLA0KICAgICAgICAgICAgICAgIHRib2R5ID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSwNCiAgICAgICAgICAgICAgICB0cm93ID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKSwNCiAgICAgICAgICAgICAgICB0YWJjZWxsID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKSwNCiAgICAgICAgICAgICAgICBtaXJyb3IgPSBudWxsOw0KDQogICAgICAgICAgICB0YWJjZWxsLnN0eWxlLmNzc1RleHQgPSAnYm9yZGVyOiAwOyc7DQogICAgICAgICAgICB0YWJjZWxsLndpZHRoID0gMTsNCg0KICAgICAgICAgICAgdHJvdy5hcHBlbmRDaGlsZCggdGFiY2VsbCApOw0KICAgICAgICAgICAgdHJvdy5hcHBlbmRDaGlsZCggbWlycm9yID0gdGFiY2VsbC5jbG9uZU5vZGUoIGZhbHNlICkgKTsNCg0KICAgICAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQoIHRyb3cgKTsNCg0KICAgICAgICAgICAgdGFiLmFwcGVuZENoaWxkKCB0Ym9keSApOw0KDQogICAgICAgICAgICB0YWIuc3R5bGUuY3NzVGV4dCA9ICJ2aXNpYmlsaXR5OiBoaWRkZW47IjsNCg0KICAgICAgICAgICAgbWUuYm9keS5hcHBlbmRDaGlsZCggdGFiICk7DQoNCiAgICAgICAgICAgIFVULnBhZGRpbmdTcGFjZSA9IHRhYmNlbGwub2Zmc2V0V2lkdGggLSAxOw0KDQogICAgICAgICAgICB2YXIgdG1wVGFiV2lkdGggPSB0YWIub2Zmc2V0V2lkdGg7DQoNCiAgICAgICAgICAgIHRhYmNlbGwuc3R5bGUuY3NzVGV4dCA9ICcnOw0KICAgICAgICAgICAgbWlycm9yLnN0eWxlLmNzc1RleHQgPSAnJzsNCg0KICAgICAgICAgICAgVVQuYm9yZGVyV2lkdGggPSAoIHRhYi5vZmZzZXRXaWR0aCAtIHRtcFRhYldpZHRoICkgLyAzOw0KDQogICAgICAgICAgICBVVC50YWJjZWxsU3BhY2UgPSBVVC5wYWRkaW5nU3BhY2UgKyBVVC5ib3JkZXJXaWR0aDsNCg0KICAgICAgICAgICAgbWUuYm9keS5yZW1vdmVDaGlsZCggdGFiICk7DQoNCiAgICAgICAgfQ0KDQogICAgICAgIGdldFRhYmNlbGxTcGFjZSA9IGZ1bmN0aW9uKCl7IHJldHVybiBVVC50YWJjZWxsU3BhY2U7IH07DQoNCiAgICAgICAgcmV0dXJuIFVULnRhYmNlbGxTcGFjZTsNCg0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldERyYWdMaW5lKGVkaXRvciwgZG9jKSB7DQogICAgICAgIGlmIChtb3VzZWRvd24pcmV0dXJuOw0KICAgICAgICBkcmFnTGluZSA9IGVkaXRvci5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhkcmFnTGluZSwgew0KICAgICAgICAgICAgaWQ6InVlX3RhYmxlRHJhZ0xpbmUiLA0KICAgICAgICAgICAgdW5zZWxlY3RhYmxlOidvbicsDQogICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6ZmFsc2UsDQogICAgICAgICAgICAnb25yZXNpemVzdGFydCc6J3JldHVybiBmYWxzZScsDQogICAgICAgICAgICAnb25kcmFnc3RhcnQnOidyZXR1cm4gZmFsc2UnLA0KICAgICAgICAgICAgJ29uc2VsZWN0c3RhcnQnOidyZXR1cm4gZmFsc2UnLA0KICAgICAgICAgICAgc3R5bGU6ImJhY2tncm91bmQtY29sb3I6Ymx1ZTtwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nOjA7bWFyZ2luOjA7YmFja2dyb3VuZC1pbWFnZTpub25lO2JvcmRlcjowcHggbm9uZTtvcGFjaXR5OjA7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MCkiDQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3IuYm9keS5hcHBlbmRDaGlsZChkcmFnTGluZSk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gaGlkZURyYWdMaW5lKGVkaXRvcikgew0KICAgICAgICBpZiAobW91c2Vkb3duKXJldHVybjsNCiAgICAgICAgdmFyIGxpbmU7DQogICAgICAgIHdoaWxlIChsaW5lID0gZWRpdG9yLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1ZV90YWJsZURyYWdMaW5lJykpIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShsaW5lKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5L6d5o2uc3RhdGXvvIh2fGjvvInlnKhjZWxs5L2N572u5pi+56S65qiq57q/DQogICAgICogQHBhcmFtIHN0YXRlDQogICAgICogQHBhcmFtIGNlbGwNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzaG93RHJhZ0xpbmVBdChzdGF0ZSwgY2VsbCkgew0KICAgICAgICBpZiAoIWNlbGwpIHJldHVybjsNCiAgICAgICAgdmFyIHRhYmxlID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjZWxsLCAidGFibGUiKSwNCiAgICAgICAgICAgIGNhcHRpb24gPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2FwdGlvbicpLA0KICAgICAgICAgICAgd2lkdGggPSB0YWJsZS5vZmZzZXRXaWR0aCwNCiAgICAgICAgICAgIGhlaWdodCA9IHRhYmxlLm9mZnNldEhlaWdodCAtIChjYXB0aW9uLmxlbmd0aCA+IDAgPyBjYXB0aW9uWzBdLm9mZnNldEhlaWdodCA6IDApLA0KICAgICAgICAgICAgdGFibGVQb3MgPSBkb21VdGlscy5nZXRYWSh0YWJsZSksDQogICAgICAgICAgICBjZWxsUG9zID0gZG9tVXRpbHMuZ2V0WFkoY2VsbCksIGNzczsNCiAgICAgICAgc3dpdGNoIChzdGF0ZSkgew0KICAgICAgICAgICAgY2FzZSAiaCI6DQogICAgICAgICAgICAgICAgY3NzID0gJ2hlaWdodDonICsgaGVpZ2h0ICsgJ3B4O3RvcDonICsgKHRhYmxlUG9zLnkgKyAoY2FwdGlvbi5sZW5ndGggPiAwID8gY2FwdGlvblswXS5vZmZzZXRIZWlnaHQgOiAwKSkgKyAncHg7bGVmdDonICsgKGNlbGxQb3MueCArIGNlbGwub2Zmc2V0V2lkdGgpOw0KICAgICAgICAgICAgICAgIGRyYWdMaW5lLnN0eWxlLmNzc1RleHQgPSBjc3MgKyAncHg7cG9zaXRpb246IGFic29sdXRlO2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjpibHVlO3dpZHRoOjFweDtib3JkZXI6MDsgY29sb3I6Ymx1ZTtvcGFjaXR5Oi4zO2ZpbHRlcjphbHBoYShvcGFjaXR5PTMwKSc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICJ2IjoNCiAgICAgICAgICAgICAgICBjc3MgPSAnd2lkdGg6JyArIHdpZHRoICsgJ3B4O2xlZnQ6JyArIHRhYmxlUG9zLnggKyAncHg7dG9wOicgKyAoY2VsbFBvcy55ICsgY2VsbC5vZmZzZXRIZWlnaHQgKTsNCiAgICAgICAgICAgICAgICAvL+W/hemhu+WKoOS4imJvcmRlcjow5ZKMY29sb3I6Ymx1Ze+8jOWQpuWImeS9jueJiGll5LiN5pSv5oyB6IOM5pmv6Imy5pi+56S6DQogICAgICAgICAgICAgICAgZHJhZ0xpbmUuc3R5bGUuY3NzVGV4dCA9IGNzcyArICdweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246IGFic29sdXRlO2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjpibHVlO2hlaWdodDoxcHg7Ym9yZGVyOjA7Y29sb3I6Ymx1ZTtvcGFjaXR5Oi4yO2ZpbHRlcjphbHBoYShvcGFjaXR5PTIwKSc7DQogICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5b2T6KGo5qC86L655qGG6aKc6Imy5Li655m96Imy5pe26K6+572u5Li66Jma57q/LHRydWXkuLrmt7vliqDomZrnur8NCiAgICAgKiBAcGFyYW0gZWRpdG9yDQogICAgICogQHBhcmFtIGZsYWcNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzd2l0Y2hCb3JkZXJDb2xvcihlZGl0b3IsIGZsYWcpIHsNCiAgICAgICAgdmFyIHRhYmxlQXJyID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZWRpdG9yLmJvZHksICJ0YWJsZSIpLCBjb2xvcjsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IG5vZGUgPSB0YWJsZUFycltpKytdOykgew0KICAgICAgICAgICAgdmFyIHRkID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZSwgInRkIik7DQogICAgICAgICAgICBpZiAodGRbMF0pIHsNCiAgICAgICAgICAgICAgICBpZiAoZmxhZykgew0KICAgICAgICAgICAgICAgICAgICBjb2xvciA9ICh0ZFswXS5zdHlsZS5ib3JkZXJDb2xvcikucmVwbGFjZSgvXHMvZywgIiIpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoLygjZmZmZmZmKXwocmdiXCgyNTUsMjU1LDI1NVwpKS9pZy50ZXN0KGNvbG9yKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKG5vZGUsICJub0JvcmRlclRhYmxlIikNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVDbGFzc2VzKG5vZGUsICJub0JvcmRlclRhYmxlIikNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIGdldFRhYmxlV2lkdGgoZWRpdG9yLCBuZWVkSUVIYWNrLCBkZWZhdWx0VmFsdWUpIHsNCiAgICAgICAgdmFyIGJvZHkgPSBlZGl0b3IuYm9keTsNCiAgICAgICAgcmV0dXJuIGJvZHkub2Zmc2V0V2lkdGggLSAobmVlZElFSGFjayA/IHBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoYm9keSwgJ21hcmdpbi1sZWZ0JyksIDEwKSAqIDIgOiAwKSAtIGRlZmF1bHRWYWx1ZS50YWJsZUJvcmRlciAqIDIgLSAoZWRpdG9yLm9wdGlvbnMub2Zmc2V0V2lkdGggfHwgMCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog6I635Y+W5b2T5YmN5ouW5Yqo55qE5Y2V5YWD5qC8DQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0VGFyZ2V0VGQoZWRpdG9yLCBldnQpIHsNCg0KICAgICAgICB2YXIgdGFyZ2V0ID0gZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50LCBbInRkIiwgInRoIl0sIHRydWUpLA0KICAgICAgICAgICAgZGlyID0gbnVsbDsNCg0KICAgICAgICBpZiggIXRhcmdldCApIHsNCiAgICAgICAgICAgIHJldHVybiBudWxsOw0KICAgICAgICB9DQoNCiAgICAgICAgZGlyID0gZ2V0UmVsYXRpb24oIHRhcmdldCwgbW91c2VDb29yZHMoIGV2dCApICk7DQoNCiAgICAgICAgLy/lpoLmnpzmnInliY3kuIDkuKroioLngrnvvIwg6ZyA6KaB5YGa5LiA5Liq5L+u5q2j77yMIOWQpuWImeWPr+iDveS8muW+l+WIsOS4gOS4qumUmeivr+eahHRkDQoNCiAgICAgICAgaWYoICF0YXJnZXQgKSB7DQogICAgICAgICAgICByZXR1cm4gbnVsbDsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmKCBkaXIgPT09ICdoMScgJiYgdGFyZ2V0LnByZXZpb3VzU2libGluZyApIHsNCg0KICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZG9tVXRpbHMuZ2V0WFkoIHRhcmdldCksDQogICAgICAgICAgICAgICAgY2VsbFdpZHRoID0gdGFyZ2V0Lm9mZnNldFdpZHRoOw0KDQogICAgICAgICAgICBpZiggTWF0aC5hYnMoIHBvc2l0aW9uLnggKyBjZWxsV2lkdGggLSBldnQuY2xpZW50WCApID4gY2VsbFdpZHRoIC8gMyApIHsNCiAgICAgICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucHJldmlvdXNTaWJsaW5nOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0gZWxzZSBpZiggZGlyID09PSAndjEnICYmIHRhcmdldC5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZyApIHsNCg0KICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZG9tVXRpbHMuZ2V0WFkoIHRhcmdldCksDQogICAgICAgICAgICAgICAgY2VsbEhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQ7DQoNCiAgICAgICAgICAgIGlmKCBNYXRoLmFicyggcG9zaXRpb24ueSArIGNlbGxIZWlnaHQgLSBldnQuY2xpZW50WSApID4gY2VsbEhlaWdodCAvIDMgKSB7DQogICAgICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGUucHJldmlvdXNTaWJsaW5nLmZpcnN0Q2hpbGQ7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KDQoNCiAgICAgICAgLy/mjpLpmaTkuobpnZ50ZOWGhemDqOS7peWPiueUqOS6juS7o+eggemrmOS6rumDqOWIhueahHRkDQogICAgICAgIHJldHVybiB0YXJnZXQgJiYgIShlZGl0b3IuZmlyZUV2ZW50KCJleGNsdWRldGFibGUiLCB0YXJnZXQpID09PSB0cnVlKSA/IHRhcmdldCA6IG51bGw7DQogICAgfQ0KDQp9Ow0KDQovKioKICogQ3JlYXRlZCB3aXRoIEpldEJyYWlucyBQaHBTdG9ybS4KICogVXNlcjogSmlucW4KICogRGF0ZTogMTMtMTAtMTIKICogVGltZTog5LiK5Y2IMTA6MjAKICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUgdXNlIEZpbGUgfCBTZXR0aW5ncyB8IEZpbGUgVGVtcGxhdGVzLgogKi8KClVFLlVFVGFibGUucHJvdG90eXBlLnNvcnRUYWJsZSA9IGZ1bmN0aW9uIChzb3J0QnlDZWxsSW5kZXgsIGNvbXBhcmVGbikgewogICAgdmFyIHRhYmxlID0gdGhpcy50YWJsZSwKICAgICAgICByb3dzID0gdGFibGUucm93cywKICAgICAgICB0ckFycmF5ID0gW10sCiAgICAgICAgZmxhZyA9IHJvd3NbMF0uY2VsbHNbMF0udGFnTmFtZSA9PT0gIlRIIiwKICAgICAgICBsYXN0Um93SW5kZXggPSAwOwogICAgaWYodGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgpewogICAgICAgIHZhciByYW5nZSA9IHRoaXMuY2VsbHNSYW5nZSwKICAgICAgICAgICAgbGVuID0gcmFuZ2UuZW5kUm93SW5kZXggKyAxOwogICAgICAgIGZvciAodmFyIGkgPSByYW5nZS5iZWdpblJvd0luZGV4OyBpIDwgbGVuOyBpKyspIHsKICAgICAgICAgICAgdHJBcnJheVtpXSA9IHJvd3NbaV07CiAgICAgICAgfQogICAgICAgIHRyQXJyYXkuc3BsaWNlKDAscmFuZ2UuYmVnaW5Sb3dJbmRleCk7CiAgICAgICAgbGFzdFJvd0luZGV4ID0gKHJhbmdlLmVuZFJvd0luZGV4ICsxKSA9PT0gdGhpcy5yb3dzTnVtID8gMCA6IHJhbmdlLmVuZFJvd0luZGV4ICsxOwogICAgfWVsc2V7CiAgICAgICAgZm9yICh2YXIgaSA9IDAsbGVuID0gcm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICB0ckFycmF5W2ldID0gcm93c1tpXTsKICAgICAgICB9CiAgICB9CgogICAgdmFyIEZuID0gewogICAgICAgICdyZXZlcnNlY3VycmVudCc6IGZ1bmN0aW9uKHRkMSx0ZDIpewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9LAogICAgICAgICdvcmRlcmJ5YXNjJzogZnVuY3Rpb24odGQxLHRkMil7CiAgICAgICAgICAgIHZhciB2YWx1ZTEgPSB0ZDEuaW5uZXJUZXh0fHx0ZDEudGV4dENvbnRlbnQsCiAgICAgICAgICAgICAgICB2YWx1ZTIgPSB0ZDIuaW5uZXJUZXh0fHx0ZDIudGV4dENvbnRlbnQ7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTEubG9jYWxlQ29tcGFyZSh2YWx1ZTIpOwogICAgICAgIH0sCiAgICAgICAgJ3JldmVyc2VieWFzYyc6IGZ1bmN0aW9uKHRkMSx0ZDIpewogICAgICAgICAgICB2YXIgdmFsdWUxID0gdGQxLmlubmVySFRNTCwKICAgICAgICAgICAgICAgIHZhbHVlMiA9IHRkMi5pbm5lckhUTUw7CiAgICAgICAgICAgIHJldHVybiB2YWx1ZTIubG9jYWxlQ29tcGFyZSh2YWx1ZTEpOwogICAgICAgIH0sCiAgICAgICAgJ29yZGVyYnludW0nOiBmdW5jdGlvbih0ZDEsdGQyKXsKICAgICAgICAgICAgdmFyIHZhbHVlMSA9IHRkMVticm93c2VyLmllID8gJ2lubmVyVGV4dCc6J3RleHRDb250ZW50J10ubWF0Y2goL1xkKy8pLAogICAgICAgICAgICAgICAgdmFsdWUyID0gdGQyW2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JzondGV4dENvbnRlbnQnXS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIGlmKHZhbHVlMSkgdmFsdWUxID0gK3ZhbHVlMVswXTsKICAgICAgICAgICAgaWYodmFsdWUyKSB2YWx1ZTIgPSArdmFsdWUyWzBdOwogICAgICAgICAgICByZXR1cm4gKHZhbHVlMXx8MCkgLSAodmFsdWUyfHwwKTsKICAgICAgICB9LAogICAgICAgICdyZXZlcnNlYnludW0nOiBmdW5jdGlvbih0ZDEsdGQyKXsKICAgICAgICAgICAgdmFyIHZhbHVlMSA9IHRkMVticm93c2VyLmllID8gJ2lubmVyVGV4dCc6J3RleHRDb250ZW50J10ubWF0Y2goL1xkKy8pLAogICAgICAgICAgICAgICAgdmFsdWUyID0gdGQyW2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JzondGV4dENvbnRlbnQnXS5tYXRjaCgvXGQrLyk7CiAgICAgICAgICAgIGlmKHZhbHVlMSkgdmFsdWUxID0gK3ZhbHVlMVswXTsKICAgICAgICAgICAgaWYodmFsdWUyKSB2YWx1ZTIgPSArdmFsdWUyWzBdOwogICAgICAgICAgICByZXR1cm4gKHZhbHVlMnx8MCkgLSAodmFsdWUxfHwwKTsKICAgICAgICB9CiAgICB9OwoKICAgIC8v5a+56KGo5qC86K6+572u5o6S5bqP55qE5qCH6K6wZGF0YS1zb3J0LXR5cGUKICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgnZGF0YS1zb3J0LXR5cGUnLCBjb21wYXJlRm4gJiYgdHlwZW9mIGNvbXBhcmVGbiA9PT0gInN0cmluZyIgJiYgRm5bY29tcGFyZUZuXSA/IGNvbXBhcmVGbjonJyk7CgogICAgLy90aOS4jeWPguS4juaOkuW6jwogICAgZmxhZyAmJiB0ckFycmF5LnNwbGljZSgwLCAxKTsKICAgIHRyQXJyYXkgPSB1dGlscy5zb3J0KHRyQXJyYXksZnVuY3Rpb24gKHRyMSwgdHIyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKICAgICAgICBpZiAoY29tcGFyZUZuICYmIHR5cGVvZiBjb21wYXJlRm4gPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgICAgcmVzdWx0ID0gY29tcGFyZUZuLmNhbGwodGhpcywgdHIxLmNlbGxzW3NvcnRCeUNlbGxJbmRleF0sIHRyMi5jZWxsc1tzb3J0QnlDZWxsSW5kZXhdKTsKICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVGbiAmJiB0eXBlb2YgY29tcGFyZUZuID09PSAibnVtYmVyIikgewogICAgICAgICAgICByZXN1bHQgPSAxOwogICAgICAgIH0gZWxzZSBpZiAoY29tcGFyZUZuICYmIHR5cGVvZiBjb21wYXJlRm4gPT09ICJzdHJpbmciICYmIEZuW2NvbXBhcmVGbl0pIHsKICAgICAgICAgICAgcmVzdWx0ID0gRm5bY29tcGFyZUZuXS5jYWxsKHRoaXMsIHRyMS5jZWxsc1tzb3J0QnlDZWxsSW5kZXhdLCB0cjIuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVzdWx0ID0gRm5bJ29yZGVyYnlhc2MnXS5jYWxsKHRoaXMsIHRyMS5jZWxsc1tzb3J0QnlDZWxsSW5kZXhdLCB0cjIuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9KTsKICAgIHZhciBmcmFnbWVudCA9IHRhYmxlLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgZm9yICh2YXIgaiA9IDAsIGxlbiA9IHRyQXJyYXkubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHsKICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0ckFycmF5W2pdKTsKICAgIH0KICAgIHZhciB0Ym9keSA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdOwogICAgaWYoIWxhc3RSb3dJbmRleCl7CiAgICAgICAgdGJvZHkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpOwogICAgfWVsc2V7CiAgICAgICAgdGJvZHkuaW5zZXJ0QmVmb3JlKGZyYWdtZW50LHJvd3NbbGFzdFJvd0luZGV4LSByYW5nZS5lbmRSb3dJbmRleCArIHJhbmdlLmJlZ2luUm93SW5kZXggLSAxXSkKICAgIH0KfTsKClVFLnBsdWdpbnNbJ3RhYmxlc29ydCddID0gZnVuY3Rpb24gKCkgewogICAgdmFyIG1lID0gdGhpcywKICAgICAgICBVVCA9IFVFLlVFVGFibGUsCiAgICAgICAgZ2V0VUVUYWJsZSA9IGZ1bmN0aW9uICh0ZE9yVGFibGUpIHsKICAgICAgICAgICAgcmV0dXJuIFVULmdldFVFVGFibGUodGRPclRhYmxlKTsKICAgICAgICB9LAogICAgICAgIGdldFRhYmxlSXRlbXNCeVJhbmdlID0gZnVuY3Rpb24gKGVkaXRvcikgewogICAgICAgICAgICByZXR1cm4gVVQuZ2V0VGFibGVJdGVtc0J5UmFuZ2UoZWRpdG9yKTsKICAgICAgICB9OwoKCiAgICBtZS5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/mt7vliqDooajmoLzlj6/mjpLluo/nmoTmoLflvI8KICAgICAgICB1dGlscy5jc3NSdWxlKCd0YWJsZXNvcnQnLAogICAgICAgICAgICAndGFibGUuc29ydEVuYWJsZWQgdHIuZmlyc3RSb3cgdGgsdGFibGUuc29ydEVuYWJsZWQgdHIuZmlyc3RSb3cgdGR7cGFkZGluZy1yaWdodDoyMHB4O2JhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHJpZ2h0OycgKwogICAgICAgICAgICAgICAgJyAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBtZS5vcHRpb25zLnRoZW1lUGF0aCArIG1lLm9wdGlvbnMudGhlbWUgKyAnL2ltYWdlcy9zb3J0YWJsZS5wbmcpO30nLAogICAgICAgICAgICBtZS5kb2N1bWVudCk7CgogICAgICAgIC8v5YGa5Y2V5YWD5qC85ZCI5bm25pON5L2c5pe2LOa4hemZpOWPr+aOkuW6j+agh+ivhgogICAgICAgIG1lLmFkZExpc3RlbmVyKCJhZnRlcmV4ZWNjb21tYW5kIiwgZnVuY3Rpb24gKHR5cGUsIGNtZCkgewogICAgICAgICAgICBpZiggY21kID09ICdtZXJnZXJpZ2h0JyB8fCBjbWQgPT0gJ21lcmdlZG93bicgfHwgY21kID09ICdtZXJnZWNlbGxzJykgewogICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgnZGlzYWJsZXNvcnQnKTsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSk7CgoKCiAgICAvL+ihqOagvOaOkuW6jwogICAgVUUuY29tbWFuZHNbJ3NvcnR0YWJsZSddID0gewogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICAgICAgICB0YWJsZUl0ZW1zID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UobWUpOwogICAgICAgICAgICBpZiAoIXRhYmxlSXRlbXMuY2VsbCkgcmV0dXJuIC0xOwogICAgICAgICAgICB2YXIgdGFibGUgPSB0YWJsZUl0ZW1zLnRhYmxlLAogICAgICAgICAgICAgICAgY2VsbHMgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNlbGw7IGNlbGwgPSBjZWxsc1tpKytdOykgewogICAgICAgICAgICAgICAgaWYgKGNlbGwucm93U3BhbiAhPSAxIHx8IGNlbGwuY29sU3BhbiAhPSAxKSByZXR1cm4gLTE7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgfSwKICAgICAgICBleGVjQ29tbWFuZDogZnVuY3Rpb24gKGNtZCwgZm4pIHsKICAgICAgICAgICAgdmFyIG1lID0gdGhpcywKICAgICAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksCiAgICAgICAgICAgICAgICBiayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKHRydWUpLAogICAgICAgICAgICAgICAgdGFibGVJdGVtcyA9IGdldFRhYmxlSXRlbXNCeVJhbmdlKG1lKSwKICAgICAgICAgICAgICAgIGNlbGwgPSB0YWJsZUl0ZW1zLmNlbGwsCiAgICAgICAgICAgICAgICB1dCA9IGdldFVFVGFibGUodGFibGVJdGVtcy50YWJsZSksCiAgICAgICAgICAgICAgICBjZWxsSW5mbyA9IHV0LmdldENlbGxJbmZvKGNlbGwpOwogICAgICAgICAgICB1dC5zb3J0VGFibGUoY2VsbEluZm8uY2VsbEluZGV4LCBmbik7CiAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKTsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0KCk7CiAgICAgICAgICAgIH1jYXRjaChlKXt9CiAgICAgICAgfQogICAgfTsKCiAgICAvL+iuvue9ruihqOagvOWPr+aOkuW6jyzmuIXpmaTooajmoLzlj6/mjpLluo8KICAgIFVFLmNvbW1hbmRzWyJlbmFibGVzb3J0Il0gPSBVRS5jb21tYW5kc1siZGlzYWJsZXNvcnQiXSA9IHsKICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTogZnVuY3Rpb24gKGNtZCkgewogICAgICAgICAgICB2YXIgdGFibGUgPSBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTsKICAgICAgICAgICAgaWYodGFibGUgJiYgY21kPT0nZW5hYmxlc29ydCcpIHsKICAgICAgICAgICAgICAgIHZhciBjZWxscyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCAndGggdGQnKTsKICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGk8Y2VsbHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZihjZWxsc1tpXS5nZXRBdHRyaWJ1dGUoJ2NvbHNwYW4nKT4xIHx8IGNlbGxzW2ldLmdldEF0dHJpYnV0ZSgncm93c3BhbicpPjEpIHJldHVybiAtMTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICF0YWJsZSA/IC0xOiBjbWQ9PSdlbmFibGVzb3J0JyBeIHRhYmxlLmdldEF0dHJpYnV0ZSgnZGF0YS1zb3J0JykhPSdzb3J0RW5hYmxlZCcgPyAtMTowOwogICAgICAgIH0sCiAgICAgICAgZXhlY0NvbW1hbmQ6IGZ1bmN0aW9uIChjbWQpIHsKICAgICAgICAgICAgdmFyIHRhYmxlID0gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7CiAgICAgICAgICAgIHRhYmxlLnNldEF0dHJpYnV0ZSgiZGF0YS1zb3J0IiwgY21kID09ICJlbmFibGVzb3J0IiA/ICJzb3J0RW5hYmxlZCIgOiAic29ydERpc2FibGVkIik7CiAgICAgICAgICAgIGNtZCA9PSAiZW5hYmxlc29ydCIgPyBkb21VdGlscy5hZGRDbGFzcyh0YWJsZSwic29ydEVuYWJsZWQiKTpkb21VdGlscy5yZW1vdmVDbGFzc2VzKHRhYmxlLCJzb3J0RW5hYmxlZCIpOwogICAgICAgIH0KICAgIH07Cn07Cg0KLy8vaW1wb3J0IGNvcmUNCi8vL2NvbW1hbmRzIOWPs+mUruiPnOWNlQ0KLy8vY29tbWFuZHNOYW1lICBDb250ZXh0TWVudQ0KLy8vY29tbWFuZHNUaXRsZSAg5Y+z6ZSu6I+c5Y2VDQovKg0KICog5Y+z6ZSu6I+c5Y2VDQogKiBAZnVuY3Rpb24NCiAqIEBuYW1lIGJhaWR1LmVkaXRvci5wbHVnaW5zLmNvbnRleHRtZW51DQogKiBAYXV0aG9yIHpoYW55aQ0KICovDQoNClVFLnBsdWdpbnNbJ2NvbnRleHRtZW51J10gPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgIGxhbmcgPSBtZS5nZXRMYW5nKCAiY29udGV4dE1lbnUiICksDQogICAgICAgICAgICBtZW51LA0KICAgICAgICAgICAgaXRlbXMgPSBtZS5vcHRpb25zLmNvbnRleHRNZW51IHx8IFsNCiAgICAgICAgICAgICAgICB7bGFiZWw6bGFuZ1snc2VsZWN0YWxsJ10sIGNtZE5hbWU6J3NlbGVjdGFsbCd9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5jbGVhcmRvYywNCiAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonY2xlYXJkb2MnLA0KICAgICAgICAgICAgICAgICAgICBleGVjOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggY29uZmlybSggbGFuZy5jb25maXJtY2xlYXIgKSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV4ZWNDb21tYW5kKCAnY2xlYXJkb2MnICk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICctJywNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcudW5saW5rLA0KICAgICAgICAgICAgICAgICAgICBjbWROYW1lOid1bmxpbmsnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAnLScsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBncm91cDpsYW5nLnBhcmFncmFwaCwNCiAgICAgICAgICAgICAgICAgICAgaWNvbjonanVzdGlmeWp1c3RpZnknLA0KICAgICAgICAgICAgICAgICAgICBzdWJNZW51OlsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmp1c3RpZnlsZWZ0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2p1c3RpZnknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidsZWZ0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmp1c3RpZnlyaWdodCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidqdXN0aWZ5JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToncmlnaHQnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuanVzdGlmeWNlbnRlciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidqdXN0aWZ5JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTonY2VudGVyJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmp1c3RpZnlqdXN0aWZ5LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2p1c3RpZnknLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidqdXN0aWZ5Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAnLScsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBncm91cDpsYW5nLnRhYmxlLA0KICAgICAgICAgICAgICAgICAgICBpY29uOid0YWJsZScsDQogICAgICAgICAgICAgICAgICAgIHN1Yk1lbnU6Ww0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuaW5zZXJ0dGFibGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonaW5zZXJ0dGFibGUnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZGVsZXRldGFibGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZGVsZXRldGFibGUnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgJy0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZGVsZXRlcm93LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2RlbGV0ZXJvdycNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5kZWxldGVjb2wsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZGVsZXRlY29sJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmluc2VydGNvbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidpbnNlcnRjb2wnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuaW5zZXJ0Y29sbmV4dCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidpbnNlcnRjb2xuZXh0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmluc2VydHJvdywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidpbnNlcnRyb3cnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuaW5zZXJ0cm93bmV4dCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidpbnNlcnRyb3duZXh0Jw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICctJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmluc2VydGNhcHRpb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonaW5zZXJ0Y2FwdGlvbicNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5kZWxldGVjYXB0aW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2RlbGV0ZWNhcHRpb24nDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuaW5zZXJ0dGl0bGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonaW5zZXJ0dGl0bGUnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZGVsZXRldGl0bGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZGVsZXRldGl0bGUnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuaW5zZXJ0dGl0bGVjb2wsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonaW5zZXJ0dGl0bGVjb2wnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZGVsZXRldGl0bGVjb2wsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZGVsZXRldGl0bGVjb2wnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgJy0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcubWVyZ2VjZWxscywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidtZXJnZWNlbGxzJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLm1lcmdlcmlnaHQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonbWVyZ2VyaWdodCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5tZXJnZWRvd24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonbWVyZ2Vkb3duJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICctJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnNwbGl0dG9yb3dzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J3NwbGl0dG9yb3dzJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnNwbGl0dG9jb2xzLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J3NwbGl0dG9jb2xzJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnNwbGl0dG9jZWxscywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidzcGxpdHRvY2VsbHMnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgJy0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuYXZlcmFnZURpc2VSb3csDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonYXZlcmFnZWRpc3RyaWJ1dGVyb3cnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuYXZlcmFnZURpc0NvbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidhdmVyYWdlZGlzdHJpYnV0ZWNvbCcNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAnLScsDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5lZGl0dGQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZWRpdHRkJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBVRS51aVsnZWRpdHRkJ10gKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgVUUudWlbJ2VkaXR0ZCddKCB0aGlzICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREaWFsb2coJ2VkaXR0ZCcpLm9wZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZWRpdHRhYmxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2VkaXR0YWJsZScsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlYzpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggVUUudWlbJ2VkaXR0YWJsZSddICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFVFLnVpWydlZGl0dGFibGUnXSggdGhpcyApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGlhbG9nKCdlZGl0dGFibGUnKS5vcGVuKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnNldGJvcmRlcnZpc2libGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonc2V0Ym9yZGVydmlzaWJsZScNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBncm91cDpsYW5nLnRhYmxlc29ydCwNCiAgICAgICAgICAgICAgICAgICAgaWNvbjondGFibGVzb3J0JywNCiAgICAgICAgICAgICAgICAgICAgc3ViTWVudTpbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy5lbmFibGVzb3J0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2VuYWJsZXNvcnQnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuZGlzYWJsZXNvcnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonZGlzYWJsZXNvcnQnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgJy0nLA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcucmV2ZXJzZWN1cnJlbnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonc29ydHRhYmxlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToncmV2ZXJzZWN1cnJlbnQnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcub3JkZXJieWFzYywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidzb3J0dGFibGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidvcmRlcmJ5YXNjJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnJldmVyc2VieWFzYywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidzb3J0dGFibGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidyZXZlcnNlYnlhc2MnDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcub3JkZXJieW51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidzb3J0dGFibGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidvcmRlcmJ5bnVtJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnJldmVyc2VieW51bSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidzb3J0dGFibGUnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOidyZXZlcnNlYnludW0nDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6bGFuZy5ib3JkZXJiaywNCiAgICAgICAgICAgICAgICAgICAgaWNvbjonYm9yZGVyQmFjaycsDQogICAgICAgICAgICAgICAgICAgIHN1Yk1lbnU6Ww0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuc2V0Y29sb3IsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZToiaW50ZXJsYWNldGFibGUiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgiaW50ZXJsYWNldGFibGUiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcudW5zZXRjb2xvciwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOiJ1bmludGVybGFjZXRhYmxlIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGVjOmZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXhlY0NvbW1hbmQoInVuaW50ZXJsYWNldGFibGUiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcuc2V0YmFja2dyb3VuZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOiJzZXR0YWJsZWJhY2tncm91bmQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgic2V0dGFibGViYWNrZ3JvdW5kIix7cmVwZWF0OnRydWUsY29sb3JMaXN0OlsiI2JiYiIsIiNjY2MiXX0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy51bnNldGJhY2tncm91bmQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZToiY2xlYXJ0YWJsZWJhY2tncm91bmQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgiY2xlYXJ0YWJsZWJhY2tncm91bmQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcucmVkYW5kYmx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOiJzZXR0YWJsZWJhY2tncm91bmQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgic2V0dGFibGViYWNrZ3JvdW5kIix7cmVwZWF0OnRydWUsY29sb3JMaXN0OlsicmVkIiwiYmx1ZSJdfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnRocmVlY29sb3JncmFkaWVudCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOiJzZXR0YWJsZWJhY2tncm91bmQiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgic2V0dGFibGViYWNrZ3JvdW5kIix7cmVwZWF0OnRydWUsY29sb3JMaXN0OlsiI2FhYSIsIiNiYmIiLCIjY2NjIl19KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6bGFuZy5hbGlnbnRkLA0KICAgICAgICAgICAgICAgICAgICBpY29uOidhbGlnbnRkJywNCiAgICAgICAgICAgICAgICAgICAgc3ViTWVudTpbDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonY2VsbGFsaWdubWVudCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6e2FsaWduOidsZWZ0Jyx2QWxpZ246J3RvcCd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjonY2VudGVyJyx2QWxpZ246J3RvcCd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjoncmlnaHQnLHZBbGlnbjondG9wJ30NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonY2VsbGFsaWdubWVudCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6e2FsaWduOidsZWZ0Jyx2QWxpZ246J21pZGRsZSd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjonY2VudGVyJyx2QWxpZ246J21pZGRsZSd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjoncmlnaHQnLHZBbGlnbjonbWlkZGxlJ30NCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonY2VsbGFsaWdubWVudCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6e2FsaWduOidsZWZ0Jyx2QWxpZ246J2JvdHRvbSd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjonY2VudGVyJyx2QWxpZ246J2JvdHRvbSd9DQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J2NlbGxhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOnthbGlnbjoncmlnaHQnLHZBbGlnbjonYm90dG9tJ30NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBncm91cDpsYW5nLmFsaWdudGFibGUsDQogICAgICAgICAgICAgICAgICAgIGljb246J2FsaWdudGFibGUnLA0KICAgICAgICAgICAgICAgICAgICBzdWJNZW51OlsNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWROYW1lOid0YWJsZWFsaWdubWVudCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbGVmdCcsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6bGFuZy50YWJsZWxlZnQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ImxlZnQiDQogICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNtZE5hbWU6J3RhYmxlYWxpZ25tZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdjZW50ZXInLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmcudGFibGVjZW50ZXIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ImNlbnRlciINCiAgICAgICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kTmFtZTondGFibGVhbGlnbm1lbnQnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLnRhYmxlcmlnaHQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6InJpZ2h0Ig0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAnLScsDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmluc2VydHBhcmFncmFwaGJlZm9yZSwNCiAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonaW5zZXJ0cGFyYWdyYXBoJywNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6dHJ1ZQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nLmluc2VydHBhcmFncmFwaGFmdGVyLA0KICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidpbnNlcnRwYXJhZ3JhcGgnDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOmxhbmdbJ2NvcHknXSwNCiAgICAgICAgICAgICAgICAgICAgY21kTmFtZTonY29weScsDQogICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIGxhbmcuY29weW1zZyApOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBxdWVyeTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBsYWJlbDpsYW5nWydwYXN0ZSddLA0KICAgICAgICAgICAgICAgICAgICBjbWROYW1lOidwYXN0ZScsDQogICAgICAgICAgICAgICAgICAgIGV4ZWM6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoIGxhbmcucGFzdGVtc2cgKTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgcXVlcnk6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICBdOw0KICAgIGlmICggIWl0ZW1zLmxlbmd0aCApIHsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICB2YXIgdWlVdGlscyA9IFVFLnVpLnVpVXRpbHM7DQoNCiAgICBtZS5hZGRMaXN0ZW5lciggJ2NvbnRleHRtZW51JywgZnVuY3Rpb24gKCB0eXBlLCBldnQgKSB7DQoNCiAgICAgICAgdmFyIG9mZnNldCA9IHVpVXRpbHMuZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50KCBldnQgKTsNCiAgICAgICAgbWUuZmlyZUV2ZW50KCAnYmVmb3Jlc2VsZWN0aW9uY2hhbmdlJyApOw0KICAgICAgICBpZiAoIG1lbnUgKSB7DQogICAgICAgICAgICBtZW51LmRlc3Ryb3koKTsNCiAgICAgICAgfQ0KICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIHRpLCBjb250ZXh0SXRlbXMgPSBbXTsgdGkgPSBpdGVtc1tpXTsgaSsrICkgew0KICAgICAgICAgICAgdmFyIGxhc3Q7DQogICAgICAgICAgICAoZnVuY3Rpb24gKCBpdGVtICkgew0KICAgICAgICAgICAgICAgIGlmICggaXRlbSA9PSAnLScgKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICggKGxhc3QgPSBjb250ZXh0SXRlbXNbY29udGV4dEl0ZW1zLmxlbmd0aCAtIDEgXSApICYmIGxhc3QgIT09ICctJyApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRJdGVtcy5wdXNoKCAnLScgKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIGl0ZW0uaGFzT3duUHJvcGVydHkoICJncm91cCIgKSApIHsNCiAgICAgICAgICAgICAgICAgICAgZm9yICggdmFyIGogPSAwLCBjaiwgc3ViTWVudSA9IFtdOyBjaiA9IGl0ZW0uc3ViTWVudVtqXTsgaisrICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uICggc3ViSXRlbSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHN1Ykl0ZW0gPT0gJy0nICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChsYXN0ID0gc3ViTWVudVtzdWJNZW51Lmxlbmd0aCAtIDEgXSApICYmIGxhc3QgIT09ICctJyApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUucHVzaCggJy0nICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViTWVudS5zcGxpY2Uoc3ViTWVudS5sZW5ndGgtMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIChtZS5jb21tYW5kc1tzdWJJdGVtLmNtZE5hbWVdIHx8IFVFLmNvbW1hbmRzW3N1Ykl0ZW0uY21kTmFtZV0gfHwgc3ViSXRlbS5xdWVyeSkgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3ViSXRlbS5xdWVyeSA/IHN1Ykl0ZW0ucXVlcnkoKSA6IG1lLnF1ZXJ5Q29tbWFuZFN0YXRlKCBzdWJJdGVtLmNtZE5hbWUgKSkgPiAtMSApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yk1lbnUucHVzaCggew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCc6c3ViSXRlbS5sYWJlbCB8fCBtZS5nZXRMYW5nKCAiY29udGV4dE1lbnUuIiArIHN1Ykl0ZW0uY21kTmFtZSArIChzdWJJdGVtLnZhbHVlIHx8ICcnKSApfHwiIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY2xhc3NOYW1lJzonZWR1aS1mb3ItJyArc3ViSXRlbS5jbWROYW1lICsgKCBzdWJJdGVtLmNsYXNzTmFtZSA/ICggJyBlZHVpLWZvci0nICsgc3ViSXRlbS5jbWROYW1lICsgJy0nICsgc3ViSXRlbS5jbGFzc05hbWUgKSA6ICcnICksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpzdWJJdGVtLmV4ZWMgPyBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJJdGVtLmV4ZWMuY2FsbCggbWUgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5leGVjQ29tbWFuZCggc3ViSXRlbS5jbWROYW1lLCBzdWJJdGVtLnZhbHVlICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkoIGNqICk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKCBzdWJNZW51Lmxlbmd0aCApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGdldExhYmVsKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChpdGVtLmljb24pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJ0YWJsZSI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUuZ2V0TGFuZyggImNvbnRleHRNZW51LnRhYmxlIiApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJqdXN0aWZ5anVzdGlmeSI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUuZ2V0TGFuZyggImNvbnRleHRNZW51LnBhcmFncmFwaCIgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiYWxpZ250ZCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWUuZ2V0TGFuZygiY29udGV4dE1lbnUuYWxpZ250ZCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJhbGlnbnRhYmxlIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZS5nZXRMYW5nKCJjb250ZXh0TWVudS5hbGlnbnRhYmxlIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgInRhYmxlc29ydCI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGFuZy50YWJsZXNvcnQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImJvcmRlckJhY2siOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhbmcuYm9yZGVyYms7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHRJdGVtcy5wdXNoKCB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90b2RvIOS/ruato+aIkOiHquWKqOiOt+WPluaWueW8jw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsYWJlbCc6Z2V0TGFiZWwoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLScgKyBpdGVtLmljb24sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3N1Yk1lbnUnOnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6c3ViTWVudSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOm1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAvL+acieWPr+iDvWNvbW1tYW5k5rKh5pyJ5Yqg6L295Y+z6ZSu5LiN6IO95Ye65p2l77yM5oiW6ICF5rKh5pyJY29tbWFuZOS5n+aDs+iDveWxleekuuWHuuadpea3u+WKoHF1ZXJ55pa55rOVDQogICAgICAgICAgICAgICAgICAgIGlmICggKG1lLmNvbW1hbmRzW2l0ZW0uY21kTmFtZV0gfHwgVUUuY29tbWFuZHNbaXRlbS5jbWROYW1lXSB8fCBpdGVtLnF1ZXJ5KSAmJg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIChpdGVtLnF1ZXJ5ID8gaXRlbS5xdWVyeS5jYWxsKG1lKSA6IG1lLnF1ZXJ5Q29tbWFuZFN0YXRlKCBpdGVtLmNtZE5hbWUgKSkgPiAtMSApIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dEl0ZW1zLnB1c2goIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGFiZWwnOml0ZW0ubGFiZWwgfHwgbWUuZ2V0TGFuZyggImNvbnRleHRNZW51LiIgKyBpdGVtLmNtZE5hbWUgKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLScgKyAoaXRlbS5pY29uID8gaXRlbS5pY29uIDogaXRlbS5jbWROYW1lICsgKGl0ZW0udmFsdWUgfHwgJycpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOml0ZW0uZXhlYyA/IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5leGVjLmNhbGwoIG1lICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoIGl0ZW0uY21kTmFtZSwgaXRlbS52YWx1ZSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9KSggdGkgKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIGNvbnRleHRJdGVtc1tjb250ZXh0SXRlbXMubGVuZ3RoIC0gMV0gPT0gJy0nICkgew0KICAgICAgICAgICAgY29udGV4dEl0ZW1zLnBvcCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgbWVudSA9IG5ldyBVRS51aS5NZW51KCB7DQogICAgICAgICAgICBpdGVtczpjb250ZXh0SXRlbXMsDQogICAgICAgICAgICBjbGFzc05hbWU6ImVkdWktY29udGV4dG1lbnUiLA0KICAgICAgICAgICAgZWRpdG9yOm1lDQogICAgICAgIH0gKTsNCiAgICAgICAgbWVudS5yZW5kZXIoKTsNCiAgICAgICAgbWVudS5zaG93QXQoIG9mZnNldCApOw0KDQogICAgICAgIG1lLmZpcmVFdmVudCgiYWZ0ZXJzaG93Y29udGV4dG1lbnUiLG1lbnUpOw0KDQogICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KCBldnQgKTsNCiAgICAgICAgaWYgKCBicm93c2VyLmllICkgew0KICAgICAgICAgICAgdmFyIGllUmFuZ2U7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGllUmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICggaWVSYW5nZS5pdGVtICkgew0KICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG5ldyBkb20uUmFuZ2UoIG1lLmRvY3VtZW50ICk7DQogICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSggaWVSYW5nZS5pdGVtKCAwICkgKS5zZWxlY3QoIHRydWUsIHRydWUgKTsNCg0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSApOw0KfTsNCg0KDQoNCi8vL2ltcG9ydCBjb3JlCi8vL2NvbW1hbmRzICAgICAgIOW8ueWHuuiPnOWNlQovLyBjb21tYW5kc05hbWUgIHBvcHVwbWVudQovLy9jb21tYW5kc1RpdGxlICDlvLnlh7roj5zljZUKLyoKICog5by55Ye66I+c5Y2VCiAqIEBmdW5jdGlvbgogKiBAbmFtZSBiYWlkdS5lZGl0b3IucGx1Z2lucy5wb3B1cG1lbnUKICogQGF1dGhvciB4dWhlbmcKICovCgpVRS5wbHVnaW5zWydzaG9ydGN1dG1lbnUnXSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgbWVudSwKICAgICAgICBpdGVtcyA9IG1lLm9wdGlvbnMuc2hvcnRjdXRNZW51IHx8IFtdOwoKICAgIGlmICghaXRlbXMubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIG1lLmFkZExpc3RlbmVyICgnY29udGV4dG1lbnUgbW91c2V1cCcgLCBmdW5jdGlvbiAodHlwZSAsIGUpIHsKICAgICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgICBjdXN0b21FdnQgPSB7CiAgICAgICAgICAgICAgICB0eXBlIDogdHlwZSAsCiAgICAgICAgICAgICAgICB0YXJnZXQgOiBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQgLAogICAgICAgICAgICAgICAgc2NyZWVuWCA6IGUuc2NyZWVuWCAsCiAgICAgICAgICAgICAgICBzY3JlZW5ZIDogZS5zY3JlZW5ZICwKICAgICAgICAgICAgICAgIGNsaWVudFggOiBlLmNsaWVudFggLAogICAgICAgICAgICAgICAgY2xpZW50WSA6IGUuY2xpZW50WQogICAgICAgICAgICB9OwoKICAgICAgICBzZXRUaW1lb3V0IChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBybmcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UgKCk7CiAgICAgICAgICAgIGlmIChybmcuY29sbGFwc2VkID09PSBmYWxzZSB8fCB0eXBlID09ICJjb250ZXh0bWVudSIpIHsKCiAgICAgICAgICAgICAgICBpZiAoIW1lbnUpIHsKICAgICAgICAgICAgICAgICAgICBtZW51ID0gbmV3IGJhaWR1LmVkaXRvci51aS5TaG9ydEN1dE1lbnUgKHsKICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yIDogbWUgLAogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA6IGl0ZW1zICwKICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWUgOiBtZS5vcHRpb25zLnRoZW1lICwKICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lIDogJ2VkdWktc2hvcnRjdXRtZW51JwogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBtZW51LnJlbmRlciAoKTsKICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQgKCJhZnRlcnJlbmRlcnNob3J0Y3V0bWVudSIgLCBtZW51KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBtZW51LnNob3cgKGN1c3RvbUV2dCAsICEhVUUucGx1Z2luc1snY29udGV4dG1lbnUnXSk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKHR5cGUgPT0gJ2NvbnRleHRtZW51JykgewogICAgICAgICAgICBkb21VdGlscy5wcmV2ZW50RGVmYXVsdCAoZSk7CiAgICAgICAgICAgIGlmIChicm93c2VyLmllOWJlbG93KSB7CiAgICAgICAgICAgICAgICB2YXIgaWVSYW5nZTsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgaWVSYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5jcmVhdGVSYW5nZSgpOwogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChpZVJhbmdlLml0ZW0pIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgZG9tLlJhbmdlIChtZS5kb2N1bWVudCk7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSAoaWVSYW5nZS5pdGVtICgwKSkuc2VsZWN0ICh0cnVlICwgdHJ1ZSk7CgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgogICAgbWUuYWRkTGlzdGVuZXIgKCdrZXlkb3duJyAsIGZ1bmN0aW9uICh0eXBlKSB7CiAgICAgICAgaWYgKHR5cGUgPT0gImtleWRvd24iKSB7CiAgICAgICAgICAgIG1lbnUgJiYgIW1lbnUuaXNIaWRkZW4gJiYgbWVudS5oaWRlICgpOwogICAgICAgIH0KCiAgICB9KTsKCn07CgoKDQovKioKICogQGRlc2NyaXB0aW9uCiAqIDEu5ouW5pS+5paH5Lu25Yiw57yW6L6R5Yy65Z+f77yM6Ieq5Yqo5LiK5Lyg5bm25o+S5YWl5Yiw6YCJ5Yy6CiAqIDIu5o+S5YWl57KY6LS05p2/55qE5Zu+54mH77yM6Ieq5Yqo5LiK5Lyg5bm25o+S5YWl5Yiw6YCJ5Yy6CiAqIEBhdXRob3IgSmlucW4KICogQGRhdGUgMjAxMy0xMC0xNAogKi8KVUUucGx1Z2luLnJlZ2lzdGVyKCdhdXRvdXBsb2FkJywgZnVuY3Rpb24gKCl7CiAgICB2YXIgbWUgPSB0aGlzOwogICAgdmFyIHNlbmRBbmRJbnNlcnRJbWFnZSA9IGZ1bmN0aW9uIChmaWxlLCBlZGl0b3IpIHsKICAgICAgICAvL+aooeaLn+aVsOaNrgogICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGZkLmFwcGVuZChlZGl0b3Iub3B0aW9ucy5pbWFnZUZpZWxkTmFtZSB8fCAndXBmaWxlJywgZmlsZSwgZmlsZS5uYW1lIHx8ICgnYmxvYi4nICsgZmlsZS50eXBlLnN1YnN0cignaW1hZ2UvJy5sZW5ndGgpKSk7CiAgICAgICAgZmQuYXBwZW5kKCd0eXBlJywgJ2FqYXgnKTsKICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgeGhyLm9wZW4oInBvc3QiLCBtZS5vcHRpb25zLmltYWdlVXJsLCB0cnVlKTsKICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcigiWC1SZXF1ZXN0ZWQtV2l0aCIsICJYTUxIdHRwUmVxdWVzdCIpOwogICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgdHJ5ewogICAgICAgICAgICAgICAgdmFyIGpzb24gPSAobmV3IEZ1bmN0aW9uKCJyZXR1cm4gIiArIGUudGFyZ2V0LnJlc3BvbnNlKSkoKSwKICAgICAgICAgICAgICAgICAgICBwaWNMaW5rID0gbWUub3B0aW9ucy5pbWFnZVBhdGggKyBqc29uLnVybDsKICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnaW5zZXJ0aW1hZ2UnLCB7CiAgICAgICAgICAgICAgICAgICAgc3JjOiBwaWNMaW5rLAogICAgICAgICAgICAgICAgICAgIF9zcmM6IHBpY0xpbmsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9Y2F0Y2goZXIpeyB9CiAgICAgICAgfSk7CiAgICAgICAgeGhyLnNlbmQoZmQpOwogICAgfTsKCiAgICBmdW5jdGlvbiBnZXRQYXN0ZUltYWdlKGUpewogICAgICAgIHJldHVybiBlLmNsaXBib2FyZERhdGEgJiYgZS5jbGlwYm9hcmREYXRhLml0ZW1zICYmIGUuY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGggPT0gMSAmJiAvXmltYWdlXC8vLnRlc3QoZS5jbGlwYm9hcmREYXRhLml0ZW1zWzBdLnR5cGUpID8gZS5jbGlwYm9hcmREYXRhLml0ZW1zOm51bGw7CiAgICB9CiAgICBmdW5jdGlvbiBnZXREcm9wSW1hZ2UoZSl7CiAgICAgICAgcmV0dXJuICBlLmRhdGFUcmFuc2ZlciAmJiBlLmRhdGFUcmFuc2Zlci5maWxlcyA/IGUuZGF0YVRyYW5zZmVyLmZpbGVzOm51bGw7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgICBiaW5kRXZlbnRzOnsKICAgICAgICAgICAgLy/mj5LlhaXnspjotLTmnb/nmoTlm77niYfvvIzmi5bmlL7mj5LlhaXlm77niYcKICAgICAgICAgICAgJ3JlYWR5JzpmdW5jdGlvbihlKXsKICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5Gb3JtRGF0YSAmJiB3aW5kb3cuRmlsZVJlYWRlcikgewogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKG1lLmJvZHksICdwYXN0ZSBkcm9wJywgZnVuY3Rpb24oZSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNJbWcgPSBmYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOwogICAgICAgICAgICAgICAgICAgICAgICAvL+iOt+WPlueymOi0tOadv+aWh+S7tuWIl+ihqOaIluiAheaLluaUvuaWh+S7tuWIl+ihqAogICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGUudHlwZSA9PSAncGFzdGUnID8gZ2V0UGFzdGVJbWFnZShlKTpnZXREcm9wSW1hZ2UoZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW4gPSBpdGVtcy5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsZW4tLSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZSA9IGl0ZW1zW2xlbl07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlsZS5nZXRBc0ZpbGUpIGZpbGUgPSBmaWxlLmdldEFzRmlsZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGZpbGUgJiYgZmlsZS5zaXplID4gMCAmJiAvaW1hZ2VcL1x3Ky9pLnRlc3QoZmlsZS50eXBlKSApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZEFuZEluc2VydEltYWdlKGZpbGUsIG1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzSW1nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNJbWcgJiYgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIC8v5Y+W5raI5ouW5pS+5Zu+54mH5pe25Ye6546w55qE5paH5a2X5YWJ5qCH5L2N572u5o+Q56S6CiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMub24obWUuYm9keSwgJ2RyYWdvdmVyJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoZS5kYXRhVHJhbnNmZXIudHlwZXNbMF0gPT0gJ0ZpbGVzJykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9Cn0pOw0KLyoqDQogKiBC44CBSeOAgXN1YuOAgXN1cGVy5ZG95Luk5pSv5oyBDQogKiBAZmlsZQ0KICogQHNpbmNlIDEuMi42LjENCiAqLw0KDQpVRS5wbHVnaW5zWydiYXNlc3R5bGUnXSA9IGZ1bmN0aW9uKCl7DQoNCiAgICAvKioNCiAgICAgKiDlrZfkvZPliqDnspcNCiAgICAgKiBAY29tbWFuZCBib2xkDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEByZW1pbmQg5a+55bey5Yqg57KX55qE5paH5pys5YaF5a655omn6KGM6K+l5ZG95Luk77yMIOWwhuWPlua2iOWKoOeylw0KICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgKiAvL2VkaXRvcuaYr+e8lui+keWZqOWunuS+iw0KICAgICAqIC8v5a+55b2T5YmN6YCJ5Lit55qE5paH5pys5YaF5a655omn6KGM5Yqg57KX5pON5L2cDQogICAgICogLy/nrKzkuIDmrKHmiafooYzvvIwg5paH5pys5YaF5a655Yqg57KXDQogICAgICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnYm9sZCcgKTsNCiAgICAgKg0KICAgICAqIC8v56ys5LqM5qyh5omn6KGM77yMIOaWh+acrOWGheWuueWPlua2iOWKoOeylw0KICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2JvbGQnICk7DQogICAgICogYGBgDQogICAgICovDQoNCg0KICAgIC8qKg0KICAgICAqIOWtl+S9k+WAvuaWnA0KICAgICAqIEBjb21tYW5kIGl0YWxpYw0KICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogICAgICogQHJlbWluZCDlr7nlt7LlgL7mlpznmoTmlofmnKzlhoXlrrnmiafooYzor6Xlkb3ku6TvvIwg5bCG5Y+W5raI5YC+5pacDQogICAgICogQGV4YW1wbGUNCiAgICAgKiBgYGBqYXZhc2NyaXB0DQogICAgICogLy9lZGl0b3LmmK/nvJbovpHlmajlrp7kvosNCiAgICAgKiAvL+WvueW9k+WJjemAieS4reeahOaWh+acrOWGheWuueaJp+ihjOaWnOS9k+aTjeS9nA0KICAgICAqIC8v56ys5LiA5qyh5pON5L2c77yMIOaWh+acrOWGheWuueWwhuWPmOaIkOaWnOS9kw0KICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2l0YWxpYycgKTsNCiAgICAgKg0KICAgICAqIC8v5YaN5qyh5a+55ZCM5LiA5paH5pys5YaF5a655omn6KGM77yMIOWImeaWh+acrOWGheWuueWwhuaBouWkjeato+W4uA0KICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2l0YWxpYycgKTsNCiAgICAgKiBgYGANCiAgICAgKi8NCg0KICAgIC8qKg0KICAgICAqIOS4i+agh+aWh+acrO+8jOS4juKAnHN1cGVyc2NyaXB04oCd5ZG95Luk5LqS5palDQogICAgICogQGNvbW1hbmQgc3Vic2NyaXB0DQogICAgICogQG1ldGhvZCBleGVjQ29tbWFuZA0KICAgICAqIEByZW1pbmQgIOaKiumAieS4reeahOaWh+acrOWGheWuueWIh+aNouaIkOS4i+agh+aWh+acrO+8jCDlpoLmnpzlvZPliY3pgInkuK3nmoTmlofmnKzlt7Lnu4/mmK/kuIvmoIfvvIwg5YiZ6K+l5pON5L2c5Lya5oqK5paH5pys5YaF5a656L+Y5Y6f5oiQ5q2j5bi45paH5pysDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIC8vZWRpdG9y5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICogLy/lr7nlvZPliY3pgInkuK3nmoTmlofmnKzlhoXlrrnmiafooYzkuIvmoIfmk43kvZwNCiAgICAgKiAvL+esrOS4gOasoeaTjeS9nO+8jCDmlofmnKzlhoXlrrnlsIblj5jmiJDkuIvmoIfmlofmnKwNCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdzdWJzY3JpcHQnICk7DQogICAgICoNCiAgICAgKiAvL+WGjeasoeWvueWQjOS4gOaWh+acrOWGheWuueaJp+ihjO+8jCDliJnmlofmnKzlhoXlrrnlsIbmgaLlpI3mraPluLgNCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdzdWJzY3JpcHQnICk7DQogICAgICogYGBgDQogICAgICovDQoNCiAgICAvKioNCiAgICAgKiDkuIrmoIfmlofmnKzvvIzkuI7igJxzdWJzY3JpcHTigJ3lkb3ku6TkupLmlqUNCiAgICAgKiBAY29tbWFuZCBzdXBlcnNjcmlwdA0KICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAgICAgKiBAcmVtaW5kIOaKiumAieS4reeahOaWh+acrOWGheWuueWIh+aNouaIkOS4iuagh+aWh+acrO+8jCDlpoLmnpzlvZPliY3pgInkuK3nmoTmlofmnKzlt7Lnu4/mmK/kuIrmoIfvvIwg5YiZ6K+l5pON5L2c5Lya5oqK5paH5pys5YaF5a656L+Y5Y6f5oiQ5q2j5bi45paH5pysDQogICAgICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sg0KICAgICAqIEBleGFtcGxlDQogICAgICogYGBgamF2YXNjcmlwdA0KICAgICAqIC8vZWRpdG9y5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICogLy/lr7nlvZPliY3pgInkuK3nmoTmlofmnKzlhoXlrrnmiafooYzkuIrmoIfmk43kvZwNCiAgICAgKiAvL+esrOS4gOasoeaTjeS9nO+8jCDmlofmnKzlhoXlrrnlsIblj5jmiJDkuIrmoIfmlofmnKwNCiAgICAgKiBlZGl0b3IuZXhlY0NvbW1hbmQoICdzdXBlcnNjcmlwdCcgKTsNCiAgICAgKg0KICAgICAqIC8v5YaN5qyh5a+55ZCM5LiA5paH5pys5YaF5a655omn6KGM77yMIOWImeaWh+acrOWGheWuueWwhuaBouWkjeato+W4uA0KICAgICAqIGVkaXRvci5leGVjQ29tbWFuZCggJ3N1cGVyc2NyaXB0JyApOw0KICAgICAqIGBgYA0KICAgICAqLw0KICAgIHZhciBiYXNlc3R5bGVzID0gew0KICAgICAgICAgICAgJ2JvbGQnOlsnc3Ryb25nJywnYiddLA0KICAgICAgICAgICAgJ2l0YWxpYyc6WydlbScsJ2knXSwNCiAgICAgICAgICAgICdzdWJzY3JpcHQnOlsnc3ViJ10sDQogICAgICAgICAgICAnc3VwZXJzY3JpcHQnOlsnc3VwJ10NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0T2JqID0gZnVuY3Rpb24oZWRpdG9yLHRhZ05hbWVzKXsNCiAgICAgICAgICAgIHJldHVybiBkb21VdGlscy5maWx0ZXJOb2RlTGlzdChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSx0YWdOYW1lcyk7DQogICAgICAgIH0sDQogICAgICAgIG1lID0gdGhpczsNCiAgICAvL+a3u+WKoOW/q+aNt+mUrg0KICAgIG1lLmFkZHNob3J0Y3V0a2V5KHsNCiAgICAgICAgIkJvbGQiIDogImN0cmwrNjYiLC8vXkINCiAgICAgICAgIkl0YWxpYyIgOiAiY3RybCs3MyIsIC8vXkkNCiAgICAgICAgIlVuZGVybGluZSIgOiAiY3RybCs4NSIvL15VDQogICAgfSk7DQogICAgbWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpew0KICAgICAgICB1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoJ2IgaScpLGZ1bmN0aW9uKG5vZGUpew0KICAgICAgICAgICAgc3dpdGNoIChub2RlLnRhZ05hbWUpew0KICAgICAgICAgICAgICAgIGNhc2UgJ2InOg0KICAgICAgICAgICAgICAgICAgICBub2RlLnRhZ05hbWUgPSAnc3Ryb25nJzsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgY2FzZSAnaSc6DQogICAgICAgICAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9ICdlbSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0pOw0KICAgIGZvciAoIHZhciBzdHlsZSBpbiBiYXNlc3R5bGVzICkgew0KICAgICAgICAoZnVuY3Rpb24oIGNtZCwgdGFnTmFtZXMgKSB7DQogICAgICAgICAgICBtZS5jb21tYW5kc1tjbWRdID0gew0KICAgICAgICAgICAgICAgIGV4ZWNDb21tYW5kIDogZnVuY3Rpb24oIGNtZE5hbWUgKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLG9iaiA9IGdldE9iaih0aGlzLHRhZ05hbWVzKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCByYW5nZS5jb2xsYXBzZWQgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9iaiApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wVGV4dCA9ICBtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSggdG1wVGV4dCApLnJlbW92ZUlubGluZVN0eWxlKCB0YWdOYW1lcyApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QmVmb3JlKHRtcFRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0bXBUZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcE5vZGUgPSByYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCB0YWdOYW1lc1swXSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNtZE5hbWUgPT0gJ3N1cGVyc2NyaXB0JyB8fCBjbWROYW1lID09ICdzdWJzY3JpcHQnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wVGV4dCA9IG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0bXBUZXh0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUlubGluZVN0eWxlKFsnc3ViJywnc3VwJ10pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2V0U3RhcnRCZWZvcmUodG1wVGV4dCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb2xsYXBzZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSggdG1wTm9kZSApLnNldFN0YXJ0KCB0bXBOb2RlLCAwICk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSggdHJ1ZSApOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoY21kTmFtZSA9PSAnc3VwZXJzY3JpcHQnIHx8IGNtZE5hbWUgPT0gJ3N1YnNjcmlwdCcpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFvYmogfHwgb2JqLnRhZ05hbWUudG9Mb3dlckNhc2UoKSAhPSBjbWROYW1lKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUoWydzdWInLCdzdXAnXSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgb2JqID8gcmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUoIHRhZ05hbWVzICkgOiByYW5nZS5hcHBseUlubGluZVN0eWxlKCB0YWdOYW1lc1swXSApOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcXVlcnlDb21tYW5kU3RhdGUgOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0T2JqKHRoaXMsdGFnTmFtZXMpID8gMSA6IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSkoIHN0eWxlLCBiYXNlc3R5bGVzW3N0eWxlXSApOw0KICAgIH0NCn07DQoNCg0KLyoqDQogKiDpgInlj5bot6/lvoTlkb3ku6QNCiAqIEBmaWxlDQogKi8NClVFLnBsdWdpbnNbJ2VsZW1lbnRwYXRoJ10gPSBmdW5jdGlvbigpew0KICAgIHZhciBjdXJyZW50TGV2ZWwsDQogICAgICAgIHRhZ05hbWVzLA0KICAgICAgICBtZSA9IHRoaXM7DQogICAgbWUuc2V0T3B0KCdlbGVtZW50UGF0aEVuYWJsZWQnLHRydWUpOw0KICAgIGlmKCFtZS5vcHRpb25zLmVsZW1lbnRQYXRoRW5hYmxlZCl7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgbWUuY29tbWFuZHNbJ2VsZW1lbnRwYXRoJ10gPSB7DQogICAgICAgIGV4ZWNDb21tYW5kIDogZnVuY3Rpb24oIGNtZE5hbWUsIGxldmVsICkgew0KICAgICAgICAgICAgdmFyIHN0YXJ0ID0gdGFnTmFtZXNbbGV2ZWxdLA0KICAgICAgICAgICAgICAgIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBjdXJyZW50TGV2ZWwgPSBsZXZlbCoxOw0KICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZShzdGFydCkuc2VsZWN0KCk7DQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5Q29tbWFuZFZhbHVlIDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAvL+S6p+eUn+S4gOS4quWJr+acrO+8jOS4jeiDveS/ruaUueWOn+adpeeahHN0YXJ0RWxlbWVudFBhdGg7DQogICAgICAgICAgICB2YXIgcGFyZW50cyA9IFtdLmNvbmNhdCh0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCkpLnJldmVyc2UoKSwNCiAgICAgICAgICAgICAgICBuYW1lcyA9IFtdOw0KICAgICAgICAgICAgdGFnTmFtZXMgPSBwYXJlbnRzOw0KICAgICAgICAgICAgZm9yKHZhciBpPTAsY2k7Y2k9cGFyZW50c1tpXTtpKyspew0KICAgICAgICAgICAgICAgIGlmKGNpLm5vZGVUeXBlID09IDMpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBuYW1lID0gY2kudGFnTmFtZS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgIGlmKG5hbWUgPT0gJ2ltZycgJiYgY2kuZ2V0QXR0cmlidXRlKCdhbmNob3JuYW1lJykpew0KICAgICAgICAgICAgICAgICAgICBuYW1lID0gJ2FuY2hvcic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIG5hbWVzW2ldID0gbmFtZTsNCiAgICAgICAgICAgICAgICBpZihjdXJyZW50TGV2ZWwgPT0gaSl7DQogICAgICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gLTE7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuYW1lczsNCiAgICAgICAgfQ0KICAgIH07DQp9Ow0KDQoNCi8qKgogKiDmoLzlvI/liLfvvIzlj6rmoLzlvI9pbmxpbmXnmoQKICogQGZpbGUKICogQHNpbmNlIDEuMi42LjEKICovCgovKioKICog5qC85byP5Yi3CiAqIEBjb21tYW5kIGZvcm1hdG1hdGNoCiAqIEBtZXRob2QgZXhlY0NvbW1hbmQKICogQHJlbWluZCDor6Xmk43kvZzkuI3og73lpI3liLbmrrXokL3moLzlvI8KICogQHBhcmFtIHsgU3RyaW5nIH0gY21kIOWRveS7pOWtl+espuS4sgogKiBAZXhhbXBsZQogKiBgYGBqYXZhc2NyaXB0CiAqIC8vZWRpdG9y5piv57yW6L6R5Zmo5a6e5L6LCiAqIC8v6I635Y+W5qC85byP5Yi3CiAqIGVkaXRvci5leGVjQ29tbWFuZCggJ2Zvcm1hdG1hdGNoJyApOwogKiBgYGAKICovClVFLnBsdWdpbnNbJ2Zvcm1hdG1hdGNoJ10gPSBmdW5jdGlvbigpewoKICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgbGlzdCA9IFtdLGltZywKICAgICAgICBmbGFnID0gMDsKCiAgICAgbWUuYWRkTGlzdGVuZXIoJ3Jlc2V0JyxmdW5jdGlvbigpewogICAgICAgICBsaXN0ID0gW107CiAgICAgICAgIGZsYWcgPSAwOwogICAgIH0pOwoKICAgIGZ1bmN0aW9uIGFkZExpc3QodHlwZSxldnQpewogICAgICAgIAogICAgICAgIGlmKGJyb3dzZXIud2Via2l0KXsKICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2dC50YXJnZXQudGFnTmFtZSA9PSAnSU1HJyA/IGV2dC50YXJnZXQgOiBudWxsOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gYWRkRm9ybWF0KHJhbmdlKXsKCiAgICAgICAgICAgIGlmKHRleHQpewogICAgICAgICAgICAgICAgcmFuZ2Uuc2VsZWN0Tm9kZSh0ZXh0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuYXBwbHlJbmxpbmVTdHlsZShsaXN0W2xpc3QubGVuZ3RoLTFdLnRhZ05hbWUsbnVsbCxsaXN0KTsKCiAgICAgICAgfQoKICAgICAgICBtZS51bmRvTWFuZ2VyICYmIG1lLnVuZG9NYW5nZXIuc2F2ZSgpOwoKICAgICAgICB2YXIgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSwKICAgICAgICAgICAgaW1nVCA9IHRhcmdldCB8fCByYW5nZS5nZXRDbG9zZWROb2RlKCk7CiAgICAgICAgaWYoaW1nICYmIGltZ1QgJiYgaW1nVC50YWdOYW1lID09ICdJTUcnKXsKICAgICAgICAgICAgLy90cmFjZTo5NjQKCiAgICAgICAgICAgIGltZ1Quc3R5bGUuY3NzVGV4dCArPSAnO2Zsb2F0OicgKyAoaW1nLnN0eWxlLmNzc0Zsb2F0IHx8IGltZy5zdHlsZS5zdHlsZUZsb2F0IHx8J25vbmUnKSArICc7ZGlzcGxheTonICsgKGltZy5zdHlsZS5kaXNwbGF5fHwnaW5saW5lJyk7CgogICAgICAgICAgICBpbWcgPSBudWxsOwogICAgICAgIH1lbHNlewogICAgICAgICAgICBpZighaW1nKXsKICAgICAgICAgICAgICAgIHZhciBjb2xsYXBzZWQgPSByYW5nZS5jb2xsYXBzZWQ7CiAgICAgICAgICAgICAgICBpZihjb2xsYXBzZWQpewogICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gbWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ21hdGNoJyk7CiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZSh0ZXh0KS5zZWxlY3QoKTsKCgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kID0gdHJ1ZTsKICAgICAgICAgICAgICAgIC8v5LiN6IO95oqKYmxvY2vkuIrnmoTlsZ7mgKflubLmjokKICAgICAgICAgICAgICAgIC8vdHJhY2U6MTU1MwogICAgICAgICAgICAgICAgdmFyIHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMgPSBtZS5vcHRpb25zLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM7CiAgICAgICAgICAgICAgICBtZS5vcHRpb25zLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMgPSAnJzsKICAgICAgICAgICAgICAgIG1lLmV4ZWNDb21tYW5kKCdyZW1vdmVmb3JtYXQnKTsKICAgICAgICAgICAgICAgIG1lLm9wdGlvbnMucmVtb3ZlRm9ybWF0QXR0cmlidXRlcyA9IHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM7CiAgICAgICAgICAgICAgICBtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIC8vdHJhY2U6OTY5CiAgICAgICAgICAgICAgICByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgICAgICAgICAgaWYobGlzdC5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyYW5nZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZih0ZXh0KXsKICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEJlZm9yZSh0ZXh0KS5jb2xsYXBzZSh0cnVlKTsKCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByYW5nZS5zZWxlY3QoKTsKICAgICAgICAgICAgICAgIHRleHQgJiYgZG9tVXRpbHMucmVtb3ZlKHRleHQpOwogICAgICAgICAgICB9CgogICAgICAgIH0KCgoKCiAgICAgICAgbWUudW5kb01hbmdlciAmJiBtZS51bmRvTWFuZ2VyLnNhdmUoKTsKICAgICAgICBtZS5yZW1vdmVMaXN0ZW5lcignbW91c2V1cCcsYWRkTGlzdCk7CiAgICAgICAgZmxhZyA9IDA7CiAgICB9CgogICAgbWUuY29tbWFuZHNbJ2Zvcm1hdG1hdGNoJ10gPSB7CiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbiggY21kTmFtZSApIHsKICAgICAgICAgIAogICAgICAgICAgICBpZihmbGFnKXsKICAgICAgICAgICAgICAgIGZsYWcgPSAwOwogICAgICAgICAgICAgICAgbGlzdCA9IFtdOwogICAgICAgICAgICAgICAgIG1lLnJlbW92ZUxpc3RlbmVyKCdtb3VzZXVwJyxhZGRMaXN0KTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIHZhciByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOwogICAgICAgICAgICBpbWcgPSByYW5nZS5nZXRDbG9zZWROb2RlKCk7CiAgICAgICAgICAgIGlmKCFpbWcgfHwgaW1nLnRhZ05hbWUgIT0gJ0lNRycpewogICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKS5zaHJpbmtCb3VuZGFyeSgpOwogICAgICAgICAgICAgICB2YXIgc3RhcnQgPSByYW5nZS5zdGFydENvbnRhaW5lcjsKICAgICAgICAgICAgICAgbGlzdCA9IGRvbVV0aWxzLmZpbmRQYXJlbnRzKHN0YXJ0LHRydWUsZnVuY3Rpb24obm9kZSl7CiAgICAgICAgICAgICAgICAgICByZXR1cm4gIWRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkgJiYgbm9kZS5ub2RlVHlwZSA9PSAxOwogICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgLy9h5LiN6IO95Yqg5YWl5qC85byP5Yi3LCDlubbkuJTlhYvpmoboioLngrkKICAgICAgICAgICAgICAgZm9yKHZhciBpPTAsY2k7Y2k9bGlzdFtpXTtpKyspewogICAgICAgICAgICAgICAgICAgaWYoY2kudGFnTmFtZSA9PSAnQScpewogICAgICAgICAgICAgICAgICAgICAgIGxpc3Quc3BsaWNlKGksMSk7CiAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdtb3VzZXVwJyxhZGRMaXN0KTsKICAgICAgICAgICAgZmxhZyA9IDE7CgoKICAgICAgICB9LAogICAgICAgIHF1ZXJ5Q29tbWFuZFN0YXRlIDogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBmbGFnOwogICAgICAgIH0sCiAgICAgICAgbm90TmVlZFVuZG8gOiAxCiAgICB9Owp9OwoKDQovLy9pbXBvcnQgY29yZQ0KLy8vY29tbWFuZHMg5p+l5om+5pu/5o2iDQovLy9jb21tYW5kc05hbWUgIFNlYXJjaFJlcGxhY2UNCi8vL2NvbW1hbmRzVGl0bGUgIOafpeivouabv+aNog0KLy8vY29tbWFuZHNEaWFsb2cgIGRpYWxvZ3Ncc2VhcmNocmVwbGFjZQ0KLyoNCiAqIEBkZXNjcmlwdGlvbiDmn6Xmib7mm7/mjaINCiAqIEBhdXRob3IgemhhbnlpDQogKi8NCg0KVUUucGx1Z2luLnJlZ2lzdGVyKCdzZWFyY2hyZXBsYWNlJyxmdW5jdGlvbigpew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgZnVuY3Rpb24gZmluZFRleHRJblN0cmluZyh0ZXh0Q29udGVudCxvcHQsY3VycmVudEluZGV4KXsNCiAgICAgICAgdmFyIHN0ciA9IG9wdC5zZWFyY2hTdHI7DQogICAgICAgIGlmKG9wdC5kaXIgPT0gLTEpew0KICAgICAgICAgICAgdGV4dENvbnRlbnQgPSB0ZXh0Q29udGVudC5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpOw0KICAgICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCcnKS5yZXZlcnNlKCkuam9pbignJyk7DQogICAgICAgICAgICBjdXJyZW50SW5kZXggPSB0ZXh0Q29udGVudC5sZW5ndGggLSBjdXJyZW50SW5kZXg7DQoNCiAgICAgICAgfQ0KICAgICAgICB2YXIgcmVnID0gbmV3IFJlZ0V4cChzdHIsJ2cnICsgKG9wdC5jYXNlc2Vuc2l0aXZlID8gJycgOiAnaScpKSxtYXRjaDsNCg0KICAgICAgICB3aGlsZShtYXRjaCA9IHJlZy5leGVjKHRleHRDb250ZW50KSl7DQogICAgICAgICAgICBpZihtYXRjaC5pbmRleCA+PSBjdXJyZW50SW5kZXgpew0KICAgICAgICAgICAgICAgIHJldHVybiBvcHQuZGlyID09IC0xID8gdGV4dENvbnRlbnQubGVuZ3RoIC0gbWF0Y2guaW5kZXggLSBvcHQuc2VhcmNoU3RyLmxlbmd0aCA6IG1hdGNoLmluZGV4Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiAgLTENCiAgICB9DQogICAgZnVuY3Rpb24gZmluZFRleHRCbG9ja0VsbShub2RlLGN1cnJlbnRJbmRleCxvcHQpew0KICAgICAgICB2YXIgdGV4dENvbnRlbnQsaW5kZXgsbWV0aG9kTmFtZSA9IG9wdC5hbGwgfHwgb3B0LmRpciA9PSAxID8gJ2dldE5leHREb21Ob2RlJyA6ICdnZXRQcmVEb21Ob2RlJzsNCiAgICAgICAgaWYoZG9tVXRpbHMuaXNCb2R5KG5vZGUpKXsNCiAgICAgICAgICAgIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7DQogICAgICAgIH0NCiAgICAgICAgdmFyIGZpcnN0ID0gMTsNCiAgICAgICAgd2hpbGUobm9kZSl7DQogICAgICAgICAgICB0ZXh0Q29udGVudCA9IG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlIDogbm9kZVticm93c2VyLmllID8gJ2lubmVyVGV4dCcgOiAndGV4dENvbnRlbnQnXTsNCiAgICAgICAgICAgIGluZGV4ID0gZmluZFRleHRJblN0cmluZyh0ZXh0Q29udGVudCxvcHQsY3VycmVudEluZGV4ICk7DQogICAgICAgICAgICBmaXJzdCA9IDA7DQogICAgICAgICAgICBpZihpbmRleCE9LTEpew0KICAgICAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgICAgICdub2RlJzpub2RlLA0KICAgICAgICAgICAgICAgICAgICAnaW5kZXgnOmluZGV4DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbm9kZSA9IGRvbVV0aWxzW21ldGhvZE5hbWVdKG5vZGUpOw0KICAgICAgICAgICAgaWYobm9kZSl7DQogICAgICAgICAgICAgICAgY3VycmVudEluZGV4ID0gb3B0LmRpciA9PSAtMSA/IChub2RlLm5vZGVUeXBlID09IDMgPyBub2RlLm5vZGVWYWx1ZSA6IG5vZGVbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50J10pLmxlbmd0aCA6IDA7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBmaW5kTlRleHRJbkJsb2NrRWxtKG5vZGUsaW5kZXgsc3RyKXsNCiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IDAsDQogICAgICAgICAgICBjdXJyZW50Tm9kZSA9IG5vZGUuZmlyc3RDaGlsZCwNCiAgICAgICAgICAgIGN1cnJlbnROb2RlTGVuZ3RoID0gMCwNCiAgICAgICAgICAgIHJlc3VsdDsNCiAgICAgICAgd2hpbGUoY3VycmVudE5vZGUpew0KICAgICAgICAgICAgaWYoY3VycmVudE5vZGUubm9kZVR5cGUgPT0gMyl7DQogICAgICAgICAgICAgICAgY3VycmVudE5vZGVMZW5ndGggPSBjdXJyZW50Tm9kZS5ub2RlVmFsdWUucmVwbGFjZSgvKF5bXHRcclxuXSspfChbXHRcclxuXSskKS8sJycpLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBjdXJyZW50SW5kZXggKz0gY3VycmVudE5vZGVMZW5ndGg7DQogICAgICAgICAgICAgICAgaWYoY3VycmVudEluZGV4ID49IGluZGV4KXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICdub2RlJzpjdXJyZW50Tm9kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICdpbmRleCc6IGN1cnJlbnROb2RlTGVuZ3RoIC0gKGN1cnJlbnRJbmRleCAtIGluZGV4KQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfWVsc2UgaWYoIWR0ZC4kZW1wdHlbY3VycmVudE5vZGUudGFnTmFtZV0pew0KICAgICAgICAgICAgICAgIGN1cnJlbnROb2RlTGVuZ3RoID0gY3VycmVudE5vZGVbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50J10ucmVwbGFjZSgvKF5bXHRcclxuXSspfChbXHRcclxuXSskKS8sJycpLmxlbmd0aA0KICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCArPSBjdXJyZW50Tm9kZUxlbmd0aDsNCiAgICAgICAgICAgICAgICBpZihjdXJyZW50SW5kZXggPj0gaW5kZXgpew0KICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmaW5kTlRleHRJbkJsb2NrRWxtKGN1cnJlbnROb2RlLGN1cnJlbnROb2RlTGVuZ3RoIC0gKGN1cnJlbnRJbmRleCAtIGluZGV4KSxzdHIpOw0KICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHQpew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGN1cnJlbnROb2RlID0gZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudE5vZGUpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2VhcmNoUmVwbGFjZShtZSxvcHQpew0KICAgICAgICB2YXIgcm5nID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgICAgICBzdGFydEJsb2NrTm9kZSwNCiAgICAgICAgICAgIHNlYXJjaFN0ciA9IG9wdC5zZWFyY2hTdHIsDQogICAgICAgICAgICBzcGFuID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOw0KICAgICAgICBzcGFuLmlubmVySFRNTCA9ICckJHVlZGl0b3Jfc2VhcmNocmVwbGFjZV9rZXkkJCc7DQoNCiAgICAgICAgLy/liKTmlq3mmK/kuI3mmK/nrKzkuIDmrKHpgInkuK0NCiAgICAgICAgaWYoIXJuZy5jb2xsYXBzZWQpew0KICAgICAgICAgICAgcm5nLnNlbGVjdCgpOw0KICAgICAgICAgICAgdmFyIHJuZ1RleHQgPSBtZS5zZWxlY3Rpb24uZ2V0VGV4dCgpOw0KICAgICAgICAgICAgaWYobmV3IFJlZ0V4cCgnXicgKyBvcHQuc2VhcmNoU3RyICsgJyQnLChvcHQuY2FzZXNlbnNpdGl2ZSA/ICcnIDogJ2knKSkudGVzdChybmdUZXh0KSl7DQogICAgICAgICAgICAgICAgaWYob3B0LnJlcGxhY2VTdHIgIT0gdW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVRleHQocm5nLG9wdC5yZXBsYWNlU3RyKTsNCiAgICAgICAgICAgICAgICAgICAgcm5nLnNlbGVjdCgpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgcm5nLmNvbGxhcHNlKG9wdC5kaXIgPT0gLTEpDQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KDQogICAgICAgIHJuZy5pbnNlcnROb2RlKHNwYW4pOw0KICAgICAgICBybmcuZW5sYXJnZVRvQmxvY2tFbG0odHJ1ZSk7DQogICAgICAgIHN0YXJ0QmxvY2tOb2RlID0gcm5nLnN0YXJ0Q29udGFpbmVyOw0KICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gc3RhcnRCbG9ja05vZGVbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnIDogJ3RleHRDb250ZW50J10uaW5kZXhPZignJCR1ZWRpdG9yX3NlYXJjaHJlcGxhY2Vfa2V5JCQnKTsNCiAgICAgICAgcm5nLnNldFN0YXJ0QmVmb3JlKHNwYW4pOw0KICAgICAgICBkb21VdGlscy5yZW1vdmUoc3Bhbik7DQogICAgICAgIHZhciByZXN1bHQgPSBmaW5kVGV4dEJsb2NrRWxtKHN0YXJ0QmxvY2tOb2RlLGN1cnJlbnRJbmRleCxvcHQpOw0KICAgICAgICBpZihyZXN1bHQpew0KICAgICAgICAgICAgdmFyIHJuZ1N0YXJ0ID0gZmluZE5UZXh0SW5CbG9ja0VsbShyZXN1bHQubm9kZSxyZXN1bHQuaW5kZXgsc2VhcmNoU3RyKTsNCiAgICAgICAgICAgIHZhciBybmdFbmQgPSBmaW5kTlRleHRJbkJsb2NrRWxtKHJlc3VsdC5ub2RlLHJlc3VsdC5pbmRleCArIHNlYXJjaFN0ci5sZW5ndGgsc2VhcmNoU3RyKTsNCiAgICAgICAgICAgIHJuZy5zZXRTdGFydChybmdTdGFydC5ub2RlLHJuZ1N0YXJ0LmluZGV4KS5zZXRFbmQocm5nRW5kLm5vZGUscm5nRW5kLmluZGV4KTsNCg0KICAgICAgICAgICAgaWYob3B0LnJlcGxhY2VTdHIgIT09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgcmVwbGFjZVRleHQocm5nLG9wdC5yZXBsYWNlU3RyKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcm5nLnNlbGVjdCgpOw0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgcm5nLnNldEN1cnNvcigpDQogICAgICAgIH0NCg0KICAgIH0NCiAgICBmdW5jdGlvbiByZXBsYWNlVGV4dChybmcsc3RyKXsNCiAgICAgICAgbWUuZmlyZUV2ZW50KCdzYXZlU2NlbmUnKTsNCiAgICAgICAgc3RyID0gbWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKTsNCiAgICAgICAgcm5nLmRlbGV0ZUNvbnRlbnRzKCkuaW5zZXJ0Tm9kZShzdHIpOw0KICAgICAgICBtZS5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KICAgIH0NCiAgICByZXR1cm4gew0KICAgICAgICBjb21tYW5kczp7DQogICAgICAgICAgICAnc2VhcmNocmVwbGFjZSc6ew0KICAgICAgICAgICAgICAgIGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsb3B0KXsNCiAgICAgICAgICAgICAgICAgICAgdXRpbHMuZXh0ZW5kKG9wdCx7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGwgOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2VzZW5zaXRpdmUgOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpciA6IDENCiAgICAgICAgICAgICAgICAgICAgfSx0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG51bSA9IDA7DQogICAgICAgICAgICAgICAgICAgIGlmKG9wdC5hbGwpew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJuZyA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gbWUuYm9keS5maXJzdENoaWxkOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlyc3QgJiYgZmlyc3Qubm9kZVR5cGUgPT0gMSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcm5nLnNldFN0YXJ0KGZpcnN0LDApDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZihmaXJzdC5ub2RlVHlwZSA9PSAzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBybmcuc2V0U3RhcnRCZWZvcmUoZmlyc3QpDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBybmcuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoc2VhcmNoUmVwbGFjZSh0aGlzLG9wdCkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bSsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlYXJjaFJlcGxhY2UodGhpcyxvcHQpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW0rKw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG5vdE5lZWRVbmRvOjENCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0pOw0KLyoqDQogKiDoh6rlrprkuYnmoLflvI8NCiAqIEBmaWxlDQogKiBAc2luY2UgMS4yLjYuMQ0KICovDQoNCi8qKg0KICog5qC55o2uY29uZmln6YWN572u5paH5Lu26YeM4oCcY3VzdG9tc3R5bGXigJ3pgInpobnnmoTlgLzlr7nljLnphY3nmoTmoIfnrb7miafooYzmoLflvI/mm7/mjaLjgIINCiAqIEBjb21tYW5kIGN1c3RvbXN0eWxlDQogKiBAbWV0aG9kIGV4ZWNDb21tYW5kDQogKiBAcGFyYW0geyBTdHJpbmcgfSBjbWQg5ZG95Luk5a2X56ym5LiyDQogKiBAZXhhbXBsZQ0KICogYGBgamF2YXNjcmlwdA0KICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnY3VzdG9tc3R5bGUnICk7DQogKiBgYGANCiAqLw0KVUUucGx1Z2luc1snY3VzdG9tc3R5bGUnXSA9IGZ1bmN0aW9uKCkgew0KICAgIHZhciBtZSA9IHRoaXM7DQogICAgbWUuc2V0T3B0KHsgJ2N1c3RvbXN0eWxlJzpbDQogICAgICAgIHt0YWc6J2gxJyxuYW1lOid0YycsIHN0eWxlOidmb250LXNpemU6MzJweDtmb250LXdlaWdodDpib2xkO2JvcmRlci1ib3R0b206I2NjYyAycHggc29saWQ7cGFkZGluZzowIDRweCAwIDA7dGV4dC1hbGlnbjpjZW50ZXI7bWFyZ2luOjAgMCAyMHB4IDA7J30sDQogICAgICAgIHt0YWc6J2gxJyxuYW1lOid0bCcsIHN0eWxlOidmb250LXNpemU6MzJweDtmb250LXdlaWdodDpib2xkO2JvcmRlci1ib3R0b206I2NjYyAycHggc29saWQ7cGFkZGluZzowIDRweCAwIDA7dGV4dC1hbGlnbjpsZWZ0O21hcmdpbjowIDAgMTBweCAwOyd9LA0KICAgICAgICB7dGFnOidzcGFuJyxuYW1lOidpbScsIHN0eWxlOidmb250LXNpemU6MTZweDtmb250LXN0eWxlOml0YWxpYztmb250LXdlaWdodDpib2xkO2xpbmUtaGVpZ2h0OjE4cHg7J30sDQogICAgICAgIHt0YWc6J3NwYW4nLG5hbWU6J2hpJywgc3R5bGU6J2ZvbnQtc2l6ZToxNnB4O2ZvbnQtc3R5bGU6aXRhbGljO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6cmdiKDUxLCAxNTMsIDIwNCk7bGluZS1oZWlnaHQ6MThweDsnfQ0KICAgIF19KTsNCiAgICBtZS5jb21tYW5kc1snY3VzdG9tc3R5bGUnXSA9IHsNCiAgICAgICAgZXhlY0NvbW1hbmQgOiBmdW5jdGlvbihjbWROYW1lLCBvYmopIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgPSBvYmoudGFnLA0KICAgICAgICAgICAgICAgICAgICBub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudChtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgZnVuY3Rpb24obm9kZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKCdsYWJlbCcpOw0KICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKSwNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UsYmssdG1wT2JqID0ge307DQogICAgICAgICAgICBmb3IgKHZhciBwIGluIG9iaikgew0KICAgICAgICAgICAgICAgaWYob2JqW3BdIT09dW5kZWZpbmVkKQ0KICAgICAgICAgICAgICAgICAgICB0bXBPYmpbcF0gPSBvYmpbcF07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkZWxldGUgdG1wT2JqLnRhZzsNCiAgICAgICAgICAgIGlmIChub2RlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdsYWJlbCcpID09IG9iai5sYWJlbCkgew0KICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICBiayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICAvL3RyYWNlOjE3MzIg5Yig5o6J6Ieq5a6a5LmJ5qCH562+77yM6KaB5pyJcOadpeWbnuWhq+ermeS9jQ0KICAgICAgICAgICAgICAgICAgICBpZihkdGQuJGJsb2NrW25vZGUudGFnTmFtZV0pew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGxOb2RlID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKG5vZGUsIGZpbGxOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZmlsbE5vZGUsIG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5vZGUpOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShub2RlLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgIHZhciBjb21tb24gPSBkb21VdGlscy5nZXRDb21tb25BbmNlc3Rvcihiay5zdGFydCwgYmsuZW5kKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGNvbW1vbiwgdGFnTmFtZSk7DQogICAgICAgICAgICAgICAgICAgIGlmKG5ldyBSZWdFeHAodGFnTmFtZSwnaScpLnRlc3QoY29tbW9uLnRhZ05hbWUpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVzLnB1c2goY29tbW9uKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCxuaTsgbmkgPSBub2Rlc1tpKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5pLmdldEF0dHJpYnV0ZSgnbGFiZWwnKSA9PSBvYmoubGFiZWwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHMgPSBkb21VdGlscy5nZXRQb3NpdGlvbihuaSwgYmsuc3RhcnQpLHBlID0gZG9tVXRpbHMuZ2V0UG9zaXRpb24obmksIGJrLmVuZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChwcyAmIGRvbVV0aWxzLlBPU0lUSU9OX0ZPTExPV0lORyB8fCBwcyAmIGRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwZSAmIGRvbVV0aWxzLlBPU0lUSU9OX1BSRUNFRElORyB8fCBwZSAmIGRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHRkLiRibG9ja1t0YWdOYW1lXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGxOb2RlID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMubW92ZUNoaWxkKG5pLCBmaWxsTm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmaWxsTm9kZSwgbmkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKG5pLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBub2RlID0gZG9tVXRpbHMuZmluZFBhcmVudChjb21tb24sIGZ1bmN0aW9uKG5vZGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSgnbGFiZWwnKSA9PSBvYmoubGFiZWw7DQogICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICBpZiAobm9kZSkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobm9kZSwgdHJ1ZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGR0ZC4kYmxvY2tbdGFnTmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5leGVjQ29tbWFuZCgncGFyYWdyYXBoJywgdGFnTmFtZSwgdG1wT2JqLCdjdXN0b21zdHlsZScpOw0KICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIXJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBkb21VdGlscy5maW5kUGFyZW50KG1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLCBmdW5jdGlvbihub2RlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKCdsYWJlbCcpID09IG9iai5sYWJlbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBOb2RlID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobm9kZSwgcE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQsIHBOb2RlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHBOb2RlLCAwKS5zZXRDdXJzb3IoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQoNCiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLmNvbGxhcHNlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRBdHRyaWJ1dGVzKG5vZGUsIHRtcE9iaik7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKG5vZGUpLnNldFN0YXJ0KG5vZGUsIDApLnNldEN1cnNvcigpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBiayA9IHJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgICAgIHJhbmdlLmFwcGx5SW5saW5lU3R5bGUodGFnTmFtZSwgdG1wT2JqKS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5Q29tbWFuZFZhbHVlIDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgcGFyZW50ID0gZG9tVXRpbHMuZmlsdGVyTm9kZUxpc3QoDQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLA0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLmdldEF0dHJpYnV0ZSgnbGFiZWwnKX0NCiAgICAgICAgICAgICk7DQogICAgICAgICAgICByZXR1cm4gIHBhcmVudCA/IHBhcmVudC5nZXRBdHRyaWJ1dGUoJ2xhYmVsJykgOiAnJzsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy/lvZPljrvmjoljdXN0b21zdHlsZeaYr++8jOWmguaenOaYr+Wdl+WFg+e0oO+8jOeUqHDku6Pmm78NCiAgICBtZS5hZGRMaXN0ZW5lcigna2V5dXAnLCBmdW5jdGlvbih0eXBlLCBldnQpIHsNCiAgICAgICAgdmFyIGtleUNvZGUgPSBldnQua2V5Q29kZSB8fCBldnQud2hpY2g7DQoNCiAgICAgICAgaWYgKGtleUNvZGUgPT0gMzIgfHwga2V5Q29kZSA9PSAxMykgew0KICAgICAgICAgICAgdmFyIHJhbmdlID0gbWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7DQogICAgICAgICAgICBpZiAocmFuZ2UuY29sbGFwc2VkKSB7DQogICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBkb21VdGlscy5maW5kUGFyZW50KG1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLCBmdW5jdGlvbihub2RlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBub2RlLmdldEF0dHJpYnV0ZSgnbGFiZWwnKTsNCiAgICAgICAgICAgICAgICB9LCB0cnVlKTsNCiAgICAgICAgICAgICAgICBpZiAobm9kZSAmJiBkdGQuJGJsb2NrW25vZGUudGFnTmFtZV0gJiYgZG9tVXRpbHMuaXNFbXB0eU5vZGUobm9kZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwID0gbWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobm9kZSwgcCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCwgcCk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUobm9kZSk7DQogICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChwLCAwKS5zZXRDdXJzb3IoKTsNCg0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSk7DQp9Ow0KLy8vaW1wb3J0IGNvcmUNCi8vL2NvbW1hbmRzIOi/nOeoi+WbvueJh+aKk+WPlg0KLy8vY29tbWFuZHNOYW1lICBjYXRjaFJlbW90ZUltYWdlLGNhdGNocmVtb3RlaW1hZ2VlbmFibGUNCi8vL2NvbW1hbmRzVGl0bGUgIOi/nOeoi+WbvueJh+aKk+WPlg0KLyoNCiAqIOi/nOeoi+WbvueJh+aKk+WPlizlvZPlvIDlkK/mnKzmj5Lku7bml7bmiYDmnInkuI3nrKblkIjmnKzlnLDln5/lkI3nmoTlm77niYfpg73lsIbooqvmipPlj5bmiJDkuLrmnKzlnLDmnI3liqHlmajkuIrnmoTlm77niYcNCiAqDQogKi8NClVFLnBsdWdpbnNbJ2NhdGNocmVtb3RlaW1hZ2UnXSA9IGZ1bmN0aW9uICgpIHsNCiAgICBpZiAodGhpcy5vcHRpb25zLmNhdGNoUmVtb3RlSW1hZ2VFbmFibGU9PT1mYWxzZSl7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgdmFyIG1lID0gdGhpczsNCiAgICB0aGlzLnNldE9wdCh7DQogICAgICAgIGxvY2FsRG9tYWluOlsiMTI3LjAuMC4xIiwibG9jYWxob3N0IiwiaW1nLmJhaWR1LmNvbSJdLA0KICAgICAgICBzZXBhcmF0ZXI6J3VlX3NlcGFyYXRlX3VlJywNCiAgICAgICAgY2F0Y2hGaWVsZE5hbWU6InVwZmlsZSIsDQogICAgICAgIGNhdGNoUmVtb3RlSW1hZ2VFbmFibGU6dHJ1ZQ0KICAgIH0pOw0KICAgIHZhciBhamF4ID0gVUUuYWpheCwNCiAgICAgICAgbG9jYWxEb21haW4gPSBtZS5vcHRpb25zLmxvY2FsRG9tYWluICwNCiAgICAgICAgY2F0Y2hlclVybCA9IG1lLm9wdGlvbnMuY2F0Y2hlclVybCwNCiAgICAgICAgc2VwYXJhdGVyID0gbWUub3B0aW9ucy5zZXBhcmF0ZXI7DQogICAgZnVuY3Rpb24gY2F0Y2hyZW1vdGVpbWFnZShpbWdzLCBjYWxsYmFja3MpIHsNCiAgICAgICAgdmFyIHN1Ym1pdFN0ciA9IGltZ3Muam9pbihzZXBhcmF0ZXIpOw0KICAgICAgICB2YXIgdG1wT3B0aW9uID0gew0KICAgICAgICAgICAgdGltZW91dDo2MDAwMCwgLy/ljZXkvY3vvJrmr6vnp5LvvIzlm57osIPor7fmsYLotoXml7borr7nva7jgILnm67moIfnlKjmiLflpoLmnpznvZHpgJ/kuI3mmK/lvojlv6vnmoTor53mraTlpITlu7rorq7orr7nva7kuIDkuKrovoPlpKfnmoTmlbDlgLwNCiAgICAgICAgICAgIG9uc3VjY2VzczpjYWxsYmFja3NbInN1Y2Nlc3MiXSwNCiAgICAgICAgICAgIG9uZXJyb3I6Y2FsbGJhY2tzWyJlcnJvciJdDQogICAgICAgIH07DQogICAgICAgIHRtcE9wdGlvblttZS5vcHRpb25zLmNhdGNoRmllbGROYW1lXSA9IHN1Ym1pdFN0cjsNCiAgICAgICAgYWpheC5yZXF1ZXN0KGNhdGNoZXJVcmwsIHRtcE9wdGlvbik7DQogICAgfQ0KDQogICAgbWUuYWRkTGlzdGVuZXIoImFmdGVycGFzdGUiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIG1lLmZpcmVFdmVudCgiY2F0Y2hSZW1vdGVJbWFnZSIpOw0KICAgIH0pOw0KDQogICAgbWUuYWRkTGlzdGVuZXIoImNhdGNoUmVtb3RlSW1hZ2UiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciByZW1vdGVJbWFnZXMgPSBbXTsNCiAgICAgICAgdmFyIGltZ3MgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5kb2N1bWVudCwgImltZyIpOw0KICAgICAgICB2YXIgdGVzdCA9IGZ1bmN0aW9uIChzcmMsdXJscykgew0KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDAsIHVybDsgdXJsID0gdXJsc1tqKytdOykgew0KICAgICAgICAgICAgICAgIGlmIChzcmMuaW5kZXhPZih1cmwpICE9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH07DQogICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBpbWdzW2krK107KSB7DQogICAgICAgICAgICBpZiAoY2kuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpKXsNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBzcmMgPSBjaS5nZXRBdHRyaWJ1dGUoIl9zcmMiKSB8fCBjaS5zcmMgfHwgIiI7DQogICAgICAgICAgICBpZiAoL14oaHR0cHM/fGZ0cCk6L2kudGVzdChzcmMpICYmICF0ZXN0KHNyYyxsb2NhbERvbWFpbikpIHsNCiAgICAgICAgICAgICAgICByZW1vdGVJbWFnZXMucHVzaChzcmMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChyZW1vdGVJbWFnZXMubGVuZ3RoKSB7DQogICAgICAgICAgICBjYXRjaHJlbW90ZWltYWdlKHJlbW90ZUltYWdlcywgew0KICAgICAgICAgICAgICAgIC8v5oiQ5Yqf5oqT5Y+WDQogICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbiAoeGhyKSB7DQogICAgICAgICAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IGV2YWwoIigiICsgeGhyLnJlc3BvbnNlVGV4dCArICIpIik7DQogICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB2YXIgc3JjVXJscyA9IGluZm8uc3JjVXJsLnNwbGl0KHNlcGFyYXRlciksDQogICAgICAgICAgICAgICAgICAgICAgICB1cmxzID0gaW5mby51cmwuc3BsaXQoc2VwYXJhdGVyKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IGltZ3NbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBjaS5nZXRBdHRyaWJ1dGUoIl9zcmMiKSB8fCBjaS5zcmMgfHwgIiI7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgY2o7IGNqID0gc3JjVXJsc1tqKytdOykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB1cmxzW2ogLSAxXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3JjID09IGNqICYmIHVybCAhPSAiZXJyb3IiKSB7ICAvL+aKk+WPluWksei0peaXtuS4jeWBmuabv+aNouWkhOeQhg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WcsOWdgOS/ruatow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U3JjID0gbWUub3B0aW9ucy5jYXRjaGVyUGF0aCArIHVybDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhjaSwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInNyYyI6bmV3U3JjLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIl9zcmMiOm5ld1NyYw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnY2F0Y2hyZW1vdGVzdWNjZXNzJykNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIC8v5Zue6LCD5aSx6LSl77yM5pys5qyh6K+35rGC6LaF5pe2DQogICAgICAgICAgICAgICAgZXJyb3I6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoImNhdGNocmVtb3RlZXJyb3IiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KDQogICAgfSk7DQp9Ow0KLyoqDQogKiDmj5LlhaXpn7PkuZDlkb3ku6QNCiAqIEBmaWxlDQogKi8NClVFLnBsdWdpbi5yZWdpc3RlcignbXVzaWMnLCBmdW5jdGlvbiAoKXsNCiAgICB2YXIgbWUgPSB0aGlzOw0KICAgIGZ1bmN0aW9uIGNyZWF0SW5zZXJ0U3RyKHVybCx3aWR0aCxoZWlnaHQsYWxpZ24sY3NzZmxvYXQsdG9FbWJlZCl7DQogICAgICAgIHJldHVybiAgIXRvRW1iZWQgPw0KICAgICAgICAgICAgICAgICc8aW1nICcgKw0KICAgICAgICAgICAgICAgICAgICAoYWxpZ24gJiYgIWNzc2Zsb2F0PyAnYWxpZ249IicgKyBhbGlnbiArICciJyA6ICcnKSArDQogICAgICAgICAgICAgICAgICAgIChjc3NmbG9hdCA/ICdzdHlsZT0iZmxvYXQ6JyArIGNzc2Zsb2F0ICsgJyInIDogJycpICsNCiAgICAgICAgICAgICAgICAgICAgJyB3aWR0aD0iJysgd2lkdGggKyciIGhlaWdodD0iJyArIGhlaWdodCArICciIF91cmw9IicrdXJsKyciIGNsYXNzPSJlZHVpLWZha2VkLW11c2ljIicgKw0KICAgICAgICAgICAgICAgICAgICAnIHNyYz0iJyttZS5vcHRpb25zLmxhbmdQYXRoK21lLm9wdGlvbnMubGFuZysnL2ltYWdlcy9tdXNpYy5wbmciIC8+Jw0KICAgICAgICAgICAgOg0KICAgICAgICAgICAgJzxlbWJlZCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgY2xhc3M9ImVkdWktZmFrZWQtbXVzaWMiIHBsdWdpbnNwYWdlPSJodHRwOi8vd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyIicgKw0KICAgICAgICAgICAgICAgICcgc3JjPSInICsgdXJsICsgJyIgd2lkdGg9IicgKyB3aWR0aCAgKyAnIiBoZWlnaHQ9IicgKyBoZWlnaHQgICsgJyIgJysgKGFsaWduICYmICFjc3NmbG9hdD8gJ2FsaWduPSInICsgYWxpZ24gKyAnIicgOiAnJykgKw0KICAgICAgICAgICAgICAgIChjc3NmbG9hdCA/ICdzdHlsZT0iZmxvYXQ6JyArIGNzc2Zsb2F0ICsgJyInIDogJycpICsNCiAgICAgICAgICAgICAgICAnIHdtb2RlPSJ0cmFuc3BhcmVudCIgcGxheT0idHJ1ZSIgbG9vcD0iZmFsc2UiIG1lbnU9ImZhbHNlIiBhbGxvd3NjcmlwdGFjY2Vzcz0ibmV2ZXIiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSIgPic7DQogICAgfQ0KICAgIHJldHVybiB7DQogICAgICAgIG91dHB1dFJ1bGU6IGZ1bmN0aW9uKHJvb3Qpew0KICAgICAgICAgICAgdXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCdpbWcnKSxmdW5jdGlvbihub2RlKXsNCiAgICAgICAgICAgICAgICB2YXIgaHRtbDsNCiAgICAgICAgICAgICAgICBpZihub2RlLmdldEF0dHIoJ2NsYXNzJykgPT0gJ2VkdWktZmFrZWQtbXVzaWMnKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGNzc2Zsb2F0ID0gbm9kZS5nZXRTdHlsZSgnZmxvYXQnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGFsaWduID0gbm9kZS5nZXRBdHRyKCdhbGlnbicpOw0KICAgICAgICAgICAgICAgICAgICBodG1sID0gIGNyZWF0SW5zZXJ0U3RyKG5vZGUuZ2V0QXR0cigiX3VybCIpLCBub2RlLmdldEF0dHIoJ3dpZHRoJyksIG5vZGUuZ2V0QXR0cignaGVpZ2h0JyksIGFsaWduLCBjc3NmbG9hdCwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBlbWJlZCA9IFVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoaHRtbCk7DQogICAgICAgICAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZW1iZWQsbm9kZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfSwNCiAgICAgICAgaW5wdXRSdWxlOmZ1bmN0aW9uKHJvb3Qpew0KICAgICAgICAgICAgdXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCdlbWJlZCcpLGZ1bmN0aW9uKG5vZGUpew0KICAgICAgICAgICAgICAgIGlmKG5vZGUuZ2V0QXR0cignY2xhc3MnKSA9PSAnZWR1aS1mYWtlZC1tdXNpYycpew0KICAgICAgICAgICAgICAgICAgICB2YXIgY3NzZmxvYXQgPSBub2RlLmdldFN0eWxlKCdmbG9hdCcpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgYWxpZ24gPSBub2RlLmdldEF0dHIoJ2FsaWduJyk7DQogICAgICAgICAgICAgICAgICAgIGh0bWwgPSAgY3JlYXRJbnNlcnRTdHIobm9kZS5nZXRBdHRyKCJzcmMiKSwgbm9kZS5nZXRBdHRyKCd3aWR0aCcpLCBub2RlLmdldEF0dHIoJ2hlaWdodCcpLCBhbGlnbiwgY3NzZmxvYXQsZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gVUUudU5vZGUuY3JlYXRlRWxlbWVudChodG1sKTsNCiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChpbWcsbm9kZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCg0KICAgICAgICB9LA0KICAgICAgICBjb21tYW5kczp7DQogICAgICAgICAgICAvKioNCiAgICAgICAgICAgICAqIOaPkuWFpemfs+S5kA0KICAgICAgICAgICAgICogQGNvbW1hbmQgbXVzaWMNCiAgICAgICAgICAgICAqIEBtZXRob2QgZXhlY0NvbW1hbmQNCiAgICAgICAgICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IG11c2ljT3B0aW9ucyDmj5LlhaXpn7PkuZDnmoTlj4LmlbDpobnvvIwg5pSv5oyB55qEa2V55pyJ77yaIHVybD0+6Z+z5LmQ5Zyw5Z2A77ybDQogICAgICAgICAgICAgKiB3aWR0aD0+6Z+z5LmQ5a655Zmo5a695bqm77ybaGVpZ2h0PT7pn7PkuZDlrrnlmajpq5jluqbvvJthbGlnbj0+6Z+z5LmQ5paH5Lu255qE5a+56b2Q5pa55byP77yMIOWPr+mAieWAvOaciTogbGVmdCwgY2VudGVyLCByaWdodCwgbm9uZQ0KICAgICAgICAgICAgICogQGV4YW1wbGUNCiAgICAgICAgICAgICAqIGBgYGphdmFzY3JpcHQNCiAgICAgICAgICAgICAqIC8vZWRpdG9y5piv57yW6L6R5Zmo5a6e5L6LDQogICAgICAgICAgICAgKiAvL+WcqOe8lui+keWZqOmHjOaPkuWFpeS4gOS4quKAnOakjeeJqeWkp+aImOWDteWwuOKAneeahEFQUA0KICAgICAgICAgICAgICogZWRpdG9yLmV4ZWNDb21tYW5kKCAnbXVzaWMnICwgew0KICAgICAgICAgICAgICogICAgIHdpZHRoOiA0MDAsDQogICAgICAgICAgICAgKiAgICAgaGVpZ2h0OiA5NSwNCiAgICAgICAgICAgICAqICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICAgKiAgICAgdXJsOiAi6Z+z5LmQ5Zyw5Z2AIg0KICAgICAgICAgICAgICogfSApOw0KICAgICAgICAgICAgICogYGBgDQogICAgICAgICAgICAgKi8NCiAgICAgICAgICAgICdtdXNpYyc6ew0KICAgICAgICAgICAgICAgIGV4ZWNDb21tYW5kOmZ1bmN0aW9uIChjbWQsIG11c2ljT2JqKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSBjcmVhdEluc2VydFN0cihtdXNpY09iai51cmwsIG11c2ljT2JqLndpZHRoIHx8IDQwMCwgbXVzaWNPYmouaGVpZ2h0IHx8IDk1LCAibm9uZSIsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuZXhlY0NvbW1hbmQoImluc2VydGh0bWwiLHN0cik7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgICAgICAgICBpbWcgPSBtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5nZXRDbG9zZWROb2RlKCksDQogICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gaW1nICYmIChpbWcuY2xhc3NOYW1lID09ICJlZHVpLWZha2VkLW11c2ljIik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmbGFnID8gMSA6IDA7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfSk7DQp2YXIgYmFpZHUgPSBiYWlkdSB8fCB7fTsNCmJhaWR1LmVkaXRvciA9IGJhaWR1LmVkaXRvciB8fCB7fTsNCmJhaWR1LmVkaXRvci51aSA9IHt9Ow0KKGZ1bmN0aW9uICgpew0KICAgIHZhciBicm93c2VyID0gYmFpZHUuZWRpdG9yLmJyb3dzZXIsDQogICAgICAgIGRvbVV0aWxzID0gYmFpZHUuZWRpdG9yLmRvbS5kb21VdGlsczsNCg0KICAgIHZhciBtYWdpYyA9ICckRURJVE9SVUknOw0KICAgIHZhciByb290ID0gd2luZG93W21hZ2ljXSA9IHt9Ow0KICAgIHZhciB1aWRNYWdpYyA9ICdJRCcgKyBtYWdpYzsNCiAgICB2YXIgdWlkQ291bnQgPSAwOw0KDQogICAgdmFyIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlscyA9IHsNCiAgICAgICAgdWlkOiBmdW5jdGlvbiAob2JqKXsNCiAgICAgICAgICAgIHJldHVybiAob2JqID8gb2JqW3VpZE1hZ2ljXSB8fCAob2JqW3VpZE1hZ2ljXSA9ICsrIHVpZENvdW50KSA6ICsrIHVpZENvdW50KTsNCiAgICAgICAgfSwNCiAgICAgICAgaG9vazogZnVuY3Rpb24gKCBmbiwgY2FsbGJhY2sgKSB7DQogICAgICAgICAgICB2YXIgZGc7DQogICAgICAgICAgICBpZiAoZm4gJiYgZm4uX2NhbGxiYWNrcykgew0KICAgICAgICAgICAgICAgIGRnID0gZm47DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGRnID0gZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBxOw0KICAgICAgICAgICAgICAgICAgICBpZiAoZm4pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFja3MgPSBkZy5fY2FsbGJhY2tzOw0KICAgICAgICAgICAgICAgICAgICB2YXIgayA9IGNhbGxiYWNrcy5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChrIC0tKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgciA9IGNhbGxiYWNrc1trXS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHEgPT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSByOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBxOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZGcuX2NhbGxiYWNrcyA9IFtdOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZGcuX2NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTsNCiAgICAgICAgICAgIHJldHVybiBkZzsNCiAgICAgICAgfSwNCiAgICAgICAgY3JlYXRlRWxlbWVudEJ5SHRtbDogZnVuY3Rpb24gKGh0bWwpew0KICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sOw0KICAgICAgICAgICAgZWwgPSBlbC5maXJzdENoaWxkOw0KICAgICAgICAgICAgZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbCk7DQogICAgICAgICAgICByZXR1cm4gZWw7DQogICAgICAgIH0sDQogICAgICAgIGdldFZpZXdwb3J0RWxlbWVudDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci5xdWlya3MpID8NCiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Ow0KICAgICAgICB9LA0KICAgICAgICBnZXRDbGllbnRSZWN0OiBmdW5jdGlvbiAoZWxlbWVudCl7DQogICAgICAgICAgICB2YXIgYmNyOw0KICAgICAgICAgICAgLy90cmFjZSAgSUU25LiL5Zyo5o6n5Yi257yW6L6R5Zmo5pi+6ZqQ5pe25Y+v6IO95Lya5oql6ZSZ77yMY2F0Y2jkuIDkuIsNCiAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICBiY3IgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOw0KICAgICAgICAgICAgfWNhdGNoKGUpew0KICAgICAgICAgICAgICAgIGJjcj17bGVmdDowLHRvcDowLGhlaWdodDowLHdpZHRoOjB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcmVjdCA9IHsNCiAgICAgICAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKGJjci5sZWZ0KSwNCiAgICAgICAgICAgICAgICB0b3A6IE1hdGgucm91bmQoYmNyLnRvcCksDQogICAgICAgICAgICAgICAgaGVpZ2h0OiBNYXRoLnJvdW5kKGJjci5ib3R0b20gLSBiY3IudG9wKSwNCiAgICAgICAgICAgICAgICB3aWR0aDogTWF0aC5yb3VuZChiY3IucmlnaHQgLSBiY3IubGVmdCkNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB2YXIgZG9jOw0KICAgICAgICAgICAgd2hpbGUgKChkb2MgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQpICE9PSBkb2N1bWVudCAmJg0KICAgICAgICAgICAgICAgIChlbGVtZW50ID0gZG9tVXRpbHMuZ2V0V2luZG93KGRvYykuZnJhbWVFbGVtZW50KSkgew0KICAgICAgICAgICAgICAgIGJjciA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogICAgICAgICAgICAgICAgcmVjdC5sZWZ0ICs9IGJjci5sZWZ0Ow0KICAgICAgICAgICAgICAgIHJlY3QudG9wICs9IGJjci50b3A7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZWN0LmJvdHRvbSA9IHJlY3QudG9wICsgcmVjdC5oZWlnaHQ7DQogICAgICAgICAgICByZWN0LnJpZ2h0ID0gcmVjdC5sZWZ0ICsgcmVjdC53aWR0aDsNCiAgICAgICAgICAgIHJldHVybiByZWN0Ow0KICAgICAgICB9LA0KICAgICAgICBnZXRWaWV3cG9ydFJlY3Q6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIHZpZXdwb3J0RWwgPSB1aVV0aWxzLmdldFZpZXdwb3J0RWxlbWVudCgpOw0KICAgICAgICAgICAgdmFyIHdpZHRoID0gKHdpbmRvdy5pbm5lcldpZHRoIHx8IHZpZXdwb3J0RWwuY2xpZW50V2lkdGgpIHwgMDsNCiAgICAgICAgICAgIHZhciBoZWlnaHQgPSAod2luZG93LmlubmVySGVpZ2h0IHx8dmlld3BvcnRFbC5jbGllbnRIZWlnaHQpIHwgMDsNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgbGVmdDogMCwNCiAgICAgICAgICAgICAgICB0b3A6IDAsDQogICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsDQogICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLA0KICAgICAgICAgICAgICAgIGJvdHRvbTogaGVpZ2h0LA0KICAgICAgICAgICAgICAgIHJpZ2h0OiB3aWR0aA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0Vmlld3BvcnRPZmZzZXQ6IGZ1bmN0aW9uIChlbGVtZW50LCBvZmZzZXQpew0KICAgICAgICAgICAgdmFyIHJlY3Q7DQogICAgICAgICAgICB2YXIgZml4ZWRMYXllciA9IHVpVXRpbHMuZ2V0Rml4ZWRMYXllcigpOw0KICAgICAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSA9PT0gZml4ZWRMYXllcikgew0KICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IG9mZnNldC5sZWZ0ICsgJ3B4JzsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRvcCA9IG9mZnNldC50b3AgKyAncHgnOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5zZXRWaWV3cG9ydE9mZnNldChlbGVtZW50LCBvZmZzZXQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRFdmVudE9mZnNldDogZnVuY3Rpb24gKGV2dCl7DQogICAgICAgICAgICB2YXIgZWwgPSBldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50Ow0KICAgICAgICAgICAgdmFyIHJlY3QgPSB1aVV0aWxzLmdldENsaWVudFJlY3QoZWwpOw0KICAgICAgICAgICAgdmFyIG9mZnNldCA9IHVpVXRpbHMuZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50KGV2dCk7DQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldC5sZWZ0IC0gcmVjdC5sZWZ0LA0KICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0LnRvcCAtIHJlY3QudG9wDQogICAgICAgICAgICB9Ow0KICAgICAgICB9LA0KICAgICAgICBnZXRWaWV3cG9ydE9mZnNldEJ5RXZlbnQ6IGZ1bmN0aW9uIChldnQpew0KICAgICAgICAgICAgdmFyIGVsID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgIHZhciBmcmFtZUVsID0gZG9tVXRpbHMuZ2V0V2luZG93KGVsKS5mcmFtZUVsZW1lbnQ7DQogICAgICAgICAgICB2YXIgb2Zmc2V0ID0gew0KICAgICAgICAgICAgICAgIGxlZnQ6IGV2dC5jbGllbnRYLA0KICAgICAgICAgICAgICAgIHRvcDogZXZ0LmNsaWVudFkNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICBpZiAoZnJhbWVFbCAmJiBlbC5vd25lckRvY3VtZW50ICE9PSBkb2N1bWVudCkgew0KICAgICAgICAgICAgICAgIHZhciByZWN0ID0gdWlVdGlscy5nZXRDbGllbnRSZWN0KGZyYW1lRWwpOw0KICAgICAgICAgICAgICAgIG9mZnNldC5sZWZ0ICs9IHJlY3QubGVmdDsNCiAgICAgICAgICAgICAgICBvZmZzZXQudG9wICs9IHJlY3QudG9wOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG9mZnNldDsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0R2xvYmFsOiBmdW5jdGlvbiAoaWQsIG9iail7DQogICAgICAgICAgICByb290W2lkXSA9IG9iajsNCiAgICAgICAgICAgIHJldHVybiBtYWdpYyArICdbIicgKyBpZCAgKyAnIl0nOw0KICAgICAgICB9LA0KICAgICAgICB1bnNldEdsb2JhbDogZnVuY3Rpb24gKGlkKXsNCiAgICAgICAgICAgIGRlbGV0ZSByb290W2lkXTsNCiAgICAgICAgfSwNCiAgICAgICAgY29weUF0dHJpYnV0ZXM6IGZ1bmN0aW9uICh0Z3QsIHNyYyl7DQogICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHNyYy5hdHRyaWJ1dGVzOw0KICAgICAgICAgICAgdmFyIGsgPSBhdHRyaWJ1dGVzLmxlbmd0aDsNCiAgICAgICAgICAgIHdoaWxlIChrIC0tKSB7DQogICAgICAgICAgICAgICAgdmFyIGF0dHJOb2RlID0gYXR0cmlidXRlc1trXTsNCiAgICAgICAgICAgICAgICBpZiAoIGF0dHJOb2RlLm5vZGVOYW1lICE9ICdzdHlsZScgJiYgYXR0ck5vZGUubm9kZU5hbWUgIT0gJ2NsYXNzJyAmJiAoIWJyb3dzZXIuaWUgfHwgYXR0ck5vZGUuc3BlY2lmaWVkKSApIHsNCiAgICAgICAgICAgICAgICAgICAgdGd0LnNldEF0dHJpYnV0ZShhdHRyTm9kZS5ub2RlTmFtZSwgYXR0ck5vZGUubm9kZVZhbHVlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoc3JjLmNsYXNzTmFtZSkgew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKHRndCxzcmMuY2xhc3NOYW1lKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChzcmMuc3R5bGUuY3NzVGV4dCkgew0KICAgICAgICAgICAgICAgIHRndC5zdHlsZS5jc3NUZXh0ICs9ICc7JyArIHNyYy5zdHlsZS5jc3NUZXh0Ow0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICByZW1vdmVTdHlsZTogZnVuY3Rpb24gKGVsLCBzdHlsZU5hbWUpew0KICAgICAgICAgICAgaWYgKGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KSB7DQogICAgICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoc3R5bGVOYW1lKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWwuc3R5bGUucmVtb3ZlQXR0cmlidXRlKSB7DQogICAgICAgICAgICAgICAgZWwuc3R5bGUucmVtb3ZlQXR0cmlidXRlKHN0eWxlTmFtZSk7DQogICAgICAgICAgICB9IGVsc2UgdGhyb3cgJyc7DQogICAgICAgIH0sDQogICAgICAgIGNvbnRhaW5zOiBmdW5jdGlvbiAoZWxBLCBlbEIpew0KICAgICAgICAgICAgcmV0dXJuIGVsQSAmJiBlbEIgJiYgKGVsQSA9PT0gZWxCID8gZmFsc2UgOiAoDQogICAgICAgICAgICAgICAgZWxBLmNvbnRhaW5zID8gZWxBLmNvbnRhaW5zKGVsQikgOg0KICAgICAgICAgICAgICAgICAgICBlbEEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxCKSAmIDE2DQogICAgICAgICAgICAgICAgKSk7DQogICAgICAgIH0sDQogICAgICAgIHN0YXJ0RHJhZzogZnVuY3Rpb24gKGV2dCwgY2FsbGJhY2tzLGRvYyl7DQogICAgICAgICAgICB2YXIgZG9jID0gZG9jIHx8IGRvY3VtZW50Ow0KICAgICAgICAgICAgdmFyIHN0YXJ0WCA9IGV2dC5jbGllbnRYOw0KICAgICAgICAgICAgdmFyIHN0YXJ0WSA9IGV2dC5jbGllbnRZOw0KICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2dCl7DQogICAgICAgICAgICAgICAgdmFyIHggPSBldnQuY2xpZW50WCAtIHN0YXJ0WDsNCiAgICAgICAgICAgICAgICB2YXIgeSA9IGV2dC5jbGllbnRZIC0gc3RhcnRZOw0KICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5vbmRyYWdtb3ZlKHgsIHksZXZ0KTsNCiAgICAgICAgICAgICAgICBpZiAoZXZ0LnN0b3BQcm9wYWdhdGlvbikgew0KICAgICAgICAgICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGRvYy5hZGRFdmVudExpc3RlbmVyKSB7DQogICAgICAgICAgICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VVcChldnQpew0KICAgICAgICAgICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLm9uZHJhZ3N0b3AoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBoYW5kbGVNb3VzZVVwLCB0cnVlKTsNCiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGhhbmRsZU1vdXNlVXAsIHRydWUpOw0KDQogICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBlbG0gPSBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgICAgICBlbG0uc2V0Q2FwdHVyZSgpOw0KICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbGVhc2VDYXB0cnVlKCl7DQogICAgICAgICAgICAgICAgICAgIGVsbS5yZWxlYXNlQ2FwdHVyZSgpOw0KICAgICAgICAgICAgICAgICAgICBlbG0uZGV0YWNoRXZlbnQoJ29ubW91c2Vtb3ZlJywgaGFuZGxlTW91c2VNb3ZlKTsNCiAgICAgICAgICAgICAgICAgICAgZWxtLmRldGFjaEV2ZW50KCdvbm1vdXNldXAnLCByZWxlYXNlQ2FwdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGVsbS5kZXRhY2hFdmVudCgnb25sb3NlY2FwdHJ1ZScsIHJlbGVhc2VDYXB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLm9uZHJhZ3N0b3AoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxtLmF0dGFjaEV2ZW50KCdvbm1vdXNlbW92ZScsIGhhbmRsZU1vdXNlTW92ZSk7DQogICAgICAgICAgICAgICAgZWxtLmF0dGFjaEV2ZW50KCdvbm1vdXNldXAnLCByZWxlYXNlQ2FwdHJ1ZSk7DQogICAgICAgICAgICAgICAgZWxtLmF0dGFjaEV2ZW50KCdvbmxvc2VjYXB0cnVlJywgcmVsZWFzZUNhcHRydWUpOw0KICAgICAgICAgICAgICAgIGV2dC5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2FsbGJhY2tzLm9uZHJhZ3N0YXJ0KCk7DQogICAgICAgIH0sDQogICAgICAgIGdldEZpeGVkTGF5ZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkdWlfZml4ZWRsYXllcicpOw0KICAgICAgICAgICAgaWYgKGxheWVyID09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBsYXllciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgIGxheWVyLmlkID0gJ2VkdWlfZml4ZWRsYXllcic7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsYXllcik7DQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uIDw9IDgpIHsNCiAgICAgICAgICAgICAgICAgICAgbGF5ZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnOw0KICAgICAgICAgICAgICAgICAgICBiaW5kRml4ZWRMYXllcigpOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHVwZGF0ZUZpeGVkT2Zmc2V0KTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBsYXllci5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGxheWVyLnN0eWxlLmxlZnQgPSAnMCc7DQogICAgICAgICAgICAgICAgbGF5ZXIuc3R5bGUudG9wID0gJzAnOw0KICAgICAgICAgICAgICAgIGxheWVyLnN0eWxlLndpZHRoID0gJzAnOw0KICAgICAgICAgICAgICAgIGxheWVyLnN0eWxlLmhlaWdodCA9ICcwJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBsYXllcjsNCiAgICAgICAgfSwNCiAgICAgICAgbWFrZVVuc2VsZWN0YWJsZTogZnVuY3Rpb24gKGVsZW1lbnQpew0KICAgICAgICAgICAgaWYgKGJyb3dzZXIub3BlcmEgfHwgKGJyb3dzZXIuaWUgJiYgYnJvd3Nlci52ZXJzaW9uIDwgOSkpIHsNCiAgICAgICAgICAgICAgICBlbGVtZW50LnVuc2VsZWN0YWJsZSA9ICdvbic7DQogICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuaGFzQ2hpbGROb2RlcygpKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LmNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpVXRpbHMubWFrZVVuc2VsZWN0YWJsZShlbGVtZW50LmNoaWxkTm9kZXNbaV0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5Nb3pVc2VyU2VsZWN0ICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5Nb3pVc2VyU2VsZWN0ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5XZWJraXRVc2VyU2VsZWN0ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudC5zdHlsZS5LaHRtbFVzZXJTZWxlY3QgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLktodG1sVXNlclNlbGVjdCA9ICdub25lJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIGZ1bmN0aW9uIHVwZGF0ZUZpeGVkT2Zmc2V0KCl7DQogICAgICAgIHZhciBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZHVpX2ZpeGVkbGF5ZXInKTsNCiAgICAgICAgdWlVdGlscy5zZXRWaWV3cG9ydE9mZnNldChsYXllciwgew0KICAgICAgICAgICAgbGVmdDogMCwNCiAgICAgICAgICAgIHRvcDogMA0KICAgICAgICB9KTsNCi8vICAgICAgICBsYXllci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KLy8gICAgICAgIGxheWVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KDQogICAgICAgIC8vI3RyYWNlOiAxMzU0DQovLyAgICAgICAgc2V0VGltZW91dCh1cGRhdGVGaXhlZE9mZnNldCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGJpbmRGaXhlZExheWVyKGFkak9mZnNldCl7DQogICAgICAgIGRvbVV0aWxzLm9uKHdpbmRvdywgJ3Njcm9sbCcsIHVwZGF0ZUZpeGVkT2Zmc2V0KTsNCiAgICAgICAgZG9tVXRpbHMub24od2luZG93LCAncmVzaXplJywgYmFpZHUuZWRpdG9yLnV0aWxzLmRlZmVyKHVwZGF0ZUZpeGVkT2Zmc2V0LCAwLCB0cnVlKSk7DQogICAgfQ0KfSkoKTsNCg0KKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlscywNCiAgICAgICAgRXZlbnRCYXNlID0gYmFpZHUuZWRpdG9yLkV2ZW50QmFzZSwNCiAgICAgICAgVUlCYXNlID0gYmFpZHUuZWRpdG9yLnVpLlVJQmFzZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgfTsNCg0KICAgIFVJQmFzZS5wcm90b3R5cGUgPSB7DQogICAgICAgIGNsYXNzTmFtZTonJywNCiAgICAgICAgdWlOYW1lOicnLA0KICAgICAgICBpbml0T3B0aW9uczpmdW5jdGlvbiAob3B0aW9ucykgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gb3B0aW9ucykgew0KICAgICAgICAgICAgICAgIG1lW2tdID0gb3B0aW9uc1trXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8ICdlZHVpJyArIHVpVXRpbHMudWlkKCk7DQogICAgICAgIH0sDQogICAgICAgIGluaXRVSUJhc2U6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5fZ2xvYmFsS2V5ID0gdXRpbHMudW5odG1sKHVpVXRpbHMuc2V0R2xvYmFsKHRoaXMuaWQsIHRoaXMpKTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVuZGVyOmZ1bmN0aW9uIChob2xkZXIpIHsNCiAgICAgICAgICAgIHZhciBodG1sID0gdGhpcy5yZW5kZXJIdG1sKCk7DQogICAgICAgICAgICB2YXIgZWwgPSB1aVV0aWxzLmNyZWF0ZUVsZW1lbnRCeUh0bWwoaHRtbCk7DQoNCiAgICAgICAgICAgIC8vYnkgeHVoZW5nIOe7meavj+S4qm5vZGXmt7vliqBjbGFzcw0KICAgICAgICAgICAgdmFyIGxpc3QgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShlbCwgIioiKTsNCiAgICAgICAgICAgIHZhciB0aGVtZSA9ICJlZHVpLSIgKyAodGhpcy50aGVtZSB8fCB0aGlzLmVkaXRvci5vcHRpb25zLnRoZW1lKTsNCiAgICAgICAgICAgIHZhciBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZHVpX2ZpeGVkbGF5ZXInKTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlOyBub2RlID0gbGlzdFtpKytdOykgew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKG5vZGUsIHRoZW1lKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKGVsLCB0aGVtZSk7DQogICAgICAgICAgICBpZihsYXllcil7DQogICAgICAgICAgICAgICAgbGF5ZXIuY2xhc3NOYW1lPSIiOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKGxheWVyLHRoZW1lKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIHNlYXRFbCA9IHRoaXMuZ2V0RG9tKCk7DQogICAgICAgICAgICBpZiAoc2VhdEVsICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICBzZWF0RWwucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWwsIHNlYXRFbCk7DQogICAgICAgICAgICAgICAgdWlVdGlscy5jb3B5QXR0cmlidXRlcyhlbCwgc2VhdEVsKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBob2xkZXIgPT0gJ3N0cmluZycpIHsNCiAgICAgICAgICAgICAgICAgICAgaG9sZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaG9sZGVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaG9sZGVyID0gaG9sZGVyIHx8IHVpVXRpbHMuZ2V0Rml4ZWRMYXllcigpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKGhvbGRlciwgdGhlbWUpOw0KICAgICAgICAgICAgICAgIGhvbGRlci5hcHBlbmRDaGlsZChlbCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnBvc3RSZW5kZXIoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RG9tOmZ1bmN0aW9uIChuYW1lKSB7DQogICAgICAgICAgICBpZiAoIW5hbWUpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgJ18nICsgbmFtZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHBvc3RSZW5kZXI6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3Bvc3RyZW5kZXInKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gJyc7DQogICAgICAgIH0sDQogICAgICAgIGZvcm1hdEh0bWw6ZnVuY3Rpb24gKHRwbCkgew0KICAgICAgICAgICAgdmFyIHByZWZpeCA9ICdlZHVpLScgKyB0aGlzLnVpTmFtZTsNCiAgICAgICAgICAgIHJldHVybiAodHBsDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoLyMjL2csIHRoaXMuaWQpDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoLyUlLS9nLCB0aGlzLnVpTmFtZSA/IHByZWZpeCArICctJyA6ICcnKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8lJS9nLCAodGhpcy51aU5hbWUgPyBwcmVmaXggOiAnJykgKyAnICcgKyB0aGlzLmNsYXNzTmFtZSkNCiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXCRcJC9nLCB0aGlzLl9nbG9iYWxLZXkpKTsNCiAgICAgICAgfSwNCiAgICAgICAgcmVuZGVySHRtbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRIdG1sKHRoaXMuZ2V0SHRtbFRwbCgpKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGlzcG9zZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5nZXREb20oKTsNCiAgICAgICAgICAgIGlmIChib3gpIGJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHMucmVtb3ZlKGJveCk7DQogICAgICAgICAgICB1aVV0aWxzLnVuc2V0R2xvYmFsKHRoaXMuaWQpOw0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhVSUJhc2UsIEV2ZW50QmFzZSk7DQp9KSgpOw0KDQooZnVuY3Rpb24gKCl7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlLA0KICAgICAgICBTZXBhcmF0b3IgPSBiYWlkdS5lZGl0b3IudWkuU2VwYXJhdG9yID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFNlcGFyYXRvcigpOw0KICAgICAgICB9Ow0KICAgIFNlcGFyYXRvci5wcm90b3R5cGUgPSB7DQogICAgICAgIHVpTmFtZTogJ3NlcGFyYXRvcicsDQogICAgICAgIGluaXRTZXBhcmF0b3I6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7DQogICAgICAgIH0sDQogICAgICAgIGdldEh0bWxUcGw6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktYm94ICUlIj48L2Rpdj4nOw0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhTZXBhcmF0b3IsIFVJQmFzZSk7DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQooZnVuY3Rpb24gKCl7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICBkb21VdGlscyA9IGJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHMsDQogICAgICAgIFVJQmFzZSA9IGJhaWR1LmVkaXRvci51aS5VSUJhc2UsDQogICAgICAgIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlsczsNCiAgICANCiAgICB2YXIgTWFzayA9IGJhaWR1LmVkaXRvci51aS5NYXNrID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICB0aGlzLmluaXRVSUJhc2UoKTsNCiAgICB9Ow0KICAgIE1hc2sucHJvdG90eXBlID0gew0KICAgICAgICBnZXRIdG1sVHBsOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiAnPGRpdiBpZD0iIyMiIGNsYXNzPSJlZHVpLW1hc2sgJSUiIG9ubW91c2Vkb3duPSJyZXR1cm4gJCQuX29uTW91c2VEb3duKGV2ZW50LCB0aGlzKTsiPjwvZGl2Pic7DQogICAgICAgIH0sDQogICAgICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIGlmICghbWUuaXNIaWRkZW4oKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuX2ZpbGwoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIHNob3c6IGZ1bmN0aW9uICh6SW5kZXgpew0KICAgICAgICAgICAgdGhpcy5fZmlsbCgpOw0KICAgICAgICAgICAgdGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5ID0gJyc7DQogICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCA9IHpJbmRleDsNCiAgICAgICAgfSwNCiAgICAgICAgaGlkZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCA9ICcnOw0KICAgICAgICB9LA0KICAgICAgICBpc0hpZGRlbjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5ID09ICdub25lJzsNCiAgICAgICAgfSwNCiAgICAgICAgX29uTW91c2VEb3duOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgX2ZpbGw6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIGVsID0gdGhpcy5nZXREb20oKTsNCiAgICAgICAgICAgIHZhciB2cFJlY3QgPSB1aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpOw0KICAgICAgICAgICAgZWwuc3R5bGUud2lkdGggPSB2cFJlY3Qud2lkdGggKyAncHgnOw0KICAgICAgICAgICAgZWwuc3R5bGUuaGVpZ2h0ID0gdnBSZWN0LmhlaWdodCArICdweCc7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHV0aWxzLmluaGVyaXRzKE1hc2ssIFVJQmFzZSk7DQp9KSgpOw0KDQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHVpY29yZQ0KKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlscywNCiAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlLA0KICAgICAgICBQb3B1cCA9IGJhaWR1LmVkaXRvci51aS5Qb3B1cCA9IGZ1bmN0aW9uIChvcHRpb25zKXsNCiAgICAgICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7DQogICAgICAgICAgICB0aGlzLmluaXRQb3B1cCgpOw0KICAgICAgICB9Ow0KDQogICAgdmFyIGFsbFBvcHVwcyA9IFtdOw0KICAgIGZ1bmN0aW9uIGNsb3NlQWxsUG9wdXAoIGV2dCxlbCApew0KICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBhbGxQb3B1cHMubGVuZ3RoOyBpKysgKSB7DQogICAgICAgICAgICB2YXIgcG9wID0gYWxsUG9wdXBzW2ldOw0KICAgICAgICAgICAgaWYgKCFwb3AuaXNIaWRkZW4oKSkgew0KICAgICAgICAgICAgICAgIGlmIChwb3AucXVlcnlBdXRvSGlkZShlbCkgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKGV2dCYmL3Njcm9sbC9pZy50ZXN0KGV2dC50eXBlKSYmcG9wLmNsYXNzTmFtZT09ImVkdWktd29yZHBhc3RlcG9wIikgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIHBvcC5oaWRlKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYoYWxsUG9wdXBzLmxlbmd0aCkNCiAgICAgICAgICAgIHBvcC5lZGl0b3IuZmlyZUV2ZW50KCJhZnRlcmhpZGVwb3AiKTsNCiAgICB9DQoNCiAgICBQb3B1cC5wb3N0SGlkZSA9IGNsb3NlQWxsUG9wdXA7DQoNCiAgICB2YXIgQU5DSE9SX0NMQVNTRVMgPSBbJ2VkdWktYW5jaG9yLXRvcGxlZnQnLCdlZHVpLWFuY2hvci10b3ByaWdodCcsDQogICAgICAgICdlZHVpLWFuY2hvci1ib3R0b21sZWZ0JywnZWR1aS1hbmNob3ItYm90dG9tcmlnaHQnXTsNCiAgICBQb3B1cC5wcm90b3R5cGUgPSB7DQogICAgICAgIFNIQURPV19SQURJVVM6IDUsDQogICAgICAgIGNvbnRlbnQ6IG51bGwsDQogICAgICAgIF9oaWRkZW46IGZhbHNlLA0KICAgICAgICBhdXRvUmVuZGVyOiB0cnVlLA0KICAgICAgICBjYW5TaWRlTGVmdDogdHJ1ZSwNCiAgICAgICAgY2FuU2lkZVVwOiB0cnVlLA0KICAgICAgICBpbml0UG9wdXA6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7DQogICAgICAgICAgICBhbGxQb3B1cHMucHVzaCggdGhpcyApOw0KICAgICAgICB9LA0KICAgICAgICBnZXRIdG1sVHBsOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiAnPGRpdiBpZD0iIyMiIGNsYXNzPSJlZHVpLXBvcHVwICUlIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlOyI+JyArDQogICAgICAgICAgICAgICAgJyA8ZGl2IGlkPSIjI19ib2R5IiBjbGFzcz0iZWR1aS1wb3B1cC1ib2R5Ij4nICsNCiAgICAgICAgICAgICAgICAnIDxpZnJhbWUgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6LTE7bGVmdDowO3RvcDowO2JhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyIgZnJhbWVib3JkZXI9IjAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHNyYz0iYWJvdXQ6YmxhbmsiPjwvaWZyYW1lPicgKw0KICAgICAgICAgICAgICAgICcgPGRpdiBjbGFzcz0iZWR1aS1zaGFkb3ciPjwvZGl2PicgKw0KICAgICAgICAgICAgICAgICcgPGRpdiBpZD0iIyNfY29udGVudCIgY2xhc3M9ImVkdWktcG9wdXAtY29udGVudCI+JyArDQogICAgICAgICAgICAgICAgdGhpcy5nZXRDb250ZW50SHRtbFRwbCgpICsNCiAgICAgICAgICAgICAgICAnICA8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnIDwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj4nOw0KICAgICAgICB9LA0KICAgICAgICBnZXRDb250ZW50SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICBpZih0aGlzLmNvbnRlbnQpew0KICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jb250ZW50ID09ICdzdHJpbmcnKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnQucmVuZGVySHRtbCgpOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnDQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCiAgICAgICAgX1VJQmFzZV9wb3N0UmVuZGVyOiBVSUJhc2UucHJvdG90eXBlLnBvc3RSZW5kZXIsDQogICAgICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KDQoNCiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQgaW5zdGFuY2VvZiBVSUJhc2UpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQucG9zdFJlbmRlcigpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvL+aNleiOt+m8oOagh+a7mui9rg0KICAgICAgICAgICAgaWYoIHRoaXMuY2FwdHVyZVdoZWVsICYmICF0aGlzLmNhcHR1cmVkICkgew0KDQogICAgICAgICAgICAgICAgdGhpcy5jYXB0dXJlZCA9IHRydWU7DQoNCiAgICAgICAgICAgICAgICB2YXIgd2luSGVpZ2h0ID0gKCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0ICkgIC0gODAsDQogICAgICAgICAgICAgICAgICAgIF9oZWlnaHQgPSB0aGlzLmdldERvbSgpLm9mZnNldEhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgX3RvcCA9IHVpVXRpbHMuZ2V0Q2xpZW50UmVjdCggdGhpcy5jb21ib3guZ2V0RG9tKCkgKS50b3AsDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLmdldERvbSgnY29udGVudCcpLA0KICAgICAgICAgICAgICAgICAgICBpZnIgPSB0aGlzLmdldERvbSgnYm9keScpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKSwNCiAgICAgICAgICAgICAgICAgICAgbWUgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgaWZyLmxlbmd0aCAmJiAoIGlmciA9IGlmclswXSApOw0KDQogICAgICAgICAgICAgICAgd2hpbGUoIF90b3AgKyBfaGVpZ2h0ID4gd2luSGVpZ2h0ICkgew0KICAgICAgICAgICAgICAgICAgICBfaGVpZ2h0IC09IDMwOw0KICAgICAgICAgICAgICAgICAgICBjb250ZW50LnN0eWxlLmhlaWdodCA9IF9oZWlnaHQgKyAncHgnOw0KICAgICAgICAgICAgICAgICAgICAvL+WQjOatpeabtOaUuWlmcmFtZemrmOW6pg0KICAgICAgICAgICAgICAgICAgICBpZnIgJiYgKCBpZnIuc3R5bGUuaGVpZ2h0ID0gX2hlaWdodCArICdweCcgKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAvL+mYu+atouWcqGNvbWJveOS4iueahOm8oOagh+a7mui9ruS6i+S7tiwg6Ziy5q2i55So5oi355qE5q2j5bi45pON5L2c6KKr6K+v6KejDQogICAgICAgICAgICAgICAgaWYoIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCApIHsNCg0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbiggY29udGVudCwgKCAnb25tb3VzZXdoZWVsJyBpbiBkb2N1bWVudC5ib2R5ICkgPyAnbW91c2V3aGVlbCcgOidET01Nb3VzZVNjcm9sbCcgLCBmdW5jdGlvbihlKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZS5wcmV2ZW50RGVmYXVsdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiggZS53aGVlbERlbHRhICkgew0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudC5zY3JvbGxUb3AgLT0gKCBlLndoZWVsRGVsdGEgLyAxMjAgKSo2MDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc2Nyb2xsVG9wIC09ICggZS5kZXRhaWwgLyAtMyApKjYwOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KDQogICAgICAgICAgICAgICAgICAgIC8vaWU2DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKCB0aGlzLmdldERvbSgpLCAnbW91c2V3aGVlbCcgLCBmdW5jdGlvbihlKXsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBtZS5nZXREb20oJ2NvbnRlbnQnKS5zY3JvbGxUb3AgLT0gKCBlLndoZWVsRGVsdGEgLyAxMjAgKSo2MDsNCg0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3Bvc3RSZW5kZXJBZnRlcicpOw0KICAgICAgICAgICAgdGhpcy5oaWRlKHRydWUpOw0KICAgICAgICAgICAgdGhpcy5fVUlCYXNlX3Bvc3RSZW5kZXIoKTsNCiAgICAgICAgfSwNCiAgICAgICAgX2RvQXV0b1JlbmRlcjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICBpZiAoIXRoaXMuZ2V0RG9tKCkgJiYgdGhpcy5hdXRvUmVuZGVyKSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbWVzdXJlU2l6ZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5nZXREb20oJ2NvbnRlbnQnKTsNCiAgICAgICAgICAgIHJldHVybiB1aVV0aWxzLmdldENsaWVudFJlY3QoYm94KTsNCiAgICAgICAgfSwNCiAgICAgICAgZml0U2l6ZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICBpZiggdGhpcy5jYXB0dXJlV2hlZWwgJiYgdGhpcy5zaXplZCApIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fX3NpemU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnNpemVkID0gdHJ1ZTsNCiAgICAgICAgICAgIHZhciBwb3BCb2R5RWwgPSB0aGlzLmdldERvbSgnYm9keScpOw0KICAgICAgICAgICAgcG9wQm9keUVsLnN0eWxlLndpZHRoID0gJyc7DQogICAgICAgICAgICBwb3BCb2R5RWwuc3R5bGUuaGVpZ2h0ID0gJyc7DQogICAgICAgICAgICB2YXIgc2l6ZSA9IHRoaXMubWVzdXJlU2l6ZSgpOw0KICAgICAgICAgICAgaWYoIHRoaXMuY2FwdHVyZVdoZWVsICkgew0KICAgICAgICAgICAgICAgIHBvcEJvZHlFbC5zdHlsZS53aWR0aCA9ICAtKC0yMCAtc2l6ZS53aWR0aCkgKyAncHgnOw0KICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZUludCggdGhpcy5nZXREb20oJ2NvbnRlbnQnKS5zdHlsZS5oZWlnaHQsIDEwICk7DQogICAgICAgICAgICAgICAgIXdpbmRvdy5pc05hTiggaGVpZ2h0ICkgJiYgKCBzaXplLmhlaWdodCA9IGhlaWdodCApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBwb3BCb2R5RWwuc3R5bGUud2lkdGggPSAgc2l6ZS53aWR0aCArICdweCc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBwb3BCb2R5RWwuc3R5bGUuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyAncHgnOw0KICAgICAgICAgICAgdGhpcy5fX3NpemUgPSBzaXplOw0KICAgICAgICAgICAgdGhpcy5jYXB0dXJlV2hlZWwgJiYgKHRoaXMuZ2V0RG9tKCdjb250ZW50Jykuc3R5bGUub3ZlcmZsb3cgPSAnYXV0bycpOw0KICAgICAgICAgICAgcmV0dXJuIHNpemU7DQogICAgICAgIH0sDQogICAgICAgIHNob3dBbmNob3I6IGZ1bmN0aW9uICggZWxlbWVudCwgaG96ICl7DQogICAgICAgICAgICB0aGlzLnNob3dBbmNob3JSZWN0KCB1aVV0aWxzLmdldENsaWVudFJlY3QoIGVsZW1lbnQgKSwgaG96ICk7DQogICAgICAgIH0sDQogICAgICAgIHNob3dBbmNob3JSZWN0OiBmdW5jdGlvbiAoIHJlY3QsIGhveiwgYWRqICl7DQogICAgICAgICAgICB0aGlzLl9kb0F1dG9SZW5kZXIoKTsNCiAgICAgICAgICAgIHZhciB2cFJlY3QgPSB1aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpOw0KICAgICAgICAgICAgdGhpcy5fc2hvdygpOw0KICAgICAgICAgICAgdmFyIHBvcFNpemUgPSB0aGlzLmZpdFNpemUoKTsNCg0KICAgICAgICAgICAgdmFyIHNpZGVMZWZ0LCBzaWRlVXAsIGxlZnQsIHRvcDsNCiAgICAgICAgICAgIGlmIChob3opIHsNCiAgICAgICAgICAgICAgICBzaWRlTGVmdCA9IHRoaXMuY2FuU2lkZUxlZnQgJiYgKHJlY3QucmlnaHQgKyBwb3BTaXplLndpZHRoID4gdnBSZWN0LnJpZ2h0ICYmIHJlY3QubGVmdCA+IHBvcFNpemUud2lkdGgpOw0KICAgICAgICAgICAgICAgIHNpZGVVcCA9IHRoaXMuY2FuU2lkZVVwICYmIChyZWN0LnRvcCArIHBvcFNpemUuaGVpZ2h0ID4gdnBSZWN0LmJvdHRvbSAmJiByZWN0LmJvdHRvbSA+IHBvcFNpemUuaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBsZWZ0ID0gKHNpZGVMZWZ0ID8gcmVjdC5sZWZ0IC0gcG9wU2l6ZS53aWR0aCA6IHJlY3QucmlnaHQpOw0KICAgICAgICAgICAgICAgIHRvcCA9IChzaWRlVXAgPyByZWN0LmJvdHRvbSAtIHBvcFNpemUuaGVpZ2h0IDogcmVjdC50b3ApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBzaWRlTGVmdCA9IHRoaXMuY2FuU2lkZUxlZnQgJiYgKHJlY3QucmlnaHQgKyBwb3BTaXplLndpZHRoID4gdnBSZWN0LnJpZ2h0ICYmIHJlY3QubGVmdCA+IHBvcFNpemUud2lkdGgpOw0KICAgICAgICAgICAgICAgIHNpZGVVcCA9IHRoaXMuY2FuU2lkZVVwICYmIChyZWN0LnRvcCArIHBvcFNpemUuaGVpZ2h0ID4gdnBSZWN0LmJvdHRvbSAmJiByZWN0LmJvdHRvbSA+IHBvcFNpemUuaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBsZWZ0ID0gKHNpZGVMZWZ0ID8gcmVjdC5yaWdodCAtIHBvcFNpemUud2lkdGggOiByZWN0LmxlZnQpOw0KICAgICAgICAgICAgICAgIHRvcCA9IChzaWRlVXAgPyByZWN0LnRvcCAtIHBvcFNpemUuaGVpZ2h0IDogcmVjdC5ib3R0b20pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgcG9wRWwgPSB0aGlzLmdldERvbSgpOw0KICAgICAgICAgICAgdWlVdGlscy5zZXRWaWV3cG9ydE9mZnNldChwb3BFbCwgew0KICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnQsDQogICAgICAgICAgICAgICAgdG9wOiB0b3ANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQ2xhc3Nlcyhwb3BFbCwgQU5DSE9SX0NMQVNTRVMpOw0KICAgICAgICAgICAgcG9wRWwuY2xhc3NOYW1lICs9ICcgJyArIEFOQ0hPUl9DTEFTU0VTWyhzaWRlVXAgPyAxIDogMCkgKiAyICsgKHNpZGVMZWZ0ID8gMSA6IDApXTsNCiAgICAgICAgICAgIGlmKHRoaXMuZWRpdG9yKXsNCiAgICAgICAgICAgICAgICBwb3BFbC5zdHlsZS56SW5kZXggPSB0aGlzLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4ICogMSArIDEwOw0KICAgICAgICAgICAgICAgIGJhaWR1LmVkaXRvci51aS51aVV0aWxzLmdldEZpeGVkTGF5ZXIoKS5zdHlsZS56SW5kZXggPSBwb3BFbC5zdHlsZS56SW5kZXggLSAxOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0sDQogICAgICAgIHNob3dBdDogZnVuY3Rpb24gKG9mZnNldCkgew0KICAgICAgICAgICAgdmFyIGxlZnQgPSBvZmZzZXQubGVmdDsNCiAgICAgICAgICAgIHZhciB0b3AgPSBvZmZzZXQudG9wOw0KICAgICAgICAgICAgdmFyIHJlY3QgPSB7DQogICAgICAgICAgICAgICAgbGVmdDogbGVmdCwNCiAgICAgICAgICAgICAgICB0b3A6IHRvcCwNCiAgICAgICAgICAgICAgICByaWdodDogbGVmdCwNCiAgICAgICAgICAgICAgICBib3R0b206IHRvcCwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDAsDQogICAgICAgICAgICAgICAgd2lkdGg6IDANCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLnNob3dBbmNob3JSZWN0KHJlY3QsIGZhbHNlLCB0cnVlKTsNCiAgICAgICAgfSwNCiAgICAgICAgX3Nob3c6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgaWYgKHRoaXMuX2hpZGRlbikgew0KICAgICAgICAgICAgICAgIHZhciBib3ggPSB0aGlzLmdldERvbSgpOw0KICAgICAgICAgICAgICAgIGJveC5zdHlsZS5kaXNwbGF5ID0gJyc7DQogICAgICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gZmFsc2U7DQovLyAgICAgICAgICAgICAgICBpZiAoYm94LnNldEFjdGl2ZSkgew0KLy8gICAgICAgICAgICAgICAgICAgIGJveC5zZXRBY3RpdmUoKTsNCi8vICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgnc2hvdycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpc0hpZGRlbjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5faGlkZGVuOw0KICAgICAgICB9LA0KICAgICAgICBzaG93OiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHRoaXMuX2RvQXV0b1JlbmRlcigpOw0KICAgICAgICAgICAgdGhpcy5fc2hvdygpOw0KICAgICAgICB9LA0KICAgICAgICBoaWRlOiBmdW5jdGlvbiAobm90Tm9maXR5KXsNCiAgICAgICAgICAgIGlmICghdGhpcy5faGlkZGVuICYmIHRoaXMuZ2V0RG9tKCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBpZiAoIW5vdE5vZml0eSkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgnaGlkZScpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcXVlcnlBdXRvSGlkZTogZnVuY3Rpb24gKGVsKXsNCiAgICAgICAgICAgIHJldHVybiAhZWwgfHwgIXVpVXRpbHMuY29udGFpbnModGhpcy5nZXREb20oKSwgZWwpOw0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhQb3B1cCwgVUlCYXNlKTsNCiAgICANCiAgICBkb21VdGlscy5vbiggZG9jdW1lbnQsICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoIGV2dCApIHsNCiAgICAgICAgdmFyIGVsID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgY2xvc2VBbGxQb3B1cCggZXZ0LGVsICk7DQogICAgfSApOw0KICAgIGRvbVV0aWxzLm9uKCB3aW5kb3csICdzY3JvbGwnLCBmdW5jdGlvbiAoZXZ0LGVsKSB7DQogICAgICAgIGNsb3NlQWxsUG9wdXAoIGV2dCxlbCApOw0KICAgIH0gKTsNCg0KfSkoKTsNCg0KLy8vaW1wb3J0IGNvcmUNCi8vL2ltcG9ydCB1aWNvcmUNCihmdW5jdGlvbiAoKXsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIFVJQmFzZSA9IGJhaWR1LmVkaXRvci51aS5VSUJhc2UsDQogICAgICAgIENvbG9yUGlja2VyID0gYmFpZHUuZWRpdG9yLnVpLkNvbG9yUGlja2VyID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMubm9Db2xvclRleHQgPSB0aGlzLm5vQ29sb3JUZXh0IHx8IHRoaXMuZWRpdG9yLmdldExhbmcoImNsZWFyQ29sb3IiKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFVJQmFzZSgpOw0KICAgICAgICB9Ow0KDQogICAgQ29sb3JQaWNrZXIucHJvdG90eXBlID0gew0KICAgICAgICBnZXRIdG1sVHBsOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiBnZW5Db2xvclBpY2tlcih0aGlzLm5vQ29sb3JUZXh0LHRoaXMuZWRpdG9yKTsNCiAgICAgICAgfSwNCiAgICAgICAgX29uVGFibGVDbGljazogZnVuY3Rpb24gKGV2dCl7DQogICAgICAgICAgICB2YXIgdGd0ID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgIHZhciBjb2xvciA9IHRndC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKTsNCiAgICAgICAgICAgIGlmIChjb2xvcikgew0KICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdwaWNrY29sb3InLCBjb2xvcik7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vblRhYmxlT3ZlcjogZnVuY3Rpb24gKGV2dCl7DQogICAgICAgICAgICB2YXIgdGd0ID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgIHZhciBjb2xvciA9IHRndC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKTsNCiAgICAgICAgICAgIGlmIChjb2xvcikgew0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCdwcmV2aWV3Jykuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29sb3I7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vblRhYmxlT3V0OiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCdwcmV2aWV3Jykuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyc7DQogICAgICAgIH0sDQogICAgICAgIF9vblBpY2tOb0NvbG9yOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdwaWNrbm9jb2xvcicpOw0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhDb2xvclBpY2tlciwgVUlCYXNlKTsNCg0KICAgIHZhciBDT0xPUlMgPSAoDQogICAgICAgICdmZmZmZmYsMDAwMDAwLGVlZWNlMSwxZjQ5N2QsNGY4MWJkLGMwNTA0ZCw5YmJiNTksODA2NGEyLDRiYWNjNixmNzk2NDYsJyArDQogICAgICAgICAgICAnZjJmMmYyLDdmN2Y3ZixkZGQ5YzMsYzZkOWYwLGRiZTVmMSxmMmRjZGIsZWJmMWRkLGU1ZTBlYyxkYmVlZjMsZmRlYWRhLCcgKw0KICAgICAgICAgICAgJ2Q4ZDhkOCw1OTU5NTksYzRiZDk3LDhkYjNlMixiOGNjZTQsZTViOWI3LGQ3ZTNiYyxjY2MxZDksYjdkZGU4LGZiZDViNSwnICsNCiAgICAgICAgICAgICdiZmJmYmYsM2YzZjNmLDkzODk1Myw1NDhkZDQsOTViM2Q3LGQ5OTY5NCxjM2Q2OWIsYjJhMmM3LDkyY2RkYyxmYWMwOGYsJyArDQogICAgICAgICAgICAnYTVhNWE1LDI2MjYyNiw0OTQ0MjksMTczNjVkLDM2NjA5Miw5NTM3MzQsNzY5MjNjLDVmNDk3YSwzMTg1OWIsZTM2YzA5LCcgKw0KICAgICAgICAgICAgJzdmN2Y3ZiwwYzBjMGMsMWQxYjEwLDBmMjQzZSwyNDQwNjEsNjMyNDIzLDRmNjEyOCwzZjMxNTEsMjA1ODY3LDk3NDgwNiwnICsNCiAgICAgICAgICAgICdjMDAwMDAsZmYwMDAwLGZmYzAwMCxmZmZmMDAsOTJkMDUwLDAwYjA1MCwwMGIwZjAsMDA3MGMwLDAwMjA2MCw3MDMwYTAsJykuc3BsaXQoJywnKTsNCg0KICAgIGZ1bmN0aW9uIGdlbkNvbG9yUGlja2VyKG5vQ29sb3JUZXh0LGVkaXRvcil7DQogICAgICAgIHZhciBodG1sID0gJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlciAlJSI+JyArDQogICAgICAgICAgICAnPGRpdiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlci10b3BiYXIgZWR1aS1jbGVhcmZpeCI+JyArDQogICAgICAgICAgICAnPGRpdiB1bnNlbGVjdGFibGU9Im9uIiBpZD0iIyNfcHJldmlldyIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItcHJldmlldyI+PC9kaXY+JyArDQogICAgICAgICAgICAnPGRpdiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlci1ub2NvbG9yIiBvbmNsaWNrPSIkJC5fb25QaWNrTm9Db2xvcihldmVudCwgdGhpcyk7Ij4nKyBub0NvbG9yVGV4dCArJzwvZGl2PicgKw0KICAgICAgICAgICAgJzwvZGl2PicgKw0KICAgICAgICAgICAgJzx0YWJsZSAgY2xhc3M9ImVkdWktYm94IiBzdHlsZT0iYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsiIG9ubW91c2VvdmVyPSIkJC5fb25UYWJsZU92ZXIoZXZlbnQsIHRoaXMpOyIgb25tb3VzZW91dD0iJCQuX29uVGFibGVPdXQoZXZlbnQsIHRoaXMpOyIgb25jbGljaz0icmV0dXJuICQkLl9vblRhYmxlQ2xpY2soZXZlbnQsIHRoaXMpOyIgY2VsbHNwYWNpbmc9IjAiIGNlbGxwYWRkaW5nPSIwIj4nICsNCiAgICAgICAgICAgICc8dHIgc3R5bGU9ImJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO2ZvbnQtc2l6ZTogMTNweDtsaW5lLWhlaWdodDogMjVweDtjb2xvcjojMzlDO3BhZGRpbmctdG9wOiAycHgiPjx0ZCBjb2xzcGFuPSIxMCI+JytlZGl0b3IuZ2V0TGFuZygidGhlbWVDb2xvciIpKyc8L3RkPiA8L3RyPicrDQogICAgICAgICAgICAnPHRyIGNsYXNzPSJlZHVpLWNvbG9ycGlja2VyLXRhYmxlZmlyc3Ryb3ciID4nOw0KICAgICAgICBmb3IgKHZhciBpPTA7IGk8Q09MT1JTLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICBpZiAoaSAmJiBpJTEwID09PSAwKSB7DQogICAgICAgICAgICAgICAgaHRtbCArPSAnPC90cj4nKyhpPT02MD8nPHRyIHN0eWxlPSJib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtmb250LXNpemU6IDEzcHg7bGluZS1oZWlnaHQ6IDI1cHg7Y29sb3I6IzM5QzsiPjx0ZCBjb2xzcGFuPSIxMCI+JytlZGl0b3IuZ2V0TGFuZygic3RhbmRhcmRDb2xvciIpKyc8L3RkPjwvdHI+JzonJykrJzx0cicrKGk9PTYwPycgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItdGFibGVmaXJzdHJvdyInOicnKSsnPic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBodG1sICs9IGk8NzAgPyAnPHRkIHN0eWxlPSJwYWRkaW5nOiAwIDJweDsiPjxhIGhpZGVmb2N1cyB0aXRsZT0iJytDT0xPUlNbaV0rJyIgb25jbGljaz0icmV0dXJuIGZhbHNlOyIgaHJlZj0iamF2YXNjcmlwdDoiIHVuc2VsZWN0YWJsZT0ib24iIGNsYXNzPSJlZHVpLWJveCBlZHVpLWNvbG9ycGlja2VyLWNvbG9yY2VsbCInICsNCiAgICAgICAgICAgICAgICAnIGRhdGEtY29sb3I9IiMnKyBDT0xPUlNbaV0gKyciJysNCiAgICAgICAgICAgICAgICAnIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiMnKyBDT0xPUlNbaV0gKyc7Ym9yZGVyOnNvbGlkICNjY2M7JysNCiAgICAgICAgICAgICAgICAoaTwxMCB8fCBpPj02MD8nYm9yZGVyLXdpZHRoOjFweDsnOg0KICAgICAgICAgICAgICAgICAgICBpPj0xMCYmaTwyMD8nYm9yZGVyLXdpZHRoOjFweCAxcHggMCAxcHg7JzoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgJ2JvcmRlci13aWR0aDowIDFweCAwIDFweDsnKSsNCiAgICAgICAgICAgICAgICAnIicgKw0KICAgICAgICAgICAgICAgICc+PC9hPjwvdGQ+JzonJzsNCiAgICAgICAgfQ0KICAgICAgICBodG1sICs9ICc8L3RyPjwvdGFibGU+PC9kaXY+JzsNCiAgICAgICAgcmV0dXJuIGh0bWw7DQogICAgfQ0KfSkoKTsNCg0KLy8vaW1wb3J0IGNvcmUNCi8vL2ltcG9ydCB1aWNvcmUNCihmdW5jdGlvbiAoKXsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlscywNCiAgICAgICAgVUlCYXNlID0gYmFpZHUuZWRpdG9yLnVpLlVJQmFzZTsNCiAgICANCiAgICB2YXIgVGFibGVQaWNrZXIgPSBiYWlkdS5lZGl0b3IudWkuVGFibGVQaWNrZXIgPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7DQogICAgICAgIHRoaXMuaW5pdFRhYmxlUGlja2VyKCk7DQogICAgfTsNCiAgICBUYWJsZVBpY2tlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGRlZmF1bHROdW1Sb3dzOiAxMCwNCiAgICAgICAgZGVmYXVsdE51bUNvbHM6IDEwLA0KICAgICAgICBtYXhOdW1Sb3dzOiAyMCwNCiAgICAgICAgbWF4TnVtQ29sczogMjAsDQogICAgICAgIG51bVJvd3M6IDEwLA0KICAgICAgICBudW1Db2xzOiAxMCwNCiAgICAgICAgbGVuZ3RoT2ZDZWxsU2lkZTogMjIsDQogICAgICAgIGluaXRUYWJsZVBpY2tlcjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLmluaXRVSUJhc2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktdGFibGVwaWNrZXIgJSUiPicgKw0KICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZWR1aS10YWJsZXBpY2tlci1ib2R5Ij4nICsNCiAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLWluZm9hcmVhIj4nICsNCiAgICAgICAgICAgICAgICAgICAnPHNwYW4gaWQ9IiMjX2xhYmVsIiBjbGFzcz0iZWR1aS1sYWJlbCI+PC9zcGFuPicgKw0KICAgICAgICAgICAgICAgICAgJzwvZGl2PicgKw0KICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktcGlja2FyZWEiJyArDQogICAgICAgICAgICAgICAgICAgJyBvbm1vdXNlbW92ZT0iJCQuX29uTW91c2VNb3ZlKGV2ZW50LCB0aGlzKTsiJyArDQogICAgICAgICAgICAgICAgICAgJyBvbm1vdXNlb3Zlcj0iJCQuX29uTW91c2VPdmVyKGV2ZW50LCB0aGlzKTsiJyArDQogICAgICAgICAgICAgICAgICAgJyBvbm1vdXNlb3V0PSIkJC5fb25Nb3VzZU91dChldmVudCwgdGhpcyk7IicgKw0KICAgICAgICAgICAgICAgICAgICcgb25jbGljaz0iJCQuX29uQ2xpY2soZXZlbnQsIHRoaXMpOyInICsNCiAgICAgICAgICAgICAgICAgICc+JyArDQogICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI19vdmVybGF5IiBjbGFzcz0iZWR1aS1vdmVybGF5Ij48L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAgICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAgJzwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj4nOw0KICAgICAgICB9LA0KICAgICAgICBfVUlCYXNlX3JlbmRlcjogVUlCYXNlLnByb3RvdHlwZS5yZW5kZXIsDQogICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKGhvbGRlcil7DQogICAgICAgICAgICB0aGlzLl9VSUJhc2VfcmVuZGVyKGhvbGRlcik7DQogICAgICAgICAgICB0aGlzLmdldERvbSgnbGFiZWwnKS5pbm5lckhUTUwgPSAnMCcrdGhpcy5lZGl0b3IuZ2V0TGFuZygidF9yb3ciKSsnIHggMCcrdGhpcy5lZGl0b3IuZ2V0TGFuZygidF9jb2wiKTsNCiAgICAgICAgfSwNCiAgICAgICAgX3RyYWNrOiBmdW5jdGlvbiAobnVtQ29scywgbnVtUm93cyl7DQogICAgICAgICAgICB2YXIgc3R5bGUgPSB0aGlzLmdldERvbSgnb3ZlcmxheScpLnN0eWxlOw0KICAgICAgICAgICAgdmFyIHNpZGVMZW4gPSB0aGlzLmxlbmd0aE9mQ2VsbFNpZGU7DQogICAgICAgICAgICBzdHlsZS53aWR0aCA9IG51bUNvbHMgKiBzaWRlTGVuICsgJ3B4JzsNCiAgICAgICAgICAgIHN0eWxlLmhlaWdodCA9IG51bVJvd3MgKiBzaWRlTGVuICsgJ3B4JzsNCiAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuZ2V0RG9tKCdsYWJlbCcpOw0KICAgICAgICAgICAgbGFiZWwuaW5uZXJIVE1MID0gbnVtQ29scyArdGhpcy5lZGl0b3IuZ2V0TGFuZygidF9jb2wiKSsnIHggJyArIG51bVJvd3MgKyB0aGlzLmVkaXRvci5nZXRMYW5nKCJ0X3JvdyIpOw0KICAgICAgICAgICAgdGhpcy5udW1Db2xzID0gbnVtQ29sczsNCiAgICAgICAgICAgIHRoaXMubnVtUm93cyA9IG51bVJvd3M7DQogICAgICAgIH0sDQogICAgICAgIF9vbk1vdXNlT3ZlcjogZnVuY3Rpb24gKGV2dCwgZWwpew0KICAgICAgICAgICAgdmFyIHJlbCA9IGV2dC5yZWxhdGVkVGFyZ2V0IHx8IGV2dC5mcm9tRWxlbWVudDsNCiAgICAgICAgICAgIGlmICghdWlVdGlscy5jb250YWlucyhlbCwgcmVsKSAmJiBlbCAhPT0gcmVsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5nZXREb20oJ2xhYmVsJykuaW5uZXJIVE1MID0gJzAnK3RoaXMuZWRpdG9yLmdldExhbmcoInRfY29sIikrJyB4IDAnK3RoaXMuZWRpdG9yLmdldExhbmcoInRfcm93Iik7DQogICAgICAgICAgICAgICAgdGhpcy5nZXREb20oJ292ZXJsYXknKS5zdHlsZS52aXNpYmlsaXR5ID0gJyc7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vbk1vdXNlT3V0OiBmdW5jdGlvbiAoZXZ0LCBlbCl7DQogICAgICAgICAgICB2YXIgcmVsID0gZXZ0LnJlbGF0ZWRUYXJnZXQgfHwgZXZ0LnRvRWxlbWVudDsNCiAgICAgICAgICAgIGlmICghdWlVdGlscy5jb250YWlucyhlbCwgcmVsKSAmJiBlbCAhPT0gcmVsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5nZXREb20oJ2xhYmVsJykuaW5uZXJIVE1MID0gJzAnK3RoaXMuZWRpdG9yLmdldExhbmcoInRfY29sIikrJyB4IDAnK3RoaXMuZWRpdG9yLmdldExhbmcoInRfcm93Iik7DQogICAgICAgICAgICAgICAgdGhpcy5nZXREb20oJ292ZXJsYXknKS5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vbk1vdXNlTW92ZTogZnVuY3Rpb24gKGV2dCwgZWwpew0KICAgICAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXREb20oJ292ZXJsYXknKS5zdHlsZTsNCiAgICAgICAgICAgIHZhciBvZmZzZXQgPSB1aVV0aWxzLmdldEV2ZW50T2Zmc2V0KGV2dCk7DQogICAgICAgICAgICB2YXIgc2lkZUxlbiA9IHRoaXMubGVuZ3RoT2ZDZWxsU2lkZTsNCiAgICAgICAgICAgIHZhciBudW1Db2xzID0gTWF0aC5jZWlsKG9mZnNldC5sZWZ0IC8gc2lkZUxlbik7DQogICAgICAgICAgICB2YXIgbnVtUm93cyA9IE1hdGguY2VpbChvZmZzZXQudG9wIC8gc2lkZUxlbik7DQogICAgICAgICAgICB0aGlzLl90cmFjayhudW1Db2xzLCBudW1Sb3dzKTsNCiAgICAgICAgfSwNCiAgICAgICAgX29uQ2xpY2s6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ3BpY2t0YWJsZScsIHRoaXMubnVtQ29scywgdGhpcy5udW1Sb3dzKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgdXRpbHMuaW5oZXJpdHMoVGFibGVQaWNrZXIsIFVJQmFzZSk7DQp9KSgpOw0KDQooZnVuY3Rpb24gKCl7DQogICAgdmFyIGJyb3dzZXIgPSBiYWlkdS5lZGl0b3IuYnJvd3NlciwNCiAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHM7DQogICAgDQogICAgdmFyIFRQTF9TVEFURUZVTCA9ICdvbm1vdXNlZG93bj0iJCQuU3RhdGVmdWxfb25Nb3VzZURvd24oZXZlbnQsIHRoaXMpOyInICsNCiAgICAgICAgJyBvbm1vdXNldXA9IiQkLlN0YXRlZnVsX29uTW91c2VVcChldmVudCwgdGhpcyk7IicgKw0KICAgICAgICAoIGJyb3dzZXIuaWUgPyAoDQogICAgICAgICcgb25tb3VzZWVudGVyPSIkJC5TdGF0ZWZ1bF9vbk1vdXNlRW50ZXIoZXZlbnQsIHRoaXMpOyInICsNCiAgICAgICAgJyBvbm1vdXNlbGVhdmU9IiQkLlN0YXRlZnVsX29uTW91c2VMZWF2ZShldmVudCwgdGhpcyk7IicgKQ0KICAgICAgICA6ICgNCiAgICAgICAgJyBvbm1vdXNlb3Zlcj0iJCQuU3RhdGVmdWxfb25Nb3VzZU92ZXIoZXZlbnQsIHRoaXMpOyInICsNCiAgICAgICAgJyBvbm1vdXNlb3V0PSIkJC5TdGF0ZWZ1bF9vbk1vdXNlT3V0KGV2ZW50LCB0aGlzKTsiJyApKTsNCiAgICANCiAgICBiYWlkdS5lZGl0b3IudWkuU3RhdGVmdWwgPSB7DQogICAgICAgIGFsd2FseXNIb3ZlcmFibGU6IGZhbHNlLA0KICAgICAgICB0YXJnZXQ6bnVsbCwvL+ebruagh+WFg+e0oOWSjHRoaXPmjIflkJFkb23kuI3kuIDmoLcNCiAgICAgICAgU3RhdGVmdWxfaW5pdDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLl9TdGF0ZWZ1bF9kR2V0SHRtbFRwbCA9IHRoaXMuZ2V0SHRtbFRwbDsNCiAgICAgICAgICAgIHRoaXMuZ2V0SHRtbFRwbCA9IHRoaXMuU3RhdGVmdWxfZ2V0SHRtbFRwbDsNCiAgICAgICAgfSwNCiAgICAgICAgU3RhdGVmdWxfZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgdHBsID0gdGhpcy5fU3RhdGVmdWxfZEdldEh0bWxUcGwoKTsNCiAgICAgICAgICAgIC8vIOS9v+eUqGZ1bmN0aW9u6YG/5YWNJOi9rOS5iQ0KICAgICAgICAgICAgcmV0dXJuIHRwbC5yZXBsYWNlKC9zdGF0ZWZ1bC9nLCBmdW5jdGlvbiAoKXsgcmV0dXJuIFRQTF9TVEFURUZVTDsgfSk7DQogICAgICAgIH0sDQogICAgICAgIFN0YXRlZnVsX29uTW91c2VFbnRlcjogZnVuY3Rpb24gKGV2dCwgZWwpew0KICAgICAgICAgICAgdGhpcy50YXJnZXQ9ZWw7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCgpIHx8IHRoaXMuYWx3YWx5c0hvdmVyYWJsZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuYWRkU3RhdGUoJ2hvdmVyJyk7DQogICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ292ZXInKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgU3RhdGVmdWxfb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiAoZXZ0LCBlbCl7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCgpIHx8IHRoaXMuYWx3YWx5c0hvdmVyYWJsZSkgew0KICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RhdGUoJ2hvdmVyJyk7DQogICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdGF0ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoJ291dCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBTdGF0ZWZ1bF9vbk1vdXNlT3ZlcjogZnVuY3Rpb24gKGV2dCwgZWwpew0KICAgICAgICAgICAgdmFyIHJlbCA9IGV2dC5yZWxhdGVkVGFyZ2V0Ow0KICAgICAgICAgICAgaWYgKCF1aVV0aWxzLmNvbnRhaW5zKGVsLCByZWwpICYmIGVsICE9PSByZWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLlN0YXRlZnVsX29uTW91c2VFbnRlcihldnQsIGVsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgU3RhdGVmdWxfb25Nb3VzZU91dDogZnVuY3Rpb24gKGV2dCwgZWwpew0KICAgICAgICAgICAgdmFyIHJlbCA9IGV2dC5yZWxhdGVkVGFyZ2V0Ow0KICAgICAgICAgICAgaWYgKCF1aVV0aWxzLmNvbnRhaW5zKGVsLCByZWwpICYmIGVsICE9PSByZWwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLlN0YXRlZnVsX29uTW91c2VMZWF2ZShldnQsIGVsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgU3RhdGVmdWxfb25Nb3VzZURvd246IGZ1bmN0aW9uIChldnQsIGVsKXsNCiAgICAgICAgICAgIGlmICghdGhpcy5pc0Rpc2FibGVkKCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXRlKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgU3RhdGVmdWxfb25Nb3VzZVVwOiBmdW5jdGlvbiAoZXZ0LCBlbCl7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCgpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdGF0ZSgnYWN0aXZlJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIFN0YXRlZnVsX3Bvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgaWYgKHRoaXMuZGlzYWJsZWQgJiYgIXRoaXMuaGFzU3RhdGUoJ2Rpc2FibGVkJykpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXRlKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYXNTdGF0ZTogZnVuY3Rpb24gKHN0YXRlKXsNCiAgICAgICAgICAgIHJldHVybiBkb21VdGlscy5oYXNDbGFzcyh0aGlzLmdldFN0YXRlRG9tKCksICdlZHVpLXN0YXRlLScgKyBzdGF0ZSk7DQogICAgICAgIH0sDQogICAgICAgIGFkZFN0YXRlOiBmdW5jdGlvbiAoc3RhdGUpew0KICAgICAgICAgICAgaWYgKCF0aGlzLmhhc1N0YXRlKHN0YXRlKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3RhdGVEb20oKS5jbGFzc05hbWUgKz0gJyBlZHVpLXN0YXRlLScgKyBzdGF0ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVtb3ZlU3RhdGU6IGZ1bmN0aW9uIChzdGF0ZSl7DQogICAgICAgICAgICBpZiAodGhpcy5oYXNTdGF0ZShzdGF0ZSkpIHsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVDbGFzc2VzKHRoaXMuZ2V0U3RhdGVEb20oKSwgWydlZHVpLXN0YXRlLScgKyBzdGF0ZV0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBnZXRTdGF0ZURvbTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREb20oJ3N0YXRlJyk7DQogICAgICAgIH0sDQogICAgICAgIGlzQ2hlY2tlZDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNTdGF0ZSgnY2hlY2tlZCcpOw0KICAgICAgICB9LA0KICAgICAgICBzZXRDaGVja2VkOiBmdW5jdGlvbiAoY2hlY2tlZCl7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCgpICYmIGNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXRlKCdjaGVja2VkJyk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RhdGUoJ2NoZWNrZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaXNEaXNhYmxlZDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy5oYXNTdGF0ZSgnZGlzYWJsZWQnKTsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0RGlzYWJsZWQ6IGZ1bmN0aW9uIChkaXNhYmxlZCl7DQogICAgICAgICAgICBpZiAoZGlzYWJsZWQpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXRlKCdob3ZlcicpOw0KICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RhdGUoJ2NoZWNrZWQnKTsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXRlKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXRlKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXRlKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQovLy9pbXBvcnQgdWkvc3RhdGVmdWwuanMNCihmdW5jdGlvbiAoKXsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIFVJQmFzZSA9IGJhaWR1LmVkaXRvci51aS5VSUJhc2UsDQogICAgICAgIFN0YXRlZnVsID0gYmFpZHUuZWRpdG9yLnVpLlN0YXRlZnVsLA0KICAgICAgICBCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuQnV0dG9uID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdEJ1dHRvbigpOw0KICAgICAgICB9Ow0KICAgIEJ1dHRvbi5wcm90b3R5cGUgPSB7DQogICAgICAgIHVpTmFtZTogJ2J1dHRvbicsDQogICAgICAgIGxhYmVsOiAnJywNCiAgICAgICAgdGl0bGU6ICcnLA0KICAgICAgICBzaG93SWNvbjogdHJ1ZSwNCiAgICAgICAgc2hvd1RleHQ6IHRydWUsDQogICAgICAgIGluaXRCdXR0b246IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7DQogICAgICAgICAgICB0aGlzLlN0YXRlZnVsX2luaXQoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1ib3ggJSUiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI19zdGF0ZSIgc3RhdGVmdWw+JyArDQogICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSIlJS13cmFwIj48ZGl2IGlkPSIjI19ib2R5IiB1bnNlbGVjdGFibGU9Im9uIiAnICsgKHRoaXMudGl0bGUgPyAndGl0bGU9IicgKyB0aGlzLnRpdGxlICsgJyInIDogJycpICsNCiAgICAgICAgICAgICAgICAgJyBjbGFzcz0iJSUtYm9keSIgb25tb3VzZWRvd249InJldHVybiBmYWxzZTsiIG9uY2xpY2s9InJldHVybiAkJC5fb25DbGljaygpOyI+JyArDQogICAgICAgICAgICAgICAgICAodGhpcy5zaG93SWNvbiA/ICc8ZGl2IGNsYXNzPSJlZHVpLWJveCBlZHVpLWljb24iPjwvZGl2PicgOiAnJykgKw0KICAgICAgICAgICAgICAgICAgKHRoaXMuc2hvd1RleHQgPyAnPGRpdiBjbGFzcz0iZWR1aS1ib3ggZWR1aS1sYWJlbCI+JyArIHRoaXMubGFiZWwgKyAnPC9kaXY+JyA6ICcnKSArDQogICAgICAgICAgICAgICAgICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzwvZGl2PjwvZGl2Pic7DQogICAgICAgIH0sDQogICAgICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5TdGF0ZWZ1bF9wb3N0UmVuZGVyKCk7DQogICAgICAgICAgICB0aGlzLnNldERpc2FibGVkKHRoaXMuZGlzYWJsZWQpDQogICAgICAgIH0sDQogICAgICAgIF9vbkNsaWNrOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIGlmICghdGhpcy5pc0Rpc2FibGVkKCkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgnY2xpY2snKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgdXRpbHMuaW5oZXJpdHMoQnV0dG9uLCBVSUJhc2UpOw0KICAgIHV0aWxzLmV4dGVuZChCdXR0b24ucHJvdG90eXBlLCBTdGF0ZWZ1bCk7DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQovLy9pbXBvcnQgdWkvc3RhdGVmdWwuanMNCihmdW5jdGlvbiAoKXsNCiAgICB2YXIgdXRpbHMgPSBiYWlkdS5lZGl0b3IudXRpbHMsDQogICAgICAgIHVpVXRpbHMgPSBiYWlkdS5lZGl0b3IudWkudWlVdGlscywNCiAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlLA0KICAgICAgICBTdGF0ZWZ1bCA9IGJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCwNCiAgICAgICAgU3BsaXRCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24gPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICAgICAgdGhpcy5pbml0U3BsaXRCdXR0b24oKTsNCiAgICAgICAgfTsNCiAgICBTcGxpdEJ1dHRvbi5wcm90b3R5cGUgPSB7DQogICAgICAgIHBvcHVwOiBudWxsLA0KICAgICAgICB1aU5hbWU6ICdzcGxpdGJ1dHRvbicsDQogICAgICAgIHRpdGxlOiAnJywNCiAgICAgICAgaW5pdFNwbGl0QnV0dG9uOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHRoaXMuaW5pdFVJQmFzZSgpOw0KICAgICAgICAgICAgdGhpcy5TdGF0ZWZ1bF9pbml0KCk7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKHRoaXMucG9wdXAgIT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHZhciBwb3B1cCA9IHRoaXMucG9wdXA7DQogICAgICAgICAgICAgICAgdGhpcy5wb3B1cCA9IG51bGw7DQogICAgICAgICAgICAgICAgdGhpcy5zZXRQb3B1cChwb3B1cCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9VSUJhc2VfcG9zdFJlbmRlcjogVUlCYXNlLnByb3RvdHlwZS5wb3N0UmVuZGVyLA0KICAgICAgICBwb3N0UmVuZGVyOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHRoaXMuU3RhdGVmdWxfcG9zdFJlbmRlcigpOw0KICAgICAgICAgICAgdGhpcy5fVUlCYXNlX3Bvc3RSZW5kZXIoKTsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0UG9wdXA6IGZ1bmN0aW9uIChwb3B1cCl7DQogICAgICAgICAgICBpZiAodGhpcy5wb3B1cCA9PT0gcG9wdXApIHJldHVybjsNCiAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwICE9IG51bGwpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmRpc3Bvc2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHBvcHVwLmFkZExpc3RlbmVyKCdzaG93JywgdXRpbHMuYmluZCh0aGlzLl9vblBvcHVwU2hvdywgdGhpcykpOw0KICAgICAgICAgICAgcG9wdXAuYWRkTGlzdGVuZXIoJ2hpZGUnLCB1dGlscy5iaW5kKHRoaXMuX29uUG9wdXBIaWRlLCB0aGlzKSk7DQogICAgICAgICAgICBwb3B1cC5hZGRMaXN0ZW5lcigncG9zdHJlbmRlcicsIHV0aWxzLmJpbmQoZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgcG9wdXAuZ2V0RG9tKCdib2R5JykuYXBwZW5kQ2hpbGQoDQogICAgICAgICAgICAgICAgICAgIHVpVXRpbHMuY3JlYXRlRWxlbWVudEJ5SHRtbCgnPGRpdiBpZD0iJyArDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLmlkICsgJ19ib3JkZXJlcmFzZXIiIGNsYXNzPSJlZHVpLWJvcmRlcmVyYXNlciBlZHVpLWJhY2tncm91bmQiIHN0eWxlPSJ3aWR0aDonICsNCiAgICAgICAgICAgICAgICAgICAgICAgICh1aVV0aWxzLmdldENsaWVudFJlY3QodGhpcy5nZXREb20oKSkud2lkdGggKyAyMCkgKyAncHgiPjwvZGl2PicpDQogICAgICAgICAgICAgICAgICAgICk7DQogICAgICAgICAgICAgICAgcG9wdXAuZ2V0RG9tKCkuY2xhc3NOYW1lICs9ICcgJyArIHRoaXMuY2xhc3NOYW1lOw0KICAgICAgICAgICAgfSwgdGhpcykpOw0KICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwOw0KICAgICAgICB9LA0KICAgICAgICBfb25Qb3B1cFNob3c6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5hZGRTdGF0ZSgnb3BlbmVkJyk7DQogICAgICAgIH0sDQogICAgICAgIF9vblBvcHVwSGlkZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXRlKCdvcGVuZWQnKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1ib3ggJSUiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2ICcrICh0aGlzLnRpdGxlID8gJ3RpdGxlPSInICsgdGhpcy50aXRsZSArICciJyA6ICcnKSArJyBpZD0iIyNfc3RhdGUiIHN0YXRlZnVsPjxkaXYgY2xhc3M9IiUlLWJvZHkiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI19idXR0b25fYm9keSIgY2xhc3M9ImVkdWktYm94IGVkdWktYnV0dG9uLWJvZHkiIG9uY2xpY2s9IiQkLl9vbkJ1dHRvbkNsaWNrKGV2ZW50LCB0aGlzKTsiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLWJveCBlZHVpLWljb24iPjwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iZWR1aS1ib3ggZWR1aS1zcGxpdGJvcmRlciI+PC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktYXJyb3ciIG9uY2xpY2s9IiQkLl9vbkFycm93Q2xpY2soKTsiPjwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj48L2Rpdj48L2Rpdj4nOw0KICAgICAgICB9LA0KICAgICAgICBzaG93UG9wdXA6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgLy8g5b2TcG9wdXDlvoDkuIrlvLnlh7rnmoTml7blgJnvvIzlgZrnibnmrorlpITnkIYNCiAgICAgICAgICAgIHZhciByZWN0ID0gdWlVdGlscy5nZXRDbGllbnRSZWN0KHRoaXMuZ2V0RG9tKCkpOw0KICAgICAgICAgICAgcmVjdC50b3AgLT0gdGhpcy5wb3B1cC5TSEFET1dfUkFESVVTOw0KICAgICAgICAgICAgcmVjdC5oZWlnaHQgKz0gdGhpcy5wb3B1cC5TSEFET1dfUkFESVVTOw0KICAgICAgICAgICAgdGhpcy5wb3B1cC5zaG93QW5jaG9yUmVjdChyZWN0KTsNCiAgICAgICAgfSwNCiAgICAgICAgX29uQXJyb3dDbGljazogZnVuY3Rpb24gKGV2ZW50LCBlbCl7DQogICAgICAgICAgICBpZiAoIXRoaXMuaXNEaXNhYmxlZCgpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93UG9wdXAoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX29uQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgaWYgKCF0aGlzLmlzRGlzYWJsZWQoKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdidXR0b25jbGljaycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhTcGxpdEJ1dHRvbiwgVUlCYXNlKTsNCiAgICB1dGlscy5leHRlbmQoU3BsaXRCdXR0b24ucHJvdG90eXBlLCBTdGF0ZWZ1bCwgdHJ1ZSk7DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQovLy9pbXBvcnQgdWkvY29sb3JwaWNrZXIuanMNCi8vL2ltcG9ydCB1aS9wb3B1cC5qcw0KLy8vaW1wb3J0IHVpL3NwbGl0YnV0dG9uLmpzDQooZnVuY3Rpb24gKCl7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsDQogICAgICAgIENvbG9yUGlja2VyID0gYmFpZHUuZWRpdG9yLnVpLkNvbG9yUGlja2VyLA0KICAgICAgICBQb3B1cCA9IGJhaWR1LmVkaXRvci51aS5Qb3B1cCwNCiAgICAgICAgU3BsaXRCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24sDQogICAgICAgIENvbG9yQnV0dG9uID0gYmFpZHUuZWRpdG9yLnVpLkNvbG9yQnV0dG9uID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdENvbG9yQnV0dG9uKCk7DQogICAgICAgIH07DQogICAgQ29sb3JCdXR0b24ucHJvdG90eXBlID0gew0KICAgICAgICBpbml0Q29sb3JCdXR0b246IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBuZXcgUG9wdXAoew0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBDb2xvclBpY2tlcih7DQogICAgICAgICAgICAgICAgICAgIG5vQ29sb3JUZXh0OiBtZS5lZGl0b3IuZ2V0TGFuZygiY2xlYXJDb2xvciIpLA0KICAgICAgICAgICAgICAgICAgICBlZGl0b3I6bWUuZWRpdG9yLA0KICAgICAgICAgICAgICAgICAgICBvbnBpY2tjb2xvcjogZnVuY3Rpb24gKHQsIGNvbG9yKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9vblBpY2tDb2xvcihjb2xvcik7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9ucGlja25vY29sb3I6IGZ1bmN0aW9uICh0LCBjb2xvcil7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5fb25QaWNrTm9Db2xvcihjb2xvcik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KSwNCiAgICAgICAgICAgICAgICBlZGl0b3I6bWUuZWRpdG9yDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFNwbGl0QnV0dG9uKCk7DQogICAgICAgIH0sDQogICAgICAgIF9TcGxpdEJ1dHRvbl9wb3N0UmVuZGVyOiBTcGxpdEJ1dHRvbi5wcm90b3R5cGUucG9zdFJlbmRlciwNCiAgICAgICAgcG9zdFJlbmRlcjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLl9TcGxpdEJ1dHRvbl9wb3N0UmVuZGVyKCk7DQogICAgICAgICAgICB0aGlzLmdldERvbSgnYnV0dG9uX2JvZHknKS5hcHBlbmRDaGlsZCgNCiAgICAgICAgICAgICAgICB1aVV0aWxzLmNyZWF0ZUVsZW1lbnRCeUh0bWwoJzxkaXYgaWQ9IicgKyB0aGlzLmlkICsgJ19jb2xvcmx1bXAiIGNsYXNzPSJlZHVpLWNvbG9ybHVtcCI+PC9kaXY+JykNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICB0aGlzLmdldERvbSgpLmNsYXNzTmFtZSArPSAnIGVkdWktY29sb3JidXR0b24nOw0KICAgICAgICB9LA0KICAgICAgICBzZXRDb2xvcjogZnVuY3Rpb24gKGNvbG9yKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCdjb2xvcmx1bXAnKS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjsNCiAgICAgICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjsNCiAgICAgICAgfSwNCiAgICAgICAgX29uUGlja0NvbG9yOiBmdW5jdGlvbiAoY29sb3Ipew0KICAgICAgICAgICAgaWYgKHRoaXMuZmlyZUV2ZW50KCdwaWNrY29sb3InLCBjb2xvcikgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZXRDb2xvcihjb2xvcik7DQogICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5oaWRlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vblBpY2tOb0NvbG9yOiBmdW5jdGlvbiAoY29sb3Ipew0KICAgICAgICAgICAgaWYgKHRoaXMuZmlyZUV2ZW50KCdwaWNrbm9jb2xvcicpICE9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIHRoaXMucG9wdXAuaGlkZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhDb2xvckJ1dHRvbiwgU3BsaXRCdXR0b24pOw0KDQp9KSgpOw0KDQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHVpY29yZQ0KLy8vaW1wb3J0IHVpL3BvcHVwLmpzDQovLy9pbXBvcnQgdWkvdGFibGVwaWNrZXIuanMNCi8vL2ltcG9ydCB1aS9zcGxpdGJ1dHRvbi5qcw0KKGZ1bmN0aW9uICgpew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgUG9wdXAgPSBiYWlkdS5lZGl0b3IudWkuUG9wdXAsDQogICAgICAgIFRhYmxlUGlja2VyID0gYmFpZHUuZWRpdG9yLnVpLlRhYmxlUGlja2VyLA0KICAgICAgICBTcGxpdEJ1dHRvbiA9IGJhaWR1LmVkaXRvci51aS5TcGxpdEJ1dHRvbiwNCiAgICAgICAgVGFibGVCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuVGFibGVCdXR0b24gPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICAgICAgdGhpcy5pbml0VGFibGVCdXR0b24oKTsNCiAgICAgICAgfTsNCiAgICBUYWJsZUJ1dHRvbi5wcm90b3R5cGUgPSB7DQogICAgICAgIGluaXRUYWJsZUJ1dHRvbjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdGhpcy5wb3B1cCA9IG5ldyBQb3B1cCh7DQogICAgICAgICAgICAgICAgY29udGVudDogbmV3IFRhYmxlUGlja2VyKHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOm1lLmVkaXRvciwNCiAgICAgICAgICAgICAgICAgICAgb25waWNrdGFibGU6IGZ1bmN0aW9uICh0LCBudW1Db2xzLCBudW1Sb3dzKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9vblBpY2tUYWJsZShudW1Db2xzLCBudW1Sb3dzKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pLA0KICAgICAgICAgICAgICAgICdlZGl0b3InOm1lLmVkaXRvcg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmluaXRTcGxpdEJ1dHRvbigpOw0KICAgICAgICB9LA0KICAgICAgICBfb25QaWNrVGFibGU6IGZ1bmN0aW9uIChudW1Db2xzLCBudW1Sb3dzKXsNCiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVFdmVudCgncGlja3RhYmxlJywgbnVtQ29scywgbnVtUm93cykgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5wb3B1cC5oaWRlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHV0aWxzLmluaGVyaXRzKFRhYmxlQnV0dG9uLCBTcGxpdEJ1dHRvbik7DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQooZnVuY3Rpb24gKCkgew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgVUlCYXNlID0gYmFpZHUuZWRpdG9yLnVpLlVJQmFzZTsNCg0KICAgIHZhciBBdXRvVHlwZVNldFBpY2tlciA9IGJhaWR1LmVkaXRvci51aS5BdXRvVHlwZVNldFBpY2tlciA9IGZ1bmN0aW9uIChvcHRpb25zKSB7DQogICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7DQogICAgICAgIHRoaXMuaW5pdEF1dG9UeXBlU2V0UGlja2VyKCk7DQogICAgfTsNCiAgICBBdXRvVHlwZVNldFBpY2tlci5wcm90b3R5cGUgPSB7DQogICAgICAgIGluaXRBdXRvVHlwZVNldFBpY2tlcjpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLmluaXRVSUJhc2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLmVkaXRvciwNCiAgICAgICAgICAgICAgICBvcHQgPSBtZS5vcHRpb25zLmF1dG90eXBlc2V0LA0KICAgICAgICAgICAgICAgIGxhbmcgPSBtZS5nZXRMYW5nKCJhdXRvVHlwZVNldCIpOw0KDQogICAgICAgICAgICB2YXIgdGV4dEFsaWduSW5wdXROYW1lID0gJ3RleHRBbGlnblZhbHVlJyArIG1lLnVpZCwNCiAgICAgICAgICAgICAgICBpbWFnZUJsb2NrSW5wdXROYW1lID0gJ2ltYWdlQmxvY2tMaW5lVmFsdWUnICsgbWUudWlkOw0KDQogICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1hdXRvdHlwZXNldHBpY2tlciAlJSI+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktYXV0b3R5cGVzZXRwaWNrZXItYm9keSI+JyArDQogICAgICAgICAgICAgICAgJzx0YWJsZSA+JyArDQogICAgICAgICAgICAgICAgJzx0cj48dGQgbm93cmFwIGNvbHNwYW49IjIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0ibWVyZ2VFbXB0eWxpbmUiICcgKyAob3B0WyJtZXJnZUVtcHR5bGluZSJdID8gImNoZWNrZWQiIDogIiIgKSArICc+JyArIGxhbmcubWVyZ2VMaW5lICsgJzwvdGQ+PHRkIGNvbHNwYW49IjIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0icmVtb3ZlRW1wdHlsaW5lIiAnICsgKG9wdFsicmVtb3ZlRW1wdHlsaW5lIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5kZWxMaW5lICsgJzwvdGQ+PC90cj4nICsNCiAgICAgICAgICAgICAgICAnPHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iMiI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJyZW1vdmVDbGFzcyIgJyArIChvcHRbInJlbW92ZUNsYXNzIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5yZW1vdmVGb3JtYXQgKyAnPC90ZD48dGQgY29sc3Bhbj0iMiI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJpbmRlbnQiICcgKyAob3B0WyJpbmRlbnQiXSA/ICJjaGVja2VkIiA6ICIiICkgKyAnPicgKyBsYW5nLmluZGVudCArICc8L3RkPjwvdHI+JyArDQogICAgICAgICAgICAgICAgJzx0cj48dGQgbm93cmFwIGNvbHNwYW49IjIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0idGV4dEFsaWduIiAnICsgKG9wdFsidGV4dEFsaWduIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5hbGlnbm1lbnQgKyAnPC90ZD48dGQgY29sc3Bhbj0iMiIgaWQ9IicgKyB0ZXh0QWxpZ25JbnB1dE5hbWUgKyAnIj48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrIHRleHRBbGlnbklucHV0TmFtZSArJyIgdmFsdWU9ImxlZnQiICcgKyAoKG9wdFsidGV4dEFsaWduIl0gJiYgb3B0WyJ0ZXh0QWxpZ24iXSA9PSAibGVmdCIpID8gImNoZWNrZWQiIDogIiIpICsgJz4nICsgbWUuZ2V0TGFuZygianVzdGlmeWxlZnQiKSArICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrIHRleHRBbGlnbklucHV0TmFtZSArJyIgdmFsdWU9ImNlbnRlciIgJyArICgob3B0WyJ0ZXh0QWxpZ24iXSAmJiBvcHRbInRleHRBbGlnbiJdID09ICJjZW50ZXIiKSA/ICJjaGVja2VkIiA6ICIiKSArICc+JyArIG1lLmdldExhbmcoImp1c3RpZnljZW50ZXIiKSArICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrIHRleHRBbGlnbklucHV0TmFtZSArJyIgdmFsdWU9InJpZ2h0IiAnICsgKChvcHRbInRleHRBbGlnbiJdICYmIG9wdFsidGV4dEFsaWduIl0gPT0gInJpZ2h0IikgPyAiY2hlY2tlZCIgOiAiIikgKyAnPicgKyBtZS5nZXRMYW5nKCJqdXN0aWZ5cmlnaHQiKSArICcgPC90cj4nICsNCiAgICAgICAgICAgICAgICAnPHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iMiI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJpbWFnZUJsb2NrTGluZSIgJyArIChvcHRbImltYWdlQmxvY2tMaW5lIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5pbWFnZUZsb2F0ICsgJzwvdGQ+JyArDQogICAgICAgICAgICAgICAgJzx0ZCBub3dyYXAgY29sc3Bhbj0iMiIgaWQ9IicrIGltYWdlQmxvY2tJbnB1dE5hbWUgKyciPicgKw0KICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrIGltYWdlQmxvY2tJbnB1dE5hbWUgKyciIHZhbHVlPSJub25lIiAnICsgKChvcHRbImltYWdlQmxvY2tMaW5lIl0gJiYgb3B0WyJpbWFnZUJsb2NrTGluZSJdID09ICJub25lIikgPyAiY2hlY2tlZCIgOiAiIikgKyAnPicgKyBtZS5nZXRMYW5nKCJkZWZhdWx0IikgKw0KICAgICAgICAgICAgICAgICc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrIGltYWdlQmxvY2tJbnB1dE5hbWUgKyciIHZhbHVlPSJsZWZ0IiAnICsgKChvcHRbImltYWdlQmxvY2tMaW5lIl0gJiYgb3B0WyJpbWFnZUJsb2NrTGluZSJdID09ICJsZWZ0IikgPyAiY2hlY2tlZCIgOiAiIikgKyAnPicgKyBtZS5nZXRMYW5nKCJqdXN0aWZ5bGVmdCIpICsNCiAgICAgICAgICAgICAgICAnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSInKyBpbWFnZUJsb2NrSW5wdXROYW1lICsnIiB2YWx1ZT0iY2VudGVyIiAnICsgKChvcHRbImltYWdlQmxvY2tMaW5lIl0gJiYgb3B0WyJpbWFnZUJsb2NrTGluZSJdID09ICJjZW50ZXIiKSA/ICJjaGVja2VkIiA6ICIiKSArICc+JyArIG1lLmdldExhbmcoImp1c3RpZnljZW50ZXIiKSArDQogICAgICAgICAgICAgICAgJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJysgaW1hZ2VCbG9ja0lucHV0TmFtZSArJyIgdmFsdWU9InJpZ2h0IiAnICsgKChvcHRbImltYWdlQmxvY2tMaW5lIl0gJiYgb3B0WyJpbWFnZUJsb2NrTGluZSJdID09ICJyaWdodCIpID8gImNoZWNrZWQiIDogIiIpICsgJz4nICsgbWUuZ2V0TGFuZygianVzdGlmeXJpZ2h0IikgKyAnPC90cj4nICsNCg0KICAgICAgICAgICAgICAgICc8dHI+PHRkIG5vd3JhcCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNsZWFyRm9udFNpemUiICcgKyAob3B0WyJjbGVhckZvbnRTaXplIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5yZW1vdmVGb250c2l6ZSArICc8L3RkPjx0ZCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNsZWFyRm9udEZhbWlseSIgJyArIChvcHRbImNsZWFyRm9udEZhbWlseSJdID8gImNoZWNrZWQiIDogIiIgKSArICc+JyArIGxhbmcucmVtb3ZlRm9udEZhbWlseSArICc8L3RkPjwvdHI+JyArDQogICAgICAgICAgICAgICAgJzx0cj48dGQgbm93cmFwIGNvbHNwYW49IjQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0icmVtb3ZlRW1wdHlOb2RlIiAnICsgKG9wdFsicmVtb3ZlRW1wdHlOb2RlIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5yZW1vdmVIdG1sICsgJzwvdGQ+PC90cj4nICsNCiAgICAgICAgICAgICAgICAnPHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iNCI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJwYXN0ZUZpbHRlciIgJyArIChvcHRbInBhc3RlRmlsdGVyIl0gPyAiY2hlY2tlZCIgOiAiIiApICsgJz4nICsgbGFuZy5wYXN0ZUZpbHRlciArICc8L3RkPjwvdHI+JyArDQogICAgICAgICAgICAgICAgJzx0cj48dGQgbm93cmFwIGNvbHNwYW49IjQiIGFsaWduPSJyaWdodCI+PGJ1dHRvbiA+JyArIGxhbmcucnVuICsgJzwvYnV0dG9uPjwvdGQ+PC90cj4nICsNCiAgICAgICAgICAgICAgICAnPC90YWJsZT4nICsNCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzwvZGl2Pic7DQoNCg0KICAgICAgICB9LA0KICAgICAgICBfVUlCYXNlX3JlbmRlcjpVSUJhc2UucHJvdG90eXBlLnJlbmRlcg0KICAgIH07DQogICAgdXRpbHMuaW5oZXJpdHMoQXV0b1R5cGVTZXRQaWNrZXIsIFVJQmFzZSk7DQp9KSgpOw0KDQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHVpY29yZQ0KLy8vaW1wb3J0IHVpL3BvcHVwLmpzDQovLy9pbXBvcnQgdWkvYXV0b3R5cGVzZXRwaWNrZXIuanMNCi8vL2ltcG9ydCB1aS9zcGxpdGJ1dHRvbi5qcw0KKGZ1bmN0aW9uICgpew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgUG9wdXAgPSBiYWlkdS5lZGl0b3IudWkuUG9wdXAsDQogICAgICAgIEF1dG9UeXBlU2V0UGlja2VyID0gYmFpZHUuZWRpdG9yLnVpLkF1dG9UeXBlU2V0UGlja2VyLA0KICAgICAgICBTcGxpdEJ1dHRvbiA9IGJhaWR1LmVkaXRvci51aS5TcGxpdEJ1dHRvbiwNCiAgICAgICAgQXV0b1R5cGVTZXRCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuQXV0b1R5cGVTZXRCdXR0b24gPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICAgICAgdGhpcy5pbml0QXV0b1R5cGVTZXRCdXR0b24oKTsNCiAgICAgICAgfTsNCiAgICBmdW5jdGlvbiBnZXRQYXJhKG1lKXsNCiAgICAgICAgdmFyIG9wdCA9IG1lLmVkaXRvci5vcHRpb25zLmF1dG90eXBlc2V0LA0KICAgICAgICAgICAgY29udCA9IG1lLmdldERvbSgpLA0KICAgICAgICAgICAgZWRpdG9ySWQgPSBtZS5lZGl0b3IudWlkLA0KICAgICAgICAgICAgaW5wdXRUeXBlID0gbnVsbCwNCiAgICAgICAgICAgIGF0dHJOYW1lID0gbnVsbCwNCiAgICAgICAgICAgIGlwdHMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShjb250LCJpbnB1dCIpOw0KICAgICAgICBmb3IodmFyIGk9aXB0cy5sZW5ndGgtMSxpcHQ7aXB0PWlwdHNbaS0tXTspew0KDQogICAgICAgICAgICBpbnB1dFR5cGUgPSBpcHQuZ2V0QXR0cmlidXRlKCJ0eXBlIik7DQoNCiAgICAgICAgICAgIGlmKGlucHV0VHlwZT09ImNoZWNrYm94Iil7DQogICAgICAgICAgICAgICAgYXR0ck5hbWUgPSBpcHQuZ2V0QXR0cmlidXRlKCJuYW1lIik7DQogICAgICAgICAgICAgICAgb3B0W2F0dHJOYW1lXSAmJiBkZWxldGUgb3B0W2F0dHJOYW1lXTsNCiAgICAgICAgICAgICAgICBpZihpcHQuY2hlY2tlZCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBhdHRyVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggYXR0ck5hbWUrIlZhbHVlIiArIGVkaXRvcklkICk7DQogICAgICAgICAgICAgICAgICAgIGlmKGF0dHJWYWx1ZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZigvaW5wdXQvaWcudGVzdChhdHRyVmFsdWUudGFnTmFtZSkpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdFthdHRyTmFtZV0gPSBhdHRyVmFsdWUudmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXB0Q2hpbGRzID0gYXR0clZhbHVlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaj1pcHRDaGlsZHMubGVuZ3RoLTEsaXB0Y2hpbGQ7aXB0Y2hpbGQ9aXB0Q2hpbGRzW2otLV07KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXB0Y2hpbGQuY2hlY2tlZCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRbYXR0ck5hbWVdID0gaXB0Y2hpbGQudmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHRbYXR0ck5hbWVdID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB2YXIgc2VsZWN0cyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGNvbnQsInNlbGVjdCIpOw0KICAgICAgICBmb3IodmFyIGk9MCxzaTtzaT1zZWxlY3RzW2krK107KXsNCiAgICAgICAgICAgIHZhciBhdHRyID0gc2kuZ2V0QXR0cmlidXRlKCduYW1lJyk7DQogICAgICAgICAgICBvcHRbYXR0cl0gPSBvcHRbYXR0cl0gPyBzaS52YWx1ZSA6ICcnOw0KICAgICAgICB9DQoNCiAgICAgICAgbWUuZWRpdG9yLm9wdGlvbnMuYXV0b3R5cGVzZXQgPSBvcHQ7DQogICAgfQ0KICAgIEF1dG9UeXBlU2V0QnV0dG9uLnByb3RvdHlwZSA9IHsNCiAgICAgICAgaW5pdEF1dG9UeXBlU2V0QnV0dG9uOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICB0aGlzLnBvcHVwID0gbmV3IFBvcHVwKHsNCiAgICAgICAgICAgICAgICAvL+S8oOWFpemFjee9ruWPguaVsA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG5ldyBBdXRvVHlwZVNldFBpY2tlcih7ZWRpdG9yOm1lLmVkaXRvcn0pLA0KICAgICAgICAgICAgICAgICdlZGl0b3InOm1lLmVkaXRvciwNCiAgICAgICAgICAgICAgICBoaWRlIDogZnVuY3Rpb24oKXsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2hpZGRlbiAmJiB0aGlzLmdldERvbSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBnZXRQYXJhKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdoaWRlJyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHZhciBmbGFnID0gMDsNCiAgICAgICAgICAgIHRoaXMucG9wdXAuYWRkTGlzdGVuZXIoJ3Bvc3RSZW5kZXJBZnRlcicsZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB2YXIgcG9wdXBVSSA9IHRoaXM7DQogICAgICAgICAgICAgICAgaWYoZmxhZylyZXR1cm47DQogICAgICAgICAgICAgICAgdmFyIGNvbnQgPSB0aGlzLmdldERvbSgpLA0KICAgICAgICAgICAgICAgICAgICBidG4gPSBjb250LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKVswXTsNCg0KICAgICAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgZ2V0UGFyYShwb3B1cFVJKTsNCiAgICAgICAgICAgICAgICAgICAgbWUuZWRpdG9yLmV4ZWNDb21tYW5kKCdhdXRvdHlwZXNldCcpOw0KICAgICAgICAgICAgICAgICAgICBwb3B1cFVJLmhpZGUoKQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgZmxhZyA9IDE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFNwbGl0QnV0dG9uKCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHV0aWxzLmluaGVyaXRzKEF1dG9UeXBlU2V0QnV0dG9uLCBTcGxpdEJ1dHRvbik7DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlCi8vL2ltcG9ydCB1aWNvcmUKKGZ1bmN0aW9uICgpIHsKICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywKICAgICAgICBQb3B1cCA9IGJhaWR1LmVkaXRvci51aS5Qb3B1cCwKICAgICAgICBTdGF0ZWZ1bCA9IGJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCwKICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlOwoKICAgIC8qKgogICAgICog6K+l5Y+C5pWw5bCG5paw5aKe5LiA5Liq5Y+C5pWw77yaIHNlbGVjdGVk77yMIOWPguaVsOexu+Wei+S4uuS4gOS4qk9iamVjdO+8jCDlvaLlpoJ7ICdhbGlnbic6ICdjZW50ZXInLCAndmFsaWduJzogJ3RvcCcgfe+8jCDooajnpLrljZXlhYPmoLznmoTliJ3lp4sKICAgICAqIOWvuem9kOeKtuaAgeS4uu+8miDnq5bnm7TlsYXkuIrvvIzmsLTlubPlsYXkuK07IOWFtuS4rSBhbGlnbueahOWPluWAvOS4uu+8midjZW50ZXInLCAnbGVmdCcsICdyaWdodCc7IHZhbGlnbueahOWPluWAvOS4ujogJ3RvcCcsICdtaWRkbGUnLCAnYm90dG9tJwogICAgICogQHVwZGF0ZSAyMDEzLzQvMiBoYW5jb25nMDNAYmFpZHUuY29tCiAgICAgKi8KICAgIHZhciBDZWxsQWxpZ25QaWNrZXIgPSBiYWlkdS5lZGl0b3IudWkuQ2VsbEFsaWduUGlja2VyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOwogICAgICAgIHRoaXMuaW5pdFNlbGVjdGVkKCk7CiAgICAgICAgdGhpcy5pbml0Q2VsbEFsaWduUGlja2VyKCk7CiAgICB9OwogICAgQ2VsbEFsaWduUGlja2VyLnByb3RvdHlwZSA9IHsKICAgICAgICAvL+WIneWni+WMlumAieS4reeKtuaAge+8jCDor6Xmlrnms5XlsIbmoLnmja7kvKDpgJLov5vmnaXnmoTlj4LmlbDojrflj5bliLDlupTor6XpgInkuK3nmoTlr7npvZDmlrnlvI/lm77moIfnmoTntKLlvJUKICAgICAgICBpbml0U2VsZWN0ZWQ6IGZ1bmN0aW9uKCl7CgogICAgICAgICAgICB2YXIgc3RhdHVzID0gewoKICAgICAgICAgICAgICAgIHZhbGlnbjogewogICAgICAgICAgICAgICAgICAgIHRvcDogMCwKICAgICAgICAgICAgICAgICAgICBtaWRkbGU6IDEsCiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAyCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWxpZ246IHsKICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICAgICAgICAgIGNlbnRlcjogMSwKICAgICAgICAgICAgICAgICAgICByaWdodDogMgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvdW50OiAzCgogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHJlc3VsdCA9IC0xOwoKICAgICAgICAgICAgaWYoIHRoaXMuc2VsZWN0ZWQgKSB7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBzdGF0dXMudmFsaWduWyB0aGlzLnNlbGVjdGVkLnZhbGlnbiBdICogc3RhdHVzLmNvdW50ICsgc3RhdHVzLmFsaWduWyB0aGlzLnNlbGVjdGVkLmFsaWduIF07CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICBpbml0Q2VsbEFsaWduUGlja2VyOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7CiAgICAgICAgICAgIHRoaXMuU3RhdGVmdWxfaW5pdCgpOwogICAgICAgIH0sCiAgICAgICAgZ2V0SHRtbFRwbDpmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgYWxpZ25UeXBlID0gWyAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnIF0sCiAgICAgICAgICAgICAgICBDT1VOVCA9IDksCiAgICAgICAgICAgICAgICB0ZW1wQ2xhc3NOYW1lID0gbnVsbCwKICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IC0xLAogICAgICAgICAgICAgICAgdG1wbCA9IFtdOwoKCiAgICAgICAgICAgIGZvciggdmFyIGk9IDA7IGk8Q09VTlQ7IGkrKyApIHsKCiAgICAgICAgICAgICAgICB0ZW1wQ2xhc3NOYW1lID0gdGhpcy5zZWxlY3RlZEluZGV4ID09PSBpID8gJyBjbGFzcz0iZWR1aS1jZWxsYWxpZ24tc2VsZWN0ZWQiICcgOiAnJzsKICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9IGkgJSAzOwoKICAgICAgICAgICAgICAgIHRlbXBJbmRleCA9PT0gMCAmJiB0bXBsLnB1c2goJzx0cj4nKTsKCiAgICAgICAgICAgICAgICB0bXBsLnB1c2goICc8dGQgaW5kZXg9IicrIGkgKyciICcgKyB0ZW1wQ2xhc3NOYW1lICsgJyBzdGF0ZWZ1bD48ZGl2IGNsYXNzPSJlZHVpLWljb24gZWR1aS0nKyBhbGlnblR5cGVbIHRlbXBJbmRleCBdICsnIj48L2Rpdj48L3RkPicgKTsKCiAgICAgICAgICAgICAgICB0ZW1wSW5kZXggPT09IDIgJiYgdG1wbC5wdXNoKCc8L3RyPicpOwoKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktY2VsbGFsaWducGlja2VyICUlIj4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLWNlbGxhbGlnbnBpY2tlci1ib2R5Ij4nICsKICAgICAgICAgICAgICAgICc8dGFibGUgb25jbGljaz0iJCQuX29uQ2xpY2soZXZlbnQpOyI+JyArCiAgICAgICAgICAgICAgICB0bXBsLmpvaW4oJycpICsKICAgICAgICAgICAgICAgICc8L3RhYmxlPicgKwogICAgICAgICAgICAgICAgJzwvZGl2PicgKwogICAgICAgICAgICAgICAgJzwvZGl2Pic7CiAgICAgICAgfSwKICAgICAgICBnZXRTdGF0ZURvbTogZnVuY3Rpb24gKCl7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhcmdldDsKICAgICAgICB9LAogICAgICAgIF9vbkNsaWNrOiBmdW5jdGlvbiAoZXZ0KXsKICAgICAgICAgICAgdmFyIHRhcmdldD0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsKICAgICAgICAgICAgaWYoL2ljb24vLnRlc3QodGFyZ2V0LmNsYXNzTmFtZSkpewogICAgICAgICAgICAgICAgdGhpcy5pdGVtc1t0YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoImluZGV4IildLm9uY2xpY2soKTsKICAgICAgICAgICAgICAgIFBvcHVwLnBvc3RIaWRlKGV2dCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIF9VSUJhc2VfcmVuZGVyOlVJQmFzZS5wcm90b3R5cGUucmVuZGVyCiAgICB9OwogICAgdXRpbHMuaW5oZXJpdHMoQ2VsbEFsaWduUGlja2VyLCBVSUJhc2UpOwogICAgdXRpbHMuZXh0ZW5kKENlbGxBbGlnblBpY2tlci5wcm90b3R5cGUsIFN0YXRlZnVsLHRydWUpOwp9KSgpOwoKCgoNCi8vL2ltcG9ydCBjb3JlCi8vL2ltcG9ydCB1aWNvcmUKKGZ1bmN0aW9uICgpIHsKICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywKICAgICAgICBTdGF0ZWZ1bCA9IGJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCwKICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsCiAgICAgICAgVUlCYXNlID0gYmFpZHUuZWRpdG9yLnVpLlVJQmFzZTsKCiAgICB2YXIgUGFzdGVQaWNrZXIgPSBiYWlkdS5lZGl0b3IudWkuUGFzdGVQaWNrZXIgPSBmdW5jdGlvbiAob3B0aW9ucykgewogICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7CiAgICAgICAgdGhpcy5pbml0UGFzdGVQaWNrZXIoKTsKICAgIH07CiAgICBQYXN0ZVBpY2tlci5wcm90b3R5cGUgPSB7CiAgICAgICAgaW5pdFBhc3RlUGlja2VyOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7CiAgICAgICAgICAgIHRoaXMuU3RhdGVmdWxfaW5pdCgpOwogICAgICAgIH0sCiAgICAgICAgZ2V0SHRtbFRwbDpmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iZWR1aS1wYXN0ZWljb24iIG9uY2xpY2s9IiQkLl9vbkNsaWNrKHRoaXMpIj48L2Rpdj4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLXBhc3RlY29udGFpbmVyIj4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLXRpdGxlIj4nICsgdGhpcy5lZGl0b3IuZ2V0TGFuZygicGFzdGVPcHQiKSArICc8L2Rpdj4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLWJ1dHRvbiI+JyArCiAgICAgICAgICAgICAgICAnPGRpdiB0aXRsZT0iJyArIHRoaXMuZWRpdG9yLmdldExhbmcoInBhc3RlU291cmNlRm9ybWF0IikgKyAnIiBvbmNsaWNrPSIkJC5mb3JtYXQoZmFsc2UpIiBzdGF0ZWZ1bD4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLXJpY2h0eHRpY29uIj48L2Rpdj48L2Rpdj4nICsKICAgICAgICAgICAgICAgICc8ZGl2IHRpdGxlPSInICsgdGhpcy5lZGl0b3IuZ2V0TGFuZygidGFnRm9ybWF0IikgKyAnIiBvbmNsaWNrPSIkJC5mb3JtYXQoMikiIHN0YXRlZnVsPicgKwogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktdGFnaWNvbiI+PC9kaXY+PC9kaXY+JyArCiAgICAgICAgICAgICAgICAnPGRpdiB0aXRsZT0iJyArIHRoaXMuZWRpdG9yLmdldExhbmcoInBhc3RlVGV4dEZvcm1hdCIpICsgJyIgb25jbGljaz0iJCQuZm9ybWF0KHRydWUpIiBzdGF0ZWZ1bD4nICsKICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJlZHVpLXBsYWludHh0aWNvbiI+PC9kaXY+PC9kaXY+JyArCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArCiAgICAgICAgICAgICAgICAnPC9kaXY+JwogICAgICAgIH0sCiAgICAgICAgZ2V0U3RhdGVEb206ZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy50YXJnZXQ7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXQ6ZnVuY3Rpb24gKHBhcmFtKSB7CiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnVpLl9pc1RyYW5zZmVyID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5lZGl0b3IuZmlyZUV2ZW50KCdwYXN0ZVRyYW5zZmVyJywgcGFyYW0pOwogICAgICAgIH0sCiAgICAgICAgX29uQ2xpY2s6ZnVuY3Rpb24gKGN1cikgewogICAgICAgICAgICB2YXIgbm9kZSA9IGRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1ciksCiAgICAgICAgICAgICAgICBzY3JlZW5IdCA9IHVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCkuaGVpZ2h0LAogICAgICAgICAgICAgICAgc3ViUG9wID0gdWlVdGlscy5nZXRDbGllbnRSZWN0KG5vZGUpOwoKICAgICAgICAgICAgaWYgKChzdWJQb3AudG9wICsgc3ViUG9wLmhlaWdodCkgPiBzY3JlZW5IdCkKICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUudG9wID0gKC1zdWJQb3AuaGVpZ2h0IC0gY3VyLm9mZnNldEhlaWdodCkgKyAicHgiOwogICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLnRvcCA9ICIiOwoKICAgICAgICAgICAgaWYgKC9oaWRkZW4vaWcudGVzdChkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsICJ2aXNpYmlsaXR5IikpKSB7CiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLnZpc2liaWxpdHkgPSAidmlzaWJsZSI7CiAgICAgICAgICAgICAgICBkb21VdGlscy5hZGRDbGFzcyhjdXIsICJlZHVpLXN0YXRlLW9wZW5lZCIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgbm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmVDbGFzc2VzKGN1ciwgImVkdWktc3RhdGUtb3BlbmVkIikKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgX1VJQmFzZV9yZW5kZXI6VUlCYXNlLnByb3RvdHlwZS5yZW5kZXIKICAgIH07CiAgICB1dGlscy5pbmhlcml0cyhQYXN0ZVBpY2tlciwgVUlCYXNlKTsKICAgIHV0aWxzLmV4dGVuZChQYXN0ZVBpY2tlci5wcm90b3R5cGUsIFN0YXRlZnVsLCB0cnVlKTsKfSkoKTsKCgoKCg0KKGZ1bmN0aW9uICgpew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgdWlVdGlscyA9IGJhaWR1LmVkaXRvci51aS51aVV0aWxzLA0KICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlLA0KICAgICAgICBUb29sYmFyID0gYmFpZHUuZWRpdG9yLnVpLlRvb2xiYXIgPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICAgICAgdGhpcy5pbml0VG9vbGJhcigpOw0KICAgICAgICB9Ow0KICAgIFRvb2xiYXIucHJvdG90eXBlID0gew0KICAgICAgICBpdGVtczogbnVsbCwNCiAgICAgICAgaW5pdFRvb2xiYXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMgfHwgW107DQogICAgICAgICAgICB0aGlzLmluaXRVSUJhc2UoKTsNCiAgICAgICAgfSwNCiAgICAgICAgYWRkOiBmdW5jdGlvbiAoaXRlbSl7DQogICAgICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7DQogICAgICAgIH0sDQogICAgICAgIGdldEh0bWxUcGw6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIGJ1ZmYgPSBbXTsNCiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgYnVmZltpXSA9IHRoaXMuaXRlbXNbaV0ucmVuZGVySHRtbCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktdG9vbGJhciAlJSIgb25zZWxlY3RzdGFydD0icmV0dXJuIGZhbHNlOyIgb25tb3VzZWRvd249InJldHVybiAkJC5fb25Nb3VzZURvd24oZXZlbnQsIHRoaXMpOyI+JyArDQogICAgICAgICAgICAgICAgYnVmZi5qb2luKCcnKSArDQogICAgICAgICAgICAgICAgJzwvZGl2PicNCiAgICAgICAgfSwNCiAgICAgICAgcG9zdFJlbmRlcjogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5nZXREb20oKTsNCiAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5wb3N0UmVuZGVyKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB1aVV0aWxzLm1ha2VVbnNlbGVjdGFibGUoYm94KTsNCiAgICAgICAgfSwNCiAgICAgICAgX29uTW91c2VEb3duOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgdXRpbHMuaW5oZXJpdHMoVG9vbGJhciwgVUlCYXNlKTsNCg0KfSkoKTsNCg0KLy8vaW1wb3J0IGNvcmUNCi8vL2ltcG9ydCB1aWNvcmUNCi8vL2ltcG9ydCB1aVxwb3B1cC5qcw0KLy8vaW1wb3J0IHVpXHN0YXRlZnVsLmpzDQooZnVuY3Rpb24gKCkgew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsDQogICAgICAgIFVJQmFzZSA9IGJhaWR1LmVkaXRvci51aS5VSUJhc2UsDQogICAgICAgIFBvcHVwID0gYmFpZHUuZWRpdG9yLnVpLlBvcHVwLA0KICAgICAgICBTdGF0ZWZ1bCA9IGJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCwNCiAgICAgICAgQ2VsbEFsaWduUGlja2VyID0gYmFpZHUuZWRpdG9yLnVpLkNlbGxBbGlnblBpY2tlciwNCg0KICAgICAgICBNZW51ID0gYmFpZHUuZWRpdG9yLnVpLk1lbnUgPSBmdW5jdGlvbiAob3B0aW9ucykgew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdE1lbnUoKTsNCiAgICAgICAgfTsNCg0KICAgIHZhciBtZW51U2VwYXJhdG9yID0gew0KICAgICAgICByZW5kZXJIdG1sOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iZWR1aS1tZW51aXRlbSBlZHVpLW1lbnVzZXBhcmF0b3IiPjxkaXYgY2xhc3M9ImVkdWktbWVudXNlcGFyYXRvci1pbm5lciI+PC9kaXY+PC9kaXY+JzsNCiAgICAgICAgfSwNCiAgICAgICAgcG9zdFJlbmRlcjpmdW5jdGlvbiAoKSB7DQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5QXV0b0hpZGU6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIE1lbnUucHJvdG90eXBlID0gew0KICAgICAgICBpdGVtczpudWxsLA0KICAgICAgICB1aU5hbWU6J21lbnUnLA0KICAgICAgICBpbml0TWVudTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcyB8fCBbXTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFBvcHVwKCk7DQogICAgICAgICAgICB0aGlzLmluaXRJdGVtcygpOw0KICAgICAgICB9LA0KICAgICAgICBpbml0SXRlbXM6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldOw0KICAgICAgICAgICAgICAgIGlmIChpdGVtID09ICctJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2ldID0gdGhpcy5nZXRTZXBhcmF0b3IoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCEoaXRlbSBpbnN0YW5jZW9mIE1lbnVJdGVtKSkgew0KICAgICAgICAgICAgICAgICAgICBpdGVtLmVkaXRvciA9IHRoaXMuZWRpdG9yOw0KICAgICAgICAgICAgICAgICAgICBpdGVtLnRoZW1lID0gdGhpcy5lZGl0b3Iub3B0aW9ucy50aGVtZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSA9IHRoaXMuY3JlYXRlSXRlbShpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGdldFNlcGFyYXRvcjpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gbWVudVNlcGFyYXRvcjsNCiAgICAgICAgfSwNCiAgICAgICAgY3JlYXRlSXRlbTpmdW5jdGlvbiAoaXRlbSkgew0KICAgICAgICAgICAgLy/mlrDlop7kuIDkuKrlj4LmlbBtZW51LCDor6Xlj4LmlbDlrZjlgqjkuoZtZW51SXRlbeaJgOWvueW6lOeahG1lbnXlvJXnlKgNCiAgICAgICAgICAgIGl0ZW0ubWVudSA9IHRoaXM7DQogICAgICAgICAgICByZXR1cm4gbmV3IE1lbnVJdGVtKGl0ZW0pOw0KICAgICAgICB9LA0KICAgICAgICBfUG9wdXBfZ2V0Q29udGVudEh0bWxUcGw6UG9wdXAucHJvdG90eXBlLmdldENvbnRlbnRIdG1sVHBsLA0KICAgICAgICBnZXRDb250ZW50SHRtbFRwbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9Qb3B1cF9nZXRDb250ZW50SHRtbFRwbCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGJ1ZmYgPSBbXTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTsNCiAgICAgICAgICAgICAgICBidWZmW2ldID0gaXRlbS5yZW5kZXJIdG1sKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gKCc8ZGl2IGNsYXNzPSIlJS1ib2R5Ij4nICsgYnVmZi5qb2luKCcnKSArICc8L2Rpdj4nKTsNCiAgICAgICAgfSwNCiAgICAgICAgX1BvcHVwX3Bvc3RSZW5kZXI6UG9wdXAucHJvdG90eXBlLnBvc3RSZW5kZXIsDQogICAgICAgIHBvc3RSZW5kZXI6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTsNCiAgICAgICAgICAgICAgICBpdGVtLm93bmVyTWVudSA9IHRoaXM7DQogICAgICAgICAgICAgICAgaXRlbS5wb3N0UmVuZGVyKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBkb21VdGlscy5vbih0aGlzLmdldERvbSgpLCAnbW91c2VvdmVyJywgZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgICAgIGV2dCA9IGV2dCB8fCBldmVudDsNCiAgICAgICAgICAgICAgICB2YXIgcmVsID0gZXZ0LnJlbGF0ZWRUYXJnZXQgfHwgZXZ0LmZyb21FbGVtZW50Ow0KICAgICAgICAgICAgICAgIHZhciBlbCA9IG1lLmdldERvbSgpOw0KICAgICAgICAgICAgICAgIGlmICghdWlVdGlscy5jb250YWlucyhlbCwgcmVsKSAmJiBlbCAhPT0gcmVsKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmZpcmVFdmVudCgnb3ZlcicpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5fUG9wdXBfcG9zdFJlbmRlcigpOw0KICAgICAgICB9LA0KICAgICAgICBxdWVyeUF1dG9IaWRlOmZ1bmN0aW9uIChlbCkgew0KICAgICAgICAgICAgaWYgKGVsKSB7DQogICAgICAgICAgICAgICAgaWYgKHVpVXRpbHMuY29udGFpbnModGhpcy5nZXREb20oKSwgZWwpKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucXVlcnlBdXRvSGlkZShlbCkgPT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGNsZWFySXRlbXM6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB0aGlzLml0ZW1zW2ldOw0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpdGVtLl9zaG93aW5nVGltZXIpOw0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpdGVtLl9jbG9zaW5nVGltZXIpOw0KICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1Yk1lbnUpIHsNCiAgICAgICAgICAgICAgICAgICAgaXRlbS5zdWJNZW51LmRlc3Ryb3koKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLml0ZW1zID0gW107DQogICAgICAgIH0sDQogICAgICAgIGRlc3Ryb3k6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RG9tKCkpIHsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUodGhpcy5nZXREb20oKSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmNsZWFySXRlbXMoKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGlzcG9zZTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgdXRpbHMuaW5oZXJpdHMoTWVudSwgUG9wdXApOw0KDQogICAgLyoqDQogICAgICogQHVwZGF0ZSAyMDEzLzA0LzAzIGhhbmNvbmcwMyDmlrDlop7kuIDkuKrlj4LmlbBtZW51LCDor6Xlj4LmlbDlrZjlgqjkuoZtZW51SXRlbeaJgOWvueW6lOeahG1lbnXlvJXnlKgNCiAgICAgKiBAdHlwZSB7RnVuY3Rpb259DQogICAgICovDQogICAgdmFyIE1lbnVJdGVtID0gYmFpZHUuZWRpdG9yLnVpLk1lbnVJdGVtID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCiAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgdGhpcy5pbml0VUlCYXNlKCk7DQogICAgICAgIHRoaXMuU3RhdGVmdWxfaW5pdCgpOw0KICAgICAgICBpZiAodGhpcy5zdWJNZW51ICYmICEodGhpcy5zdWJNZW51IGluc3RhbmNlb2YgTWVudSkpIHsNCiAgICAgICAgICAgIGlmIChvcHRpb25zLmNsYXNzTmFtZSAmJiBvcHRpb25zLmNsYXNzTmFtZS5pbmRleE9mKCJhbGlnbnRkIikgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KDQogICAgICAgICAgICAgICAgLy/ojrflj5bljZXlhYPmoLzlr7npvZDliJ3lp4vnirbmgIENCiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1lbnUuc2VsZWN0ZWQgPSB0aGlzLmVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSggJ2NlbGxhbGlnbm1lbnQnICk7DQoNCiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1lbnUgPSBuZXcgUG9wdXAoew0KICAgICAgICAgICAgICAgICAgICBjb250ZW50Om5ldyBDZWxsQWxpZ25QaWNrZXIodGhpcy5zdWJNZW51KSwNCiAgICAgICAgICAgICAgICAgICAgcGFyZW50TWVudTptZSwNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOm1lLmVkaXRvciwNCiAgICAgICAgICAgICAgICAgICAgZGVzdHJveTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXREb20oKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZSh0aGlzLmdldERvbSgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuc3ViTWVudS5hZGRMaXN0ZW5lcigicG9zdFJlbmRlckFmdGVyIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbih0aGlzLmdldERvbSgpLCAibW91c2VvdmVyIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuYWRkU3RhdGUoJ29wZW5lZCcpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy5zdWJNZW51ID0gbmV3IE1lbnUodGhpcy5zdWJNZW51KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQogICAgTWVudUl0ZW0ucHJvdG90eXBlID0gew0KICAgICAgICBsYWJlbDonJywNCiAgICAgICAgc3ViTWVudTpudWxsLA0KICAgICAgICBvd25lck1lbnU6bnVsbCwNCiAgICAgICAgdWlOYW1lOidtZW51aXRlbScsDQogICAgICAgIGFsd2FseXNIb3ZlcmFibGU6dHJ1ZSwNCiAgICAgICAgZ2V0SHRtbFRwbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICByZXR1cm4gJzxkaXYgaWQ9IiMjIiBjbGFzcz0iJSUiIHN0YXRlZnVsIG9uY2xpY2s9IiQkLl9vbkNsaWNrKGV2ZW50LCB0aGlzKTsiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSIlJS1ib2R5Ij4nICsNCiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckxhYmVsSHRtbCgpICsNCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzwvZGl2Pic7DQogICAgICAgIH0sDQogICAgICAgIHBvc3RSZW5kZXI6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoJ292ZXInLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgbWUub3duZXJNZW51LmZpcmVFdmVudCgnc3VibWVudW92ZXInLCBtZSk7DQogICAgICAgICAgICAgICAgaWYgKG1lLnN1Yk1lbnUpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuZGVsYXlTaG93U3ViTWVudSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYgKHRoaXMuc3ViTWVudSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCkuY2xhc3NOYW1lICs9ICcgZWR1aS1oYXNzdWJtZW51JzsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1lbnUucmVuZGVyKCk7DQogICAgICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcignb3V0JywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBtZS5kZWxheUhpZGVTdWJNZW51KCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5zdWJNZW51LmFkZExpc3RlbmVyKCdvdmVyJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWUuX2Nsb3NpbmdUaW1lcik7DQogICAgICAgICAgICAgICAgICAgIG1lLl9jbG9zaW5nVGltZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICBtZS5hZGRTdGF0ZSgnb3BlbmVkJyk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5vd25lck1lbnUuYWRkTGlzdGVuZXIoJ2hpZGUnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmhpZGVTdWJNZW51KCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgdGhpcy5vd25lck1lbnUuYWRkTGlzdGVuZXIoJ3N1Ym1lbnVvdmVyJywgZnVuY3Rpb24gKHQsIHN1Yk1lbnUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Yk1lbnUgIT09IG1lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5kZWxheUhpZGVTdWJNZW51KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1lbnUuX2Jha1F1ZXJ5QXV0b0hpZGUgPSB0aGlzLnN1Yk1lbnUucXVlcnlBdXRvSGlkZTsNCiAgICAgICAgICAgICAgICB0aGlzLnN1Yk1lbnUucXVlcnlBdXRvSGlkZSA9IGZ1bmN0aW9uIChlbCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoZWwgJiYgdWlVdGlscy5jb250YWlucyhtZS5nZXREb20oKSwgZWwpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Jha1F1ZXJ5QXV0b0hpZGUoZWwpOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLnRhYkluZGV4ID0gJy0xJzsNCiAgICAgICAgICAgIHVpVXRpbHMubWFrZVVuc2VsZWN0YWJsZSh0aGlzLmdldERvbSgpKTsNCiAgICAgICAgICAgIHRoaXMuU3RhdGVmdWxfcG9zdFJlbmRlcigpOw0KICAgICAgICB9LA0KICAgICAgICBkZWxheVNob3dTdWJNZW51OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBpZiAoIW1lLmlzRGlzYWJsZWQoKSkgew0KICAgICAgICAgICAgICAgIG1lLmFkZFN0YXRlKCdvcGVuZWQnKTsNCiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWUuX3Nob3dpbmdUaW1lcik7DQogICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KG1lLl9jbG9zaW5nVGltZXIpOw0KICAgICAgICAgICAgICAgIG1lLl9jbG9zaW5nVGltZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgIG1lLl9zaG93aW5nVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuc2hvd1N1Yk1lbnUoKTsNCiAgICAgICAgICAgICAgICB9LCAyNTApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBkZWxheUhpZGVTdWJNZW51OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBpZiAoIW1lLmlzRGlzYWJsZWQoKSkgew0KICAgICAgICAgICAgICAgIG1lLnJlbW92ZVN0YXRlKCdvcGVuZWQnKTsNCiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQobWUuX3Nob3dpbmdUaW1lcik7DQogICAgICAgICAgICAgICAgaWYgKCFtZS5fY2xvc2luZ1RpbWVyKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLl9jbG9zaW5nVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWUuaGFzU3RhdGUoJ29wZW5lZCcpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuaGlkZVN1Yk1lbnUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLl9jbG9zaW5nVGltZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICB9LCA0MDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgcmVuZGVyTGFiZWxIdG1sOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iZWR1aS1hcnJvdyI+PC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktaWNvbiI+PC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktbGFiZWwgJSUtbGFiZWwiPicgKyAodGhpcy5sYWJlbCB8fCAnJykgKyAnPC9kaXY+JzsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0U3RhdGVEb206ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9tKCk7DQogICAgICAgIH0sDQogICAgICAgIHF1ZXJ5QXV0b0hpZGU6ZnVuY3Rpb24gKGVsKSB7DQogICAgICAgICAgICBpZiAodGhpcy5zdWJNZW51ICYmIHRoaXMuaGFzU3RhdGUoJ29wZW5lZCcpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3ViTWVudS5xdWVyeUF1dG9IaWRlKGVsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX29uQ2xpY2s6ZnVuY3Rpb24gKGV2ZW50LCB0aGlzXykgew0KICAgICAgICAgICAgaWYgKHRoaXMuaGFzU3RhdGUoJ2Rpc2FibGVkJykpIHJldHVybjsNCiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVFdmVudCgnY2xpY2snLCBldmVudCwgdGhpc18pICE9PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1Yk1lbnUpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93U3ViTWVudSgpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIFBvcHVwLnBvc3RIaWRlKGV2ZW50KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHNob3dTdWJNZW51OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciByZWN0ID0gdWlVdGlscy5nZXRDbGllbnRSZWN0KHRoaXMuZ2V0RG9tKCkpOw0KICAgICAgICAgICAgcmVjdC5yaWdodCAtPSA1Ow0KICAgICAgICAgICAgcmVjdC5sZWZ0ICs9IDI7DQogICAgICAgICAgICByZWN0LndpZHRoIC09IDc7DQogICAgICAgICAgICByZWN0LnRvcCAtPSA0Ow0KICAgICAgICAgICAgcmVjdC5ib3R0b20gKz0gNDsNCiAgICAgICAgICAgIHJlY3QuaGVpZ2h0ICs9IDg7DQogICAgICAgICAgICB0aGlzLnN1Yk1lbnUuc2hvd0FuY2hvclJlY3QocmVjdCwgdHJ1ZSwgdHJ1ZSk7DQogICAgICAgIH0sDQogICAgICAgIGhpZGVTdWJNZW51OmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMuc3ViTWVudS5oaWRlKCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHV0aWxzLmluaGVyaXRzKE1lbnVJdGVtLCBVSUJhc2UpOw0KICAgIHV0aWxzLmV4dGVuZChNZW51SXRlbS5wcm90b3R5cGUsIFN0YXRlZnVsLCB0cnVlKTsNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQovLy9pbXBvcnQgdWkvbWVudS5qcw0KLy8vaW1wb3J0IHVpL3NwbGl0YnV0dG9uLmpzDQooZnVuY3Rpb24gKCl7DQogICAgLy8gdG9kbzogbWVudeWSjGl0ZW3mj5DmiJDpgJrnlKhsaXN0DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsDQogICAgICAgIE1lbnUgPSBiYWlkdS5lZGl0b3IudWkuTWVudSwNCiAgICAgICAgU3BsaXRCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24sDQogICAgICAgIENvbWJveCA9IGJhaWR1LmVkaXRvci51aS5Db21ib3ggPSBmdW5jdGlvbiAob3B0aW9ucyl7DQogICAgICAgICAgICB0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpOw0KICAgICAgICAgICAgdGhpcy5pbml0Q29tYm94KCk7DQogICAgICAgIH07DQogICAgQ29tYm94LnByb3RvdHlwZSA9IHsNCiAgICAgICAgdWlOYW1lOiAnY29tYm94JywNCiAgICAgICAgaW5pdENvbWJveDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdGhpcy5pdGVtcyA9IHRoaXMuaXRlbXMgfHwgW107DQogICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXTsNCiAgICAgICAgICAgICAgICBpdGVtLnVpTmFtZSA9ICdsaXN0aXRlbSc7DQogICAgICAgICAgICAgICAgaXRlbS5pbmRleCA9IGk7DQogICAgICAgICAgICAgICAgaXRlbS5vbmNsaWNrID0gZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIG1lLnNlbGVjdEJ5SW5kZXgodGhpcy5pbmRleCk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBuZXcgTWVudSh7DQogICAgICAgICAgICAgICAgaXRlbXM6IHRoaXMuaXRlbXMsDQogICAgICAgICAgICAgICAgdWlOYW1lOiAnbGlzdCcsDQogICAgICAgICAgICAgICAgZWRpdG9yOnRoaXMuZWRpdG9yLA0KICAgICAgICAgICAgICAgIGNhcHR1cmVXaGVlbDogdHJ1ZSwNCiAgICAgICAgICAgICAgICBjb21ib3g6IHRoaXMNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB0aGlzLmluaXRTcGxpdEJ1dHRvbigpOw0KICAgICAgICB9LA0KICAgICAgICBfU3BsaXRCdXR0b25fcG9zdFJlbmRlcjogU3BsaXRCdXR0b24ucHJvdG90eXBlLnBvc3RSZW5kZXIsDQogICAgICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdGhpcy5fU3BsaXRCdXR0b25fcG9zdFJlbmRlcigpOw0KICAgICAgICAgICAgdGhpcy5zZXRMYWJlbCh0aGlzLmxhYmVsIHx8ICcnKTsNCiAgICAgICAgICAgIHRoaXMuc2V0VmFsdWUodGhpcy5pbml0VmFsdWUgfHwgJycpOw0KICAgICAgICB9LA0KICAgICAgICBzaG93UG9wdXA6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIHJlY3QgPSB1aVV0aWxzLmdldENsaWVudFJlY3QodGhpcy5nZXREb20oKSk7DQogICAgICAgICAgICByZWN0LnRvcCArPSAxOw0KICAgICAgICAgICAgcmVjdC5ib3R0b20gLT0gMTsNCiAgICAgICAgICAgIHJlY3QuaGVpZ2h0IC09IDI7DQogICAgICAgICAgICB0aGlzLnBvcHVwLnNob3dBbmNob3JSZWN0KHJlY3QpOw0KICAgICAgICB9LA0KICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgc2V0VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSl7DQogICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4QnlWYWx1ZSh2YWx1ZSk7DQogICAgICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW5kZXggPSBpbmRleDsNCiAgICAgICAgICAgICAgICB0aGlzLnNldExhYmVsKHRoaXMuaXRlbXNbaW5kZXhdLmxhYmVsKTsNCiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5pdGVtc1tpbmRleF0udmFsdWU7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbmRleCA9IC0xOw0KICAgICAgICAgICAgICAgIHRoaXMuc2V0TGFiZWwodGhpcy5nZXRMYWJlbEZvclVua25vd1ZhbHVlKHZhbHVlKSk7DQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzZXRMYWJlbDogZnVuY3Rpb24gKGxhYmVsKXsNCiAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCdidXR0b25fYm9keScpLmlubmVySFRNTCA9IGxhYmVsOw0KICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsOw0KICAgICAgICB9LA0KICAgICAgICBnZXRMYWJlbEZvclVua25vd1ZhbHVlOiBmdW5jdGlvbiAodmFsdWUpew0KICAgICAgICAgICAgcmV0dXJuIHZhbHVlOw0KICAgICAgICB9LA0KICAgICAgICBpbmRleEJ5VmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSl7DQogICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy5pdGVtcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLml0ZW1zW2ldLnZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SXRlbTogZnVuY3Rpb24gKGluZGV4KXsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLml0ZW1zW2luZGV4XTsNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0QnlJbmRleDogZnVuY3Rpb24gKGluZGV4KXsNCiAgICAgICAgICAgIGlmIChpbmRleCA8IHRoaXMuaXRlbXMubGVuZ3RoICYmIHRoaXMuZmlyZUV2ZW50KCdzZWxlY3QnLCBpbmRleCkgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEluZGV4ID0gaW5kZXg7DQogICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuaXRlbXNbaW5kZXhdLnZhbHVlOw0KICAgICAgICAgICAgICAgIHRoaXMuc2V0TGFiZWwodGhpcy5pdGVtc1tpbmRleF0ubGFiZWwpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhDb21ib3gsIFNwbGl0QnV0dG9uKTsNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9pbXBvcnQgdWljb3JlDQovLy9pbXBvcnQgdWkvbWFzay5qcw0KLy8vaW1wb3J0IHVpL2J1dHRvbi5qcw0KKGZ1bmN0aW9uICgpew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsDQogICAgICAgIE1hc2sgPSBiYWlkdS5lZGl0b3IudWkuTWFzaywNCiAgICAgICAgVUlCYXNlID0gYmFpZHUuZWRpdG9yLnVpLlVJQmFzZSwNCiAgICAgICAgQnV0dG9uID0gYmFpZHUuZWRpdG9yLnVpLkJ1dHRvbiwNCiAgICAgICAgRGlhbG9nID0gYmFpZHUuZWRpdG9yLnVpLkRpYWxvZyA9IGZ1bmN0aW9uIChvcHRpb25zKXsNCiAgICAgICAgICAgIHRoaXMuaW5pdE9wdGlvbnModXRpbHMuZXh0ZW5kKHsNCiAgICAgICAgICAgICAgICBhdXRvUmVzZXQ6IHRydWUsDQogICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLA0KICAgICAgICAgICAgICAgIG9ub2s6IGZ1bmN0aW9uICgpe30sDQogICAgICAgICAgICAgICAgb25jYW5jZWw6IGZ1bmN0aW9uICgpe30sDQogICAgICAgICAgICAgICAgb25jbG9zZTogZnVuY3Rpb24gKHQsIG9rKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9rID8gdGhpcy5vbm9rKCkgOiB0aGlzLm9uY2FuY2VsKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAvL+aYr+WQpuaOp+WItmRpYWxvZ+S4reeahHNjcm9sbOS6i+S7tu+8jCDpu5jorqTkuLrkuI3pmLvmraINCiAgICAgICAgICAgICAgICBob2xkU2Nyb2xsOiBmYWxzZQ0KICAgICAgICAgICAgfSxvcHRpb25zKSk7DQogICAgICAgICAgICB0aGlzLmluaXREaWFsb2coKTsNCiAgICAgICAgfTsNCiAgICB2YXIgbW9kYWxNYXNrOw0KICAgIHZhciBkcmFnTWFzazsNCiAgICBEaWFsb2cucHJvdG90eXBlID0gew0KICAgICAgICBkcmFnZ2FibGU6IGZhbHNlLA0KICAgICAgICB1aU5hbWU6ICdkaWFsb2cnLA0KICAgICAgICBpbml0RGlhbG9nOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICAgICAgdGhlbWU9dGhpcy5lZGl0b3Iub3B0aW9ucy50aGVtZTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFVJQmFzZSgpOw0KICAgICAgICAgICAgdGhpcy5tb2RhbE1hc2sgPSAobW9kYWxNYXNrIHx8IChtb2RhbE1hc2sgPSBuZXcgTWFzayh7DQogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZWR1aS1kaWFsb2ctbW9kYWxtYXNrJywNCiAgICAgICAgICAgICAgICB0aGVtZTp0aGVtZQ0KICAgICAgICAgICAgfSkpKTsNCiAgICAgICAgICAgIHRoaXMuZHJhZ01hc2sgPSAoZHJhZ01hc2sgfHwgKGRyYWdNYXNrID0gbmV3IE1hc2soew0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2VkdWktZGlhbG9nLWRyYWdtYXNrJywNCiAgICAgICAgICAgICAgICB0aGVtZTp0aGVtZQ0KICAgICAgICAgICAgfSkpKTsNCiAgICAgICAgICAgIHRoaXMuY2xvc2VCdXR0b24gPSBuZXcgQnV0dG9uKHsNCiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdlZHVpLWRpYWxvZy1jbG9zZWJ1dHRvbicsDQogICAgICAgICAgICAgICAgdGl0bGU6IG1lLmNsb3NlRGlhbG9nLA0KICAgICAgICAgICAgICAgIHRoZW1lOnRoZW1lLA0KICAgICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgICAgICBtZS5jbG9zZShmYWxzZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHRoaXMuZnVsbHNjcmVlbiAmJiB0aGlzLmluaXRSZXNpemVFdmVudCgpOw0KDQogICAgICAgICAgICBpZiAodGhpcy5idXR0b25zKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYnV0dG9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLmJ1dHRvbnNbaV0gaW5zdGFuY2VvZiBCdXR0b24pKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnNbaV0gPSBuZXcgQnV0dG9uKHRoaXMuYnV0dG9uc1tpXSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGluaXRSZXNpemVFdmVudDogZnVuY3Rpb24gKCkgew0KDQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KDQogICAgICAgICAgICBkb21VdGlscy5vbiggd2luZG93LCAicmVzaXplIiwgZnVuY3Rpb24gKCkgew0KDQogICAgICAgICAgICAgICAgaWYgKCBtZS5faGlkZGVuIHx8IG1lLl9oaWRkZW4gPT09IHVuZGVmaW5lZCApIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICggbWUuX19yZXNpemVUaW1lciApIHsNCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCggbWUuX19yZXNpemVUaW1lciApOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIG1lLl9fcmVzaXplVGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24gKCkgew0KDQogICAgICAgICAgICAgICAgICAgIG1lLl9fcmVzaXplVGltZXIgPSBudWxsOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2dXcmFwTm9kZSA9IG1lLmdldERvbSgpLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudE5vZGUgPSBtZS5nZXREb20oJ2NvbnRlbnQnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBSZWN0ID0gVUUudWkudWlVdGlscy5nZXRDbGllbnRSZWN0KCBkaWFsb2dXcmFwTm9kZSApLA0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFJlY3QgPSBVRS51aS51aVV0aWxzLmdldENsaWVudFJlY3QoIGNvbnRlbnROb2RlICksDQogICAgICAgICAgICAgICAgICAgICAgICB2cFJlY3QgPSB1aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpOw0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnROb2RlLnN0eWxlLndpZHRoID0gKCB2cFJlY3Qud2lkdGggLSB3cmFwUmVjdC53aWR0aCArIGNvbnRlbnRSZWN0LndpZHRoICkgKyAicHgiOw0KICAgICAgICAgICAgICAgICAgICBjb250ZW50Tm9kZS5zdHlsZS5oZWlnaHQgPSAoIHZwUmVjdC5oZWlnaHQgLSB3cmFwUmVjdC5oZWlnaHQgKyBjb250ZW50UmVjdC5oZWlnaHQgKSArICJweCI7DQoNCiAgICAgICAgICAgICAgICAgICAgZGlhbG9nV3JhcE5vZGUuc3R5bGUud2lkdGggPSB2cFJlY3Qud2lkdGggKyAicHgiOw0KICAgICAgICAgICAgICAgICAgICBkaWFsb2dXcmFwTm9kZS5zdHlsZS5oZWlnaHQgPSB2cFJlY3QuaGVpZ2h0ICsgInB4IjsNCg0KICAgICAgICAgICAgICAgICAgICBtZS5maXJlRXZlbnQoICJyZXNpemUiICk7DQoNCiAgICAgICAgICAgICAgICB9LCAxMDAgKTsNCg0KICAgICAgICAgICAgfSApOw0KDQogICAgICAgIH0sDQogICAgICAgIGZpdFNpemU6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIHBvcEJvZHlFbCA9IHRoaXMuZ2V0RG9tKCdib2R5Jyk7DQovLyAgICAgICAgICAgIGlmICghKGJhaWR1LmVkaXRvci5icm93c2VyLmllICYmIGJhaWR1LmVkaXRvci5icm93c2VyLnZlcnNpb24gPT0gNykpIHsNCi8vICAgICAgICAgICAgICAgIHVpVXRpbHMucmVtb3ZlU3R5bGUocG9wQm9keUVsLCAnd2lkdGgnKTsNCi8vICAgICAgICAgICAgICAgIHVpVXRpbHMucmVtb3ZlU3R5bGUocG9wQm9keUVsLCAnaGVpZ2h0Jyk7DQovLyAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciBzaXplID0gdGhpcy5tZXN1cmVTaXplKCk7DQogICAgICAgICAgICBwb3BCb2R5RWwuc3R5bGUud2lkdGggPSBzaXplLndpZHRoICsgJ3B4JzsNCiAgICAgICAgICAgIHBvcEJvZHlFbC5zdHlsZS5oZWlnaHQgPSBzaXplLmhlaWdodCArICdweCc7DQogICAgICAgICAgICByZXR1cm4gc2l6ZTsNCiAgICAgICAgfSwNCiAgICAgICAgc2FmZVNldE9mZnNldDogZnVuY3Rpb24gKG9mZnNldCl7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdmFyIGVsID0gbWUuZ2V0RG9tKCk7DQogICAgICAgICAgICB2YXIgdnBSZWN0ID0gdWlVdGlscy5nZXRWaWV3cG9ydFJlY3QoKTsNCiAgICAgICAgICAgIHZhciByZWN0ID0gdWlVdGlscy5nZXRDbGllbnRSZWN0KGVsKTsNCiAgICAgICAgICAgIHZhciBsZWZ0ID0gb2Zmc2V0LmxlZnQ7DQogICAgICAgICAgICBpZiAobGVmdCArIHJlY3Qud2lkdGggPiB2cFJlY3QucmlnaHQpIHsNCiAgICAgICAgICAgICAgICBsZWZ0ID0gdnBSZWN0LnJpZ2h0IC0gcmVjdC53aWR0aDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciB0b3AgPSBvZmZzZXQudG9wOw0KICAgICAgICAgICAgaWYgKHRvcCArIHJlY3QuaGVpZ2h0ID4gdnBSZWN0LmJvdHRvbSkgew0KICAgICAgICAgICAgICAgIHRvcCA9IHZwUmVjdC5ib3R0b20gLSByZWN0LmhlaWdodDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsLnN0eWxlLmxlZnQgPSBNYXRoLm1heChsZWZ0LCAwKSArICdweCc7DQogICAgICAgICAgICBlbC5zdHlsZS50b3AgPSBNYXRoLm1heCh0b3AsIDApICsgJ3B4JzsNCiAgICAgICAgfSwNCiAgICAgICAgc2hvd0F0Q2VudGVyOiBmdW5jdGlvbiAoKXsNCg0KICAgICAgICAgICAgdmFyIHZwUmVjdCA9IHVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCk7DQoNCiAgICAgICAgICAgIGlmICggIXRoaXMuZnVsbHNjcmVlbiApIHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmRpc3BsYXkgPSAnJzsNCiAgICAgICAgICAgICAgICB2YXIgcG9wU2l6ZSA9IHRoaXMuZml0U2l6ZSgpOw0KICAgICAgICAgICAgICAgIHZhciB0aXRsZUhlaWdodCA9IHRoaXMuZ2V0RG9tKCd0aXRsZWJhcicpLm9mZnNldEhlaWdodCB8IDA7DQogICAgICAgICAgICAgICAgdmFyIGxlZnQgPSB2cFJlY3Qud2lkdGggLyAyIC0gcG9wU2l6ZS53aWR0aCAvIDI7DQogICAgICAgICAgICAgICAgdmFyIHRvcCA9IHZwUmVjdC5oZWlnaHQgLyAyIC0gKHBvcFNpemUuaGVpZ2h0IC0gdGl0bGVIZWlnaHQpIC8gMiAtIHRpdGxlSGVpZ2h0Ow0KICAgICAgICAgICAgICAgIHZhciBwb3BFbCA9IHRoaXMuZ2V0RG9tKCk7DQogICAgICAgICAgICAgICAgdGhpcy5zYWZlU2V0T2Zmc2V0KHsNCiAgICAgICAgICAgICAgICAgICAgbGVmdDogTWF0aC5tYXgobGVmdCB8IDAsIDApLA0KICAgICAgICAgICAgICAgICAgICB0b3A6IE1hdGgubWF4KHRvcCB8IDAsIDApDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgaWYgKCFkb21VdGlscy5oYXNDbGFzcyhwb3BFbCwgJ2VkdWktc3RhdGUtY2VudGVyZWQnKSkgew0KICAgICAgICAgICAgICAgICAgICBwb3BFbC5jbGFzc05hbWUgKz0gJyBlZHVpLXN0YXRlLWNlbnRlcmVkJzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHZhciBkaWFsb2dXcmFwTm9kZSA9IHRoaXMuZ2V0RG9tKCksDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnROb2RlID0gdGhpcy5nZXREb20oJ2NvbnRlbnQnKTsNCg0KICAgICAgICAgICAgICAgIGRpYWxvZ1dyYXBOb2RlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KDQogICAgICAgICAgICAgICAgdmFyIHdyYXBSZWN0ID0gVUUudWkudWlVdGlscy5nZXRDbGllbnRSZWN0KCBkaWFsb2dXcmFwTm9kZSApLA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50UmVjdCA9IFVFLnVpLnVpVXRpbHMuZ2V0Q2xpZW50UmVjdCggY29udGVudE5vZGUgKTsNCiAgICAgICAgICAgICAgICBkaWFsb2dXcmFwTm9kZS5zdHlsZS5sZWZ0ID0gIi0xMDAwMDBweCI7DQoNCiAgICAgICAgICAgICAgICBjb250ZW50Tm9kZS5zdHlsZS53aWR0aCA9ICggdnBSZWN0LndpZHRoIC0gd3JhcFJlY3Qud2lkdGggKyBjb250ZW50UmVjdC53aWR0aCApICsgInB4IjsNCiAgICAgICAgICAgICAgICBjb250ZW50Tm9kZS5zdHlsZS5oZWlnaHQgPSAoIHZwUmVjdC5oZWlnaHQgLSB3cmFwUmVjdC5oZWlnaHQgKyBjb250ZW50UmVjdC5oZWlnaHQgKSArICJweCI7DQoNCiAgICAgICAgICAgICAgICBkaWFsb2dXcmFwTm9kZS5zdHlsZS53aWR0aCA9IHZwUmVjdC53aWR0aCArICJweCI7DQogICAgICAgICAgICAgICAgZGlhbG9nV3JhcE5vZGUuc3R5bGUuaGVpZ2h0ID0gdnBSZWN0LmhlaWdodCArICJweCI7DQogICAgICAgICAgICAgICAgZGlhbG9nV3JhcE5vZGUuc3R5bGUubGVmdCA9IDA7DQoNCiAgICAgICAgICAgICAgICAvL+S/neWtmOeOr+Wig+eahG92ZXJmbG935YC8DQogICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxDb250ZXh0ID0gew0KICAgICAgICAgICAgICAgICAgICBodG1sOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1g6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1gsDQogICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1kNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgYm9keTogew0KICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOw0KICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJzsNCg0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB0aGlzLl9zaG93KCk7DQogICAgICAgIH0sDQogICAgICAgIGdldENvbnRlbnRIdG1sOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHZhciBjb250ZW50SHRtbCA9ICcnOw0KICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNvbnRlbnQgPT0gJ3N0cmluZycpIHsNCiAgICAgICAgICAgICAgICBjb250ZW50SHRtbCA9IHRoaXMuY29udGVudDsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pZnJhbWVVcmwpIHsNCiAgICAgICAgICAgICAgICBjb250ZW50SHRtbCA9ICc8c3BhbiBpZD0iJysgdGhpcy5pZCArJ19jb250bWFzayIgY2xhc3M9ImRpYWxvZ2NvbnRtYXNrIj48L3NwYW4+PGlmcmFtZSBpZD0iJysgdGhpcy5pZCArDQogICAgICAgICAgICAgICAgICAgICdfaWZyYW1lIiBjbGFzcz0iJSUtaWZyYW1lIiBoZWlnaHQ9IjEwMCUiIHdpZHRoPSIxMDAlIiBmcmFtZWJvcmRlcj0iMCIgc3JjPSInKyB0aGlzLmlmcmFtZVVybCArJyI+PC9pZnJhbWU+JzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBjb250ZW50SHRtbDsNCiAgICAgICAgfSwNCiAgICAgICAgZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgZm9vdEh0bWwgPSAnJzsNCg0KICAgICAgICAgICAgaWYgKHRoaXMuYnV0dG9ucykgew0KICAgICAgICAgICAgICAgIHZhciBidWZmID0gW107DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYnV0dG9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBidWZmW2ldID0gdGhpcy5idXR0b25zW2ldLnJlbmRlckh0bWwoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZm9vdEh0bWwgPSAnPGRpdiBjbGFzcz0iJSUtZm9vdCI+JyArDQogICAgICAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfYnV0dG9ucyIgY2xhc3M9IiUlLWJ1dHRvbnMiPicgKyBidWZmLmpvaW4oJycpICsgJzwvZGl2PicgKw0KICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JzsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIj48ZGl2ICcrICggIXRoaXMuZnVsbHNjcmVlbiA/ICdjbGFzcz0iJSUiJyA6ICdjbGFzcz0iJSUtd3JhcCBlZHVpLWRpYWxvZy1mdWxsc2NyZWVuLWZsYWciJyApICsnPjxkaXYgaWQ9IiMjX2JvZHkiIGNsYXNzPSIlJS1ib2R5Ij4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iJSUtc2hhZG93Ij48L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfdGl0bGViYXIiIGNsYXNzPSIlJS10aXRsZWJhciI+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9IiUlLWRyYWdoYW5kbGUiIG9ubW91c2Vkb3duPSIkJC5fb25UaXRsZWJhck1vdXNlRG93bihldmVudCwgdGhpcyk7Ij4nICsNCiAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPSIlJS1jYXB0aW9uIj4nICsgKHRoaXMudGl0bGUgfHwgJycpICsgJzwvc3Bhbj4nICsNCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArDQogICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ1dHRvbi5yZW5kZXJIdG1sKCkgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfY29udGVudCIgY2xhc3M9IiUlLWNvbnRlbnQiPicrICggdGhpcy5hdXRvUmVzZXQgPyAnJyA6IHRoaXMuZ2V0Q29udGVudEh0bWwoKSkgKyc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICBmb290SHRtbCArDQogICAgICAgICAgICAgICAgJzwvZGl2PjwvZGl2PjwvZGl2Pic7DQogICAgICAgIH0sDQogICAgICAgIHBvc3RSZW5kZXI6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgLy8gdG9kbzog5L+d5oyB5bGF5LitL+iusOS9j+S4iuasoeWFs+mXreS9jee9rumAiemhuQ0KICAgICAgICAgICAgaWYgKCF0aGlzLm1vZGFsTWFzay5nZXREb20oKSkgew0KICAgICAgICAgICAgICAgIHRoaXMubW9kYWxNYXNrLnJlbmRlcigpOw0KICAgICAgICAgICAgICAgIHRoaXMubW9kYWxNYXNrLmhpZGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICghdGhpcy5kcmFnTWFzay5nZXREb20oKSkgew0KICAgICAgICAgICAgICAgIHRoaXMuZHJhZ01hc2sucmVuZGVyKCk7DQogICAgICAgICAgICAgICAgdGhpcy5kcmFnTWFzay5oaWRlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcignc2hvdycsIGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgIG1lLm1vZGFsTWFzay5zaG93KHRoaXMuZ2V0RG9tKCkuc3R5bGUuekluZGV4IC0gMik7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuYWRkTGlzdGVuZXIoJ2hpZGUnLCBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgICAgICBtZS5tb2RhbE1hc2suaGlkZSgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAodGhpcy5idXR0b25zKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYnV0dG9ucy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbnNbaV0ucG9zdFJlbmRlcigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIGlmICghbWUuaXNIaWRkZW4oKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2FmZVNldE9mZnNldCh1aVV0aWxzLmdldENsaWVudFJlY3QobWUuZ2V0RG9tKCkpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vaG9sZOS9j3Njcm9sbOS6i+S7tu+8jOmYsuatomRpYWxvZ+eahOa7muWKqOW9seWTjemhtemdog0KICAgICAgICAgICAgaWYoIHRoaXMuaG9sZFNjcm9sbCApIHsNCg0KICAgICAgICAgICAgICAgIGlmKCAhbWUuaWZyYW1lVXJsICkgew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbiggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1lLmlkICsgIl9pZnJhbWUiKSwgIWJyb3dzZXIuZ2Vja28gPyAibW91c2V3aGVlbCIgOiAiRE9NTW91c2VTY3JvbGwiLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGUpOw0KICAgICAgICAgICAgICAgICAgICB9ICk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgbWUuYWRkTGlzdGVuZXIoJ2RpYWxvZ2FmdGVycmVzZXQnLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWZyYW1lV2luZG93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIG1lLmlkICsgIl9pZnJhbWUiKS5jb250ZW50V2luZG93Ow0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGJyb3dzZXIuaWUgKSB7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVyID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uKCl7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBpZnJhbWVXaW5kb3cuZG9jdW1lbnQgJiYgaWZyYW1lV2luZG93LmRvY3VtZW50LmJvZHkgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwoIHRpbWVyICk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKCBpZnJhbWVXaW5kb3cuZG9jdW1lbnQuYm9keSwgIWJyb3dzZXIuZ2Vja28gPyAibW91c2V3aGVlbCIgOiAiRE9NTW91c2VTY3JvbGwiLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucHJldmVudERlZmF1bHQoZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbiggaWZyYW1lV2luZG93LCAhYnJvd3Nlci5nZWNrbyA/ICJtb3VzZXdoZWVsIiA6ICJET01Nb3VzZVNjcm9sbCIsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucHJldmVudERlZmF1bHQoZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuX2hpZGUoKTsNCiAgICAgICAgfSwNCiAgICAgICAgbWVzdXJlU2l6ZTogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMuZ2V0RG9tKCdib2R5Jyk7DQogICAgICAgICAgICB2YXIgd2lkdGggPSB1aVV0aWxzLmdldENsaWVudFJlY3QodGhpcy5nZXREb20oJ2NvbnRlbnQnKSkud2lkdGg7DQogICAgICAgICAgICB2YXIgZGlhbG9nQm9keVN0eWxlID0gYm9keS5zdHlsZTsNCiAgICAgICAgICAgIGRpYWxvZ0JvZHlTdHlsZS53aWR0aCA9IHdpZHRoOw0KICAgICAgICAgICAgcmV0dXJuIHVpVXRpbHMuZ2V0Q2xpZW50UmVjdChib2R5KTsNCiAgICAgICAgfSwNCiAgICAgICAgX29uVGl0bGViYXJNb3VzZURvd246IGZ1bmN0aW9uIChldnQsIGVsKXsNCiAgICAgICAgICAgIGlmICh0aGlzLmRyYWdnYWJsZSkgew0KICAgICAgICAgICAgICAgIHZhciByZWN0Ow0KICAgICAgICAgICAgICAgIHZhciB2cFJlY3QgPSB1aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpOw0KICAgICAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICAgICAgdWlVdGlscy5zdGFydERyYWcoZXZ0LCB7DQogICAgICAgICAgICAgICAgICAgIG9uZHJhZ3N0YXJ0OiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlY3QgPSB1aVV0aWxzLmdldENsaWVudFJlY3QobWUuZ2V0RG9tKCkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZ2V0RG9tKCdjb250bWFzaycpLnN0eWxlLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7DQogICAgICAgICAgICAgICAgICAgICAgICBtZS5kcmFnTWFzay5zaG93KG1lLmdldERvbSgpLnN0eWxlLnpJbmRleCAtIDEpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBvbmRyYWdtb3ZlOiBmdW5jdGlvbiAoeCwgeSl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVmdCA9IHJlY3QubGVmdCArIHg7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gcmVjdC50b3AgKyB5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2FmZVNldE9mZnNldCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcA0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9uZHJhZ3N0b3A6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZ2V0RG9tKCdjb250bWFzaycpLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZUNsYXNzZXMobWUuZ2V0RG9tKCksIFsnZWR1aS1zdGF0ZS1jZW50ZXJlZCddKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmRyYWdNYXNrLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICByZXNldDogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICB0aGlzLmdldERvbSgnY29udGVudCcpLmlubmVySFRNTCA9IHRoaXMuZ2V0Q29udGVudEh0bWwoKTsNCiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KCdkaWFsb2dhZnRlcnJlc2V0Jyk7DQogICAgICAgIH0sDQogICAgICAgIF9zaG93OiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIGlmICh0aGlzLl9oaWRkZW4pIHsNCiAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmRpc3BsYXkgPSAnJzsNCg0KICAgICAgICAgICAgICAgIC8v6KaB6auY6L+H57yW6L6R5Zmo55qEemluZHhlDQogICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuY29udGFpbmVyLnN0eWxlLnpJbmRleCAmJiAodGhpcy5nZXREb20oKS5zdHlsZS56SW5kZXggPSB0aGlzLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4ICogMSArIDEwKTsNCiAgICAgICAgICAgICAgICB0aGlzLl9oaWRkZW4gPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgnc2hvdycpOw0KICAgICAgICAgICAgICAgIGJhaWR1LmVkaXRvci51aS51aVV0aWxzLmdldEZpeGVkTGF5ZXIoKS5zdHlsZS56SW5kZXggPSB0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCAtIDQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlzSGlkZGVuOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oaWRkZW47DQogICAgICAgIH0sDQogICAgICAgIF9oaWRlOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIGlmICghdGhpcy5faGlkZGVuKSB7DQogICAgICAgICAgICAgICAgdmFyIHdyYXBOb2RlID0gdGhpcy5nZXREb20oKTsNCiAgICAgICAgICAgICAgICB3cmFwTm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgICAgIHdyYXBOb2RlLnN0eWxlLnpJbmRleCA9ICcnOw0KICAgICAgICAgICAgICAgIHdyYXBOb2RlLnN0eWxlLndpZHRoID0gJyc7DQogICAgICAgICAgICAgICAgd3JhcE5vZGUuc3R5bGUuaGVpZ2h0ID0gJyc7DQogICAgICAgICAgICAgICAgdGhpcy5faGlkZGVuID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCgnaGlkZScpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvcGVuOiBmdW5jdGlvbiAoKXsNCiAgICAgICAgICAgIGlmICh0aGlzLmF1dG9SZXNldCkgew0KICAgICAgICAgICAgICAgIC8v5pyJ5Y+v6IO96L+Y5rKh5pyJ5riy5p+TDQogICAgICAgICAgICAgICAgdHJ5ew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0KCk7DQogICAgICAgICAgICAgICAgfWNhdGNoKGUpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4oKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuc2hvd0F0Q2VudGVyKCk7DQogICAgICAgICAgICBpZiAodGhpcy5pZnJhbWVVcmwpIHsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgnaWZyYW1lJykuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICB9IGNhdGNoKGV4KXt9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIF9vbkNsb3NlQnV0dG9uQ2xpY2s6IGZ1bmN0aW9uIChldnQsIGVsKXsNCiAgICAgICAgICAgIHRoaXMuY2xvc2UoZmFsc2UpOw0KICAgICAgICB9LA0KICAgICAgICBjbG9zZTogZnVuY3Rpb24gKG9rKXsNCiAgICAgICAgICAgIGlmICh0aGlzLmZpcmVFdmVudCgnY2xvc2UnLCBvaykgIT09IGZhbHNlKSB7DQogICAgICAgICAgICAgICAgLy/ov5jljp/njq/looMNCiAgICAgICAgICAgICAgICBpZiAoIHRoaXMuZnVsbHNjcmVlbiApIHsNCg0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dYID0gdGhpcy5fb3JpZ2luYWxDb250ZXh0Lmh0bWwub3ZlcmZsb3dYOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZID0gdGhpcy5fb3JpZ2luYWxDb250ZXh0Lmh0bWwub3ZlcmZsb3dZOw0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9IHRoaXMuX29yaWdpbmFsQ29udGV4dC5ib2R5Lm92ZXJmbG93WDsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSB0aGlzLl9vcmlnaW5hbENvbnRleHQuYm9keS5vdmVyZmxvd1k7DQogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vcmlnaW5hbENvbnRleHQ7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5faGlkZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhEaWFsb2csIFVJQmFzZSk7DQp9KSgpOw0KDQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHVpY29yZQ0KLy8vaW1wb3J0IHVpL21lbnUuanMNCi8vL2ltcG9ydCB1aS9zcGxpdGJ1dHRvbi5qcw0KKGZ1bmN0aW9uICgpew0KICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywNCiAgICAgICAgTWVudSA9IGJhaWR1LmVkaXRvci51aS5NZW51LA0KICAgICAgICBTcGxpdEJ1dHRvbiA9IGJhaWR1LmVkaXRvci51aS5TcGxpdEJ1dHRvbiwNCiAgICAgICAgTWVudUJ1dHRvbiA9IGJhaWR1LmVkaXRvci51aS5NZW51QnV0dG9uID0gZnVuY3Rpb24gKG9wdGlvbnMpew0KICAgICAgICAgICAgdGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTsNCiAgICAgICAgICAgIHRoaXMuaW5pdE1lbnVCdXR0b24oKTsNCiAgICAgICAgfTsNCiAgICBNZW51QnV0dG9uLnByb3RvdHlwZSA9IHsNCiAgICAgICAgaW5pdE1lbnVCdXR0b246IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMudWlOYW1lID0gIm1lbnVidXR0b24iOw0KICAgICAgICAgICAgdGhpcy5wb3B1cCA9IG5ldyBNZW51KHsNCiAgICAgICAgICAgICAgICBpdGVtczogbWUuaXRlbXMsDQogICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtZS5jbGFzc05hbWUsDQogICAgICAgICAgICAgICAgZWRpdG9yOm1lLmVkaXRvcg0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLnBvcHVwLmFkZExpc3RlbmVyKCdzaG93JywgZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0aGlzOw0KICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxsaXN0Lml0ZW1zLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGxpc3QuaXRlbXNbaV0ucmVtb3ZlU3RhdGUoJ2NoZWNrZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGxpc3QuaXRlbXNbaV0udmFsdWUgPT0gbWUuX3ZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBsaXN0Lml0ZW1zW2ldLmFkZFN0YXRlKCdjaGVja2VkJyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbWUuX3ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmluaXRTcGxpdEJ1dHRvbigpOw0KICAgICAgICB9LA0KICAgICAgICBzZXRWYWx1ZSA6IGZ1bmN0aW9uKHZhbHVlKXsNCiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgfTsNCiAgICB1dGlscy5pbmhlcml0cyhNZW51QnV0dG9uLCBTcGxpdEJ1dHRvbik7DQp9KSgpOw0KLy91aei3n+e8lui+keWZqOeahOmAgumFjeWxpA0KLy/pgqPkuKrmjInpkq7lvLnlh7rmmK9kaWFsb2fvvIzmmK/kuIvmi4nnrZDnrYnpg73mmK/lnKjov5nkuKpqc+S4remFjee9rg0KLy/oh6rlt7HlhpnnmoR1aeS5n+imgeWcqOi/memHjOmFjee9ru+8jOaUvuWIsGJhaWR1LmVkaXRvci51aeS4i+i+ue+8jOW9k+e8lui+keWZqOWunuS+i+WMlueahOaXtuWAmeS8muagueaNrnVlZGl0b3IuY29uZmln5Lit55qEdG9vbGJhcnPmib7liLDnm7jlupTnmoTov5vooYzlrp7kvovljJYNCihmdW5jdGlvbiAoKSB7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzOw0KICAgIHZhciBlZGl0b3J1aSA9IGJhaWR1LmVkaXRvci51aTsNCiAgICB2YXIgX0RpYWxvZyA9IGVkaXRvcnVpLkRpYWxvZzsNCiAgICBlZGl0b3J1aS5idXR0b25zID0ge307DQoNCiAgICBlZGl0b3J1aS5EaWFsb2cgPSBmdW5jdGlvbiAob3B0aW9ucykgew0KICAgICAgICB2YXIgZGlhbG9nID0gbmV3IF9EaWFsb2cob3B0aW9ucyk7DQogICAgICAgIGRpYWxvZy5hZGRMaXN0ZW5lcignaGlkZScsIGZ1bmN0aW9uICgpIHsNCg0KICAgICAgICAgICAgaWYgKGRpYWxvZy5lZGl0b3IpIHsNCiAgICAgICAgICAgICAgICB2YXIgZWRpdG9yID0gZGlhbG9nLmVkaXRvcjsNCiAgICAgICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5nZWNrbykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBlZGl0b3Iud2luZG93LnNjcm9sbFksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9IGVkaXRvci53aW5kb3cuc2Nyb2xsWDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5ib2R5LmZvY3VzKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iud2luZG93LnNjcm9sbFRvKHgsIHkpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KDQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gZGlhbG9nOw0KICAgIH07DQoNCiAgICB2YXIgaWZyYW1lVXJsTWFwID0gew0KICAgICAgICAnYW5jaG9yJzonfi9kaWFsb2dzL2FuY2hvci9hbmNob3IuYXNwJywNCiAgICAgICAgJ2luc2VydGltYWdlJzonfi9kaWFsb2dzL2ltYWdlL2ltYWdlLmFzcCcsDQogICAgICAgICdsaW5rJzonfi9kaWFsb2dzL2xpbmsvbGluay5hc3AnLA0KICAgICAgICAnc3BlY2hhcnMnOid+L2RpYWxvZ3Mvc3BlY2hhcnMvc3BlY2hhcnMuYXNwJywNCiAgICAgICAgJ3NlYXJjaHJlcGxhY2UnOid+L2RpYWxvZ3Mvc2VhcmNocmVwbGFjZS9zZWFyY2hyZXBsYWNlLmFzcCcsDQogICAgICAgICdtYXAnOid+L2RpYWxvZ3MvbWFwL21hcC5hc3AnLA0KICAgICAgICAnZ21hcCc6J34vZGlhbG9ncy9nbWFwL2dtYXAuYXNwJywNCiAgICAgICAgJ2luc2VydHZpZGVvJzonfi9kaWFsb2dzL3ZpZGVvL3ZpZGVvLmFzcCcsDQogICAgICAgICdlbW90aW9uJzonfi9kaWFsb2dzL2Vtb3Rpb24vZW1vdGlvbi5hc3AnLA0KICAgICAgICAnd29yZGltYWdlJzonfi9kaWFsb2dzL3dvcmRpbWFnZS93b3JkaW1hZ2UuYXNwJywNCiAgICAgICAgJ2F0dGFjaG1lbnQnOid+L2RpYWxvZ3MvYXR0YWNobWVudC9hdHRhY2htZW50LmFzcCcsDQogICAgICAgICdpbnNlcnRmcmFtZSc6J34vZGlhbG9ncy9pbnNlcnRmcmFtZS9pbnNlcnRmcmFtZS5hc3AnLA0KICAgICAgICAnZWRpdHRpcCc6J34vZGlhbG9ncy90YWJsZS9lZGl0dGlwLmFzcCcsDQogICAgICAgICdlZGl0dGFibGUnOid+L2RpYWxvZ3MvdGFibGUvZWRpdHRhYmxlLmFzcCcsDQogICAgICAgICdlZGl0dGQnOid+L2RpYWxvZ3MvdGFibGUvZWRpdHRkLmFzcCcsDQogICAgICAgICdzY3Jhd2wnOid+L2RpYWxvZ3Mvc2NyYXdsL3NjcmF3bC5hc3AnLA0KICAgICAgICAnbXVzaWMnOid+L2RpYWxvZ3MvbXVzaWMvbXVzaWMuYXNwJywNCiAgICB9Ow0KICAgIC8v5Li65bel5YW35qCP5re75Yqg5oyJ6ZKu77yM5Lul5LiL6YO95piv57uf5LiA55qE5oyJ6ZKu6Kem5Y+R5ZG95Luk77yM5omA5Lul5YaZ5Zyo5LiA6LW3DQogICAgdmFyIGJ0bkNtZHMgPSBbJ3VuZG8nLCAncmVkbycsICdmb3JtYXRtYXRjaCcsDQogICAgICAgICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnZm9udGJvcmRlcicsICd0b3VwcGVyY2FzZScsICd0b2xvd2VyY2FzZScsDQogICAgICAgICdzdHJpa2V0aHJvdWdoJywgJ3N1YnNjcmlwdCcsICdzdXBlcnNjcmlwdCcsICdzb3VyY2UnLCAnaW5kZW50JywgJ291dGRlbnQnLA0KICAgICAgICAnYmxvY2txdW90ZScsICdwYXN0ZXBsYWluJywgJ3BhZ2VicmVhaycsDQogICAgICAgICdzZWxlY3RhbGwnLCAncHJpbnQnLCdob3Jpem9udGFsJywgJ3JlbW92ZWZvcm1hdCcsICd0aW1lJywgJ2RhdGUnLCAndW5saW5rJywNCiAgICAgICAgJ2luc2VydHBhcmFncmFwaGJlZm9yZXRhYmxlJywgJ2luc2VydHJvdycsICdpbnNlcnRjb2wnLCAnbWVyZ2VyaWdodCcsICdtZXJnZWRvd24nLCAnZGVsZXRlcm93JywNCiAgICAgICAgJ2RlbGV0ZWNvbCcsICdzcGxpdHRvcm93cycsICdzcGxpdHRvY29scycsICdzcGxpdHRvY2VsbHMnLCAnbWVyZ2VjZWxscycsICdkZWxldGV0YWJsZScsICdkcmFmdHMnXTsNCg0KICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBidG5DbWRzW2krK107KSB7DQogICAgICAgIGNpID0gY2kudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgZWRpdG9ydWlbY2ldID0gZnVuY3Rpb24gKGNtZCkgew0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlZGl0b3IpIHsNCiAgICAgICAgICAgICAgICB2YXIgdWkgPSBuZXcgZWRpdG9ydWkuQnV0dG9uKHsNCiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci0nICsgY21kLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFtjbWRdIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC4iICsgY21kKSB8fCAnJywNCiAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY21kKTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUsDQogICAgICAgICAgICAgICAgICAgIHNob3dUZXh0OmZhbHNlDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZWRpdG9ydWkuYnV0dG9uc1tjbWRdID0gdWk7DQogICAgICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAodHlwZSwgY2F1c2VCeVVpLCB1aVJlYWR5KSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZShjbWQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0Q2hlY2tlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXVpUmVhZHkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0Q2hlY2tlZChzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdWk7DQogICAgICAgICAgICB9Ow0KICAgICAgICB9KGNpKTsNCiAgICB9DQoNCiAgICAvL+a4hemZpOaWh+ahow0KICAgIGVkaXRvcnVpLmNsZWFyZG9jID0gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICB2YXIgdWkgPSBuZXcgZWRpdG9ydWkuQnV0dG9uKHsNCiAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItY2xlYXJkb2MnLA0KICAgICAgICAgICAgdGl0bGU6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXAuY2xlYXJkb2MgfHwgZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmNsZWFyZG9jIikgfHwgJycsDQogICAgICAgICAgICB0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSwNCiAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmIChjb25maXJtKGVkaXRvci5nZXRMYW5nKCJjb25maXJtQ2xlYXIiKSkpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdjbGVhcmRvYycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbImNsZWFyZG9jIl0gPSB1aTsNCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ2NsZWFyZG9jJykgPT0gLTEpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHVpOw0KICAgIH07DQoNCiAgICAvL+aOkueJiO+8jOWbvueJh+aOkueJiO+8jOaWh+Wtl+aWueWQkQ0KICAgIHZhciB0eXBlc2V0ID0gew0KICAgICAgICAnanVzdGlmeSc6WydsZWZ0JywgJ3JpZ2h0JywgJ2NlbnRlcicsICdqdXN0aWZ5J10sDQogICAgICAgICdpbWFnZWZsb2F0JzpbJ25vbmUnLCAnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnXSwNCiAgICAgICAgJ2RpcmVjdGlvbmFsaXR5JzpbJ2x0cicsICdydGwnXQ0KICAgIH07DQoNCiAgICBmb3IgKHZhciBwIGluIHR5cGVzZXQpIHsNCg0KICAgICAgICAoZnVuY3Rpb24gKGNtZCwgdmFsKSB7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdmFsW2krK107KSB7DQogICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChjbWQyKSB7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvcnVpW2NtZC5yZXBsYWNlKCdmbG9hdCcsICcnKSArIGNtZDJdID0gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLkJ1dHRvbih7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci0nICsgY21kLnJlcGxhY2UoJ2Zsb2F0JywgJycpICsgY21kMiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFtjbWQucmVwbGFjZSgnZmxvYXQnLCAnJykgKyBjbWQyXSB8fCBlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuIiArIGNtZC5yZXBsYWNlKCdmbG9hdCcsICcnKSArIGNtZDIpIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY21kLCBjbWQyKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbY21kXSA9IHVpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAodHlwZSwgY2F1c2VCeVVpLCB1aVJlYWR5KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCkgPT0gLTEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpLnNldENoZWNrZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCkgPT0gY21kMiAmJiAhdWlSZWFkeSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1aTsNCiAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICB9KShjaSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkocCwgdHlwZXNldFtwXSkNCiAgICB9DQoNCiAgICAvL+Wtl+S9k+minOiJsuWSjOiDjOaZr+minOiJsg0KICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBbJ2JhY2tjb2xvcicsICdmb3JlY29sb3InXVtpKytdOykgew0KICAgICAgICBlZGl0b3J1aVtjaV0gPSBmdW5jdGlvbiAoY21kKSB7DQogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICAgICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5Db2xvckJ1dHRvbih7DQogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItJyArIGNtZCwNCiAgICAgICAgICAgICAgICAgICAgY29sb3I6J2RlZmF1bHQnLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFtjbWRdIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC4iICsgY21kKSB8fCAnJywNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgICAgICAgICAgb25waWNrY29sb3I6ZnVuY3Rpb24gKHQsIGNvbG9yKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY21kLCBjb2xvcik7DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIG9ucGlja25vY29sb3I6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCwgJ2RlZmF1bHQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29sb3IoJ3RyYW5zcGFyZW50Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yID0gJ2RlZmF1bHQnOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChjbWQsIHRoaXMuY29sb3IpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZWRpdG9ydWkuYnV0dG9uc1tjbWRdID0gdWk7DQogICAgICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZShjbWQpID09IC0xKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdWk7DQogICAgICAgICAgICB9Ow0KICAgICAgICB9KGNpKTsNCiAgICB9DQoNCg0KICAgIHZhciBkaWFsb2dCdG5zID0gew0KICAgICAgICBub09rOlsnc2VhcmNocmVwbGFjZScsICdoZWxwJywgJ3NwZWNoYXJzJywgJ3dlYmFwcCcsJ3ByZXZpZXcnXSwNCiAgICAgICAgb2s6WydhdHRhY2htZW50JywgJ2FuY2hvcicsICdsaW5rJywgJ2luc2VydGltYWdlJywgJ21hcCcsICdnbWFwJywgJ2luc2VydGZyYW1lJywgJ3dvcmRpbWFnZScsDQogICAgICAgICAgICAnaW5zZXJ0dmlkZW8nLCAnaW5zZXJ0ZnJhbWUnLCAnZWRpdHRpcCcsICdlZGl0dGFibGUnLCAnZWRpdHRkJywgJ3NjcmF3bCcsICd0ZW1wbGF0ZScsICdtdXNpYycsICdiYWNrZ3JvdW5kJywgJ2NoYXJ0cyddDQoNCiAgICB9Ow0KDQogICAgZm9yICh2YXIgcCBpbiBkaWFsb2dCdG5zKSB7DQogICAgICAgIChmdW5jdGlvbiAodHlwZSwgdmFscykgew0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHZhbHNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAvL3RvZG8gb3BlcmHkuIvlrZjlnKjpl67popgNCiAgICAgICAgICAgICAgICBpZiAoYnJvd3Nlci5vcGVyYSAmJiBjaSA9PT0gInNlYXJjaHJlcGxhY2UiKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKGNtZCkgew0KICAgICAgICAgICAgICAgICAgICBlZGl0b3J1aVtjbWRdID0gZnVuY3Rpb24gKGVkaXRvciwgaWZyYW1lVXJsLCB0aXRsZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWZyYW1lVXJsID0gaWZyYW1lVXJsIHx8IChlZGl0b3Iub3B0aW9ucy5pZnJhbWVVcmxNYXAgfHwge30pW2NtZF0gfHwgaWZyYW1lVXJsTWFwW2NtZF07DQogICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGVkaXRvci5vcHRpb25zLmxhYmVsTWFwW2NtZF0gfHwgZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLiIgKyBjbWQpIHx8ICcnOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbG9nOw0KICAgICAgICAgICAgICAgICAgICAgICAgLy/msqHmnIlpZnJhbWVVcmzkuI3liJvlu7pkaWFsb2cNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZnJhbWVVcmwpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cgPSBuZXcgZWRpdG9ydWkuRGlhbG9nKHV0aWxzLmV4dGVuZCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmcmFtZVVybDplZGl0b3IudWkubWFwVXJsKGlmcmFtZVVybCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItJyArIGNtZCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6dGl0bGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRTY3JvbGw6IGNtZCA9PT0gJ2luc2VydGltYWdlJywNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVsbHNjcmVlbjogL2NoYXJ0c3xwcmV2aWV3Ly50ZXN0KGNtZCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlRGlhbG9nOmVkaXRvci5nZXRMYW5nKCJjbG9zZURpYWxvZyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHlwZSA9PSAnb2snID8gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b25zOlsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktb2tidXR0b24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmVkaXRvci5nZXRMYW5nKCJvayIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1jYW5jZWxidXR0b24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOmVkaXRvci5nZXRMYW5nKCJjYW5jZWwiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2UoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7fSkpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLl9kaWFsb2dzW2NtZCArICJEaWFsb2ciXSA9IGRpYWxvZzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLkJ1dHRvbih7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci0nICsgY21kLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOnRpdGxlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbG9nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNtZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgIndvcmRpbWFnZSI6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZXMgPSBlZGl0b3IuZXhlY0NvbW1hbmQoIndvcmRpbWFnZSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VzICYmIGltYWdlcy5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5yZW5kZXIoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAic2NyYXdsIjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgic2NyYXdsIikgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5yZW5kZXIoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cucmVuZGVyKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5vcGVuKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOihjbWQgPT0gJ3NjcmF3bCcgJiYgZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJzY3Jhd2wiKSA9PSAtMSkgfHwgKCBjbWQgPT0gJ2NoYXJ0cycgKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3J1aS5idXR0b25zW2NtZF0gPSB1aTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y+q5a2Y5Zyo5LqO5Y+z6ZSu6I+c5Y2V6ICM5peg5bel5YW35qCP5oyJ6ZKu55qEdWnkuI3pnIDopoHmo4DmtYvnirbmgIENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5OZWVkQ2hlY2tTdGF0ZSA9IHsnZWRpdHRhYmxlJzoxfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY21kIGluIHVuTmVlZENoZWNrU3RhdGUpcmV0dXJuOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVpLmdldERvbSgpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKHN0YXRlID09IC0xKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0Q2hlY2tlZChzdGF0ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVpOw0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIH0pKGNpLnRvTG93ZXJDYXNlKCkpDQogICAgICAgICAgICB9DQogICAgICAgIH0pKHAsIGRpYWxvZ0J0bnNbcF0pDQogICAgfQ0KDQogICAgZWRpdG9ydWkuc25hcHNjcmVlbiA9IGZ1bmN0aW9uIChlZGl0b3IsIGlmcmFtZVVybCwgdGl0bGUpIHsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsnc25hcHNjcmVlbiddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5zbmFwc2NyZWVuIikgfHwgJyc7DQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5CdXR0b24oew0KICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci1zbmFwc2NyZWVuJywNCiAgICAgICAgICAgIHRpdGxlOnRpdGxlLA0KICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCJzbmFwc2NyZWVuIik7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUNCg0KICAgICAgICB9KTsNCiAgICAgICAgZWRpdG9ydWkuYnV0dG9uc1snc25hcHNjcmVlbiddID0gdWk7DQogICAgICAgIGlmcmFtZVVybCA9IGlmcmFtZVVybCB8fCAoZWRpdG9yLm9wdGlvbnMuaWZyYW1lVXJsTWFwIHx8IHt9KVsic25hcHNjcmVlbiJdIHx8IGlmcmFtZVVybE1hcFsic25hcHNjcmVlbiJdOw0KICAgICAgICBpZiAoaWZyYW1lVXJsKSB7DQogICAgICAgICAgICB2YXIgZGlhbG9nID0gbmV3IGVkaXRvcnVpLkRpYWxvZyh7DQogICAgICAgICAgICAgICAgaWZyYW1lVXJsOmVkaXRvci51aS5tYXBVcmwoaWZyYW1lVXJsKSwNCiAgICAgICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3Itc25hcHNjcmVlbicsDQogICAgICAgICAgICAgICAgdGl0bGU6dGl0bGUsDQogICAgICAgICAgICAgICAgYnV0dG9uczpbDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1va2J1dHRvbicsDQogICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDplZGl0b3IuZ2V0TGFuZygib2siKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2UodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1jYW5jZWxidXR0b24nLA0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6ZWRpdG9yLmdldExhbmcoImNhbmNlbCIpLA0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5jbG9zZShmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBdDQoNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZGlhbG9nLnJlbmRlcigpOw0KICAgICAgICAgICAgZWRpdG9yLnVpLl9kaWFsb2dzWyJzbmFwc2NyZWVuRGlhbG9nIl0gPSBkaWFsb2c7DQogICAgICAgIH0NCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ3NuYXBzY3JlZW4nKSA9PSAtMSk7DQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdWk7DQogICAgfTsNCg0KICAgIGVkaXRvcnVpLmluc2VydGNvZGUgPSBmdW5jdGlvbiAoZWRpdG9yLCBsaXN0LCB0aXRsZSkgew0KICAgICAgICBsaXN0ID0gZWRpdG9yLm9wdGlvbnNbJ2luc2VydGNvZGUnXSB8fCBbXTsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsnaW5zZXJ0Y29kZSddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5pbnNlcnRjb2RlIikgfHwgJyc7DQogICAgICAgLy8gaWYgKCFsaXN0Lmxlbmd0aCkgcmV0dXJuOw0KICAgICAgICB2YXIgaXRlbXMgPSBbXTsNCiAgICAgICAgdXRpbHMuZWFjaChsaXN0LGZ1bmN0aW9uKGtleSx2YWwpew0KICAgICAgICAgICAgaXRlbXMucHVzaCh7DQogICAgICAgICAgICAgICAgbGFiZWw6a2V5LA0KICAgICAgICAgICAgICAgIHZhbHVlOnZhbCwNCiAgICAgICAgICAgICAgICB0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSwNCiAgICAgICAgICAgICAgICByZW5kZXJMYWJlbGFzcDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAnPGRpdiBjbGFzcz0iZWR1aS1sYWJlbCAlJS1sYWJlbCIgPicgKyAodGhpcy5sYWJlbCB8fCAnJykgKyAnPC9kaXY+JzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLkNvbWJveCh7DQogICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgaXRlbXM6aXRlbXMsDQogICAgICAgICAgICBvbnNlbGVjdDpmdW5jdGlvbiAodCwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2luc2VydGNvZGUnLCB0aGlzLml0ZW1zW2luZGV4XS52YWx1ZSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25idXR0b25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93UG9wdXAoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0aXRsZTp0aXRsZSwNCiAgICAgICAgICAgIGluaXRWYWx1ZTp0aXRsZSwNCiAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItaW5zZXJ0Y29kZScsDQogICAgICAgICAgICBpbmRleEJ5VmFsdWU6ZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSB0aGlzLml0ZW1zW2ldOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaS52YWx1ZS5pbmRleE9mKHZhbHVlKSAhPSAtMSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiAtMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbJ2luc2VydGNvZGUnXSA9IHVpOw0KICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICh0eXBlLCBjYXVzZUJ5VWksIHVpUmVhZHkpIHsNCiAgICAgICAgICAgIGlmICghdWlSZWFkeSkgew0KICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgnaW5zZXJ0Y29kZScpOw0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgnaW5zZXJ0Y29kZScpOw0KICAgICAgICAgICAgICAgICAgICBpZighdmFsdWUpew0KICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0VmFsdWUodGl0bGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8vdHJhY2U6MTg3MSBpZeS4i+S7jua6kOeggeaooeW8j+WIh+aNouWbnuadpeaXtu+8jOWtl+S9k+S8muW4puWNleW8leWPt++8jOiAjOS4lOS8muaciemAl+WPtw0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSAmJiAodmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9bJyJdL2csICcnKS5zcGxpdCgnLCcpWzBdKTsNCiAgICAgICAgICAgICAgICAgICAgdWkuc2V0VmFsdWUodmFsdWUpOw0KDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdWk7DQogICAgfTsNCiAgICBlZGl0b3J1aS5mb250ZmFtaWx5ID0gZnVuY3Rpb24gKGVkaXRvciwgbGlzdCwgdGl0bGUpIHsNCg0KICAgICAgICBsaXN0ID0gZWRpdG9yLm9wdGlvbnNbJ2ZvbnRmYW1pbHknXSB8fCBbXTsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsnZm9udGZhbWlseSddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5mb250ZmFtaWx5IikgfHwgJyc7DQogICAgICAgIGlmICghbGlzdC5sZW5ndGgpIHJldHVybjsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpLCBpdGVtcyA9IFtdOyBjaSA9IGxpc3RbaV07IGkrKykgew0KICAgICAgICAgICAgdmFyIGxhbmdMYWJlbCA9IGVkaXRvci5nZXRMYW5nKCdmb250ZmFtaWx5JylbY2kubmFtZV0gfHwgIiI7DQogICAgICAgICAgICAoZnVuY3Rpb24gKGtleSwgdmFsKSB7DQogICAgICAgICAgICAgICAgaXRlbXMucHVzaCh7DQogICAgICAgICAgICAgICAgICAgIGxhYmVsOmtleSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6dmFsLA0KICAgICAgICAgICAgICAgICAgICB0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSwNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFiZWxhc3A6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPSJlZHVpLWxhYmVsICUlLWxhYmVsIiBzdHlsZT0iZm9udC1mYW1pbHk6JyArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMudW5hc3AodGhpcy52YWx1ZSkgKyAnIj4nICsgKHRoaXMubGFiZWwgfHwgJycpICsgJzwvZGl2Pic7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pKGNpLmxhYmVsIHx8IGxhbmdMYWJlbCwgY2kudmFsKQ0KICAgICAgICB9DQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5Db21ib3goew0KICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgIGl0ZW1zOml0ZW1zLA0KICAgICAgICAgICAgb25zZWxlY3Q6ZnVuY3Rpb24gKHQsIGluZGV4KSB7DQogICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdGb250RmFtaWx5JywgdGhpcy5pdGVtc1tpbmRleF0udmFsdWUpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGl0bGU6dGl0bGUsDQogICAgICAgICAgICBpbml0VmFsdWU6dGl0bGUsDQogICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLWZvbnRmYW1pbHknLA0KICAgICAgICAgICAgaW5kZXhCeVZhbHVlOmZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGhpcy5pdGVtc1tpXTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2kudmFsdWUuaW5kZXhPZih2YWx1ZSkgIT0gLTEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3J1aS5idXR0b25zWydmb250ZmFtaWx5J10gPSB1aTsNCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAodHlwZSwgY2F1c2VCeVVpLCB1aVJlYWR5KSB7DQogICAgICAgICAgICBpZiAoIXVpUmVhZHkpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ0ZvbnRGYW1pbHknKTsNCiAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQoZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoJ0ZvbnRGYW1pbHknKTsNCiAgICAgICAgICAgICAgICAgICAgLy90cmFjZToxODcxIGll5LiL5LuO5rqQ56CB5qih5byP5YiH5o2i5Zue5p2l5pe277yM5a2X5L2T5Lya5bim5Y2V5byV5Y+377yM6ICM5LiU5Lya5pyJ6YCX5Y+3DQogICAgICAgICAgICAgICAgICAgIHZhbHVlICYmICh2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1snIl0vZywgJycpLnNwbGl0KCcsJylbMF0pOw0KICAgICAgICAgICAgICAgICAgICB1aS5zZXRWYWx1ZSh2YWx1ZSk7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiB1aTsNCiAgICB9Ow0KDQogICAgZWRpdG9ydWkuZm9udHNpemUgPSBmdW5jdGlvbiAoZWRpdG9yLCBsaXN0LCB0aXRsZSkgew0KICAgICAgICB0aXRsZSA9IGVkaXRvci5vcHRpb25zLmxhYmVsTWFwWydmb250c2l6ZSddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5mb250c2l6ZSIpIHx8ICcnOw0KICAgICAgICBsaXN0ID0gbGlzdCB8fCBlZGl0b3Iub3B0aW9uc1snZm9udHNpemUnXSB8fCBbXTsNCiAgICAgICAgaWYgKCFsaXN0Lmxlbmd0aCkgcmV0dXJuOw0KICAgICAgICB2YXIgaXRlbXMgPSBbXTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgc2l6ZSA9IGxpc3RbaV0gKyAncHgnOw0KICAgICAgICAgICAgaXRlbXMucHVzaCh7DQogICAgICAgICAgICAgICAgbGFiZWw6c2l6ZSwNCiAgICAgICAgICAgICAgICB2YWx1ZTpzaXplLA0KICAgICAgICAgICAgICAgIHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLA0KICAgICAgICAgICAgICAgIHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPSJlZHVpLWxhYmVsICUlLWxhYmVsIiBzdHlsZT0ibGluZS1oZWlnaHQ6MTtmb250LXNpemU6JyArDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlICsgJyI+JyArICh0aGlzLmxhYmVsIHx8ICcnKSArICc8L2Rpdj4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5Db21ib3goew0KICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgIGl0ZW1zOml0ZW1zLA0KICAgICAgICAgICAgdGl0bGU6dGl0bGUsDQogICAgICAgICAgICBpbml0VmFsdWU6dGl0bGUsDQogICAgICAgICAgICBvbnNlbGVjdDpmdW5jdGlvbiAodCwgaW5kZXgpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ0ZvbnRTaXplJywgdGhpcy5pdGVtc1tpbmRleF0udmFsdWUpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKCk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci1mb250c2l6ZScNCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbJ2ZvbnRzaXplJ10gPSB1aTsNCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAodHlwZSwgY2F1c2VCeVVpLCB1aVJlYWR5KSB7DQogICAgICAgICAgICBpZiAoIXVpUmVhZHkpIHsNCiAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ0ZvbnRTaXplJyk7DQogICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKHRydWUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgdWkuc2V0VmFsdWUoZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCdGb250U2l6ZScpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiB1aTsNCiAgICB9Ow0KDQogICAgZWRpdG9ydWkucGFyYWdyYXBoID0gZnVuY3Rpb24gKGVkaXRvciwgbGlzdCwgdGl0bGUpIHsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsncGFyYWdyYXBoJ10gfHwgZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLnBhcmFncmFwaCIpIHx8ICcnOw0KICAgICAgICBsaXN0ID0gZWRpdG9yLm9wdGlvbnNbJ3BhcmFncmFwaCddIHx8IFtdOw0KICAgICAgICBpZiAodXRpbHMuaXNFbXB0eU9iamVjdChsaXN0KSkgcmV0dXJuOw0KICAgICAgICB2YXIgaXRlbXMgPSBbXTsNCiAgICAgICAgZm9yICh2YXIgaSBpbiBsaXN0KSB7DQogICAgICAgICAgICBpdGVtcy5wdXNoKHsNCiAgICAgICAgICAgICAgICB2YWx1ZTppLA0KICAgICAgICAgICAgICAgIGxhYmVsOmxpc3RbaV0gfHwgZWRpdG9yLmdldExhbmcoInBhcmFncmFwaCIpW2ldLA0KICAgICAgICAgICAgICAgIHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLA0KICAgICAgICAgICAgICAgIHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPSJlZHVpLWxhYmVsICUlLWxhYmVsIj48c3BhbiBjbGFzcz0iZWR1aS1mb3ItJyArIHRoaXMudmFsdWUgKyAnIj4nICsgKHRoaXMubGFiZWwgfHwgJycpICsgJzwvc3Bhbj48L2Rpdj4nOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgIH0NCiAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLkNvbWJveCh7DQogICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgaXRlbXM6aXRlbXMsDQogICAgICAgICAgICB0aXRsZTp0aXRsZSwNCiAgICAgICAgICAgIGluaXRWYWx1ZTp0aXRsZSwNCiAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItcGFyYWdyYXBoJywNCiAgICAgICAgICAgIG9uc2VsZWN0OmZ1bmN0aW9uICh0LCBpbmRleCkgew0KICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnUGFyYWdyYXBoJywgdGhpcy5pdGVtc1tpbmRleF0udmFsdWUpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3J1aS5idXR0b25zWydwYXJhZ3JhcGgnXSA9IHVpOw0KICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICh0eXBlLCBjYXVzZUJ5VWksIHVpUmVhZHkpIHsNCiAgICAgICAgICAgIGlmICghdWlSZWFkeSkgew0KICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgnUGFyYWdyYXBoJyk7DQogICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IC0xKSB7DQogICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKHRydWUpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCdQYXJhZ3JhcGgnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdWkuaW5kZXhCeVZhbHVlKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXRWYWx1ZSh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXRWYWx1ZSh1aS5pbml0VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdWk7DQogICAgfTsNCg0KDQogICAgLy/oh6rlrprkuYnmoIfpopgNCiAgICBlZGl0b3J1aS5jdXN0b21zdHlsZSA9IGZ1bmN0aW9uIChlZGl0b3IpIHsNCiAgICAgICAgdmFyIGxpc3QgPSBlZGl0b3Iub3B0aW9uc1snY3VzdG9tc3R5bGUnXSB8fCBbXSwNCiAgICAgICAgICAgIHRpdGxlID0gZWRpdG9yLm9wdGlvbnMubGFiZWxNYXBbJ2N1c3RvbXN0eWxlJ10gfHwgZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmN1c3RvbXN0eWxlIikgfHwgJyc7DQogICAgICAgIGlmICghbGlzdC5sZW5ndGgpcmV0dXJuOw0KICAgICAgICB2YXIgbGFuZ0NzID0gZWRpdG9yLmdldExhbmcoJ2N1c3RvbXN0eWxlJyk7DQogICAgICAgIGZvciAodmFyIGkgPSAwLCBpdGVtcyA9IFtdLCB0OyB0ID0gbGlzdFtpKytdOykgew0KICAgICAgICAgICAgKGZ1bmN0aW9uICh0KSB7DQogICAgICAgICAgICAgICAgdmFyIGNrID0ge307DQogICAgICAgICAgICAgICAgY2subGFiZWwgPSB0LmxhYmVsID8gdC5sYWJlbCA6IGxhbmdDc1t0Lm5hbWVdOw0KICAgICAgICAgICAgICAgIGNrLnN0eWxlID0gdC5zdHlsZTsNCiAgICAgICAgICAgICAgICBjay5jbGFzc05hbWUgPSB0LmNsYXNzTmFtZTsNCiAgICAgICAgICAgICAgICBjay50YWcgPSB0LnRhZzsNCiAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6Y2subGFiZWwsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOmNrLA0KICAgICAgICAgICAgICAgICAgICB0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSwNCiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFiZWxhc3A6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGNsYXNzPSJlZHVpLWxhYmVsICUlLWxhYmVsIj4nICsgJzwnICsgY2sudGFnICsgJyAnICsgKGNrLmNsYXNzTmFtZSA/ICcgY2xhc3M9IicgKyBjay5jbGFzc05hbWUgKyAnIicgOiAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArIChjay5zdHlsZSA/ICcgc3R5bGU9IicgKyBjay5zdHlsZSArICciJyA6ICIiKSArICc+JyArIGNrLmxhYmVsICsgIjxcLyIgKyBjay50YWcgKyAiPiINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICc8L2Rpdj4nOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KSh0KTsNCiAgICAgICAgfQ0KDQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5Db21ib3goew0KICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgIGl0ZW1zOml0ZW1zLA0KICAgICAgICAgICAgdGl0bGU6dGl0bGUsDQogICAgICAgICAgICBpbml0VmFsdWU6dGl0bGUsDQogICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLWN1c3RvbXN0eWxlJywNCiAgICAgICAgICAgIG9uc2VsZWN0OmZ1bmN0aW9uICh0LCBpbmRleCkgew0KICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnY3VzdG9tc3R5bGUnLCB0aGlzLml0ZW1zW2luZGV4XS52YWx1ZSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25idXR0b25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93UG9wdXAoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBpbmRleEJ5VmFsdWU6ZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRpOyB0aSA9IHRoaXMuaXRlbXNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRpLmxhYmVsID09IHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSAtIDENCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gLTE7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3J1aS5idXR0b25zWydjdXN0b21zdHlsZSddID0gdWk7DQogICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKHR5cGUsIGNhdXNlQnlVaSwgdWlSZWFkeSkgew0KICAgICAgICAgICAgaWYgKCF1aVJlYWR5KSB7DQogICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCdjdXN0b21zdHlsZScpOw0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgnY3VzdG9tc3R5bGUnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gdWkuaW5kZXhCeVZhbHVlKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXRWYWx1ZSh2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXRWYWx1ZSh1aS5pbml0VmFsdWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdWk7DQogICAgfTsNCiAgICBlZGl0b3J1aS5pbnNlcnR0YWJsZSA9IGZ1bmN0aW9uIChlZGl0b3IsIGlmcmFtZVVybCwgdGl0bGUpIHsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsnaW5zZXJ0dGFibGUnXSB8fCBlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuaW5zZXJ0dGFibGUiKSB8fCAnJzsNCiAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLlRhYmxlQnV0dG9uKHsNCiAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICB0aXRsZTp0aXRsZSwNCiAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItaW5zZXJ0dGFibGUnLA0KICAgICAgICAgICAgb25waWNrdGFibGU6ZnVuY3Rpb24gKHQsIG51bUNvbHMsIG51bVJvd3MpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ0luc2VydFRhYmxlJywge251bVJvd3M6bnVtUm93cywgbnVtQ29sczpudW1Db2xzLCBib3JkZXI6MX0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3J1aS5idXR0b25zWydpbnNlcnR0YWJsZSddID0gdWk7DQogICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCdpbnNlcnR0YWJsZScpID09IC0xKTsNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybiB1aTsNCiAgICB9Ow0KDQogICAgZWRpdG9ydWkubGluZWhlaWdodCA9IGZ1bmN0aW9uIChlZGl0b3IpIHsNCiAgICAgICAgdmFyIHZhbCA9IGVkaXRvci5vcHRpb25zLmxpbmVoZWlnaHQgfHwgW107DQogICAgICAgIGlmICghdmFsLmxlbmd0aClyZXR1cm47DQogICAgICAgIGZvciAodmFyIGkgPSAwLCBjaSwgaXRlbXMgPSBbXTsgY2kgPSB2YWxbaSsrXTspIHsNCiAgICAgICAgICAgIGl0ZW1zLnB1c2goew0KICAgICAgICAgICAgICAgIC8vdG9kbzrlhpnmrbvkuoYNCiAgICAgICAgICAgICAgICBsYWJlbDpjaSwNCiAgICAgICAgICAgICAgICB2YWx1ZTpjaSwNCiAgICAgICAgICAgICAgICB0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSwNCiAgICAgICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCJsaW5laGVpZ2h0IiwgdGhpcy52YWx1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgICB2YXIgdWkgPSBuZXcgZWRpdG9ydWkuTWVudUJ1dHRvbih7DQogICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci1saW5laGVpZ2h0JywNCiAgICAgICAgICAgIHRpdGxlOmVkaXRvci5vcHRpb25zLmxhYmVsTWFwWydsaW5laGVpZ2h0J10gfHwgZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmxpbmVoZWlnaHQiKSB8fCAnJywNCiAgICAgICAgICAgIGl0ZW1zOml0ZW1zLA0KICAgICAgICAgICAgb25idXR0b25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCdMaW5lSGVpZ2h0JykgfHwgdGhpcy52YWx1ZTsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoIkxpbmVIZWlnaHQiLCB2YWx1ZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBlZGl0b3J1aS5idXR0b25zWydsaW5laGVpZ2h0J10gPSB1aTsNCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgc3RhdGUgPSBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ0xpbmVIZWlnaHQnKTsNCiAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgIHVpLnNldERpc2FibGVkKHRydWUpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCdMaW5lSGVpZ2h0Jyk7DQogICAgICAgICAgICAgICAgdmFsdWUgJiYgdWkuc2V0VmFsdWUoKHZhbHVlICsgJycpLnJlcGxhY2UoL2NtLywgJycpKTsNCiAgICAgICAgICAgICAgICB1aS5zZXRDaGVja2VkKHN0YXRlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHVpOw0KICAgIH07DQoNCiAgICB2YXIgcm93c3BhY2luZ3MgPSBbJ3RvcCcsICdib3R0b20nXTsNCiAgICBmb3IgKHZhciByID0gMCwgcmk7IHJpID0gcm93c3BhY2luZ3NbcisrXTspIHsNCiAgICAgICAgKGZ1bmN0aW9uIChjbWQpIHsNCiAgICAgICAgICAgIGVkaXRvcnVpWydyb3dzcGFjaW5nJyArIGNtZF0gPSBmdW5jdGlvbiAoZWRpdG9yKSB7DQogICAgICAgICAgICAgICAgdmFyIHZhbCA9IGVkaXRvci5vcHRpb25zWydyb3dzcGFjaW5nJyArIGNtZF0gfHwgW107DQogICAgICAgICAgICAgICAgaWYgKCF2YWwubGVuZ3RoKSByZXR1cm4gbnVsbDsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2ksIGl0ZW1zID0gW107IGNpID0gdmFsW2krK107KSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6Y2ksDQogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTpjaSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCJyb3dzcGFjaW5nIiwgdGhpcy52YWx1ZSwgY21kKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIHVpID0gbmV3IGVkaXRvcnVpLk1lbnVCdXR0b24oew0KICAgICAgICAgICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLXJvd3NwYWNpbmcnICsgY21kLA0KICAgICAgICAgICAgICAgICAgICB0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsncm93c3BhY2luZycgKyBjbWRdIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5yb3dzcGFjaW5nIiArIGNtZCkgfHwgJycsDQogICAgICAgICAgICAgICAgICAgIGl0ZW1zOml0ZW1zLA0KICAgICAgICAgICAgICAgICAgICBvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgncm93c3BhY2luZycsIGNtZCkgfHwgdGhpcy52YWx1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgicm93c3BhY2luZyIsIHZhbHVlLCBjbWQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZWRpdG9ydWkuYnV0dG9uc1tjbWRdID0gdWk7DQogICAgICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgncm93c3BhY2luZycsIGNtZCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoJ3Jvd3NwYWNpbmcnLCBjbWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgJiYgdWkuc2V0VmFsdWUoKHZhbHVlICsgJycpLnJlcGxhY2UoLyUvLCAnJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0Q2hlY2tlZChzdGF0ZSkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiB1aTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkocmkpDQogICAgfQ0KICAgIC8v5pyJ5bqP77yM5peg5bqP5YiX6KGoDQogICAgdmFyIGxpc3RzID0gWydpbnNlcnRvcmRlcmVkbGlzdCcsICdpbnNlcnR1bm9yZGVyZWRsaXN0J107DQogICAgZm9yICh2YXIgbCA9IDAsIGNsOyBjbCA9IGxpc3RzW2wrK107KSB7DQogICAgICAgIChmdW5jdGlvbiAoY21kKSB7DQogICAgICAgICAgICBlZGl0b3J1aVtjbWRdID0gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICAgICAgICAgIHZhciB2YWxzID0gZWRpdG9yLm9wdGlvbnNbY21kXSwNCiAgICAgICAgICAgICAgICAgICAgX29uTWVudUNsaWNrID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCwgdGhpcy52YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0sIGl0ZW1zID0gW107DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaSBpbiB2YWxzKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6dmFsc1tpXSB8fCBlZGl0b3IuZ2V0TGFuZygpW2NtZF1baV0gfHwgIiIsDQogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTppLA0KICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUsDQogICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOl9vbk1lbnVDbGljaw0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgdWkgPSBuZXcgZWRpdG9ydWkuTWVudUJ1dHRvbih7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTonZWR1aS1mb3ItJyArIGNtZCwNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLiIgKyBjbWQpIHx8ICcnLA0KICAgICAgICAgICAgICAgICAgICAnaXRlbXMnOml0ZW1zLA0KICAgICAgICAgICAgICAgICAgICBvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpIHx8IHRoaXMudmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoY21kLCB2YWx1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBlZGl0b3J1aS5idXR0b25zW2NtZF0gPSB1aTsNCiAgICAgICAgICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB1aS5zZXREaXNhYmxlZChmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoY21kKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpLnNldFZhbHVlKHZhbHVlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVpLnNldENoZWNrZWQoc3RhdGUpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gdWk7DQogICAgICAgICAgICB9Ow0KICAgICAgICB9KShjbCkNCiAgICB9DQoNCiAgICBlZGl0b3J1aS5mdWxsc2NyZWVuID0gZnVuY3Rpb24gKGVkaXRvciwgdGl0bGUpIHsNCiAgICAgICAgdGl0bGUgPSBlZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFsnZnVsbHNjcmVlbiddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5mdWxsc2NyZWVuIikgfHwgJyc7DQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5CdXR0b24oew0KICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci1mdWxsc2NyZWVuJywNCiAgICAgICAgICAgIHRpdGxlOnRpdGxlLA0KICAgICAgICAgICAgdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUsDQogICAgICAgICAgICBvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLnVpKSB7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci51aS5zZXRGdWxsU2NyZWVuKCFlZGl0b3IudWkuaXNGdWxsU2NyZWVuKCkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLnNldENoZWNrZWQoZWRpdG9yLnVpLmlzRnVsbFNjcmVlbigpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbJ2Z1bGxzY3JlZW4nXSA9IHVpOw0KICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBzdGF0ZSA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgnZnVsbHNjcmVlbicpOw0KICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQoc3RhdGUgPT0gLTEpOw0KICAgICAgICAgICAgdWkuc2V0Q2hlY2tlZChlZGl0b3IudWkuaXNGdWxsU2NyZWVuKCkpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHVpOw0KICAgIH07DQoNCiAgICAvLyDooajmg4UNCiAgICBlZGl0b3J1aVsiZW1vdGlvbiJdID0gZnVuY3Rpb24gKGVkaXRvciwgaWZyYW1lVXJsKSB7DQogICAgICAgIHZhciBjbWQgPSAiZW1vdGlvbiI7DQogICAgICAgIHZhciB1aSA9IG5ldyBlZGl0b3J1aS5NdWx0aU1lbnVQb3Aoew0KICAgICAgICAgICAgdGl0bGU6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXBbY21kXSB8fCBlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuIiArIGNtZCArICIiKSB8fCAnJywNCiAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktZm9yLScgKyBjbWQsDQogICAgICAgICAgICBpZnJhbWVVcmw6ZWRpdG9yLnVpLm1hcFVybChpZnJhbWVVcmwgfHwgKGVkaXRvci5vcHRpb25zLmlmcmFtZVVybE1hcCB8fCB7fSlbY21kXSB8fCBpZnJhbWVVcmxNYXBbY21kXSkNCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbY21kXSA9IHVpOw0KDQogICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdWkuc2V0RGlzYWJsZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCkgPT0gLTEpDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm4gdWk7DQogICAgfTsNCg0KICAgIGVkaXRvcnVpLmF1dG90eXBlc2V0ID0gZnVuY3Rpb24gKGVkaXRvcikgew0KICAgICAgICB2YXIgdWkgPSBuZXcgZWRpdG9ydWkuQXV0b1R5cGVTZXRCdXR0b24oew0KICAgICAgICAgICAgZWRpdG9yOmVkaXRvciwNCiAgICAgICAgICAgIHRpdGxlOmVkaXRvci5vcHRpb25zLmxhYmVsTWFwWydhdXRvdHlwZXNldCddIHx8IGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5hdXRvdHlwZXNldCIpIHx8ICcnLA0KICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLWZvci1hdXRvdHlwZXNldCcsDQogICAgICAgICAgICBvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2F1dG90eXBlc2V0JykNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIGVkaXRvcnVpLmJ1dHRvbnNbJ2F1dG90eXBlc2V0J10gPSB1aTsNCiAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ2F1dG90eXBlc2V0JykgPT0gLTEpOw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuIHVpOw0KICAgIH07DQoNCn0pKCk7DQoNCi8vL2ltcG9ydCBjb3JlDQovLy9jb21tYW5kcyDlhajlsY8NCi8vL2NvbW1hbmRzTmFtZSBGdWxsU2NyZWVuDQovLy9jb21tYW5kc1RpdGxlICDlhajlsY8NCihmdW5jdGlvbiAoKSB7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICB1aVV0aWxzID0gYmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsDQogICAgICAgIFVJQmFzZSA9IGJhaWR1LmVkaXRvci51aS5VSUJhc2UsDQogICAgICAgIGRvbVV0aWxzID0gYmFpZHUuZWRpdG9yLmRvbS5kb21VdGlsczsNCiAgICB2YXIgbm9kZVN0YWNrID0gW107DQoNCiAgICBmdW5jdGlvbiBFZGl0b3JVSShvcHRpb25zKSB7DQogICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7DQogICAgICAgIHRoaXMuaW5pdEVkaXRvclVJKCk7DQogICAgfQ0KDQogICAgRWRpdG9yVUkucHJvdG90eXBlID0gew0KICAgICAgICB1aU5hbWU6J2VkaXRvcicsDQogICAgICAgIGluaXRFZGl0b3JVSTpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLmVkaXRvci51aSA9IHRoaXM7DQogICAgICAgICAgICB0aGlzLl9kaWFsb2dzID0ge307DQogICAgICAgICAgICB0aGlzLmluaXRVSUJhc2UoKTsNCiAgICAgICAgICAgIHRoaXMuX2luaXRUb29sYmFycygpOw0KICAgICAgICAgICAgdmFyIGVkaXRvciA9IHRoaXMuZWRpdG9yLA0KICAgICAgICAgICAgICAgIG1lID0gdGhpczsNCg0KICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdyZWFkeScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAvL+aPkOS+m2dldERpYWxvZ+aWueazlQ0KICAgICAgICAgICAgICAgIGVkaXRvci5nZXREaWFsb2cgPSBmdW5jdGlvbiAobmFtZSkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWRpdG9yLnVpLl9kaWFsb2dzW25hbWUgKyAiRGlhbG9nIl07DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5vbihlZGl0b3Iud2luZG93LCAnc2Nyb2xsJywgZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgICAgICAgICBiYWlkdS5lZGl0b3IudWkuUG9wdXAucG9zdEhpZGUoZXZ0KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAvL+aPkOS+m+e8lui+keWZqOWunuaXtuWuvemrmCjlhajlsY/ml7blrr3pq5jkuI3lj5jljJYpDQogICAgICAgICAgICAgICAgZWRpdG9yLnVpLl9hY3R1YWxGcmFtZVdpZHRoID0gZWRpdG9yLm9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGg7DQoNCiAgICAgICAgICAgICAgICBVRS5icm93c2VyLmllICYmIFVFLmJyb3dzZXIudmVyc2lvbiA9PT0gNiAmJiBlZGl0b3IuY29udGFpbmVyLm93bmVyRG9jdW1lbnQuZXhlY0NvbW1hbmQoIkJhY2tncm91bmRJbWFnZUNhY2hlIiwgZmFsc2UsIHRydWUpOw0KDQogICAgICAgICAgICAgICAgLy9kaXNwbGF5IGJvdHRvbS1iYXIgbGFiZWwgYmFzZWQgb24gY29uZmlnDQogICAgICAgICAgICAgICAgaWYgKGVkaXRvci5vcHRpb25zLmVsZW1lbnRQYXRoRW5hYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IudWkuZ2V0RG9tKCdlbGVtZW50cGF0aCcpLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJlZHVpLWVkaXRvci1icmVhZGNydW1iIj4nICsgZWRpdG9yLmdldExhbmcoImVsZW1lbnRQYXRoVGlwIikgKyAnOjwvZGl2Pic7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy53b3JkQ291bnQpIHsNCiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gY291bnRGbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldENvdW50KGVkaXRvcixtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBkb21VdGlscy51bihlZGl0b3IuZG9jdW1lbnQsICJjbGljayIsIGFyZ3VtZW50cy5jYWxsZWUpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKGVkaXRvci5kb2N1bWVudCwgImNsaWNrIiwgY291bnRGbik7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci51aS5nZXREb20oJ3dvcmRjb3VudCcpLmlubmVySFRNTCA9IGVkaXRvci5nZXRMYW5nKCJ3b3JkQ291bnRUaXAiKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWRpdG9yLnVpLl9zY2FsZSgpOw0KICAgICAgICAgICAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy5zY2FsZUVuYWJsZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci5hdXRvSGVpZ2h0RW5hYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmRpc2FibGVBdXRvSGVpZ2h0KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgbWUuZW5hYmxlU2NhbGUoKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBtZS5kaXNhYmxlU2NhbGUoKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKCFlZGl0b3Iub3B0aW9ucy5lbGVtZW50UGF0aEVuYWJsZWQgJiYgIWVkaXRvci5vcHRpb25zLndvcmRDb3VudCAmJiAhZWRpdG9yLm9wdGlvbnMuc2NhbGVFbmFibGVkKSB7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci51aS5nZXREb20oJ2VsZW1lbnRwYXRoJykuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLmdldERvbSgnd29yZGNvdW50Jykuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLmdldERvbSgnc2NhbGUnKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmICghZWRpdG9yLnNlbGVjdGlvbi5pc0ZvY3VzKCkpcmV0dXJuOw0KICAgICAgICAgICAgICAgIGVkaXRvci5maXJlRXZlbnQoJ3NlbGVjdGlvbmNoYW5nZScsIGZhbHNlLCB0cnVlKTsNCg0KDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAodCwgZXZ0KSB7DQogICAgICAgICAgICAgICAgdmFyIGVsID0gZXZ0LnRhcmdldCB8fCBldnQuc3JjRWxlbWVudDsNCiAgICAgICAgICAgICAgICBiYWlkdS5lZGl0b3IudWkuUG9wdXAucG9zdEhpZGUoZXZ0LCBlbCk7DQogICAgICAgICAgICAgICAgYmFpZHUuZWRpdG9yLnVpLlNob3J0Q3V0TWVudS5wb3N0SGlkZShldnQpOw0KDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcigiZGVsY2VsbHMiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYgKFVFLnVpWydlZGl0dGlwJ10pIHsNCiAgICAgICAgICAgICAgICAgICAgbmV3IFVFLnVpWydlZGl0dGlwJ10oZWRpdG9yKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWRpdG9yLmdldERpYWxvZygnZWRpdHRpcCcpLm9wZW4oKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB2YXIgcGFzdGVQb3AsIGlzUGFzdGUgPSBmYWxzZSwgdGltZXI7DQogICAgICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoImFmdGVycGFzdGUiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgaWYoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCdwYXN0ZXBsYWluJykpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICBpZihiYWlkdS5lZGl0b3IudWkuUGFzdGVQaWNrZXIpew0KICAgICAgICAgICAgICAgICAgICBwYXN0ZVBvcCA9IG5ldyBiYWlkdS5lZGl0b3IudWkuUG9wdXAoew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDpuZXcgYmFpZHUuZWRpdG9yLnVpLlBhc3RlUGlja2VyKHtlZGl0b3I6ZWRpdG9yfSksDQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3I6ZWRpdG9yLA0KICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOidlZHVpLXdvcmRwYXN0ZXBvcCcNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIHBhc3RlUG9wLnJlbmRlcigpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpc1Bhc3RlID0gdHJ1ZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBlZGl0b3IuYWRkTGlzdGVuZXIoImFmdGVyaW5zZXJ0aHRtbCIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOw0KICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChwYXN0ZVBvcCAmJiAoaXNQYXN0ZSB8fCBlZGl0b3IudWkuX2lzVHJhbnNmZXIpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihwYXN0ZVBvcC5pc0hpZGRlbigpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGRvbVV0aWxzLmNyZWF0ZUVsZW1lbnQoZWRpdG9yLmRvY3VtZW50LCAnc3BhbicsIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzdHlsZSc6ImxpbmUtaGVpZ2h0OjBweDsiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lubmVySFRNTCc6J1x1ZmVmZicNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoc3Bhbik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcD0gZ2V0RG9tTm9kZShzcGFuLCAnZmlyc3RDaGlsZCcsICdwcmV2aW91c1NpYmxpbmcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZVBvcC5zaG93QW5jaG9yKHRtcC5ub2RlVHlwZSA9PSAzID8gdG1wLnBhcmVudE5vZGUgOiB0bXApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShzcGFuKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVQb3Auc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVkaXRvci51aS5faXNUcmFuc2ZlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGFzdGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sIDIwMCkNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uICh0LCBldnQpIHsNCiAgICAgICAgICAgICAgICBiYWlkdS5lZGl0b3IudWkuUG9wdXAucG9zdEhpZGUoZXZ0KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdrZXlkb3duJywgZnVuY3Rpb24gKHQsIGV2dCkgew0KICAgICAgICAgICAgICAgIGlmIChwYXN0ZVBvcCkgICAgcGFzdGVQb3AuZGlzcG9zZShldnQpOw0KICAgICAgICAgICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUgfHwgZXZ0LndoaWNoOw0KICAgICAgICAgICAgICAgIGlmKGV2dC5hbHRLZXkmJmtleUNvZGU9PTkwKXsNCiAgICAgICAgICAgICAgICAgICAgVUUudWkuYnV0dG9uc1snZnVsbHNjcmVlbiddLm9uY2xpY2soKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignd29yZGNvdW50JywgZnVuY3Rpb24gKHR5cGUpIHsNCiAgICAgICAgICAgICAgICBzZXRDb3VudCh0aGlzLG1lKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgZnVuY3Rpb24gc2V0Q291bnQoZWRpdG9yLHVpKSB7DQogICAgICAgICAgICAgICAgZWRpdG9yLnNldE9wdCh7DQogICAgICAgICAgICAgICAgICAgIHdvcmRDb3VudDp0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtYXhpbXVtV29yZHM6MTAwMDAsDQogICAgICAgICAgICAgICAgICAgIHdvcmRDb3VudE1zZzplZGl0b3Iub3B0aW9ucy53b3JkQ291bnRNc2cgfHwgZWRpdG9yLmdldExhbmcoIndvcmRDb3VudE1zZyIpLA0KICAgICAgICAgICAgICAgICAgICB3b3JkT3ZlckZsb3dNc2c6ZWRpdG9yLm9wdGlvbnMud29yZE92ZXJGbG93TXNnIHx8IGVkaXRvci5nZXRMYW5nKCJ3b3JkT3ZlckZsb3dNc2ciKQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHZhciBvcHQgPSBlZGl0b3Iub3B0aW9ucywNCiAgICAgICAgICAgICAgICAgICAgbWF4ID0gb3B0Lm1heGltdW1Xb3JkcywNCiAgICAgICAgICAgICAgICAgICAgbXNnID0gb3B0LndvcmRDb3VudE1zZyAsDQogICAgICAgICAgICAgICAgICAgIGVyck1zZyA9IG9wdC53b3JkT3ZlckZsb3dNc2csDQogICAgICAgICAgICAgICAgICAgIGNvdW50RG9tID0gdWkuZ2V0RG9tKCd3b3JkY291bnQnKTsNCiAgICAgICAgICAgICAgICBpZiAoIW9wdC53b3JkQ291bnQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2YXIgY291bnQgPSBlZGl0b3IuZ2V0Q29udGVudExlbmd0aCh0cnVlKTsNCiAgICAgICAgICAgICAgICBpZiAoY291bnQgPiBtYXgpIHsNCiAgICAgICAgICAgICAgICAgICAgY291bnREb20uaW5uZXJIVE1MID0gZXJyTXNnOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZUV2ZW50KCJ3b3JkY291bnRvdmVyZmxvdyIpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvdW50RG9tLmlubmVySFRNTCA9IG1zZy5yZXBsYWNlKCJ7I2xlYXZlfSIsIG1heCAtIGNvdW50KS5yZXBsYWNlKCJ7I2NvdW50fSIsIGNvdW50KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGlmIChlZGl0b3Iub3B0aW9ucy5lbGVtZW50UGF0aEVuYWJsZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgbWVbKGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgnZWxlbWVudHBhdGgnKSA9PSAtMSA/ICdkaXMnIDogJ2VuJykgKyAnYWJsZUVsZW1lbnRQYXRoJ10oKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLm9wdGlvbnMuc2NhbGVFbmFibGVkKSB7DQogICAgICAgICAgICAgICAgICAgIG1lWyhlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoJ3NjYWxlJykgPT0gLTEgPyAnZGlzJyA6ICdlbicpICsgJ2FibGVTY2FsZSddKCk7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHZhciBwb3B1cCA9IG5ldyBiYWlkdS5lZGl0b3IudWkuUG9wdXAoew0KICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsDQogICAgICAgICAgICAgICAgY29udGVudDonJywNCiAgICAgICAgICAgICAgICBjbGFzc05hbWU6J2VkdWktYnViYmxlJywNCiAgICAgICAgICAgICAgICBfb25FZGl0QnV0dG9uQ2xpY2s6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLl9kaWFsb2dzLmxpbmtEaWFsb2cub3BlbigpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgX29uSW1nRWRpdEJ1dHRvbkNsaWNrOmZ1bmN0aW9uIChuYW1lKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IudWkuX2RpYWxvZ3NbbmFtZV0gJiYgZWRpdG9yLnVpLl9kaWFsb2dzW25hbWVdLm9wZW4oKTsNCg0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgX29uSW1nU2V0RmxvYXQ6ZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoImltYWdlZmxvYXQiLCB2YWx1ZSk7DQoNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIF9zZXRJZnJhbWVBbGlnbjpmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gcG9wdXAuYW5jaG9yRWw7DQogICAgICAgICAgICAgICAgICAgIHZhciBuZXdGcmFtZSA9IGZyYW1lLmNsb25lTm9kZSh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMjoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdGcmFtZS5zZXRBdHRyaWJ1dGUoImFsaWduIiwgIiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAtMToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdGcmFtZS5zZXRBdHRyaWJ1dGUoImFsaWduIiwgImxlZnQiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdGcmFtZS5zZXRBdHRyaWJ1dGUoImFsaWduIiwgInJpZ2h0Iik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZnJhbWUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3RnJhbWUsIGZyYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKGZyYW1lKTsNCiAgICAgICAgICAgICAgICAgICAgcG9wdXAuYW5jaG9yRWwgPSBuZXdGcmFtZTsNCiAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2hvd0FuY2hvcihwb3B1cC5hbmNob3JFbCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBfdXBkYXRlSWZyYW1lOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gZWRpdG9yLl9pZnJhbWUgPSBwb3B1cC5hbmNob3JFbDsNCiAgICAgICAgICAgICAgICAgICAgaWYoZG9tVXRpbHMuaGFzQ2xhc3MoZnJhbWUsICd1ZWRpdG9yX2JhaWR1bWFwJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZWxlY3ROb2RlKGZyYW1lKS5zZWxlY3QoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci51aS5fZGlhbG9ncy5tYXBEaWFsb2cub3BlbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLl9kaWFsb2dzLmluc2VydGZyYW1lRGlhbG9nLm9wZW4oKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgX29uUmVtb3ZlQnV0dG9uQ2xpY2s6ZnVuY3Rpb24gKGNtZE5hbWUpIHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKGNtZE5hbWUpOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHF1ZXJ5QXV0b0hpZGU6ZnVuY3Rpb24gKGVsKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChlbCAmJiBlbC5vd25lckRvY3VtZW50ID09IGVkaXRvci5kb2N1bWVudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PSAnaW1nJyB8fCBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVsLCAnYScsIHRydWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsICE9PSBwb3B1cC5hbmNob3JFbDsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFpZHUuZWRpdG9yLnVpLlBvcHVwLnByb3RvdHlwZS5xdWVyeUF1dG9IaWRlLmNhbGwodGhpcywgZWwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcG9wdXAucmVuZGVyKCk7DQogICAgICAgICAgICBpZiAoZWRpdG9yLm9wdGlvbnMuaW1hZ2VQb3B1cCkgew0KICAgICAgICAgICAgICAgIGVkaXRvci5hZGRMaXN0ZW5lcignbW91c2VvdmVyJywgZnVuY3Rpb24gKHQsIGV2dCkgew0KICAgICAgICAgICAgICAgICAgICBldnQgPSBldnQgfHwgd2luZG93LmV2ZW50Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSBldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50Ow0KICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLnVpLl9kaWFsb2dzLmluc2VydGZyYW1lRGlhbG9nICYmIC9pZnJhbWUvaWcudGVzdChlbC50YWdOYW1lKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBwb3B1cC5mb3JtYXRIdG1sKA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bm9icj4nICsgZWRpdG9yLmdldExhbmcoInByb3BlcnR5IikgKyAnOiA8c3BhbiBvbmNsaWNrPSQkLl9zZXRJZnJhbWVBbGlnbigtMikgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nICsgZWRpdG9yLmdldExhbmcoImRlZmF1bHQiKSArICc8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gb25jbGljaz0kJC5fc2V0SWZyYW1lQWxpZ24oLTEpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JyArIGVkaXRvci5nZXRMYW5nKCJqdXN0aWZ5bGVmdCIpICsgJzwvc3Bhbj4mbmJzcDsmbmJzcDs8c3BhbiBvbmNsaWNrPSQkLl9zZXRJZnJhbWVBbGlnbigxKSBjbGFzcz0iZWR1aS1jbGlja2FibGUiPicgKyBlZGl0b3IuZ2V0TGFuZygianVzdGlmeXJpZ2h0IikgKyAnPC9zcGFuPiZuYnNwOyZuYnNwOycgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIDxzcGFuIG9uY2xpY2s9IiQkLl91cGRhdGVJZnJhbWUoIHRoaXMpOyIgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nICsgZWRpdG9yLmdldExhbmcoIm1vZGlmeSIpICsgJzwvc3Bhbj48L25vYnI+Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHRtbCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwLmdldERvbSgnY29udGVudCcpLmlubmVySFRNTCA9IGh0bWw7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuYW5jaG9yRWwgPSBlbDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3B1cC5zaG93QW5jaG9yKHBvcHVwLmFuY2hvckVsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgZWRpdG9yLmFkZExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBmdW5jdGlvbiAodCwgY2F1c2VCeVVpKSB7DQogICAgICAgICAgICAgICAgICAgIGlmICghY2F1c2VCeVVpKSByZXR1cm47DQogICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gJycsIHN0ciA9ICIiLA0KICAgICAgICAgICAgICAgICAgICAgICAgaW1nID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ3MgPSBlZGl0b3IudWkuX2RpYWxvZ3M7DQogICAgICAgICAgICAgICAgICAgIGlmIChpbWcgJiYgaW1nLnRhZ05hbWUgPT0gJ0lNRycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFsb2dOYW1lID0gJ2luc2VydGltYWdlRGlhbG9nJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktZmFrZWQtdmlkZW8iKSAhPSAtMSB8fCBpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktdXBsb2FkLXZpZGVvIikgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dOYW1lID0gImluc2VydHZpZGVvRGlhbG9nIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS1mYWtlZC13ZWJhcHAiKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ05hbWUgPSAid2ViYXBwRGlhbG9nIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5zcmMuaW5kZXhPZigiaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tIikgIT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2dOYW1lID0gIm1hcERpYWxvZyINCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktZmFrZWQtbXVzaWMiKSAhPSAtMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ05hbWUgPSAibXVzaWNEaWFsb2ciDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLnNyYy5pbmRleE9mKCJodHRwOi8vbWFwcy5nb29nbGUuY29tL21hcHMvYXBpL3N0YXRpY21hcCIpICE9IC0xKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nTmFtZSA9ICJnbWFwRGlhbG9nIg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5nZXRBdHRyaWJ1dGUoImFuY2hvcm5hbWUiKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZ05hbWUgPSAiYW5jaG9yRGlhbG9nIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sID0gcG9wdXAuZm9ybWF0SHRtbCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxub2JyPicgKyBlZGl0b3IuZ2V0TGFuZygicHJvcGVydHkiKSArICc6IDxzcGFuIG9uY2xpY2s9JCQuX29uSW1nRWRpdEJ1dHRvbkNsaWNrKCJhbmNob3JEaWFsb2ciKSBjbGFzcz0iZWR1aS1jbGlja2FibGUiPicgKyBlZGl0b3IuZ2V0TGFuZygibW9kaWZ5IikgKyAnPC9zcGFuPiZuYnNwOyZuYnNwOycgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIG9uY2xpY2s9JCQuX29uUmVtb3ZlQnV0dG9uQ2xpY2soXCdhbmNob3JcJykgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nICsgZWRpdG9yLmdldExhbmcoImRlbGV0ZSIpICsgJzwvc3Bhbj48L25vYnI+Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmdldEF0dHJpYnV0ZSgid29yZF9pbWciKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9kbyDmlL7liLBkaWFsb2fljrvlgZrmn6Xor6INCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iud29yZF9pbWcgPSBbaW1nLmdldEF0dHJpYnV0ZSgid29yZF9pbWciKV07DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbG9nTmFtZSA9ICJ3b3JkaW1hZ2VEaWFsb2ciDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRpYWxvZ3NbZGlhbG9nTmFtZV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBzdHIgPSAnPG5vYnI+JyArIGVkaXRvci5nZXRMYW5nKCJwcm9wZXJ0eSIpICsgJzogJysNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gb25jbGljaz0kJC5fb25JbWdTZXRGbG9hdCgibm9uZSIpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JyArIGVkaXRvci5nZXRMYW5nKCJkZWZhdWx0IikgKyAnPC9zcGFuPiZuYnNwOyZuYnNwOycgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBvbmNsaWNrPSQkLl9vbkltZ1NldEZsb2F0KCJsZWZ0IikgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nICsgZWRpdG9yLmdldExhbmcoImp1c3RpZnlsZWZ0IikgKyAnPC9zcGFuPiZuYnNwOyZuYnNwOycgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBvbmNsaWNrPSQkLl9vbkltZ1NldEZsb2F0KCJyaWdodCIpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JyArIGVkaXRvci5nZXRMYW5nKCJqdXN0aWZ5cmlnaHQiKSArICc8L3NwYW4+Jm5ic3A7Jm5ic3A7JyArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIG9uY2xpY2s9JCQuX29uSW1nU2V0RmxvYXQoImNlbnRlciIpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JyArIGVkaXRvci5nZXRMYW5nKCJqdXN0aWZ5Y2VudGVyIikgKyAnPC9zcGFuPiZuYnNwOyZuYnNwOycrDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIG9uY2xpY2s9IiQkLl9vbkltZ0VkaXRCdXR0b25DbGljayhcJycgKyBkaWFsb2dOYW1lICsgJ1wnKTsiIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JyArIGVkaXRvci5nZXRMYW5nKCJtb2RpZnkiKSArICc8L3NwYW4+PC9ub2JyPic7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICFodG1sICYmIChodG1sID0gcG9wdXAuZm9ybWF0SHRtbChzdHIpKQ0KDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKGVkaXRvci51aS5fZGlhbG9ncy5saW5rRGlhbG9nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9IGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgnbGluaycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybDsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rICYmICh1cmwgPSAobGluay5nZXRBdHRyaWJ1dGUoJ19ocmVmJykgfHwgbGluay5nZXRBdHRyaWJ1dGUoJ2hyZWYnLCAyKSkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4dCA9IHVybDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXJsLmxlbmd0aCA+IDMwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4dCA9IHVybC5zdWJzdHJpbmcoMCwgMjApICsgIi4uLiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChodG1sKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgc3R5bGU9ImhlaWdodDo1cHg7Ij48L2Rpdj4nDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gcG9wdXAuZm9ybWF0SHRtbCgNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxub2JyPicgKyBlZGl0b3IuZ2V0TGFuZygiYW50aG9yTXNnIikgKyAnOiA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyArIHVybCArICciIHRpdGxlPSInICsgdXJsICsgJyIgPicgKyB0eHQgKyAnPC9hPicgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyA8c3BhbiBjbGFzcz0iZWR1aS1jbGlja2FibGUiIG9uY2xpY2s9IiQkLl9vbkVkaXRCdXR0b25DbGljaygpOyI+JyArIGVkaXRvci5nZXRMYW5nKCJtb2RpZnkiKSArICc8L3NwYW4+JyArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIDxzcGFuIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSIgb25jbGljaz0iJCQuX29uUmVtb3ZlQnV0dG9uQ2xpY2soXCd1bmxpbmtcJyk7Ij4gJyArIGVkaXRvci5nZXRMYW5nKCJjbGVhciIpICsgJzwvc3Bhbj48L25vYnI+Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuc2hvd0FuY2hvcihsaW5rKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChodG1sKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBwb3B1cC5nZXREb20oJ2NvbnRlbnQnKS5pbm5lckhUTUwgPSBodG1sOw0KICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuYW5jaG9yRWwgPSBpbWcgfHwgbGluazsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwLnNob3dBbmNob3IocG9wdXAuYW5jaG9yRWwpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXAuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfSwNCiAgICAgICAgX2luaXRUb29sYmFyczpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZWRpdG9yID0gdGhpcy5lZGl0b3I7DQogICAgICAgICAgICB2YXIgdG9vbGJhcnMgPSB0aGlzLnRvb2xiYXJzIHx8IFtdOw0KICAgICAgICAgICAgdmFyIHRvb2xiYXJVaXMgPSBbXTsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9vbGJhcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICB2YXIgdG9vbGJhciA9IHRvb2xiYXJzW2ldOw0KICAgICAgICAgICAgICAgIHZhciB0b29sYmFyVWkgPSBuZXcgYmFpZHUuZWRpdG9yLnVpLlRvb2xiYXIoe3RoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lfSk7DQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0b29sYmFyLmxlbmd0aDsgaisrKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciB0b29sYmFySXRlbSA9IHRvb2xiYXJbal07DQogICAgICAgICAgICAgICAgICAgIHZhciB0b29sYmFySXRlbVVpID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0b29sYmFySXRlbSA9PSAnc3RyaW5nJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW0gPSB0b29sYmFySXRlbS50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xiYXJJdGVtID09ICd8Jykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xiYXJJdGVtID0gJ1NlcGFyYXRvcic7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZih0b29sYmFySXRlbSA9PSAnfHwnKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbSA9ICdCcmVha2xpbmUnOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJhaWR1LmVkaXRvci51aVt0b29sYmFySXRlbV0pIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbVVpID0gbmV3IGJhaWR1LmVkaXRvci51aVt0b29sYmFySXRlbV0oZWRpdG9yKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgLy9mdWxsc2NyZWVu6L+Z6YeM5Y2V54us5aSE55CG5LiA5LiL77yM5pS+5Yiw6aaW6KGM5Y67DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9vbGJhckl0ZW0gPT0gJ2Z1bGxzY3JlZW4nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xiYXJVaXMgJiYgdG9vbGJhclVpc1swXSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFyVWlzWzBdLml0ZW1zLnNwbGljZSgwLCAwLCB0b29sYmFySXRlbVVpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sYmFySXRlbVVpICYmIHRvb2xiYXJVaS5pdGVtcy5zcGxpY2UoMCwgMCwgdG9vbGJhckl0ZW1VaSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7DQoNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhckl0ZW1VaSA9IHRvb2xiYXJJdGVtOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmICh0b29sYmFySXRlbVVpICYmIHRvb2xiYXJJdGVtVWkuaWQpIHsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdG9vbGJhclVpLmFkZCh0b29sYmFySXRlbVVpKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0b29sYmFyVWlzW2ldID0gdG9vbGJhclVpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy50b29sYmFycyA9IHRvb2xiYXJVaXM7DQogICAgICAgIH0sDQogICAgICAgIGdldEh0bWxUcGw6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfdG9vbGJhcmJveCIgY2xhc3M9IiUlLXRvb2xiYXJib3giPicgKw0KICAgICAgICAgICAgICAgICh0aGlzLnRvb2xiYXJzLmxlbmd0aCA/DQogICAgICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI190b29sYmFyYm94b3V0ZXIiIGNsYXNzPSIlJS10b29sYmFyYm94b3V0ZXIiPjxkaXYgY2xhc3M9IiUlLXRvb2xiYXJib3hpbm5lciI+JyArDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlclRvb2xiYXJCb3hIdG1sKCkgKw0KICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PjwvZGl2PicgOiAnJykgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI190b29sYmFybXNnIiBjbGFzcz0iJSUtdG9vbGJhcm1zZyIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IGlkID0gIiMjX3VwbG9hZF9kaWFsb2ciIGNsYXNzPSIlJS10b29sYmFybXNnLXVwbG9hZCIgb25jbGljaz0iJCQuc2hvd1dvcmRJbWFnZURpYWxvZygpOyI+JyArIHRoaXMuZWRpdG9yLmdldExhbmcoImNsaWNrVG9VcGxvYWQiKSArICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz0iJSUtdG9vbGJhcm1zZy1jbG9zZSIgb25jbGljaz0iJCQuaGlkZVRvb2xiYXJNc2coKTsiPng8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfdG9vbGJhcm1zZ19sYWJlbCIgY2xhc3M9IiUlLXRvb2xiYXJtc2ctbGFiZWwiPjwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPSJoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47Y2xlYXI6Ym90aDsiPjwvZGl2PicgKw0KICAgICAgICAgICAgICAgICc8L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzxkaXYgaWQ9IiMjX2lmcmFtZWhvbGRlciIgY2xhc3M9IiUlLWlmcmFtZWhvbGRlciI+PC9kaXY+JyArDQogICAgICAgICAgICAgICAgLy9tb2RpZnkgd2Rjb3VudCBieSBtYXRhbw0KICAgICAgICAgICAgICAgICc8ZGl2IGlkPSIjI19ib3R0b21iYXIiIGNsYXNzPSIlJS1ib3R0b21Db250YWluZXIiPjx0YWJsZT48dHI+JyArDQogICAgICAgICAgICAgICAgJzx0ZCBpZD0iIyNfZWxlbWVudHBhdGgiIGNsYXNzPSIlJS1ib3R0b21iYXIiPjwvdGQ+JyArDQogICAgICAgICAgICAgICAgJzx0ZCBpZD0iIyNfd29yZGNvdW50IiBjbGFzcz0iJSUtd29yZGNvdW50Ij48L3RkPicgKw0KICAgICAgICAgICAgICAgICc8dGQgaWQ9IiMjX3NjYWxlIiBjbGFzcz0iJSUtc2NhbGUiPjxkaXYgY2xhc3M9IiUlLWljb24iPjwvZGl2PjwvdGQ+JyArDQogICAgICAgICAgICAgICAgJzwvdHI+PC90YWJsZT48L2Rpdj4nICsNCiAgICAgICAgICAgICAgICAnPGRpdiBpZD0iIyNfc2NhbGVsYXllciI+PC9kaXY+JyArDQogICAgICAgICAgICAgICAgJzwvZGl2Pic7DQogICAgICAgIH0sDQogICAgICAgIHNob3dXb3JkSW1hZ2VEaWFsb2c6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdGhpcy5fZGlhbG9nc1snd29yZGltYWdlRGlhbG9nJ10ub3BlbigpOw0KICAgICAgICB9LA0KICAgICAgICByZW5kZXJUb29sYmFyQm94SHRtbDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgYnVmZiA9IFtdOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgYnVmZi5wdXNoKHRoaXMudG9vbGJhcnNbaV0ucmVuZGVySHRtbCgpKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBidWZmLmpvaW4oJycpOw0KICAgICAgICB9LA0KICAgICAgICBzZXRGdWxsU2NyZWVuOmZ1bmN0aW9uIChmdWxsc2NyZWVuKSB7DQoNCiAgICAgICAgICAgIHZhciBlZGl0b3IgPSB0aGlzLmVkaXRvciwNCiAgICAgICAgICAgICAgICBjb250YWluZXIgPSBlZGl0b3IuY29udGFpbmVyLnBhcmVudE5vZGUucGFyZW50Tm9kZTsNCiAgICAgICAgICAgIGlmICh0aGlzLl9mdWxsc2NyZWVuICE9IGZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICAgICAgICB0aGlzLl9mdWxsc2NyZWVuID0gZnVsbHNjcmVlbjsNCiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvci5maXJlRXZlbnQoJ2JlZm9yZWZ1bGxzY3JlZW5jaGFuZ2UnLCBmdWxsc2NyZWVuKTsNCiAgICAgICAgICAgICAgICBpZiAoYmFpZHUuZWRpdG9yLmJyb3dzZXIuZ2Vja28pIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGJrID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChmdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgICAgIHdoaWxlIChjb250YWluZXIudGFnTmFtZSAhPSAiQk9EWSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIsICJwb3NpdGlvbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2gocG9zaXRpb24pOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gInN0YXRpYyI7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLl9iYWtIdG1sT3ZlcmZsb3cgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jha0JvZHlPdmVyZmxvdyA9IGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jha0F1dG9IZWlnaHQgPSB0aGlzLmVkaXRvci5hdXRvSGVpZ2h0RW5hYmxlZDsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYmFrU2Nyb2xsVG9wID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApOw0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jha0VkaXRvckNvbnRhbmluZXJXaWR0aCA9IGVkaXRvci5pZnJhbWUucGFyZW50Tm9kZS5vZmZzZXRXaWR0aDsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2Jha0F1dG9IZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v5b2T5YWo5bGP5pe25LiN6IO95omn6KGM6Ieq5Yqo6ZW/6auYDQogICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYXV0b0hlaWdodEVuYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmRpc2FibGVBdXRvSGVpZ2h0KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsNCiAgICAgICAgICAgICAgICAgICAgLy/kv67lpI3vvIzmu5rliqjmnaHkuI3mlLbotbfnmoTpl67popgNCg0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCx3aW5kb3cuc2Nyb2xsWSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jha0Nzc1RleHQgPSB0aGlzLmdldERvbSgpLnN0eWxlLmNzc1RleHQ7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuX2Jha0Nzc1RleHQxID0gdGhpcy5nZXREb20oJ2lmcmFtZWhvbGRlcicpLnN0eWxlLmNzc1RleHQ7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci5pZnJhbWUucGFyZW50Tm9kZS5zdHlsZS53aWR0aCA9ICcnOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVGdWxsU2NyZWVuKCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbnRhaW5lci50YWdOYW1lICE9ICJCT0RZIikgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gbm9kZVN0YWNrLnNoaWZ0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmNzc1RleHQgPSB0aGlzLl9iYWtDc3NUZXh0Ow0KICAgICAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgnaWZyYW1laG9sZGVyJykuc3R5bGUuY3NzVGV4dCA9IHRoaXMuX2Jha0Nzc1RleHQxOw0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYmFrQXV0b0hlaWdodCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmF1dG9IZWlnaHRFbmFibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmVuYWJsZUF1dG9IZWlnaHQoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9IHRoaXMuX2Jha0h0bWxPdmVyZmxvdzsNCiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IHRoaXMuX2Jha0JvZHlPdmVyZmxvdzsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmlmcmFtZS5wYXJlbnROb2RlLnN0eWxlLndpZHRoID0gdGhpcy5fYmFrRWRpdG9yQ29udGFuaW5lcldpZHRoICsgJ3B4JzsNCiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHRoaXMuX2Jha1Njcm9sbFRvcCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChicm93c2VyLmdlY2tvICYmIGVkaXRvci5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoaW5wdXQpOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IuYm9keS5jb250ZW50RWRpdGFibGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpbnB1dC5mb2N1cygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmJvZHkuY29udGVudEVkaXRhYmxlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZUV2ZW50KCdmdWxsc2NyZWVuY2hhbmdlZCcsIGZ1bGxzY3JlZW4pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHMucmVtb3ZlKGlucHV0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdWxsc2NyZWVuICYmIHdpbmRvdy5zY3JvbGwoMCwgMCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAwKQ0KICAgICAgICAgICAgICAgICAgICB9LCAwKQ0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmKGVkaXRvci5ib2R5LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKXsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0b3IuZmlyZUV2ZW50KCdmdWxsc2NyZWVuY2hhbmdlZCcsIGZ1bGxzY3JlZW4pOw0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJMYXlvdXQoKTsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX3VwZGF0ZUZ1bGxTY3JlZW46ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuX2Z1bGxzY3JlZW4pIHsNCiAgICAgICAgICAgICAgICB2YXIgdnBSZWN0ID0gdWlVdGlscy5nZXRWaWV3cG9ydFJlY3QoKTsNCiAgICAgICAgICAgICAgICB0aGlzLmdldERvbSgpLnN0eWxlLmNzc1RleHQgPSAnYm9yZGVyOjA7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDonICsgKHRoaXMuZWRpdG9yLm9wdGlvbnMudG9wT2Zmc2V0IHx8IDApICsgJ3B4O3dpZHRoOicgKyB2cFJlY3Qud2lkdGggKyAncHg7aGVpZ2h0OicgKyB2cFJlY3QuaGVpZ2h0ICsgJ3B4O3otaW5kZXg6JyArICh0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCAqIDEgKyAxMDApOw0KICAgICAgICAgICAgICAgIHVpVXRpbHMuc2V0Vmlld3BvcnRPZmZzZXQodGhpcy5nZXREb20oKSwgeyBsZWZ0OjAsIHRvcDp0aGlzLmVkaXRvci5vcHRpb25zLnRvcE9mZnNldCB8fCAwIH0pOw0KICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNldEhlaWdodCh2cFJlY3QuaGVpZ2h0IC0gdGhpcy5nZXREb20oJ3Rvb2xiYXJib3gnKS5vZmZzZXRIZWlnaHQgLSB0aGlzLmdldERvbSgnYm90dG9tYmFyJykub2Zmc2V0SGVpZ2h0IC0gKHRoaXMuZWRpdG9yLm9wdGlvbnMudG9wT2Zmc2V0IHx8IDApKTsNCiAgICAgICAgICAgICAgICAvL+S4jeaJi+WKqOiwg+S4gOS4i++8jOS8muWvvOiHtOWFqOWxj+WkseaViA0KICAgICAgICAgICAgICAgIGlmKGJyb3dzZXIuZ2Vja28pew0KICAgICAgICAgICAgICAgICAgICB0cnl7DQogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cub25yZXNpemUoKTsNCiAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpew0KDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX3VwZGF0ZUVsZW1lbnRQYXRoOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBib3R0b20gPSB0aGlzLmdldERvbSgnZWxlbWVudHBhdGgnKSwgbGlzdDsNCiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRQYXRoRW5hYmxlZCAmJiAobGlzdCA9IHRoaXMuZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCdlbGVtZW50cGF0aCcpKSkgew0KDQogICAgICAgICAgICAgICAgdmFyIGJ1ZmYgPSBbXTsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gbGlzdFtpXTsgaSsrKSB7DQogICAgICAgICAgICAgICAgICAgIGJ1ZmZbaV0gPSB0aGlzLmZvcm1hdEh0bWwoJzxzcGFuIHVuc2VsZWN0YWJsZT0ib24iIG9uY2xpY2s9IiQkLmVkaXRvci5leGVjQ29tbWFuZCgmcXVvdDtlbGVtZW50cGF0aCZxdW90OywgJnF1b3Q7JyArIGkgKyAnJnF1b3Q7KTsiPicgKyBjaSArICc8L3NwYW4+Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGJvdHRvbS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0iZWR1aS1lZGl0b3ItYnJlYWRjcnVtYiIgb25tb3VzZWRvd249InJldHVybiBmYWxzZTsiPicgKyB0aGlzLmVkaXRvci5nZXRMYW5nKCJlbGVtZW50UGF0aFRpcCIpICsgJzogJyArIGJ1ZmYuam9pbignICZndDsgJykgKyAnPC9kaXY+JzsNCg0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBib3R0b20uc3R5bGUuZGlzcGxheSA9ICdub25lJw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBkaXNhYmxlRWxlbWVudFBhdGg6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGJvdHRvbSA9IHRoaXMuZ2V0RG9tKCdlbGVtZW50cGF0aCcpOw0KICAgICAgICAgICAgYm90dG9tLmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgYm90dG9tLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnRQYXRoRW5hYmxlZCA9IGZhbHNlOw0KDQogICAgICAgIH0sDQogICAgICAgIGVuYWJsZUVsZW1lbnRQYXRoOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBib3R0b20gPSB0aGlzLmdldERvbSgnZWxlbWVudHBhdGgnKTsNCiAgICAgICAgICAgIGJvdHRvbS5zdHlsZS5kaXNwbGF5ID0gJyc7DQogICAgICAgICAgICB0aGlzLmVsZW1lbnRQYXRoRW5hYmxlZCA9IHRydWU7DQogICAgICAgICAgICB0aGlzLl91cGRhdGVFbGVtZW50UGF0aCgpOw0KICAgICAgICB9LA0KICAgICAgICBfc2NhbGU6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LA0KICAgICAgICAgICAgICAgIGVkaXRvciA9IHRoaXMuZWRpdG9yLA0KICAgICAgICAgICAgICAgIGVkaXRvckhvbGRlciA9IGVkaXRvci5jb250YWluZXIsDQogICAgICAgICAgICAgICAgZWRpdG9yRG9jdW1lbnQgPSBlZGl0b3IuZG9jdW1lbnQsDQogICAgICAgICAgICAgICAgdG9vbGJhckJveCA9IHRoaXMuZ2V0RG9tKCJ0b29sYmFyYm94IiksDQogICAgICAgICAgICAgICAgYm90dG9tYmFyID0gdGhpcy5nZXREb20oImJvdHRvbWJhciIpLA0KICAgICAgICAgICAgICAgIHNjYWxlID0gdGhpcy5nZXREb20oInNjYWxlIiksDQogICAgICAgICAgICAgICAgc2NhbGVsYXllciA9IHRoaXMuZ2V0RG9tKCJzY2FsZWxheWVyIik7DQoNCiAgICAgICAgICAgIHZhciBpc01vdXNlTW92ZSA9IGZhbHNlLA0KICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbnVsbCwNCiAgICAgICAgICAgICAgICBtaW5FZGl0b3JIZWlnaHQgPSAwLA0KICAgICAgICAgICAgICAgIG1pbkVkaXRvcldpZHRoID0gZWRpdG9yLm9wdGlvbnMubWluRnJhbWVXaWR0aCwNCiAgICAgICAgICAgICAgICBwYWdlWCA9IDAsDQogICAgICAgICAgICAgICAgcGFnZVkgPSAwLA0KICAgICAgICAgICAgICAgIHNjYWxlV2lkdGggPSAwLA0KICAgICAgICAgICAgICAgIHNjYWxlSGVpZ2h0ID0gMDsNCg0KICAgICAgICAgICAgZnVuY3Rpb24gZG93bigpIHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGRvbVV0aWxzLmdldFhZKGVkaXRvckhvbGRlcik7DQoNCiAgICAgICAgICAgICAgICBpZiAoIW1pbkVkaXRvckhlaWdodCkgew0KICAgICAgICAgICAgICAgICAgICBtaW5FZGl0b3JIZWlnaHQgPSBlZGl0b3Iub3B0aW9ucy5taW5GcmFtZUhlaWdodCArIHRvb2xiYXJCb3gub2Zmc2V0SGVpZ2h0ICsgYm90dG9tYmFyLm9mZnNldEhlaWdodDsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBzY2FsZWxheWVyLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7bGVmdDowO2Rpc3BsYXk6O3RvcDowO2JhY2tncm91bmQtY29sb3I6IzQxQUJGRjtvcGFjaXR5OjAuNDtmaWx0ZXI6IEFscGhhKG9wYWNpdHk9NDApO3dpZHRoOiIgKyBlZGl0b3JIb2xkZXIub2Zmc2V0V2lkdGggKyAicHg7aGVpZ2h0OiINCiAgICAgICAgICAgICAgICAgICAgKyBlZGl0b3JIb2xkZXIub2Zmc2V0SGVpZ2h0ICsgInB4O3otaW5kZXg6IiArIChlZGl0b3Iub3B0aW9ucy56SW5kZXggKyAxKTsNCg0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKGRvYywgIm1vdXNlbW92ZSIsIG1vdmUpOw0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uKGVkaXRvckRvY3VtZW50LCAibW91c2V1cCIsIHVwKTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5vbihkb2MsICJtb3VzZXVwIiwgdXApOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgLy9ieSB4dWhlbmcg5YWo5bGP5pe25YWz5o6J57yp5pS+DQogICAgICAgICAgICB0aGlzLmVkaXRvci5hZGRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZWQnLCBmdW5jdGlvbiAoZSwgZnVsbFNjcmVlbikgew0KICAgICAgICAgICAgICAgIGlmIChmdWxsU2NyZWVuKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmRpc2FibGVTY2FsZSgpOw0KDQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKG1lLmVkaXRvci5vcHRpb25zLnNjYWxlRW5hYmxlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZW5hYmxlU2NhbGUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXBOb2RlID0gbWUuZWRpdG9yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmVkaXRvci5ib2R5LmFwcGVuZENoaWxkKHRtcE5vZGUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWUuZWRpdG9yLmJvZHkuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoZG9tVXRpbHMuZ2V0WFkodG1wTm9kZSkueSwgbWUuZWRpdG9yLmlmcmFtZS5vZmZzZXRIZWlnaHQgLSAyMCkgKyAncHgnOw0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGZ1bmN0aW9uIG1vdmUoZXZlbnQpIHsNCiAgICAgICAgICAgICAgICBjbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAgICAgICAgIHZhciBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50Ow0KICAgICAgICAgICAgICAgIHBhZ2VYID0gZS5wYWdlWCB8fCAoZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0ICsgZS5jbGllbnRYKTsNCiAgICAgICAgICAgICAgICBwYWdlWSA9IGUucGFnZVkgfHwgKGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICsgZS5jbGllbnRZKTsNCiAgICAgICAgICAgICAgICBzY2FsZVdpZHRoID0gcGFnZVggLSBwb3NpdGlvbi54Ow0KICAgICAgICAgICAgICAgIHNjYWxlSGVpZ2h0ID0gcGFnZVkgLSBwb3NpdGlvbi55Ow0KDQogICAgICAgICAgICAgICAgaWYgKHNjYWxlV2lkdGggPj0gbWluRWRpdG9yV2lkdGgpIHsNCiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZU1vdmUgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBzY2FsZWxheWVyLnN0eWxlLndpZHRoID0gc2NhbGVXaWR0aCArICdweCc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzY2FsZUhlaWdodCA+PSBtaW5FZGl0b3JIZWlnaHQpIHsNCiAgICAgICAgICAgICAgICAgICAgaXNNb3VzZU1vdmUgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBzY2FsZWxheWVyLnN0eWxlLmhlaWdodCA9IHNjYWxlSGVpZ2h0ICsgInB4IjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGZ1bmN0aW9uIHVwKCkgew0KICAgICAgICAgICAgICAgIGlmIChpc01vdXNlTW92ZSkgew0KICAgICAgICAgICAgICAgICAgICBpc01vdXNlTW92ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IudWkuX2FjdHVhbEZyYW1lV2lkdGggPSBzY2FsZWxheWVyLm9mZnNldFdpZHRoIC0gMjsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9ySG9sZGVyLnN0eWxlLndpZHRoID0gZWRpdG9yLnVpLl9hY3R1YWxGcmFtZVdpZHRoICsgJ3B4JzsNCg0KICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2V0SGVpZ2h0KHNjYWxlbGF5ZXIub2Zmc2V0SGVpZ2h0IC0gYm90dG9tYmFyLm9mZnNldEhlaWdodCAtIHRvb2xiYXJCb3gub2Zmc2V0SGVpZ2h0IC0gMik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChzY2FsZWxheWVyKSB7DQogICAgICAgICAgICAgICAgICAgIHNjYWxlbGF5ZXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgY2xlYXJTZWxlY3Rpb24oKTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy51bihkb2MsICJtb3VzZW1vdmUiLCBtb3ZlKTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy51bihlZGl0b3JEb2N1bWVudCwgIm1vdXNldXAiLCB1cCk7DQogICAgICAgICAgICAgICAgZG9tVXRpbHMudW4oZG9jLCAibW91c2V1cCIsIHVwKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgaWYgKGJyb3dzZXIuaWUpDQogICAgICAgICAgICAgICAgICAgIGRvYy5zZWxlY3Rpb24uY2xlYXIoKTsNCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdGhpcy5lbmFibGVTY2FsZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAvL3RyYWNlOjI4NjgNCiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJzb3VyY2UiKSA9PSAxKSAgICByZXR1cm47DQogICAgICAgICAgICAgICAgc2NhbGUuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVFbmFibGVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy5vbihzY2FsZSwgIm1vdXNlZG93biIsIGRvd24pOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHRoaXMuZGlzYWJsZVNjYWxlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHNjYWxlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgdGhpcy5zY2FsZUVuYWJsZWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICBkb21VdGlscy51bihzY2FsZSwgIm1vdXNlZG93biIsIGRvd24pOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgaXNGdWxsU2NyZWVuOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mdWxsc2NyZWVuOw0KICAgICAgICB9LA0KICAgICAgICBwb3N0UmVuZGVyOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIFVJQmFzZS5wcm90b3R5cGUucG9zdFJlbmRlci5jYWxsKHRoaXMpOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvb2xiYXJzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgdGhpcy50b29sYmFyc1tpXS5wb3N0UmVuZGVyKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgdmFyIHRpbWVySWQsDQogICAgICAgICAgICAgICAgZG9tVXRpbHMgPSBiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLA0KICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bGxTY3JlZW5UaW1lID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7DQogICAgICAgICAgICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLl91cGRhdGVGdWxsU2NyZWVuKCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICBkb21VdGlscy5vbih3aW5kb3csICdyZXNpemUnLCB1cGRhdGVGdWxsU2NyZWVuVGltZSk7DQoNCiAgICAgICAgICAgIG1lLmFkZExpc3RlbmVyKCdkZXN0cm95JywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGRvbVV0aWxzLnVuKHdpbmRvdywgJ3Jlc2l6ZScsIHVwZGF0ZUZ1bGxTY3JlZW5UaW1lKTsNCiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBzaG93VG9vbGJhck1zZzpmdW5jdGlvbiAobXNnLCBmbGFnKSB7DQogICAgICAgICAgICB0aGlzLmdldERvbSgndG9vbGJhcm1zZ19sYWJlbCcpLmlubmVySFRNTCA9IG1zZzsNCiAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCd0b29sYmFybXNnJykuc3R5bGUuZGlzcGxheSA9ICcnOw0KICAgICAgICAgICAgLy8NCiAgICAgICAgICAgIGlmICghZmxhZykgew0KICAgICAgICAgICAgICAgIHZhciB3ID0gdGhpcy5nZXREb20oJ3VwbG9hZF9kaWFsb2cnKTsNCiAgICAgICAgICAgICAgICB3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGhpZGVUb29sYmFyTXNnOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCd0b29sYmFybXNnJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgfSwNCiAgICAgICAgbWFwVXJsOmZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgICAgIHJldHVybiB1cmwgPyB1cmwucmVwbGFjZSgnfi8nLCB0aGlzLmVkaXRvci5vcHRpb25zLlVFRElUT1JfSE9NRV9VUkwgfHwgJycpIDogJycNCiAgICAgICAgfSwNCiAgICAgICAgdHJpZ2dlckxheW91dDpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgZG9tID0gdGhpcy5nZXREb20oKTsNCiAgICAgICAgICAgIGlmIChkb20uc3R5bGUuem9vbSA9PSAnMScpIHsNCiAgICAgICAgICAgICAgICBkb20uc3R5bGUuem9vbSA9ICcxMDAlJzsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZG9tLnN0eWxlLnpvb20gPSAnMSc7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KICAgIHV0aWxzLmluaGVyaXRzKEVkaXRvclVJLCBiYWlkdS5lZGl0b3IudWkuVUlCYXNlKTsNCg0KDQogICAgdmFyIGluc3RhbmNlcyA9IHt9Ow0KDQoNCiAgICBVRS51aS5FZGl0b3IgPSBmdW5jdGlvbiAob3B0aW9ucykgew0KICAgICAgICB2YXIgZWRpdG9yID0gbmV3IFVFLkVkaXRvcihvcHRpb25zKTsNCiAgICAgICAgZWRpdG9yLm9wdGlvbnMuZWRpdG9yID0gZWRpdG9yOw0KICAgICAgICB1dGlscy5sb2FkRmlsZShkb2N1bWVudCwgew0KICAgICAgICAgICAgaHJlZjplZGl0b3Iub3B0aW9ucy50aGVtZVBhdGggKyBlZGl0b3Iub3B0aW9ucy50aGVtZSArICIvY3NzL3VlZGl0b3IuY3NzIiwNCiAgICAgICAgICAgIHRhZzoibGluayIsDQogICAgICAgICAgICB0eXBlOiJ0ZXh0L2NzcyIsDQogICAgICAgICAgICByZWw6InN0eWxlc2hlZXQiDQogICAgICAgIH0pOw0KDQogICAgICAgIHZhciBvbGRSZW5kZXIgPSBlZGl0b3IucmVuZGVyOw0KICAgICAgICBlZGl0b3IucmVuZGVyID0gZnVuY3Rpb24gKGhvbGRlcikgew0KICAgICAgICAgICAgaWYgKGhvbGRlci5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nKSB7DQogICAgICAgICAgICAgICAgZWRpdG9yLmtleSA9IGhvbGRlcjsNCiAgICAgICAgICAgICAgICBpbnN0YW5jZXNbaG9sZGVyXSA9IGVkaXRvcjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHV0aWxzLmRvbVJlYWR5KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IubGFuZ0lzUmVhZHkgPyByZW5kZXJVSSgpIDogZWRpdG9yLmFkZExpc3RlbmVyKCJsYW5nUmVhZHkiLCByZW5kZXJVSSk7DQogICAgICAgICAgICAgICAgZnVuY3Rpb24gcmVuZGVyVUkoKSB7DQogICAgICAgICAgICAgICAgICAgIGVkaXRvci5zZXRPcHQoew0KICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxNYXA6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXAgfHwgZWRpdG9yLmdldExhbmcoJ2xhYmVsTWFwJykNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIG5ldyBFZGl0b3JVSShlZGl0b3Iub3B0aW9ucyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChob2xkZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChob2xkZXIuY29uc3RydWN0b3IgPT09IFN0cmluZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGhvbGRlcik7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIgJiYgaG9sZGVyLmdldEF0dHJpYnV0ZSgnbmFtZScpICYmICggZWRpdG9yLm9wdGlvbnMudGV4dGFyZWEgPSBob2xkZXIuZ2V0QXR0cmlidXRlKCduYW1lJykpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhvbGRlciAmJiAvc2NyaXB0fHRleHRhcmVhL2lnLnRlc3QoaG9sZGVyLnRhZ05hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdEaXYsIGhvbGRlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnQgPSBob2xkZXIudmFsdWUgfHwgaG9sZGVyLmlubmVySFRNTDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3Iub3B0aW9ucy5pbml0aWFsQ29udGVudCA9IC9eW1x0XHJcbiBdKiQvLnRlc3QoY29udCkgPyBlZGl0b3Iub3B0aW9ucy5pbml0aWFsQ29udGVudCA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnQucmVwbGFjZSgvPltcblxyXHRdKyhbIF17NH0pKy9nLCAnPicpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xuXHJcdF0rKFsgXXs0fSkrPC9nLCAnPCcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvPltcblxyXHRdKzwvZywgJz48Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyLmNsYXNzTmFtZSAmJiAobmV3RGl2LmNsYXNzTmFtZSA9IGhvbGRlci5jbGFzc05hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5zdHlsZS5jc3NUZXh0ICYmIChuZXdEaXYuc3R5bGUuY3NzVGV4dCA9IGhvbGRlci5zdHlsZS5jc3NUZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoL3RleHRhcmVhL2kudGVzdChob2xkZXIudGFnTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnRleHRhcmVhID0gaG9sZGVyOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3IudGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGhvbGRlcik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5pZCAmJiAobmV3RGl2LmlkID0gaG9sZGVyLmlkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9sZGVyID0gbmV3RGl2Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvbGRlci5pbm5lckhUTUwgPSAnJzsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGRvbVV0aWxzLmFkZENsYXNzKGhvbGRlciwgImVkdWktIiArIGVkaXRvci5vcHRpb25zLnRoZW1lKTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnVpLnJlbmRlcihob2xkZXIpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgb3B0ID0gZWRpdG9yLm9wdGlvbnM7DQogICAgICAgICAgICAgICAgICAgIC8v57uZ5a6e5L6L5re75Yqg5LiA5Liq57yW6L6R5Zmo55qE5a655Zmo5byV55SoDQogICAgICAgICAgICAgICAgICAgIGVkaXRvci5jb250YWluZXIgPSBlZGl0b3IudWkuZ2V0RG9tKCk7DQogICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRzID0gZG9tVXRpbHMuZmluZFBhcmVudHMoaG9sZGVyLHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZGlzcGxheXMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCAsY2k7Y2k9cGFyZW50c1tpXTtpKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheXNbaV0gPSBjaS5zdHlsZS5kaXNwbGF5Ow0KICAgICAgICAgICAgICAgICAgICAgICAgY2kuc3R5bGUuZGlzcGxheSA9ICdibG9jaycNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAob3B0LmluaXRpYWxGcmFtZVdpZHRoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHQubWluRnJhbWVXaWR0aCA9IG9wdC5pbml0aWFsRnJhbWVXaWR0aDsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdC5taW5GcmFtZVdpZHRoID0gb3B0LmluaXRpYWxGcmFtZVdpZHRoID0gaG9sZGVyLm9mZnNldFdpZHRoOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmIChvcHQuaW5pdGlhbEZyYW1lSGVpZ2h0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBvcHQubWluRnJhbWVIZWlnaHQgPSBvcHQuaW5pdGlhbEZyYW1lSGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgb3B0LmluaXRpYWxGcmFtZUhlaWdodCA9IG9wdC5taW5GcmFtZUhlaWdodCA9IGhvbGRlci5vZmZzZXRIZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMCAsY2k7Y2k9cGFyZW50c1tpXTtpKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgY2kuc3R5bGUuZGlzcGxheSA9ICBkaXNwbGF5c1tpXQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIC8v57yW6L6R5Zmo5pyA5aSW5a655Zmo6K6+572u5LqG6auY5bqm77yM5Lya5a+86Ie077yM57yW6L6R5Zmo5LiN5Y2g5L2NDQogICAgICAgICAgICAgICAgICAgIC8vdG9kbyDlhYjljrvmjonvvIzmsqHmnInmib7liLDljp/lm6ANCiAgICAgICAgICAgICAgICAgICAgaWYoaG9sZGVyLnN0eWxlLmhlaWdodCl7DQogICAgICAgICAgICAgICAgICAgICAgICBob2xkZXIuc3R5bGUuaGVpZ2h0ID0gJycNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlZGl0b3IuY29udGFpbmVyLnN0eWxlLndpZHRoID0gb3B0LmluaXRpYWxGcmFtZVdpZHRoICsgKC8lJC8udGVzdChvcHQuaW5pdGlhbEZyYW1lV2lkdGgpID8gJycgOiAncHgnKTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmNvbnRhaW5lci5zdHlsZS56SW5kZXggPSBvcHQuekluZGV4Ow0KICAgICAgICAgICAgICAgICAgICBvbGRSZW5kZXIuY2FsbChlZGl0b3IsIGVkaXRvci51aS5nZXREb20oJ2lmcmFtZWhvbGRlcicpKTsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLmZpcmVFdmVudCgiYWZ0ZXJ1aXJlYWR5Iik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSkNCiAgICAgICAgfTsNCiAgICAgICAgcmV0dXJuIGVkaXRvcjsNCiAgICB9Ow0KDQoNCiAgICAvKioNCiAgICAgKiBAZmlsZQ0KICAgICAqIEBuYW1lIFVFDQogICAgICogQHNob3J0IFVFDQogICAgICogQGRlc2MgVUVkaXRvcueahOmhtumDqOWRveWQjeepuumXtA0KICAgICAqLw0KICAgIC8qKg0KICAgICAqIEBuYW1lIGdldEVkaXRvcg0KICAgICAqIEBzaW5jZSAxLjIuNCsNCiAgICAgKiBAZ3JhbW1hciBVRS5nZXRFZGl0b3IoaWQsW29wdF0pICA9PiAgRWRpdG9y5a6e5L6LDQogICAgICogQGRlc2Mg5o+Q5L6b5LiA5Liq5YWo5bGA55qE5pa55rOV5b6X5Yiw57yW6L6R5Zmo5a6e5L6LDQogICAgICoNCiAgICAgKiAqICcnaWQnJyAg5pS+572u57yW6L6R5Zmo55qE5a655ZmoaWQsIOWmguaenOWuueWZqOS4i+eahOe8lui+keWZqOW3sue7j+WtmOWcqO+8jOWwseebtOaOpei/lOWbng0KICAgICAqICogJydvcHQnJyDnvJbovpHlmajnmoTlj6/pgInlj4LmlbANCiAgICAgKiBAZXhhbXBsZQ0KICAgICAqICBVRS5nZXRFZGl0b3IoJ2NvbnRhaW5lcklkJyx7b25yZWFkeTpmdW5jdGlvbigpey8v5Yib5bu65LiA5Liq57yW6L6R5Zmo5a6e5L6LDQogICAgICogICAgICB0aGlzLnNldENvbnRlbnQoJ2hlbGxvJykNCiAgICAgKiAgfX0pOw0KICAgICAqICBVRS5nZXRFZGl0b3IoJ2NvbnRhaW5lcklkJyk7IC8v6L+U5Zue5Yia5Yib5bu655qE5a6e5L6LDQogICAgICoNCiAgICAgKi8NCiAgICBVRS5nZXRFZGl0b3IgPSBmdW5jdGlvbiAoaWQsIG9wdCkgew0KICAgICAgICB2YXIgZWRpdG9yID0gaW5zdGFuY2VzW2lkXTsNCiAgICAgICAgaWYgKCFlZGl0b3IpIHsNCiAgICAgICAgICAgIGVkaXRvciA9IGluc3RhbmNlc1tpZF0gPSBuZXcgVUUudWkuRWRpdG9yKG9wdCk7DQogICAgICAgICAgICBlZGl0b3IucmVuZGVyKGlkKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZWRpdG9yOw0KICAgIH07DQoNCg0KICAgIFVFLmRlbEVkaXRvciA9IGZ1bmN0aW9uIChpZCkgew0KICAgICAgICB2YXIgZWRpdG9yOw0KICAgICAgICBpZiAoZWRpdG9yID0gaW5zdGFuY2VzW2lkXSkgew0KICAgICAgICAgICAgZWRpdG9yLmtleSAmJiBlZGl0b3IuZGVzdHJveSgpOw0KICAgICAgICAgICAgZGVsZXRlIGluc3RhbmNlc1tpZF0NCiAgICAgICAgfQ0KICAgIH0NCn0pKCk7DQovLy9pbXBvcnQgY29yZQ0KLy8vaW1wb3J0IHVpY29yZQ0KIC8vL2NvbW1hbmRzIOihqOaDhQ0KKGZ1bmN0aW9uKCl7DQogICAgdmFyIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLA0KICAgICAgICBQb3B1cCA9IGJhaWR1LmVkaXRvci51aS5Qb3B1cCwNCiAgICAgICAgU3BsaXRCdXR0b24gPSBiYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24sDQogICAgICAgIE11bHRpTWVudVBvcCA9IGJhaWR1LmVkaXRvci51aS5NdWx0aU1lbnVQb3AgPSBmdW5jdGlvbihvcHRpb25zKXsNCiAgICAgICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7DQogICAgICAgICAgICB0aGlzLmluaXRNdWx0aU1lbnUoKTsNCiAgICAgICAgfTsNCg0KICAgIE11bHRpTWVudVBvcC5wcm90b3R5cGUgPSB7DQogICAgICAgIGluaXRNdWx0aU1lbnU6IGZ1bmN0aW9uICgpew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHRoaXMucG9wdXAgPSBuZXcgUG9wdXAoew0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnLA0KICAgICAgICAgICAgICAgIGVkaXRvciA6IG1lLmVkaXRvciwNCiAgICAgICAgICAgICAgICBpZnJhbWVfcmVuZGVyZWQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgIG9uc2hvdzogZnVuY3Rpb24gKCl7DQogICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pZnJhbWVfcmVuZGVyZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaWZyYW1lX3JlbmRlcmVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RG9tKCdjb250ZW50JykuaW5uZXJIVE1MID0gJzxpZnJhbWUgaWQ9IicrbWUuaWQrJ19pZnJhbWUiIHNyYz0iJysgbWUuaWZyYW1lVXJsICsnIiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+JzsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4ICYmICh0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCA9IG1lLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4ICogMSArIDEpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgLy8gY2FuU2lkZVVwOmZhbHNlLA0KICAgICAgICAgICAgICAgLy8gY2FuU2lkZUxlZnQ6ZmFsc2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5vbmJ1dHRvbmNsaWNrID0gZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dQb3B1cCgpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIHRoaXMuaW5pdFNwbGl0QnV0dG9uKCk7DQogICAgICAgIH0NCg0KICAgIH07DQoNCiAgICB1dGlscy5pbmhlcml0cyhNdWx0aU1lbnVQb3AsIFNwbGl0QnV0dG9uKTsNCn0pKCk7DQoNCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgVUkgPSBiYWlkdS5lZGl0b3IudWksCiAgICAgICAgVUlCYXNlID0gVUkuVUlCYXNlLAogICAgICAgIHVpVXRpbHMgPSBVSS51aVV0aWxzLAogICAgICAgIHV0aWxzID0gYmFpZHUuZWRpdG9yLnV0aWxzLAogICAgICAgIGRvbVV0aWxzID0gYmFpZHUuZWRpdG9yLmRvbS5kb21VdGlsczsKCiAgICB2YXIgYWxsTWVudXMgPSBbXSwvL+WtmOWCqOaJgOacieW/q+aNt+iPnOWNlQogICAgICAgIHRpbWVJRCwKICAgICAgICBpc1N1Yk1lbnVTaG93ID0gZmFsc2U7Ly/mmK/lkKbmnInlrZBwb3DmmL7npLoKCiAgICB2YXIgU2hvcnRDdXRNZW51ID0gVUkuU2hvcnRDdXRNZW51ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICAgICAgICB0aGlzLmluaXRPcHRpb25zIChvcHRpb25zKTsKICAgICAgICB0aGlzLmluaXRTaG9ydEN1dE1lbnUgKCk7CiAgICB9OwoKICAgIFNob3J0Q3V0TWVudS5wb3N0SGlkZSA9IGhpZGVBbGxNZW51OwoKICAgIFNob3J0Q3V0TWVudS5wcm90b3R5cGUgPSB7CiAgICAgICAgaXNIaWRkZW4gOiB0cnVlICwKICAgICAgICBTUEFDRSA6IDUgLAogICAgICAgIGluaXRTaG9ydEN1dE1lbnUgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuaXRlbXMgPSB0aGlzLml0ZW1zIHx8IFtdOwogICAgICAgICAgICB0aGlzLmluaXRVSUJhc2UgKCk7CiAgICAgICAgICAgIHRoaXMuaW5pdEl0ZW1zICgpOwogICAgICAgICAgICB0aGlzLmluaXRFdmVudCAoKTsKICAgICAgICAgICAgYWxsTWVudXMucHVzaCAodGhpcyk7CiAgICAgICAgfSAsCiAgICAgICAgaW5pdEV2ZW50IDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLAogICAgICAgICAgICAgICAgZG9jID0gbWUuZWRpdG9yLmRvY3VtZW50OwoKICAgICAgICAgICAgZG9tVXRpbHMub24gKGRvYyAsICJtb3VzZW1vdmUiICwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIGlmIChtZS5pc0hpZGRlbiA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgICAvL+aciXBvcOaYvuekuuWwseS4jemakOiXj+W/q+aNt+iPnOWNlQogICAgICAgICAgICAgICAgICAgIGlmIChtZS5nZXRTdWJNZW51TWFyayAoKSB8fCBtZS5ldmVudFR5cGUgPT0gImNvbnRleHRtZW51IikgICByZXR1cm47CgoKICAgICAgICAgICAgICAgICAgICB2YXIgZmxhZyA9IHRydWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGVsID0gbWUuZ2V0RG9tICgpLAogICAgICAgICAgICAgICAgICAgICAgICB3dCA9IGVsLm9mZnNldFdpZHRoLAogICAgICAgICAgICAgICAgICAgICAgICBodCA9IGVsLm9mZnNldEhlaWdodCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VYID0gd3QgLyAyICsgbWUuU1BBQ0UsLy/ot53nprvkuK3lv4NY5qCH5YeGCiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlWSA9IGh0IC8gMiwvL+i3neemu+S4reW/g1nmoIflh4YKICAgICAgICAgICAgICAgICAgICAgICAgeCA9IE1hdGguYWJzIChlLnNjcmVlblggLSBtZS5sZWZ0KSwvL+emu+S4reW/g+i3neemu+aoquWdkOaghwogICAgICAgICAgICAgICAgICAgICAgICB5ID0gTWF0aC5hYnMgKGUuc2NyZWVuWSAtIG1lLnRvcCk7Ly/nprvkuK3lv4Pot53nprvnurXlnZDmoIcKCiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0ICh0aW1lSUQpOwogICAgICAgICAgICAgICAgICAgIHRpbWVJRCA9IHNldFRpbWVvdXQgKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHkgPiAwICYmIHkgPCBkaXN0YW5jZVkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNldE9wYWNpdHkgKGVsICwgIjEiKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh5ID4gZGlzdGFuY2VZICYmIHkgPCBkaXN0YW5jZVkgKyA3MCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWUuc2V0T3BhY2l0eSAoZWwgLCAiMC41Iik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA+IGRpc3RhbmNlWSArIDcwICYmIHkgPCBkaXN0YW5jZVkgKyAxNDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLmhpZGUgKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbGFnICYmIHggPiAwICYmIHggPCBkaXN0YW5jZVgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lLnNldE9wYWNpdHkgKGVsICwgIjEiKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHggPiBkaXN0YW5jZVggJiYgeCA8IGRpc3RhbmNlWCArIDcwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5zZXRPcGFjaXR5IChlbCAsICIwLjUiKQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHggPiBkaXN0YW5jZVggKyA3MCAmJiB4IDwgZGlzdGFuY2VYICsgMTQwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZS5oaWRlICgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy9pZVxmZuS4iyBtb3VzZW91dOS4jeWHhgogICAgICAgICAgICBpZiAoYnJvd3Nlci5jaHJvbWUpIHsKICAgICAgICAgICAgICAgIGRvbVV0aWxzLm9uIChkb2MgLCAibW91c2VvdXQiICwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRlZFRndCA9IGUucmVsYXRlZFRhcmdldCB8fCBlLnRvRWxlbWVudDsKCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbGF0ZWRUZ3QgPT0gbnVsbCB8fCByZWxhdGVkVGd0LnRhZ05hbWUgPT0gIkhUTUwiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1lLmhpZGUgKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG1lLmVkaXRvci5hZGRMaXN0ZW5lciAoImFmdGVyaGlkZXBvcCIgLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBpZiAoIW1lLmlzSGlkZGVuKSB7CiAgICAgICAgICAgICAgICAgICAgaXNTdWJNZW51U2hvdyA9IHRydWU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9ICwKICAgICAgICBpbml0SXRlbXMgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh1dGlscy5pc0FycmF5ICh0aGlzLml0ZW1zKSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoIDsgaSA8IGxlbiA7IGkrKykgewogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcy5pdGVtc1tpXS50b0xvd2VyQ2FzZSAoKTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKFVJW2l0ZW1dKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0gPSBuZXcgVUlbaXRlbV0gKHRoaXMuZWRpdG9yKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtc1tpXS5jbGFzc05hbWUgKz0gIiBlZHVpLXNob3J0Y3V0c3VibWVudSAiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0gLAogICAgICAgIHNldE9wYWNpdHkgOiBmdW5jdGlvbiAoZWwgLCB2YWx1ZSkgewogICAgICAgICAgICBpZiAoYnJvd3Nlci5pZSAmJiBicm93c2VyLnZlcnNpb24gPCA5KSB7CiAgICAgICAgICAgICAgICBlbC5zdHlsZS5maWx0ZXIgPSAiYWxwaGEob3BhY2l0eSA9ICIgKyBwYXJzZUZsb2F0ICh2YWx1ZSkgKiAxMDAgKyAiKTsiCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gdmFsdWU7CiAgICAgICAgICAgIH0KICAgICAgICB9ICwKICAgICAgICBnZXRTdWJNZW51TWFyayA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaXNTdWJNZW51U2hvdyA9IGZhbHNlOwogICAgICAgICAgICB2YXIgbGF5ZXJFbGUgPSB1aVV0aWxzLmdldEZpeGVkTGF5ZXIgKCk7CiAgICAgICAgICAgIHZhciBsaXN0ID0gZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUgKGxheWVyRWxlICwgImRpdiIgLCBmdW5jdGlvbiAobm9kZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGRvbVV0aWxzLmhhc0NsYXNzIChub2RlICwgImVkdWktc2hvcnRjdXRzdWJtZW51IGVkdWktcG9wdXAiKQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBub2RlIDsgbm9kZSA9IGxpc3RbaSsrXSA7KSB7CiAgICAgICAgICAgICAgICBpZiAobm9kZS5zdHlsZS5kaXNwbGF5ICE9ICJub25lIikgewogICAgICAgICAgICAgICAgICAgIGlzU3ViTWVudVNob3cgPSB0cnVlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBpc1N1Yk1lbnVTaG93OwogICAgICAgIH0gLAogICAgICAgIHNob3cgOiBmdW5jdGlvbiAoZSAsIGhhc0NvbnRleHRtZW51KSB7CiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsCiAgICAgICAgICAgICAgICBvZmZzZXQgPSB7fSwKICAgICAgICAgICAgICAgIGVsID0gdGhpcy5nZXREb20gKCksCiAgICAgICAgICAgICAgICBmaXhlZGxheWVyID0gdWlVdGlscy5nZXRGaXhlZExheWVyICgpOwoKICAgICAgICAgICAgZnVuY3Rpb24gc2V0UG9zIChvZmZzZXQpIHsKICAgICAgICAgICAgICAgIGlmIChvZmZzZXQubGVmdCA8IDApIHsKICAgICAgICAgICAgICAgICAgICBvZmZzZXQubGVmdCA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0LnRvcCA8IDApIHsKICAgICAgICAgICAgICAgICAgICBvZmZzZXQudG9wID0gMDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSAicG9zaXRpb246YWJzb2x1dGU7bGVmdDoiICsgb2Zmc2V0LmxlZnQgKyAicHg7dG9wOiIgKyBvZmZzZXQudG9wICsgInB4OyI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFBvc0J5Q3h0TWVudSAobWVudSkgewogICAgICAgICAgICAgICAgaWYgKCFtZW51LnRhZ05hbWUpIHsKICAgICAgICAgICAgICAgICAgICBtZW51ID0gbWVudS5nZXREb20gKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBvZmZzZXQubGVmdCA9IHBhcnNlSW50IChtZW51LnN0eWxlLmxlZnQpOwogICAgICAgICAgICAgICAgb2Zmc2V0LnRvcCA9IHBhcnNlSW50IChtZW51LnN0eWxlLnRvcCk7CiAgICAgICAgICAgICAgICBvZmZzZXQudG9wIC09IGVsLm9mZnNldEhlaWdodCArIDE1OwogICAgICAgICAgICAgICAgc2V0UG9zIChvZmZzZXQpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgbWUuZXZlbnRUeXBlID0gZS50eXBlOwogICAgICAgICAgICBlbC5zdHlsZS5jc3NUZXh0ID0gImRpc3BsYXk6YmxvY2s7bGVmdDotOTk5OXB4IjsKCiAgICAgICAgICAgIGlmIChlLnR5cGUgPT0gImNvbnRleHRtZW51IiAmJiBoYXNDb250ZXh0bWVudSkgewogICAgICAgICAgICAgICAgdmFyIG1lbnUgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSAoZml4ZWRsYXllciAsICJkaXYiICwgImVkdWktY29udGV4dG1lbnUiKVswXTsKICAgICAgICAgICAgICAgIGlmIChtZW51KSB7CiAgICAgICAgICAgICAgICAgICAgc2V0UG9zQnlDeHRNZW51IChtZW51KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBtZS5lZGl0b3IuYWRkTGlzdGVuZXIgKCJhZnRlcnNob3djb250ZXh0bWVudSIgLCBmdW5jdGlvbiAodHlwZSAsIG1lbnUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0UG9zQnlDeHRNZW51IChtZW51KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIG9mZnNldCA9IHVpVXRpbHMuZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50IChlKTsKICAgICAgICAgICAgICAgIG9mZnNldC50b3AgLT0gZWwub2Zmc2V0SGVpZ2h0ICsgbWUuU1BBQ0U7CiAgICAgICAgICAgICAgICBvZmZzZXQubGVmdCArPSBtZS5TUEFDRSArIDIwOwogICAgICAgICAgICAgICAgc2V0UG9zIChvZmZzZXQpOwogICAgICAgICAgICAgICAgbWUuc2V0T3BhY2l0eSAoZWwgLCAwLjIpOwogICAgICAgICAgICB9CgoKICAgICAgICAgICAgbWUuaXNIaWRkZW4gPSBmYWxzZTsKICAgICAgICAgICAgbWUubGVmdCA9IGUuc2NyZWVuWCArIGVsLm9mZnNldFdpZHRoIC8gMiAtIG1lLlNQQUNFOwogICAgICAgICAgICBtZS50b3AgPSBlLnNjcmVlblkgLSAoZWwub2Zmc2V0SGVpZ2h0IC8gMikgLSBtZS5TUEFDRTsKCiAgICAgICAgICAgIGlmIChtZS5lZGl0b3IpIHsKICAgICAgICAgICAgICAgIGVsLnN0eWxlLnpJbmRleCA9IG1lLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4ICogMSArIDEwOwogICAgICAgICAgICAgICAgZml4ZWRsYXllci5zdHlsZS56SW5kZXggPSBlbC5zdHlsZS56SW5kZXggLSAxOwogICAgICAgICAgICB9CiAgICAgICAgfSAsCiAgICAgICAgaGlkZSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RG9tICgpKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldERvbSAoKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuaXNIaWRkZW4gPSB0cnVlOwogICAgICAgIH0gLAogICAgICAgIHBvc3RSZW5kZXIgOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh1dGlscy5pc0FycmF5ICh0aGlzLml0ZW1zKSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGl0ZW0gOyBpdGVtID0gdGhpcy5pdGVtc1tpKytdIDspIHsKICAgICAgICAgICAgICAgICAgICBpdGVtLnBvc3RSZW5kZXIgKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9ICwKICAgICAgICBnZXRIdG1sVHBsIDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgYnVmZjsKICAgICAgICAgICAgaWYgKHV0aWxzLmlzQXJyYXkgKHRoaXMuaXRlbXMpKSB7CiAgICAgICAgICAgICAgICBidWZmID0gW107CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aCA7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGJ1ZmZbaV0gPSB0aGlzLml0ZW1zW2ldLnJlbmRlckh0bWwgKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBidWZmID0gYnVmZi5qb2luICgiIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBidWZmID0gdGhpcy5pdGVtczsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuICc8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIGVkdWktdG9vbGJhciIgZGF0YS1zcmM9InNob3J0Y3V0bWVudSIgb25tb3VzZWRvd249InJldHVybiBmYWxzZTsiIG9uc2VsZWN0c3RhcnQ9InJldHVybiBmYWxzZTsiID4nICsKICAgICAgICAgICAgICAgIGJ1ZmYgKwogICAgICAgICAgICAgICAgJzwvZGl2Pic7CiAgICAgICAgfQogICAgfTsKCiAgICB1dGlscy5pbmhlcml0cyAoU2hvcnRDdXRNZW51ICwgVUlCYXNlKTsKCiAgICBmdW5jdGlvbiBoaWRlQWxsTWVudSAoZSkgewogICAgICAgIHZhciB0Z3QgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQsCiAgICAgICAgICAgIGN1ciA9IGRvbVV0aWxzLmZpbmRQYXJlbnQgKHRndCAsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZG9tVXRpbHMuaGFzQ2xhc3MgKG5vZGUgLCAiZWR1aS1zaG9ydGN1dG1lbnUiKSB8fCBkb21VdGlscy5oYXNDbGFzcyAobm9kZSAsICJlZHVpLXBvcHVwIik7CiAgICAgICAgICAgIH0gLCB0cnVlKTsKCiAgICAgICAgaWYgKCFjdXIpIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG1lbnUgOyBtZW51ID0gYWxsTWVudXNbaSsrXSA7KSB7CiAgICAgICAgICAgICAgICBtZW51LmhpZGUgKCkKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICBkb21VdGlscy5vbiAoZG9jdW1lbnQgLCAnbW91c2Vkb3duJyAsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaGlkZUFsbE1lbnUgKGUpOwogICAgfSk7CgogICAgZG9tVXRpbHMub24gKHdpbmRvdyAsICdzY3JvbGwnICwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBoaWRlQWxsTWVudSAoZSk7CiAgICB9KTsKCn0pICgpOwoNCihmdW5jdGlvbiAoKXsKICAgIHZhciB1dGlscyA9IGJhaWR1LmVkaXRvci51dGlscywKICAgICAgICBVSUJhc2UgPSBiYWlkdS5lZGl0b3IudWkuVUlCYXNlLAogICAgICAgIEJyZWFrbGluZSA9IGJhaWR1LmVkaXRvci51aS5CcmVha2xpbmUgPSBmdW5jdGlvbiAob3B0aW9ucyl7CiAgICAgICAgICAgIHRoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7CiAgICAgICAgICAgIHRoaXMuaW5pdFNlcGFyYXRvcigpOwogICAgICAgIH07CiAgICBCcmVha2xpbmUucHJvdG90eXBlID0gewogICAgICAgIHVpTmFtZTogJ0JyZWFrbGluZScsCiAgICAgICAgaW5pdFNlcGFyYXRvcjogZnVuY3Rpb24gKCl7CiAgICAgICAgICAgIHRoaXMuaW5pdFVJQmFzZSgpOwogICAgICAgIH0sCiAgICAgICAgZ2V0SHRtbFRwbDogZnVuY3Rpb24gKCl7CiAgICAgICAgICAgIHJldHVybiAnPGJyLz4nOwogICAgICAgIH0KICAgIH07CiAgICB1dGlscy5pbmhlcml0cyhCcmVha2xpbmUsIFVJQmFzZSk7Cgp9KSgpOwoNCg0KfSkoKQ==</file>
	<file name='zb_system\ADMIN\ueditor\ueditor.all.min.js' crc32='8E392627'  dt:dt='bin.base64'>LyohCiAqIFVFZGl0b3IKICogdmVyc2lvbjogMS4zLjYKICogYnVpbGQ6IFdlZCBKYW4gMDEgMjAxNCAyMDo1MDozNSBHTVQrMDgwMCAo5Lit5Zu95qCH5YeG5pe26Ze0KQogKi8KKGZ1bmN0aW9uKCl7VUVESVRPUl9DT05GSUc9d2luZG93LlVFRElUT1JfQ09ORklHfHx7fTt2YXIgYmFpZHU9d2luZG93LmJhaWR1fHx7fTt3aW5kb3cuYmFpZHU9YmFpZHU7d2luZG93LlVFPWJhaWR1LmVkaXRvcj13aW5kb3cuVUV8fHt9O1VFLnBsdWdpbnM9e307VUUuY29tbWFuZHM9e307VUUuaW5zdGFudHM9e307VUUuSTE4Tj17fTtVRS52ZXJzaW9uPSIxLjMuNiI7dmFyIGRvbT1VRS5kb209e307dmFyIGJyb3dzZXI9VUUuYnJvd3Nlcj1mdW5jdGlvbigpe3ZhciBhZ2VudD1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksb3BlcmE9d2luZG93Lm9wZXJhLGJyb3dzZXI9e2llOi8obXNpZVxzfHRyaWRlbnQuKnJ2OikoW1x3Ll0rKS8udGVzdChhZ2VudCksb3BlcmE6KCEhb3BlcmEmJm9wZXJhLnZlcnNpb24pLHdlYmtpdDooYWdlbnQuaW5kZXhPZigiIGFwcGxld2Via2l0LyIpPi0xKSxtYWM6KGFnZW50LmluZGV4T2YoIm1hY2ludG9zaCIpPi0xKSxxdWlya3M6KGRvY3VtZW50LmNvbXBhdE1vZGU9PSJCYWNrQ29tcGF0Iil9O2Jyb3dzZXIuZ2Vja289KG5hdmlnYXRvci5wcm9kdWN0PT0iR2Vja28iJiYhYnJvd3Nlci53ZWJraXQmJiFicm93c2VyLm9wZXJhJiYhYnJvd3Nlci5pZSk7dmFyIHZlcnNpb249MDtpZihicm93c2VyLmllKXt2ZXJzaW9uPShhZ2VudC5tYXRjaCgvKG1zaWVcc3x0cmlkZW50LipydjopKFtcdy5dKykvKVsyXXx8MCkqMTticm93c2VyLmllMTFDb21wYXQ9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPT0xMTticm93c2VyLmllOUNvbXBhdD1kb2N1bWVudC5kb2N1bWVudE1vZGU9PTk7YnJvd3Nlci5pZTg9ISFkb2N1bWVudC5kb2N1bWVudE1vZGU7YnJvd3Nlci5pZThDb21wYXQ9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPT04O2Jyb3dzZXIuaWU3Q29tcGF0PSgodmVyc2lvbj09NyYmIWRvY3VtZW50LmRvY3VtZW50TW9kZSl8fGRvY3VtZW50LmRvY3VtZW50TW9kZT09Nyk7YnJvd3Nlci5pZTZDb21wYXQ9KHZlcnNpb248N3x8YnJvd3Nlci5xdWlya3MpO2Jyb3dzZXIuaWU5YWJvdmU9dmVyc2lvbj44O2Jyb3dzZXIuaWU5YmVsb3c9dmVyc2lvbjw5fWlmKGJyb3dzZXIuZ2Vja28pe3ZhciBnZWNrb1JlbGVhc2U9YWdlbnQubWF0Y2goL3J2OihbXGRcLl0rKS8pO2lmKGdlY2tvUmVsZWFzZSl7Z2Vja29SZWxlYXNlPWdlY2tvUmVsZWFzZVsxXS5zcGxpdCgiLiIpO3ZlcnNpb249Z2Vja29SZWxlYXNlWzBdKjEwMDAwKyhnZWNrb1JlbGVhc2VbMV18fDApKjEwMCsoZ2Vja29SZWxlYXNlWzJdfHwwKSoxfX1pZigvY2hyb21lXC8oXGQrXC5cZCkvaS50ZXN0KGFnZW50KSl7YnJvd3Nlci5jaHJvbWU9K1JlZ0V4cFsiXHgyNDEiXX1pZigvKFxkK1wuXGQpPyg/OlwuXGQpP1xzK3NhZmFyaVwvPyhcZCtcLlxkKyk/L2kudGVzdChhZ2VudCkmJiEvY2hyb21lL2kudGVzdChhZ2VudCkpe2Jyb3dzZXIuc2FmYXJpPSsoUmVnRXhwWyJceDI0MSJdfHxSZWdFeHBbIlx4MjQyIl0pfWlmKGJyb3dzZXIub3BlcmEpe3ZlcnNpb249cGFyc2VGbG9hdChvcGVyYS52ZXJzaW9uKCkpfWlmKGJyb3dzZXIud2Via2l0KXt2ZXJzaW9uPXBhcnNlRmxvYXQoYWdlbnQubWF0Y2goLyBhcHBsZXdlYmtpdFwvKFxkKykvKVsxXSl9YnJvd3Nlci52ZXJzaW9uPXZlcnNpb247YnJvd3Nlci5pc0NvbXBhdGlibGU9IWJyb3dzZXIubW9iaWxlJiYoKGJyb3dzZXIuaWUmJnZlcnNpb24+PTYpfHwoYnJvd3Nlci5nZWNrbyYmdmVyc2lvbj49MTA4MDEpfHwoYnJvd3Nlci5vcGVyYSYmdmVyc2lvbj49OS41KXx8KGJyb3dzZXIuYWlyJiZ2ZXJzaW9uPj0xKXx8KGJyb3dzZXIud2Via2l0JiZ2ZXJzaW9uPj01MjIpfHxmYWxzZSk7cmV0dXJuIGJyb3dzZXJ9KCk7dmFyIGllPWJyb3dzZXIuaWUsd2Via2l0PWJyb3dzZXIud2Via2l0LGdlY2tvPWJyb3dzZXIuZ2Vja28sb3BlcmE9YnJvd3Nlci5vcGVyYTt2YXIgdXRpbHM9VUUudXRpbHM9e2VhY2g6ZnVuY3Rpb24ob2JqLGl0ZXJhdG9yLGNvbnRleHQpe2lmKG9iaj09bnVsbCl7cmV0dXJufWlmKG9iai5sZW5ndGg9PT0rb2JqLmxlbmd0aCl7Zm9yKHZhciBpPTAsbD1vYmoubGVuZ3RoO2k8bDtpKyspe2lmKGl0ZXJhdG9yLmNhbGwoY29udGV4dCxvYmpbaV0saSxvYmopPT09ZmFsc2Upe3JldHVybiBmYWxzZX19fWVsc2V7Zm9yKHZhciBrZXkgaW4gb2JqKXtpZihvYmouaGFzT3duUHJvcGVydHkoa2V5KSl7aWYoaXRlcmF0b3IuY2FsbChjb250ZXh0LG9ialtrZXldLGtleSxvYmopPT09ZmFsc2Upe3JldHVybiBmYWxzZX19fX19LG1ha2VJbnN0YW5jZTpmdW5jdGlvbihvYmope3ZhciBub29wPW5ldyBGdW5jdGlvbigpO25vb3AucHJvdG90eXBlPW9iajtvYmo9bmV3IG5vb3A7bm9vcC5wcm90b3R5cGU9bnVsbDtyZXR1cm4gb2JqfSxleHRlbmQ6ZnVuY3Rpb24odCxzLGIpe2lmKHMpe2Zvcih2YXIgayBpbiBzKXtpZighYnx8IXQuaGFzT3duUHJvcGVydHkoaykpe3Rba109c1trXX19fXJldHVybiB0fSxleHRlbmQyOmZ1bmN0aW9uKHQpe3ZhciBhPWFyZ3VtZW50cztmb3IodmFyIGk9MTtpPGEubGVuZ3RoO2krKyl7dmFyIHg9YVtpXTtmb3IodmFyIGsgaW4geCl7aWYoIXQuaGFzT3duUHJvcGVydHkoaykpe3Rba109eFtrXX19fXJldHVybiB0fSxpbmhlcml0czpmdW5jdGlvbihzdWJDbGFzcyxzdXBlckNsYXNzKXt2YXIgb2xkUD1zdWJDbGFzcy5wcm90b3R5cGUsbmV3UD11dGlscy5tYWtlSW5zdGFuY2Uoc3VwZXJDbGFzcy5wcm90b3R5cGUpO3V0aWxzLmV4dGVuZChuZXdQLG9sZFAsdHJ1ZSk7c3ViQ2xhc3MucHJvdG90eXBlPW5ld1A7cmV0dXJuKG5ld1AuY29uc3RydWN0b3I9c3ViQ2xhc3MpfSxiaW5kOmZ1bmN0aW9uKGZuLGNvbnRleHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmbi5hcHBseShjb250ZXh0LGFyZ3VtZW50cyl9fSxkZWZlcjpmdW5jdGlvbihmbixkZWxheSxleGNsdXNpb24pe3ZhciB0aW1lcklEO3JldHVybiBmdW5jdGlvbigpe2lmKGV4Y2x1c2lvbil7Y2xlYXJUaW1lb3V0KHRpbWVySUQpfXRpbWVySUQ9c2V0VGltZW91dChmbixkZWxheSl9fSxpbmRleE9mOmZ1bmN0aW9uKGFycmF5LGl0ZW0sc3RhcnQpe3ZhciBpbmRleD0tMTtzdGFydD10aGlzLmlzTnVtYmVyKHN0YXJ0KT9zdGFydDowO3RoaXMuZWFjaChhcnJheSxmdW5jdGlvbih2LGkpe2lmKGk+PXN0YXJ0JiZ2PT09aXRlbSl7aW5kZXg9aTtyZXR1cm4gZmFsc2V9fSk7cmV0dXJuIGluZGV4fSxyZW1vdmVJdGVtOmZ1bmN0aW9uKGFycmF5LGl0ZW0pe2Zvcih2YXIgaT0wLGw9YXJyYXkubGVuZ3RoO2k8bDtpKyspe2lmKGFycmF5W2ldPT09aXRlbSl7YXJyYXkuc3BsaWNlKGksMSk7aS0tfX19LHRyaW06ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyLnJlcGxhY2UoLyheWyBcdFxuXHJdKyl8KFsgXHRcblxyXSskKS9nLCIiKX0sbGlzdFRvTWFwOmZ1bmN0aW9uKGxpc3Qpe2lmKCFsaXN0KXtyZXR1cm57fX1saXN0PXV0aWxzLmlzQXJyYXkobGlzdCk/bGlzdDpsaXN0LnNwbGl0KCIsIik7Zm9yKHZhciBpPTAsY2ksb2JqPXt9O2NpPWxpc3RbaSsrXTspe29ialtjaS50b1VwcGVyQ2FzZSgpXT1vYmpbY2ldPTF9cmV0dXJuIG9ian0sdW5odG1sOmZ1bmN0aW9uKHN0cixyZWcpe3JldHVybiBzdHI/c3RyLnJlcGxhY2UocmVnfHwvWyY8Ij4nXSg/OihhbXB8bHR8cXVvdHxndHwjMzl8bmJzcCk7KT8vZyxmdW5jdGlvbihhLGIpe2lmKGIpe3JldHVybiBhfWVsc2V7cmV0dXJueyI8IjoiJmx0OyIsIiYiOiImYW1wOyIsJyInOiImcXVvdDsiLCI+IjoiJmd0OyIsIiciOiImIzM5OyJ9W2FdfX0pOiIifSxodG1sOmZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0cj9zdHIucmVwbGFjZSgvJigoZ3xsfHF1byl0fGFtcHwjMzl8bmJzcCk7L2csZnVuY3Rpb24obSl7cmV0dXJueyImbHQ7IjoiPCIsIiZhbXA7IjoiJiIsIiZxdW90OyI6JyInLCImZ3Q7IjoiPiIsIiYjMzk7IjoiJyIsIiZuYnNwOyI6IiAifVttXX0pOiIifSxjc3NTdHlsZVRvRG9tU3R5bGU6ZnVuY3Rpb24oKXt2YXIgdGVzdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSxjYWNoZT17ImZsb2F0Ijp0ZXN0LmNzc0Zsb2F0IT11bmRlZmluZWQ/ImNzc0Zsb2F0Ijp0ZXN0LnN0eWxlRmxvYXQhPXVuZGVmaW5lZD8ic3R5bGVGbG9hdCI6ImZsb2F0In07cmV0dXJuIGZ1bmN0aW9uKGNzc05hbWUpe3JldHVybiBjYWNoZVtjc3NOYW1lXXx8KGNhY2hlW2Nzc05hbWVdPWNzc05hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tLi9nLGZ1bmN0aW9uKG1hdGNoKXtyZXR1cm4gbWF0Y2guY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9KSl9fSgpLGxvYWRGaWxlOmZ1bmN0aW9uKCl7dmFyIHRtcExpc3Q9W107ZnVuY3Rpb24gZ2V0SXRlbShkb2Msb2JqKXt0cnl7Zm9yKHZhciBpPTAsY2k7Y2k9dG1wTGlzdFtpKytdOyl7aWYoY2kuZG9jPT09ZG9jJiZjaS51cmw9PShvYmouc3JjfHxvYmouaHJlZikpe3JldHVybiBjaX19fWNhdGNoKGUpe3JldHVybiBudWxsfX1yZXR1cm4gZnVuY3Rpb24oZG9jLG9iaixmbil7dmFyIGl0ZW09Z2V0SXRlbShkb2Msb2JqKTtpZihpdGVtKXtpZihpdGVtLnJlYWR5KXtmbiYmZm4oKX1lbHNle2l0ZW0uZnVucy5wdXNoKGZuKX1yZXR1cm59dG1wTGlzdC5wdXNoKHtkb2M6ZG9jLHVybDpvYmouc3JjfHxvYmouaHJlZixmdW5zOltmbl19KTtpZighZG9jLmJvZHkpe3ZhciBodG1sPVtdO2Zvcih2YXIgcCBpbiBvYmope2lmKHA9PSJ0YWciKXtjb250aW51ZX1odG1sLnB1c2gocCsnPSInK29ialtwXSsnIicpfWRvYy53cml0ZSgiPCIrb2JqLnRhZysiICIraHRtbC5qb2luKCIgIikrIiA+PC8iK29iai50YWcrIj4iKTtyZXR1cm59aWYob2JqLmlkJiZkb2MuZ2V0RWxlbWVudEJ5SWQob2JqLmlkKSl7cmV0dXJufXZhciBlbGVtZW50PWRvYy5jcmVhdGVFbGVtZW50KG9iai50YWcpO2RlbGV0ZSBvYmoudGFnO2Zvcih2YXIgcCBpbiBvYmope2VsZW1lbnQuc2V0QXR0cmlidXRlKHAsb2JqW3BdKX1lbGVtZW50Lm9ubG9hZD1lbGVtZW50Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKCF0aGlzLnJlYWR5U3RhdGV8fC9sb2FkZWR8Y29tcGxldGUvLnRlc3QodGhpcy5yZWFkeVN0YXRlKSl7aXRlbT1nZXRJdGVtKGRvYyxvYmopO2lmKGl0ZW0uZnVucy5sZW5ndGg+MCl7aXRlbS5yZWFkeT0xO2Zvcih2YXIgZmk7Zmk9aXRlbS5mdW5zLnBvcCgpOyl7ZmkoKX19ZWxlbWVudC5vbmxvYWQ9ZWxlbWVudC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbH19O2VsZW1lbnQub25lcnJvcj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJUaGUgbG9hZCAiKyhvYmouaHJlZnx8b2JqLnNyYykrIiBmYWlscyxjaGVjayB0aGUgdXJsIHNldHRpbmdzIG9mIGZpbGUgdWVkaXRvci5jb25maWcuanMgIil9O2RvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLmFwcGVuZENoaWxkKGVsZW1lbnQpfX0oKSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG9iail7aWYob2JqPT1udWxsKXtyZXR1cm4gdHJ1ZX1pZih0aGlzLmlzQXJyYXkob2JqKXx8dGhpcy5pc1N0cmluZyhvYmopKXtyZXR1cm4gb2JqLmxlbmd0aD09PTB9Zm9yKHZhciBrZXkgaW4gb2JqKXtpZihvYmouaGFzT3duUHJvcGVydHkoa2V5KSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX0sZml4Q29sb3I6ZnVuY3Rpb24obmFtZSx2YWx1ZSl7aWYoL2NvbG9yL2kudGVzdChuYW1lKSYmL3JnYmE/Ly50ZXN0KHZhbHVlKSl7dmFyIGFycmF5PXZhbHVlLnNwbGl0KCIsIik7aWYoYXJyYXkubGVuZ3RoPjMpe3JldHVybiIifXZhbHVlPSIjIjtmb3IodmFyIGk9MCxjb2xvcjtjb2xvcj1hcnJheVtpKytdOyl7Y29sb3I9cGFyc2VJbnQoY29sb3IucmVwbGFjZSgvW15cZF0vZ2ksIiIpLDEwKS50b1N0cmluZygxNik7dmFsdWUrPWNvbG9yLmxlbmd0aD09MT8iMCIrY29sb3I6Y29sb3J9dmFsdWU9dmFsdWUudG9VcHBlckNhc2UoKX1yZXR1cm4gdmFsdWV9LG9wdENzczpmdW5jdGlvbih2YWwpe3ZhciBwYWRkaW5nLG1hcmdpbixib3JkZXI7dmFsPXZhbC5yZXBsYWNlKC8ocGFkZGluZ3xtYXJnaW58Ym9yZGVyKVwtKFteOl0rKTooW147XSspOz8vZ2ksZnVuY3Rpb24oc3RyLGtleSxuYW1lLHZhbCl7aWYodmFsLnNwbGl0KCIgIikubGVuZ3RoPT0xKXtzd2l0Y2goa2V5KXtjYXNlInBhZGRpbmciOiFwYWRkaW5nJiYocGFkZGluZz17fSk7cGFkZGluZ1tuYW1lXT12YWw7cmV0dXJuIiI7Y2FzZSJtYXJnaW4iOiFtYXJnaW4mJihtYXJnaW49e30pO21hcmdpbltuYW1lXT12YWw7cmV0dXJuIiI7Y2FzZSJib3JkZXIiOnJldHVybiB2YWw9PSJpbml0aWFsIj8iIjpzdHJ9fXJldHVybiBzdHJ9KTtmdW5jdGlvbiBvcHQob2JqLG5hbWUpe2lmKCFvYmope3JldHVybiIifXZhciB0PW9iai50b3AsYj1vYmouYm90dG9tLGw9b2JqLmxlZnQscj1vYmoucmlnaHQsdmFsPSIiO2lmKCF0fHwhbHx8IWJ8fCFyKXtmb3IodmFyIHAgaW4gb2JqKXt2YWwrPSI7IituYW1lKyItIitwKyI6IitvYmpbcF0rIjsifX1lbHNle3ZhbCs9IjsiK25hbWUrIjoiKyh0PT1iJiZiPT1sJiZsPT1yP3Q6dD09YiYmbD09cj8odCsiICIrbCk6bD09cj8odCsiICIrbCsiICIrYik6KHQrIiAiK3IrIiAiK2IrIiAiK2wpKSsiOyJ9cmV0dXJuIHZhbH12YWwrPW9wdChwYWRkaW5nLCJwYWRkaW5nIikrb3B0KG1hcmdpbiwibWFyZ2luIik7cmV0dXJuIHZhbC5yZXBsYWNlKC9eWyBcblxyXHQ7XSp8WyBcblxyXHRdKiQvLCIiKS5yZXBsYWNlKC87KFsgXG5cclx0XSspfFwxOy9nLCI7IikucmVwbGFjZSgvKCYoKGx8Zyl0fHF1b3R8IzM5KSk/O3syLH0vZyxmdW5jdGlvbihhLGIpe3JldHVybiBiP2IrIjs7IjoiOyJ9KX0sY2xvbmU6ZnVuY3Rpb24oc291cmNlLHRhcmdldCl7dmFyIHRtcDt0YXJnZXQ9dGFyZ2V0fHx7fTtmb3IodmFyIGkgaW4gc291cmNlKXtpZihzb3VyY2UuaGFzT3duUHJvcGVydHkoaSkpe3RtcD1zb3VyY2VbaV07aWYodHlwZW9mIHRtcD09Im9iamVjdCIpe3RhcmdldFtpXT11dGlscy5pc0FycmF5KHRtcCk/W106e307dXRpbHMuY2xvbmUoc291cmNlW2ldLHRhcmdldFtpXSl9ZWxzZXt0YXJnZXRbaV09dG1wfX19cmV0dXJuIHRhcmdldH0sdHJhbnNVbml0VG9QeDpmdW5jdGlvbih2YWwpe2lmKCEvKHB0fGNtKS8udGVzdCh2YWwpKXtyZXR1cm4gdmFsfXZhciB1bml0O3ZhbC5yZXBsYWNlKC8oW1xkLl0rKShcdyspLyxmdW5jdGlvbihzdHIsdix1KXt2YWw9djt1bml0PXV9KTtzd2l0Y2godW5pdCl7Y2FzZSJjbSI6dmFsPXBhcnNlRmxvYXQodmFsKSoyNTticmVhaztjYXNlInB0Ijp2YWw9TWF0aC5yb3VuZChwYXJzZUZsb2F0KHZhbCkqOTYvNzIpfXJldHVybiB2YWwrKHZhbD8icHgiOiIiKX0sZG9tUmVhZHk6ZnVuY3Rpb24oKXt2YXIgZm5BcnI9W107ZnVuY3Rpb24gZG9SZWFkeShkb2Mpe2RvYy5pc1JlYWR5PXRydWU7Zm9yKHZhciBjaTtjaT1mbkFyci5wb3AoKTtjaSgpKXt9fXJldHVybiBmdW5jdGlvbihvbnJlYWR5LHdpbil7d2luPXdpbnx8d2luZG93O3ZhciBkb2M9d2luLmRvY3VtZW50O29ucmVhZHkmJmZuQXJyLnB1c2gob25yZWFkeSk7aWYoZG9jLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtkb1JlYWR5KGRvYyl9ZWxzZXtkb2MuaXNSZWFkeSYmZG9SZWFkeShkb2MpO2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbiE9MTEpeyhmdW5jdGlvbigpe2lmKGRvYy5pc1JlYWR5KXtyZXR1cm59dHJ5e2RvYy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChlcnJvcil7c2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDApO3JldHVybn1kb1JlYWR5KGRvYyl9KSgpO3dpbi5hdHRhY2hFdmVudCgib25sb2FkIixmdW5jdGlvbigpe2RvUmVhZHkoZG9jKX0pfWVsc2V7ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGZ1bmN0aW9uKCl7ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGFyZ3VtZW50cy5jYWxsZWUsZmFsc2UpO2RvUmVhZHkoZG9jKX0sZmFsc2UpO3dpbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe2RvUmVhZHkoZG9jKX0sZmFsc2UpfX19fSgpLGNzc1J1bGU6YnJvd3Nlci5pZSYmYnJvd3Nlci52ZXJzaW9uIT0xMT9mdW5jdGlvbihrZXksc3R5bGUsZG9jKXt2YXIgaW5kZXhMaXN0LGluZGV4O2lmKHN0eWxlPT09dW5kZWZpbmVkfHxzdHlsZSYmc3R5bGUubm9kZVR5cGUmJnN0eWxlLm5vZGVUeXBlPT05KXtkb2M9c3R5bGUmJnN0eWxlLm5vZGVUeXBlJiZzdHlsZS5ub2RlVHlwZT09OT9zdHlsZTooZG9jfHxkb2N1bWVudCk7aW5kZXhMaXN0PWRvYy5pbmRleExpc3R8fChkb2MuaW5kZXhMaXN0PXt9KTtpbmRleD1pbmRleExpc3Rba2V5XTtpZihpbmRleCE9PXVuZGVmaW5lZCl7cmV0dXJuIGRvYy5zdHlsZVNoZWV0c1tpbmRleF0uY3NzVGV4dH1yZXR1cm4gdW5kZWZpbmVkfWRvYz1kb2N8fGRvY3VtZW50O2luZGV4TGlzdD1kb2MuaW5kZXhMaXN0fHwoZG9jLmluZGV4TGlzdD17fSk7aW5kZXg9aW5kZXhMaXN0W2tleV07aWYoc3R5bGU9PT0iIil7aWYoaW5kZXghPT11bmRlZmluZWQpe2RvYy5zdHlsZVNoZWV0c1tpbmRleF0uY3NzVGV4dD0iIjtkZWxldGUgaW5kZXhMaXN0W2tleV07cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfWlmKGluZGV4IT09dW5kZWZpbmVkKXtzaGVldFN0eWxlPWRvYy5zdHlsZVNoZWV0c1tpbmRleF19ZWxzZXtzaGVldFN0eWxlPWRvYy5jcmVhdGVTdHlsZVNoZWV0KCIiLGluZGV4PWRvYy5zdHlsZVNoZWV0cy5sZW5ndGgpO2luZGV4TGlzdFtrZXldPWluZGV4fXNoZWV0U3R5bGUuY3NzVGV4dD1zdHlsZX06ZnVuY3Rpb24oa2V5LHN0eWxlLGRvYyl7dmFyIGhlYWQsbm9kZTtpZihzdHlsZT09PXVuZGVmaW5lZHx8c3R5bGUmJnN0eWxlLm5vZGVUeXBlJiZzdHlsZS5ub2RlVHlwZT09OSl7ZG9jPXN0eWxlJiZzdHlsZS5ub2RlVHlwZSYmc3R5bGUubm9kZVR5cGU9PTk/c3R5bGU6KGRvY3x8ZG9jdW1lbnQpO25vZGU9ZG9jLmdldEVsZW1lbnRCeUlkKGtleSk7cmV0dXJuIG5vZGU/bm9kZS5pbm5lckhUTUw6dW5kZWZpbmVkfWRvYz1kb2N8fGRvY3VtZW50O25vZGU9ZG9jLmdldEVsZW1lbnRCeUlkKGtleSk7aWYoc3R5bGU9PT0iIil7aWYobm9kZSl7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX1pZihub2RlKXtub2RlLmlubmVySFRNTD1zdHlsZX1lbHNle25vZGU9ZG9jLmNyZWF0ZUVsZW1lbnQoInN0eWxlIik7bm9kZS5pZD1rZXk7bm9kZS5pbm5lckhUTUw9c3R5bGU7ZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQobm9kZSl9fSxzb3J0OmZ1bmN0aW9uKGFycmF5LGNvbXBhcmVGbil7Y29tcGFyZUZuPWNvbXBhcmVGbnx8ZnVuY3Rpb24oaXRlbTEsaXRlbTIpe3JldHVybiBpdGVtMS5sb2NhbGVDb21wYXJlKGl0ZW0yKX07Zm9yKHZhciBpPTAsbGVuPWFycmF5Lmxlbmd0aDtpPGxlbjtpKyspe2Zvcih2YXIgaj1pLGxlbmd0aD1hcnJheS5sZW5ndGg7ajxsZW5ndGg7aisrKXtpZihjb21wYXJlRm4oYXJyYXlbaV0sYXJyYXlbal0pPjApe3ZhciB0PWFycmF5W2ldO2FycmF5W2ldPWFycmF5W2pdO2FycmF5W2pdPXR9fX1yZXR1cm4gYXJyYXl9LGNsZWFyRW1wdHlBdHRyczpmdW5jdGlvbihvYmope2Zvcih2YXIgcCBpbiBvYmope2lmKG9ialtwXT09PSIiKXtkZWxldGUgb2JqW3BdfX1yZXR1cm4gb2JqfX07dXRpbHMuZWFjaChbIlN0cmluZyIsIkZ1bmN0aW9uIiwiQXJyYXkiLCJOdW1iZXIiLCJSZWdFeHAiLCJPYmplY3QiXSxmdW5jdGlvbih2KXtVRS51dGlsc1siaXMiK3ZdPWZ1bmN0aW9uKG9iail7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkob2JqKT09IltvYmplY3QgIit2KyJdIn19KTt2YXIgRXZlbnRCYXNlPVVFLkV2ZW50QmFzZT1mdW5jdGlvbigpe307RXZlbnRCYXNlLnByb3RvdHlwZT17YWRkTGlzdGVuZXI6ZnVuY3Rpb24odHlwZXMsbGlzdGVuZXIpe3R5cGVzPXV0aWxzLnRyaW0odHlwZXMpLnNwbGl0KC9ccysvKTtmb3IodmFyIGk9MCx0aTt0aT10eXBlc1tpKytdOyl7Z2V0TGlzdGVuZXIodGhpcyx0aSx0cnVlKS5wdXNoKGxpc3RlbmVyKX19LG9uOmZ1bmN0aW9uKHR5cGVzLGxpc3RlbmVyKXtyZXR1cm4gdGhpcy5hZGRMaXN0ZW5lcih0eXBlcyxsaXN0ZW5lcil9LG9mZjpmdW5jdGlvbih0eXBlcyxsaXN0ZW5lcil7cmV0dXJuIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZXMsbGlzdGVuZXIpfSx0cmlnZ2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlyZUV2ZW50LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24odHlwZXMsbGlzdGVuZXIpe3R5cGVzPXV0aWxzLnRyaW0odHlwZXMpLnNwbGl0KC9ccysvKTtmb3IodmFyIGk9MCx0aTt0aT10eXBlc1tpKytdOyl7dXRpbHMucmVtb3ZlSXRlbShnZXRMaXN0ZW5lcih0aGlzLHRpKXx8W10sbGlzdGVuZXIpfX0sZmlyZUV2ZW50OmZ1bmN0aW9uKCl7dmFyIHR5cGVzPWFyZ3VtZW50c1swXTt0eXBlcz11dGlscy50cmltKHR5cGVzKS5zcGxpdCgiICIpO2Zvcih2YXIgaT0wLHRpO3RpPXR5cGVzW2krK107KXt2YXIgbGlzdGVuZXJzPWdldExpc3RlbmVyKHRoaXMsdGkpLHIsdCxrO2lmKGxpc3RlbmVycyl7az1saXN0ZW5lcnMubGVuZ3RoO3doaWxlKGstLSl7aWYoIWxpc3RlbmVyc1trXSl7Y29udGludWV9dD1saXN0ZW5lcnNba10uYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHQ9PT10cnVlKXtyZXR1cm4gdH1pZih0IT09dW5kZWZpbmVkKXtyPXR9fX1pZih0PXRoaXNbIm9uIit0aS50b0xvd2VyQ2FzZSgpXSl7cj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19cmV0dXJuIHJ9fTtmdW5jdGlvbiBnZXRMaXN0ZW5lcihvYmosdHlwZSxmb3JjZSl7dmFyIGFsbExpc3RlbmVyczt0eXBlPXR5cGUudG9Mb3dlckNhc2UoKTtyZXR1cm4oKGFsbExpc3RlbmVycz0ob2JqLl9fYWxsTGlzdGVuZXJzfHxmb3JjZSYmKG9iai5fX2FsbExpc3RlbmVycz17fSkpKSYmKGFsbExpc3RlbmVyc1t0eXBlXXx8Zm9yY2UmJihhbGxMaXN0ZW5lcnNbdHlwZV09W10pKSl9dmFyIGR0ZD1kb20uZHRkPShmdW5jdGlvbigpe2Z1bmN0aW9uIF8ocyl7Zm9yKHZhciBrIGluIHMpe3Nbay50b1VwcGVyQ2FzZSgpXT1zW2tdfXJldHVybiBzfXZhciBYPXV0aWxzLmV4dGVuZDI7dmFyIEE9Xyh7aXNpbmRleDoxLGZpZWxkc2V0OjF9KSxCPV8oe2lucHV0OjEsYnV0dG9uOjEsc2VsZWN0OjEsdGV4dGFyZWE6MSxsYWJlbDoxfSksQz1YKF8oe2E6MX0pLEIpLEQ9WCh7aWZyYW1lOjF9LEMpLEU9Xyh7aHI6MSx1bDoxLG1lbnU6MSxkaXY6MSxibG9ja3F1b3RlOjEsbm9zY3JpcHQ6MSx0YWJsZToxLGNlbnRlcjoxLGFkZHJlc3M6MSxkaXI6MSxwcmU6MSxoNToxLGRsOjEsaDQ6MSxub2ZyYW1lczoxLGg2OjEsb2w6MSxoMToxLGgzOjEsaDI6MX0pLEY9Xyh7aW5zOjEsZGVsOjEsc2NyaXB0OjEsc3R5bGU6MX0pLEc9WChfKHtiOjEsYWNyb255bToxLGJkbzoxLCJ2YXIiOjEsIiMiOjEsYWJicjoxLGNvZGU6MSxicjoxLGk6MSxjaXRlOjEsa2JkOjEsdToxLHN0cmlrZToxLHM6MSx0dDoxLHN0cm9uZzoxLHE6MSxzYW1wOjEsZW06MSxkZm46MSxzcGFuOjF9KSxGKSxIPVgoXyh7c3ViOjEsaW1nOjEsZW1iZWQ6MSxvYmplY3Q6MSxzdXA6MSxiYXNlZm9udDoxLG1hcDoxLGFwcGxldDoxLGZvbnQ6MSxiaWc6MSxzbWFsbDoxfSksRyksST1YKF8oe3A6MX0pLEgpLEo9WChfKHtpZnJhbWU6MX0pLEgsQiksSz1fKHtpbWc6MSxlbWJlZDoxLG5vc2NyaXB0OjEsYnI6MSxrYmQ6MSxjZW50ZXI6MSxidXR0b246MSxiYXNlZm9udDoxLGg1OjEsaDQ6MSxzYW1wOjEsaDY6MSxvbDoxLGgxOjEsaDM6MSxoMjoxLGZvcm06MSxmb250OjEsIiMiOjEsc2VsZWN0OjEsbWVudToxLGluczoxLGFiYnI6MSxsYWJlbDoxLGNvZGU6MSx0YWJsZToxLHNjcmlwdDoxLGNpdGU6MSxpbnB1dDoxLGlmcmFtZToxLHN0cm9uZzoxLHRleHRhcmVhOjEsbm9mcmFtZXM6MSxiaWc6MSxzbWFsbDoxLHNwYW46MSxocjoxLHN1YjoxLGJkbzoxLCJ2YXIiOjEsZGl2OjEsb2JqZWN0OjEsc3VwOjEsc3RyaWtlOjEsZGlyOjEsbWFwOjEsZGw6MSxhcHBsZXQ6MSxkZWw6MSxpc2luZGV4OjEsZmllbGRzZXQ6MSx1bDoxLGI6MSxhY3JvbnltOjEsYToxLGJsb2NrcXVvdGU6MSxpOjEsdToxLHM6MSx0dDoxLGFkZHJlc3M6MSxxOjEscHJlOjEscDoxLGVtOjEsZGZuOjF9KSxMPVgoXyh7YTowfSksSiksTT1fKHt0cjoxfSksTj1fKHsiIyI6MX0pLE89WChfKHtwYXJhbToxfSksSyksUD1YKF8oe2Zvcm06MX0pLEEsRCxFLEkpLFE9Xyh7bGk6MSxvbDoxLHVsOjF9KSxSPV8oe3N0eWxlOjEsc2NyaXB0OjF9KSxTPV8oe2Jhc2U6MSxsaW5rOjEsbWV0YToxLHRpdGxlOjF9KSxUPVgoUyxSKSxVPV8oe2hlYWQ6MSxib2R5OjF9KSxWPV8oe2h0bWw6MX0pO3ZhciBibG9jaz1fKHthZGRyZXNzOjEsYmxvY2txdW90ZToxLGNlbnRlcjoxLGRpcjoxLGRpdjoxLGRsOjEsZmllbGRzZXQ6MSxmb3JtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsaHI6MSxpc2luZGV4OjEsbWVudToxLG5vZnJhbWVzOjEsb2w6MSxwOjEscHJlOjEsdGFibGU6MSx1bDoxfSksZW1wdHk9Xyh7YXJlYToxLGJhc2U6MSxiYXNlZm9udDoxLGJyOjEsY29sOjEsY29tbWFuZDoxLGRpYWxvZzoxLGVtYmVkOjEsaHI6MSxpbWc6MSxpbnB1dDoxLGlzaW5kZXg6MSxrZXlnZW46MSxsaW5rOjEsbWV0YToxLHBhcmFtOjEsc291cmNlOjEsdHJhY2s6MSx3YnI6MX0pO3JldHVybiBfKHskbm9uQm9keUNvbnRlbnQ6WChWLFUsUyksJGJsb2NrOmJsb2NrLCRpbmxpbmU6TCwkaW5saW5lV2l0aEE6WChfKHthOjF9KSxMKSwkYm9keTpYKF8oe3NjcmlwdDoxLHN0eWxlOjF9KSxibG9jayksJGNkYXRhOl8oe3NjcmlwdDoxLHN0eWxlOjF9KSwkZW1wdHk6ZW1wdHksJG5vbkNoaWxkOl8oe2lmcmFtZToxLHRleHRhcmVhOjF9KSwkbGlzdEl0ZW06Xyh7ZGQ6MSxkdDoxLGxpOjF9KSwkbGlzdDpfKHt1bDoxLG9sOjEsZGw6MX0pLCRpc05vdEVtcHR5Ol8oe3RhYmxlOjEsdWw6MSxvbDoxLGRsOjEsaWZyYW1lOjEsYXJlYToxLGJhc2U6MSxjb2w6MSxocjoxLGltZzoxLGVtYmVkOjEsaW5wdXQ6MSxsaW5rOjEsbWV0YToxLHBhcmFtOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjF9KSwkcmVtb3ZlRW1wdHk6Xyh7YToxLGFiYnI6MSxhY3JvbnltOjEsYWRkcmVzczoxLGI6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLHE6MSxzOjEsc2FtcDoxLHNtYWxsOjEsc3BhbjoxLHN0cmlrZToxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHR0OjEsdToxLCJ2YXIiOjF9KSwkcmVtb3ZlRW1wdHlCbG9jazpfKHtwOjEsZGl2OjF9KSwkdGFibGVDb250ZW50Ol8oe2NhcHRpb246MSxjb2w6MSxjb2xncm91cDoxLHRib2R5OjEsdGQ6MSx0Zm9vdDoxLHRoOjEsdGhlYWQ6MSx0cjoxLHRhYmxlOjF9KSwkbm90VHJhbnNDb250ZW50Ol8oe3ByZToxLHNjcmlwdDoxLHN0eWxlOjEsdGV4dGFyZWE6MX0pLGh0bWw6VSxoZWFkOlQsc3R5bGU6TixzY3JpcHQ6Tixib2R5OlAsYmFzZTp7fSxsaW5rOnt9LG1ldGE6e30sdGl0bGU6Tixjb2w6e30sdHI6Xyh7dGQ6MSx0aDoxfSksaW1nOnt9LGVtYmVkOnt9LGNvbGdyb3VwOl8oe3RoZWFkOjEsY29sOjEsdGJvZHk6MSx0cjoxLHRmb290OjF9KSxub3NjcmlwdDpQLHRkOlAsYnI6e30sdGg6UCxjZW50ZXI6UCxrYmQ6TCxidXR0b246WChJLEUpLGJhc2Vmb250Ont9LGg1OkwsaDQ6TCxzYW1wOkwsaDY6TCxvbDpRLGgxOkwsaDM6TCxvcHRpb246TixoMjpMLGZvcm06WChBLEQsRSxJKSxzZWxlY3Q6Xyh7b3B0Z3JvdXA6MSxvcHRpb246MX0pLGZvbnQ6TCxpbnM6TCxtZW51OlEsYWJicjpMLGxhYmVsOkwsdGFibGU6Xyh7dGhlYWQ6MSxjb2w6MSx0Ym9keToxLHRyOjEsY29sZ3JvdXA6MSxjYXB0aW9uOjEsdGZvb3Q6MX0pLGNvZGU6TCx0Zm9vdDpNLGNpdGU6TCxsaTpQLGlucHV0Ont9LGlmcmFtZTpQLHN0cm9uZzpMLHRleHRhcmVhOk4sbm9mcmFtZXM6UCxiaWc6TCxzbWFsbDpMLHNwYW46Xyh7IiMiOjEsYnI6MSxiOjEsc3Ryb25nOjEsdToxLGk6MSxlbToxLHN1YjoxLHN1cDoxLHN0cmlrZToxLHNwYW46MX0pLGhyOkwsZHQ6TCxzdWI6TCxvcHRncm91cDpfKHtvcHRpb246MX0pLHBhcmFtOnt9LGJkbzpMLCJ2YXIiOkwsZGl2OlAsb2JqZWN0Ok8sc3VwOkwsZGQ6UCxzdHJpa2U6TCxhcmVhOnt9LGRpcjpRLG1hcDpYKF8oe2FyZWE6MSxmb3JtOjEscDoxfSksQSxGLEUpLGFwcGxldDpPLGRsOl8oe2R0OjEsZGQ6MX0pLGRlbDpMLGlzaW5kZXg6e30sZmllbGRzZXQ6WChfKHtsZWdlbmQ6MX0pLEspLHRoZWFkOk0sdWw6USxhY3JvbnltOkwsYjpMLGE6WChfKHthOjF9KSxKKSxibG9ja3F1b3RlOlgoXyh7dGQ6MSx0cjoxLHRib2R5OjEsbGk6MX0pLFApLGNhcHRpb246TCxpOkwsdTpMLHRib2R5Ok0sczpMLGFkZHJlc3M6WChELEkpLHR0OkwsbGVnZW5kOkwscTpMLHByZTpYKEcsQykscDpYKF8oe2E6MX0pLEwpLGVtOkwsZGZuOkx9KX0pKCk7ZnVuY3Rpb24gZ2V0RG9tTm9kZShub2RlLHN0YXJ0LGx0cixzdGFydEZyb21DaGlsZCxmbixndWFyZCl7dmFyIHRtcE5vZGU9c3RhcnRGcm9tQ2hpbGQmJm5vZGVbc3RhcnRdLHBhcmVudDshdG1wTm9kZSYmKHRtcE5vZGU9bm9kZVtsdHJdKTt3aGlsZSghdG1wTm9kZSYmKHBhcmVudD0ocGFyZW50fHxub2RlKS5wYXJlbnROb2RlKSl7aWYocGFyZW50LnRhZ05hbWU9PSJCT0RZInx8Z3VhcmQmJiFndWFyZChwYXJlbnQpKXtyZXR1cm4gbnVsbH10bXBOb2RlPXBhcmVudFtsdHJdfWlmKHRtcE5vZGUmJmZuJiYhZm4odG1wTm9kZSkpe3JldHVybiBnZXREb21Ob2RlKHRtcE5vZGUsc3RhcnQsbHRyLGZhbHNlLGZuKX1yZXR1cm4gdG1wTm9kZX12YXIgYXR0ckZpeD1pZSYmYnJvd3Nlci52ZXJzaW9uPDk/e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIifTp7dGFiaW5kZXg6InRhYkluZGV4IixyZWFkb25seToicmVhZE9ubHkifSxzdHlsZUJsb2NrPXV0aWxzLmxpc3RUb01hcChbIi13ZWJraXQtYm94IiwiLW1vei1ib3giLCJibG9jayIsImxpc3QtaXRlbSIsInRhYmxlIiwidGFibGUtcm93LWdyb3VwIiwidGFibGUtaGVhZGVyLWdyb3VwIiwidGFibGUtZm9vdGVyLWdyb3VwIiwidGFibGUtcm93IiwidGFibGUtY29sdW1uLWdyb3VwIiwidGFibGUtY29sdW1uIiwidGFibGUtY2VsbCIsInRhYmxlLWNhcHRpb24iXSk7dmFyIGRvbVV0aWxzPWRvbS5kb21VdGlscz17Tk9ERV9FTEVNRU5UOjEsTk9ERV9ET0NVTUVOVDo5LE5PREVfVEVYVDozLE5PREVfQ09NTUVOVDo4LE5PREVfRE9DVU1FTlRfRlJBR01FTlQ6MTEsUE9TSVRJT05fSURFTlRJQ0FMOjAsUE9TSVRJT05fRElTQ09OTkVDVEVEOjEsUE9TSVRJT05fRk9MTE9XSU5HOjIsUE9TSVRJT05fUFJFQ0VESU5HOjQsUE9TSVRJT05fSVNfQ09OVEFJTkVEOjgsUE9TSVRJT05fQ09OVEFJTlM6MTYsZmlsbENoYXI6aWUmJmJyb3dzZXIudmVyc2lvbj09IjYiPyJcdWZlZmYiOiJcdTIwMEIiLGtleXM6ezg6MSw0NjoxLDE2OjEsMTc6MSwxODoxLDM3OjEsMzg6MSwzOToxLDQwOjEsMTM6MX0sZ2V0UG9zaXRpb246ZnVuY3Rpb24obm9kZUEsbm9kZUIpe2lmKG5vZGVBPT09bm9kZUIpe3JldHVybiAwfXZhciBub2RlLHBhcmVudHNBPVtub2RlQV0scGFyZW50c0I9W25vZGVCXTtub2RlPW5vZGVBO3doaWxlKG5vZGU9bm9kZS5wYXJlbnROb2RlKXtpZihub2RlPT09bm9kZUIpe3JldHVybiAxMH1wYXJlbnRzQS5wdXNoKG5vZGUpfW5vZGU9bm9kZUI7d2hpbGUobm9kZT1ub2RlLnBhcmVudE5vZGUpe2lmKG5vZGU9PT1ub2RlQSl7cmV0dXJuIDIwfXBhcmVudHNCLnB1c2gobm9kZSl9cGFyZW50c0EucmV2ZXJzZSgpO3BhcmVudHNCLnJldmVyc2UoKTtpZihwYXJlbnRzQVswXSE9PXBhcmVudHNCWzBdKXtyZXR1cm4gMX12YXIgaT0tMTt3aGlsZShpKysscGFyZW50c0FbaV09PT1wYXJlbnRzQltpXSl7fW5vZGVBPXBhcmVudHNBW2ldO25vZGVCPXBhcmVudHNCW2ldO3doaWxlKG5vZGVBPW5vZGVBLm5leHRTaWJsaW5nKXtpZihub2RlQT09PW5vZGVCKXtyZXR1cm4gNH19cmV0dXJuIDJ9LGdldE5vZGVJbmRleDpmdW5jdGlvbihub2RlLGlnbm9yZVRleHROb2RlKXt2YXIgcHJlTm9kZT1ub2RlLGk9MDt3aGlsZShwcmVOb2RlPXByZU5vZGUucHJldmlvdXNTaWJsaW5nKXtpZihpZ25vcmVUZXh0Tm9kZSYmcHJlTm9kZS5ub2RlVHlwZT09Myl7aWYocHJlTm9kZS5ub2RlVHlwZSE9cHJlTm9kZS5uZXh0U2libGluZy5ub2RlVHlwZSl7aSsrfWNvbnRpbnVlfWkrK31yZXR1cm4gaX0saW5Eb2M6ZnVuY3Rpb24obm9kZSxkb2Mpe3JldHVybiBkb21VdGlscy5nZXRQb3NpdGlvbihub2RlLGRvYyk9PTEwfSxmaW5kUGFyZW50OmZ1bmN0aW9uKG5vZGUsZmlsdGVyRm4saW5jbHVkZVNlbGYpe2lmKG5vZGUmJiFkb21VdGlscy5pc0JvZHkobm9kZSkpe25vZGU9aW5jbHVkZVNlbGY/bm9kZTpub2RlLnBhcmVudE5vZGU7d2hpbGUobm9kZSl7aWYoIWZpbHRlckZufHxmaWx0ZXJGbihub2RlKXx8ZG9tVXRpbHMuaXNCb2R5KG5vZGUpKXtyZXR1cm4gZmlsdGVyRm4mJiFmaWx0ZXJGbihub2RlKSYmZG9tVXRpbHMuaXNCb2R5KG5vZGUpP251bGw6bm9kZX1ub2RlPW5vZGUucGFyZW50Tm9kZX19cmV0dXJuIG51bGx9LGZpbmRQYXJlbnRCeVRhZ05hbWU6ZnVuY3Rpb24obm9kZSx0YWdOYW1lcyxpbmNsdWRlU2VsZixleGNsdWRlRm4pe3RhZ05hbWVzPXV0aWxzLmxpc3RUb01hcCh1dGlscy5pc0FycmF5KHRhZ05hbWVzKT90YWdOYW1lczpbdGFnTmFtZXNdKTtyZXR1cm4gZG9tVXRpbHMuZmluZFBhcmVudChub2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiB0YWdOYW1lc1tub2RlLnRhZ05hbWVdJiYhKGV4Y2x1ZGVGbiYmZXhjbHVkZUZuKG5vZGUpKX0saW5jbHVkZVNlbGYpfSxmaW5kUGFyZW50czpmdW5jdGlvbihub2RlLGluY2x1ZGVTZWxmLGZpbHRlckZuLGNsb3NlckZpcnN0KXt2YXIgcGFyZW50cz1pbmNsdWRlU2VsZiYmKGZpbHRlckZuJiZmaWx0ZXJGbihub2RlKXx8IWZpbHRlckZuKT9bbm9kZV06W107d2hpbGUobm9kZT1kb21VdGlscy5maW5kUGFyZW50KG5vZGUsZmlsdGVyRm4pKXtwYXJlbnRzLnB1c2gobm9kZSl9cmV0dXJuIGNsb3NlckZpcnN0P3BhcmVudHM6cGFyZW50cy5yZXZlcnNlKCl9LGluc2VydEFmdGVyOmZ1bmN0aW9uKG5vZGUsbmV3Tm9kZSl7cmV0dXJuIG5vZGUubmV4dFNpYmxpbmc/bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLG5vZGUubmV4dFNpYmxpbmcpOm5vZGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChuZXdOb2RlKX0scmVtb3ZlOmZ1bmN0aW9uKG5vZGUsa2VlcENoaWxkcmVuKXt2YXIgcGFyZW50PW5vZGUucGFyZW50Tm9kZSxjaGlsZDtpZihwYXJlbnQpe2lmKGtlZXBDaGlsZHJlbiYmbm9kZS5oYXNDaGlsZE5vZGVzKCkpe3doaWxlKGNoaWxkPW5vZGUuZmlyc3RDaGlsZCl7cGFyZW50Lmluc2VydEJlZm9yZShjaGlsZCxub2RlKX19cGFyZW50LnJlbW92ZUNoaWxkKG5vZGUpfXJldHVybiBub2RlfSxnZXROZXh0RG9tTm9kZTpmdW5jdGlvbihub2RlLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKXtyZXR1cm4gZ2V0RG9tTm9kZShub2RlLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKX0sZ2V0UHJlRG9tTm9kZTpmdW5jdGlvbihub2RlLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKXtyZXR1cm4gZ2V0RG9tTm9kZShub2RlLCJsYXN0Q2hpbGQiLCJwcmV2aW91c1NpYmxpbmciLHN0YXJ0RnJvbUNoaWxkLGZpbHRlckZuLGd1YXJkKX0saXNCb29rbWFya05vZGU6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJm5vZGUuaWQmJi9eX2JhaWR1X2Jvb2ttYXJrXy9pLnRlc3Qobm9kZS5pZCl9LGdldFdpbmRvdzpmdW5jdGlvbihub2RlKXt2YXIgZG9jPW5vZGUub3duZXJEb2N1bWVudHx8bm9kZTtyZXR1cm4gZG9jLmRlZmF1bHRWaWV3fHxkb2MucGFyZW50V2luZG93fSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihub2RlQSxub2RlQil7aWYobm9kZUE9PT1ub2RlQil7cmV0dXJuIG5vZGVBfXZhciBwYXJlbnRzQT1bbm9kZUFdLHBhcmVudHNCPVtub2RlQl0scGFyZW50PW5vZGVBLGk9LTE7d2hpbGUocGFyZW50PXBhcmVudC5wYXJlbnROb2RlKXtpZihwYXJlbnQ9PT1ub2RlQil7cmV0dXJuIHBhcmVudH1wYXJlbnRzQS5wdXNoKHBhcmVudCl9cGFyZW50PW5vZGVCO3doaWxlKHBhcmVudD1wYXJlbnQucGFyZW50Tm9kZSl7aWYocGFyZW50PT09bm9kZUEpe3JldHVybiBwYXJlbnR9cGFyZW50c0IucHVzaChwYXJlbnQpfXBhcmVudHNBLnJldmVyc2UoKTtwYXJlbnRzQi5yZXZlcnNlKCk7d2hpbGUoaSsrLHBhcmVudHNBW2ldPT09cGFyZW50c0JbaV0pe31yZXR1cm4gaT09MD9udWxsOnBhcmVudHNBW2ktMV19LGNsZWFyRW1wdHlTaWJsaW5nOmZ1bmN0aW9uKG5vZGUsaWdub3JlTmV4dCxpZ25vcmVQcmUpe2Z1bmN0aW9uIGNsZWFyKG5leHQsZGlyKXt2YXIgdG1wTm9kZTt3aGlsZShuZXh0JiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobmV4dCkmJihkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudChuZXh0KXx8IW5ldyBSZWdFeHAoIlteXHRcblxyIitkb21VdGlscy5maWxsQ2hhcisiXSIpLnRlc3QobmV4dC5ub2RlVmFsdWUpKSl7dG1wTm9kZT1uZXh0W2Rpcl07ZG9tVXRpbHMucmVtb3ZlKG5leHQpO25leHQ9dG1wTm9kZX19IWlnbm9yZU5leHQmJmNsZWFyKG5vZGUubmV4dFNpYmxpbmcsIm5leHRTaWJsaW5nIik7IWlnbm9yZVByZSYmY2xlYXIobm9kZS5wcmV2aW91c1NpYmxpbmcsInByZXZpb3VzU2libGluZyIpfSxzcGxpdDpmdW5jdGlvbihub2RlLG9mZnNldCl7dmFyIGRvYz1ub2RlLm93bmVyRG9jdW1lbnQ7aWYoYnJvd3Nlci5pZSYmb2Zmc2V0PT1ub2RlLm5vZGVWYWx1ZS5sZW5ndGgpe3ZhciBuZXh0PWRvYy5jcmVhdGVUZXh0Tm9kZSgiIik7cmV0dXJuIGRvbVV0aWxzLmluc2VydEFmdGVyKG5vZGUsbmV4dCl9dmFyIHJldHZhbD1ub2RlLnNwbGl0VGV4dChvZmZzZXQpO2lmKGJyb3dzZXIuaWU4KXt2YXIgdG1wTm9kZT1kb2MuY3JlYXRlVGV4dE5vZGUoIiIpO2RvbVV0aWxzLmluc2VydEFmdGVyKHJldHZhbCx0bXBOb2RlKTtkb21VdGlscy5yZW1vdmUodG1wTm9kZSl9cmV0dXJuIHJldHZhbH0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiAhbmV3IFJlZ0V4cCgiW14gXHRcblxyIitkb21VdGlscy5maWxsQ2hhcisiXSIpLnRlc3Qobm9kZS5ub2RlVmFsdWUpfSxnZXRYWTpmdW5jdGlvbihlbGVtZW50KXt2YXIgeD0wLHk9MDt3aGlsZShlbGVtZW50Lm9mZnNldFBhcmVudCl7eSs9ZWxlbWVudC5vZmZzZXRUb3A7eCs9ZWxlbWVudC5vZmZzZXRMZWZ0O2VsZW1lbnQ9ZWxlbWVudC5vZmZzZXRQYXJlbnR9cmV0dXJue3g6eCx5Onl9fSxvbjpmdW5jdGlvbihlbGVtZW50LHR5cGUsaGFuZGxlcil7dmFyIHR5cGVzPXV0aWxzLmlzQXJyYXkodHlwZSk/dHlwZTp1dGlscy50cmltKHR5cGUpLnNwbGl0KC9ccysvKSxrPXR5cGVzLmxlbmd0aDtpZihrKXt3aGlsZShrLS0pe3R5cGU9dHlwZXNba107aWYoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKXtlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSxoYW5kbGVyLGZhbHNlKX1lbHNle2lmKCFoYW5kbGVyLl9kKXtoYW5kbGVyLl9kPXtlbHM6W119fXZhciBrZXk9dHlwZStoYW5kbGVyLnRvU3RyaW5nKCksaW5kZXg9dXRpbHMuaW5kZXhPZihoYW5kbGVyLl9kLmVscyxlbGVtZW50KTtpZighaGFuZGxlci5fZFtrZXldfHxpbmRleD09LTEpe2lmKGluZGV4PT0tMSl7aGFuZGxlci5fZC5lbHMucHVzaChlbGVtZW50KX1pZighaGFuZGxlci5fZFtrZXldKXtoYW5kbGVyLl9kW2tleV09ZnVuY3Rpb24oZXZ0KXtyZXR1cm4gaGFuZGxlci5jYWxsKGV2dC5zcmNFbGVtZW50LGV2dHx8d2luZG93LmV2ZW50KX19ZWxlbWVudC5hdHRhY2hFdmVudCgib24iK3R5cGUsaGFuZGxlci5fZFtrZXldKX19fX1lbGVtZW50PW51bGx9LHVuOmZ1bmN0aW9uKGVsZW1lbnQsdHlwZSxoYW5kbGVyKXt2YXIgdHlwZXM9dXRpbHMuaXNBcnJheSh0eXBlKT90eXBlOnV0aWxzLnRyaW0odHlwZSkuc3BsaXQoL1xzKy8pLGs9dHlwZXMubGVuZ3RoO2lmKGspe3doaWxlKGstLSl7dHlwZT10eXBlc1trXTtpZihlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpe2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLGhhbmRsZXIsZmFsc2UpfWVsc2V7dmFyIGtleT10eXBlK2hhbmRsZXIudG9TdHJpbmcoKTt0cnl7ZWxlbWVudC5kZXRhY2hFdmVudCgib24iK3R5cGUsaGFuZGxlci5fZD9oYW5kbGVyLl9kW2tleV06aGFuZGxlcil9Y2F0Y2goZSl7fWlmKGhhbmRsZXIuX2QmJmhhbmRsZXIuX2Rba2V5XSl7dmFyIGluZGV4PXV0aWxzLmluZGV4T2YoaGFuZGxlci5fZC5lbHMsZWxlbWVudCk7aWYoaW5kZXghPS0xKXtoYW5kbGVyLl9kLmVscy5zcGxpY2UoaW5kZXgsMSl9aGFuZGxlci5fZC5lbHMubGVuZ3RoPT0wJiZkZWxldGUgaGFuZGxlci5fZFtrZXldfX19fX0saXNTYW1lRWxlbWVudDpmdW5jdGlvbihub2RlQSxub2RlQil7aWYobm9kZUEudGFnTmFtZSE9bm9kZUIudGFnTmFtZSl7cmV0dXJuIGZhbHNlfXZhciB0aGlzQXR0cnM9bm9kZUEuYXR0cmlidXRlcyxvdGhlckF0dHJzPW5vZGVCLmF0dHJpYnV0ZXM7aWYoIWllJiZ0aGlzQXR0cnMubGVuZ3RoIT1vdGhlckF0dHJzLmxlbmd0aCl7cmV0dXJuIGZhbHNlfXZhciBhdHRyQSxhdHRyQixhbD0wLGJsPTA7Zm9yKHZhciBpPTA7YXR0ckE9dGhpc0F0dHJzW2krK107KXtpZihhdHRyQS5ub2RlTmFtZT09InN0eWxlIil7aWYoYXR0ckEuc3BlY2lmaWVkKXthbCsrfWlmKGRvbVV0aWxzLmlzU2FtZVN0eWxlKG5vZGVBLG5vZGVCKSl7Y29udGludWV9ZWxzZXtyZXR1cm4gZmFsc2V9fWlmKGllKXtpZihhdHRyQS5zcGVjaWZpZWQpe2FsKys7YXR0ckI9b3RoZXJBdHRycy5nZXROYW1lZEl0ZW0oYXR0ckEubm9kZU5hbWUpfWVsc2V7Y29udGludWV9fWVsc2V7YXR0ckI9bm9kZUIuYXR0cmlidXRlc1thdHRyQS5ub2RlTmFtZV19aWYoIWF0dHJCLnNwZWNpZmllZHx8YXR0ckEubm9kZVZhbHVlIT1hdHRyQi5ub2RlVmFsdWUpe3JldHVybiBmYWxzZX19aWYoaWUpe2ZvcihpPTA7YXR0ckI9b3RoZXJBdHRyc1tpKytdOyl7aWYoYXR0ckIuc3BlY2lmaWVkKXtibCsrfX1pZihhbCE9Ymwpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LGlzU2FtZVN0eWxlOmZ1bmN0aW9uKG5vZGVBLG5vZGVCKXt2YXIgc3R5bGVBPW5vZGVBLnN0eWxlLmNzc1RleHQucmVwbGFjZSgvKCA/OyA/KS9nLCI7IikucmVwbGFjZSgvKCA/OiA/KS9nLCI6Iiksc3R5bGVCPW5vZGVCLnN0eWxlLmNzc1RleHQucmVwbGFjZSgvKCA/OyA/KS9nLCI7IikucmVwbGFjZSgvKCA/OiA/KS9nLCI6Iik7aWYoYnJvd3Nlci5vcGVyYSl7c3R5bGVBPW5vZGVBLnN0eWxlO3N0eWxlQj1ub2RlQi5zdHlsZTtpZihzdHlsZUEubGVuZ3RoIT1zdHlsZUIubGVuZ3RoKXtyZXR1cm4gZmFsc2V9Zm9yKHZhciBwIGluIHN0eWxlQSl7aWYoL14oXGQrfGNzc3RleHQpJC9pLnRlc3QocCkpe2NvbnRpbnVlfWlmKHN0eWxlQVtwXSE9c3R5bGVCW3BdKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfWlmKCFzdHlsZUF8fCFzdHlsZUIpe3JldHVybiBzdHlsZUE9PXN0eWxlQn1zdHlsZUE9c3R5bGVBLnNwbGl0KCI7Iik7c3R5bGVCPXN0eWxlQi5zcGxpdCgiOyIpO2lmKHN0eWxlQS5sZW5ndGghPXN0eWxlQi5sZW5ndGgpe3JldHVybiBmYWxzZX1mb3IodmFyIGk9MCxjaTtjaT1zdHlsZUFbaSsrXTspe2lmKHV0aWxzLmluZGV4T2Yoc3R5bGVCLGNpKT09LTEpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LGlzQmxvY2tFbG06ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJihkdGQuJGJsb2NrW25vZGUudGFnTmFtZV18fHN0eWxlQmxvY2tbZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCJkaXNwbGF5IildKSYmIWR0ZC4kbm9uQ2hpbGRbbm9kZS50YWdOYW1lXX0saXNCb2R5OmZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlJiZub2RlLm5vZGVUeXBlPT0xJiZub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09ImJvZHkifSxicmVha1BhcmVudDpmdW5jdGlvbihub2RlLHBhcmVudCl7dmFyIHRtcE5vZGUscGFyZW50Q2xvbmU9bm9kZSxjbG9uZT1ub2RlLGxlZnROb2RlcyxyaWdodE5vZGVzO2Rve3BhcmVudENsb25lPXBhcmVudENsb25lLnBhcmVudE5vZGU7aWYobGVmdE5vZGVzKXt0bXBOb2RlPXBhcmVudENsb25lLmNsb25lTm9kZShmYWxzZSk7dG1wTm9kZS5hcHBlbmRDaGlsZChsZWZ0Tm9kZXMpO2xlZnROb2Rlcz10bXBOb2RlO3RtcE5vZGU9cGFyZW50Q2xvbmUuY2xvbmVOb2RlKGZhbHNlKTt0bXBOb2RlLmFwcGVuZENoaWxkKHJpZ2h0Tm9kZXMpO3JpZ2h0Tm9kZXM9dG1wTm9kZX1lbHNle2xlZnROb2Rlcz1wYXJlbnRDbG9uZS5jbG9uZU5vZGUoZmFsc2UpO3JpZ2h0Tm9kZXM9bGVmdE5vZGVzLmNsb25lTm9kZShmYWxzZSl9d2hpbGUodG1wTm9kZT1jbG9uZS5wcmV2aW91c1NpYmxpbmcpe2xlZnROb2Rlcy5pbnNlcnRCZWZvcmUodG1wTm9kZSxsZWZ0Tm9kZXMuZmlyc3RDaGlsZCl9d2hpbGUodG1wTm9kZT1jbG9uZS5uZXh0U2libGluZyl7cmlnaHROb2Rlcy5hcHBlbmRDaGlsZCh0bXBOb2RlKX1jbG9uZT1wYXJlbnRDbG9uZX13aGlsZShwYXJlbnQhPT1wYXJlbnRDbG9uZSk7dG1wTm9kZT1wYXJlbnQucGFyZW50Tm9kZTt0bXBOb2RlLmluc2VydEJlZm9yZShsZWZ0Tm9kZXMscGFyZW50KTt0bXBOb2RlLmluc2VydEJlZm9yZShyaWdodE5vZGVzLHBhcmVudCk7dG1wTm9kZS5pbnNlcnRCZWZvcmUobm9kZSxyaWdodE5vZGVzKTtkb21VdGlscy5yZW1vdmUocGFyZW50KTtyZXR1cm4gbm9kZX0saXNFbXB0eUlubGluZUVsZW1lbnQ6ZnVuY3Rpb24obm9kZSl7aWYobm9kZS5ub2RlVHlwZSE9MXx8IWR0ZC4kcmVtb3ZlRW1wdHlbbm9kZS50YWdOYW1lXSl7cmV0dXJuIDB9bm9kZT1ub2RlLmZpcnN0Q2hpbGQ7d2hpbGUobm9kZSl7aWYoZG9tVXRpbHMuaXNCb29rbWFya05vZGUobm9kZSkpe3JldHVybiAwfWlmKG5vZGUubm9kZVR5cGU9PTEmJiFkb21VdGlscy5pc0VtcHR5SW5saW5lRWxlbWVudChub2RlKXx8bm9kZS5ub2RlVHlwZT09MyYmIWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKSl7cmV0dXJuIDB9bm9kZT1ub2RlLm5leHRTaWJsaW5nfXJldHVybiAxfSx0cmltV2hpdGVUZXh0Tm9kZTpmdW5jdGlvbihub2RlKXtmdW5jdGlvbiByZW1vdmUoZGlyKXt2YXIgY2hpbGQ7d2hpbGUoKGNoaWxkPW5vZGVbZGlyXSkmJmNoaWxkLm5vZGVUeXBlPT0zJiZkb21VdGlscy5pc1doaXRlc3BhY2UoY2hpbGQpKXtub2RlLnJlbW92ZUNoaWxkKGNoaWxkKX19cmVtb3ZlKCJmaXJzdENoaWxkIik7cmVtb3ZlKCJsYXN0Q2hpbGQiKX0sbWVyZ2VDaGlsZDpmdW5jdGlvbihub2RlLHRhZ05hbWUsYXR0cnMpe3ZhciBsaXN0PWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5vZGUsbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgaT0wLGNpO2NpPWxpc3RbaSsrXTspe2lmKCFjaS5wYXJlbnROb2RlfHxkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShjaSkpe2NvbnRpbnVlfWlmKGNpLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InNwYW4iKXtpZihub2RlPT09Y2kucGFyZW50Tm9kZSl7ZG9tVXRpbHMudHJpbVdoaXRlVGV4dE5vZGUobm9kZSk7aWYobm9kZS5jaGlsZE5vZGVzLmxlbmd0aD09MSl7bm9kZS5zdHlsZS5jc3NUZXh0PWNpLnN0eWxlLmNzc1RleHQrIjsiK25vZGUuc3R5bGUuY3NzVGV4dDtkb21VdGlscy5yZW1vdmUoY2ksdHJ1ZSk7Y29udGludWV9fWNpLnN0eWxlLmNzc1RleHQ9bm9kZS5zdHlsZS5jc3NUZXh0KyI7IitjaS5zdHlsZS5jc3NUZXh0O2lmKGF0dHJzKXt2YXIgc3R5bGU9YXR0cnMuc3R5bGU7aWYoc3R5bGUpe3N0eWxlPXN0eWxlLnNwbGl0KCI7Iik7Zm9yKHZhciBqPTAscztzPXN0eWxlW2orK107KXtjaS5zdHlsZVt1dGlscy5jc3NTdHlsZVRvRG9tU3R5bGUocy5zcGxpdCgiOiIpWzBdKV09cy5zcGxpdCgiOiIpWzFdfX19aWYoZG9tVXRpbHMuaXNTYW1lU3R5bGUoY2ksbm9kZSkpe2RvbVV0aWxzLnJlbW92ZShjaSx0cnVlKX1jb250aW51ZX1pZihkb21VdGlscy5pc1NhbWVFbGVtZW50KG5vZGUsY2kpKXtkb21VdGlscy5yZW1vdmUoY2ksdHJ1ZSl9fX0sZ2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24obm9kZSxuYW1lLGZpbHRlcil7aWYoZmlsdGVyJiZ1dGlscy5pc1N0cmluZyhmaWx0ZXIpKXt2YXIgY2xhc3NOYW1lPWZpbHRlcjtmaWx0ZXI9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmhhc0NsYXNzKG5vZGUsY2xhc3NOYW1lKX19bmFtZT11dGlscy50cmltKG5hbWUpLnJlcGxhY2UoL1sgXXsyLH0vZywiICIpLnNwbGl0KCIgIik7dmFyIGFycj1bXTtmb3IodmFyIG49MCxuaTtuaT1uYW1lW24rK107KXt2YXIgbGlzdD1ub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5pKTtmb3IodmFyIGk9MCxjaTtjaT1saXN0W2krK107KXtpZighZmlsdGVyfHxmaWx0ZXIoY2kpKXthcnIucHVzaChjaSl9fX1yZXR1cm4gYXJyfSxtZXJnZVRvUGFyZW50OmZ1bmN0aW9uKG5vZGUpe3ZhciBwYXJlbnQ9bm9kZS5wYXJlbnROb2RlO3doaWxlKHBhcmVudCYmZHRkLiRyZW1vdmVFbXB0eVtwYXJlbnQudGFnTmFtZV0pe2lmKHBhcmVudC50YWdOYW1lPT1ub2RlLnRhZ05hbWV8fHBhcmVudC50YWdOYW1lPT0iQSIpe2RvbVV0aWxzLnRyaW1XaGl0ZVRleHROb2RlKHBhcmVudCk7aWYocGFyZW50LnRhZ05hbWU9PSJTUEFOIiYmIWRvbVV0aWxzLmlzU2FtZVN0eWxlKHBhcmVudCxub2RlKXx8KHBhcmVudC50YWdOYW1lPT0iQSImJm5vZGUudGFnTmFtZT09IlNQQU4iKSl7aWYocGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoPjF8fHBhcmVudCE9PW5vZGUucGFyZW50Tm9kZSl7bm9kZS5zdHlsZS5jc3NUZXh0PXBhcmVudC5zdHlsZS5jc3NUZXh0KyI7Iitub2RlLnN0eWxlLmNzc1RleHQ7cGFyZW50PXBhcmVudC5wYXJlbnROb2RlO2NvbnRpbnVlfWVsc2V7cGFyZW50LnN0eWxlLmNzc1RleHQrPSI7Iitub2RlLnN0eWxlLmNzc1RleHQ7aWYocGFyZW50LnRhZ05hbWU9PSJBIil7cGFyZW50LnN0eWxlLnRleHREZWNvcmF0aW9uPSJ1bmRlcmxpbmUifX19aWYocGFyZW50LnRhZ05hbWUhPSJBIil7cGFyZW50PT09bm9kZS5wYXJlbnROb2RlJiZkb21VdGlscy5yZW1vdmUobm9kZSx0cnVlKTticmVha319cGFyZW50PXBhcmVudC5wYXJlbnROb2RlfX0sbWVyZ2VTaWJsaW5nOmZ1bmN0aW9uKG5vZGUsaWdub3JlUHJlLGlnbm9yZU5leHQpe2Z1bmN0aW9uIG1lcmdlKHJ0bCxzdGFydCxub2RlKXt2YXIgbmV4dDtpZigobmV4dD1ub2RlW3J0bF0pJiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobmV4dCkmJm5leHQubm9kZVR5cGU9PTEmJmRvbVV0aWxzLmlzU2FtZUVsZW1lbnQobm9kZSxuZXh0KSl7d2hpbGUobmV4dC5maXJzdENoaWxkKXtpZihzdGFydD09ImZpcnN0Q2hpbGQiKXtub2RlLmluc2VydEJlZm9yZShuZXh0Lmxhc3RDaGlsZCxub2RlLmZpcnN0Q2hpbGQpfWVsc2V7bm9kZS5hcHBlbmRDaGlsZChuZXh0LmZpcnN0Q2hpbGQpfX1kb21VdGlscy5yZW1vdmUobmV4dCl9fSFpZ25vcmVQcmUmJm1lcmdlKCJwcmV2aW91c1NpYmxpbmciLCJmaXJzdENoaWxkIixub2RlKTshaWdub3JlTmV4dCYmbWVyZ2UoIm5leHRTaWJsaW5nIiwibGFzdENoaWxkIixub2RlKX0sdW5TZWxlY3RhYmxlOmllfHxicm93c2VyLm9wZXJhP2Z1bmN0aW9uKG5vZGUpe25vZGUub25zZWxlY3RzdGFydD1mdW5jdGlvbigpe3JldHVybiBmYWxzZX07bm9kZS5vbmNsaWNrPW5vZGUub25rZXl1cD1ub2RlLm9ua2V5ZG93bj1mdW5jdGlvbigpe3JldHVybiBmYWxzZX07bm9kZS51bnNlbGVjdGFibGU9Im9uIjtub2RlLnNldEF0dHJpYnV0ZSgidW5zZWxlY3RhYmxlIiwib24iKTtmb3IodmFyIGk9MCxjaTtjaT1ub2RlLmFsbFtpKytdOyl7c3dpdGNoKGNpLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZSJpZnJhbWUiOmNhc2UidGV4dGFyZWEiOmNhc2UiaW5wdXQiOmNhc2Uic2VsZWN0IjpicmVhaztkZWZhdWx0OmNpLnVuc2VsZWN0YWJsZT0ib24iO25vZGUuc2V0QXR0cmlidXRlKCJ1bnNlbGVjdGFibGUiLCJvbiIpfX19OmZ1bmN0aW9uKG5vZGUpe25vZGUuc3R5bGUuTW96VXNlclNlbGVjdD1ub2RlLnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9bm9kZS5zdHlsZS5LaHRtbFVzZXJTZWxlY3Q9Im5vbmUifSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKG5vZGUsYXR0ck5hbWVzKXthdHRyTmFtZXM9dXRpbHMuaXNBcnJheShhdHRyTmFtZXMpP2F0dHJOYW1lczp1dGlscy50cmltKGF0dHJOYW1lcykucmVwbGFjZSgvWyBdezIsfS9nLCIgIikuc3BsaXQoIiAiKTtmb3IodmFyIGk9MCxjaTtjaT1hdHRyTmFtZXNbaSsrXTspe2NpPWF0dHJGaXhbY2ldfHxjaTtzd2l0Y2goY2kpe2Nhc2UiY2xhc3NOYW1lIjpub2RlW2NpXT0iIjticmVhaztjYXNlInN0eWxlIjpub2RlLnN0eWxlLmNzc1RleHQ9IiI7IWJyb3dzZXIuaWUmJm5vZGUucmVtb3ZlQXR0cmlidXRlTm9kZShub2RlLmdldEF0dHJpYnV0ZU5vZGUoInN0eWxlIikpfW5vZGUucmVtb3ZlQXR0cmlidXRlKGNpKX19LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oZG9jLHRhZyxhdHRycyl7cmV0dXJuIGRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoZG9jLmNyZWF0ZUVsZW1lbnQodGFnKSxhdHRycyl9LHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24obm9kZSxhdHRycyl7Zm9yKHZhciBhdHRyIGluIGF0dHJzKXtpZihhdHRycy5oYXNPd25Qcm9wZXJ0eShhdHRyKSl7dmFyIHZhbHVlPWF0dHJzW2F0dHJdO3N3aXRjaChhdHRyKXtjYXNlImNsYXNzIjpub2RlLmNsYXNzTmFtZT12YWx1ZTticmVhaztjYXNlInN0eWxlIjpub2RlLnN0eWxlLmNzc1RleHQ9bm9kZS5zdHlsZS5jc3NUZXh0KyI7Iit2YWx1ZTticmVhaztjYXNlImlubmVySFRNTCI6bm9kZVthdHRyXT12YWx1ZTticmVhaztjYXNlInZhbHVlIjpub2RlLnZhbHVlPXZhbHVlO2JyZWFrO2RlZmF1bHQ6bm9kZS5zZXRBdHRyaWJ1dGUoYXR0ckZpeFthdHRyXXx8YXR0cix2YWx1ZSl9fX1yZXR1cm4gbm9kZX0sZ2V0Q29tcHV0ZWRTdHlsZTpmdW5jdGlvbihlbGVtZW50LHN0eWxlTmFtZSl7dmFyIHByb3M9IndpZHRoIGhlaWdodCB0b3AgbGVmdCI7aWYocHJvcy5pbmRleE9mKHN0eWxlTmFtZSk+LTEpe3JldHVybiBlbGVtZW50WyJvZmZzZXQiK3N0eWxlTmFtZS5yZXBsYWNlKC9eXHcvLGZ1bmN0aW9uKHMpe3JldHVybiBzLnRvVXBwZXJDYXNlKCl9KV0rInB4In1pZihlbGVtZW50Lm5vZGVUeXBlPT0zKXtlbGVtZW50PWVsZW1lbnQucGFyZW50Tm9kZX1pZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248OSYmc3R5bGVOYW1lPT0iZm9udC1zaXplIiYmIWVsZW1lbnQuc3R5bGUuZm9udFNpemUmJiFkdGQuJGVtcHR5W2VsZW1lbnQudGFnTmFtZV0mJiFkdGQuJG5vbkNoaWxkW2VsZW1lbnQudGFnTmFtZV0pe3ZhciBzcGFuPWVsZW1lbnQub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7c3Bhbi5zdHlsZS5jc3NUZXh0PSJwYWRkaW5nOjA7Ym9yZGVyOjA7Zm9udC1mYW1pbHk6c2ltc3VuOyI7c3Bhbi5pbm5lckhUTUw9Ii4iO2VsZW1lbnQuYXBwZW5kQ2hpbGQoc3Bhbik7dmFyIHJlc3VsdD1zcGFuLm9mZnNldEhlaWdodDtlbGVtZW50LnJlbW92ZUNoaWxkKHNwYW4pO3NwYW49bnVsbDtyZXR1cm4gcmVzdWx0KyJweCJ9dHJ5e3ZhciB2YWx1ZT1kb21VdGlscy5nZXRTdHlsZShlbGVtZW50LHN0eWxlTmFtZSl8fCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZT9kb21VdGlscy5nZXRXaW5kb3coZWxlbWVudCkuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCIiKS5nZXRQcm9wZXJ0eVZhbHVlKHN0eWxlTmFtZSk6KGVsZW1lbnQuY3VycmVudFN0eWxlfHxlbGVtZW50LnN0eWxlKVt1dGlscy5jc3NTdHlsZVRvRG9tU3R5bGUoc3R5bGVOYW1lKV0pfWNhdGNoKGUpe3JldHVybiIifXJldHVybiB1dGlscy50cmFuc1VuaXRUb1B4KHV0aWxzLmZpeENvbG9yKHN0eWxlTmFtZSx2YWx1ZSkpfSxyZW1vdmVDbGFzc2VzOmZ1bmN0aW9uKGVsbSxjbGFzc05hbWVzKXtjbGFzc05hbWVzPXV0aWxzLmlzQXJyYXkoY2xhc3NOYW1lcyk/Y2xhc3NOYW1lczp1dGlscy50cmltKGNsYXNzTmFtZXMpLnJlcGxhY2UoL1sgXXsyLH0vZywiICIpLnNwbGl0KCIgIik7Zm9yKHZhciBpPTAsY2ksY2xzPWVsbS5jbGFzc05hbWU7Y2k9Y2xhc3NOYW1lc1tpKytdOyl7Y2xzPWNscy5yZXBsYWNlKG5ldyBSZWdFeHAoIlxcYiIrY2krIlxcYiIpLCIiKX1jbHM9dXRpbHMudHJpbShjbHMpLnJlcGxhY2UoL1sgXXsyLH0vZywiICIpO2lmKGNscyl7ZWxtLmNsYXNzTmFtZT1jbHN9ZWxzZXtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGVsbSxbImNsYXNzIl0pfX0sYWRkQ2xhc3M6ZnVuY3Rpb24oZWxtLGNsYXNzTmFtZXMpe2lmKCFlbG0pe3JldHVybn1jbGFzc05hbWVzPXV0aWxzLnRyaW0oY2xhc3NOYW1lcykucmVwbGFjZSgvWyBdezIsfS9nLCIgIikuc3BsaXQoIiAiKTtmb3IodmFyIGk9MCxjaSxjbHM9ZWxtLmNsYXNzTmFtZTtjaT1jbGFzc05hbWVzW2krK107KXtpZighbmV3IFJlZ0V4cCgiXFxiIitjaSsiXFxiIikudGVzdChjbHMpKXtjbHMrPSIgIitjaX19ZWxtLmNsYXNzTmFtZT11dGlscy50cmltKGNscyl9LGhhc0NsYXNzOmZ1bmN0aW9uKGVsZW1lbnQsY2xhc3NOYW1lKXtpZih1dGlscy5pc1JlZ0V4cChjbGFzc05hbWUpKXtyZXR1cm4gY2xhc3NOYW1lLnRlc3QoZWxlbWVudC5jbGFzc05hbWUpfWNsYXNzTmFtZT11dGlscy50cmltKGNsYXNzTmFtZSkucmVwbGFjZSgvWyBdezIsfS9nLCIgIikuc3BsaXQoIiAiKTtmb3IodmFyIGk9MCxjaSxjbHM9ZWxlbWVudC5jbGFzc05hbWU7Y2k9Y2xhc3NOYW1lW2krK107KXtpZighbmV3IFJlZ0V4cCgiXFxiIitjaSsiXFxiIiwiaSIpLnRlc3QoY2xzKSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gaS0xPT1jbGFzc05hbWUubGVuZ3RofSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihldnQpe2V2dC5wcmV2ZW50RGVmYXVsdD9ldnQucHJldmVudERlZmF1bHQoKTooZXZ0LnJldHVyblZhbHVlPWZhbHNlKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oZWxlbWVudCxuYW1lKXtpZihicm93c2VyLmllKXtpZihuYW1lPT0iY29sb3IiKXtuYW1lPSIoXnw7KSIrbmFtZX1lbGVtZW50LnN0eWxlLmNzc1RleHQ9ZWxlbWVudC5zdHlsZS5jc3NUZXh0LnJlcGxhY2UobmV3IFJlZ0V4cChuYW1lKyJbXjpdKjpbXjtdKzs/IiwiaWciKSwiIil9ZWxzZXtpZihlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KXtlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KG5hbWUpfWVsc2V7ZWxlbWVudC5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUodXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKG5hbWUpKX19aWYoIWVsZW1lbnQuc3R5bGUuY3NzVGV4dCl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhlbGVtZW50LFsic3R5bGUiXSl9fSxnZXRTdHlsZTpmdW5jdGlvbihlbGVtZW50LG5hbWUpe3ZhciB2YWx1ZT1lbGVtZW50LnN0eWxlW3V0aWxzLmNzc1N0eWxlVG9Eb21TdHlsZShuYW1lKV07cmV0dXJuIHV0aWxzLmZpeENvbG9yKG5hbWUsdmFsdWUpfSxzZXRTdHlsZTpmdW5jdGlvbihlbGVtZW50LG5hbWUsdmFsdWUpe2VsZW1lbnQuc3R5bGVbdXRpbHMuY3NzU3R5bGVUb0RvbVN0eWxlKG5hbWUpXT12YWx1ZTtpZighdXRpbHMudHJpbShlbGVtZW50LnN0eWxlLmNzc1RleHQpKXt0aGlzLnJlbW92ZUF0dHJpYnV0ZXMoZWxlbWVudCwic3R5bGUiKX19LHNldFN0eWxlczpmdW5jdGlvbihlbGVtZW50LHN0eWxlcyl7Zm9yKHZhciBuYW1lIGluIHN0eWxlcyl7aWYoc3R5bGVzLmhhc093blByb3BlcnR5KG5hbWUpKXtkb21VdGlscy5zZXRTdHlsZShlbGVtZW50LG5hbWUsc3R5bGVzW25hbWVdKX19fSxyZW1vdmVEaXJ0eUF0dHI6ZnVuY3Rpb24obm9kZSl7Zm9yKHZhciBpPTAsY2ksbm9kZXM9bm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpO2NpPW5vZGVzW2krK107KXtjaS5yZW1vdmVBdHRyaWJ1dGUoIl9tb3pfZGlydHkiKX1ub2RlLnJlbW92ZUF0dHJpYnV0ZSgiX21vel9kaXJ0eSIpfSxnZXRDaGlsZENvdW50OmZ1bmN0aW9uKG5vZGUsZm4pe3ZhciBjb3VudD0wLGZpcnN0PW5vZGUuZmlyc3RDaGlsZDtmbj1mbnx8ZnVuY3Rpb24oKXtyZXR1cm4gMX07d2hpbGUoZmlyc3Qpe2lmKGZuKGZpcnN0KSl7Y291bnQrK31maXJzdD1maXJzdC5uZXh0U2libGluZ31yZXR1cm4gY291bnR9LGlzRW1wdHlOb2RlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiAhbm9kZS5maXJzdENoaWxkfHxkb21VdGlscy5nZXRDaGlsZENvdW50KG5vZGUsZnVuY3Rpb24obm9kZSl7cmV0dXJuICFkb21VdGlscy5pc0JyKG5vZGUpJiYhZG9tVXRpbHMuaXNCb29rbWFya05vZGUobm9kZSkmJiFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSl9KT09MH0sY2xlYXJTZWxlY3RlZEFycjpmdW5jdGlvbihub2Rlcyl7dmFyIG5vZGU7d2hpbGUobm9kZT1ub2Rlcy5wb3AoKSl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhub2RlLFsiY2xhc3MiXSl9fSxzY3JvbGxUb1ZpZXc6ZnVuY3Rpb24obm9kZSx3aW4sb2Zmc2V0VG9wKXt2YXIgZ2V0Vmlld1BhbmVTaXplPWZ1bmN0aW9uKCl7dmFyIGRvYz13aW4uZG9jdW1lbnQsbW9kZT1kb2MuY29tcGF0TW9kZT09IkNTUzFDb21wYXQiO3JldHVybnt3aWR0aDoobW9kZT9kb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmRvYy5ib2R5LmNsaWVudFdpZHRoKXx8MCxoZWlnaHQ6KG1vZGU/ZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6ZG9jLmJvZHkuY2xpZW50SGVpZ2h0KXx8MH19LGdldFNjcm9sbFBvc2l0aW9uPWZ1bmN0aW9uKHdpbil7aWYoInBhZ2VYT2Zmc2V0IiBpbiB3aW4pe3JldHVybnt4Ondpbi5wYWdlWE9mZnNldHx8MCx5Ondpbi5wYWdlWU9mZnNldHx8MH19ZWxzZXt2YXIgZG9jPXdpbi5kb2N1bWVudDtyZXR1cm57eDpkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnR8fGRvYy5ib2R5LnNjcm9sbExlZnR8fDAseTpkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcHx8ZG9jLmJvZHkuc2Nyb2xsVG9wfHwwfX19O3ZhciB3aW5IZWlnaHQ9Z2V0Vmlld1BhbmVTaXplKCkuaGVpZ2h0LG9mZnNldD13aW5IZWlnaHQqLTErb2Zmc2V0VG9wO29mZnNldCs9KG5vZGUub2Zmc2V0SGVpZ2h0fHwwKTt2YXIgZWxlbWVudFBvc2l0aW9uPWRvbVV0aWxzLmdldFhZKG5vZGUpO29mZnNldCs9ZWxlbWVudFBvc2l0aW9uLnk7dmFyIGN1cnJlbnRTY3JvbGw9Z2V0U2Nyb2xsUG9zaXRpb24od2luKS55O2lmKG9mZnNldD5jdXJyZW50U2Nyb2xsfHxvZmZzZXQ8Y3VycmVudFNjcm9sbC13aW5IZWlnaHQpe3dpbi5zY3JvbGxUbygwLG9mZnNldCsob2Zmc2V0PDA/LTIwOjIwKSl9fSxpc0JyOmZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT0xJiZub2RlLnRhZ05hbWU9PSJCUiJ9LGlzRmlsbENoYXI6ZnVuY3Rpb24obm9kZSxpc0luU3RhcnQpe2lmKG5vZGUubm9kZVR5cGUhPTMpe3JldHVybiBmYWxzZX12YXIgdGV4dD1ub2RlLm5vZGVWYWx1ZTtpZihpc0luU3RhcnQpe3JldHVybiBuZXcgUmVnRXhwKCJeIitkb21VdGlscy5maWxsQ2hhcikudGVzdCh0ZXh0KX1yZXR1cm4gIXRleHQucmVwbGFjZShuZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCJnIiksIiIpLmxlbmd0aH0saXNTdGFydEluYmxvY2s6ZnVuY3Rpb24ocmFuZ2Upe3ZhciB0bXBSYW5nZT1yYW5nZS5jbG9uZVJhbmdlKCksZmxhZz0wLHN0YXJ0PXRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLHRtcDtpZihzdGFydC5ub2RlVHlwZT09MSYmc3RhcnQuY2hpbGROb2Rlc1t0bXBSYW5nZS5zdGFydE9mZnNldF0pe3N0YXJ0PXN0YXJ0LmNoaWxkTm9kZXNbdG1wUmFuZ2Uuc3RhcnRPZmZzZXRdO3ZhciBwcmU9c3RhcnQucHJldmlvdXNTaWJsaW5nO3doaWxlKHByZSYmZG9tVXRpbHMuaXNGaWxsQ2hhcihwcmUpKXtzdGFydD1wcmU7cHJlPXByZS5wcmV2aW91c1NpYmxpbmd9fWlmKHRoaXMuaXNGaWxsQ2hhcihzdGFydCx0cnVlKSYmdG1wUmFuZ2Uuc3RhcnRPZmZzZXQ9PTEpe3RtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KTtzdGFydD10bXBSYW5nZS5zdGFydENvbnRhaW5lcn13aGlsZShzdGFydCYmZG9tVXRpbHMuaXNGaWxsQ2hhcihzdGFydCkpe3RtcD1zdGFydDtzdGFydD1zdGFydC5wcmV2aW91c1NpYmxpbmd9aWYodG1wKXt0bXBSYW5nZS5zZXRTdGFydEJlZm9yZSh0bXApO3N0YXJ0PXRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyfWlmKHN0YXJ0Lm5vZGVUeXBlPT0xJiZkb21VdGlscy5pc0VtcHR5Tm9kZShzdGFydCkmJnRtcFJhbmdlLnN0YXJ0T2Zmc2V0PT0xKXt0bXBSYW5nZS5zZXRTdGFydChzdGFydCwwKS5jb2xsYXBzZSh0cnVlKX13aGlsZSghdG1wUmFuZ2Uuc3RhcnRPZmZzZXQpe3N0YXJ0PXRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyO2lmKGRvbVV0aWxzLmlzQmxvY2tFbG0oc3RhcnQpfHxkb21VdGlscy5pc0JvZHkoc3RhcnQpKXtmbGFnPTE7YnJlYWt9dmFyIHByZT10bXBSYW5nZS5zdGFydENvbnRhaW5lci5wcmV2aW91c1NpYmxpbmcsdG1wTm9kZTtpZighcHJlKXt0bXBSYW5nZS5zZXRTdGFydEJlZm9yZSh0bXBSYW5nZS5zdGFydENvbnRhaW5lcil9ZWxzZXt3aGlsZShwcmUmJmRvbVV0aWxzLmlzRmlsbENoYXIocHJlKSl7dG1wTm9kZT1wcmU7cHJlPXByZS5wcmV2aW91c1NpYmxpbmd9aWYodG1wTm9kZSl7dG1wUmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wTm9kZSl9ZWxzZXt0bXBSYW5nZS5zZXRTdGFydEJlZm9yZSh0bXBSYW5nZS5zdGFydENvbnRhaW5lcil9fX1yZXR1cm4gZmxhZyYmIWRvbVV0aWxzLmlzQm9keSh0bXBSYW5nZS5zdGFydENvbnRhaW5lcik/MTowfSxpc0VtcHR5QmxvY2s6ZnVuY3Rpb24obm9kZSxyZWcpe2lmKG5vZGUubm9kZVR5cGUhPTEpe3JldHVybiAwfXJlZz1yZWd8fG5ldyBSZWdFeHAoIlsgXHRcclxuIitkb21VdGlscy5maWxsQ2hhcisiXSIsImciKTtpZihub2RlW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0ucmVwbGFjZShyZWcsIiIpLmxlbmd0aD4wKXtyZXR1cm4gMH1mb3IodmFyIG4gaW4gZHRkLiRpc05vdEVtcHR5KXtpZihub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pLmxlbmd0aCl7cmV0dXJuIDB9fXJldHVybiAxfSxzZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbihlbGVtZW50LG9mZnNldCl7dmFyIGxlZnQ9cGFyc2VJbnQoZWxlbWVudC5zdHlsZS5sZWZ0KXwwO3ZhciB0b3A9cGFyc2VJbnQoZWxlbWVudC5zdHlsZS50b3ApfDA7dmFyIHJlY3Q9ZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgb2Zmc2V0TGVmdD1vZmZzZXQubGVmdC1yZWN0LmxlZnQ7dmFyIG9mZnNldFRvcD1vZmZzZXQudG9wLXJlY3QudG9wO2lmKG9mZnNldExlZnQpe2VsZW1lbnQuc3R5bGUubGVmdD1sZWZ0K29mZnNldExlZnQrInB4In1pZihvZmZzZXRUb3Ape2VsZW1lbnQuc3R5bGUudG9wPXRvcCtvZmZzZXRUb3ArInB4In19LGZpbGxOb2RlOmZ1bmN0aW9uKGRvYyxub2RlKXt2YXIgdG1wTm9kZT1icm93c2VyLmllP2RvYy5jcmVhdGVUZXh0Tm9kZShkb21VdGlscy5maWxsQ2hhcik6ZG9jLmNyZWF0ZUVsZW1lbnQoImJyIik7bm9kZS5pbm5lckhUTUw9IiI7bm9kZS5hcHBlbmRDaGlsZCh0bXBOb2RlKX0sbW92ZUNoaWxkOmZ1bmN0aW9uKHNyYyx0YWcsZGlyKXt3aGlsZShzcmMuZmlyc3RDaGlsZCl7aWYoZGlyJiZ0YWcuZmlyc3RDaGlsZCl7dGFnLmluc2VydEJlZm9yZShzcmMubGFzdENoaWxkLHRhZy5maXJzdENoaWxkKX1lbHNle3RhZy5hcHBlbmRDaGlsZChzcmMuZmlyc3RDaGlsZCl9fX0saGFzTm9BdHRyaWJ1dGVzOmZ1bmN0aW9uKG5vZGUpe3JldHVybiBicm93c2VyLmllPy9ePFx3K1xzKj8+Ly50ZXN0KG5vZGUub3V0ZXJIVE1MKTpub2RlLmF0dHJpYnV0ZXMubGVuZ3RoPT0wfSxpc0N1c3RvbWVOb2RlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLm5vZGVUeXBlPT0xJiZub2RlLmdldEF0dHJpYnV0ZSgiX3VlX2N1c3RvbV9ub2RlXyIpfSxpc1RhZ05vZGU6ZnVuY3Rpb24obm9kZSx0YWdOYW1lcyl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJm5ldyBSZWdFeHAoIlxcYiIrbm9kZS50YWdOYW1lKyJcXGIiLCJpIikudGVzdCh0YWdOYW1lcyl9LGZpbHRlck5vZGVMaXN0OmZ1bmN0aW9uKG5vZGVsaXN0LGZpbHRlcixmb3JBbGwpe3ZhciByZXN1bHRzPVtdO2lmKCF1dGlscy5pc0Z1bmN0aW9uKGZpbHRlcikpe3ZhciBzdHI9ZmlsdGVyO2ZpbHRlcj1mdW5jdGlvbihuKXtyZXR1cm4gdXRpbHMuaW5kZXhPZih1dGlscy5pc0FycmF5KHN0cik/c3RyOnN0ci5zcGxpdCgiICIpLG4udGFnTmFtZS50b0xvd2VyQ2FzZSgpKSE9LTF9fXV0aWxzLmVhY2gobm9kZWxpc3QsZnVuY3Rpb24obil7ZmlsdGVyKG4pJiZyZXN1bHRzLnB1c2gobil9KTtyZXR1cm4gcmVzdWx0cy5sZW5ndGg9PTA/bnVsbDpyZXN1bHRzLmxlbmd0aD09MXx8IWZvckFsbD9yZXN1bHRzWzBdOnJlc3VsdHN9LGlzSW5Ob2RlRW5kQm91bmRhcnk6ZnVuY3Rpb24ocm5nLG5vZGUpe3ZhciBzdGFydD1ybmcuc3RhcnRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTMmJnJuZy5zdGFydE9mZnNldCE9c3RhcnQubm9kZVZhbHVlLmxlbmd0aCl7cmV0dXJuIDB9aWYoc3RhcnQubm9kZVR5cGU9PTEmJnJuZy5zdGFydE9mZnNldCE9c3RhcnQuY2hpbGROb2Rlcy5sZW5ndGgpe3JldHVybiAwfXdoaWxlKHN0YXJ0IT09bm9kZSl7aWYoc3RhcnQubmV4dFNpYmxpbmcpe3JldHVybiAwfXN0YXJ0PXN0YXJ0LnBhcmVudE5vZGV9cmV0dXJuIDF9LGlzQm91bmRhcnlOb2RlOmZ1bmN0aW9uKG5vZGUsZGlyKXt2YXIgdG1wO3doaWxlKCFkb21VdGlscy5pc0JvZHkobm9kZSkpe3RtcD1ub2RlO25vZGU9bm9kZS5wYXJlbnROb2RlO2lmKHRtcCE9PW5vZGVbZGlyXSl7cmV0dXJuIGZhbHNlfX1yZXR1cm4gdHJ1ZX19O3ZhciBmaWxsQ2hhclJlZz1uZXcgUmVnRXhwKGRvbVV0aWxzLmZpbGxDaGFyLCJnIik7KGZ1bmN0aW9uKCl7dmFyIGd1aWQ9MCxmaWxsQ2hhcj1kb21VdGlscy5maWxsQ2hhcixmaWxsRGF0YTtmdW5jdGlvbiB1cGRhdGVDb2xsYXBzZShyYW5nZSl7cmFuZ2UuY29sbGFwc2VkPXJhbmdlLnN0YXJ0Q29udGFpbmVyJiZyYW5nZS5lbmRDb250YWluZXImJnJhbmdlLnN0YXJ0Q29udGFpbmVyPT09cmFuZ2UuZW5kQ29udGFpbmVyJiZyYW5nZS5zdGFydE9mZnNldD09cmFuZ2UuZW5kT2Zmc2V0fWZ1bmN0aW9uIHNlbGVjdE9uZU5vZGUocm5nKXtyZXR1cm4gIXJuZy5jb2xsYXBzZWQmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09MSYmcm5nLnN0YXJ0Q29udGFpbmVyPT09cm5nLmVuZENvbnRhaW5lciYmcm5nLmVuZE9mZnNldC1ybmcuc3RhcnRPZmZzZXQ9PTF9ZnVuY3Rpb24gc2V0RW5kUG9pbnQodG9TdGFydCxub2RlLG9mZnNldCxyYW5nZSl7aWYobm9kZS5ub2RlVHlwZT09MSYmKGR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXXx8ZHRkLiRub25DaGlsZFtub2RlLnRhZ05hbWVdKSl7b2Zmc2V0PWRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSsodG9TdGFydD8wOjEpO25vZGU9bm9kZS5wYXJlbnROb2RlfWlmKHRvU3RhcnQpe3JhbmdlLnN0YXJ0Q29udGFpbmVyPW5vZGU7cmFuZ2Uuc3RhcnRPZmZzZXQ9b2Zmc2V0O2lmKCFyYW5nZS5lbmRDb250YWluZXIpe3JhbmdlLmNvbGxhcHNlKHRydWUpfX1lbHNle3JhbmdlLmVuZENvbnRhaW5lcj1ub2RlO3JhbmdlLmVuZE9mZnNldD1vZmZzZXQ7aWYoIXJhbmdlLnN0YXJ0Q29udGFpbmVyKXtyYW5nZS5jb2xsYXBzZShmYWxzZSl9fXVwZGF0ZUNvbGxhcHNlKHJhbmdlKTtyZXR1cm4gcmFuZ2V9ZnVuY3Rpb24gZXhlY0NvbnRlbnRzQWN0aW9uKHJhbmdlLGFjdGlvbil7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyLGVuZD1yYW5nZS5lbmRDb250YWluZXIsc3RhcnRPZmZzZXQ9cmFuZ2Uuc3RhcnRPZmZzZXQsZW5kT2Zmc2V0PXJhbmdlLmVuZE9mZnNldCxkb2M9cmFuZ2UuZG9jdW1lbnQsZnJhZz1kb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHRtcFN0YXJ0LHRtcEVuZDtpZihzdGFydC5ub2RlVHlwZT09MSl7c3RhcnQ9c3RhcnQuY2hpbGROb2Rlc1tzdGFydE9mZnNldF18fCh0bXBTdGFydD1zdGFydC5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoIiIpKSl9aWYoZW5kLm5vZGVUeXBlPT0xKXtlbmQ9ZW5kLmNoaWxkTm9kZXNbZW5kT2Zmc2V0XXx8KHRtcEVuZD1lbmQuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKCIiKSkpfWlmKHN0YXJ0PT09ZW5kJiZzdGFydC5ub2RlVHlwZT09Myl7ZnJhZy5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoc3RhcnQuc3Vic3RyaW5nRGF0YShzdGFydE9mZnNldCxlbmRPZmZzZXQtc3RhcnRPZmZzZXQpKSk7aWYoYWN0aW9uKXtzdGFydC5kZWxldGVEYXRhKHN0YXJ0T2Zmc2V0LGVuZE9mZnNldC1zdGFydE9mZnNldCk7cmFuZ2UuY29sbGFwc2UodHJ1ZSl9cmV0dXJuIGZyYWd9dmFyIGN1cnJlbnQsY3VycmVudExldmVsLGNsb25lPWZyYWcsc3RhcnRQYXJlbnRzPWRvbVV0aWxzLmZpbmRQYXJlbnRzKHN0YXJ0LHRydWUpLGVuZFBhcmVudHM9ZG9tVXRpbHMuZmluZFBhcmVudHMoZW5kLHRydWUpO2Zvcih2YXIgaT0wO3N0YXJ0UGFyZW50c1tpXT09ZW5kUGFyZW50c1tpXTspe2krK31mb3IodmFyIGo9aSxzaTtzaT1zdGFydFBhcmVudHNbal07aisrKXtjdXJyZW50PXNpLm5leHRTaWJsaW5nO2lmKHNpPT1zdGFydCl7aWYoIXRtcFN0YXJ0KXtpZihyYW5nZS5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09Myl7Y2xvbmUuYXBwZW5kQ2hpbGQoZG9jLmNyZWF0ZVRleHROb2RlKHN0YXJ0Lm5vZGVWYWx1ZS5zbGljZShzdGFydE9mZnNldCkpKTtpZihhY3Rpb24pe3N0YXJ0LmRlbGV0ZURhdGEoc3RhcnRPZmZzZXQsc3RhcnQubm9kZVZhbHVlLmxlbmd0aC1zdGFydE9mZnNldCl9fWVsc2V7Y2xvbmUuYXBwZW5kQ2hpbGQoIWFjdGlvbj9zdGFydC5jbG9uZU5vZGUodHJ1ZSk6c3RhcnQpfX19ZWxzZXtjdXJyZW50TGV2ZWw9c2kuY2xvbmVOb2RlKGZhbHNlKTtjbG9uZS5hcHBlbmRDaGlsZChjdXJyZW50TGV2ZWwpfXdoaWxlKGN1cnJlbnQpe2lmKGN1cnJlbnQ9PT1lbmR8fGN1cnJlbnQ9PT1lbmRQYXJlbnRzW2pdKXticmVha31zaT1jdXJyZW50Lm5leHRTaWJsaW5nO2Nsb25lLmFwcGVuZENoaWxkKCFhY3Rpb24/Y3VycmVudC5jbG9uZU5vZGUodHJ1ZSk6Y3VycmVudCk7Y3VycmVudD1zaX1jbG9uZT1jdXJyZW50TGV2ZWx9Y2xvbmU9ZnJhZztpZighc3RhcnRQYXJlbnRzW2ldKXtjbG9uZS5hcHBlbmRDaGlsZChzdGFydFBhcmVudHNbaS0xXS5jbG9uZU5vZGUoZmFsc2UpKTtjbG9uZT1jbG9uZS5maXJzdENoaWxkfWZvcih2YXIgaj1pLGVpO2VpPWVuZFBhcmVudHNbal07aisrKXtjdXJyZW50PWVpLnByZXZpb3VzU2libGluZztpZihlaT09ZW5kKXtpZighdG1wRW5kJiZyYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGU9PTMpe2Nsb25lLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShlbmQuc3Vic3RyaW5nRGF0YSgwLGVuZE9mZnNldCkpKTtpZihhY3Rpb24pe2VuZC5kZWxldGVEYXRhKDAsZW5kT2Zmc2V0KX19fWVsc2V7Y3VycmVudExldmVsPWVpLmNsb25lTm9kZShmYWxzZSk7Y2xvbmUuYXBwZW5kQ2hpbGQoY3VycmVudExldmVsKX1pZihqIT1pfHwhc3RhcnRQYXJlbnRzW2ldKXt3aGlsZShjdXJyZW50KXtpZihjdXJyZW50PT09c3RhcnQpe2JyZWFrfWVpPWN1cnJlbnQucHJldmlvdXNTaWJsaW5nO2Nsb25lLmluc2VydEJlZm9yZSghYWN0aW9uP2N1cnJlbnQuY2xvbmVOb2RlKHRydWUpOmN1cnJlbnQsY2xvbmUuZmlyc3RDaGlsZCk7Y3VycmVudD1laX19Y2xvbmU9Y3VycmVudExldmVsfWlmKGFjdGlvbil7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoIWVuZFBhcmVudHNbaV0/ZW5kUGFyZW50c1tpLTFdOiFzdGFydFBhcmVudHNbaV0/c3RhcnRQYXJlbnRzW2ktMV06ZW5kUGFyZW50c1tpXSkuY29sbGFwc2UodHJ1ZSl9dG1wU3RhcnQmJmRvbVV0aWxzLnJlbW92ZSh0bXBTdGFydCk7dG1wRW5kJiZkb21VdGlscy5yZW1vdmUodG1wRW5kKTtyZXR1cm4gZnJhZ312YXIgUmFuZ2U9ZG9tLlJhbmdlPWZ1bmN0aW9uKGRvY3VtZW50KXt2YXIgbWU9dGhpczttZS5zdGFydENvbnRhaW5lcj1tZS5zdGFydE9mZnNldD1tZS5lbmRDb250YWluZXI9bWUuZW5kT2Zmc2V0PW51bGw7bWUuZG9jdW1lbnQ9ZG9jdW1lbnQ7bWUuY29sbGFwc2VkPXRydWV9O2Z1bmN0aW9uIHJlbW92ZUZpbGxEYXRhKGRvYyxleGNsdWRlTm9kZSl7dHJ5e2lmKGZpbGxEYXRhJiZkb21VdGlscy5pbkRvYyhmaWxsRGF0YSxkb2MpKXtpZighZmlsbERhdGEubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsIiIpLmxlbmd0aCl7dmFyIHRtcE5vZGU9ZmlsbERhdGEucGFyZW50Tm9kZTtkb21VdGlscy5yZW1vdmUoZmlsbERhdGEpO3doaWxlKHRtcE5vZGUmJmRvbVV0aWxzLmlzRW1wdHlJbmxpbmVFbGVtZW50KHRtcE5vZGUpJiYoYnJvd3Nlci5zYWZhcmk/IShkb21VdGlscy5nZXRQb3NpdGlvbih0bXBOb2RlLGV4Y2x1ZGVOb2RlKSZkb21VdGlscy5QT1NJVElPTl9DT05UQUlOUyk6IXRtcE5vZGUuY29udGFpbnMoZXhjbHVkZU5vZGUpKSl7ZmlsbERhdGE9dG1wTm9kZS5wYXJlbnROb2RlO2RvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTt0bXBOb2RlPWZpbGxEYXRhfX1lbHNle2ZpbGxEYXRhLm5vZGVWYWx1ZT1maWxsRGF0YS5ub2RlVmFsdWUucmVwbGFjZShmaWxsQ2hhclJlZywiIil9fX1jYXRjaChlKXt9fWZ1bmN0aW9uIG1lcmdlU2libGluZyhub2RlLGRpcil7dmFyIHRtcE5vZGU7bm9kZT1ub2RlW2Rpcl07d2hpbGUobm9kZSYmZG9tVXRpbHMuaXNGaWxsQ2hhcihub2RlKSl7dG1wTm9kZT1ub2RlW2Rpcl07ZG9tVXRpbHMucmVtb3ZlKG5vZGUpO25vZGU9dG1wTm9kZX19UmFuZ2UucHJvdG90eXBlPXtjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGFwc2VkP251bGw6ZXhlY0NvbnRlbnRzQWN0aW9uKHRoaXMsMCl9LGRlbGV0ZUNvbnRlbnRzOmZ1bmN0aW9uKCl7dmFyIHR4dDtpZighdGhpcy5jb2xsYXBzZWQpe2V4ZWNDb250ZW50c0FjdGlvbih0aGlzLDEpfWlmKGJyb3dzZXIud2Via2l0KXt0eHQ9dGhpcy5zdGFydENvbnRhaW5lcjtpZih0eHQubm9kZVR5cGU9PTMmJiF0eHQubm9kZVZhbHVlLmxlbmd0aCl7dGhpcy5zZXRTdGFydEJlZm9yZSh0eHQpLmNvbGxhcHNlKHRydWUpO2RvbVV0aWxzLnJlbW92ZSh0eHQpfX1yZXR1cm4gdGhpc30sZXh0cmFjdENvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGFwc2VkP251bGw6ZXhlY0NvbnRlbnRzQWN0aW9uKHRoaXMsMil9LHNldFN0YXJ0OmZ1bmN0aW9uKG5vZGUsb2Zmc2V0KXtyZXR1cm4gc2V0RW5kUG9pbnQodHJ1ZSxub2RlLG9mZnNldCx0aGlzKX0sc2V0RW5kOmZ1bmN0aW9uKG5vZGUsb2Zmc2V0KXtyZXR1cm4gc2V0RW5kUG9pbnQoZmFsc2Usbm9kZSxvZmZzZXQsdGhpcyl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZS5wYXJlbnROb2RlLGRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSsxKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZS5wYXJlbnROb2RlLGRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLnNldEVuZChub2RlLnBhcmVudE5vZGUsZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KG5vZGUpKzEpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0RW5kKG5vZGUucGFyZW50Tm9kZSxkb21VdGlscy5nZXROb2RlSW5kZXgobm9kZSkpfSxzZXRTdGFydEF0Rmlyc3Q6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZSwwKX0sc2V0U3RhcnRBdExhc3Q6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZSxub2RlLm5vZGVUeXBlPT0zP25vZGUubm9kZVZhbHVlLmxlbmd0aDpub2RlLmNoaWxkTm9kZXMubGVuZ3RoKX0sc2V0RW5kQXRGaXJzdDpmdW5jdGlvbihub2RlKXtyZXR1cm4gdGhpcy5zZXRFbmQobm9kZSwwKX0sc2V0RW5kQXRMYXN0OmZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLnNldEVuZChub2RlLG5vZGUubm9kZVR5cGU9PTM/bm9kZS5ub2RlVmFsdWUubGVuZ3RoOm5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpfSxzZWxlY3ROb2RlOmZ1bmN0aW9uKG5vZGUpe3JldHVybiB0aGlzLnNldFN0YXJ0QmVmb3JlKG5vZGUpLnNldEVuZEFmdGVyKG5vZGUpfSxzZWxlY3ROb2RlQ29udGVudHM6ZnVuY3Rpb24obm9kZSl7cmV0dXJuIHRoaXMuc2V0U3RhcnQobm9kZSwwKS5zZXRFbmRBdExhc3Qobm9kZSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztyZXR1cm4gbmV3IFJhbmdlKG1lLmRvY3VtZW50KS5zZXRTdGFydChtZS5zdGFydENvbnRhaW5lcixtZS5zdGFydE9mZnNldCkuc2V0RW5kKG1lLmVuZENvbnRhaW5lcixtZS5lbmRPZmZzZXQpfSxjb2xsYXBzZTpmdW5jdGlvbih0b1N0YXJ0KXt2YXIgbWU9dGhpcztpZih0b1N0YXJ0KXttZS5lbmRDb250YWluZXI9bWUuc3RhcnRDb250YWluZXI7bWUuZW5kT2Zmc2V0PW1lLnN0YXJ0T2Zmc2V0fWVsc2V7bWUuc3RhcnRDb250YWluZXI9bWUuZW5kQ29udGFpbmVyO21lLnN0YXJ0T2Zmc2V0PW1lLmVuZE9mZnNldH1tZS5jb2xsYXBzZWQ9dHJ1ZTtyZXR1cm4gbWV9LHNocmlua0JvdW5kYXJ5OmZ1bmN0aW9uKGlnbm9yZUVuZCl7dmFyIG1lPXRoaXMsY2hpbGQsY29sbGFwc2VkPW1lLmNvbGxhcHNlZDtmdW5jdGlvbiBjaGVjayhub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MSYmIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpJiYhZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdJiYhZHRkLiRub25DaGlsZFtub2RlLnRhZ05hbWVdfXdoaWxlKG1lLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xJiYoY2hpbGQ9bWUuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1ttZS5zdGFydE9mZnNldF0pJiZjaGVjayhjaGlsZCkpe21lLnNldFN0YXJ0KGNoaWxkLDApfWlmKGNvbGxhcHNlZCl7cmV0dXJuIG1lLmNvbGxhcHNlKHRydWUpfWlmKCFpZ25vcmVFbmQpe3doaWxlKG1lLmVuZENvbnRhaW5lci5ub2RlVHlwZT09MSYmbWUuZW5kT2Zmc2V0PjAmJihjaGlsZD1tZS5lbmRDb250YWluZXIuY2hpbGROb2Rlc1ttZS5lbmRPZmZzZXQtMV0pJiZjaGVjayhjaGlsZCkpe21lLnNldEVuZChjaGlsZCxjaGlsZC5jaGlsZE5vZGVzLmxlbmd0aCl9fXJldHVybiBtZX0sZ2V0Q29tbW9uQW5jZXN0b3I6ZnVuY3Rpb24oaW5jbHVkZVNlbGYsaWdub3JlVGV4dE5vZGUpe3ZhciBtZT10aGlzLHN0YXJ0PW1lLnN0YXJ0Q29udGFpbmVyLGVuZD1tZS5lbmRDb250YWluZXI7aWYoc3RhcnQ9PT1lbmQpe2lmKGluY2x1ZGVTZWxmJiZzZWxlY3RPbmVOb2RlKHRoaXMpKXtzdGFydD1zdGFydC5jaGlsZE5vZGVzW21lLnN0YXJ0T2Zmc2V0XTtpZihzdGFydC5ub2RlVHlwZT09MSl7cmV0dXJuIHN0YXJ0fX1yZXR1cm4gaWdub3JlVGV4dE5vZGUmJnN0YXJ0Lm5vZGVUeXBlPT0zP3N0YXJ0LnBhcmVudE5vZGU6c3RhcnR9cmV0dXJuIGRvbVV0aWxzLmdldENvbW1vbkFuY2VzdG9yKHN0YXJ0LGVuZCl9LHRyaW1Cb3VuZGFyeTpmdW5jdGlvbihpZ25vcmVFbmQpe3RoaXMudHh0VG9FbG1Cb3VuZGFyeSgpO3ZhciBzdGFydD10aGlzLnN0YXJ0Q29udGFpbmVyLG9mZnNldD10aGlzLnN0YXJ0T2Zmc2V0LGNvbGxhcHNlZD10aGlzLmNvbGxhcHNlZCxlbmQ9dGhpcy5lbmRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTMpe2lmKG9mZnNldD09MCl7dGhpcy5zZXRTdGFydEJlZm9yZShzdGFydCl9ZWxzZXtpZihvZmZzZXQ+PXN0YXJ0Lm5vZGVWYWx1ZS5sZW5ndGgpe3RoaXMuc2V0U3RhcnRBZnRlcihzdGFydCl9ZWxzZXt2YXIgdGV4dE5vZGU9ZG9tVXRpbHMuc3BsaXQoc3RhcnQsb2Zmc2V0KTtpZihzdGFydD09PWVuZCl7dGhpcy5zZXRFbmQodGV4dE5vZGUsdGhpcy5lbmRPZmZzZXQtb2Zmc2V0KX1lbHNle2lmKHN0YXJ0LnBhcmVudE5vZGU9PT1lbmQpe3RoaXMuZW5kT2Zmc2V0Kz0xfX10aGlzLnNldFN0YXJ0QmVmb3JlKHRleHROb2RlKX19aWYoY29sbGFwc2VkKXtyZXR1cm4gdGhpcy5jb2xsYXBzZSh0cnVlKX19aWYoIWlnbm9yZUVuZCl7b2Zmc2V0PXRoaXMuZW5kT2Zmc2V0O2VuZD10aGlzLmVuZENvbnRhaW5lcjtpZihlbmQubm9kZVR5cGU9PTMpe2lmKG9mZnNldD09MCl7dGhpcy5zZXRFbmRCZWZvcmUoZW5kKX1lbHNle29mZnNldDxlbmQubm9kZVZhbHVlLmxlbmd0aCYmZG9tVXRpbHMuc3BsaXQoZW5kLG9mZnNldCk7dGhpcy5zZXRFbmRBZnRlcihlbmQpfX19cmV0dXJuIHRoaXN9LHR4dFRvRWxtQm91bmRhcnk6ZnVuY3Rpb24oaWdub3JlQ29sbGFwc2VkKXtmdW5jdGlvbiBhZGp1c3QocixjKXt2YXIgY29udGFpbmVyPXJbYysiQ29udGFpbmVyIl0sb2Zmc2V0PXJbYysiT2Zmc2V0Il07aWYoY29udGFpbmVyLm5vZGVUeXBlPT0zKXtpZighb2Zmc2V0KXtyWyJzZXQiK2MucmVwbGFjZSgvKFx3KS8sZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9VcHBlckNhc2UoKX0pKyJCZWZvcmUiXShjb250YWluZXIpfWVsc2V7aWYob2Zmc2V0Pj1jb250YWluZXIubm9kZVZhbHVlLmxlbmd0aCl7clsic2V0IitjLnJlcGxhY2UoLyhcdykvLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvVXBwZXJDYXNlKCl9KSsiQWZ0ZXIiXShjb250YWluZXIpfX19fWlmKGlnbm9yZUNvbGxhcHNlZHx8IXRoaXMuY29sbGFwc2VkKXthZGp1c3QodGhpcywic3RhcnQiKTthZGp1c3QodGhpcywiZW5kIil9cmV0dXJuIHRoaXN9LGluc2VydE5vZGU6ZnVuY3Rpb24obm9kZSl7dmFyIGZpcnN0PW5vZGUsbGVuZ3RoPTE7aWYobm9kZS5ub2RlVHlwZT09MTEpe2ZpcnN0PW5vZGUuZmlyc3RDaGlsZDtsZW5ndGg9bm9kZS5jaGlsZE5vZGVzLmxlbmd0aH10aGlzLnRyaW1Cb3VuZGFyeSh0cnVlKTt2YXIgc3RhcnQ9dGhpcy5zdGFydENvbnRhaW5lcixvZmZzZXQ9dGhpcy5zdGFydE9mZnNldDt2YXIgbmV4dE5vZGU9c3RhcnQuY2hpbGROb2Rlc1tvZmZzZXRdO2lmKG5leHROb2RlKXtzdGFydC5pbnNlcnRCZWZvcmUobm9kZSxuZXh0Tm9kZSl9ZWxzZXtzdGFydC5hcHBlbmRDaGlsZChub2RlKX1pZihmaXJzdC5wYXJlbnROb2RlPT09dGhpcy5lbmRDb250YWluZXIpe3RoaXMuZW5kT2Zmc2V0PXRoaXMuZW5kT2Zmc2V0K2xlbmd0aH1yZXR1cm4gdGhpcy5zZXRTdGFydEJlZm9yZShmaXJzdCl9LHNldEN1cnNvcjpmdW5jdGlvbih0b0VuZCxub0ZpbGxEYXRhKXtyZXR1cm4gdGhpcy5jb2xsYXBzZSghdG9FbmQpLnNlbGVjdChub0ZpbGxEYXRhKX0sY3JlYXRlQm9va21hcms6ZnVuY3Rpb24oc2VyaWFsaXplLHNhbWUpe3ZhciBlbmROb2RlLHN0YXJ0Tm9kZT10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtzdGFydE5vZGUuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpub25lO2xpbmUtaGVpZ2h0OjBweDsiO3N0YXJ0Tm9kZS5hcHBlbmRDaGlsZCh0aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJcdTIwMEQiKSk7c3RhcnROb2RlLmlkPSJfYmFpZHVfYm9va21hcmtfc3RhcnRfIisoc2FtZT8iIjpndWlkKyspO2lmKCF0aGlzLmNvbGxhcHNlZCl7ZW5kTm9kZT1zdGFydE5vZGUuY2xvbmVOb2RlKHRydWUpO2VuZE5vZGUuaWQ9Il9iYWlkdV9ib29rbWFya19lbmRfIisoc2FtZT8iIjpndWlkKyspfXRoaXMuaW5zZXJ0Tm9kZShzdGFydE5vZGUpO2lmKGVuZE5vZGUpe3RoaXMuY29sbGFwc2UoKS5pbnNlcnROb2RlKGVuZE5vZGUpLnNldEVuZEJlZm9yZShlbmROb2RlKX10aGlzLnNldFN0YXJ0QWZ0ZXIoc3RhcnROb2RlKTtyZXR1cm57c3RhcnQ6c2VyaWFsaXplP3N0YXJ0Tm9kZS5pZDpzdGFydE5vZGUsZW5kOmVuZE5vZGU/c2VyaWFsaXplP2VuZE5vZGUuaWQ6ZW5kTm9kZTpudWxsLGlkOnNlcmlhbGl6ZX19LG1vdmVUb0Jvb2ttYXJrOmZ1bmN0aW9uKGJvb2ttYXJrKXt2YXIgc3RhcnQ9Ym9va21hcmsuaWQ/dGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChib29rbWFyay5zdGFydCk6Ym9va21hcmsuc3RhcnQsZW5kPWJvb2ttYXJrLmVuZCYmYm9va21hcmsuaWQ/dGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChib29rbWFyay5lbmQpOmJvb2ttYXJrLmVuZDt0aGlzLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KTtkb21VdGlscy5yZW1vdmUoc3RhcnQpO2lmKGVuZCl7dGhpcy5zZXRFbmRCZWZvcmUoZW5kKTtkb21VdGlscy5yZW1vdmUoZW5kKX1lbHNle3RoaXMuY29sbGFwc2UodHJ1ZSl9cmV0dXJuIHRoaXN9LGVubGFyZ2U6ZnVuY3Rpb24odG9CbG9jayxzdG9wRm4pe3ZhciBpc0JvZHk9ZG9tVXRpbHMuaXNCb2R5LHByZSxub2RlLHRtcD10aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtpZih0b0Jsb2NrKXtub2RlPXRoaXMuc3RhcnRDb250YWluZXI7aWYobm9kZS5ub2RlVHlwZT09MSl7aWYobm9kZS5jaGlsZE5vZGVzW3RoaXMuc3RhcnRPZmZzZXRdKXtwcmU9bm9kZT1ub2RlLmNoaWxkTm9kZXNbdGhpcy5zdGFydE9mZnNldF19ZWxzZXtub2RlLmFwcGVuZENoaWxkKHRtcCk7cHJlPW5vZGU9dG1wfX1lbHNle3ByZT1ub2RlfXdoaWxlKDEpe2lmKGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkpe25vZGU9cHJlO3doaWxlKChwcmU9bm9kZS5wcmV2aW91c1NpYmxpbmcpJiYhZG9tVXRpbHMuaXNCbG9ja0VsbShwcmUpKXtub2RlPXByZX10aGlzLnNldFN0YXJ0QmVmb3JlKG5vZGUpO2JyZWFrfXByZT1ub2RlO25vZGU9bm9kZS5wYXJlbnROb2RlfW5vZGU9dGhpcy5lbmRDb250YWluZXI7aWYobm9kZS5ub2RlVHlwZT09MSl7aWYocHJlPW5vZGUuY2hpbGROb2Rlc1t0aGlzLmVuZE9mZnNldF0pe25vZGUuaW5zZXJ0QmVmb3JlKHRtcCxwcmUpfWVsc2V7bm9kZS5hcHBlbmRDaGlsZCh0bXApfXByZT1ub2RlPXRtcH1lbHNle3ByZT1ub2RlfXdoaWxlKDEpe2lmKGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkpe25vZGU9cHJlO3doaWxlKChwcmU9bm9kZS5uZXh0U2libGluZykmJiFkb21VdGlscy5pc0Jsb2NrRWxtKHByZSkpe25vZGU9cHJlfXRoaXMuc2V0RW5kQWZ0ZXIobm9kZSk7YnJlYWt9cHJlPW5vZGU7bm9kZT1ub2RlLnBhcmVudE5vZGV9aWYodG1wLnBhcmVudE5vZGU9PT10aGlzLmVuZENvbnRhaW5lcil7dGhpcy5lbmRPZmZzZXQtLX1kb21VdGlscy5yZW1vdmUodG1wKX1pZighdGhpcy5jb2xsYXBzZWQpe3doaWxlKHRoaXMuc3RhcnRPZmZzZXQ9PTApe2lmKHN0b3BGbiYmc3RvcEZuKHRoaXMuc3RhcnRDb250YWluZXIpKXticmVha31pZihpc0JvZHkodGhpcy5zdGFydENvbnRhaW5lcikpe2JyZWFrfXRoaXMuc2V0U3RhcnRCZWZvcmUodGhpcy5zdGFydENvbnRhaW5lcil9d2hpbGUodGhpcy5lbmRPZmZzZXQ9PSh0aGlzLmVuZENvbnRhaW5lci5ub2RlVHlwZT09MT90aGlzLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aDp0aGlzLmVuZENvbnRhaW5lci5ub2RlVmFsdWUubGVuZ3RoKSl7aWYoc3RvcEZuJiZzdG9wRm4odGhpcy5lbmRDb250YWluZXIpKXticmVha31pZihpc0JvZHkodGhpcy5lbmRDb250YWluZXIpKXticmVha310aGlzLnNldEVuZEFmdGVyKHRoaXMuZW5kQ29udGFpbmVyKX19cmV0dXJuIHRoaXN9LGVubGFyZ2VUb0Jsb2NrRWxtOmZ1bmN0aW9uKGlnbm9yZUVuZCl7d2hpbGUoIWRvbVV0aWxzLmlzQmxvY2tFbG0odGhpcy5zdGFydENvbnRhaW5lcikpe3RoaXMuc2V0U3RhcnRCZWZvcmUodGhpcy5zdGFydENvbnRhaW5lcil9aWYoIWlnbm9yZUVuZCl7d2hpbGUoIWRvbVV0aWxzLmlzQmxvY2tFbG0odGhpcy5lbmRDb250YWluZXIpKXt0aGlzLnNldEVuZEFmdGVyKHRoaXMuZW5kQ29udGFpbmVyKX19cmV0dXJuIHRoaXN9LGFkanVzdG1lbnRCb3VuZGFyeTpmdW5jdGlvbigpe2lmKCF0aGlzLmNvbGxhcHNlZCl7d2hpbGUoIWRvbVV0aWxzLmlzQm9keSh0aGlzLnN0YXJ0Q29udGFpbmVyKSYmdGhpcy5zdGFydE9mZnNldD09dGhpcy5zdGFydENvbnRhaW5lclt0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0zPyJub2RlVmFsdWUiOiJjaGlsZE5vZGVzIl0ubGVuZ3RoJiZ0aGlzLnN0YXJ0Q29udGFpbmVyW3RoaXMuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTM/Im5vZGVWYWx1ZSI6ImNoaWxkTm9kZXMiXS5sZW5ndGgpe3RoaXMuc2V0U3RhcnRBZnRlcih0aGlzLnN0YXJ0Q29udGFpbmVyKX13aGlsZSghZG9tVXRpbHMuaXNCb2R5KHRoaXMuZW5kQ29udGFpbmVyKSYmIXRoaXMuZW5kT2Zmc2V0JiZ0aGlzLmVuZENvbnRhaW5lclt0aGlzLmVuZENvbnRhaW5lci5ub2RlVHlwZT09Mz8ibm9kZVZhbHVlIjoiY2hpbGROb2RlcyJdLmxlbmd0aCl7dGhpcy5zZXRFbmRCZWZvcmUodGhpcy5lbmRDb250YWluZXIpfX1yZXR1cm4gdGhpc30sYXBwbHlJbmxpbmVTdHlsZTpmdW5jdGlvbih0YWdOYW1lLGF0dHJzLGxpc3Qpe2lmKHRoaXMuY29sbGFwc2VkKXtyZXR1cm4gdGhpc310aGlzLnRyaW1Cb3VuZGFyeSgpLmVubGFyZ2UoZmFsc2UsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTEmJmRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSl9KS5hZGp1c3RtZW50Qm91bmRhcnkoKTt2YXIgYm9va21hcms9dGhpcy5jcmVhdGVCb29rbWFyaygpLGVuZD1ib29rbWFyay5lbmQsZmlsdGVyRm49ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTE/bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPSJiciI6IWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKX0sY3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyay5zdGFydCxmYWxzZSxmaWx0ZXJGbiksbm9kZSxwcmUscmFuZ2U9dGhpcy5jbG9uZVJhbmdlKCk7d2hpbGUoY3VycmVudCYmKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsZW5kKSZkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcpKXtpZihjdXJyZW50Lm5vZGVUeXBlPT0zfHxkdGRbdGFnTmFtZV1bY3VycmVudC50YWdOYW1lXSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY3VycmVudCk7bm9kZT1jdXJyZW50O3doaWxlKG5vZGUmJihub2RlLm5vZGVUeXBlPT0zfHxkdGRbdGFnTmFtZV1bbm9kZS50YWdOYW1lXSkmJm5vZGUhPT1lbmQpe3ByZT1ub2RlO25vZGU9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUobm9kZSxub2RlLm5vZGVUeXBlPT0xLG51bGwsZnVuY3Rpb24ocGFyZW50KXtyZXR1cm4gZHRkW3RhZ05hbWVdW3BhcmVudC50YWdOYW1lXX0pfXZhciBmcmFnPXJhbmdlLnNldEVuZEFmdGVyKHByZSkuZXh0cmFjdENvbnRlbnRzKCksZWxtO2lmKGxpc3QmJmxpc3QubGVuZ3RoPjApe3ZhciBsZXZlbCx0b3A7dG9wPWxldmVsPWxpc3RbMF0uY2xvbmVOb2RlKGZhbHNlKTtmb3IodmFyIGk9MSxjaTtjaT1saXN0W2krK107KXtsZXZlbC5hcHBlbmRDaGlsZChjaS5jbG9uZU5vZGUoZmFsc2UpKTtsZXZlbD1sZXZlbC5maXJzdENoaWxkfWVsbT1sZXZlbH1lbHNle2VsbT1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpfWlmKGF0dHJzKXtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGVsbSxhdHRycyl9ZWxtLmFwcGVuZENoaWxkKGZyYWcpO3JhbmdlLmluc2VydE5vZGUobGlzdD90b3A6ZWxtKTt2YXIgYU5vZGU7aWYodGFnTmFtZT09InNwYW4iJiZhdHRycy5zdHlsZSYmL3RleHRcLWRlY29yYXRpb24vLnRlc3QoYXR0cnMuc3R5bGUpJiYoYU5vZGU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbG0sImEiLHRydWUpKSl7ZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhhTm9kZSxhdHRycyk7ZG9tVXRpbHMucmVtb3ZlKGVsbSx0cnVlKTtlbG09YU5vZGV9ZWxzZXtkb21VdGlscy5tZXJnZVNpYmxpbmcoZWxtKTtkb21VdGlscy5jbGVhckVtcHR5U2libGluZyhlbG0pfWRvbVV0aWxzLm1lcmdlQ2hpbGQoZWxtLGF0dHJzKTtjdXJyZW50PWRvbVV0aWxzLmdldE5leHREb21Ob2RlKGVsbSxmYWxzZSxmaWx0ZXJGbik7ZG9tVXRpbHMubWVyZ2VUb1BhcmVudChlbG0pO2lmKG5vZGU9PT1lbmQpe2JyZWFrfX1lbHNle2N1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCx0cnVlLGZpbHRlckZuKX19cmV0dXJuIHRoaXMubW92ZVRvQm9va21hcmsoYm9va21hcmspfSxyZW1vdmVJbmxpbmVTdHlsZTpmdW5jdGlvbih0YWdOYW1lcyl7aWYodGhpcy5jb2xsYXBzZWQpe3JldHVybiB0aGlzfXRhZ05hbWVzPXV0aWxzLmlzQXJyYXkodGFnTmFtZXMpP3RhZ05hbWVzOlt0YWdOYW1lc107dGhpcy5zaHJpbmtCb3VuZGFyeSgpLmFkanVzdG1lbnRCb3VuZGFyeSgpO3ZhciBzdGFydD10aGlzLnN0YXJ0Q29udGFpbmVyLGVuZD10aGlzLmVuZENvbnRhaW5lcjt3aGlsZSgxKXtpZihzdGFydC5ub2RlVHlwZT09MSl7aWYodXRpbHMuaW5kZXhPZih0YWdOYW1lcyxzdGFydC50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKXticmVha31pZihzdGFydC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJib2R5Iil7c3RhcnQ9bnVsbDticmVha319c3RhcnQ9c3RhcnQucGFyZW50Tm9kZX13aGlsZSgxKXtpZihlbmQubm9kZVR5cGU9PTEpe2lmKHV0aWxzLmluZGV4T2YodGFnTmFtZXMsZW5kLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk+LTEpe2JyZWFrfWlmKGVuZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJib2R5Iil7ZW5kPW51bGw7YnJlYWt9fWVuZD1lbmQucGFyZW50Tm9kZX12YXIgYm9va21hcms9dGhpcy5jcmVhdGVCb29rbWFyaygpLGZyYWcsdG1wUmFuZ2U7aWYoc3RhcnQpe3RtcFJhbmdlPXRoaXMuY2xvbmVSYW5nZSgpLnNldEVuZEJlZm9yZShib29rbWFyay5zdGFydCkuc2V0U3RhcnRCZWZvcmUoc3RhcnQpO2ZyYWc9dG1wUmFuZ2UuZXh0cmFjdENvbnRlbnRzKCk7dG1wUmFuZ2UuaW5zZXJ0Tm9kZShmcmFnKTtkb21VdGlscy5jbGVhckVtcHR5U2libGluZyhzdGFydCx0cnVlKTtzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShib29rbWFyay5zdGFydCxzdGFydCl9aWYoZW5kKXt0bXBSYW5nZT10aGlzLmNsb25lUmFuZ2UoKS5zZXRTdGFydEFmdGVyKGJvb2ttYXJrLmVuZCkuc2V0RW5kQWZ0ZXIoZW5kKTtmcmFnPXRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpO3RtcFJhbmdlLmluc2VydE5vZGUoZnJhZyk7ZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcoZW5kLGZhbHNlLHRydWUpO2VuZC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShib29rbWFyay5lbmQsZW5kLm5leHRTaWJsaW5nKX12YXIgY3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyay5zdGFydCxmYWxzZSxmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MX0pLG5leHQ7d2hpbGUoY3VycmVudCYmY3VycmVudCE9PWJvb2ttYXJrLmVuZCl7bmV4dD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LHRydWUsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTF9KTtpZih1dGlscy5pbmRleE9mKHRhZ05hbWVzLGN1cnJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKT4tMSl7ZG9tVXRpbHMucmVtb3ZlKGN1cnJlbnQsdHJ1ZSl9Y3VycmVudD1uZXh0fXJldHVybiB0aGlzLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrKX0sZ2V0Q2xvc2VkTm9kZTpmdW5jdGlvbigpe3ZhciBub2RlO2lmKCF0aGlzLmNvbGxhcHNlZCl7dmFyIHJhbmdlPXRoaXMuY2xvbmVSYW5nZSgpLmFkanVzdG1lbnRCb3VuZGFyeSgpLnNocmlua0JvdW5kYXJ5KCk7aWYoc2VsZWN0T25lTm9kZShyYW5nZSkpe3ZhciBjaGlsZD1yYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XTtpZihjaGlsZCYmY2hpbGQubm9kZVR5cGU9PTEmJihkdGQuJGVtcHR5W2NoaWxkLnRhZ05hbWVdfHxkdGQuJG5vbkNoaWxkW2NoaWxkLnRhZ05hbWVdKSl7bm9kZT1jaGlsZH19fXJldHVybiBub2RlfSxzZWxlY3Q6YnJvd3Nlci5pZT9mdW5jdGlvbihub0ZpbGxEYXRhLHRleHRSYW5nZSl7dmFyIG5hdGl2ZVJhbmdlO2lmKCF0aGlzLmNvbGxhcHNlZCl7dGhpcy5zaHJpbmtCb3VuZGFyeSgpfXZhciBub2RlPXRoaXMuZ2V0Q2xvc2VkTm9kZSgpO2lmKG5vZGUmJiF0ZXh0UmFuZ2Upe3RyeXtuYXRpdmVSYW5nZT10aGlzLmRvY3VtZW50LmJvZHkuY3JlYXRlQ29udHJvbFJhbmdlKCk7bmF0aXZlUmFuZ2UuYWRkRWxlbWVudChub2RlKTtuYXRpdmVSYW5nZS5zZWxlY3QoKX1jYXRjaChlKXt9cmV0dXJuIHRoaXN9dmFyIGJvb2ttYXJrPXRoaXMuY3JlYXRlQm9va21hcmsoKSxzdGFydD1ib29rbWFyay5zdGFydCxlbmQ7bmF0aXZlUmFuZ2U9dGhpcy5kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO25hdGl2ZVJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KHN0YXJ0KTtuYXRpdmVSYW5nZS5tb3ZlU3RhcnQoImNoYXJhY3RlciIsMSk7aWYoIXRoaXMuY29sbGFwc2VkKXt2YXIgbmF0aXZlUmFuZ2VFbmQ9dGhpcy5kb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO2VuZD1ib29rbWFyay5lbmQ7bmF0aXZlUmFuZ2VFbmQubW92ZVRvRWxlbWVudFRleHQoZW5kKTtuYXRpdmVSYW5nZS5zZXRFbmRQb2ludCgiRW5kVG9FbmQiLG5hdGl2ZVJhbmdlRW5kKX1lbHNle2lmKCFub0ZpbGxEYXRhJiZ0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlIT0zKXt2YXIgdG1wVGV4dD10aGlzLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGZpbGxDaGFyKSx0bXA9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7dG1wLmFwcGVuZENoaWxkKHRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmlsbENoYXIpKTtzdGFydC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXAsc3RhcnQpO3N0YXJ0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRtcFRleHQsc3RhcnQpO3JlbW92ZUZpbGxEYXRhKHRoaXMuZG9jdW1lbnQsdG1wVGV4dCk7ZmlsbERhdGE9dG1wVGV4dDttZXJnZVNpYmxpbmcodG1wLCJwcmV2aW91c1NpYmxpbmciKTttZXJnZVNpYmxpbmcoc3RhcnQsIm5leHRTaWJsaW5nIik7bmF0aXZlUmFuZ2UubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLC0xKTtuYXRpdmVSYW5nZS5jb2xsYXBzZSh0cnVlKX19dGhpcy5tb3ZlVG9Cb29rbWFyayhib29rbWFyayk7dG1wJiZkb21VdGlscy5yZW1vdmUodG1wKTt0cnl7bmF0aXZlUmFuZ2Uuc2VsZWN0KCl9Y2F0Y2goZSl7fXJldHVybiB0aGlzfTpmdW5jdGlvbihub3RJbnNlcnRGaWxsRGF0YSl7ZnVuY3Rpb24gY2hlY2tPZmZzZXQocm5nKXtmdW5jdGlvbiBjaGVjayhub2RlLG9mZnNldCxkaXIpe2lmKG5vZGUubm9kZVR5cGU9PTMmJm5vZGUubm9kZVZhbHVlLmxlbmd0aDxvZmZzZXQpe3JuZ1tkaXIrIk9mZnNldCJdPW5vZGUubm9kZVZhbHVlLmxlbmd0aH19Y2hlY2socm5nLnN0YXJ0Q29udGFpbmVyLHJuZy5zdGFydE9mZnNldCwic3RhcnQiKTtjaGVjayhybmcuZW5kQ29udGFpbmVyLHJuZy5lbmRPZmZzZXQsImVuZCIpfXZhciB3aW49ZG9tVXRpbHMuZ2V0V2luZG93KHRoaXMuZG9jdW1lbnQpLHNlbD13aW4uZ2V0U2VsZWN0aW9uKCksdHh0Tm9kZTticm93c2VyLmdlY2tvP3RoaXMuZG9jdW1lbnQuYm9keS5mb2N1cygpOndpbi5mb2N1cygpO2lmKHNlbCl7c2VsLnJlbW92ZUFsbFJhbmdlcygpO2lmKHRoaXMuY29sbGFwc2VkJiYhbm90SW5zZXJ0RmlsbERhdGEpe3ZhciBzdGFydD10aGlzLnN0YXJ0Q29udGFpbmVyLGNoaWxkPXN0YXJ0O2lmKHN0YXJ0Lm5vZGVUeXBlPT0xKXtjaGlsZD1zdGFydC5jaGlsZE5vZGVzW3RoaXMuc3RhcnRPZmZzZXRdfWlmKCEoc3RhcnQubm9kZVR5cGU9PTMmJnRoaXMuc3RhcnRPZmZzZXQpJiYoY2hpbGQ/KCFjaGlsZC5wcmV2aW91c1NpYmxpbmd8fGNoaWxkLnByZXZpb3VzU2libGluZy5ub2RlVHlwZSE9Myk6KCFzdGFydC5sYXN0Q2hpbGR8fHN0YXJ0Lmxhc3RDaGlsZC5ub2RlVHlwZSE9MykpKXt0eHROb2RlPXRoaXMuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZmlsbENoYXIpO3RoaXMuaW5zZXJ0Tm9kZSh0eHROb2RlKTtyZW1vdmVGaWxsRGF0YSh0aGlzLmRvY3VtZW50LHR4dE5vZGUpO21lcmdlU2libGluZyh0eHROb2RlLCJwcmV2aW91c1NpYmxpbmciKTttZXJnZVNpYmxpbmcodHh0Tm9kZSwibmV4dFNpYmxpbmciKTtmaWxsRGF0YT10eHROb2RlO3RoaXMuc2V0U3RhcnQodHh0Tm9kZSxicm93c2VyLndlYmtpdD8xOjApLmNvbGxhcHNlKHRydWUpfX12YXIgbmF0aXZlUmFuZ2U9dGhpcy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO2lmKHRoaXMuY29sbGFwc2VkJiZicm93c2VyLm9wZXJhJiZ0aGlzLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xKXt2YXIgY2hpbGQ9dGhpcy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3RoaXMuc3RhcnRPZmZzZXRdO2lmKCFjaGlsZCl7Y2hpbGQ9dGhpcy5zdGFydENvbnRhaW5lci5sYXN0Q2hpbGQ7aWYoY2hpbGQmJmRvbVV0aWxzLmlzQnIoY2hpbGQpKXt0aGlzLnNldFN0YXJ0QmVmb3JlKGNoaWxkKS5jb2xsYXBzZSh0cnVlKX19ZWxzZXt3aGlsZShjaGlsZCYmZG9tVXRpbHMuaXNCbG9ja0VsbShjaGlsZCkpe2lmKGNoaWxkLm5vZGVUeXBlPT0xJiZjaGlsZC5jaGlsZE5vZGVzWzBdKXtjaGlsZD1jaGlsZC5jaGlsZE5vZGVzWzBdfWVsc2V7YnJlYWt9fWNoaWxkJiZ0aGlzLnNldFN0YXJ0QmVmb3JlKGNoaWxkKS5jb2xsYXBzZSh0cnVlKX19Y2hlY2tPZmZzZXQodGhpcyk7bmF0aXZlUmFuZ2Uuc2V0U3RhcnQodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnN0YXJ0T2Zmc2V0KTtuYXRpdmVSYW5nZS5zZXRFbmQodGhpcy5lbmRDb250YWluZXIsdGhpcy5lbmRPZmZzZXQpO3NlbC5hZGRSYW5nZShuYXRpdmVSYW5nZSl9cmV0dXJuIHRoaXN9LHNjcm9sbFRvVmlldzpmdW5jdGlvbih3aW4sb2Zmc2V0KXt3aW49d2luP3dpbmRvdzpkb21VdGlscy5nZXRXaW5kb3codGhpcy5kb2N1bWVudCk7dmFyIG1lPXRoaXMsc3Bhbj1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7c3Bhbi5pbm5lckhUTUw9IiZuYnNwOyI7bWUuY2xvbmVSYW5nZSgpLmluc2VydE5vZGUoc3Bhbik7ZG9tVXRpbHMuc2Nyb2xsVG9WaWV3KHNwYW4sd2luLG9mZnNldCk7ZG9tVXRpbHMucmVtb3ZlKHNwYW4pO3JldHVybiBtZX0saW5GaWxsQ2hhcjpmdW5jdGlvbigpe3ZhciBzdGFydD10aGlzLnN0YXJ0Q29udGFpbmVyO2lmKHRoaXMuY29sbGFwc2VkJiZzdGFydC5ub2RlVHlwZT09MyYmc3RhcnQubm9kZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cCgiXiIrZG9tVXRpbHMuZmlsbENoYXIpLCIiKS5sZW5ndGgrMT09c3RhcnQubm9kZVZhbHVlLmxlbmd0aCl7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfSxjcmVhdGVBZGRyZXNzOmZ1bmN0aW9uKGlnbm9yZUVuZCxpZ25vcmVUeHQpe3ZhciBhZGRyPXt9LG1lPXRoaXM7ZnVuY3Rpb24gZ2V0QWRkcmVzcyhpc1N0YXJ0KXt2YXIgbm9kZT1pc1N0YXJ0P21lLnN0YXJ0Q29udGFpbmVyOm1lLmVuZENvbnRhaW5lcjt2YXIgcGFyZW50cz1kb21VdGlscy5maW5kUGFyZW50cyhub2RlLHRydWUsZnVuY3Rpb24obm9kZSl7cmV0dXJuICFkb21VdGlscy5pc0JvZHkobm9kZSl9KSxhZGRycz1bXTtmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnRzW2krK107KXthZGRycy5wdXNoKGRvbVV0aWxzLmdldE5vZGVJbmRleChjaSxpZ25vcmVUeHQpKX12YXIgZmlyc3RJbmRleD0wO2lmKGlnbm9yZVR4dCl7aWYobm9kZS5ub2RlVHlwZT09Myl7dmFyIHRtcE5vZGU9bm9kZS5wcmV2aW91c1NpYmxpbmc7d2hpbGUodG1wTm9kZSYmdG1wTm9kZS5ub2RlVHlwZT09Myl7Zmlyc3RJbmRleCs9dG1wTm9kZS5ub2RlVmFsdWUucmVwbGFjZShmaWxsQ2hhclJlZywiIikubGVuZ3RoO3RtcE5vZGU9dG1wTm9kZS5wcmV2aW91c1NpYmxpbmd9Zmlyc3RJbmRleCs9KGlzU3RhcnQ/bWUuc3RhcnRPZmZzZXQ6bWUuZW5kT2Zmc2V0KX1lbHNle25vZGU9bm9kZS5jaGlsZE5vZGVzW2lzU3RhcnQ/bWUuc3RhcnRPZmZzZXQ6bWUuZW5kT2Zmc2V0XTtpZihub2RlKXtmaXJzdEluZGV4PWRvbVV0aWxzLmdldE5vZGVJbmRleChub2RlLGlnbm9yZVR4dCl9ZWxzZXtub2RlPWlzU3RhcnQ/bWUuc3RhcnRDb250YWluZXI6bWUuZW5kQ29udGFpbmVyO3ZhciBmaXJzdD1ub2RlLmZpcnN0Q2hpbGQ7d2hpbGUoZmlyc3Qpe2lmKGRvbVV0aWxzLmlzRmlsbENoYXIoZmlyc3QpKXtmaXJzdD1maXJzdC5uZXh0U2libGluZztjb250aW51ZX1maXJzdEluZGV4Kys7aWYoZmlyc3Qubm9kZVR5cGU9PTMpe3doaWxlKGZpcnN0JiZmaXJzdC5ub2RlVHlwZT09Myl7Zmlyc3Q9Zmlyc3QubmV4dFNpYmxpbmd9fWVsc2V7Zmlyc3Q9Zmlyc3QubmV4dFNpYmxpbmd9fX19fWVsc2V7Zmlyc3RJbmRleD1pc1N0YXJ0P2RvbVV0aWxzLmlzRmlsbENoYXIobm9kZSk/MDptZS5zdGFydE9mZnNldDptZS5lbmRPZmZzZXR9aWYoZmlyc3RJbmRleDwwKXtmaXJzdEluZGV4PTB9YWRkcnMucHVzaChmaXJzdEluZGV4KTtyZXR1cm4gYWRkcnN9YWRkci5zdGFydEFkZHJlc3M9Z2V0QWRkcmVzcyh0cnVlKTtpZighaWdub3JlRW5kKXthZGRyLmVuZEFkZHJlc3M9bWUuY29sbGFwc2VkP1tdLmNvbmNhdChhZGRyLnN0YXJ0QWRkcmVzcyk6Z2V0QWRkcmVzcygpfXJldHVybiBhZGRyfSxtb3ZlVG9BZGRyZXNzOmZ1bmN0aW9uKGFkZHIsaWdub3JlRW5kKXt2YXIgbWU9dGhpcztmdW5jdGlvbiBnZXROb2RlKGFkZHJlc3MsaXNTdGFydCl7dmFyIHRtcE5vZGU9bWUuZG9jdW1lbnQuYm9keSxwYXJlbnROb2RlLG9mZnNldDtmb3IodmFyIGk9MCxjaSxsPWFkZHJlc3MubGVuZ3RoO2k8bDtpKyspe2NpPWFkZHJlc3NbaV07cGFyZW50Tm9kZT10bXBOb2RlO3RtcE5vZGU9dG1wTm9kZS5jaGlsZE5vZGVzW2NpXTtpZighdG1wTm9kZSl7b2Zmc2V0PWNpO2JyZWFrfX1pZihpc1N0YXJ0KXtpZih0bXBOb2RlKXttZS5zZXRTdGFydEJlZm9yZSh0bXBOb2RlKX1lbHNle21lLnNldFN0YXJ0KHBhcmVudE5vZGUsb2Zmc2V0KX19ZWxzZXtpZih0bXBOb2RlKXttZS5zZXRFbmRCZWZvcmUodG1wTm9kZSl9ZWxzZXttZS5zZXRFbmQocGFyZW50Tm9kZSxvZmZzZXQpfX19Z2V0Tm9kZShhZGRyLnN0YXJ0QWRkcmVzcyx0cnVlKTshaWdub3JlRW5kJiZhZGRyLmVuZEFkZHJlc3MmJmdldE5vZGUoYWRkci5lbmRBZGRyZXNzKTtyZXR1cm4gbWV9LGVxdWFsczpmdW5jdGlvbihybmcpe2Zvcih2YXIgcCBpbiB0aGlzKXtpZih0aGlzLmhhc093blByb3BlcnR5KHApKXtpZih0aGlzW3BdIT09cm5nW3BdKXtyZXR1cm4gZmFsc2V9fX1yZXR1cm4gdHJ1ZX0sdHJhdmVyc2FsOmZ1bmN0aW9uKGRvRm4sZmlsdGVyRm4pe2lmKHRoaXMuY29sbGFwc2VkKXtyZXR1cm4gdGhpc312YXIgYm9va21hcms9dGhpcy5jcmVhdGVCb29rbWFyaygpLGVuZD1ib29rbWFyay5lbmQsY3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyay5zdGFydCxmYWxzZSxmaWx0ZXJGbik7d2hpbGUoY3VycmVudCYmY3VycmVudCE9PWVuZCYmKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsZW5kKSZkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcpKXt2YXIgdG1wTm9kZT1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLGZpbHRlckZuKTtkb0ZuKGN1cnJlbnQpO2N1cnJlbnQ9dG1wTm9kZX1yZXR1cm4gdGhpcy5tb3ZlVG9Cb29rbWFyayhib29rbWFyayl9fX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZ2V0Qm91bmRhcnlJbmZvcm1hdGlvbihyYW5nZSxzdGFydCl7dmFyIGdldEluZGV4PWRvbVV0aWxzLmdldE5vZGVJbmRleDtyYW5nZT1yYW5nZS5kdXBsaWNhdGUoKTtyYW5nZS5jb2xsYXBzZShzdGFydCk7dmFyIHBhcmVudD1yYW5nZS5wYXJlbnRFbGVtZW50KCk7aWYoIXBhcmVudC5oYXNDaGlsZE5vZGVzKCkpe3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDowfX12YXIgc2libGluZ3M9cGFyZW50LmNoaWxkcmVuLGNoaWxkLHRlc3RSYW5nZT1yYW5nZS5kdXBsaWNhdGUoKSxzdGFydEluZGV4PTAsZW5kSW5kZXg9c2libGluZ3MubGVuZ3RoLTEsaW5kZXg9LTEsZGlzdGFuY2U7d2hpbGUoc3RhcnRJbmRleDw9ZW5kSW5kZXgpe2luZGV4PU1hdGguZmxvb3IoKHN0YXJ0SW5kZXgrZW5kSW5kZXgpLzIpO2NoaWxkPXNpYmxpbmdzW2luZGV4XTt0ZXN0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoY2hpbGQpO3ZhciBwb3NpdGlvbj10ZXN0UmFuZ2UuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb1N0YXJ0IixyYW5nZSk7aWYocG9zaXRpb24+MCl7ZW5kSW5kZXg9aW5kZXgtMX1lbHNle2lmKHBvc2l0aW9uPDApe3N0YXJ0SW5kZXg9aW5kZXgrMX1lbHNle3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChjaGlsZCl9fX19aWYoaW5kZXg9PS0xKXt0ZXN0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQocGFyZW50KTt0ZXN0UmFuZ2Uuc2V0RW5kUG9pbnQoIlN0YXJ0VG9TdGFydCIscmFuZ2UpO2Rpc3RhbmNlPXRlc3RSYW5nZS50ZXh0LnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLmxlbmd0aDtzaWJsaW5ncz1wYXJlbnQuY2hpbGROb2RlcztpZighZGlzdGFuY2Upe2NoaWxkPXNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aC0xXTtyZXR1cm57Y29udGFpbmVyOmNoaWxkLG9mZnNldDpjaGlsZC5ub2RlVmFsdWUubGVuZ3RofX12YXIgaT1zaWJsaW5ncy5sZW5ndGg7d2hpbGUoZGlzdGFuY2U+MCl7ZGlzdGFuY2UtPXNpYmxpbmdzWy0taV0ubm9kZVZhbHVlLmxlbmd0aH1yZXR1cm57Y29udGFpbmVyOnNpYmxpbmdzW2ldLG9mZnNldDotZGlzdGFuY2V9fXRlc3RSYW5nZS5jb2xsYXBzZShwb3NpdGlvbj4wKTt0ZXN0UmFuZ2Uuc2V0RW5kUG9pbnQocG9zaXRpb24+MD8iU3RhcnRUb1N0YXJ0IjoiRW5kVG9TdGFydCIscmFuZ2UpO2Rpc3RhbmNlPXRlc3RSYW5nZS50ZXh0LnJlcGxhY2UoLyhcclxufFxyKS9nLCJcbiIpLmxlbmd0aDtpZighZGlzdGFuY2Upe3JldHVybiBkdGQuJGVtcHR5W2NoaWxkLnRhZ05hbWVdfHxkdGQuJG5vbkNoaWxkW2NoaWxkLnRhZ05hbWVdP3tjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChjaGlsZCkrKHBvc2l0aW9uPjA/MDoxKX06e2NvbnRhaW5lcjpjaGlsZCxvZmZzZXQ6cG9zaXRpb24+MD8wOmNoaWxkLmNoaWxkTm9kZXMubGVuZ3RofX13aGlsZShkaXN0YW5jZT4wKXt0cnl7dmFyIHByZT1jaGlsZDtjaGlsZD1jaGlsZFtwb3NpdGlvbj4wPyJwcmV2aW91c1NpYmxpbmciOiJuZXh0U2libGluZyJdO2Rpc3RhbmNlLT1jaGlsZC5ub2RlVmFsdWUubGVuZ3RofWNhdGNoKGUpe3JldHVybntjb250YWluZXI6cGFyZW50LG9mZnNldDpnZXRJbmRleChwcmUpfX19cmV0dXJue2NvbnRhaW5lcjpjaGlsZCxvZmZzZXQ6cG9zaXRpb24+MD8tZGlzdGFuY2U6Y2hpbGQubm9kZVZhbHVlLmxlbmd0aCtkaXN0YW5jZX19ZnVuY3Rpb24gdHJhbnNmb3JtSUVSYW5nZVRvUmFuZ2UoaWVSYW5nZSxyYW5nZSl7aWYoaWVSYW5nZS5pdGVtKXtyYW5nZS5zZWxlY3ROb2RlKGllUmFuZ2UuaXRlbSgwKSl9ZWxzZXt2YXIgYmk9Z2V0Qm91bmRhcnlJbmZvcm1hdGlvbihpZVJhbmdlLHRydWUpO3JhbmdlLnNldFN0YXJ0KGJpLmNvbnRhaW5lcixiaS5vZmZzZXQpO2lmKGllUmFuZ2UuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsaWVSYW5nZSkhPTApe2JpPWdldEJvdW5kYXJ5SW5mb3JtYXRpb24oaWVSYW5nZSxmYWxzZSk7cmFuZ2Uuc2V0RW5kKGJpLmNvbnRhaW5lcixiaS5vZmZzZXQpfX1yZXR1cm4gcmFuZ2V9ZnVuY3Rpb24gX2dldElFUmFuZ2Uoc2VsKXt2YXIgaWVSYW5nZTt0cnl7aWVSYW5nZT1zZWwuZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKX1jYXRjaChlKXtyZXR1cm4gbnVsbH12YXIgZWw9aWVSYW5nZS5pdGVtP2llUmFuZ2UuaXRlbSgwKTppZVJhbmdlLnBhcmVudEVsZW1lbnQoKTtpZigoZWwub3duZXJEb2N1bWVudHx8ZWwpPT09c2VsLmRvY3VtZW50KXtyZXR1cm4gaWVSYW5nZX1yZXR1cm4gbnVsbH12YXIgU2VsZWN0aW9uPWRvbS5TZWxlY3Rpb249ZnVuY3Rpb24oZG9jKXt2YXIgbWU9dGhpcyxpZnJhbWU7bWUuZG9jdW1lbnQ9ZG9jO2lmKGJyb3dzZXIuaWU5YmVsb3cpe2lmcmFtZT1kb21VdGlscy5nZXRXaW5kb3coZG9jKS5mcmFtZUVsZW1lbnQ7ZG9tVXRpbHMub24oaWZyYW1lLCJiZWZvcmVkZWFjdGl2YXRlIixmdW5jdGlvbigpe21lLl9iYWtJRVJhbmdlPW1lLmdldElFUmFuZ2UoKX0pO2RvbVV0aWxzLm9uKGlmcmFtZSwiYWN0aXZhdGUiLGZ1bmN0aW9uKCl7dHJ5e2lmKCFfZ2V0SUVSYW5nZShtZSkmJm1lLl9iYWtJRVJhbmdlKXttZS5fYmFrSUVSYW5nZS5zZWxlY3QoKX19Y2F0Y2goZXgpe31tZS5fYmFrSUVSYW5nZT1udWxsfSl9aWZyYW1lPWRvYz1udWxsfTtTZWxlY3Rpb24ucHJvdG90eXBlPXtyYW5nZUluQm9keTpmdW5jdGlvbihybmcsdHh0UmFuZ2Upe3ZhciBub2RlPWJyb3dzZXIuaWU5YmVsb3d8fHR4dFJhbmdlP3JuZy5pdGVtP3JuZy5pdGVtKCk6cm5nLnBhcmVudEVsZW1lbnQoKTpybmcuc3RhcnRDb250YWluZXI7cmV0dXJuIG5vZGU9PT10aGlzLmRvY3VtZW50LmJvZHl8fGRvbVV0aWxzLmluRG9jKG5vZGUsdGhpcy5kb2N1bWVudCl9LGdldE5hdGl2ZTpmdW5jdGlvbigpe3ZhciBkb2M9dGhpcy5kb2N1bWVudDt0cnl7cmV0dXJuICFkb2M/bnVsbDpicm93c2VyLmllOWJlbG93P2RvYy5zZWxlY3Rpb246ZG9tVXRpbHMuZ2V0V2luZG93KGRvYykuZ2V0U2VsZWN0aW9uKCl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fSxnZXRJRVJhbmdlOmZ1bmN0aW9uKCl7dmFyIGllUmFuZ2U9X2dldElFUmFuZ2UodGhpcyk7aWYoIWllUmFuZ2Upe2lmKHRoaXMuX2Jha0lFUmFuZ2Upe3JldHVybiB0aGlzLl9iYWtJRVJhbmdlfX1yZXR1cm4gaWVSYW5nZX0sY2FjaGU6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyKCk7dGhpcy5fY2FjaGVkUmFuZ2U9dGhpcy5nZXRSYW5nZSgpO3RoaXMuX2NhY2hlZFN0YXJ0RWxlbWVudD10aGlzLmdldFN0YXJ0KCk7dGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aD10aGlzLmdldFN0YXJ0RWxlbWVudFBhdGgoKX0sZ2V0U3RhcnRFbGVtZW50UGF0aDpmdW5jdGlvbigpe2lmKHRoaXMuX2NhY2hlZFN0YXJ0RWxlbWVudFBhdGgpe3JldHVybiB0aGlzLl9jYWNoZWRTdGFydEVsZW1lbnRQYXRofXZhciBzdGFydD10aGlzLmdldFN0YXJ0KCk7aWYoc3RhcnQpe3JldHVybiBkb21VdGlscy5maW5kUGFyZW50cyhzdGFydCx0cnVlLG51bGwsdHJ1ZSl9cmV0dXJuW119LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50UGF0aD10aGlzLl9jYWNoZWRSYW5nZT10aGlzLl9jYWNoZWRTdGFydEVsZW1lbnQ9bnVsbH0saXNGb2N1czpmdW5jdGlvbigpe3RyeXtpZihicm93c2VyLmllOWJlbG93KXt2YXIgbmF0aXZlUmFuZ2U9X2dldElFUmFuZ2UodGhpcyk7cmV0dXJuICEhKG5hdGl2ZVJhbmdlJiZ0aGlzLnJhbmdlSW5Cb2R5KG5hdGl2ZVJhbmdlKSl9ZWxzZXtyZXR1cm4gISF0aGlzLmdldE5hdGl2ZSgpLnJhbmdlQ291bnR9fWNhdGNoKGUpe3JldHVybiBmYWxzZX19LGdldFJhbmdlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7ZnVuY3Rpb24gb3B0aW16ZShyYW5nZSl7dmFyIGNoaWxkPW1lLmRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCxjb2xsYXBzZWQ9cmFuZ2UuY29sbGFwc2VkO3doaWxlKGNoaWxkJiZjaGlsZC5maXJzdENoaWxkKXtyYW5nZS5zZXRTdGFydChjaGlsZCwwKTtjaGlsZD1jaGlsZC5maXJzdENoaWxkfWlmKCFyYW5nZS5zdGFydENvbnRhaW5lcil7cmFuZ2Uuc2V0U3RhcnQobWUuZG9jdW1lbnQuYm9keSwwKX1pZihjb2xsYXBzZWQpe3JhbmdlLmNvbGxhcHNlKHRydWUpfX1pZihtZS5fY2FjaGVkUmFuZ2UhPW51bGwpe3JldHVybiB0aGlzLl9jYWNoZWRSYW5nZX12YXIgcmFuZ2U9bmV3IGJhaWR1LmVkaXRvci5kb20uUmFuZ2UobWUuZG9jdW1lbnQpO2lmKGJyb3dzZXIuaWU5YmVsb3cpe3ZhciBuYXRpdmVSYW5nZT1tZS5nZXRJRVJhbmdlKCk7aWYobmF0aXZlUmFuZ2Upe3RyeXt0cmFuc2Zvcm1JRVJhbmdlVG9SYW5nZShuYXRpdmVSYW5nZSxyYW5nZSl9Y2F0Y2goZSl7b3B0aW16ZShyYW5nZSl9fWVsc2V7b3B0aW16ZShyYW5nZSl9fWVsc2V7dmFyIHNlbD1tZS5nZXROYXRpdmUoKTtpZihzZWwmJnNlbC5yYW5nZUNvdW50KXt2YXIgZmlyc3RSYW5nZT1zZWwuZ2V0UmFuZ2VBdCgwKTt2YXIgbGFzdFJhbmdlPXNlbC5nZXRSYW5nZUF0KHNlbC5yYW5nZUNvdW50LTEpO3JhbmdlLnNldFN0YXJ0KGZpcnN0UmFuZ2Uuc3RhcnRDb250YWluZXIsZmlyc3RSYW5nZS5zdGFydE9mZnNldCkuc2V0RW5kKGxhc3RSYW5nZS5lbmRDb250YWluZXIsbGFzdFJhbmdlLmVuZE9mZnNldCk7aWYocmFuZ2UuY29sbGFwc2VkJiZkb21VdGlscy5pc0JvZHkocmFuZ2Uuc3RhcnRDb250YWluZXIpJiYhcmFuZ2Uuc3RhcnRPZmZzZXQpe29wdGltemUocmFuZ2UpfX1lbHNle2lmKHRoaXMuX2Jha1JhbmdlJiZkb21VdGlscy5pbkRvYyh0aGlzLl9iYWtSYW5nZS5zdGFydENvbnRhaW5lcix0aGlzLmRvY3VtZW50KSl7cmV0dXJuIHRoaXMuX2Jha1JhbmdlfW9wdGltemUocmFuZ2UpfX1yZXR1cm4gdGhpcy5fYmFrUmFuZ2U9cmFuZ2V9LGdldFN0YXJ0OmZ1bmN0aW9uKCl7aWYodGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50KXtyZXR1cm4gdGhpcy5fY2FjaGVkU3RhcnRFbGVtZW50fXZhciByYW5nZT1icm93c2VyLmllOWJlbG93P3RoaXMuZ2V0SUVSYW5nZSgpOnRoaXMuZ2V0UmFuZ2UoKSx0bXBSYW5nZSxzdGFydCx0bXAscGFyZW50O2lmKGJyb3dzZXIuaWU5YmVsb3cpe2lmKCFyYW5nZSl7cmV0dXJuIHRoaXMuZG9jdW1lbnQuYm9keS5maXJzdENoaWxkfWlmKHJhbmdlLml0ZW0pe3JldHVybiByYW5nZS5pdGVtKDApfXRtcFJhbmdlPXJhbmdlLmR1cGxpY2F0ZSgpO3RtcFJhbmdlLnRleHQubGVuZ3RoPjAmJnRtcFJhbmdlLm1vdmVTdGFydCgiY2hhcmFjdGVyIiwxKTt0bXBSYW5nZS5jb2xsYXBzZSgxKTtzdGFydD10bXBSYW5nZS5wYXJlbnRFbGVtZW50KCk7cGFyZW50PXRtcD1yYW5nZS5wYXJlbnRFbGVtZW50KCk7d2hpbGUodG1wPXRtcC5wYXJlbnROb2RlKXtpZih0bXA9PXN0YXJ0KXtzdGFydD1wYXJlbnQ7YnJlYWt9fX1lbHNle3JhbmdlLnNocmlua0JvdW5kYXJ5KCk7c3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTEmJnN0YXJ0Lmhhc0NoaWxkTm9kZXMoKSl7c3RhcnQ9c3RhcnQuY2hpbGROb2Rlc1tNYXRoLm1pbihzdGFydC5jaGlsZE5vZGVzLmxlbmd0aC0xLHJhbmdlLnN0YXJ0T2Zmc2V0KV19aWYoc3RhcnQubm9kZVR5cGU9PTMpe3JldHVybiBzdGFydC5wYXJlbnROb2RlfX1yZXR1cm4gc3RhcnR9LGdldFRleHQ6ZnVuY3Rpb24oKXt2YXIgbmF0aXZlU2VsLG5hdGl2ZVJhbmdlO2lmKHRoaXMuaXNGb2N1cygpJiYobmF0aXZlU2VsPXRoaXMuZ2V0TmF0aXZlKCkpKXtuYXRpdmVSYW5nZT1icm93c2VyLmllOWJlbG93P25hdGl2ZVNlbC5jcmVhdGVSYW5nZSgpOm5hdGl2ZVNlbC5nZXRSYW5nZUF0KDApO3JldHVybiBicm93c2VyLmllOWJlbG93P25hdGl2ZVJhbmdlLnRleHQ6bmF0aXZlUmFuZ2UudG9TdHJpbmcoKX1yZXR1cm4iIn0sY2xlYXJSYW5nZTpmdW5jdGlvbigpe3RoaXMuZ2V0TmF0aXZlKClbYnJvd3Nlci5pZTliZWxvdz8iZW1wdHkiOiJyZW1vdmVBbGxSYW5nZXMiXSgpfX19KSgpOyhmdW5jdGlvbigpe3ZhciB1aWQ9MCxfc2VsZWN0aW9uQ2hhbmdlVGltZXI7ZnVuY3Rpb24gc2V0VmFsdWUoZm9ybSxlZGl0b3Ipe3ZhciB0ZXh0YXJlYTtpZihlZGl0b3IudGV4dGFyZWEpe2lmKHV0aWxzLmlzU3RyaW5nKGVkaXRvci50ZXh0YXJlYSkpe2Zvcih2YXIgaT0wLHRpLHRpcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShmb3JtLCJ0ZXh0YXJlYSIpO3RpPXRpc1tpKytdOyl7aWYodGkuaWQ9PSJ1ZWRpdG9yX3RleHRhcmVhXyIrZWRpdG9yLm9wdGlvbnMudGV4dGFyZWEpe3RleHRhcmVhPXRpO2JyZWFrfX19ZWxzZXt0ZXh0YXJlYT1lZGl0b3IudGV4dGFyZWF9fWlmKCF0ZXh0YXJlYSl7Zm9ybS5hcHBlbmRDaGlsZCh0ZXh0YXJlYT1kb21VdGlscy5jcmVhdGVFbGVtZW50KGRvY3VtZW50LCJ0ZXh0YXJlYSIse25hbWU6ZWRpdG9yLm9wdGlvbnMudGV4dGFyZWEsaWQ6InVlZGl0b3JfdGV4dGFyZWFfIitlZGl0b3Iub3B0aW9ucy50ZXh0YXJlYSxzdHlsZToiZGlzcGxheTpub25lIn0pKTtlZGl0b3IudGV4dGFyZWE9dGV4dGFyZWF9dGV4dGFyZWEudmFsdWU9ZWRpdG9yLmhhc0NvbnRlbnRzKCk/KGVkaXRvci5vcHRpb25zLmFsbEh0bWxFbmFibGVkP2VkaXRvci5nZXRBbGxIdG1sKCk6ZWRpdG9yLmdldENvbnRlbnQobnVsbCxudWxsLHRydWUpKToiIn1mdW5jdGlvbiBsb2FkUGx1Z2lucyhtZSl7Zm9yKHZhciBwaSBpbiBVRS5wbHVnaW5zKXtVRS5wbHVnaW5zW3BpXS5jYWxsKG1lKX19ZnVuY3Rpb24gY2hlY2tDdXJMYW5nKEkxOE4pe2Zvcih2YXIgbGFuZyBpbiBJMThOKXtyZXR1cm4gbGFuZ319ZnVuY3Rpb24gbGFuZ1JlYWRpZWQobWUpe21lLmxhbmdJc1JlYWR5PXRydWU7bWUuZmlyZUV2ZW50KCJsYW5nUmVhZHkiKX12YXIgRWRpdG9yPVVFLkVkaXRvcj1mdW5jdGlvbihvcHRpb25zKXt2YXIgbWU9dGhpczttZS51aWQ9dWlkKys7RXZlbnRCYXNlLmNhbGwobWUpO21lLmNvbW1hbmRzPXt9O21lLm9wdGlvbnM9dXRpbHMuZXh0ZW5kKHV0aWxzLmNsb25lKG9wdGlvbnN8fHt9KSxVRURJVE9SX0NPTkZJRyx0cnVlKTttZS5zaG9ydGN1dGtleXM9e307bWUuaW5wdXRSdWxlcz1bXTttZS5vdXRwdXRSdWxlcz1bXTttZS5zZXRPcHQoe2lzU2hvdzp0cnVlLGluaXRpYWxDb250ZW50OiIiLGluaXRpYWxTdHlsZToiIixhdXRvQ2xlYXJpbml0aWFsQ29udGVudDpmYWxzZSxpZnJhbWVDc3NVcmw6bWUub3B0aW9ucy5VRURJVE9SX0hPTUVfVVJMKyJ0aGVtZXMvaWZyYW1lLmNzcyIsdGV4dGFyZWE6ImVkaXRvclZhbHVlIixmb2N1czpmYWxzZSxmb2N1c0luRW5kOnRydWUsYXV0b0NsZWFyRW1wdHlOb2RlOnRydWUsZnVsbHNjcmVlbjpmYWxzZSxyZWFkb25seTpmYWxzZSx6SW5kZXg6OTk5LGltYWdlUG9wdXA6dHJ1ZSxlbnRlclRhZzoicCIsY3VzdG9tRG9tYWluOmZhbHNlLGxhbmc6InpoLWNuIixsYW5nUGF0aDptZS5vcHRpb25zLlVFRElUT1JfSE9NRV9VUkwrImxhbmcvIix0aGVtZToiZGVmYXVsdCIsdGhlbWVQYXRoOm1lLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCsidGhlbWVzLyIsYWxsSHRtbEVuYWJsZWQ6ZmFsc2Usc2NhbGVFbmFibGVkOmZhbHNlLHRhYmxlTmF0aXZlRWRpdEluRkY6ZmFsc2UsYXV0b1N5bmNEYXRhOnRydWUsZmlsZU5hbWVGb3JtYXQ6Int0aW1lfXtyYW5kOjZ9In0pO2lmKCF1dGlscy5pc0VtcHR5T2JqZWN0KFVFLkkxOE4pKXttZS5vcHRpb25zLmxhbmc9Y2hlY2tDdXJMYW5nKFVFLkkxOE4pO1VFLnBsdWdpbi5sb2FkKG1lKTtsYW5nUmVhZGllZChtZSl9ZWxzZXt1dGlscy5sb2FkRmlsZShkb2N1bWVudCx7c3JjOm1lLm9wdGlvbnMubGFuZ1BhdGgrbWUub3B0aW9ucy5sYW5nKyIvIittZS5vcHRpb25zLmxhbmcrIi5qcyIsdGFnOiJzY3JpcHQiLHR5cGU6InRleHQvamF2YXNjcmlwdCIsZGVmZXI6ImRlZmVyIn0sZnVuY3Rpb24oKXtVRS5wbHVnaW4ubG9hZChtZSk7bGFuZ1JlYWRpZWQobWUpfSl9VUUuaW5zdGFudHNbInVlZGl0b3JJbnN0YW50IittZS51aWRdPW1lfTtFZGl0b3IucHJvdG90eXBlPXtyZWFkeTpmdW5jdGlvbihmbil7dmFyIG1lPXRoaXM7aWYoZm4pe21lLmlzUmVhZHk/Zm4uYXBwbHkobWUpOm1lLmFkZExpc3RlbmVyKCJyZWFkeSIsZm4pfX0sc2V0T3B0OmZ1bmN0aW9uKGtleSx2YWwpe3ZhciBvYmo9e307aWYodXRpbHMuaXNTdHJpbmcoa2V5KSl7b2JqW2tleV09dmFsfWVsc2V7b2JqPWtleX11dGlscy5leHRlbmQodGhpcy5vcHRpb25zLG9iaix0cnVlKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLmZpcmVFdmVudCgiZGVzdHJveSIpO3ZhciBjb250YWluZXI9bWUuY29udGFpbmVyLnBhcmVudE5vZGU7dmFyIHRleHRhcmVhPW1lLnRleHRhcmVhO2lmKCF0ZXh0YXJlYSl7dGV4dGFyZWE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGV4dGFyZWEiKTtjb250YWluZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dGFyZWEsY29udGFpbmVyKX1lbHNle3RleHRhcmVhLnN0eWxlLmRpc3BsYXk9IiJ9dGV4dGFyZWEuc3R5bGUud2lkdGg9bWUuaWZyYW1lLm9mZnNldFdpZHRoKyJweCI7dGV4dGFyZWEuc3R5bGUuaGVpZ2h0PW1lLmlmcmFtZS5vZmZzZXRIZWlnaHQrInB4Ijt0ZXh0YXJlYS52YWx1ZT1tZS5nZXRDb250ZW50KCk7dGV4dGFyZWEuaWQ9bWUua2V5O2NvbnRhaW5lci5pbm5lckhUTUw9IiI7ZG9tVXRpbHMucmVtb3ZlKGNvbnRhaW5lcik7dmFyIGtleT1tZS5rZXk7Zm9yKHZhciBwIGluIG1lKXtpZihtZS5oYXNPd25Qcm9wZXJ0eShwKSl7ZGVsZXRlIHRoaXNbcF19fVVFLmRlbEVkaXRvcihrZXkpfSxyZW5kZXI6ZnVuY3Rpb24oY29udGFpbmVyKXt2YXIgbWU9dGhpcyxvcHRpb25zPW1lLm9wdGlvbnMsZ2V0U3R5bGVWYWx1ZT1mdW5jdGlvbihhdHRyKXtyZXR1cm4gcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIsYXR0cikpfTtpZih1dGlscy5pc1N0cmluZyhjb250YWluZXIpKXtjb250YWluZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyKX1pZihjb250YWluZXIpe2lmKG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgpe29wdGlvbnMubWluRnJhbWVXaWR0aD1vcHRpb25zLmluaXRpYWxGcmFtZVdpZHRofWVsc2V7b3B0aW9ucy5taW5GcmFtZVdpZHRoPW9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGg9Y29udGFpbmVyLm9mZnNldFdpZHRofWlmKG9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0KXtvcHRpb25zLm1pbkZyYW1lSGVpZ2h0PW9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0fWVsc2V7b3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQ9b3B0aW9ucy5taW5GcmFtZUhlaWdodD1jb250YWluZXIub2Zmc2V0SGVpZ2h0fWNvbnRhaW5lci5zdHlsZS53aWR0aD0vJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVXaWR0aCk/IjEwMCUiOm9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgtZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy1sZWZ0IiktZ2V0U3R5bGVWYWx1ZSgicGFkZGluZy1yaWdodCIpKyJweCI7Y29udGFpbmVyLnN0eWxlLmhlaWdodD0vJSQvLnRlc3Qob3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQpPyIxMDAlIjpvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodC1nZXRTdHlsZVZhbHVlKCJwYWRkaW5nLXRvcCIpLWdldFN0eWxlVmFsdWUoInBhZGRpbmctYm90dG9tIikrInB4Ijtjb250YWluZXIuc3R5bGUuekluZGV4PW9wdGlvbnMuekluZGV4O3ZhciBodG1sPShpZSYmYnJvd3Nlci52ZXJzaW9uPDk/IiI6IjwhRE9DVFlQRSBodG1sPiIpKyI8aHRtbCB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCcgY2xhc3M9J3ZpZXcnID48aGVhZD48c3R5bGUgdHlwZT0ndGV4dC9jc3MnPi52aWV3e3BhZGRpbmc6MDt3b3JkLXdyYXA6YnJlYWstd29yZDtjdXJzb3I6dGV4dDtoZWlnaHQ6OTAlO31cbmJvZHl7bWFyZ2luOjhweDtmb250LWZhbWlseTpzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxNnB4O31we21hcmdpbjo1cHggMDt9PC9zdHlsZT4iKyhvcHRpb25zLmlmcmFtZUNzc1VybD8iPGxpbmsgcmVsPSdzdHlsZXNoZWV0JyB0eXBlPSd0ZXh0L2NzcycgaHJlZj0nIit1dGlscy51bmh0bWwob3B0aW9ucy5pZnJhbWVDc3NVcmwpKyInLz4iOiIiKSsob3B0aW9ucy5pbml0aWFsU3R5bGU/IjxzdHlsZT4iK29wdGlvbnMuaW5pdGlhbFN0eWxlKyI8L3N0eWxlPiI6IiIpKyI8L2hlYWQ+PGJvZHkgY2xhc3M9J3ZpZXcnID48L2JvZHk+PHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnICIrKGllPyJkZWZlcj0nZGVmZXInIjoiIikrIiBpZD0nX2luaXRpYWxTY3JpcHQnPnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlZGl0b3IgPSB3aW5kb3cucGFyZW50LlVFLmluc3RhbnRzWyd1ZWRpdG9ySW5zdGFudCIrbWUudWlkKyInXTtlZGl0b3IuX3NldHVwKGRvY3VtZW50KTt9LDApO3ZhciBfdG1wU2NyaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ19pbml0aWFsU2NyaXB0Jyk7X3RtcFNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKF90bXBTY3JpcHQpOzxcL3NjcmlwdD48L2h0bWw+Ijtjb250YWluZXIuYXBwZW5kQ2hpbGQoZG9tVXRpbHMuY3JlYXRlRWxlbWVudChkb2N1bWVudCwiaWZyYW1lIix7aWQ6InVlZGl0b3JfIittZS51aWQsd2lkdGg6IjEwMCUiLGhlaWdodDoiMTAwJSIsZnJhbWVib3JkZXI6IjAiLHNyYzoiamF2YXNjcmlwdDp2b2lkKGZ1bmN0aW9uKCl7ZG9jdW1lbnQub3BlbigpOyIrKG9wdGlvbnMuY3VzdG9tRG9tYWluJiZkb2N1bWVudC5kb21haW4hPWxvY2F0aW9uLmhvc3RuYW1lPydkb2N1bWVudC5kb21haW49IicrZG9jdW1lbnQuZG9tYWluKyciOyc6IiIpKydkb2N1bWVudC53cml0ZSgiJytodG1sKyciKTtkb2N1bWVudC5jbG9zZSgpO30oKSknfSkpO2NvbnRhaW5lci5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoLyUkLy50ZXN0KG9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGgpKXtvcHRpb25zLm1pbkZyYW1lV2lkdGg9b3B0aW9ucy5pbml0aWFsRnJhbWVXaWR0aD1jb250YWluZXIub2Zmc2V0V2lkdGh9aWYoLyUkLy50ZXN0KG9wdGlvbnMuaW5pdGlhbEZyYW1lSGVpZ2h0KSl7b3B0aW9ucy5taW5GcmFtZUhlaWdodD1vcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodD1jb250YWluZXIub2Zmc2V0SGVpZ2h0O2NvbnRhaW5lci5zdHlsZS5oZWlnaHQ9b3B0aW9ucy5pbml0aWFsRnJhbWVIZWlnaHQrInB4In19KX19LF9zZXR1cDpmdW5jdGlvbihkb2Mpe3ZhciBtZT10aGlzLG9wdGlvbnM9bWUub3B0aW9ucztpZihpZSl7ZG9jLmJvZHkuZGlzYWJsZWQ9dHJ1ZTtkb2MuYm9keS5jb250ZW50RWRpdGFibGU9dHJ1ZTtkb2MuYm9keS5kaXNhYmxlZD1mYWxzZX1lbHNle2RvYy5ib2R5LmNvbnRlbnRFZGl0YWJsZT10cnVlfWRvYy5ib2R5LnNwZWxsY2hlY2s9ZmFsc2U7bWUuZG9jdW1lbnQ9ZG9jO21lLndpbmRvdz1kb2MuZGVmYXVsdFZpZXd8fGRvYy5wYXJlbnRXaW5kb3c7bWUuaWZyYW1lPW1lLndpbmRvdy5mcmFtZUVsZW1lbnQ7bWUuYm9keT1kb2MuYm9keTttZS5zZWxlY3Rpb249bmV3IGRvbS5TZWxlY3Rpb24oZG9jKTt2YXIgZ2Vja29TZWw7aWYoYnJvd3Nlci5nZWNrbyYmKGdlY2tvU2VsPXRoaXMuc2VsZWN0aW9uLmdldE5hdGl2ZSgpKSl7Z2Vja29TZWwucmVtb3ZlQWxsUmFuZ2VzKCl9dGhpcy5faW5pdEV2ZW50cygpO2Zvcih2YXIgZm9ybT10aGlzLmlmcmFtZS5wYXJlbnROb2RlOyFkb21VdGlscy5pc0JvZHkoZm9ybSk7Zm9ybT1mb3JtLnBhcmVudE5vZGUpe2lmKGZvcm0udGFnTmFtZT09IkZPUk0iKXttZS5mb3JtPWZvcm07aWYobWUub3B0aW9ucy5hdXRvU3luY0RhdGEpe2RvbVV0aWxzLm9uKG1lLndpbmRvdywiYmx1ciIsZnVuY3Rpb24oKXtzZXRWYWx1ZShmb3JtLG1lKX0pfWVsc2V7ZG9tVXRpbHMub24oZm9ybSwic3VibWl0IixmdW5jdGlvbigpe3NldFZhbHVlKHRoaXMsbWUpfSl9YnJlYWt9fWlmKG9wdGlvbnMuaW5pdGlhbENvbnRlbnQpe2lmKG9wdGlvbnMuYXV0b0NsZWFyaW5pdGlhbENvbnRlbnQpe3ZhciBvbGRFeGVjQ29tbWFuZD1tZS5leGVjQ29tbWFuZDttZS5leGVjQ29tbWFuZD1mdW5jdGlvbigpe21lLmZpcmVFdmVudCgiZmlyc3RCZWZvcmVFeGVjQ29tbWFuZCIpO3JldHVybiBvbGRFeGVjQ29tbWFuZC5hcHBseShtZSxhcmd1bWVudHMpfTt0aGlzLl9zZXREZWZhdWx0Q29udGVudChvcHRpb25zLmluaXRpYWxDb250ZW50KX1lbHNle3RoaXMuc2V0Q29udGVudChvcHRpb25zLmluaXRpYWxDb250ZW50LGZhbHNlLHRydWUpfX1pZihkb21VdGlscy5pc0VtcHR5Tm9kZShtZS5ib2R5KSl7bWUuYm9keS5pbm5lckhUTUw9IjxwPiIrKGJyb3dzZXIuaWU/IiI6Ijxici8+IikrIjwvcD4ifWlmKG9wdGlvbnMuZm9jdXMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXttZS5mb2N1cyhtZS5vcHRpb25zLmZvY3VzSW5FbmQpOyFtZS5vcHRpb25zLmF1dG9DbGVhcmluaXRpYWxDb250ZW50JiZtZS5fc2VsZWN0aW9uQ2hhbmdlKCl9LDApfWlmKCFtZS5jb250YWluZXIpe21lLmNvbnRhaW5lcj10aGlzLmlmcmFtZS5wYXJlbnROb2RlfWlmKG9wdGlvbnMuZnVsbHNjcmVlbiYmbWUudWkpe21lLnVpLnNldEZ1bGxTY3JlZW4odHJ1ZSl9dHJ5e21lLmRvY3VtZW50LmV4ZWNDb21tYW5kKCIyRC1wb3NpdGlvbiIsZmFsc2UsZmFsc2UpfWNhdGNoKGUpe310cnl7bWUuZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsZmFsc2UsZmFsc2UpfWNhdGNoKGUpe310cnl7bWUuZG9jdW1lbnQuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIixmYWxzZSxmYWxzZSl9Y2F0Y2goZSl7fW1lLl9iaW5kc2hvcnRjdXRLZXlzKCk7bWUuaXNSZWFkeT0xO21lLmZpcmVFdmVudCgicmVhZHkiKTtvcHRpb25zLm9ucmVhZHkmJm9wdGlvbnMub25yZWFkeS5jYWxsKG1lKTtpZighYnJvd3Nlci5pZTliZWxvdyl7ZG9tVXRpbHMub24obWUud2luZG93LFsiYmx1ciIsImZvY3VzIl0sZnVuY3Rpb24oZSl7aWYoZS50eXBlPT0iYmx1ciIpe21lLl9iYWtSYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt0cnl7bWUuX2Jha05hdGl2ZVJhbmdlPW1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5nZXRSYW5nZUF0KDApO21lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5yZW1vdmVBbGxSYW5nZXMoKX1jYXRjaChlKXttZS5fYmFrTmF0aXZlUmFuZ2U9bnVsbH19ZWxzZXt0cnl7bWUuX2Jha1JhbmdlJiZtZS5fYmFrUmFuZ2Uuc2VsZWN0KCl9Y2F0Y2goZSl7fX19KX1pZihicm93c2VyLmdlY2tvJiZicm93c2VyLnZlcnNpb248PTEwOTAyKXttZS5ib2R5LmNvbnRlbnRFZGl0YWJsZT1mYWxzZTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuYm9keS5jb250ZW50RWRpdGFibGU9dHJ1ZX0sMTAwKTtzZXRJbnRlcnZhbChmdW5jdGlvbigpe21lLmJvZHkuc3R5bGUuaGVpZ2h0PW1lLmlmcmFtZS5vZmZzZXRIZWlnaHQtMjArInB4In0sMTAwKX0hb3B0aW9ucy5pc1Nob3cmJm1lLnNldEhpZGUoKTtvcHRpb25zLnJlYWRvbmx5JiZtZS5zZXREaXNhYmxlZCgpfSxzeW5jOmZ1bmN0aW9uKGZvcm1JZCl7dmFyIG1lPXRoaXMsZm9ybT1mb3JtSWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZm9ybUlkKTpkb21VdGlscy5maW5kUGFyZW50KG1lLmlmcmFtZS5wYXJlbnROb2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLnRhZ05hbWU9PSJGT1JNIn0sdHJ1ZSk7Zm9ybSYmc2V0VmFsdWUoZm9ybSxtZSl9LHNldEhlaWdodDpmdW5jdGlvbihoZWlnaHQsbm90U2V0SGVpZ2h0KXtpZihoZWlnaHQhPT1wYXJzZUludCh0aGlzLmlmcmFtZS5wYXJlbnROb2RlLnN0eWxlLmhlaWdodCkpe3RoaXMuaWZyYW1lLnBhcmVudE5vZGUuc3R5bGUuaGVpZ2h0PWhlaWdodCsicHgifSFub3RTZXRIZWlnaHQmJih0aGlzLm9wdGlvbnMubWluRnJhbWVIZWlnaHQ9dGhpcy5vcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodD1oZWlnaHQpO3RoaXMuYm9keS5zdHlsZS5oZWlnaHQ9aGVpZ2h0KyJweCJ9LGFkZHNob3J0Y3V0a2V5OmZ1bmN0aW9uKGNtZCxrZXlzKXt2YXIgb2JqPXt9O2lmKGtleXMpe29ialtjbWRdPWtleXN9ZWxzZXtvYmo9Y21kfXV0aWxzLmV4dGVuZCh0aGlzLnNob3J0Y3V0a2V5cyxvYmopfSxfYmluZHNob3J0Y3V0S2V5czpmdW5jdGlvbigpe3ZhciBtZT10aGlzLHNob3J0Y3V0a2V5cz10aGlzLnNob3J0Y3V0a2V5czttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odHlwZSxlKXt2YXIga2V5Q29kZT1lLmtleUNvZGV8fGUud2hpY2g7Zm9yKHZhciBpIGluIHNob3J0Y3V0a2V5cyl7dmFyIHRtcD1zaG9ydGN1dGtleXNbaV0uc3BsaXQoIiwiKTtmb3IodmFyIHQ9MCx0aTt0aT10bXBbdCsrXTspe3RpPXRpLnNwbGl0KCI6Iik7dmFyIGtleT10aVswXSxwYXJhbT10aVsxXTtpZigvXihjdHJsKShcK3NoaWZ0KT9cKyhcZCspJC8udGVzdChrZXkudG9Mb3dlckNhc2UoKSl8fC9eKFxkKykkLy50ZXN0KGtleSkpe2lmKCgoUmVnRXhwLiQxPT0iY3RybCI/KGUuY3RybEtleXx8ZS5tZXRhS2V5KTowKSYmKFJlZ0V4cC4kMiE9IiI/ZVtSZWdFeHAuJDIuc2xpY2UoMSkrIktleSJdOjEpJiZrZXlDb2RlPT1SZWdFeHAuJDMpfHxrZXlDb2RlPT1SZWdFeHAuJDEpe2lmKG1lLnF1ZXJ5Q29tbWFuZFN0YXRlKGkscGFyYW0pIT0tMSl7bWUuZXhlY0NvbW1hbmQoaSxwYXJhbSl9ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZSl9fX19fSl9LGdldENvbnRlbnQ6ZnVuY3Rpb24oY21kLGZuLG5vdFNldEN1cnNvcixpZ25vcmVCbGFuayxmb3JtYXR0ZXIpe3ZhciBtZT10aGlzO2lmKGNtZCYmdXRpbHMuaXNGdW5jdGlvbihjbWQpKXtmbj1jbWQ7Y21kPSIifWlmKGZuPyFmbigpOiF0aGlzLmhhc0NvbnRlbnRzKCkpe3JldHVybiIifW1lLmZpcmVFdmVudCgiYmVmb3JlZ2V0Y29udGVudCIpO3ZhciByb290PVVFLmh0bWxwYXJzZXIobWUuYm9keS5pbm5lckhUTUwsaWdub3JlQmxhbmspO21lLmZpbHRlck91dHB1dFJ1bGUocm9vdCk7bWUuZmlyZUV2ZW50KCJhZnRlcmdldGNvbnRlbnQiLGNtZCxyb290KTtyZXR1cm4gcm9vdC50b0h0bWwoZm9ybWF0dGVyKX0sZ2V0QWxsSHRtbDpmdW5jdGlvbigpe3ZhciBtZT10aGlzLGhlYWRIdG1sPVtdLGh0bWw9IiI7bWUuZmlyZUV2ZW50KCJnZXRBbGxIdG1sIixoZWFkSHRtbCk7aWYoYnJvd3Nlci5pZSYmYnJvd3Nlci52ZXJzaW9uPjgpe3ZhciBoZWFkSHRtbEZvcklFOT0iIjt1dGlscy5lYWNoKG1lLmRvY3VtZW50LnN0eWxlU2hlZXRzLGZ1bmN0aW9uKHNpKXtoZWFkSHRtbEZvcklFOSs9KHNpLmhyZWY/JzxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9Iicrc2kuaHJlZisnIiAvPic6IjxzdHlsZT4iK3NpLmNzc1RleHQrIjwvc3R5bGU+Iil9KTt1dGlscy5lYWNoKG1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxmdW5jdGlvbihzaSl7aGVhZEh0bWxGb3JJRTkrPXNpLm91dGVySFRNTH0pfXJldHVybiI8aHRtbD48aGVhZD4iKyhtZS5vcHRpb25zLmNoYXJzZXQ/JzxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PScrbWUub3B0aW9ucy5jaGFyc2V0KyciLz4nOiIiKSsoaGVhZEh0bWxGb3JJRTl8fG1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uaW5uZXJIVE1MKStoZWFkSHRtbC5qb2luKCJcbiIpKyI8L2hlYWQ+PGJvZHkgIisoaWUmJmJyb3dzZXIudmVyc2lvbjw5PydjbGFzcz0idmlldyInOiIiKSsiPiIrbWUuZ2V0Q29udGVudChudWxsLG51bGwsdHJ1ZSkrIjwvYm9keT48L2h0bWw+In0sZ2V0UGxhaW5UeHQ6ZnVuY3Rpb24oKXt2YXIgcmVnPW5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsImciKSxodG1sPXRoaXMuYm9keS5pbm5lckhUTUwucmVwbGFjZSgvW1xuXHJdL2csIiIpO2h0bWw9aHRtbC5yZXBsYWNlKC88KHB8ZGl2KVtePl0qPig8YnJcLz8+fCZuYnNwOyk8XC9cMT4vZ2ksIlxuIikucmVwbGFjZSgvPGJyXC8/Pi9naSwiXG4iKS5yZXBsYWNlKC88W14+L10rPi9nLCIiKS5yZXBsYWNlKC8oXG4pPzxcLyhbXj5dKyk+L2csZnVuY3Rpb24oYSxiLGMpe3JldHVybiBkdGQuJGJsb2NrW2NdPyJcbiI6Yj9iOiIifSk7cmV0dXJuIGh0bWwucmVwbGFjZShyZWcsIiIpLnJlcGxhY2UoL1x1MDBhMC9nLCIgIikucmVwbGFjZSgvJm5ic3A7L2csIiAiKX0sZ2V0Q29udGVudFR4dDpmdW5jdGlvbigpe3ZhciByZWc9bmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwiZyIpO3JldHVybiB0aGlzLmJvZHlbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXS5yZXBsYWNlKHJlZywiIikucmVwbGFjZSgvXHUwMGEwL2csIiAiKX0sc2V0Q29udGVudDpmdW5jdGlvbihodG1sLGlzQXBwZW5kVG8sbm90RmlyZVNlbGVjdGlvbmNoYW5nZSl7dmFyIG1lPXRoaXM7bWUuZmlyZUV2ZW50KCJiZWZvcmVzZXRjb250ZW50IixodG1sKTt2YXIgcm9vdD1VRS5odG1scGFyc2VyKGh0bWwpO21lLmZpbHRlcklucHV0UnVsZShyb290KTtodG1sPXJvb3QudG9IdG1sKCk7bWUuYm9keS5pbm5lckhUTUw9KGlzQXBwZW5kVG8/bWUuYm9keS5pbm5lckhUTUw6IiIpK2h0bWw7ZnVuY3Rpb24gaXNDZGF0YURpdihub2RlKXtyZXR1cm4gbm9kZS50YWdOYW1lPT0iRElWIiYmbm9kZS5nZXRBdHRyaWJ1dGUoImNkYXRhX3RhZyIpfWlmKG1lLm9wdGlvbnMuZW50ZXJUYWc9PSJwIil7dmFyIGNoaWxkPXRoaXMuYm9keS5maXJzdENoaWxkLHRtcE5vZGU7aWYoIWNoaWxkfHxjaGlsZC5ub2RlVHlwZT09MSYmKGR0ZC4kY2RhdGFbY2hpbGQudGFnTmFtZV18fGlzQ2RhdGFEaXYoY2hpbGQpfHxkb21VdGlscy5pc0N1c3RvbWVOb2RlKGNoaWxkKSkmJmNoaWxkPT09dGhpcy5ib2R5Lmxhc3RDaGlsZCl7dGhpcy5ib2R5LmlubmVySFRNTD0iPHA+IisoYnJvd3Nlci5pZT8iJm5ic3A7IjoiPGJyLz4iKSsiPC9wPiIrdGhpcy5ib2R5LmlubmVySFRNTH1lbHNle3ZhciBwPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTt3aGlsZShjaGlsZCl7d2hpbGUoY2hpbGQmJihjaGlsZC5ub2RlVHlwZT09M3x8Y2hpbGQubm9kZVR5cGU9PTEmJmR0ZC5wW2NoaWxkLnRhZ05hbWVdJiYhZHRkLiRjZGF0YVtjaGlsZC50YWdOYW1lXSkpe3RtcE5vZGU9Y2hpbGQubmV4dFNpYmxpbmc7cC5hcHBlbmRDaGlsZChjaGlsZCk7Y2hpbGQ9dG1wTm9kZX1pZihwLmZpcnN0Q2hpbGQpe2lmKCFjaGlsZCl7bWUuYm9keS5hcHBlbmRDaGlsZChwKTticmVha31lbHNle2NoaWxkLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsY2hpbGQpO3A9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpfX1jaGlsZD1jaGlsZC5uZXh0U2libGluZ319fW1lLmZpcmVFdmVudCgiYWZ0ZXJzZXRjb250ZW50Iik7bWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7IW5vdEZpcmVTZWxlY3Rpb25jaGFuZ2UmJm1lLl9zZWxlY3Rpb25DaGFuZ2UoKTttZS5fYmFrUmFuZ2U9bWUuX2Jha0lFUmFuZ2U9bWUuX2Jha05hdGl2ZVJhbmdlPW51bGw7dmFyIGdlY2tvU2VsO2lmKGJyb3dzZXIuZ2Vja28mJihnZWNrb1NlbD10aGlzLnNlbGVjdGlvbi5nZXROYXRpdmUoKSkpe2dlY2tvU2VsLnJlbW92ZUFsbFJhbmdlcygpfWlmKG1lLm9wdGlvbnMuYXV0b1N5bmNEYXRhKXttZS5mb3JtJiZzZXRWYWx1ZShtZS5mb3JtLG1lKX19LGZvY3VzOmZ1bmN0aW9uKHRvRW5kKXt0cnl7dmFyIG1lPXRoaXMscm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHRvRW5kKXt2YXIgbm9kZT1tZS5ib2R5Lmxhc3RDaGlsZDtpZihub2RlJiZub2RlLm5vZGVUeXBlPT0xJiYhZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXtpZihkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSkpe3JuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSl9ZWxzZXtybmcuc2V0U3RhcnRBdExhc3Qobm9kZSl9cm5nLmNvbGxhcHNlKHRydWUpfXJuZy5zZXRDdXJzb3IodHJ1ZSl9ZWxzZXtpZighcm5nLmNvbGxhcHNlZCYmZG9tVXRpbHMuaXNCb2R5KHJuZy5zdGFydENvbnRhaW5lcikmJnJuZy5zdGFydE9mZnNldD09MCl7dmFyIG5vZGU9bWUuYm9keS5maXJzdENoaWxkO2lmKG5vZGUmJm5vZGUubm9kZVR5cGU9PTEmJiFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe3JuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSkuY29sbGFwc2UodHJ1ZSl9fXJuZy5zZWxlY3QodHJ1ZSl9dGhpcy5maXJlRXZlbnQoImZvY3VzIHNlbGVjdGlvbmNoYW5nZSIpfWNhdGNoKGUpe319LGlzRm9jdXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3Rpb24uaXNGb2N1cygpfSxibHVyOmZ1bmN0aW9uKCl7dmFyIHNlbD10aGlzLnNlbGVjdGlvbi5nZXROYXRpdmUoKTtpZihzZWwuZW1wdHkmJmJyb3dzZXIuaWUpe3ZhciBuYXRpdmVSbmc9ZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtuYXRpdmVSbmcubW92ZVRvRWxlbWVudFRleHQoZG9jdW1lbnQuYm9keSk7bmF0aXZlUm5nLmNvbGxhcHNlKHRydWUpO25hdGl2ZVJuZy5zZWxlY3QoKTtzZWwuZW1wdHkoKX1lbHNle3NlbC5yZW1vdmVBbGxSYW5nZXMoKX19LF9pbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsZG9jPW1lLmRvY3VtZW50LHdpbj1tZS53aW5kb3c7bWUuX3Byb3h5RG9tRXZlbnQ9dXRpbHMuYmluZChtZS5fcHJveHlEb21FdmVudCxtZSk7ZG9tVXRpbHMub24oZG9jLFsiY2xpY2siLCJjb250ZXh0bWVudSIsIm1vdXNlZG93biIsImtleWRvd24iLCJrZXl1cCIsImtleXByZXNzIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0Iiwic2VsZWN0c3RhcnQiXSxtZS5fcHJveHlEb21FdmVudCk7ZG9tVXRpbHMub24od2luLFsiZm9jdXMiLCJibHVyIl0sbWUuX3Byb3h5RG9tRXZlbnQpO2RvbVV0aWxzLm9uKG1lLmJvZHksImRyb3AiLGZ1bmN0aW9uKGUpe2lmKGJyb3dzZXIuZ2Vja28mJmUuc3RvcFByb3BhZ2F0aW9uKXtlLnN0b3BQcm9wYWdhdGlvbigpfW1lLmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpfSk7ZG9tVXRpbHMub24oZG9jLFsibW91c2V1cCIsImtleWRvd24iXSxmdW5jdGlvbihldnQpe2lmKGV2dC50eXBlPT0ia2V5ZG93biImJihldnQuY3RybEtleXx8ZXZ0Lm1ldGFLZXl8fGV2dC5zaGlmdEtleXx8ZXZ0LmFsdEtleSkpe3JldHVybn1pZihldnQuYnV0dG9uPT0yKXtyZXR1cm59bWUuX3NlbGVjdGlvbkNoYW5nZSgyNTAsZXZ0KX0pfSxfcHJveHlEb21FdmVudDpmdW5jdGlvbihldnQpe2lmKHRoaXMuZmlyZUV2ZW50KCJiZWZvcmUiK2V2dC50eXBlLnJlcGxhY2UoL15vbi8sIiIpLnRvTG93ZXJDYXNlKCkpPT09ZmFsc2Upe3JldHVybiBmYWxzZX1pZih0aGlzLmZpcmVFdmVudChldnQudHlwZS5yZXBsYWNlKC9eb24vLCIiKSxldnQpPT09ZmFsc2Upe3JldHVybiBmYWxzZX1yZXR1cm4gdGhpcy5maXJlRXZlbnQoImFmdGVyIitldnQudHlwZS5yZXBsYWNlKC9eb24vLCIiKS50b0xvd2VyQ2FzZSgpKX0sX3NlbGVjdGlvbkNoYW5nZTpmdW5jdGlvbihkZWxheSxldnQpe3ZhciBtZT10aGlzO3ZhciBoYWNrRm9yTW91c2VVcD1mYWxzZTt2YXIgbW91c2VYLG1vdXNlWTtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248OSYmZXZ0JiZldnQudHlwZT09Im1vdXNldXAiKXt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXtoYWNrRm9yTW91c2VVcD10cnVlO21vdXNlWD1ldnQuY2xpZW50WDttb3VzZVk9ZXZ0LmNsaWVudFl9fWNsZWFyVGltZW91dChfc2VsZWN0aW9uQ2hhbmdlVGltZXIpO19zZWxlY3Rpb25DaGFuZ2VUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIW1lLnNlbGVjdGlvbnx8IW1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKSl7cmV0dXJufXZhciBpZVJhbmdlO2lmKGhhY2tGb3JNb3VzZVVwJiZtZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkudHlwZT09Ik5vbmUiKXtpZVJhbmdlPW1lLmRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2llUmFuZ2UubW92ZVRvUG9pbnQobW91c2VYLG1vdXNlWSl9Y2F0Y2goZXgpe2llUmFuZ2U9bnVsbH19dmFyIGJha0dldElFUmFuZ2U7aWYoaWVSYW5nZSl7YmFrR2V0SUVSYW5nZT1tZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZTttZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZT1mdW5jdGlvbigpe3JldHVybiBpZVJhbmdlfX1tZS5zZWxlY3Rpb24uY2FjaGUoKTtpZihiYWtHZXRJRVJhbmdlKXttZS5zZWxlY3Rpb24uZ2V0SUVSYW5nZT1iYWtHZXRJRVJhbmdlfWlmKG1lLnNlbGVjdGlvbi5fY2FjaGVkUmFuZ2UmJm1lLnNlbGVjdGlvbi5fY2FjaGVkU3RhcnRFbGVtZW50KXttZS5maXJlRXZlbnQoImJlZm9yZXNlbGVjdGlvbmNoYW5nZSIpO21lLmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIiwhIWV2dCk7bWUuZmlyZUV2ZW50KCJhZnRlcnNlbGVjdGlvbmNoYW5nZSIpO21lLnNlbGVjdGlvbi5jbGVhcigpfX0sZGVsYXl8fDUwKX0sX2NhbGxDbWRGbjpmdW5jdGlvbihmbk5hbWUsYXJncyl7dmFyIGNtZE5hbWU9YXJnc1swXS50b0xvd2VyQ2FzZSgpLGNtZCxjbWRGbjtjbWQ9dGhpcy5jb21tYW5kc1tjbWROYW1lXXx8VUUuY29tbWFuZHNbY21kTmFtZV07Y21kRm49Y21kJiZjbWRbZm5OYW1lXTtpZigoIWNtZHx8IWNtZEZuKSYmZm5OYW1lPT0icXVlcnlDb21tYW5kU3RhdGUiKXtyZXR1cm4gMH1lbHNle2lmKGNtZEZuKXtyZXR1cm4gY21kRm4uYXBwbHkodGhpcyxhcmdzKX19fSxleGVjQ29tbWFuZDpmdW5jdGlvbihjbWROYW1lKXtjbWROYW1lPWNtZE5hbWUudG9Mb3dlckNhc2UoKTt2YXIgbWU9dGhpcyxyZXN1bHQsY21kPW1lLmNvbW1hbmRzW2NtZE5hbWVdfHxVRS5jb21tYW5kc1tjbWROYW1lXTtpZighY21kfHwhY21kLmV4ZWNDb21tYW5kKXtyZXR1cm4gbnVsbH1pZighY21kLm5vdE5lZWRVbmRvJiYhbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kKXttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9dHJ1ZTtpZihtZS5xdWVyeUNvbW1hbmRTdGF0ZS5hcHBseShtZSxhcmd1bWVudHMpIT0tMSl7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTttZS5maXJlRXZlbnQoImJlZm9yZWV4ZWNjb21tYW5kIixjbWROYW1lKTtyZXN1bHQ9dGhpcy5fY2FsbENtZEZuKCJleGVjQ29tbWFuZCIsYXJndW1lbnRzKTsoIWNtZC5pZ25vcmVDb250ZW50Q2hhbmdlJiYhbWUuX2lnbm9yZUNvbnRlbnRDaGFuZ2UpJiZtZS5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiKTttZS5maXJlRXZlbnQoImFmdGVyZXhlY2NvbW1hbmQiLGNtZE5hbWUpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIil9bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPWZhbHNlfWVsc2V7cmVzdWx0PXRoaXMuX2NhbGxDbWRGbigiZXhlY0NvbW1hbmQiLGFyZ3VtZW50cyk7KCFtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQmJiFjbWQuaWdub3JlQ29udGVudENoYW5nZSYmIW1lLl9pZ25vcmVDb250ZW50Q2hhbmdlKSYmbWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIil9KCFtZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQmJiFjbWQuaWdub3JlQ29udGVudENoYW5nZSYmIW1lLl9pZ25vcmVDb250ZW50Q2hhbmdlKSYmbWUuX3NlbGVjdGlvbkNoYW5nZSgpO3JldHVybiByZXN1bHR9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNtZE5hbWUpe3JldHVybiB0aGlzLl9jYWxsQ21kRm4oInF1ZXJ5Q29tbWFuZFN0YXRlIixhcmd1bWVudHMpfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWROYW1lKXtyZXR1cm4gdGhpcy5fY2FsbENtZEZuKCJxdWVyeUNvbW1hbmRWYWx1ZSIsYXJndW1lbnRzKX0saGFzQ29udGVudHM6ZnVuY3Rpb24odGFncyl7aWYodGFncyl7Zm9yKHZhciBpPTAsY2k7Y2k9dGFnc1tpKytdOyl7aWYodGhpcy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShjaSkubGVuZ3RoPjApe3JldHVybiB0cnVlfX19aWYoIWRvbVV0aWxzLmlzRW1wdHlCbG9jayh0aGlzLmJvZHkpKXtyZXR1cm4gdHJ1ZX10YWdzPVsiZGl2Il07Zm9yKGk9MDtjaT10YWdzW2krK107KXt2YXIgbm9kZXM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy5kb2N1bWVudCxjaSk7Zm9yKHZhciBuPTAsY247Y249bm9kZXNbbisrXTspe2lmKGRvbVV0aWxzLmlzQ3VzdG9tZU5vZGUoY24pKXtyZXR1cm4gdHJ1ZX19fXJldHVybiBmYWxzZX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudCgicmVzZXQiKX0sc2V0RW5hYmxlZDpmdW5jdGlvbigpe3ZhciBtZT10aGlzLHJhbmdlO2lmKG1lLmJvZHkuY29udGVudEVkaXRhYmxlPT0iZmFsc2UiKXttZS5ib2R5LmNvbnRlbnRFZGl0YWJsZT10cnVlO3JhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3RyeXtyYW5nZS5tb3ZlVG9Cb29rbWFyayhtZS5sYXN0QmspO2RlbGV0ZSBtZS5sYXN0Qmt9Y2F0Y2goZSl7cmFuZ2Uuc2V0U3RhcnRBdEZpcnN0KG1lLmJvZHkpLmNvbGxhcHNlKHRydWUpfXJhbmdlLnNlbGVjdCh0cnVlKTtpZihtZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlKXttZS5xdWVyeUNvbW1hbmRTdGF0ZT1tZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlO2RlbGV0ZSBtZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlfW1lLmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIil9fSxlbmFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRFbmFibGVkKCl9LHNldERpc2FibGVkOmZ1bmN0aW9uKGV4Y2VwdCl7dmFyIG1lPXRoaXM7ZXhjZXB0PWV4Y2VwdD91dGlscy5pc0FycmF5KGV4Y2VwdCk/ZXhjZXB0OltleGNlcHRdOltdO2lmKG1lLmJvZHkuY29udGVudEVkaXRhYmxlPT0idHJ1ZSIpe2lmKCFtZS5sYXN0Qmspe21lLmxhc3RCaz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5jcmVhdGVCb29rbWFyayh0cnVlKX1tZS5ib2R5LmNvbnRlbnRFZGl0YWJsZT1mYWxzZTttZS5ia3F1ZXJ5Q29tbWFuZFN0YXRlPW1lLnF1ZXJ5Q29tbWFuZFN0YXRlO21lLnF1ZXJ5Q29tbWFuZFN0YXRlPWZ1bmN0aW9uKHR5cGUpe2lmKHV0aWxzLmluZGV4T2YoZXhjZXB0LHR5cGUpIT0tMSl7cmV0dXJuIG1lLmJrcXVlcnlDb21tYW5kU3RhdGUuYXBwbHkobWUsYXJndW1lbnRzKX1yZXR1cm4gLTF9O21lLmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIil9fSxkaXNhYmxlOmZ1bmN0aW9uKGV4Y2VwdCl7cmV0dXJuIHRoaXMuc2V0RGlzYWJsZWQoZXhjZXB0KX0sX3NldERlZmF1bHRDb250ZW50OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gY2xlYXIoKXt2YXIgbWU9dGhpcztpZihtZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaW5pdENvbnRlbnQiKSl7bWUuYm9keS5pbm5lckhUTUw9IjxwPiIrKGllPyIiOiI8YnIvPiIpKyI8L3A+IjttZS5yZW1vdmVMaXN0ZW5lcigiZmlyc3RCZWZvcmVFeGVjQ29tbWFuZCBmb2N1cyIsY2xlYXIpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXttZS5mb2N1cygpO21lLl9zZWxlY3Rpb25DaGFuZ2UoKX0sMCl9fXJldHVybiBmdW5jdGlvbihjb250KXt2YXIgbWU9dGhpczttZS5ib2R5LmlubmVySFRNTD0nPHAgaWQ9ImluaXRDb250ZW50Ij4nK2NvbnQrIjwvcD4iO21lLmFkZExpc3RlbmVyKCJmaXJzdEJlZm9yZUV4ZWNDb21tYW5kIGZvY3VzIixjbGVhcil9fSgpLHNldFNob3c6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZihtZS5jb250YWluZXIuc3R5bGUuZGlzcGxheT09Im5vbmUiKXt0cnl7cmFuZ2UubW92ZVRvQm9va21hcmsobWUubGFzdEJrKTtkZWxldGUgbWUubGFzdEJrfWNhdGNoKGUpe3JhbmdlLnNldFN0YXJ0QXRGaXJzdChtZS5ib2R5KS5jb2xsYXBzZSh0cnVlKX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmFuZ2Uuc2VsZWN0KHRydWUpfSwxMDApO21lLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSIifX0sc2hvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFNob3coKX0sc2V0SGlkZTpmdW5jdGlvbigpe3ZhciBtZT10aGlzO2lmKCFtZS5sYXN0Qmspe21lLmxhc3RCaz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5jcmVhdGVCb29rbWFyayh0cnVlKX1tZS5jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSJ9LGhpZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRIaWRlKCl9LGdldExhbmc6ZnVuY3Rpb24ocGF0aCl7dmFyIGxhbmc9VUUuSTE4Tlt0aGlzLm9wdGlvbnMubGFuZ107aWYoIWxhbmcpe3Rocm93IEVycm9yKCJub3QgaW1wb3J0IGxhbmd1YWdlIGZpbGUiKX1wYXRoPShwYXRofHwiIikuc3BsaXQoIi4iKTtmb3IodmFyIGk9MCxjaTtjaT1wYXRoW2krK107KXtsYW5nPWxhbmdbY2ldO2lmKCFsYW5nKXticmVha319cmV0dXJuIGxhbmd9LGdldENvbnRlbnRMZW5ndGg6ZnVuY3Rpb24oaW5nb25lSHRtbCx0YWdOYW1lcyl7dmFyIGNvdW50PXRoaXMuZ2V0Q29udGVudChmYWxzZSxmYWxzZSx0cnVlKS5sZW5ndGg7aWYoaW5nb25lSHRtbCl7dGFnTmFtZXM9KHRhZ05hbWVzfHxbXSkuY29uY2F0KFsiaHIiLCJpbWciLCJpZnJhbWUiXSk7Y291bnQ9dGhpcy5nZXRDb250ZW50VHh0KCkucmVwbGFjZSgvW1x0XHJcbl0rL2csIiIpLmxlbmd0aDtmb3IodmFyIGk9MCxjaTtjaT10YWdOYW1lc1tpKytdOyl7Y291bnQrPXRoaXMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY2kpLmxlbmd0aH19cmV0dXJuIGNvdW50fSxhZGRJbnB1dFJ1bGU6ZnVuY3Rpb24ocnVsZSl7dGhpcy5pbnB1dFJ1bGVzLnB1c2gocnVsZSl9LGZpbHRlcklucHV0UnVsZTpmdW5jdGlvbihyb290KXtmb3IodmFyIGk9MCxjaTtjaT10aGlzLmlucHV0UnVsZXNbaSsrXTspe2NpLmNhbGwodGhpcyxyb290KX19LGFkZE91dHB1dFJ1bGU6ZnVuY3Rpb24ocnVsZSl7dGhpcy5vdXRwdXRSdWxlcy5wdXNoKHJ1bGUpfSxmaWx0ZXJPdXRwdXRSdWxlOmZ1bmN0aW9uKHJvb3Qpe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMub3V0cHV0UnVsZXNbaSsrXTspe2NpLmNhbGwodGhpcyxyb290KX19fTt1dGlscy5pbmhlcml0cyhFZGl0b3IsRXZlbnRCYXNlKX0pKCk7VUUuYWpheD1mdW5jdGlvbigpe3ZhciBmblN0cj0iWE1MSHR0cFJlcXVlc3QoKSI7dHJ5e25ldyBBY3RpdmVYT2JqZWN0KCJNc3htbDIuWE1MSFRUUCIpO2ZuU3RyPSJBY3RpdmVYT2JqZWN0KCdNc3htbDIuWE1MSFRUUCcpIn1jYXRjaChlKXt0cnl7bmV3IEFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIik7Zm5TdHI9IkFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxIVFRQJykifWNhdGNoKGUpe319dmFyIGNyZWF0QWpheFJlcXVlc3Q9bmV3IEZ1bmN0aW9uKCJyZXR1cm4gbmV3ICIrZm5TdHIpO2Z1bmN0aW9uIGpzb24yc3RyKGpzb24pe3ZhciBzdHJBcnI9W107Zm9yKHZhciBpIGluIGpzb24pe2lmKGk9PSJtZXRob2QifHxpPT0idGltZW91dCJ8fGk9PSJhc3luYyIpe2NvbnRpbnVlfWlmKCEoKHR5cGVvZiBqc29uW2ldKS50b0xvd2VyQ2FzZSgpPT0iZnVuY3Rpb24ifHwodHlwZW9mIGpzb25baV0pLnRvTG93ZXJDYXNlKCk9PSJvYmplY3QiKSl7c3RyQXJyLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGkpKyI9IitlbmNvZGVVUklDb21wb25lbnQoanNvbltpXSkpfX1yZXR1cm4gc3RyQXJyLmpvaW4oIiYiKX1yZXR1cm57cmVxdWVzdDpmdW5jdGlvbih1cmwsYWpheE9wdGlvbnMpe3ZhciBhamF4UmVxdWVzdD1jcmVhdEFqYXhSZXF1ZXN0KCksdGltZUlzT3V0PWZhbHNlLGRlZmF1bHRBamF4T3B0aW9ucz17bWV0aG9kOiJQT1NUIix0aW1lb3V0OjUwMDAsYXN5bmM6dHJ1ZSxkYXRhOnt9LG9uc3VjY2VzczpmdW5jdGlvbigpe30sb25lcnJvcjpmdW5jdGlvbigpe319O2lmKHR5cGVvZiB1cmw9PT0ib2JqZWN0Iil7YWpheE9wdGlvbnM9dXJsO3VybD1hamF4T3B0aW9ucy51cmx9aWYoIWFqYXhSZXF1ZXN0fHwhdXJsKXtyZXR1cm59dmFyIGFqYXhPcHRzPWFqYXhPcHRpb25zP3V0aWxzLmV4dGVuZChkZWZhdWx0QWpheE9wdGlvbnMsYWpheE9wdGlvbnMpOmRlZmF1bHRBamF4T3B0aW9uczt2YXIgc3VibWl0U3RyPWpzb24yc3RyKGFqYXhPcHRzKTtpZighdXRpbHMuaXNFbXB0eU9iamVjdChhamF4T3B0cy5kYXRhKSl7c3VibWl0U3RyKz0oc3VibWl0U3RyPyImIjoiIikranNvbjJzdHIoYWpheE9wdHMuZGF0YSl9dmFyIHRpbWVySUQ9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGFqYXhSZXF1ZXN0LnJlYWR5U3RhdGUhPTQpe3RpbWVJc091dD10cnVlO2FqYXhSZXF1ZXN0LmFib3J0KCk7Y2xlYXJUaW1lb3V0KHRpbWVySUQpfX0sYWpheE9wdHMudGltZW91dCk7dmFyIG1ldGhvZD1hamF4T3B0cy5tZXRob2QudG9VcHBlckNhc2UoKTt2YXIgc3RyPXVybCsodXJsLmluZGV4T2YoIj8iKT09LTE/Ij8iOiImIikrKG1ldGhvZD09IlBPU1QiPyIiOnN1Ym1pdFN0cisiJm5vQ2FjaGU9IisgK25ldyBEYXRlKTthamF4UmVxdWVzdC5vcGVuKG1ldGhvZCxzdHIsYWpheE9wdHMuYXN5bmMpO2FqYXhSZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKGFqYXhSZXF1ZXN0LnJlYWR5U3RhdGU9PTQpe2lmKCF0aW1lSXNPdXQmJmFqYXhSZXF1ZXN0LnN0YXR1cz09MjAwKXthamF4T3B0cy5vbnN1Y2Nlc3MoYWpheFJlcXVlc3QpfWVsc2V7YWpheE9wdHMub25lcnJvcihhamF4UmVxdWVzdCl9fX07aWYobWV0aG9kPT0iUE9TVCIpe2FqYXhSZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIpO2FqYXhSZXF1ZXN0LnNlbmQoc3VibWl0U3RyKX1lbHNle2FqYXhSZXF1ZXN0LnNlbmQobnVsbCl9fX19KCk7dmFyIGZpbHRlcldvcmQ9VUUuZmlsdGVyV29yZD1mdW5jdGlvbigpe2Z1bmN0aW9uIGlzV29yZERvY3VtZW50KHN0cil7cmV0dXJuLyhjbGFzcz0iP01zb3xzdHlsZT0iW14iXSpcYm1zb1wtfHc6V29yZERvY3VtZW50fDwodnxvKTp8bGFuZz0pL2lnLnRlc3Qoc3RyKX1mdW5jdGlvbiB0cmFuc1VuaXQodil7dj12LnJlcGxhY2UoL1tcZC5dK1x3Ky9nLGZ1bmN0aW9uKG0pe3JldHVybiB1dGlscy50cmFuc1VuaXRUb1B4KG0pfSk7cmV0dXJuIHZ9ZnVuY3Rpb24gZmlsdGVyUGFzdGVXb3JkKHN0cil7cmV0dXJuIHN0ci5yZXBsYWNlKC9bXHRcclxuXSsvZywiICIpLnJlcGxhY2UoLzwhLS1bXHNcU10qPy0tPi9pZywiIikucmVwbGFjZSgvPHY6c2hhcGUgW14+XSo+W1xzXFNdKj8uPFwvdjpzaGFwZT4vZ2ksZnVuY3Rpb24oc3RyKXtpZihicm93c2VyLm9wZXJhKXtyZXR1cm4iIn10cnl7aWYoL0JpdG1hcC9pLnRlc3Qoc3RyKSl7cmV0dXJuIiJ9dmFyIHdpZHRoPXN0ci5tYXRjaCgvd2lkdGg6KFsgXGQuXSpwW3R4XSkvaSlbMV0saGVpZ2h0PXN0ci5tYXRjaCgvaGVpZ2h0OihbIFxkLl0qcFt0eF0pL2kpWzFdLHNyYz1zdHIubWF0Y2goL3NyYz1ccyoiKFteIl0qKSIvaSlbMV07cmV0dXJuJzxpbWcgd2lkdGg9IicrdHJhbnNVbml0KHdpZHRoKSsnIiBoZWlnaHQ9IicrdHJhbnNVbml0KGhlaWdodCkrJyIgc3JjPSInK3NyYysnIiAvPid9Y2F0Y2goZSl7cmV0dXJuIiJ9fSkucmVwbGFjZSgvPFwvP2RpdltePl0qPi9nLCIiKS5yZXBsYWNlKC92Olx3Kz0oWyInXT8pW14nIl0rXDEvZywiIikucmVwbGFjZSgvPCghfHNjcmlwdFtePl0qPi4qPzxcL3NjcmlwdCg/PVs+XHNdKXxcLz8oXD94bWwoOlx3Kyk/fHhtbHxtZXRhfGxpbmt8c3R5bGV8XHcrOlx3KykoPz1bXHNcLz5dKSlbXj5dKj4vZ2ksIiIpLnJlcGxhY2UoLzxwIFtePl0qY2xhc3M9Ij9Nc29IZWFkaW5nIj9bXj5dKj4oLio/KTxcL3A+L2dpLCI8cD48c3Ryb25nPiQxPC9zdHJvbmc+PC9wPiIpLnJlcGxhY2UoL1xzKyhjbGFzc3xsYW5nfGFsaWduKVxzKj1ccyooWyciXT8pKFtcdy1dKylcMi9pZyxmdW5jdGlvbihzdHIsbmFtZSxtYXJrcyx2YWwpe3JldHVybiBuYW1lPT0iY2xhc3MiJiZ2YWw9PSJNc29MaXN0UGFyYWdyYXBoIj9zdHI6IiJ9KS5yZXBsYWNlKC88KGZvbnR8c3BhbilbXj5dKj4oXHMqKTxcL1wxPi9naSxmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGMucmVwbGFjZSgvW1x0XHJcbiBdKy9nLCIgIil9KS5yZXBsYWNlKC8oPFthLXpdW14+XSopXHNzdHlsZT0oWyInXSkoW15cMl0qPylcMi9naSxmdW5jdGlvbihzdHIsdGFnLHRtcCxzdHlsZSl7dmFyIG49W10scz1zdHlsZS5yZXBsYWNlKC9eXHMrfFxzKyQvLCIiKS5yZXBsYWNlKC8mIzM5Oy9nLCInIikucmVwbGFjZSgvJnF1b3Q7L2dpLCInIikuc3BsaXQoLztccyovZyk7Zm9yKHZhciBpPTAsdjt2PXNbaV07aSsrKXt2YXIgbmFtZSx2YWx1ZSxwYXJ0cz12LnNwbGl0KCI6Iik7aWYocGFydHMubGVuZ3RoPT0yKXtuYW1lPXBhcnRzWzBdLnRvTG93ZXJDYXNlKCk7dmFsdWU9cGFydHNbMV0udG9Mb3dlckNhc2UoKTtpZigvXihiYWNrZ3JvdW5kKVx3Ki8udGVzdChuYW1lKSYmdmFsdWUucmVwbGFjZSgvKGluaXRpYWx8XHMpL2csIiIpLmxlbmd0aD09MHx8L14obWFyZ2luKVx3Ki8udGVzdChuYW1lKSYmL14wXHcrJC8udGVzdCh2YWx1ZSkpe2NvbnRpbnVlfXN3aXRjaChuYW1lKXtjYXNlIm1zby1wYWRkaW5nLWFsdCI6Y2FzZSJtc28tcGFkZGluZy10b3AtYWx0IjpjYXNlIm1zby1wYWRkaW5nLXJpZ2h0LWFsdCI6Y2FzZSJtc28tcGFkZGluZy1ib3R0b20tYWx0IjpjYXNlIm1zby1wYWRkaW5nLWxlZnQtYWx0IjpjYXNlIm1zby1tYXJnaW4tYWx0IjpjYXNlIm1zby1tYXJnaW4tdG9wLWFsdCI6Y2FzZSJtc28tbWFyZ2luLXJpZ2h0LWFsdCI6Y2FzZSJtc28tbWFyZ2luLWJvdHRvbS1hbHQiOmNhc2UibXNvLW1hcmdpbi1sZWZ0LWFsdCI6Y2FzZSJtc28taGVpZ2h0IjpjYXNlIm1zby13aWR0aCI6Y2FzZSJtc28tdmVydGljYWwtYWxpZ24tYWx0IjppZighLzx0YWJsZS8udGVzdCh0YWcpKXtuW2ldPW5hbWUucmVwbGFjZSgvXm1zby18LWFsdCQvZywiIikrIjoiK3RyYW5zVW5pdCh2YWx1ZSl9Y29udGludWU7Y2FzZSJob3Jpei1hbGlnbiI6bltpXT0idGV4dC1hbGlnbjoiK3ZhbHVlO2NvbnRpbnVlO2Nhc2UidmVydC1hbGlnbiI6bltpXT0idmVydGljYWwtYWxpZ246Iit2YWx1ZTtjb250aW51ZTtjYXNlImZvbnQtY29sb3IiOmNhc2UibXNvLWZvcmVncm91bmQiOm5baV09ImNvbG9yOiIrdmFsdWU7Y29udGludWU7Y2FzZSJtc28tYmFja2dyb3VuZCI6Y2FzZSJtc28taGlnaGxpZ2h0IjpuW2ldPSJiYWNrZ3JvdW5kOiIrdmFsdWU7Y29udGludWU7Y2FzZSJtc28tZGVmYXVsdC1oZWlnaHQiOm5baV09Im1pbi1oZWlnaHQ6Iit0cmFuc1VuaXQodmFsdWUpO2NvbnRpbnVlO2Nhc2UibXNvLWRlZmF1bHQtd2lkdGgiOm5baV09Im1pbi13aWR0aDoiK3RyYW5zVW5pdCh2YWx1ZSk7Y29udGludWU7Y2FzZSJtc28tcGFkZGluZy1iZXR3ZWVuLWFsdCI6bltpXT0iYm9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlO2JvcmRlci1zcGFjaW5nOiIrdHJhbnNVbml0KHZhbHVlKTtjb250aW51ZTtjYXNlInRleHQtbGluZS10aHJvdWdoIjppZigodmFsdWU9PSJzaW5nbGUiKXx8KHZhbHVlPT0iZG91YmxlIikpe25baV09InRleHQtZGVjb3JhdGlvbjpsaW5lLXRocm91Z2gifWNvbnRpbnVlO2Nhc2UibXNvLXplcm8taGVpZ2h0IjppZih2YWx1ZT09InllcyIpe25baV09ImRpc3BsYXk6bm9uZSJ9Y29udGludWU7Y2FzZSJtYXJnaW4iOmlmKCEvWzEtOV0vLnRlc3QodmFsdWUpKXtjb250aW51ZX19aWYoL14obXNvfGNvbHVtbnxmb250LWVtcGh8bGFuZ3xsYXlvdXR8bGluZS1icmVha3xsaXN0LWltYWdlfG5hdnxwYW5vc2V8cHVuY3R8cm93fHJ1Ynl8c2VwfHNpemV8c3JjfHRhYi18dGFibGUtYm9yZGVyfHRleHQtKD86ZGVjb3J8dHJhbnMpfHRvcC1iYXJ8dmVyc2lvbnx2bmR8d29yZC1icmVhaykvLnRlc3QobmFtZSl8fC90ZXh0XC1pbmRlbnR8cGFkZGluZ3xtYXJnaW4vLnRlc3QobmFtZSkmJi9cLVtcZC5dKy8udGVzdCh2YWx1ZSkpe2NvbnRpbnVlfW5baV09bmFtZSsiOiIrcGFydHNbMV19fXJldHVybiB0YWcrKG4ubGVuZ3RoPycgc3R5bGU9Iicrbi5qb2luKCI7IikucmVwbGFjZSgvO3syLH0vZywiOyIpKyciJzoiIil9KS5yZXBsYWNlKC9bXGQuXSsoY218cHQpL2csZnVuY3Rpb24oc3RyKXtyZXR1cm4gdXRpbHMudHJhbnNVbml0VG9QeChzdHIpfSl9cmV0dXJuIGZ1bmN0aW9uKGh0bWwpe3JldHVybihpc1dvcmREb2N1bWVudChodG1sKT9maWx0ZXJQYXN0ZVdvcmQoaHRtbCk6aHRtbCl9fSgpOyhmdW5jdGlvbigpe3ZhciB1Tm9kZT1VRS51Tm9kZT1mdW5jdGlvbihvYmope3RoaXMudHlwZT1vYmoudHlwZTt0aGlzLmRhdGE9b2JqLmRhdGE7dGhpcy50YWdOYW1lPW9iai50YWdOYW1lO3RoaXMucGFyZW50Tm9kZT1vYmoucGFyZW50Tm9kZTt0aGlzLmF0dHJzPW9iai5hdHRyc3x8e307dGhpcy5jaGlsZHJlbj1vYmouY2hpbGRyZW59O3ZhciBub3RUcmFuc0F0dHJzPXtocmVmOjEsc3JjOjEsX3NyYzoxLF9ocmVmOjEsY2RhdGFfZGF0YToxfTt2YXIgbm90VHJhbnNUYWdOYW1lPXtzdHlsZToxLHNjcmlwdDoxfTt2YXIgaW5kZW50Q2hhcj0iICAgICIsYnJlYWtDaGFyPSJcbiI7ZnVuY3Rpb24gaW5zZXJ0TGluZShhcnIsY3VycmVudCxiZWdpbil7YXJyLnB1c2goYnJlYWtDaGFyKTtyZXR1cm4gY3VycmVudCsoYmVnaW4/MTotMSl9ZnVuY3Rpb24gaW5zZXJ0SW5kZW50KGFycixjdXJyZW50KXtmb3IodmFyIGk9MDtpPGN1cnJlbnQ7aSsrKXthcnIucHVzaChpbmRlbnRDaGFyKX19dU5vZGUuY3JlYXRlRWxlbWVudD1mdW5jdGlvbihodG1sKXtpZigvWzw+XS8udGVzdChodG1sKSl7cmV0dXJuIFVFLmh0bWxwYXJzZXIoaHRtbCkuY2hpbGRyZW5bMF19ZWxzZXtyZXR1cm4gbmV3IHVOb2RlKHt0eXBlOiJlbGVtZW50IixjaGlsZHJlbjpbXSx0YWdOYW1lOmh0bWx9KX19O3VOb2RlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24oZGF0YSxub1RyYW5zKXtyZXR1cm4gbmV3IFVFLnVOb2RlKHt0eXBlOiJ0ZXh0IixkYXRhOm5vVHJhbnM/ZGF0YTp1dGlscy51bmh0bWwoZGF0YXx8IiIpfSl9O2Z1bmN0aW9uIG5vZGVUb0h0bWwobm9kZSxhcnIsZm9ybWF0dGVyLGN1cnJlbnQpe3N3aXRjaChub2RlLnR5cGUpe2Nhc2Uicm9vdCI6Zm9yKHZhciBpPTAsY2k7Y2k9bm9kZS5jaGlsZHJlbltpKytdOyl7aWYoZm9ybWF0dGVyJiZjaS50eXBlPT0iZWxlbWVudCImJiFkdGQuJGlubGluZVdpdGhBW2NpLnRhZ05hbWVdJiZpPjEpe2luc2VydExpbmUoYXJyLGN1cnJlbnQsdHJ1ZSk7aW5zZXJ0SW5kZW50KGFycixjdXJyZW50KX1ub2RlVG9IdG1sKGNpLGFycixmb3JtYXR0ZXIsY3VycmVudCl9YnJlYWs7Y2FzZSJ0ZXh0Ijppc1RleHQobm9kZSxhcnIpO2JyZWFrO2Nhc2UiZWxlbWVudCI6aXNFbGVtZW50KG5vZGUsYXJyLGZvcm1hdHRlcixjdXJyZW50KTticmVhaztjYXNlImNvbW1lbnQiOmlzQ29tbWVudChub2RlLGFycixmb3JtYXR0ZXIpfXJldHVybiBhcnJ9ZnVuY3Rpb24gaXNUZXh0KG5vZGUsYXJyKXtpZihub2RlLnBhcmVudE5vZGUudGFnTmFtZT09InByZSIpe2Fyci5wdXNoKG5vZGUuZGF0YSl9ZWxzZXthcnIucHVzaChub3RUcmFuc1RhZ05hbWVbbm9kZS5wYXJlbnROb2RlLnRhZ05hbWVdP3V0aWxzLmh0bWwobm9kZS5kYXRhKTpub2RlLmRhdGEucmVwbGFjZSgvWyBdezJ9L2csIiAmbmJzcDsiKSl9fWZ1bmN0aW9uIGlzRWxlbWVudChub2RlLGFycixmb3JtYXR0ZXIsY3VycmVudCl7dmFyIGF0dHJodG1sPSIiO2lmKG5vZGUuYXR0cnMpe2F0dHJodG1sPVtdO3ZhciBhdHRycz1ub2RlLmF0dHJzO2Zvcih2YXIgYSBpbiBhdHRycyl7YXR0cmh0bWwucHVzaChhKyhhdHRyc1thXSE9PXVuZGVmaW5lZD8nPSInKyhub3RUcmFuc0F0dHJzW2FdP3V0aWxzLmh0bWwoYXR0cnNbYV0pLnJlcGxhY2UoL1siXS9nLGZ1bmN0aW9uKGEpe3JldHVybiImcXVvdDsifSk6dXRpbHMudW5odG1sKGF0dHJzW2FdKSkrJyInOiIiKSl9YXR0cmh0bWw9YXR0cmh0bWwuam9pbigiICIpfWFyci5wdXNoKCI8Iitub2RlLnRhZ05hbWUrKGF0dHJodG1sPyIgIithdHRyaHRtbDoiIikrKGR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXT8iLyI6IiIpKyI+Iik7aWYoZm9ybWF0dGVyJiYhZHRkLiRpbmxpbmVXaXRoQVtub2RlLnRhZ05hbWVdJiZub2RlLnRhZ05hbWUhPSJwcmUiKXtpZihub2RlLmNoaWxkcmVuJiZub2RlLmNoaWxkcmVuLmxlbmd0aCl7Y3VycmVudD1pbnNlcnRMaW5lKGFycixjdXJyZW50LHRydWUpO2luc2VydEluZGVudChhcnIsY3VycmVudCl9fWlmKG5vZGUuY2hpbGRyZW4mJm5vZGUuY2hpbGRyZW4ubGVuZ3RoKXtmb3IodmFyIGk9MCxjaTtjaT1ub2RlLmNoaWxkcmVuW2krK107KXtpZihmb3JtYXR0ZXImJmNpLnR5cGU9PSJlbGVtZW50IiYmIWR0ZC4kaW5saW5lV2l0aEFbY2kudGFnTmFtZV0mJmk+MSl7aW5zZXJ0TGluZShhcnIsY3VycmVudCk7aW5zZXJ0SW5kZW50KGFycixjdXJyZW50KX1ub2RlVG9IdG1sKGNpLGFycixmb3JtYXR0ZXIsY3VycmVudCl9fWlmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe2lmKGZvcm1hdHRlciYmIWR0ZC4kaW5saW5lV2l0aEFbbm9kZS50YWdOYW1lXSYmbm9kZS50YWdOYW1lIT0icHJlIil7aWYobm9kZS5jaGlsZHJlbiYmbm9kZS5jaGlsZHJlbi5sZW5ndGgpe2N1cnJlbnQ9aW5zZXJ0TGluZShhcnIsY3VycmVudCk7aW5zZXJ0SW5kZW50KGFycixjdXJyZW50KX19YXJyLnB1c2goIjwvIitub2RlLnRhZ05hbWUrIj4iKX19ZnVuY3Rpb24gaXNDb21tZW50KG5vZGUsYXJyKXthcnIucHVzaCgiPCEtLSIrbm9kZS5kYXRhKyItLT4iKX1mdW5jdGlvbiBnZXROb2RlQnlJZChyb290LGlkKXt2YXIgbm9kZTtpZihyb290LnR5cGU9PSJlbGVtZW50IiYmcm9vdC5nZXRBdHRyKCJpZCIpPT1pZCl7cmV0dXJuIHJvb3R9aWYocm9vdC5jaGlsZHJlbiYmcm9vdC5jaGlsZHJlbi5sZW5ndGgpe2Zvcih2YXIgaT0wLGNpO2NpPXJvb3QuY2hpbGRyZW5baSsrXTspe2lmKG5vZGU9Z2V0Tm9kZUJ5SWQoY2ksaWQpKXtyZXR1cm4gbm9kZX19fX1mdW5jdGlvbiBnZXROb2Rlc0J5VGFnTmFtZShub2RlLHRhZ05hbWUsYXJyKXtpZihub2RlLnR5cGU9PSJlbGVtZW50IiYmbm9kZS50YWdOYW1lPT10YWdOYW1lKXthcnIucHVzaChub2RlKX1pZihub2RlLmNoaWxkcmVuJiZub2RlLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBpPTAsY2k7Y2k9bm9kZS5jaGlsZHJlbltpKytdOyl7Z2V0Tm9kZXNCeVRhZ05hbWUoY2ksdGFnTmFtZSxhcnIpfX19ZnVuY3Rpb24gbm9kZVRyYXZlcnNhbChyb290LGZuKXtpZihyb290LmNoaWxkcmVuJiZyb290LmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBpPTAsY2k7Y2k9cm9vdC5jaGlsZHJlbltpXTspe25vZGVUcmF2ZXJzYWwoY2ksZm4pO2lmKGNpLnBhcmVudE5vZGUpe2lmKGNpLmNoaWxkcmVuJiZjaS5jaGlsZHJlbi5sZW5ndGgpe2ZuKGNpKX1pZihjaS5wYXJlbnROb2RlKXtpKyt9fX19ZWxzZXtmbihyb290KX19dU5vZGUucHJvdG90eXBlPXt0b0h0bWw6ZnVuY3Rpb24oZm9ybWF0dGVyKXt2YXIgYXJyPVtdO25vZGVUb0h0bWwodGhpcyxhcnIsZm9ybWF0dGVyLDApO3JldHVybiBhcnIuam9pbigiIil9LGlubmVySFRNTDpmdW5jdGlvbihodG1sc3RyKXtpZih0aGlzLnR5cGUhPSJlbGVtZW50Inx8ZHRkLiRlbXB0eVt0aGlzLnRhZ05hbWVdKXtyZXR1cm4gdGhpc31pZih1dGlscy5pc1N0cmluZyhodG1sc3RyKSl7aWYodGhpcy5jaGlsZHJlbil7Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpKytdOyl7Y2kucGFyZW50Tm9kZT1udWxsfX10aGlzLmNoaWxkcmVuPVtdO3ZhciB0bXBSb290PVVFLmh0bWxwYXJzZXIoaHRtbHN0cik7Zm9yKHZhciBpPTAsY2k7Y2k9dG1wUm9vdC5jaGlsZHJlbltpKytdOyl7dGhpcy5jaGlsZHJlbi5wdXNoKGNpKTtjaS5wYXJlbnROb2RlPXRoaXN9cmV0dXJuIHRoaXN9ZWxzZXt2YXIgdG1wUm9vdD1uZXcgVUUudU5vZGUoe3R5cGU6InJvb3QiLGNoaWxkcmVuOnRoaXMuY2hpbGRyZW59KTtyZXR1cm4gdG1wUm9vdC50b0h0bWwoKX19LGlubmVyVGV4dDpmdW5jdGlvbih0ZXh0U3RyLG5vVHJhbnMpe2lmKHRoaXMudHlwZSE9ImVsZW1lbnQifHxkdGQuJGVtcHR5W3RoaXMudGFnTmFtZV0pe3JldHVybiB0aGlzfWlmKHRleHRTdHIpe2lmKHRoaXMuY2hpbGRyZW4pe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMuY2hpbGRyZW5baSsrXTspe2NpLnBhcmVudE5vZGU9bnVsbH19dGhpcy5jaGlsZHJlbj1bXTt0aGlzLmFwcGVuZENoaWxkKHVOb2RlLmNyZWF0ZVRleHQodGV4dFN0cixub1RyYW5zKSk7cmV0dXJuIHRoaXN9ZWxzZXtyZXR1cm4gdGhpcy50b0h0bWwoKS5yZXBsYWNlKC88W14+XSs+L2csIiIpfX0sZ2V0RGF0YTpmdW5jdGlvbigpe2lmKHRoaXMudHlwZT09ImVsZW1lbnQiKXtyZXR1cm4iIn1yZXR1cm4gdGhpcy5kYXRhfSxmaXJzdENoaWxkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hpbGRyZW4/dGhpcy5jaGlsZHJlblswXTpudWxsfSxsYXN0Q2hpbGQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGlsZHJlbj90aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoLTFdOm51bGx9LHByZXZpb3VzU2libGluZzpmdW5jdGlvbigpe3ZhciBwYXJlbnQ9dGhpcy5wYXJlbnROb2RlO2Zvcih2YXIgaT0wLGNpO2NpPXBhcmVudC5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09dGhpcyl7cmV0dXJuIGk9PTA/bnVsbDpwYXJlbnQuY2hpbGRyZW5baS0xXX19fSxuZXh0U2libGluZzpmdW5jdGlvbigpe3ZhciBwYXJlbnQ9dGhpcy5wYXJlbnROb2RlO2Zvcih2YXIgaT0wLGNpO2NpPXBhcmVudC5jaGlsZHJlbltpKytdOyl7aWYoY2k9PT10aGlzKXtyZXR1cm4gcGFyZW50LmNoaWxkcmVuW2ldfX19LHJlcGxhY2VDaGlsZDpmdW5jdGlvbih0YXJnZXQsc291cmNlKXtpZih0aGlzLmNoaWxkcmVuKXtpZih0YXJnZXQucGFyZW50Tm9kZSl7dGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFyZ2V0KX1mb3IodmFyIGk9MCxjaTtjaT10aGlzLmNoaWxkcmVuW2ldO2krKyl7aWYoY2k9PT1zb3VyY2Upe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGksMSx0YXJnZXQpO3NvdXJjZS5wYXJlbnROb2RlPW51bGw7dGFyZ2V0LnBhcmVudE5vZGU9dGhpcztyZXR1cm4gdGFyZ2V0fX19fSxhcHBlbmRDaGlsZDpmdW5jdGlvbihub2RlKXtpZih0aGlzLnR5cGU9PSJyb290Inx8KHRoaXMudHlwZT09ImVsZW1lbnQiJiYhZHRkLiRlbXB0eVt0aGlzLnRhZ05hbWVdKSl7aWYoIXRoaXMuY2hpbGRyZW4pe3RoaXMuY2hpbGRyZW49W119aWYobm9kZS5wYXJlbnROb2RlKXtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSl9Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09bm9kZSl7dGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwxKTticmVha319dGhpcy5jaGlsZHJlbi5wdXNoKG5vZGUpO25vZGUucGFyZW50Tm9kZT10aGlzO3JldHVybiBub2RlfX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKHRhcmdldCxzb3VyY2Upe2lmKHRoaXMuY2hpbGRyZW4pe2lmKHRhcmdldC5wYXJlbnROb2RlKXt0YXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YXJnZXQpfWZvcih2YXIgaT0wLGNpO2NpPXRoaXMuY2hpbGRyZW5baV07aSsrKXtpZihjaT09PXNvdXJjZSl7dGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwwLHRhcmdldCk7dGFyZ2V0LnBhcmVudE5vZGU9dGhpcztyZXR1cm4gdGFyZ2V0fX19fSxpbnNlcnRBZnRlcjpmdW5jdGlvbih0YXJnZXQsc291cmNlKXtpZih0aGlzLmNoaWxkcmVuKXtpZih0YXJnZXQucGFyZW50Tm9kZSl7dGFyZ2V0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGFyZ2V0KX1mb3IodmFyIGk9MCxjaTtjaT10aGlzLmNoaWxkcmVuW2ldO2krKyl7aWYoY2k9PT1zb3VyY2Upe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGkrMSwwLHRhcmdldCk7dGFyZ2V0LnBhcmVudE5vZGU9dGhpcztyZXR1cm4gdGFyZ2V0fX19fSxyZW1vdmVDaGlsZDpmdW5jdGlvbihub2RlLGtlZXBDaGlsZHJlbil7aWYodGhpcy5jaGlsZHJlbil7Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpXTtpKyspe2lmKGNpPT09bm9kZSl7dGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwxKTtjaS5wYXJlbnROb2RlPW51bGw7aWYoa2VlcENoaWxkcmVuJiZjaS5jaGlsZHJlbiYmY2kuY2hpbGRyZW4ubGVuZ3RoKXtmb3IodmFyIGo9MCxjajtjaj1jaS5jaGlsZHJlbltqXTtqKyspe3RoaXMuY2hpbGRyZW4uc3BsaWNlKGkraiwwLGNqKTtjai5wYXJlbnROb2RlPXRoaXN9fXJldHVybiBjaX19fX0sZ2V0QXR0cjpmdW5jdGlvbihhdHRyTmFtZSl7cmV0dXJuIHRoaXMuYXR0cnMmJnRoaXMuYXR0cnNbYXR0ck5hbWUudG9Mb3dlckNhc2UoKV19LHNldEF0dHI6ZnVuY3Rpb24oYXR0ck5hbWUsYXR0clZhbCl7aWYoIWF0dHJOYW1lKXtkZWxldGUgdGhpcy5hdHRycztyZXR1cm59aWYoIXRoaXMuYXR0cnMpe3RoaXMuYXR0cnM9e319aWYodXRpbHMuaXNPYmplY3QoYXR0ck5hbWUpKXtmb3IodmFyIGEgaW4gYXR0ck5hbWUpe2lmKCFhdHRyTmFtZVthXSl7ZGVsZXRlIHRoaXMuYXR0cnNbYV19ZWxzZXt0aGlzLmF0dHJzW2EudG9Mb3dlckNhc2UoKV09YXR0ck5hbWVbYV19fX1lbHNle2lmKCFhdHRyVmFsKXtkZWxldGUgdGhpcy5hdHRyc1thdHRyTmFtZV19ZWxzZXt0aGlzLmF0dHJzW2F0dHJOYW1lLnRvTG93ZXJDYXNlKCldPWF0dHJWYWx9fX0sZ2V0SW5kZXg6ZnVuY3Rpb24oKXt2YXIgcGFyZW50PXRoaXMucGFyZW50Tm9kZTtmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnQuY2hpbGRyZW5baV07aSsrKXtpZihjaT09PXRoaXMpe3JldHVybiBpfX1yZXR1cm4gLTF9LGdldE5vZGVCeUlkOmZ1bmN0aW9uKGlkKXt2YXIgbm9kZTtpZih0aGlzLmNoaWxkcmVuJiZ0aGlzLmNoaWxkcmVuLmxlbmd0aCl7Zm9yKHZhciBpPTAsY2k7Y2k9dGhpcy5jaGlsZHJlbltpKytdOyl7aWYobm9kZT1nZXROb2RlQnlJZChjaSxpZCkpe3JldHVybiBub2RlfX19fSxnZXROb2Rlc0J5VGFnTmFtZTpmdW5jdGlvbih0YWdOYW1lcyl7dGFnTmFtZXM9dXRpbHMudHJpbSh0YWdOYW1lcykucmVwbGFjZSgvWyBdezIsfS9nLCIgIikuc3BsaXQoIiAiKTt2YXIgYXJyPVtdLG1lPXRoaXM7dXRpbHMuZWFjaCh0YWdOYW1lcyxmdW5jdGlvbih0YWdOYW1lKXtpZihtZS5jaGlsZHJlbiYmbWUuY2hpbGRyZW4ubGVuZ3RoKXtmb3IodmFyIGk9MCxjaTtjaT1tZS5jaGlsZHJlbltpKytdOyl7Z2V0Tm9kZXNCeVRhZ05hbWUoY2ksdGFnTmFtZSxhcnIpfX19KTtyZXR1cm4gYXJyfSxnZXRTdHlsZTpmdW5jdGlvbihuYW1lKXt2YXIgY3NzU3R5bGU9dGhpcy5nZXRBdHRyKCJzdHlsZSIpO2lmKCFjc3NTdHlsZSl7cmV0dXJuIiJ9dmFyIHJlZz1uZXcgUmVnRXhwKCIoXnw7KVxccyoiK25hbWUrIjooW147XSspIiwiaSIpO3ZhciBtYXRjaD1jc3NTdHlsZS5tYXRjaChyZWcpO2lmKG1hdGNoJiZtYXRjaFswXSl7cmV0dXJuIG1hdGNoWzJdfXJldHVybiIifSxzZXRTdHlsZTpmdW5jdGlvbihuYW1lLHZhbCl7ZnVuY3Rpb24gZXhlYyhuYW1lLHZhbCl7dmFyIHJlZz1uZXcgUmVnRXhwKCIoXnw7KVxccyoiK25hbWUrIjooW147XSs7PykiLCJnaSIpO2Nzc1N0eWxlPWNzc1N0eWxlLnJlcGxhY2UocmVnLCIkMSIpO2lmKHZhbCl7Y3NzU3R5bGU9bmFtZSsiOiIrdXRpbHMudW5odG1sKHZhbCkrIjsiK2Nzc1N0eWxlfX12YXIgY3NzU3R5bGU9dGhpcy5nZXRBdHRyKCJzdHlsZSIpO2lmKCFjc3NTdHlsZSl7Y3NzU3R5bGU9IiJ9aWYodXRpbHMuaXNPYmplY3QobmFtZSkpe2Zvcih2YXIgYSBpbiBuYW1lKXtleGVjKGEsbmFtZVthXSl9fWVsc2V7ZXhlYyhuYW1lLHZhbCl9dGhpcy5zZXRBdHRyKCJzdHlsZSIsdXRpbHMudHJpbShjc3NTdHlsZSkpfSx0cmF2ZXJzYWw6ZnVuY3Rpb24oZm4pe2lmKHRoaXMuY2hpbGRyZW4mJnRoaXMuY2hpbGRyZW4ubGVuZ3RoKXtub2RlVHJhdmVyc2FsKHRoaXMsZm4pfXJldHVybiB0aGlzfX19KSgpO3ZhciBodG1scGFyc2VyPVVFLmh0bWxwYXJzZXI9ZnVuY3Rpb24oaHRtbHN0cixpZ25vcmVCbGFuayl7dmFyIHJlX3RhZz0vPCg/Oig/OlwvKFtePl0rKT4pfCg/OiEtLShbXFN8XHNdKj8pLS0+KXwoPzooW15cc1wvPl0rKVxzKigoPzooPzoiW14iXSoiKXwoPzonW14nXSonKXxbXiInPD5dKSopXC8/PikpL2cscmVfYXR0cj0vKFtcd1wtOi5dKykoPzooPzpccyo9XHMqKD86KD86IihbXiJdKikiKXwoPzonKFteJ10qKScpfChbXlxzPl0rKSkpfCg/PVxzfCQpKS9nO3ZhciBhbGxvd0VtcHR5VGFncz17YjoxLGNvZGU6MSxpOjEsdToxLHN0cmlrZToxLHM6MSx0dDoxLHN0cm9uZzoxLHE6MSxzYW1wOjEsZW06MSxzcGFuOjEsc3ViOjEsaW1nOjEsc3VwOjEsZm9udDoxLGJpZzoxLHNtYWxsOjEsaWZyYW1lOjEsYToxLGJyOjEscHJlOjF9O2h0bWxzdHI9aHRtbHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsImciKSwiIik7aWYoIWlnbm9yZUJsYW5rKXtodG1sc3RyPWh0bWxzdHIucmVwbGFjZShuZXcgUmVnRXhwKCJbXFxyXFx0XFxuIisoaWdub3JlQmxhbms/IiI6IiAiKSsiXSo8Lz8oXFx3KylcXHMqKD86W14+XSopPltcXHJcXHRcXG4iKyhpZ25vcmVCbGFuaz8iIjoiICIpKyJdKiIsImciKSxmdW5jdGlvbihhLGIpe2lmKGImJmFsbG93RW1wdHlUYWdzW2IudG9Mb3dlckNhc2UoKV0pe3JldHVybiBhLnJlcGxhY2UoLyheW1xuXHJdKyl8KFtcblxyXSskKS9nLCIiKX1yZXR1cm4gYS5yZXBsYWNlKG5ldyBSZWdFeHAoIl5bXFxyXFxuIisoaWdub3JlQmxhbms/IiI6IiAiKSsiXSsiKSwiIikucmVwbGFjZShuZXcgUmVnRXhwKCJbXFxyXFxuIisoaWdub3JlQmxhbms/IiI6IiAiKSsiXSskIiksIiIpfSl9dmFyIG5vdFRyYW5zQXR0cnM9e2hyZWY6MSxzcmM6MX07dmFyIHVOb2RlPVVFLnVOb2RlLG5lZWRQYXJlbnROb2RlPXt0ZDoidHIiLHRyOlsidGJvZHkiLCJ0aGVhZCIsInRmb290Il0sdGJvZHk6InRhYmxlIix0aDoidHIiLHRoZWFkOiJ0YWJsZSIsdGZvb3Q6InRhYmxlIixjYXB0aW9uOiJ0YWJsZSIsbGk6WyJ1bCIsIm9sIl0sZHQ6ImRsIixkZDoiZGwiLG9wdGlvbjoic2VsZWN0In0sbmVlZENoaWxkPXtvbDoibGkiLHVsOiJsaSJ9O2Z1bmN0aW9uIHRleHQocGFyZW50LGRhdGEpe2lmKG5lZWRDaGlsZFtwYXJlbnQudGFnTmFtZV0pe3ZhciB0bXBOb2RlPXVOb2RlLmNyZWF0ZUVsZW1lbnQobmVlZENoaWxkW3BhcmVudC50YWdOYW1lXSk7cGFyZW50LmFwcGVuZENoaWxkKHRtcE5vZGUpO3RtcE5vZGUuYXBwZW5kQ2hpbGQodU5vZGUuY3JlYXRlVGV4dChkYXRhKSk7cGFyZW50PXRtcE5vZGV9ZWxzZXtwYXJlbnQuYXBwZW5kQ2hpbGQodU5vZGUuY3JlYXRlVGV4dChkYXRhKSl9fWZ1bmN0aW9uIGVsZW1lbnQocGFyZW50LHRhZ05hbWUsaHRtbGF0dHIpe3ZhciBuZWVkUGFyZW50VGFnO2lmKG5lZWRQYXJlbnRUYWc9bmVlZFBhcmVudE5vZGVbdGFnTmFtZV0pe3ZhciB0bXBQYXJlbnQ9cGFyZW50LGhhc1BhcmVudDt3aGlsZSh0bXBQYXJlbnQudHlwZSE9InJvb3QiKXtpZih1dGlscy5pc0FycmF5KG5lZWRQYXJlbnRUYWcpP3V0aWxzLmluZGV4T2YobmVlZFBhcmVudFRhZyx0bXBQYXJlbnQudGFnTmFtZSkhPS0xOm5lZWRQYXJlbnRUYWc9PXRtcFBhcmVudC50YWdOYW1lKXtwYXJlbnQ9dG1wUGFyZW50O2hhc1BhcmVudD10cnVlO2JyZWFrfXRtcFBhcmVudD10bXBQYXJlbnQucGFyZW50Tm9kZX1pZighaGFzUGFyZW50KXtwYXJlbnQ9ZWxlbWVudChwYXJlbnQsdXRpbHMuaXNBcnJheShuZWVkUGFyZW50VGFnKT9uZWVkUGFyZW50VGFnWzBdOm5lZWRQYXJlbnRUYWcpfX12YXIgZWxtPW5ldyB1Tm9kZSh7cGFyZW50Tm9kZTpwYXJlbnQsdHlwZToiZWxlbWVudCIsdGFnTmFtZTp0YWdOYW1lLnRvTG93ZXJDYXNlKCksY2hpbGRyZW46ZHRkLiRlbXB0eVt0YWdOYW1lXT9udWxsOltdfSk7aWYoaHRtbGF0dHIpe3ZhciBhdHRycz17fSxtYXRjaDt3aGlsZShtYXRjaD1yZV9hdHRyLmV4ZWMoaHRtbGF0dHIpKXthdHRyc1ttYXRjaFsxXS50b0xvd2VyQ2FzZSgpXT1ub3RUcmFuc0F0dHJzW21hdGNoWzFdLnRvTG93ZXJDYXNlKCldPyhtYXRjaFsyXXx8bWF0Y2hbM118fG1hdGNoWzRdKTp1dGlscy51bmh0bWwobWF0Y2hbMl18fG1hdGNoWzNdfHxtYXRjaFs0XSl9ZWxtLmF0dHJzPWF0dHJzfXBhcmVudC5jaGlsZHJlbi5wdXNoKGVsbSk7cmV0dXJuIGR0ZC4kZW1wdHlbdGFnTmFtZV0/cGFyZW50OmVsbX1mdW5jdGlvbiBjb21tZW50KHBhcmVudCxkYXRhKXtwYXJlbnQuY2hpbGRyZW4ucHVzaChuZXcgdU5vZGUoe3R5cGU6ImNvbW1lbnQiLGRhdGE6ZGF0YSxwYXJlbnROb2RlOnBhcmVudH0pKX12YXIgbWF0Y2gsY3VycmVudEluZGV4PTAsbmV4dEluZGV4PTA7dmFyIHJvb3Q9bmV3IHVOb2RlKHt0eXBlOiJyb290IixjaGlsZHJlbjpbXX0pO3ZhciBjdXJyZW50UGFyZW50PXJvb3Q7d2hpbGUobWF0Y2g9cmVfdGFnLmV4ZWMoaHRtbHN0cikpe2N1cnJlbnRJbmRleD1tYXRjaC5pbmRleDt0cnl7aWYoY3VycmVudEluZGV4Pm5leHRJbmRleCl7dGV4dChjdXJyZW50UGFyZW50LGh0bWxzdHIuc2xpY2UobmV4dEluZGV4LGN1cnJlbnRJbmRleCkpfWlmKG1hdGNoWzNdKXtpZihkdGQuJGNkYXRhW2N1cnJlbnRQYXJlbnQudGFnTmFtZV0pe3RleHQoY3VycmVudFBhcmVudCxtYXRjaFswXSl9ZWxzZXtjdXJyZW50UGFyZW50PWVsZW1lbnQoY3VycmVudFBhcmVudCxtYXRjaFszXS50b0xvd2VyQ2FzZSgpLG1hdGNoWzRdKX19ZWxzZXtpZihtYXRjaFsxXSl7aWYoY3VycmVudFBhcmVudC50eXBlIT0icm9vdCIpe2lmKGR0ZC4kY2RhdGFbY3VycmVudFBhcmVudC50YWdOYW1lXSYmIWR0ZC4kY2RhdGFbbWF0Y2hbMV1dKXt0ZXh0KGN1cnJlbnRQYXJlbnQsbWF0Y2hbMF0pfWVsc2V7dmFyIHRtcFBhcmVudD1jdXJyZW50UGFyZW50O3doaWxlKGN1cnJlbnRQYXJlbnQudHlwZT09ImVsZW1lbnQiJiZjdXJyZW50UGFyZW50LnRhZ05hbWUhPW1hdGNoWzFdLnRvTG93ZXJDYXNlKCkpe2N1cnJlbnRQYXJlbnQ9Y3VycmVudFBhcmVudC5wYXJlbnROb2RlO2lmKGN1cnJlbnRQYXJlbnQudHlwZT09InJvb3QiKXtjdXJyZW50UGFyZW50PXRtcFBhcmVudDt0aHJvdyJicmVhayJ9fWN1cnJlbnRQYXJlbnQ9Y3VycmVudFBhcmVudC5wYXJlbnROb2RlfX19ZWxzZXtpZihtYXRjaFsyXSl7Y29tbWVudChjdXJyZW50UGFyZW50LG1hdGNoWzJdKX19fX1jYXRjaChlKXt9bmV4dEluZGV4PXJlX3RhZy5sYXN0SW5kZXh9aWYobmV4dEluZGV4PGh0bWxzdHIubGVuZ3RoKXt0ZXh0KGN1cnJlbnRQYXJlbnQsaHRtbHN0ci5zbGljZShuZXh0SW5kZXgpKX1yZXR1cm4gcm9vdH07dmFyIGZpbHRlck5vZGU9VUUuZmlsdGVyTm9kZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGZpbHRlck5vZGUobm9kZSxydWxlcyl7c3dpdGNoKG5vZGUudHlwZSl7Y2FzZSJ0ZXh0IjpicmVhaztjYXNlImVsZW1lbnQiOnZhciB2YWw7aWYodmFsPXJ1bGVzW25vZGUudGFnTmFtZV0pe2lmKHZhbD09PSItIil7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpfWVsc2V7aWYodXRpbHMuaXNGdW5jdGlvbih2YWwpKXt2YXIgcGFyZW50Tm9kZT1ub2RlLnBhcmVudE5vZGUsaW5kZXg9bm9kZS5nZXRJbmRleCgpO3ZhbChub2RlKTtpZihub2RlLnBhcmVudE5vZGUpe2lmKG5vZGUuY2hpbGRyZW4pe2Zvcih2YXIgaT0wLGNpO2NpPW5vZGUuY2hpbGRyZW5baV07KXtmaWx0ZXJOb2RlKGNpLHJ1bGVzKTtpZihjaS5wYXJlbnROb2RlKXtpKyt9fX19ZWxzZXtmb3IodmFyIGk9aW5kZXgsY2k7Y2k9cGFyZW50Tm9kZS5jaGlsZHJlbltpXTspe2ZpbHRlck5vZGUoY2kscnVsZXMpO2lmKGNpLnBhcmVudE5vZGUpe2krK319fX1lbHNle3ZhciBhdHRycz12YWxbIiQiXTtpZihhdHRycyYmbm9kZS5hdHRycyl7dmFyIHRtcEF0dHJzPXt9LHRtcFZhbDtmb3IodmFyIGEgaW4gYXR0cnMpe3RtcFZhbD1ub2RlLmdldEF0dHIoYSk7aWYoYT09InN0eWxlIiYmdXRpbHMuaXNBcnJheShhdHRyc1thXSkpe3ZhciB0bXBDc3NTdHlsZT1bXTt1dGlscy5lYWNoKGF0dHJzW2FdLGZ1bmN0aW9uKHYpe3ZhciB0bXA7aWYodG1wPW5vZGUuZ2V0U3R5bGUodikpe3RtcENzc1N0eWxlLnB1c2godisiOiIrdG1wKX19KTt0bXBWYWw9dG1wQ3NzU3R5bGUuam9pbigiOyIpfWlmKHRtcFZhbCl7dG1wQXR0cnNbYV09dG1wVmFsfX1ub2RlLmF0dHJzPXRtcEF0dHJzfWlmKG5vZGUuY2hpbGRyZW4pe2Zvcih2YXIgaT0wLGNpO2NpPW5vZGUuY2hpbGRyZW5baV07KXtmaWx0ZXJOb2RlKGNpLHJ1bGVzKTtpZihjaS5wYXJlbnROb2RlKXtpKyt9fX19fX1lbHNle2lmKGR0ZC4kY2RhdGFbbm9kZS50YWdOYW1lXSl7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpfWVsc2V7dmFyIHBhcmVudE5vZGU9bm9kZS5wYXJlbnROb2RlLGluZGV4PW5vZGUuZ2V0SW5kZXgoKTtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSx0cnVlKTtmb3IodmFyIGk9aW5kZXgsY2k7Y2k9cGFyZW50Tm9kZS5jaGlsZHJlbltpXTspe2ZpbHRlck5vZGUoY2kscnVsZXMpO2lmKGNpLnBhcmVudE5vZGUpe2krK319fX1icmVhaztjYXNlImNvbW1lbnQiOm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKX19cmV0dXJuIGZ1bmN0aW9uKHJvb3QscnVsZXMpe2lmKHV0aWxzLmlzRW1wdHlPYmplY3QocnVsZXMpKXtyZXR1cm4gcm9vdH12YXIgdmFsO2lmKHZhbD1ydWxlc1siLSJdKXt1dGlscy5lYWNoKHZhbC5zcGxpdCgiICIpLGZ1bmN0aW9uKGspe3J1bGVzW2tdPSItIn0pfWZvcih2YXIgaT0wLGNpO2NpPXJvb3QuY2hpbGRyZW5baV07KXtmaWx0ZXJOb2RlKGNpLHJ1bGVzKTtpZihjaS5wYXJlbnROb2RlKXtpKyt9fXJldHVybiByb290fX0oKTtVRS5wbHVnaW49ZnVuY3Rpb24oKXt2YXIgX3BsdWdpbnM9e307cmV0dXJue3JlZ2lzdGVyOmZ1bmN0aW9uKHBsdWdpbk5hbWUsZm4sb2xkT3B0aW9uTmFtZSxhZnRlckRpc2FibGVkKXtpZihvbGRPcHRpb25OYW1lJiZ1dGlscy5pc0Z1bmN0aW9uKG9sZE9wdGlvbk5hbWUpKXthZnRlckRpc2FibGVkPW9sZE9wdGlvbk5hbWU7b2xkT3B0aW9uTmFtZT1udWxsfV9wbHVnaW5zW3BsdWdpbk5hbWVdPXtvcHRpb25OYW1lOm9sZE9wdGlvbk5hbWV8fHBsdWdpbk5hbWUsZXhlY0ZuOmZuLGFmdGVyRGlzYWJsZWQ6YWZ0ZXJEaXNhYmxlZH19LGxvYWQ6ZnVuY3Rpb24oZWRpdG9yKXt1dGlscy5lYWNoKF9wbHVnaW5zLGZ1bmN0aW9uKHBsdWdpbil7dmFyIF9leHBvcnQ9cGx1Z2luLmV4ZWNGbi5jYWxsKGVkaXRvcik7aWYoZWRpdG9yLm9wdGlvbnNbcGx1Z2luLm9wdGlvbk5hbWVdIT09ZmFsc2Upe2lmKF9leHBvcnQpe3V0aWxzLmVhY2goX2V4cG9ydCxmdW5jdGlvbih2LGspe3N3aXRjaChrLnRvTG93ZXJDYXNlKCkpe2Nhc2Uic2hvcnRjdXRrZXkiOmVkaXRvci5hZGRzaG9ydGN1dGtleSh2KTticmVhaztjYXNlImJpbmRldmVudHMiOnV0aWxzLmVhY2godixmdW5jdGlvbihmbixldmVudE5hbWUpe2VkaXRvci5hZGRMaXN0ZW5lcihldmVudE5hbWUsZm4pfSk7YnJlYWs7Y2FzZSJiaW5kbXVsdGlldmVudHMiOnV0aWxzLmVhY2godXRpbHMuaXNBcnJheSh2KT92Olt2XSxmdW5jdGlvbihldmVudCl7dmFyIHR5cGVzPXV0aWxzLnRyaW0oZXZlbnQudHlwZSkuc3BsaXQoL1xzKy8pO3V0aWxzLmVhY2godHlwZXMsZnVuY3Rpb24oZXZlbnROYW1lKXtlZGl0b3IuYWRkTGlzdGVuZXIoZXZlbnROYW1lLGV2ZW50LmhhbmRsZXIpfSl9KTticmVhaztjYXNlImNvbW1hbmRzIjp1dGlscy5lYWNoKHYsZnVuY3Rpb24oZXhlY0ZuLGV4ZWNOYW1lKXtlZGl0b3IuY29tbWFuZHNbZXhlY05hbWVdPWV4ZWNGbn0pO2JyZWFrO2Nhc2Uib3V0cHV0cnVsZSI6ZWRpdG9yLmFkZE91dHB1dFJ1bGUodik7YnJlYWs7Y2FzZSJpbnB1dHJ1bGUiOmVkaXRvci5hZGRJbnB1dFJ1bGUodik7YnJlYWs7Y2FzZSJkZWZhdWx0b3B0aW9ucyI6ZWRpdG9yLnNldE9wdCh2KX19KX19ZWxzZXtpZihwbHVnaW4uYWZ0ZXJEaXNhYmxlZCl7cGx1Z2luLmFmdGVyRGlzYWJsZWQuY2FsbChlZGl0b3IpfX19KTt1dGlscy5lYWNoKFVFLnBsdWdpbnMsZnVuY3Rpb24ocGx1Z2luKXtwbHVnaW4uY2FsbChlZGl0b3IpfSl9LHJ1bjpmdW5jdGlvbihwbHVnbk5hbWUsZWRpdG9yKXt2YXIgcGx1Z2luPV9wbHVnaW5zW3BsdWdpbk5hbWVdO2lmKHBsdWdpbil7cGx1Z2luLmV4ZUZuLmNhbGwoZWRpdG9yKX19fX0oKTtVRS5wbHVnaW5zLmRlZmF1bHRmaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zZXRPcHQoe2FsbG93RGl2VHJhbnNUb1A6dHJ1ZSxkaXNhYmxlZFRhYmxlSW5UYWJsZTp0cnVlfSk7bWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3ZhciBhbGxvd0RpdlRyYW5zVG9QPXRoaXMub3B0aW9ucy5hbGxvd0RpdlRyYW5zVG9QO3ZhciB2YWw7ZnVuY3Rpb24gdGRQYXJlbnQobm9kZSl7d2hpbGUobm9kZSYmbm9kZS50eXBlPT0iZWxlbWVudCIpe2lmKG5vZGUudGFnTmFtZT09InRkIil7cmV0dXJuIHRydWV9bm9kZT1ub2RlLnBhcmVudE5vZGV9cmV0dXJuIGZhbHNlfXJvb3QudHJhdmVyc2FsKGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUudHlwZT09ImVsZW1lbnQiKXtpZighZHRkLiRjZGF0YVtub2RlLnRhZ05hbWVdJiZtZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZSYmZHRkLiRpbmxpbmVbbm9kZS50YWdOYW1lXSYmIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSYmKCFub2RlLmF0dHJzfHx1dGlscy5pc0VtcHR5T2JqZWN0KG5vZGUuYXR0cnMpKSl7aWYoIW5vZGUuZmlyc3RDaGlsZCgpKXtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSl9ZWxzZXtpZihub2RlLnRhZ05hbWU9PSJzcGFuIiYmKCFub2RlLmF0dHJzfHx1dGlscy5pc0VtcHR5T2JqZWN0KG5vZGUuYXR0cnMpKSl7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsdHJ1ZSl9fXJldHVybn1zd2l0Y2gobm9kZS50YWdOYW1lKXtjYXNlInN0eWxlIjpjYXNlInNjcmlwdCI6bm9kZS5zZXRBdHRyKHtjZGF0YV90YWc6bm9kZS50YWdOYW1lLGNkYXRhX2RhdGE6KG5vZGUuaW5uZXJIVE1MKCl8fCIiKSxfdWVfY3VzdG9tX25vZGVfOiJ0cnVlIn0pO25vZGUudGFnTmFtZT0iZGl2Ijtub2RlLmlubmVySFRNTCgiIik7YnJlYWs7Y2FzZSJhIjppZih2YWw9bm9kZS5nZXRBdHRyKCJocmVmIikpe25vZGUuc2V0QXR0cigiX2hyZWYiLHZhbCl9YnJlYWs7Y2FzZSJpbWciOmlmKHZhbD1ub2RlLmdldEF0dHIoInNyYyIpKXtpZigvXmRhdGE6Ly50ZXN0KHZhbCkpe25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTticmVha319bm9kZS5zZXRBdHRyKCJfc3JjIixub2RlLmdldEF0dHIoInNyYyIpKTticmVhaztjYXNlInNwYW4iOmlmKGJyb3dzZXIud2Via2l0JiYodmFsPW5vZGUuZ2V0U3R5bGUoIndoaXRlLXNwYWNlIikpKXtpZigvbm93cmFwfG5vcm1hbC8udGVzdCh2YWwpKXtub2RlLnNldFN0eWxlKCJ3aGl0ZS1zcGFjZSIsIiIpO2lmKG1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlJiZ1dGlscy5pc0VtcHR5T2JqZWN0KG5vZGUuYXR0cnMpKXtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSx0cnVlKX19fWJyZWFrO2Nhc2UicCI6aWYodmFsPW5vZGUuZ2V0QXR0cigiYWxpZ24iKSl7bm9kZS5zZXRBdHRyKCJhbGlnbiIpO25vZGUuc2V0U3R5bGUoInRleHQtYWxpZ24iLHZhbCl9dXRpbHMuZWFjaChub2RlLmNoaWxkcmVuLGZ1bmN0aW9uKG4pe2lmKG4udHlwZT09ImVsZW1lbnQiJiZuLnRhZ05hbWU9PSJwIil7dmFyIG5leHQ9bi5uZXh0U2libGluZygpO25vZGUucGFyZW50Tm9kZS5pbnNlcnRBZnRlcihuLG5vZGUpO3ZhciBsYXN0PW47d2hpbGUobmV4dCl7dmFyIHRtcD1uZXh0Lm5leHRTaWJsaW5nKCk7bm9kZS5wYXJlbnROb2RlLmluc2VydEFmdGVyKG5leHQsbGFzdCk7bGFzdD1uZXh0O25leHQ9dG1wfXJldHVybiBmYWxzZX19KTtpZighbm9kZS5maXJzdENoaWxkKCkpe25vZGUuaW5uZXJIVE1MKGJyb3dzZXIuaWU/IiZuYnNwOyI6Ijxici8+Iil9YnJlYWs7Y2FzZSJkaXYiOmlmKG5vZGUuZ2V0QXR0cigiY2RhdGFfdGFnIikpe2JyZWFrfXZhbD1ub2RlLmdldEF0dHIoImNsYXNzIik7aWYodmFsJiYvXmxpbmUgbnVtYmVyXGQrLy50ZXN0KHZhbCkpe2JyZWFrfWlmKCFhbGxvd0RpdlRyYW5zVG9QKXticmVha312YXIgdG1wTm9kZSxwPVVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoInAiKTt3aGlsZSh0bXBOb2RlPW5vZGUuZmlyc3RDaGlsZCgpKXtpZih0bXBOb2RlLnR5cGU9PSJ0ZXh0Inx8IVVFLmRvbS5kdGQuJGJsb2NrW3RtcE5vZGUudGFnTmFtZV0pe3AuYXBwZW5kQ2hpbGQodG1wTm9kZSl9ZWxzZXtpZihwLmZpcnN0Q2hpbGQoKSl7bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLG5vZGUpO3A9VUUudU5vZGUuY3JlYXRlRWxlbWVudCgicCIpfWVsc2V7bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBOb2RlLG5vZGUpfX19aWYocC5maXJzdENoaWxkKCkpe25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCxub2RlKX1ub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7YnJlYWs7Y2FzZSJkbCI6bm9kZS50YWdOYW1lPSJ1bCI7YnJlYWs7Y2FzZSJkdCI6Y2FzZSJkZCI6bm9kZS50YWdOYW1lPSJsaSI7YnJlYWs7Y2FzZSJsaSI6dmFyIGNsYXNzTmFtZT1ub2RlLmdldEF0dHIoImNsYXNzIik7aWYoIWNsYXNzTmFtZXx8IS9saXN0XC0vLnRlc3QoY2xhc3NOYW1lKSl7bm9kZS5zZXRBdHRyKCl9dmFyIHRtcE5vZGVzPW5vZGUuZ2V0Tm9kZXNCeVRhZ05hbWUoIm9sIHVsIik7VUUudXRpbHMuZWFjaCh0bXBOb2RlcyxmdW5jdGlvbihuKXtub2RlLnBhcmVudE5vZGUuaW5zZXJ0QWZ0ZXIobixub2RlKX0pO2JyZWFrO2Nhc2UidGQiOmNhc2UidGgiOmNhc2UiY2FwdGlvbiI6aWYoIW5vZGUuY2hpbGRyZW58fCFub2RlLmNoaWxkcmVuLmxlbmd0aCl7bm9kZS5hcHBlbmRDaGlsZChicm93c2VyLmllP1VFLnVOb2RlLmNyZWF0ZVRleHQoIiAiKTpVRS51Tm9kZS5jcmVhdGVFbGVtZW50KCJiciIpKX1icmVhaztjYXNlInRhYmxlIjppZihtZS5vcHRpb25zLmRpc2FibGVkVGFibGVJblRhYmxlJiZ0ZFBhcmVudChub2RlKSl7bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShVRS51Tm9kZS5jcmVhdGVUZXh0KG5vZGUuaW5uZXJUZXh0KCkpLG5vZGUpO25vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKX19fX0pfSk7bWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXt2YXIgdmFsO3Jvb3QudHJhdmVyc2FsKGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUudHlwZT09ImVsZW1lbnQiKXtpZihtZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZSYmZHRkLiRpbmxpbmVbbm9kZS50YWdOYW1lXSYmIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSYmKCFub2RlLmF0dHJzfHx1dGlscy5pc0VtcHR5T2JqZWN0KG5vZGUuYXR0cnMpKSl7aWYoIW5vZGUuZmlyc3RDaGlsZCgpKXtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSl9ZWxzZXtpZihub2RlLnRhZ05hbWU9PSJzcGFuIiYmKCFub2RlLmF0dHJzfHx1dGlscy5pc0VtcHR5T2JqZWN0KG5vZGUuYXR0cnMpKSl7bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsdHJ1ZSl9fXJldHVybn1zd2l0Y2gobm9kZS50YWdOYW1lKXtjYXNlImRpdiI6aWYodmFsPW5vZGUuZ2V0QXR0cigiY2RhdGFfdGFnIikpe25vZGUudGFnTmFtZT12YWw7bm9kZS5hcHBlbmRDaGlsZChVRS51Tm9kZS5jcmVhdGVUZXh0KG5vZGUuZ2V0QXR0cigiY2RhdGFfZGF0YSIpKSk7bm9kZS5zZXRBdHRyKHtjZGF0YV90YWc6IiIsY2RhdGFfZGF0YToiIixfdWVfY3VzdG9tX25vZGVfOiIifSl9YnJlYWs7Y2FzZSJhIjppZih2YWw9bm9kZS5nZXRBdHRyKCJfaHJlZiIpKXtub2RlLnNldEF0dHIoe2hyZWY6dXRpbHMuaHRtbCh2YWwpLF9ocmVmOiIifSl9YnJlYWs7Y2FzZSJpbWciOmlmKHZhbD1ub2RlLmdldEF0dHIoIl9zcmMiKSl7bm9kZS5zZXRBdHRyKHtzcmM6bm9kZS5nZXRBdHRyKCJfc3JjIiksX3NyYzoiIn0pfX19fSl9KX07VUUuY29tbWFuZHMuaW5zZXJ0aHRtbD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY29tbWFuZCxodG1sLG5vdE5lZWRGaWx0ZXIpe3ZhciBtZT10aGlzLHJhbmdlLGRpdjtpZighaHRtbCl7cmV0dXJufWlmKG1lLmZpcmVFdmVudCgiYmVmb3JlaW5zZXJ0aHRtbCIsaHRtbCk9PT10cnVlKXtyZXR1cm59cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7ZGl2PXJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2Rpdi5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2lmKCFub3ROZWVkRmlsdGVyKXt2YXIgcm9vdD1VRS5odG1scGFyc2VyKGh0bWwpO2lmKG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpe1VFLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclJ1bGVzKX1tZS5maWx0ZXJJbnB1dFJ1bGUocm9vdCk7aHRtbD1yb290LnRvSHRtbCgpfWRpdi5pbm5lckhUTUw9dXRpbHMudHJpbShodG1sKTtpZighcmFuZ2UuY29sbGFwc2VkKXt2YXIgdG1wTm9kZT1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtyYW5nZS5zZXRTdGFydEJlZm9yZSh0bXBOb2RlKX10bXBOb2RlPXJhbmdlLmVuZENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtyYW5nZS5zZXRFbmRBZnRlcih0bXBOb2RlKX1yYW5nZS50eHRUb0VsbUJvdW5kYXJ5KCk7aWYocmFuZ2UuZW5kQ29udGFpbmVyJiZyYW5nZS5lbmRDb250YWluZXIubm9kZVR5cGU9PTEpe3RtcE5vZGU9cmFuZ2UuZW5kQ29udGFpbmVyLmNoaWxkTm9kZXNbcmFuZ2UuZW5kT2Zmc2V0XTtpZih0bXBOb2RlJiZkb21VdGlscy5pc0JyKHRtcE5vZGUpKXtyYW5nZS5zZXRFbmRBZnRlcih0bXBOb2RlKX19aWYocmFuZ2Uuc3RhcnRPZmZzZXQ9PTApe3RtcE5vZGU9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwiZmlyc3RDaGlsZCIpKXt0bXBOb2RlPXJhbmdlLmVuZENvbnRhaW5lcjtpZihyYW5nZS5lbmRPZmZzZXQ9PSh0bXBOb2RlLm5vZGVUeXBlPT0zP3RtcE5vZGUubm9kZVZhbHVlLmxlbmd0aDp0bXBOb2RlLmNoaWxkTm9kZXMubGVuZ3RoKSYmZG9tVXRpbHMuaXNCb3VuZGFyeU5vZGUodG1wTm9kZSwibGFzdENoaWxkIikpe21lLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhicm93c2VyLmllPyIiOiI8YnIvPiIpKyI8L3A+IjtyYW5nZS5zZXRTdGFydChtZS5ib2R5LmZpcnN0Q2hpbGQsMCkuY29sbGFwc2UodHJ1ZSl9fX0hcmFuZ2UuY29sbGFwc2VkJiZyYW5nZS5kZWxldGVDb250ZW50cygpO2lmKHJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xKXt2YXIgY2hpbGQ9cmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF0scHJlO2lmKGNoaWxkJiZkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSYmKHByZT1jaGlsZC5wcmV2aW91c1NpYmxpbmcpJiZkb21VdGlscy5pc0Jsb2NrRWxtKHByZSkpe3JhbmdlLnNldEVuZChwcmUscHJlLmNoaWxkTm9kZXMubGVuZ3RoKS5jb2xsYXBzZSgpO3doaWxlKGNoaWxkLmZpcnN0Q2hpbGQpe3ByZS5hcHBlbmRDaGlsZChjaGlsZC5maXJzdENoaWxkKX1kb21VdGlscy5yZW1vdmUoY2hpbGQpfX19dmFyIGNoaWxkLHBhcmVudCxwcmUsdG1wLGhhZEJyZWFrPTAsbmV4dE5vZGU7aWYocmFuZ2UuaW5GaWxsQ2hhcigpKXtjaGlsZD1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKGNoaWxkKSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY2hpbGQpLmNvbGxhcHNlKHRydWUpO2RvbVV0aWxzLnJlbW92ZShjaGlsZCl9ZWxzZXtpZihkb21VdGlscy5pc0ZpbGxDaGFyKGNoaWxkLHRydWUpKXtjaGlsZC5ub2RlVmFsdWU9Y2hpbGQubm9kZVZhbHVlLnJlcGxhY2UoZmlsbENoYXJSZWcsIiIpO3JhbmdlLnN0YXJ0T2Zmc2V0LS07cmFuZ2UuY29sbGFwc2VkJiZyYW5nZS5jb2xsYXBzZSh0cnVlKX19fXZhciBsaT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYobGkpe3ZhciBuZXh0LGxhc3Q7d2hpbGUoY2hpbGQ9ZGl2LmZpcnN0Q2hpbGQpe3doaWxlKGNoaWxkJiYoY2hpbGQubm9kZVR5cGU9PTN8fCFkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKXx8Y2hpbGQudGFnTmFtZT09IkhSIikpe25leHQ9Y2hpbGQubmV4dFNpYmxpbmc7cmFuZ2UuaW5zZXJ0Tm9kZShjaGlsZCkuY29sbGFwc2UoKTtsYXN0PWNoaWxkO2NoaWxkPW5leHR9aWYoY2hpbGQpe2lmKC9eKG9sfHVsKSQvaS50ZXN0KGNoaWxkLnRhZ05hbWUpKXt3aGlsZShjaGlsZC5maXJzdENoaWxkKXtsYXN0PWNoaWxkLmZpcnN0Q2hpbGQ7ZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobGksY2hpbGQuZmlyc3RDaGlsZCk7bGk9bGkubmV4dFNpYmxpbmd9ZG9tVXRpbHMucmVtb3ZlKGNoaWxkKX1lbHNle3ZhciB0bXBMaTtuZXh0PWNoaWxkLm5leHRTaWJsaW5nO3RtcExpPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7ZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobGksdG1wTGkpO3RtcExpLmFwcGVuZENoaWxkKGNoaWxkKTtsYXN0PWNoaWxkO2NoaWxkPW5leHQ7bGk9dG1wTGl9fX1saT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGxpKSl7ZG9tVXRpbHMucmVtb3ZlKGxpKX1pZihsYXN0KXtyYW5nZS5zZXRTdGFydEFmdGVyKGxhc3QpLmNvbGxhcHNlKHRydWUpLnNlbGVjdCh0cnVlKX19ZWxzZXt3aGlsZShjaGlsZD1kaXYuZmlyc3RDaGlsZCl7aWYoaGFkQnJlYWspe3ZhciBwPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTt3aGlsZShjaGlsZCYmKGNoaWxkLm5vZGVUeXBlPT0zfHwhZHRkLiRibG9ja1tjaGlsZC50YWdOYW1lXSkpe25leHROb2RlPWNoaWxkLm5leHRTaWJsaW5nO3AuYXBwZW5kQ2hpbGQoY2hpbGQpO2NoaWxkPW5leHROb2RlfWlmKHAuZmlyc3RDaGlsZCl7Y2hpbGQ9cH19cmFuZ2UuaW5zZXJ0Tm9kZShjaGlsZCk7bmV4dE5vZGU9Y2hpbGQubmV4dFNpYmxpbmc7aWYoIWhhZEJyZWFrJiZjaGlsZC5ub2RlVHlwZT09ZG9tVXRpbHMuTk9ERV9FTEVNRU5UJiZkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSl7cGFyZW50PWRvbVV0aWxzLmZpbmRQYXJlbnQoY2hpbGQsZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSl9KTtpZihwYXJlbnQmJnBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPSJib2R5IiYmIShkdGRbcGFyZW50LnRhZ05hbWVdW2NoaWxkLm5vZGVOYW1lXSYmY2hpbGQucGFyZW50Tm9kZT09PXBhcmVudCkpe2lmKCFkdGRbcGFyZW50LnRhZ05hbWVdW2NoaWxkLm5vZGVOYW1lXSl7cHJlPXBhcmVudH1lbHNle3RtcD1jaGlsZC5wYXJlbnROb2RlO3doaWxlKHRtcCE9PXBhcmVudCl7cHJlPXRtcDt0bXA9dG1wLnBhcmVudE5vZGV9fWRvbVV0aWxzLmJyZWFrUGFyZW50KGNoaWxkLHByZXx8dG1wKTt2YXIgcHJlPWNoaWxkLnByZXZpb3VzU2libGluZztkb21VdGlscy50cmltV2hpdGVUZXh0Tm9kZShwcmUpO2lmKCFwcmUuY2hpbGROb2Rlcy5sZW5ndGgpe2RvbVV0aWxzLnJlbW92ZShwcmUpfWlmKCFicm93c2VyLmllJiYobmV4dD1jaGlsZC5uZXh0U2libGluZykmJmRvbVV0aWxzLmlzQmxvY2tFbG0obmV4dCkmJm5leHQubGFzdENoaWxkJiYhZG9tVXRpbHMuaXNCcihuZXh0Lmxhc3RDaGlsZCkpe25leHQuYXBwZW5kQ2hpbGQobWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSl9aGFkQnJlYWs9MX19dmFyIG5leHQ9Y2hpbGQubmV4dFNpYmxpbmc7aWYoIWRpdi5maXJzdENoaWxkJiZuZXh0JiZkb21VdGlscy5pc0Jsb2NrRWxtKG5leHQpKXtyYW5nZS5zZXRTdGFydChuZXh0LDApLmNvbGxhcHNlKHRydWUpO2JyZWFrfXJhbmdlLnNldEVuZEFmdGVyKGNoaWxkKS5jb2xsYXBzZSgpfWNoaWxkPXJhbmdlLnN0YXJ0Q29udGFpbmVyO2lmKG5leHROb2RlJiZkb21VdGlscy5pc0JyKG5leHROb2RlKSl7ZG9tVXRpbHMucmVtb3ZlKG5leHROb2RlKX1pZihkb21VdGlscy5pc0Jsb2NrRWxtKGNoaWxkKSYmZG9tVXRpbHMuaXNFbXB0eU5vZGUoY2hpbGQpKXtpZihuZXh0Tm9kZT1jaGlsZC5uZXh0U2libGluZyl7ZG9tVXRpbHMucmVtb3ZlKGNoaWxkKTtpZihuZXh0Tm9kZS5ub2RlVHlwZT09MSYmZHRkLiRibG9ja1tuZXh0Tm9kZS50YWdOYW1lXSl7cmFuZ2Uuc2V0U3RhcnQobmV4dE5vZGUsMCkuY29sbGFwc2UodHJ1ZSkuc2hyaW5rQm91bmRhcnkoKX19ZWxzZXt0cnl7Y2hpbGQuaW5uZXJIVE1MPWJyb3dzZXIuaWU/ZG9tVXRpbHMuZmlsbENoYXI6Ijxici8+In1jYXRjaChlKXtyYW5nZS5zZXRTdGFydEJlZm9yZShjaGlsZCk7ZG9tVXRpbHMucmVtb3ZlKGNoaWxkKX19fXRyeXtyYW5nZS5zZWxlY3QodHJ1ZSl9Y2F0Y2goZSl7fX1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7cmFuZ2Uuc2Nyb2xsVG9WaWV3KG1lLmF1dG9IZWlnaHRFbmFibGVkLG1lLmF1dG9IZWlnaHRFbmFibGVkP2RvbVV0aWxzLmdldFhZKG1lLmlmcmFtZSkueTowKTttZS5maXJlRXZlbnQoImFmdGVyaW5zZXJ0aHRtbCIpfSwyMDApfX07VUUucGx1Z2lucy5hdXRvdHlwZXNldD1mdW5jdGlvbigpe3RoaXMuc2V0T3B0KHthdXRvdHlwZXNldDp7bWVyZ2VFbXB0eWxpbmU6dHJ1ZSxyZW1vdmVDbGFzczp0cnVlLHJlbW92ZUVtcHR5bGluZTpmYWxzZSx0ZXh0QWxpZ246ImxlZnQiLGltYWdlQmxvY2tMaW5lOiJjZW50ZXIiLHBhc3RlRmlsdGVyOmZhbHNlLGNsZWFyRm9udFNpemU6ZmFsc2UsY2xlYXJGb250RmFtaWx5OmZhbHNlLHJlbW92ZUVtcHR5Tm9kZTpmYWxzZSxyZW1vdmVUYWdOYW1lczp1dGlscy5leHRlbmQoe2RpdjoxfSxkdGQuJHJlbW92ZUVtcHR5KSxpbmRlbnQ6ZmFsc2UsaW5kZW50VmFsdWU6IjJlbSJ9fSk7dmFyIG1lPXRoaXMsb3B0PW1lLm9wdGlvbnMuYXV0b3R5cGVzZXQscmVtYWluQ2xhc3M9e3NlbGVjdFRkQ2xhc3M6MSxwYWdlYnJlYWs6MSxhbmNob3JjbGFzczoxfSxyZW1haW5UYWc9e2xpOjF9LHRhZ3M9e2RpdjoxLHA6MSxibG9ja3F1b3RlOjEsY2VudGVyOjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsc3BhbjoxfSxoaWdobGlnaHRDb250O2lmKCFvcHQpe3JldHVybn1mdW5jdGlvbiBpc0xpbmUobm9kZSxub3RFbXB0eSl7aWYoIW5vZGV8fG5vZGUubm9kZVR5cGU9PTMpe3JldHVybiAwfWlmKGRvbVV0aWxzLmlzQnIobm9kZSkpe3JldHVybiAxfWlmKG5vZGUmJm5vZGUucGFyZW50Tm9kZSYmdGFnc1tub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0pe2lmKGhpZ2hsaWdodENvbnQmJmhpZ2hsaWdodENvbnQuY29udGFpbnMobm9kZSl8fG5vZGUuZ2V0QXR0cmlidXRlKCJwYWdlYnJlYWsiKSl7cmV0dXJuIDB9cmV0dXJuIG5vdEVtcHR5PyFkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSk6ZG9tVXRpbHMuaXNFbXB0eUJsb2NrKG5vZGUsbmV3IFJlZ0V4cCgiW1xccyIrZG9tVXRpbHMuZmlsbENoYXIrIl0iLCJnIikpfX1mdW5jdGlvbiByZW1vdmVOb3RBdHRyaWJ1dGVTcGFuKG5vZGUpe2lmKCFub2RlLnN0eWxlLmNzc1RleHQpe2RvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMobm9kZSxbInN0eWxlIl0pO2lmKG5vZGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT0ic3BhbiImJmRvbVV0aWxzLmhhc05vQXR0cmlidXRlcyhub2RlKSl7ZG9tVXRpbHMucmVtb3ZlKG5vZGUsdHJ1ZSl9fX1mdW5jdGlvbiBhdXRvdHlwZSh0eXBlLGh0bWwpe3ZhciBtZT10aGlzLGNvbnQ7aWYoaHRtbCl7aWYoIW9wdC5wYXN0ZUZpbHRlcil7cmV0dXJufWNvbnQ9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Y29udC5pbm5lckhUTUw9aHRtbC5odG1sfWVsc2V7Y29udD1tZS5kb2N1bWVudC5ib2R5fXZhciBub2Rlcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShjb250LCIqIik7Zm9yKHZhciBpPTAsY2k7Y2k9bm9kZXNbaSsrXTspe2lmKG1lLmZpcmVFdmVudCgiZXhjbHVkZU5vZGVpbmF1dG90eXBlIixjaSk9PT10cnVlKXtjb250aW51ZX1pZihvcHQuY2xlYXJGb250U2l6ZSYmY2kuc3R5bGUuZm9udFNpemUpe2RvbVV0aWxzLnJlbW92ZVN0eWxlKGNpLCJmb250LXNpemUiKTtyZW1vdmVOb3RBdHRyaWJ1dGVTcGFuKGNpKX1pZihvcHQuY2xlYXJGb250RmFtaWx5JiZjaS5zdHlsZS5mb250RmFtaWx5KXtkb21VdGlscy5yZW1vdmVTdHlsZShjaSwiZm9udC1mYW1pbHkiKTtyZW1vdmVOb3RBdHRyaWJ1dGVTcGFuKGNpKX1pZihpc0xpbmUoY2kpKXtpZihvcHQubWVyZ2VFbXB0eWxpbmUpe3ZhciBuZXh0PWNpLm5leHRTaWJsaW5nLHRtcE5vZGUsaXNCcj1kb21VdGlscy5pc0JyKGNpKTt3aGlsZShpc0xpbmUobmV4dCkpe3RtcE5vZGU9bmV4dDtuZXh0PXRtcE5vZGUubmV4dFNpYmxpbmc7aWYoaXNCciYmKCFuZXh0fHxuZXh0JiYhZG9tVXRpbHMuaXNCcihuZXh0KSkpe2JyZWFrfWRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKX19aWYob3B0LnJlbW92ZUVtcHR5bGluZSYmZG9tVXRpbHMuaW5Eb2MoY2ksY29udCkmJiFyZW1haW5UYWdbY2kucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCldKXtpZihkb21VdGlscy5pc0JyKGNpKSl7bmV4dD1jaS5uZXh0U2libGluZztpZihuZXh0JiYhZG9tVXRpbHMuaXNCcihuZXh0KSl7Y29udGludWV9fWRvbVV0aWxzLnJlbW92ZShjaSk7Y29udGludWV9fWlmKGlzTGluZShjaSx0cnVlKSYmY2kudGFnTmFtZSE9IlNQQU4iKXtpZihvcHQuaW5kZW50KXtjaS5zdHlsZS50ZXh0SW5kZW50PW9wdC5pbmRlbnRWYWx1ZX1pZihvcHQudGV4dEFsaWduKXtjaS5zdHlsZS50ZXh0QWxpZ249b3B0LnRleHRBbGlnbn19aWYob3B0LnJlbW92ZUNsYXNzJiZjaS5jbGFzc05hbWUmJiFyZW1haW5DbGFzc1tjaS5jbGFzc05hbWUudG9Mb3dlckNhc2UoKV0pe2lmKGhpZ2hsaWdodENvbnQmJmhpZ2hsaWdodENvbnQuY29udGFpbnMoY2kpKXtjb250aW51ZX1kb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGNpLFsiY2xhc3MiXSl9aWYob3B0LmltYWdlQmxvY2tMaW5lJiZjaS50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbWciJiYhY2kuZ2V0QXR0cmlidXRlKCJlbW90aW9uIikpe2lmKGh0bWwpe3ZhciBpbWc9Y2k7c3dpdGNoKG9wdC5pbWFnZUJsb2NrTGluZSl7Y2FzZSJsZWZ0IjpjYXNlInJpZ2h0IjpjYXNlIm5vbmUiOnZhciBwTj1pbWcucGFyZW50Tm9kZSx0bXBOb2RlLHByZSxuZXh0O3doaWxlKGR0ZC4kaW5saW5lW3BOLnRhZ05hbWVdfHxwTi50YWdOYW1lPT0iQSIpe3BOPXBOLnBhcmVudE5vZGV9dG1wTm9kZT1wTjtpZih0bXBOb2RlLnRhZ05hbWU9PSJQIiYmZG9tVXRpbHMuZ2V0U3R5bGUodG1wTm9kZSwidGV4dC1hbGlnbiIpPT0iY2VudGVyIil7aWYoIWRvbVV0aWxzLmlzQm9keSh0bXBOb2RlKSYmZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudCh0bXBOb2RlLGZ1bmN0aW9uKG5vZGUpe3JldHVybiAhZG9tVXRpbHMuaXNCcihub2RlKSYmIWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKX0pPT0xKXtwcmU9dG1wTm9kZS5wcmV2aW91c1NpYmxpbmc7bmV4dD10bXBOb2RlLm5leHRTaWJsaW5nO2lmKHByZSYmbmV4dCYmcHJlLm5vZGVUeXBlPT0xJiZuZXh0Lm5vZGVUeXBlPT0xJiZwcmUudGFnTmFtZT09bmV4dC50YWdOYW1lJiZkb21VdGlscy5pc0Jsb2NrRWxtKHByZSkpe3ByZS5hcHBlbmRDaGlsZCh0bXBOb2RlLmZpcnN0Q2hpbGQpO3doaWxlKG5leHQuZmlyc3RDaGlsZCl7cHJlLmFwcGVuZENoaWxkKG5leHQuZmlyc3RDaGlsZCl9ZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpO2RvbVV0aWxzLnJlbW92ZShuZXh0KX1lbHNle2RvbVV0aWxzLnNldFN0eWxlKHRtcE5vZGUsInRleHQtYWxpZ24iLCIiKX19fWRvbVV0aWxzLnNldFN0eWxlKGltZywiZmxvYXQiLG9wdC5pbWFnZUJsb2NrTGluZSk7YnJlYWs7Y2FzZSJjZW50ZXIiOmlmKG1lLnF1ZXJ5Q29tbWFuZFZhbHVlKCJpbWFnZWZsb2F0IikhPSJjZW50ZXIiKXtwTj1pbWcucGFyZW50Tm9kZTtkb21VdGlscy5zZXRTdHlsZShpbWcsImZsb2F0Iiwibm9uZSIpO3RtcE5vZGU9aW1nO3doaWxlKHBOJiZkb21VdGlscy5nZXRDaGlsZENvdW50KHBOLGZ1bmN0aW9uKG5vZGUpe3JldHVybiAhZG9tVXRpbHMuaXNCcihub2RlKSYmIWRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKX0pPT0xJiYoZHRkLiRpbmxpbmVbcE4udGFnTmFtZV18fHBOLnRhZ05hbWU9PSJBIikpe3RtcE5vZGU9cE47cE49cE4ucGFyZW50Tm9kZX12YXIgcE5vZGU9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2RvbVV0aWxzLnNldEF0dHJpYnV0ZXMocE5vZGUse3N0eWxlOiJ0ZXh0LWFsaWduOmNlbnRlciJ9KTt0bXBOb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHBOb2RlLHRtcE5vZGUpO3BOb2RlLmFwcGVuZENoaWxkKHRtcE5vZGUpO2RvbVV0aWxzLnNldFN0eWxlKHRtcE5vZGUsImZsb2F0IiwiIil9fX1lbHNle3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtyYW5nZS5zZWxlY3ROb2RlKGNpKS5zZWxlY3QoKTttZS5leGVjQ29tbWFuZCgiaW1hZ2VmbG9hdCIsb3B0LmltYWdlQmxvY2tMaW5lKX19aWYob3B0LnJlbW92ZUVtcHR5Tm9kZSl7aWYob3B0LnJlbW92ZVRhZ05hbWVzW2NpLnRhZ05hbWUudG9Mb3dlckNhc2UoKV0mJmRvbVV0aWxzLmhhc05vQXR0cmlidXRlcyhjaSkmJmRvbVV0aWxzLmlzRW1wdHlCbG9jayhjaSkpe2RvbVV0aWxzLnJlbW92ZShjaSl9fX1pZihodG1sKXtodG1sLmh0bWw9Y29udC5pbm5lckhUTUx9fWlmKG9wdC5wYXN0ZUZpbHRlcil7bWUuYWRkTGlzdGVuZXIoImJlZm9yZXBhc3RlIixhdXRvdHlwZSl9bWUuY29tbWFuZHMuYXV0b3R5cGVzZXQ9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7bWUucmVtb3ZlTGlzdGVuZXIoImJlZm9yZXBhc3RlIixhdXRvdHlwZSk7aWYob3B0LnBhc3RlRmlsdGVyKXttZS5hZGRMaXN0ZW5lcigiYmVmb3JlcGFzdGUiLGF1dG90eXBlKX1hdXRvdHlwZS5jYWxsKG1lKX19fTtVRS5wbHVnaW4ucmVnaXN0ZXIoImF1dG9zdWJtaXQiLGZ1bmN0aW9uKCl7cmV0dXJue3Nob3J0Y3V0a2V5OnthdXRvc3VibWl0OiJjdHJsKzEzIn0sY29tbWFuZHM6e2F1dG9zdWJtaXQ6e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsZm9ybT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKG1lLmlmcmFtZSwiZm9ybSIsZmFsc2UpO2lmKGZvcm0pe2lmKG1lLmZpcmVFdmVudCgiYmVmb3Jlc3VibWl0Iik9PT1mYWxzZSl7cmV0dXJufW1lLnN5bmMoKTtmb3JtLnN1Ym1pdCgpfX19fX19KTtVRS5jb21tYW5kcy5pbWFnZWZsb2F0PXtleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQsYWxpZ24pe3ZhciBtZT10aGlzLHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKCFyYW5nZS5jb2xsYXBzZWQpe3ZhciBpbWc9cmFuZ2UuZ2V0Q2xvc2VkTm9kZSgpO2lmKGltZyYmaW1nLnRhZ05hbWU9PSJJTUciKXtzd2l0Y2goYWxpZ24pe2Nhc2UibGVmdCI6Y2FzZSJyaWdodCI6Y2FzZSJub25lIjp2YXIgcE49aW1nLnBhcmVudE5vZGUsdG1wTm9kZSxwcmUsbmV4dDt3aGlsZShkdGQuJGlubGluZVtwTi50YWdOYW1lXXx8cE4udGFnTmFtZT09IkEiKXtwTj1wTi5wYXJlbnROb2RlfXRtcE5vZGU9cE47aWYodG1wTm9kZS50YWdOYW1lPT0iUCImJmRvbVV0aWxzLmdldFN0eWxlKHRtcE5vZGUsInRleHQtYWxpZ24iKT09ImNlbnRlciIpe2lmKCFkb21VdGlscy5pc0JvZHkodG1wTm9kZSkmJmRvbVV0aWxzLmdldENoaWxkQ291bnQodG1wTm9kZSxmdW5jdGlvbihub2RlKXtyZXR1cm4gIWRvbVV0aWxzLmlzQnIobm9kZSkmJiFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSl9KT09MSl7cHJlPXRtcE5vZGUucHJldmlvdXNTaWJsaW5nO25leHQ9dG1wTm9kZS5uZXh0U2libGluZztpZihwcmUmJm5leHQmJnByZS5ub2RlVHlwZT09MSYmbmV4dC5ub2RlVHlwZT09MSYmcHJlLnRhZ05hbWU9PW5leHQudGFnTmFtZSYmZG9tVXRpbHMuaXNCbG9ja0VsbShwcmUpKXtwcmUuYXBwZW5kQ2hpbGQodG1wTm9kZS5maXJzdENoaWxkKTt3aGlsZShuZXh0LmZpcnN0Q2hpbGQpe3ByZS5hcHBlbmRDaGlsZChuZXh0LmZpcnN0Q2hpbGQpfWRvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKTtkb21VdGlscy5yZW1vdmUobmV4dCl9ZWxzZXtkb21VdGlscy5zZXRTdHlsZSh0bXBOb2RlLCJ0ZXh0LWFsaWduIiwiIil9fXJhbmdlLnNlbGVjdE5vZGUoaW1nKS5zZWxlY3QoKX1kb21VdGlscy5zZXRTdHlsZShpbWcsImZsb2F0IixhbGlnbj09Im5vbmUiPyIiOmFsaWduKTtpZihhbGlnbj09Im5vbmUiKXtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGltZywiYWxpZ24iKX1icmVhaztjYXNlImNlbnRlciI6aWYobWUucXVlcnlDb21tYW5kVmFsdWUoImltYWdlZmxvYXQiKSE9ImNlbnRlciIpe3BOPWltZy5wYXJlbnROb2RlO2RvbVV0aWxzLnNldFN0eWxlKGltZywiZmxvYXQiLCIiKTtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGltZywiYWxpZ24iKTt0bXBOb2RlPWltZzt3aGlsZShwTiYmZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChwTixmdW5jdGlvbihub2RlKXtyZXR1cm4gIWRvbVV0aWxzLmlzQnIobm9kZSkmJiFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSl9KT09MSYmKGR0ZC4kaW5saW5lW3BOLnRhZ05hbWVdfHxwTi50YWdOYW1lPT0iQSIpKXt0bXBOb2RlPXBOO3BOPXBOLnBhcmVudE5vZGV9cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wTm9kZSkuc2V0Q3Vyc29yKGZhbHNlKTtwTj1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtwTi5hcHBlbmRDaGlsZCh0bXBOb2RlKTtkb21VdGlscy5zZXRTdHlsZSh0bXBOb2RlLCJmbG9hdCIsIiIpO21lLmV4ZWNDb21tYW5kKCJpbnNlcnRIdG1sIiwnPHAgaWQ9Il9pbWdfcGFyZW50X3RtcCIgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyIj4nK3BOLmlubmVySFRNTCsiPC9wPiIpO3RtcE5vZGU9bWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIl9pbWdfcGFyZW50X3RtcCIpO3RtcE5vZGUucmVtb3ZlQXR0cmlidXRlKCJpZCIpO3RtcE5vZGU9dG1wTm9kZS5maXJzdENoaWxkO3JhbmdlLnNlbGVjdE5vZGUodG1wTm9kZSkuc2VsZWN0KCk7bmV4dD10bXBOb2RlLnBhcmVudE5vZGUubmV4dFNpYmxpbmc7aWYobmV4dCYmZG9tVXRpbHMuaXNFbXB0eU5vZGUobmV4dCkpe2RvbVV0aWxzLnJlbW92ZShuZXh0KX19YnJlYWt9fX19LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksc3RhcnROb2RlLGZsb2F0U3R5bGU7aWYocmFuZ2UuY29sbGFwc2VkKXtyZXR1cm4ibm9uZSJ9c3RhcnROb2RlPXJhbmdlLmdldENsb3NlZE5vZGUoKTtpZihzdGFydE5vZGUmJnN0YXJ0Tm9kZS5ub2RlVHlwZT09MSYmc3RhcnROb2RlLnRhZ05hbWU9PSJJTUciKXtmbG9hdFN0eWxlPWRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoc3RhcnROb2RlLCJmbG9hdCIpfHxzdGFydE5vZGUuZ2V0QXR0cmlidXRlKCJhbGlnbiIpO2lmKGZsb2F0U3R5bGU9PSJub25lIil7ZmxvYXRTdHlsZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHN0YXJ0Tm9kZS5wYXJlbnROb2RlLCJ0ZXh0LWFsaWduIik9PSJjZW50ZXIiPyJjZW50ZXIiOmZsb2F0U3R5bGV9cmV0dXJue2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxfVtmbG9hdFN0eWxlXT9mbG9hdFN0eWxlOiJub25lIn1yZXR1cm4ibm9uZSJ9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksc3RhcnROb2RlO2lmKHJhbmdlLmNvbGxhcHNlZCl7cmV0dXJuIC0xfXN0YXJ0Tm9kZT1yYW5nZS5nZXRDbG9zZWROb2RlKCk7aWYoc3RhcnROb2RlJiZzdGFydE5vZGUubm9kZVR5cGU9PTEmJnN0YXJ0Tm9kZS50YWdOYW1lPT0iSU1HIil7cmV0dXJuIDB9cmV0dXJuIC0xfX07VUUuY29tbWFuZHMuaW5zZXJ0aW1hZ2U9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxvcHQpe29wdD11dGlscy5pc0FycmF5KG9wdCk/b3B0OltvcHRdO2lmKCFvcHQubGVuZ3RoKXtyZXR1cm59dmFyIG1lPXRoaXMscmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksaW1nPXJhbmdlLmdldENsb3NlZE5vZGUoKTtpZihpbWcmJi9pbWcvaS50ZXN0KGltZy50YWdOYW1lKSYmKGltZy5jbGFzc05hbWUhPSJlZHVpLWZha2VkLXZpZGVvInx8aW1nLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLXVwbG9hZC12aWRlbyIpIT0tMSkmJiFpbWcuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpKXt2YXIgZmlyc3Q9b3B0LnNoaWZ0KCk7dmFyIGZsb2F0U3R5bGU9Zmlyc3QuZmxvYXRTdHlsZTtkZWxldGUgZmlyc3QuZmxvYXRTdHlsZTtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGltZyxmaXJzdCk7bWUuZXhlY0NvbW1hbmQoImltYWdlZmxvYXQiLGZsb2F0U3R5bGUpO2lmKG9wdC5sZW5ndGg+MCl7cmFuZ2Uuc2V0U3RhcnRBZnRlcihpbWcpLnNldEN1cnNvcihmYWxzZSx0cnVlKTttZS5leGVjQ29tbWFuZCgiaW5zZXJ0aW1hZ2UiLG9wdCl9fWVsc2V7dmFyIGh0bWw9W10sc3RyPSIiLGNpO2NpPW9wdFswXTtpZihvcHQubGVuZ3RoPT0xKXtzdHI9JzxpbWcgc3JjPSInK2NpLnNyYysnIiAnKyhjaS5fc3JjPycgX3NyYz0iJytjaS5fc3JjKyciICc6IiIpKyhjaS53aWR0aD8nd2lkdGg9IicrY2kud2lkdGgrJyIgJzoiIikrKGNpLmhlaWdodD8nIGhlaWdodD0iJytjaS5oZWlnaHQrJyIgJzoiIikrKGNpLmZsb2F0U3R5bGU9PSJsZWZ0Inx8Y2kuZmxvYXRTdHlsZT09InJpZ2h0Ij8nIHN0eWxlPSJmbG9hdDonK2NpLmZsb2F0U3R5bGUrJzsiJzoiIikrKGNpLnRpdGxlJiZjaS50aXRsZSE9IiI/JyB0aXRsZT0iJytjaS50aXRsZSsnIic6IiIpKyhjaS5ib3JkZXImJmNpLmJvcmRlciE9IjAiPycgYm9yZGVyPSInK2NpLmJvcmRlcisnIic6IiIpKyhjaS5hbHQmJmNpLmFsdCE9IiI/JyBhbHQ9IicrY2kuYWx0KyciJzoiIikrKGNpLmhzcGFjZSYmY2kuaHNwYWNlIT0iMCI/JyBoc3BhY2UgPSAiJytjaS5oc3BhY2UrJyInOiIiKSsoY2kudnNwYWNlJiZjaS52c3BhY2UhPSIwIj8nIHZzcGFjZSA9ICInK2NpLnZzcGFjZSsnIic6IiIpKyIvPiI7aWYoY2kuZmxvYXRTdHlsZT09ImNlbnRlciIpe3N0cj0nPHAgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlciI+JytzdHIrIjwvcD4ifWh0bWwucHVzaChzdHIpfWVsc2V7Zm9yKHZhciBpPTA7Y2k9b3B0W2krK107KXtzdHI9IjxwICIrKGNpLmZsb2F0U3R5bGU9PSJjZW50ZXIiPydzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyIiAnOiIiKSsnPjxpbWcgc3JjPSInK2NpLnNyYysnIiAnKyhjaS53aWR0aD8nd2lkdGg9IicrY2kud2lkdGgrJyIgJzoiIikrKGNpLl9zcmM/JyBfc3JjPSInK2NpLl9zcmMrJyIgJzoiIikrKGNpLmhlaWdodD8nIGhlaWdodD0iJytjaS5oZWlnaHQrJyIgJzoiIikrJyBzdHlsZT0iJysoY2kuZmxvYXRTdHlsZSYmY2kuZmxvYXRTdHlsZSE9ImNlbnRlciI/ImZsb2F0OiIrY2kuZmxvYXRTdHlsZSsiOyI6IiIpKyhjaS5ib3JkZXJ8fCIiKSsnIiAnKyhjaS50aXRsZT8nIHRpdGxlPSInK2NpLnRpdGxlKyciJzoiIikrIiAvPjwvcD4iO2h0bWwucHVzaChzdHIpfX1tZS5leGVjQ29tbWFuZCgiaW5zZXJ0SHRtbCIsaHRtbC5qb2luKCIiKSl9fX07VUUucGx1Z2lucy5qdXN0aWZ5PWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsYmxvY2s9ZG9tVXRpbHMuaXNCbG9ja0VsbSxkZWZhdWx0VmFsdWU9e2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxLGp1c3RpZnk6MX0sZG9KdXN0aWZ5PWZ1bmN0aW9uKHJhbmdlLHN0eWxlKXt2YXIgYm9va21hcms9cmFuZ2UuY3JlYXRlQm9va21hcmsoKSxmaWx0ZXJGbj1mdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MT9ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9ImJyIiYmIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpOiFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSl9O3JhbmdlLmVubGFyZ2UodHJ1ZSk7dmFyIGJvb2ttYXJrMj1yYW5nZS5jcmVhdGVCb29rbWFyaygpLGN1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYm9va21hcmsyLnN0YXJ0LGZhbHNlLGZpbHRlckZuKSx0bXBSYW5nZT1yYW5nZS5jbG9uZVJhbmdlKCksdG1wTm9kZTt3aGlsZShjdXJyZW50JiYhKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsYm9va21hcmsyLmVuZCkmZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSl7aWYoY3VycmVudC5ub2RlVHlwZT09M3x8IWJsb2NrKGN1cnJlbnQpKXt0bXBSYW5nZS5zZXRTdGFydEJlZm9yZShjdXJyZW50KTt3aGlsZShjdXJyZW50JiZjdXJyZW50IT09Ym9va21hcmsyLmVuZCYmIWJsb2NrKGN1cnJlbnQpKXt0bXBOb2RlPWN1cnJlbnQ7Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLG51bGwsZnVuY3Rpb24obm9kZSl7cmV0dXJuICFibG9jayhub2RlKX0pfXRtcFJhbmdlLnNldEVuZEFmdGVyKHRtcE5vZGUpO3ZhciBjb21tb249dG1wUmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKTtpZighZG9tVXRpbHMuaXNCb2R5KGNvbW1vbikmJmJsb2NrKGNvbW1vbikpe2RvbVV0aWxzLnNldFN0eWxlcyhjb21tb24sdXRpbHMuaXNTdHJpbmcoc3R5bGUpP3sidGV4dC1hbGlnbiI6c3R5bGV9OnN0eWxlKTtjdXJyZW50PWNvbW1vbn1lbHNle3ZhciBwPXJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtkb21VdGlscy5zZXRTdHlsZXMocCx1dGlscy5pc1N0cmluZyhzdHlsZSk/eyJ0ZXh0LWFsaWduIjpzdHlsZX06c3R5bGUpO3ZhciBmcmFnPXRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpO3AuYXBwZW5kQ2hpbGQoZnJhZyk7dG1wUmFuZ2UuaW5zZXJ0Tm9kZShwKTtjdXJyZW50PXB9Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLGZpbHRlckZuKX1lbHNle2N1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCx0cnVlLGZpbHRlckZuKX19cmV0dXJuIHJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrMikubW92ZVRvQm9va21hcmsoYm9va21hcmspfTtVRS5jb21tYW5kcy5qdXN0aWZ5PXtleGVjQ29tbWFuZDpmdW5jdGlvbihjbWROYW1lLGFsaWduKXt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSx0eHQ7aWYocmFuZ2UuY29sbGFwc2VkKXt0eHQ9dGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgicCIpO3JhbmdlLmluc2VydE5vZGUodHh0KX1kb0p1c3RpZnkocmFuZ2UsYWxpZ24pO2lmKHR4dCl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodHh0KS5jb2xsYXBzZSh0cnVlKTtkb21VdGlscy5yZW1vdmUodHh0KX1yYW5nZS5zZWxlY3QoKTtyZXR1cm4gdHJ1ZX0scXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24oKXt2YXIgc3RhcnROb2RlPXRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0KCksdmFsdWU9ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzdGFydE5vZGUsInRleHQtYWxpZ24iKTtyZXR1cm4gZGVmYXVsdFZhbHVlW3ZhbHVlXT92YWx1ZToibGVmdCJ9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHN0YXJ0PXRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0KCksY2VsbD1zdGFydCYmZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCxbInRkIiwidGgiLCJjYXB0aW9uIl0sdHJ1ZSk7cmV0dXJuIGNlbGw/LTE6MH19fTtVRS5wbHVnaW5zLmZvbnQ9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxmb250cz17Zm9yZWNvbG9yOiJjb2xvciIsYmFja2NvbG9yOiJiYWNrZ3JvdW5kLWNvbG9yIixmb250c2l6ZToiZm9udC1zaXplIixmb250ZmFtaWx5OiJmb250LWZhbWlseSIsdW5kZXJsaW5lOiJ0ZXh0LWRlY29yYXRpb24iLHN0cmlrZXRocm91Z2g6InRleHQtZGVjb3JhdGlvbiIsZm9udGJvcmRlcjoiYm9yZGVyIn0sbmVlZENtZD17dW5kZXJsaW5lOjEsc3RyaWtldGhyb3VnaDoxLGZvbnRib3JkZXI6MX0sbmVlZFNldENoaWxkPXtmb3JlY29sb3I6ImNvbG9yIixiYWNrY29sb3I6ImJhY2tncm91bmQtY29sb3IiLGZvbnRzaXplOiJmb250LXNpemUiLGZvbnRmYW1pbHk6ImZvbnQtZmFtaWx5In07bWUuc2V0T3B0KHtmb250ZmFtaWx5Olt7bmFtZToic29uZ3RpIix2YWw6IuWui+S9kyxTaW1TdW4ifSx7bmFtZToieWFoZWkiLHZhbDoi5b6u6L2v6ZuF6buRLE1pY3Jvc29mdCBZYUhlaSJ9LHtuYW1lOiJrYWl0aSIsdmFsOiLmpbfkvZMs5qW35L2TX0dCMjMxMiwgU2ltS2FpIn0se25hbWU6ImhlaXRpIix2YWw6Ium7keS9kywgU2ltSGVpIn0se25hbWU6Imxpc2h1Iix2YWw6IumatuS5piwgU2ltTGkifSx7bmFtZToiYW5kYWxlTW9ubyIsdmFsOiJhbmRhbGUgbW9ubyJ9LHtuYW1lOiJhcmlhbCIsdmFsOiJhcmlhbCwgaGVsdmV0aWNhLHNhbnMtc2VyaWYifSx7bmFtZToiYXJpYWxCbGFjayIsdmFsOiJhcmlhbCBibGFjayxhdmFudCBnYXJkZSJ9LHtuYW1lOiJjb21pY1NhbnNNcyIsdmFsOiJjb21pYyBzYW5zIG1zIn0se25hbWU6ImltcGFjdCIsdmFsOiJpbXBhY3QsY2hpY2FnbyJ9LHtuYW1lOiJ0aW1lc05ld1JvbWFuIix2YWw6InRpbWVzIG5ldyByb21hbiJ9XSxmb250c2l6ZTpbMTAsMTEsMTIsMTQsMTYsMTgsMjAsMjQsMzZdfSk7ZnVuY3Rpb24gbWVyZ2VXaXRoUGFyZW50KG5vZGUpe3ZhciBwYXJlbnQ7d2hpbGUocGFyZW50PW5vZGUucGFyZW50Tm9kZSl7aWYocGFyZW50LnRhZ05hbWU9PSJTUEFOIiYmZG9tVXRpbHMuZ2V0Q2hpbGRDb3VudChwYXJlbnQsZnVuY3Rpb24oY2hpbGQpe3JldHVybiAhZG9tVXRpbHMuaXNCb29rbWFya05vZGUoY2hpbGQpJiYhZG9tVXRpbHMuaXNCcihjaGlsZCl9KT09MSl7cGFyZW50LnN0eWxlLmNzc1RleHQrPW5vZGUuc3R5bGUuY3NzVGV4dDtkb21VdGlscy5yZW1vdmUobm9kZSx0cnVlKTtub2RlPXBhcmVudH1lbHNle2JyZWFrfX19ZnVuY3Rpb24gbWVyZ2VDaGlsZChybmcsY21kTmFtZSx2YWx1ZSl7aWYobmVlZFNldENoaWxkW2NtZE5hbWVdKXtybmcuYWRqdXN0bWVudEJvdW5kYXJ5KCk7aWYoIXJuZy5jb2xsYXBzZWQmJnJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09MSl7dmFyIHN0YXJ0PXJuZy5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5zdGFydE9mZnNldF07aWYoc3RhcnQmJmRvbVV0aWxzLmlzVGFnTm9kZShzdGFydCwic3BhbiIpKXt2YXIgYms9cm5nLmNyZWF0ZUJvb2ttYXJrKCk7dXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShzdGFydCwic3BhbiIpLGZ1bmN0aW9uKHNwYW4pe2lmKCFzcGFuLnBhcmVudE5vZGV8fGRvbVV0aWxzLmlzQm9va21hcmtOb2RlKHNwYW4pKXtyZXR1cm59aWYoY21kTmFtZT09ImJhY2tjb2xvciImJmRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoc3BhbiwiYmFja2dyb3VuZC1jb2xvciIpLnRvTG93ZXJDYXNlKCk9PT12YWx1ZSl7cmV0dXJufWRvbVV0aWxzLnJlbW92ZVN0eWxlKHNwYW4sbmVlZFNldENoaWxkW2NtZE5hbWVdKTtpZihzcGFuLnN0eWxlLmNzc1RleHQucmVwbGFjZSgvXlxzKyQvLCIiKS5sZW5ndGg9PTApe2RvbVV0aWxzLnJlbW92ZShzcGFuLHRydWUpfX0pO3JuZy5tb3ZlVG9Cb29rbWFyayhiayl9fX19ZnVuY3Rpb24gbWVyZ2VzaWJsaW5nKHJuZyxjbWROYW1lLHZhbHVlKXt2YXIgY29sbGFwc2VkPXJuZy5jb2xsYXBzZWQsYms9cm5nLmNyZWF0ZUJvb2ttYXJrKCksY29tbW9uO2lmKGNvbGxhcHNlZCl7Y29tbW9uPWJrLnN0YXJ0LnBhcmVudE5vZGU7d2hpbGUoZHRkLiRpbmxpbmVbY29tbW9uLnRhZ05hbWVdKXtjb21tb249Y29tbW9uLnBhcmVudE5vZGV9fWVsc2V7Y29tbW9uPWRvbVV0aWxzLmdldENvbW1vbkFuY2VzdG9yKGJrLnN0YXJ0LGJrLmVuZCl9dXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShjb21tb24sInNwYW4iKSxmdW5jdGlvbihzcGFuKXtpZighc3Bhbi5wYXJlbnROb2RlfHxkb21VdGlscy5pc0Jvb2ttYXJrTm9kZShzcGFuKSl7cmV0dXJufWlmKC9ccypib3JkZXJccyo6XHMqbm9uZTs/XHMqL2kudGVzdChzcGFuLnN0eWxlLmNzc1RleHQpKXtpZigvXlxzKmJvcmRlclxzKjpccypub25lOz9ccyokLy50ZXN0KHNwYW4uc3R5bGUuY3NzVGV4dCkpe2RvbVV0aWxzLnJlbW92ZShzcGFuLHRydWUpfWVsc2V7ZG9tVXRpbHMucmVtb3ZlU3R5bGUoc3BhbiwiYm9yZGVyIil9cmV0dXJufWlmKC9ib3JkZXIvaS50ZXN0KHNwYW4uc3R5bGUuY3NzVGV4dCkmJnNwYW4ucGFyZW50Tm9kZS50YWdOYW1lPT0iU1BBTiImJi9ib3JkZXIvaS50ZXN0KHNwYW4ucGFyZW50Tm9kZS5zdHlsZS5jc3NUZXh0KSl7c3Bhbi5zdHlsZS5jc3NUZXh0PXNwYW4uc3R5bGUuY3NzVGV4dC5yZXBsYWNlKC9ib3JkZXJbXjpdKjpbXjtdKzs/L2dpLCIiKX1pZighKGNtZE5hbWU9PSJmb250Ym9yZGVyIiYmdmFsdWU9PSJub25lIikpe3ZhciBuZXh0PXNwYW4ubmV4dFNpYmxpbmc7d2hpbGUobmV4dCYmbmV4dC5ub2RlVHlwZT09MSYmbmV4dC50YWdOYW1lPT0iU1BBTiIpe2lmKGRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5leHQpJiZjbWROYW1lPT0iZm9udGJvcmRlciIpe3NwYW4uYXBwZW5kQ2hpbGQobmV4dCk7bmV4dD1zcGFuLm5leHRTaWJsaW5nO2NvbnRpbnVlfWlmKG5leHQuc3R5bGUuY3NzVGV4dD09c3Bhbi5zdHlsZS5jc3NUZXh0KXtkb21VdGlscy5tb3ZlQ2hpbGQobmV4dCxzcGFuKTtkb21VdGlscy5yZW1vdmUobmV4dCl9aWYoc3Bhbi5uZXh0U2libGluZz09PW5leHQpe2JyZWFrfW5leHQ9c3Bhbi5uZXh0U2libGluZ319bWVyZ2VXaXRoUGFyZW50KHNwYW4pO2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbj44KXt2YXIgcGFyZW50PWRvbVV0aWxzLmZpbmRQYXJlbnQoc3BhbixmdW5jdGlvbihuKXtyZXR1cm4gbi50YWdOYW1lPT0iU1BBTiImJi9iYWNrZ3JvdW5kLWNvbG9yLy50ZXN0KG4uc3R5bGUuY3NzVGV4dCl9KTtpZihwYXJlbnQmJiEvYmFja2dyb3VuZC1jb2xvci8udGVzdChzcGFuLnN0eWxlLmNzc1RleHQpKXtzcGFuLnN0eWxlLmJhY2tncm91bmRDb2xvcj1wYXJlbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yfX19KTtybmcubW92ZVRvQm9va21hcmsoYmspO21lcmdlQ2hpbGQocm5nLGNtZE5hbWUsdmFsdWUpfW1lLmFkZElucHV0UnVsZShmdW5jdGlvbihyb290KXt1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoInUgcyBkZWwgZm9udCBzdHJpa2UiKSxmdW5jdGlvbihub2RlKXtpZihub2RlLnRhZ05hbWU9PSJmb250Iil7dmFyIGNzc1N0eWxlPVtdO2Zvcih2YXIgcCBpbiBub2RlLmF0dHJzKXtzd2l0Y2gocCl7Y2FzZSJzaXplIjpjc3NTdHlsZS5wdXNoKCJmb250LXNpemU6IisoeyIxIjoiMTAiLCIyIjoiMTIiLCIzIjoiMTYiLCI0IjoiMTgiLCI1IjoiMjQiLCI2IjoiMzIiLCI3IjoiNDgifVtub2RlLmF0dHJzW3BdXXx8bm9kZS5hdHRyc1twXSkrInB4Iik7YnJlYWs7Y2FzZSJjb2xvciI6Y3NzU3R5bGUucHVzaCgiY29sb3I6Iitub2RlLmF0dHJzW3BdKTticmVhaztjYXNlImZhY2UiOmNzc1N0eWxlLnB1c2goImZvbnQtZmFtaWx5OiIrbm9kZS5hdHRyc1twXSk7YnJlYWs7Y2FzZSJzdHlsZSI6Y3NzU3R5bGUucHVzaChub2RlLmF0dHJzW3BdKX19bm9kZS5hdHRycz17c3R5bGU6Y3NzU3R5bGUuam9pbigiOyIpfX1lbHNle3ZhciB2YWw9bm9kZS50YWdOYW1lPT0idSI/InVuZGVybGluZSI6ImxpbmUtdGhyb3VnaCI7bm9kZS5hdHRycz17c3R5bGU6KG5vZGUuZ2V0QXR0cigic3R5bGUiKXx8IiIpKyJ0ZXh0LWRlY29yYXRpb246Iit2YWwrIjsifX1ub2RlLnRhZ05hbWU9InNwYW4ifSl9KTtmb3IodmFyIHAgaW4gZm9udHMpeyhmdW5jdGlvbihjbWQsc3R5bGUpe1VFLmNvbW1hbmRzW2NtZF09e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsdmFsdWUpe3ZhbHVlPXZhbHVlfHwodGhpcy5xdWVyeUNvbW1hbmRTdGF0ZShjbWROYW1lKT8ibm9uZSI6Y21kTmFtZT09InVuZGVybGluZSI/InVuZGVybGluZSI6Y21kTmFtZT09ImZvbnRib3JkZXIiPyIxcHggc29saWQgIzAwMCI6ImxpbmUtdGhyb3VnaCIpO3ZhciBtZT10aGlzLHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksdGV4dDtpZih2YWx1ZT09ImRlZmF1bHQiKXtpZihyYW5nZS5jb2xsYXBzZWQpe3RleHQ9bWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoImZvbnQiKTtyYW5nZS5pbnNlcnROb2RlKHRleHQpLnNlbGVjdCgpfW1lLmV4ZWNDb21tYW5kKCJyZW1vdmVGb3JtYXQiLCJzcGFuLGEiLHN0eWxlKTtpZih0ZXh0KXtyYW5nZS5zZXRTdGFydEJlZm9yZSh0ZXh0KS5jb2xsYXBzZSh0cnVlKTtkb21VdGlscy5yZW1vdmUodGV4dCl9bWVyZ2VzaWJsaW5nKHJhbmdlLGNtZE5hbWUsdmFsdWUpO3JhbmdlLnNlbGVjdCgpfWVsc2V7aWYoIXJhbmdlLmNvbGxhcHNlZCl7aWYobmVlZENtZFtjbWRdJiZtZS5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpKXttZS5leGVjQ29tbWFuZCgicmVtb3ZlRm9ybWF0Iiwic3BhbixhIixzdHlsZSl9cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7cmFuZ2UuYXBwbHlJbmxpbmVTdHlsZSgic3BhbiIse3N0eWxlOnN0eWxlKyI6Iit2YWx1ZX0pO21lcmdlc2libGluZyhyYW5nZSxjbWROYW1lLHZhbHVlKTtyYW5nZS5zZWxlY3QoKX1lbHNle3ZhciBzcGFuPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsInNwYW4iLHRydWUpO3RleHQ9bWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoImZvbnQiKTtpZihzcGFuJiYhc3Bhbi5jaGlsZHJlbi5sZW5ndGgmJiFzcGFuW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0ucmVwbGFjZShmaWxsQ2hhclJlZywiIikubGVuZ3RoKXtyYW5nZS5pbnNlcnROb2RlKHRleHQpO2lmKG5lZWRDbWRbY21kXSl7cmFuZ2Uuc2VsZWN0Tm9kZSh0ZXh0KS5zZWxlY3QoKTttZS5leGVjQ29tbWFuZCgicmVtb3ZlRm9ybWF0Iiwic3BhbixhIixzdHlsZSxudWxsKTtzcGFuPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUodGV4dCwic3BhbiIsdHJ1ZSk7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodGV4dCl9c3BhbiYmKHNwYW4uc3R5bGUuY3NzVGV4dCs9IjsiK3N0eWxlKyI6Iit2YWx1ZSk7cmFuZ2UuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KCl9ZWxzZXtyYW5nZS5pbnNlcnROb2RlKHRleHQpO3JhbmdlLnNlbGVjdE5vZGUodGV4dCkuc2VsZWN0KCk7c3Bhbj1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7aWYobmVlZENtZFtjbWRdKXtpZihkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRleHQsImEiLHRydWUpKXtyYW5nZS5zZXRTdGFydEJlZm9yZSh0ZXh0KS5zZXRDdXJzb3IoKTtkb21VdGlscy5yZW1vdmUodGV4dCk7cmV0dXJufW1lLmV4ZWNDb21tYW5kKCJyZW1vdmVGb3JtYXQiLCJzcGFuLGEiLHN0eWxlKX1zcGFuLnN0eWxlLmNzc1RleHQ9c3R5bGUrIjoiK3ZhbHVlO3RleHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoc3Bhbix0ZXh0KTtpZighYnJvd3Nlci5pZXx8YnJvd3Nlci5pZSYmYnJvd3Nlci52ZXJzaW9uPT05KXt2YXIgc3BhblBhcmVudD1zcGFuLnBhcmVudE5vZGU7d2hpbGUoIWRvbVV0aWxzLmlzQmxvY2tFbG0oc3BhblBhcmVudCkpe2lmKHNwYW5QYXJlbnQudGFnTmFtZT09IlNQQU4iKXtzcGFuLnN0eWxlLmNzc1RleHQ9c3BhblBhcmVudC5zdHlsZS5jc3NUZXh0KyI7IitzcGFuLnN0eWxlLmNzc1RleHR9c3BhblBhcmVudD1zcGFuUGFyZW50LnBhcmVudE5vZGV9fWlmKG9wZXJhKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmFuZ2Uuc2V0U3RhcnQoc3BhbiwwKS5jb2xsYXBzZSh0cnVlKTttZXJnZXNpYmxpbmcocmFuZ2UsY21kTmFtZSx2YWx1ZSk7cmFuZ2Uuc2VsZWN0KCl9KX1lbHNle3JhbmdlLnNldFN0YXJ0KHNwYW4sMCkuY29sbGFwc2UodHJ1ZSk7bWVyZ2VzaWJsaW5nKHJhbmdlLGNtZE5hbWUsdmFsdWUpO3JhbmdlLnNlbGVjdCgpfX1kb21VdGlscy5yZW1vdmUodGV4dCl9fXJldHVybiB0cnVlfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWROYW1lKXt2YXIgc3RhcnROb2RlPXRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0KCk7aWYoY21kTmFtZT09InVuZGVybGluZSJ8fGNtZE5hbWU9PSJzdHJpa2V0aHJvdWdoIil7dmFyIHRtcE5vZGU9c3RhcnROb2RlLHZhbHVlO3doaWxlKHRtcE5vZGUmJiFkb21VdGlscy5pc0Jsb2NrRWxtKHRtcE5vZGUpJiYhZG9tVXRpbHMuaXNCb2R5KHRtcE5vZGUpKXtpZih0bXBOb2RlLm5vZGVUeXBlPT0xKXt2YWx1ZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRtcE5vZGUsc3R5bGUpO2lmKHZhbHVlIT0ibm9uZSIpe3JldHVybiB2YWx1ZX19dG1wTm9kZT10bXBOb2RlLnBhcmVudE5vZGV9cmV0dXJuIm5vbmUifWlmKGNtZE5hbWU9PSJmb250Ym9yZGVyIil7dmFyIHRtcD1zdGFydE5vZGUsdmFsO3doaWxlKHRtcCYmZHRkLiRpbmxpbmVbdG1wLnRhZ05hbWVdKXtpZih2YWw9ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0bXAsImJvcmRlciIpKXtpZigvMXB4Ly50ZXN0KHZhbCkmJi9zb2xpZC8udGVzdCh2YWwpKXtyZXR1cm4gdmFsfX10bXA9dG1wLnBhcmVudE5vZGV9cmV0dXJuIiJ9aWYoY21kTmFtZT09IkZvbnRTaXplIil7dmFyIHN0eWxlVmFsPWRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoc3RhcnROb2RlLHN0eWxlKSx0bXA9L14oW1xkXC5dKykoXHcrKSQvLmV4ZWMoc3R5bGVWYWwpO2lmKHRtcCl7cmV0dXJuIE1hdGguZmxvb3IodG1wWzFdKSt0bXBbMl19cmV0dXJuIHN0eWxlVmFsfXJldHVybiBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHN0YXJ0Tm9kZSxzdHlsZSl9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNtZE5hbWUpe2lmKCFuZWVkQ21kW2NtZE5hbWVdKXtyZXR1cm4gMH12YXIgdmFsPXRoaXMucXVlcnlDb21tYW5kVmFsdWUoY21kTmFtZSk7aWYoY21kTmFtZT09ImZvbnRib3JkZXIiKXtyZXR1cm4vMXB4Ly50ZXN0KHZhbCkmJi9zb2xpZC8udGVzdCh2YWwpfWVsc2V7cmV0dXJuIGNtZE5hbWU9PSJ1bmRlcmxpbmUiPy91bmRlcmxpbmUvLnRlc3QodmFsKTovbGluZVwtdGhyb3VnaC8udGVzdCh2YWwpfX19fSkocCxmb250c1twXSl9fTtVRS5wbHVnaW5zLmxpbms9ZnVuY3Rpb24oKXtmdW5jdGlvbiBvcHRpbWl6ZShyYW5nZSl7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyLGVuZD1yYW5nZS5lbmRDb250YWluZXI7aWYoc3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCwiYSIsdHJ1ZSkpe3JhbmdlLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KX1pZihlbmQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbmQsImEiLHRydWUpKXtyYW5nZS5zZXRFbmRBZnRlcihlbmQpfX1VRS5jb21tYW5kcy51bmxpbms9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksYm9va21hcms7aWYocmFuZ2UuY29sbGFwc2VkJiYhZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwiYSIsdHJ1ZSkpe3JldHVybn1ib29rbWFyaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO29wdGltaXplKHJhbmdlKTtyYW5nZS5yZW1vdmVJbmxpbmVTdHlsZSgiYSIpLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrKS5zZWxlY3QoKX0scXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuaGlnaGxpZ2h0JiZ0aGlzLnF1ZXJ5Q29tbWFuZFZhbHVlKCJsaW5rIik/MDotMX19O2Z1bmN0aW9uIGRvTGluayhyYW5nZSxvcHQsbWUpe3ZhciBybmdDbG9uZT1yYW5nZS5jbG9uZVJhbmdlKCksbGluaz1tZS5xdWVyeUNvbW1hbmRWYWx1ZSgibGluayIpO29wdGltaXplKHJhbmdlPXJhbmdlLmFkanVzdG1lbnRCb3VuZGFyeSgpKTt2YXIgc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTEmJmxpbmspe3N0YXJ0PXN0YXJ0LmNoaWxkTm9kZXNbcmFuZ2Uuc3RhcnRPZmZzZXRdO2lmKHN0YXJ0JiZzdGFydC5ub2RlVHlwZT09MSYmc3RhcnQudGFnTmFtZT09IkEiJiYvXig/Omh0dHBzP3xmdHB8ZmlsZSlccyo6XHMqXC9cLy8udGVzdChzdGFydFticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdKSl7c3RhcnRbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXT11dGlscy5odG1sKG9wdC50ZXh0VmFsdWV8fG9wdC5ocmVmKX19aWYoIXJuZ0Nsb25lLmNvbGxhcHNlZHx8bGluayl7cmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUoImEiKTtybmdDbG9uZT1yYW5nZS5jbG9uZVJhbmdlKCl9aWYocm5nQ2xvbmUuY29sbGFwc2VkKXt2YXIgYT1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksdGV4dD0iIjtpZihvcHQudGV4dFZhbHVlKXt0ZXh0PXV0aWxzLmh0bWwob3B0LnRleHRWYWx1ZSk7ZGVsZXRlIG9wdC50ZXh0VmFsdWV9ZWxzZXt0ZXh0PXV0aWxzLmh0bWwob3B0LmhyZWYpfWRvbVV0aWxzLnNldEF0dHJpYnV0ZXMoYSxvcHQpO3N0YXJ0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nQ2xvbmUuc3RhcnRDb250YWluZXIsImEiLHRydWUpO2lmKHN0YXJ0JiZkb21VdGlscy5pc0luTm9kZUVuZEJvdW5kYXJ5KHJuZ0Nsb25lLHN0YXJ0KSl7cmFuZ2Uuc2V0U3RhcnRBZnRlcihzdGFydCkuY29sbGFwc2UodHJ1ZSl9YVticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdPXRleHQ7cmFuZ2UuaW5zZXJ0Tm9kZShhKS5zZWxlY3ROb2RlKGEpfWVsc2V7cmFuZ2UuYXBwbHlJbmxpbmVTdHlsZSgiYSIsb3B0KX19VUUuY29tbWFuZHMubGluaz17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSxvcHQpe3ZhciByYW5nZTtvcHQuX2hyZWYmJihvcHQuX2hyZWY9dXRpbHMudW5odG1sKG9wdC5faHJlZiwvWzwiPl0vZykpO29wdC5ocmVmJiYob3B0LmhyZWY9dXRpbHMudW5odG1sKG9wdC5ocmVmLC9bPCI+XS9nKSk7b3B0LnRleHRWYWx1ZSYmKG9wdC50ZXh0VmFsdWU9dXRpbHMudW5odG1sKG9wdC50ZXh0VmFsdWUsL1s8Ij5dL2cpKTtkb0xpbmsocmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxvcHQsdGhpcyk7cmFuZ2UuY29sbGFwc2UoKS5zZWxlY3QodHJ1ZSl9LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksbm9kZTtpZihyYW5nZS5jb2xsYXBzZWQpe25vZGU9cmFuZ2Uuc3RhcnRDb250YWluZXI7bm9kZT1ub2RlLm5vZGVUeXBlPT0xP25vZGU6bm9kZS5wYXJlbnROb2RlO2lmKG5vZGUmJihub2RlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUobm9kZSwiYSIsdHJ1ZSkpJiYhZG9tVXRpbHMuaXNJbk5vZGVFbmRCb3VuZGFyeShyYW5nZSxub2RlKSl7cmV0dXJuIG5vZGV9fWVsc2V7cmFuZ2Uuc2hyaW5rQm91bmRhcnkoKTt2YXIgc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXIubm9kZVR5cGU9PTN8fCFyYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XT9yYW5nZS5zdGFydENvbnRhaW5lcjpyYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSxlbmQ9cmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlPT0zfHxyYW5nZS5lbmRPZmZzZXQ9PTA/cmFuZ2UuZW5kQ29udGFpbmVyOnJhbmdlLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLmVuZE9mZnNldC0xXSxjb21tb249cmFuZ2UuZ2V0Q29tbW9uQW5jZXN0b3IoKTtub2RlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoY29tbW9uLCJhIix0cnVlKTtpZighbm9kZSYmY29tbW9uLm5vZGVUeXBlPT0xKXt2YXIgYXM9Y29tbW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJhIikscHMscGU7Zm9yKHZhciBpPTAsY2k7Y2k9YXNbaSsrXTspe3BzPWRvbVV0aWxzLmdldFBvc2l0aW9uKGNpLHN0YXJ0KSxwZT1kb21VdGlscy5nZXRQb3NpdGlvbihjaSxlbmQpO2lmKChwcyZkb21VdGlscy5QT1NJVElPTl9GT0xMT1dJTkd8fHBzJmRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TKSYmKHBlJmRvbVV0aWxzLlBPU0lUSU9OX1BSRUNFRElOR3x8cGUmZG9tVXRpbHMuUE9TSVRJT05fQ09OVEFJTlMpKXtub2RlPWNpO2JyZWFrfX19cmV0dXJuIG5vZGV9fSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3ZhciBpbWc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5nZXRDbG9zZWROb2RlKCksZmxhZz1pbWcmJihpbWcuY2xhc3NOYW1lPT0iZWR1aS1mYWtlZC12aWRlbyJ8fGltZy5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS11cGxvYWQtdmlkZW8iKSE9LTEpO3JldHVybiBmbGFnPy0xOjB9fX07VUUucGx1Z2lucy5pbnNlcnRmcmFtZT1mdW5jdGlvbigpe3ZhciBtZT10aGlzO2Z1bmN0aW9uIGRlbGV0ZUlmcmFtZSgpe21lLl9pZnJhbWUmJmRlbGV0ZSBtZS5faWZyYW1lfW1lLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7ZGVsZXRlSWZyYW1lKCl9KX07VUUuY29tbWFuZHMuc2NyYXdsPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb248PTgpPy0xOjB9fTtVRS5wbHVnaW5zLnJlbW92ZWZvcm1hdD1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnNldE9wdCh7cmVtb3ZlRm9ybWF0VGFnczoiYixiaWcsY29kZSxkZWwsZGZuLGVtLGZvbnQsaSxpbnMsa2JkLHEsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhciIscmVtb3ZlRm9ybWF0QXR0cmlidXRlczoiY2xhc3Msc3R5bGUsbGFuZyx3aWR0aCxoZWlnaHQsYWxpZ24saHNwYWNlLHZhbGlnbiJ9KTttZS5jb21tYW5kcy5yZW1vdmVmb3JtYXQ9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsdGFncyxzdHlsZSxhdHRycyxub3RJbmNsdWRlQSl7dmFyIHRhZ1JlZz1uZXcgUmVnRXhwKCJeKD86IisodGFnc3x8dGhpcy5vcHRpb25zLnJlbW92ZUZvcm1hdFRhZ3MpLnJlcGxhY2UoLywvZywifCIpKyIpJCIsImkiKSxyZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPXN0eWxlP1tdOihhdHRyc3x8dGhpcy5vcHRpb25zLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXMpLnNwbGl0KCIsIikscmFuZ2U9bmV3IGRvbS5SYW5nZSh0aGlzLmRvY3VtZW50KSxib29rbWFyayxub2RlLHBhcmVudCxmaWx0ZXI9ZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUubm9kZVR5cGU9PTF9O2Z1bmN0aW9uIGlzUmVkdW5kYW50U3Bhbihub2RlKXtpZihub2RlLm5vZGVUeXBlPT0zfHxub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9InNwYW4iKXtyZXR1cm4gMH1pZihicm93c2VyLmllKXt2YXIgYXR0cnM9bm9kZS5hdHRyaWJ1dGVzO2lmKGF0dHJzLmxlbmd0aCl7Zm9yKHZhciBpPTAsbD1hdHRycy5sZW5ndGg7aTxsO2krKyl7aWYoYXR0cnNbaV0uc3BlY2lmaWVkKXtyZXR1cm4gMH19cmV0dXJuIDF9fXJldHVybiAhbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aH1mdW5jdGlvbiBkb1JlbW92ZShyYW5nZSl7dmFyIGJvb2ttYXJrMT1yYW5nZS5jcmVhdGVCb29rbWFyaygpO2lmKHJhbmdlLmNvbGxhcHNlZCl7cmFuZ2UuZW5sYXJnZSh0cnVlKX1pZighbm90SW5jbHVkZUEpe3ZhciBhTm9kZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJhIix0cnVlKTtpZihhTm9kZSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoYU5vZGUpfWFOb2RlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2UuZW5kQ29udGFpbmVyLCJhIix0cnVlKTtpZihhTm9kZSl7cmFuZ2Uuc2V0RW5kQWZ0ZXIoYU5vZGUpfX1ib29rbWFyaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO25vZGU9Ym9va21hcmsuc3RhcnQ7d2hpbGUoKHBhcmVudD1ub2RlLnBhcmVudE5vZGUpJiYhZG9tVXRpbHMuaXNCbG9ja0VsbShwYXJlbnQpKXtkb21VdGlscy5icmVha1BhcmVudChub2RlLHBhcmVudCk7ZG9tVXRpbHMuY2xlYXJFbXB0eVNpYmxpbmcobm9kZSl9aWYoYm9va21hcmsuZW5kKXtub2RlPWJvb2ttYXJrLmVuZDt3aGlsZSgocGFyZW50PW5vZGUucGFyZW50Tm9kZSkmJiFkb21VdGlscy5pc0Jsb2NrRWxtKHBhcmVudCkpe2RvbVV0aWxzLmJyZWFrUGFyZW50KG5vZGUscGFyZW50KTtkb21VdGlscy5jbGVhckVtcHR5U2libGluZyhub2RlKX12YXIgY3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyay5zdGFydCxmYWxzZSxmaWx0ZXIpLG5leHQ7d2hpbGUoY3VycmVudCl7aWYoY3VycmVudD09Ym9va21hcmsuZW5kKXticmVha31uZXh0PWRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsdHJ1ZSxmaWx0ZXIpO2lmKCFkdGQuJGVtcHR5W2N1cnJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpXSYmIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKGN1cnJlbnQpKXtpZih0YWdSZWcudGVzdChjdXJyZW50LnRhZ05hbWUpKXtpZihzdHlsZSl7ZG9tVXRpbHMucmVtb3ZlU3R5bGUoY3VycmVudCxzdHlsZSk7aWYoaXNSZWR1bmRhbnRTcGFuKGN1cnJlbnQpJiZzdHlsZSE9InRleHQtZGVjb3JhdGlvbiIpe2RvbVV0aWxzLnJlbW92ZShjdXJyZW50LHRydWUpfX1lbHNle2RvbVV0aWxzLnJlbW92ZShjdXJyZW50LHRydWUpfX1lbHNle2lmKCFkdGQuJHRhYmxlQ29udGVudFtjdXJyZW50LnRhZ05hbWVdJiYhZHRkLiRsaXN0W2N1cnJlbnQudGFnTmFtZV0pe2RvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMoY3VycmVudCxyZW1vdmVGb3JtYXRBdHRyaWJ1dGVzKTtpZihpc1JlZHVuZGFudFNwYW4oY3VycmVudCkpe2RvbVV0aWxzLnJlbW92ZShjdXJyZW50LHRydWUpfX19fWN1cnJlbnQ9bmV4dH19dmFyIHBOPWJvb2ttYXJrLnN0YXJ0LnBhcmVudE5vZGU7aWYoZG9tVXRpbHMuaXNCbG9ja0VsbShwTikmJiFkdGQuJHRhYmxlQ29udGVudFtwTi50YWdOYW1lXSYmIWR0ZC4kbGlzdFtwTi50YWdOYW1lXSl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhwTixyZW1vdmVGb3JtYXRBdHRyaWJ1dGVzKX1wTj1ib29rbWFyay5lbmQucGFyZW50Tm9kZTtpZihib29rbWFyay5lbmQmJmRvbVV0aWxzLmlzQmxvY2tFbG0ocE4pJiYhZHRkLiR0YWJsZUNvbnRlbnRbcE4udGFnTmFtZV0mJiFkdGQuJGxpc3RbcE4udGFnTmFtZV0pe2RvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXMocE4scmVtb3ZlRm9ybWF0QXR0cmlidXRlcyl9cmFuZ2UubW92ZVRvQm9va21hcmsoYm9va21hcmspLm1vdmVUb0Jvb2ttYXJrKGJvb2ttYXJrMSk7dmFyIG5vZGU9cmFuZ2Uuc3RhcnRDb250YWluZXIsdG1wLGNvbGxhcHNlZD1yYW5nZS5jb2xsYXBzZWQ7d2hpbGUobm9kZS5ub2RlVHlwZT09MSYmZG9tVXRpbHMuaXNFbXB0eU5vZGUobm9kZSkmJmR0ZC4kcmVtb3ZlRW1wdHlbbm9kZS50YWdOYW1lXSl7dG1wPW5vZGUucGFyZW50Tm9kZTtyYW5nZS5zZXRTdGFydEJlZm9yZShub2RlKTtpZihyYW5nZS5zdGFydENvbnRhaW5lcj09PXJhbmdlLmVuZENvbnRhaW5lcil7cmFuZ2UuZW5kT2Zmc2V0LS19ZG9tVXRpbHMucmVtb3ZlKG5vZGUpO25vZGU9dG1wfWlmKCFjb2xsYXBzZWQpe25vZGU9cmFuZ2UuZW5kQ29udGFpbmVyO3doaWxlKG5vZGUubm9kZVR5cGU9PTEmJmRvbVV0aWxzLmlzRW1wdHlOb2RlKG5vZGUpJiZkdGQuJHJlbW92ZUVtcHR5W25vZGUudGFnTmFtZV0pe3RtcD1ub2RlLnBhcmVudE5vZGU7cmFuZ2Uuc2V0RW5kQmVmb3JlKG5vZGUpO2RvbVV0aWxzLnJlbW92ZShub2RlKTtub2RlPXRtcH19fXJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7ZG9SZW1vdmUocmFuZ2UpO3JhbmdlLnNlbGVjdCgpfX19O1VFLnBsdWdpbnMuYmxvY2txdW90ZT1mdW5jdGlvbigpe3ZhciBtZT10aGlzO2Z1bmN0aW9uIGdldE9iaihlZGl0b3Ipe3JldHVybiBkb21VdGlscy5maWx0ZXJOb2RlTGlzdChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSwiYmxvY2txdW90ZSIpfW1lLmNvbW1hbmRzLmJsb2NrcXVvdGU9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsYXR0cnMpe3ZhciByYW5nZT10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLG9iaj1nZXRPYmoodGhpcyksYmxvY2txdW90ZT1kdGQuYmxvY2txdW90ZSxib29rbWFyaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO2lmKG9iail7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyLHN0YXJ0QmxvY2s9ZG9tVXRpbHMuaXNCbG9ja0VsbShzdGFydCk/c3RhcnQ6ZG9tVXRpbHMuZmluZFBhcmVudChzdGFydCxmdW5jdGlvbihub2RlKXtyZXR1cm4gZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKX0pLGVuZD1yYW5nZS5lbmRDb250YWluZXIsZW5kQmxvY2s9ZG9tVXRpbHMuaXNCbG9ja0VsbShlbmQpP2VuZDpkb21VdGlscy5maW5kUGFyZW50KGVuZCxmdW5jdGlvbihub2RlKXtyZXR1cm4gZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKX0pO3N0YXJ0QmxvY2s9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydEJsb2NrLCJsaSIsdHJ1ZSl8fHN0YXJ0QmxvY2s7ZW5kQmxvY2s9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbmRCbG9jaywibGkiLHRydWUpfHxlbmRCbG9jaztpZihzdGFydEJsb2NrLnRhZ05hbWU9PSJMSSJ8fHN0YXJ0QmxvY2sudGFnTmFtZT09IlREInx8c3RhcnRCbG9jaz09PW9ianx8ZG9tVXRpbHMuaXNCb2R5KHN0YXJ0QmxvY2spKXtkb21VdGlscy5yZW1vdmUob2JqLHRydWUpfWVsc2V7ZG9tVXRpbHMuYnJlYWtQYXJlbnQoc3RhcnRCbG9jayxvYmopfWlmKHN0YXJ0QmxvY2shPT1lbmRCbG9jayl7b2JqPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoZW5kQmxvY2ssImJsb2NrcXVvdGUiKTtpZihvYmope2lmKGVuZEJsb2NrLnRhZ05hbWU9PSJMSSJ8fGVuZEJsb2NrLnRhZ05hbWU9PSJURCJ8fGRvbVV0aWxzLmlzQm9keShlbmRCbG9jaykpe29iai5wYXJlbnROb2RlJiZkb21VdGlscy5yZW1vdmUob2JqLHRydWUpfWVsc2V7ZG9tVXRpbHMuYnJlYWtQYXJlbnQoZW5kQmxvY2ssb2JqKX19fXZhciBibG9ja3F1b3Rlcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLmRvY3VtZW50LCJibG9ja3F1b3RlIik7Zm9yKHZhciBpPTAsYmk7Ymk9YmxvY2txdW90ZXNbaSsrXTspe2lmKCFiaS5jaGlsZE5vZGVzLmxlbmd0aCl7ZG9tVXRpbHMucmVtb3ZlKGJpKX1lbHNle2lmKGRvbVV0aWxzLmdldFBvc2l0aW9uKGJpLHN0YXJ0QmxvY2spJmRvbVV0aWxzLlBPU0lUSU9OX0ZPTExPV0lORyYmZG9tVXRpbHMuZ2V0UG9zaXRpb24oYmksZW5kQmxvY2spJmRvbVV0aWxzLlBPU0lUSU9OX1BSRUNFRElORyl7ZG9tVXRpbHMucmVtb3ZlKGJpLHRydWUpfX19fWVsc2V7dmFyIHRtcFJhbmdlPXJhbmdlLmNsb25lUmFuZ2UoKSxub2RlPXRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xP3RtcFJhbmdlLnN0YXJ0Q29udGFpbmVyOnRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLnBhcmVudE5vZGUscHJlTm9kZT1ub2RlLGRvRW5kPTE7d2hpbGUoMSl7aWYoZG9tVXRpbHMuaXNCb2R5KG5vZGUpKXtpZihwcmVOb2RlIT09bm9kZSl7aWYocmFuZ2UuY29sbGFwc2VkKXt0bXBSYW5nZS5zZWxlY3ROb2RlKHByZU5vZGUpO2RvRW5kPTB9ZWxzZXt0bXBSYW5nZS5zZXRTdGFydEJlZm9yZShwcmVOb2RlKX19ZWxzZXt0bXBSYW5nZS5zZXRTdGFydChub2RlLDApfWJyZWFrfWlmKCFibG9ja3F1b3RlW25vZGUudGFnTmFtZV0pe2lmKHJhbmdlLmNvbGxhcHNlZCl7dG1wUmFuZ2Uuc2VsZWN0Tm9kZShwcmVOb2RlKX1lbHNle3RtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKHByZU5vZGUpfWJyZWFrfXByZU5vZGU9bm9kZTtub2RlPW5vZGUucGFyZW50Tm9kZX1pZihkb0VuZCl7cHJlTm9kZT1ub2RlPW5vZGU9dG1wUmFuZ2UuZW5kQ29udGFpbmVyLm5vZGVUeXBlPT0xP3RtcFJhbmdlLmVuZENvbnRhaW5lcjp0bXBSYW5nZS5lbmRDb250YWluZXIucGFyZW50Tm9kZTt3aGlsZSgxKXtpZihkb21VdGlscy5pc0JvZHkobm9kZSkpe2lmKHByZU5vZGUhPT1ub2RlKXt0bXBSYW5nZS5zZXRFbmRBZnRlcihwcmVOb2RlKX1lbHNle3RtcFJhbmdlLnNldEVuZChub2RlLG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpfWJyZWFrfWlmKCFibG9ja3F1b3RlW25vZGUudGFnTmFtZV0pe3RtcFJhbmdlLnNldEVuZEFmdGVyKHByZU5vZGUpO2JyZWFrfXByZU5vZGU9bm9kZTtub2RlPW5vZGUucGFyZW50Tm9kZX19bm9kZT1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJibG9ja3F1b3RlIik7ZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhub2RlLGF0dHJzKTtub2RlLmFwcGVuZENoaWxkKHRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpKTt0bXBSYW5nZS5pbnNlcnROb2RlKG5vZGUpO3ZhciBjaGlsZHM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZSwiYmxvY2txdW90ZSIpO2Zvcih2YXIgaT0wLGNpO2NpPWNoaWxkc1tpKytdOyl7aWYoY2kucGFyZW50Tm9kZSl7ZG9tVXRpbHMucmVtb3ZlKGNpLHRydWUpfX19cmFuZ2UubW92ZVRvQm9va21hcmsoYm9va21hcmspLnNlbGVjdCgpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBnZXRPYmoodGhpcyk/MTowfX19O1VFLmNvbW1hbmRzLmluZGVudD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyx2YWx1ZT1tZS5xdWVyeUNvbW1hbmRTdGF0ZSgiaW5kZW50Iik/IjBlbSI6KG1lLm9wdGlvbnMuaW5kZW50VmFsdWV8fCIyZW0iKTttZS5leGVjQ29tbWFuZCgiUGFyYWdyYXBoIiwicCIse3N0eWxlOiJ0ZXh0LWluZGVudDoiK3ZhbHVlfSl9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHBOPWRvbVV0aWxzLmZpbHRlck5vZGVMaXN0KHRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSwicCBoMSBoMiBoMyBoNCBoNSBoNiIpO3JldHVybiBwTiYmcE4uc3R5bGUudGV4dEluZGVudCYmcGFyc2VJbnQocE4uc3R5bGUudGV4dEluZGVudCk/MTowfX07VUUucGx1Z2lucy5zZWxlY3RhbGw9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5jb21tYW5kcy5zZWxlY3RhbGw9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsYm9keT1tZS5ib2R5LHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3JhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhib2R5KTtpZihkb21VdGlscy5pc0VtcHR5QmxvY2soYm9keSkpe2lmKGJyb3dzZXIub3BlcmEmJmJvZHkuZmlyc3RDaGlsZCYmYm9keS5maXJzdENoaWxkLm5vZGVUeXBlPT0xKXtyYW5nZS5zZXRTdGFydEF0Rmlyc3QoYm9keS5maXJzdENoaWxkKX1yYW5nZS5jb2xsYXBzZSh0cnVlKX1yYW5nZS5zZWxlY3QodHJ1ZSl9LG5vdE5lZWRVbmRvOjF9O21lLmFkZHNob3J0Y3V0a2V5KHtzZWxlY3RBbGw6ImN0cmwrNjUifSl9O1VFLnBsdWdpbnMucGFyYWdyYXBoPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsYmxvY2s9ZG9tVXRpbHMuaXNCbG9ja0VsbSxub3RFeGNoYW5nZT1bIlREIiwiTEkiLCJQUkUiXSxkb1BhcmFncmFwaD1mdW5jdGlvbihyYW5nZSxzdHlsZSxhdHRycyxzb3VyY2VDbWROYW1lKXt2YXIgYm9va21hcms9cmFuZ2UuY3JlYXRlQm9va21hcmsoKSxmaWx0ZXJGbj1mdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MT9ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9ImJyIiYmIWRvbVV0aWxzLmlzQm9va21hcmtOb2RlKG5vZGUpOiFkb21VdGlscy5pc1doaXRlc3BhY2Uobm9kZSl9LHBhcmE7cmFuZ2UuZW5sYXJnZSh0cnVlKTt2YXIgYm9va21hcmsyPXJhbmdlLmNyZWF0ZUJvb2ttYXJrKCksY3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShib29rbWFyazIuc3RhcnQsZmFsc2UsZmlsdGVyRm4pLHRtcFJhbmdlPXJhbmdlLmNsb25lUmFuZ2UoKSx0bXBOb2RlO3doaWxlKGN1cnJlbnQmJiEoZG9tVXRpbHMuZ2V0UG9zaXRpb24oY3VycmVudCxib29rbWFyazIuZW5kKSZkb21VdGlscy5QT1NJVElPTl9GT0xMT1dJTkcpKXtpZihjdXJyZW50Lm5vZGVUeXBlPT0zfHwhYmxvY2soY3VycmVudCkpe3RtcFJhbmdlLnNldFN0YXJ0QmVmb3JlKGN1cnJlbnQpO3doaWxlKGN1cnJlbnQmJmN1cnJlbnQhPT1ib29rbWFyazIuZW5kJiYhYmxvY2soY3VycmVudCkpe3RtcE5vZGU9Y3VycmVudDtjdXJyZW50PWRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsZmFsc2UsbnVsbCxmdW5jdGlvbihub2RlKXtyZXR1cm4gIWJsb2NrKG5vZGUpfSl9dG1wUmFuZ2Uuc2V0RW5kQWZ0ZXIodG1wTm9kZSk7cGFyYT1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHN0eWxlKTtpZihhdHRycyl7ZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhwYXJhLGF0dHJzKTtpZihzb3VyY2VDbWROYW1lJiZzb3VyY2VDbWROYW1lPT0iY3VzdG9tc3R5bGUiJiZhdHRycy5zdHlsZSl7cGFyYS5zdHlsZS5jc3NUZXh0PWF0dHJzLnN0eWxlfX1wYXJhLmFwcGVuZENoaWxkKHRtcFJhbmdlLmV4dHJhY3RDb250ZW50cygpKTtpZihkb21VdGlscy5pc0VtcHR5Tm9kZShwYXJhKSl7ZG9tVXRpbHMuZmlsbENoYXIocmFuZ2UuZG9jdW1lbnQscGFyYSl9dG1wUmFuZ2UuaW5zZXJ0Tm9kZShwYXJhKTt2YXIgcGFyZW50PXBhcmEucGFyZW50Tm9kZTtpZihibG9jayhwYXJlbnQpJiYhZG9tVXRpbHMuaXNCb2R5KHBhcmEucGFyZW50Tm9kZSkmJnV0aWxzLmluZGV4T2Yobm90RXhjaGFuZ2UscGFyZW50LnRhZ05hbWUpPT0tMSl7aWYoIShzb3VyY2VDbWROYW1lJiZzb3VyY2VDbWROYW1lPT0iY3VzdG9tc3R5bGUiKSl7cGFyZW50LmdldEF0dHJpYnV0ZSgiZGlyIikmJnBhcmEuc2V0QXR0cmlidXRlKCJkaXIiLHBhcmVudC5nZXRBdHRyaWJ1dGUoImRpciIpKTtwYXJlbnQuc3R5bGUuY3NzVGV4dCYmKHBhcmEuc3R5bGUuY3NzVGV4dD1wYXJlbnQuc3R5bGUuY3NzVGV4dCsiOyIrcGFyYS5zdHlsZS5jc3NUZXh0KTtwYXJlbnQuc3R5bGUudGV4dEFsaWduJiYhcGFyYS5zdHlsZS50ZXh0QWxpZ24mJihwYXJhLnN0eWxlLnRleHRBbGlnbj1wYXJlbnQuc3R5bGUudGV4dEFsaWduKTtwYXJlbnQuc3R5bGUudGV4dEluZGVudCYmIXBhcmEuc3R5bGUudGV4dEluZGVudCYmKHBhcmEuc3R5bGUudGV4dEluZGVudD1wYXJlbnQuc3R5bGUudGV4dEluZGVudCk7cGFyZW50LnN0eWxlLnBhZGRpbmcmJiFwYXJhLnN0eWxlLnBhZGRpbmcmJihwYXJhLnN0eWxlLnBhZGRpbmc9cGFyZW50LnN0eWxlLnBhZGRpbmcpfWlmKGF0dHJzJiYvaFxkL2kudGVzdChwYXJlbnQudGFnTmFtZSkmJiEvaFxkL2kudGVzdChwYXJhLnRhZ05hbWUpKXtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKHBhcmVudCxhdHRycyk7aWYoc291cmNlQ21kTmFtZSYmc291cmNlQ21kTmFtZT09ImN1c3RvbXN0eWxlIiYmYXR0cnMuc3R5bGUpe3BhcmVudC5zdHlsZS5jc3NUZXh0PWF0dHJzLnN0eWxlfWRvbVV0aWxzLnJlbW92ZShwYXJhLHRydWUpO3BhcmE9cGFyZW50fWVsc2V7ZG9tVXRpbHMucmVtb3ZlKHBhcmEucGFyZW50Tm9kZSx0cnVlKX19aWYodXRpbHMuaW5kZXhPZihub3RFeGNoYW5nZSxwYXJlbnQudGFnTmFtZSkhPS0xKXtjdXJyZW50PXBhcmVudH1lbHNle2N1cnJlbnQ9cGFyYX1jdXJyZW50PWRvbVV0aWxzLmdldE5leHREb21Ob2RlKGN1cnJlbnQsZmFsc2UsZmlsdGVyRm4pfWVsc2V7Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LHRydWUsZmlsdGVyRm4pfX1yZXR1cm4gcmFuZ2UubW92ZVRvQm9va21hcmsoYm9va21hcmsyKS5tb3ZlVG9Cb29rbWFyayhib29rbWFyayl9O21lLnNldE9wdCgicGFyYWdyYXBoIix7cDoiIixoMToiIixoMjoiIixoMzoiIixoNDoiIixoNToiIixoNjoiIn0pO21lLmNvbW1hbmRzLnBhcmFncmFwaD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSxzdHlsZSxhdHRycyxzb3VyY2VDbWROYW1lKXt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZihyYW5nZS5jb2xsYXBzZWQpe3ZhciB0eHQ9dGhpcy5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgicCIpO3JhbmdlLmluc2VydE5vZGUodHh0KTtpZihicm93c2VyLmllKXt2YXIgbm9kZT10eHQucHJldmlvdXNTaWJsaW5nO2lmKG5vZGUmJmRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKSl7ZG9tVXRpbHMucmVtb3ZlKG5vZGUpfW5vZGU9dHh0Lm5leHRTaWJsaW5nO2lmKG5vZGUmJmRvbVV0aWxzLmlzV2hpdGVzcGFjZShub2RlKSl7ZG9tVXRpbHMucmVtb3ZlKG5vZGUpfX19cmFuZ2U9ZG9QYXJhZ3JhcGgocmFuZ2Usc3R5bGUsYXR0cnMsc291cmNlQ21kTmFtZSk7aWYodHh0KXtyYW5nZS5zZXRTdGFydEJlZm9yZSh0eHQpLmNvbGxhcHNlKHRydWUpO3BOPXR4dC5wYXJlbnROb2RlO2RvbVV0aWxzLnJlbW92ZSh0eHQpO2lmKGRvbVV0aWxzLmlzQmxvY2tFbG0ocE4pJiZkb21VdGlscy5pc0VtcHR5Tm9kZShwTikpe2RvbVV0aWxzLmZpbGxOb2RlKHRoaXMuZG9jdW1lbnQscE4pfX1pZihicm93c2VyLmdlY2tvJiZyYW5nZS5jb2xsYXBzZWQmJnJhbmdlLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xKXt2YXIgY2hpbGQ9cmFuZ2Uuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldF07aWYoY2hpbGQmJmNoaWxkLm5vZGVUeXBlPT0xJiZjaGlsZC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXN0eWxlKXtyYW5nZS5zZXRTdGFydChjaGlsZCwwKS5jb2xsYXBzZSh0cnVlKX19cmFuZ2Uuc2VsZWN0KCk7cmV0dXJuIHRydWV9LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKCl7dmFyIG5vZGU9ZG9tVXRpbHMuZmlsdGVyTm9kZUxpc3QodGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLCJwIGgxIGgyIGgzIGg0IGg1IGg2Iik7cmV0dXJuIG5vZGU/bm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk6IiJ9fX07VUUucGx1Z2lucy5ob3Jpem9udGFsPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuY29tbWFuZHMuaG9yaXpvbnRhbD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSl7dmFyIG1lPXRoaXM7aWYobWUucXVlcnlDb21tYW5kU3RhdGUoY21kTmFtZSkhPT0tMSl7aWYobWUuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhyIikubGVuZ3RoPT0wKXttZS5leGVjQ29tbWFuZCgiaW5zZXJ0SHRtbCIsJzxociBjbGFzcz0ibW9yZSI+Jyl9ZWxzZXttZS5leGVjQ29tbWFuZCgiaW5zZXJ0SHRtbCIsIjxocj4iKX12YXIgcmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoc3RhcnQubm9kZVR5cGU9PTEmJiFzdGFydC5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XSl7dmFyIHRtcDtpZih0bXA9c3RhcnQuY2hpbGROb2Rlc1tyYW5nZS5zdGFydE9mZnNldC0xXSl7aWYodG1wLm5vZGVUeXBlPT0xJiZ0bXAudGFnTmFtZT09IkhSIil7aWYobWUub3B0aW9ucy5lbnRlclRhZz09InAiKXt0bXA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO3JhbmdlLmluc2VydE5vZGUodG1wKTtyYW5nZS5zZXRTdGFydCh0bXAsMCkuc2V0Q3Vyc29yKCl9ZWxzZXt0bXA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTtyYW5nZS5pbnNlcnROb2RlKHRtcCk7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wKS5zZXRDdXJzb3IoKX19fX1yZXR1cm4gdHJ1ZX19LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGRvbVV0aWxzLmZpbHRlck5vZGVMaXN0KHRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSwidGFibGUiKT8tMTowfX07bWUuYWRkTGlzdGVuZXIoImRlbGtleWRvd24iLGZ1bmN0aW9uKG5hbWUsZXZ0KXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7cm5nLnR4dFRvRWxtQm91bmRhcnkodHJ1ZSk7aWYoZG9tVXRpbHMuaXNTdGFydEluYmxvY2socm5nKSl7dmFyIHRtcE5vZGU9cm5nLnN0YXJ0Q29udGFpbmVyO3ZhciBwcmU9dG1wTm9kZS5wcmV2aW91c1NpYmxpbmc7aWYocHJlJiZkb21VdGlscy5pc1RhZ05vZGUocHJlLCJociIpKXtkb21VdGlscy5yZW1vdmUocHJlKTtybmcuc2VsZWN0KCk7ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTtyZXR1cm4gdHJ1ZX19fSl9O1VFLnBsdWdpbnMucm93c3BhY2luZz1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLnNldE9wdCh7cm93c3BhY2luZ3RvcDpbIjUiLCIxMCIsIjE1IiwiMjAiLCIyNSJdLHJvd3NwYWNpbmdib3R0b206WyI1IiwiMTAiLCIxNSIsIjIwIiwiMjUiXX0pO21lLmNvbW1hbmRzLnJvd3NwYWNpbmc9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsdmFsdWUsZGlyKXt0aGlzLmV4ZWNDb21tYW5kKCJwYXJhZ3JhcGgiLCJwIix7c3R5bGU6Im1hcmdpbi0iK2RpcisiOiIrdmFsdWUrInB4In0pO3JldHVybiB0cnVlfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjbWROYW1lLGRpcil7dmFyIHBOPWRvbVV0aWxzLmZpbHRlck5vZGVMaXN0KHRoaXMuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSxmdW5jdGlvbihub2RlKXtyZXR1cm4gZG9tVXRpbHMuaXNCbG9ja0VsbShub2RlKX0pLHZhbHVlO2lmKHBOKXt2YWx1ZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHBOLCJtYXJnaW4tIitkaXIpLnJlcGxhY2UoL1teXGRdL2csIiIpO3JldHVybiAhdmFsdWU/MDp2YWx1ZX1yZXR1cm4gMH19fTtVRS5wbHVnaW5zLmxpbmVoZWlnaHQ9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zZXRPcHQoe2xpbmVoZWlnaHQ6WyIxIiwiMS41IiwiMS43NSIsIjIiLCIzIiwiNCIsIjUiXX0pO21lLmNvbW1hbmRzLmxpbmVoZWlnaHQ9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsdmFsdWUpe3RoaXMuZXhlY0NvbW1hbmQoInBhcmFncmFwaCIsInAiLHtzdHlsZToibGluZS1oZWlnaHQ6IisodmFsdWU9PSIxIj8ibm9ybWFsIjp2YWx1ZSsiZW0iKX0pO3JldHVybiB0cnVlfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbigpe3ZhciBwTj1kb21VdGlscy5maWx0ZXJOb2RlTGlzdCh0aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCksZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSl9KTtpZihwTil7dmFyIHZhbHVlPWRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUocE4sImxpbmUtaGVpZ2h0Iik7cmV0dXJuIHZhbHVlPT0ibm9ybWFsIj8xOnZhbHVlLnJlcGxhY2UoL1teXGQuXSovaWcsIiIpfX19fTtVRS5wbHVnaW5zLmluc2VydGNvZGU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5yZWFkeShmdW5jdGlvbigpe3V0aWxzLmNzc1J1bGUoInByZSIsInByZXttYXJnaW46LjVlbSAwO3BhZGRpbmc6LjRlbSAuNmVtO2JvcmRlci1yYWRpdXM6OHB4O2JhY2tncm91bmQ6I2Y4ZjhmODt9IixtZS5kb2N1bWVudCl9KTttZS5zZXRPcHQoImluc2VydGNvZGUiLHthczM6IkFjdGlvblNjcmlwdDMiLGJhc2g6IkJhc2gvU2hlbGwiLGNwcDoiQy9DKysiLGNzczoiQ3NzIixjZjoiQ29kZUZ1bmN0aW9uIiwiYyMiOiJDIyIsZGVscGhpOiJEZWxwaGkiLGRpZmY6IkRpZmYiLGVybGFuZzoiRXJsYW5nIixncm9vdnk6Ikdyb292eSIsaHRtbDoiSHRtbCIsamF2YToiSmF2YSIsamZ4OiJKYXZhRngiLGpzOiJKYXZhc2NyaXB0IixwbDoiUGVybCIscGhwOiJQaHAiLHBsYWluOiJQbGFpbiBUZXh0IixwczoiUG93ZXJTaGVsbCIscHl0aG9uOiJQeXRob24iLHJ1Ynk6IlJ1YnkiLHNjYWxhOiJTY2FsYSIsc3FsOiJTcWwiLHZiOiJWYiIseG1sOiJYbWwifSk7bWUuY29tbWFuZHMuaW5zZXJ0Y29kZT17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLGxhbmcpe3ZhciBtZT10aGlzLHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxwcmU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsInByZSIsdHJ1ZSk7aWYocHJlKXtwcmUuY2xhc3NOYW1lPSJicnVzaDoiK2xhbmcrIjt0b29sYmFyOmZhbHNlOyJ9ZWxzZXt2YXIgY29kZT0iIjtpZihybmcuY29sbGFwc2VkKXtjb2RlPWJyb3dzZXIuaWU/KGJyb3dzZXIudmVyc2lvbj44PyIiOiImbmJzcDsiKToiPGJyLz4ifWVsc2V7dmFyIGZyYWc9cm5nLmV4dHJhY3RDb250ZW50cygpO3ZhciBkaXY9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZGl2LmFwcGVuZENoaWxkKGZyYWcpO3V0aWxzLmVhY2goVUUuZmlsdGVyTm9kZShVRS5odG1scGFyc2VyKGRpdi5pbm5lckhUTUwucmVwbGFjZSgvW1xyXHRdL2csIiIpKSxtZS5vcHRpb25zLmZpbHRlclR4dFJ1bGVzKS5jaGlsZHJlbixmdW5jdGlvbihub2RlKXtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb24+OCl7aWYobm9kZS50eXBlPT0iZWxlbWVudCIpe2lmKG5vZGUudGFnTmFtZT09ImJyIil7Y29kZSs9IlxuIn1lbHNle2lmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe3V0aWxzLmVhY2gobm9kZS5jaGlsZHJlbixmdW5jdGlvbihjbil7aWYoY24udHlwZT09ImVsZW1lbnQiKXtpZihjbi50YWdOYW1lPT0iYnIiKXtjb2RlKz0iXG4ifWVsc2V7aWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7Y29kZSs9Y24uaW5uZXJUZXh0KCl9fX1lbHNle2NvZGUrPWNuLmRhdGF9fSk7aWYoIS9cbiQvLnRlc3QoY29kZSkpe2NvZGUrPSJcbiJ9fX19ZWxzZXtjb2RlKz1ub2RlLmRhdGErIlxuIn1pZighbm9kZS5uZXh0U2libGluZygpJiYvXG4kLy50ZXN0KGNvZGUpKXtjb2RlPWNvZGUucmVwbGFjZSgvXG4kLywiIil9fWVsc2V7aWYoYnJvd3Nlci5pZSl7aWYobm9kZS50eXBlPT0iZWxlbWVudCIpe2lmKG5vZGUudGFnTmFtZT09ImJyIil7Y29kZSs9Ijxicj4ifWVsc2V7aWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7dXRpbHMuZWFjaChub2RlLmNoaWxkcmVuLGZ1bmN0aW9uKGNuKXtpZihjbi50eXBlPT0iZWxlbWVudCIpe2lmKGNuLnRhZ05hbWU9PSJiciIpe2NvZGUrPSI8YnI+In1lbHNle2lmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe2NvZGUrPWNuLmlubmVyVGV4dCgpfX19ZWxzZXtjb2RlKz1jbi5kYXRhfX0pO2lmKCEvYnI+JC8udGVzdChjb2RlKSl7Y29kZSs9Ijxicj4ifX19fWVsc2V7Y29kZSs9bm9kZS5kYXRhKyI8YnI+In1pZighbm9kZS5uZXh0U2libGluZygpJiYvPGJyPiQvLnRlc3QoY29kZSkpe2NvZGU9Y29kZS5yZXBsYWNlKC88YnI+JC8sIiIpfX1lbHNle2NvZGUrPShub2RlLnR5cGU9PSJlbGVtZW50Ij8oZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdPyIiOm5vZGUuaW5uZXJUZXh0KCkpOm5vZGUuZGF0YSk7aWYoIS9iclwvP1xzKj4kLy50ZXN0KGNvZGUpKXtpZighbm9kZS5uZXh0U2libGluZygpKXtyZXR1cm59Y29kZSs9Ijxicj4ifX19fSl9bWUuZXhlY0NvbW1hbmQoImluc2VydGh0bWwiLCc8cHJlIGlkPSJjb2RlciJjbGFzcz0iYnJ1c2g6JytsYW5nKyc7dG9vbGJhcjpmYWxzZSI+Jytjb2RlKyI8L3ByZT4iLHRydWUpO3ByZT1tZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY29kZXIiKTtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKHByZSwiaWQiKTt2YXIgdG1wTm9kZT1wcmUucHJldmlvdXNTaWJsaW5nO2lmKHRtcE5vZGUmJih0bXBOb2RlLm5vZGVUeXBlPT0zJiZ0bXBOb2RlLm5vZGVWYWx1ZS5sZW5ndGg9PTEmJmJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbj09Nnx8ZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHRtcE5vZGUpKSl7ZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpfXZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHByZSkpe3JuZy5zZXRTdGFydChwcmUsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfWVsc2V7cm5nLnNlbGVjdE5vZGVDb250ZW50cyhwcmUpLnNlbGVjdCgpfX19LHF1ZXJ5Q29tbWFuZFZhbHVlOmZ1bmN0aW9uKCl7dmFyIHBhdGg9dGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpO3ZhciBsYW5nPSIiO3V0aWxzLmVhY2gocGF0aCxmdW5jdGlvbihub2RlKXtpZihub2RlLm5vZGVOYW1lPT0iUFJFIil7dmFyIG1hdGNoPW5vZGUuY2xhc3NOYW1lLm1hdGNoKC9icnVzaDooW147XSspLyk7bGFuZz1tYXRjaCYmbWF0Y2hbMV0/bWF0Y2hbMV06IiI7cmV0dXJuIGZhbHNlfX0pO3JldHVybiBsYW5nfX07bWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgicHJlIiksZnVuY3Rpb24ocHJlKXt2YXIgYnJzPXByZS5nZXROb2Rlc0J5VGFnTmFtZSgiYnIiKTtpZihicnMubGVuZ3RoKXticm93c2VyLmllJiZicm93c2VyLnZlcnNpb24+OCYmdXRpbHMuZWFjaChicnMsZnVuY3Rpb24oYnIpe3ZhciB0eHQ9VUUudU5vZGUuY3JlYXRlVGV4dCgiXG4iKTtici5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0eHQsYnIpO2JyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYnIpfSk7cmV0dXJufWlmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbj44KXtyZXR1cm59dmFyIGNvZGU9cHJlLmlubmVyVGV4dCgpLnNwbGl0KC9cbi8pO3ByZS5pbm5lckhUTUwoIiIpO3V0aWxzLmVhY2goY29kZSxmdW5jdGlvbihjKXtpZihjLmxlbmd0aCl7cHJlLmFwcGVuZENoaWxkKFVFLnVOb2RlLmNyZWF0ZVRleHQoYykpfXByZS5hcHBlbmRDaGlsZChVRS51Tm9kZS5jcmVhdGVFbGVtZW50KCJiciIpKX0pfSl9KTttZS5hZGRPdXRwdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgicHJlIiksZnVuY3Rpb24ocHJlKXt2YXIgY29kZT0iIjt1dGlscy5lYWNoKHByZS5jaGlsZHJlbixmdW5jdGlvbihuKXtpZihuLnR5cGU9PSJ0ZXh0Iil7Y29kZSs9bi5kYXRhLnJlcGxhY2UoL1sgXS9nLCImbmJzcDsiKS5yZXBsYWNlKC9cbiQvLCIiKX1lbHNle2lmKG4udGFnTmFtZT09ImJyIil7Y29kZSs9IlxuIn1lbHNle2NvZGUrPSghZHRkLiRlbXB0eVtuLnRhZ05hbWVdPyIiOm4uaW5uZXJUZXh0KCkpfX19KTtwcmUuaW5uZXJUZXh0KGNvZGUucmVwbGFjZSgvKCZuYnNwO3xcbikrJC8sIiIpKX0pfSk7bWUubm90TmVlZENvZGVRdWVyeT17aGVscDoxLHVuZG86MSxyZWRvOjEsc291cmNlOjEscHJpbnQ6MSxzZWFyY2hyZXBsYWNlOjEsZnVsbHNjcmVlbjoxLHByZXZpZXc6MSxpbnNlcnRwYXJhZ3JhcGg6MSxlbGVtZW50cGF0aDoxLGluc2VydGNvZGU6MSxpbnNlcnRodG1sOjEsc2VsZWN0YWxsOjF9O3ZhciBvcmdRdWVyeT1tZS5xdWVyeUNvbW1hbmRTdGF0ZTttZS5xdWVyeUNvbW1hbmRTdGF0ZT1mdW5jdGlvbihjbWQpe3ZhciBtZT10aGlzO2lmKCFtZS5ub3ROZWVkQ29kZVF1ZXJ5W2NtZC50b0xvd2VyQ2FzZSgpXSYmbWUuc2VsZWN0aW9uJiZtZS5xdWVyeUNvbW1hbmRWYWx1ZSgiaW5zZXJ0Y29kZSIpKXtyZXR1cm4gLTF9cmV0dXJuIFVFLkVkaXRvci5wcm90b3R5cGUucXVlcnlDb21tYW5kU3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTttZS5hZGRMaXN0ZW5lcigiYmVmb3JlZW50ZXJrZXlkb3duIixmdW5jdGlvbigpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7dmFyIHByZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwicHJlIix0cnVlKTtpZihwcmUpe21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7aWYoIXJuZy5jb2xsYXBzZWQpe3JuZy5kZWxldGVDb250ZW50cygpfWlmKCFicm93c2VyLmllfHxicm93c2VyLmllOWFib3ZlKXt2YXIgdG1wTm9kZT1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpLHByZTtybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlKS5zZXRTdGFydEFmdGVyKHRtcE5vZGUpLmNvbGxhcHNlKHRydWUpO3ZhciBuZXh0PXRtcE5vZGUubmV4dFNpYmxpbmc7aWYoIW5leHQmJighYnJvd3Nlci5pZXx8YnJvd3Nlci52ZXJzaW9uPjEwKSl7cm5nLmluc2VydE5vZGUodG1wTm9kZS5jbG9uZU5vZGUoZmFsc2UpKX1lbHNle3JuZy5zZXRTdGFydEFmdGVyKHRtcE5vZGUpfXByZT10bXBOb2RlLnByZXZpb3VzU2libGluZzt2YXIgdG1wO3doaWxlKHByZSl7dG1wPXByZTtwcmU9cHJlLnByZXZpb3VzU2libGluZztpZighcHJlfHxwcmUubm9kZU5hbWU9PSJCUiIpe3ByZT10bXA7YnJlYWt9fWlmKHByZSl7dmFyIHN0cj0iIjt3aGlsZShwcmUmJnByZS5ub2RlTmFtZSE9IkJSIiYmbmV3IFJlZ0V4cCgiXltcXHMiK2RvbVV0aWxzLmZpbGxDaGFyKyJdKiQiKS50ZXN0KHByZS5ub2RlVmFsdWUpKXtzdHIrPXByZS5ub2RlVmFsdWU7cHJlPXByZS5uZXh0U2libGluZ31pZihwcmUubm9kZU5hbWUhPSJCUiIpe3ZhciBtYXRjaD1wcmUubm9kZVZhbHVlLm1hdGNoKG5ldyBSZWdFeHAoIl4oW1xccyIrZG9tVXRpbHMuZmlsbENoYXIrIl0rKSIpKTtpZihtYXRjaCYmbWF0Y2hbMV0pe3N0cis9bWF0Y2hbMV19fWlmKHN0cil7c3RyPW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cik7cm5nLmluc2VydE5vZGUoc3RyKS5zZXRTdGFydEFmdGVyKHN0cil9fXJuZy5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSl9ZWxzZXtpZihicm93c2VyLnZlcnNpb24+OCl7dmFyIHR4dD1tZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiXG4iKTt2YXIgc3RhcnQ9cm5nLnN0YXJ0Q29udGFpbmVyO2lmKHJuZy5zdGFydE9mZnNldD09MCl7dmFyIHByZU5vZGU9c3RhcnQucHJldmlvdXNTaWJsaW5nO2lmKHByZU5vZGUpe3JuZy5pbnNlcnROb2RlKHR4dCk7dmFyIGZpbGxjaGFyPW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIik7cm5nLnNldFN0YXJ0QWZ0ZXIodHh0KS5pbnNlcnROb2RlKGZpbGxjaGFyKS5zZXRTdGFydChmaWxsY2hhciwwKS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSl9fWVsc2V7cm5nLmluc2VydE5vZGUodHh0KS5zZXRTdGFydEFmdGVyKHR4dCk7dmFyIGZpbGxjaGFyPW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgIik7c3RhcnQ9cm5nLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbcm5nLnN0YXJ0T2Zmc2V0XTtpZihzdGFydCYmIS9eXG4vLnRlc3Qoc3RhcnQubm9kZVZhbHVlKSl7cm5nLnNldFN0YXJ0QmVmb3JlKHR4dCl9cm5nLmluc2VydE5vZGUoZmlsbGNoYXIpLnNldFN0YXJ0KGZpbGxjaGFyLDApLmNvbGxhcHNlKHRydWUpLnNlbGVjdCh0cnVlKX19ZWxzZXt2YXIgdG1wTm9kZT1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3JuZy5pbnNlcnROb2RlKHRtcE5vZGUpO3JuZy5pbnNlcnROb2RlKG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRvbVV0aWxzLmZpbGxDaGFyKSk7cm5nLnNldFN0YXJ0QWZ0ZXIodG1wTm9kZSk7cHJlPXRtcE5vZGUucHJldmlvdXNTaWJsaW5nO3ZhciB0bXA7d2hpbGUocHJlKXt0bXA9cHJlO3ByZT1wcmUucHJldmlvdXNTaWJsaW5nO2lmKCFwcmV8fHByZS5ub2RlTmFtZT09IkJSIil7cHJlPXRtcDticmVha319aWYocHJlKXt2YXIgc3RyPSIiO3doaWxlKHByZSYmcHJlLm5vZGVOYW1lIT0iQlIiJiZuZXcgUmVnRXhwKCJeWyAiK2RvbVV0aWxzLmZpbGxDaGFyKyJdKiQiKS50ZXN0KHByZS5ub2RlVmFsdWUpKXtzdHIrPXByZS5ub2RlVmFsdWU7cHJlPXByZS5uZXh0U2libGluZ31pZihwcmUubm9kZU5hbWUhPSJCUiIpe3ZhciBtYXRjaD1wcmUubm9kZVZhbHVlLm1hdGNoKG5ldyBSZWdFeHAoIl4oWyAiK2RvbVV0aWxzLmZpbGxDaGFyKyJdKykiKSk7aWYobWF0Y2gmJm1hdGNoWzFdKXtzdHIrPW1hdGNoWzFdfX1zdHI9bWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKTtybmcuaW5zZXJ0Tm9kZShzdHIpLnNldFN0YXJ0QWZ0ZXIoc3RyKX1ybmcuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KCl9fW1lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7cmV0dXJuIHRydWV9fSk7bWUuYWRkTGlzdGVuZXIoInRhYmtleWRvd24iLGZ1bmN0aW9uKGNtZCxldnQpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7dmFyIHByZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwicHJlIix0cnVlKTtpZihwcmUpe21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7aWYoZXZ0LnNoaWZ0S2V5KXt9ZWxzZXtpZighcm5nLmNvbGxhcHNlZCl7dmFyIGJrPXJuZy5jcmVhdGVCb29rbWFyaygpO3ZhciBzdGFydD1iay5zdGFydC5wcmV2aW91c1NpYmxpbmc7d2hpbGUoc3RhcnQpe2lmKHByZS5maXJzdENoaWxkPT09c3RhcnQmJiFkb21VdGlscy5pc0JyKHN0YXJ0KSl7cHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICAgICIpLHN0YXJ0KTticmVha31pZihkb21VdGlscy5pc0JyKHN0YXJ0KSl7cHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICAgICIpLHN0YXJ0Lm5leHRTaWJsaW5nKTticmVha31zdGFydD1zdGFydC5wcmV2aW91c1NpYmxpbmd9dmFyIGVuZD1iay5lbmQ7c3RhcnQ9Ymsuc3RhcnQubmV4dFNpYmxpbmc7aWYocHJlLmZpcnN0Q2hpbGQ9PT1iay5zdGFydCl7cHJlLmluc2VydEJlZm9yZShtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICAgICIpLHN0YXJ0Lm5leHRTaWJsaW5nKX13aGlsZShzdGFydCYmc3RhcnQhPT1lbmQpe2lmKGRvbVV0aWxzLmlzQnIoc3RhcnQpJiZzdGFydC5uZXh0U2libGluZyl7aWYoc3RhcnQubmV4dFNpYmxpbmc9PT1lbmQpe2JyZWFrfXByZS5pbnNlcnRCZWZvcmUobWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiAgICAiKSxzdGFydC5uZXh0U2libGluZyl9c3RhcnQ9c3RhcnQubmV4dFNpYmxpbmd9cm5nLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKX1lbHNle3ZhciB0bXBOb2RlPW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIgICAgIik7cm5nLmluc2VydE5vZGUodG1wTm9kZSkuc2V0U3RhcnRBZnRlcih0bXBOb2RlKS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSl9fW1lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7cmV0dXJuIHRydWV9fSk7bWUuYWRkTGlzdGVuZXIoImJlZm9yZWluc2VydGh0bWwiLGZ1bmN0aW9uKGV2dE5hbWUsaHRtbCl7dmFyIG1lPXRoaXMscm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHByZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwicHJlIix0cnVlKTtpZihwcmUpe2lmKCFybmcuY29sbGFwc2VkKXtybmcuZGVsZXRlQ29udGVudHMoKX12YXIgaHRtbHN0cj0iIjtpZihicm93c2VyLmllJiZicm93c2VyLnZlcnNpb24+OCl7dXRpbHMuZWFjaChVRS5maWx0ZXJOb2RlKFVFLmh0bWxwYXJzZXIoaHRtbCksbWUub3B0aW9ucy5maWx0ZXJUeHRSdWxlcykuY2hpbGRyZW4sZnVuY3Rpb24obm9kZSl7aWYobm9kZS50eXBlPT0iZWxlbWVudCIpe2lmKG5vZGUudGFnTmFtZT09ImJyIil7aHRtbHN0cis9IlxuIn1lbHNle2lmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe3V0aWxzLmVhY2gobm9kZS5jaGlsZHJlbixmdW5jdGlvbihjbil7aWYoY24udHlwZT09ImVsZW1lbnQiKXtpZihjbi50YWdOYW1lPT0iYnIiKXtodG1sc3RyKz0iXG4ifWVsc2V7aWYoIWR0ZC4kZW1wdHlbbm9kZS50YWdOYW1lXSl7aHRtbHN0cis9Y24uaW5uZXJUZXh0KCl9fX1lbHNle2h0bWxzdHIrPWNuLmRhdGF9fSk7aWYoIS9cbiQvLnRlc3QoaHRtbHN0cikpe2h0bWxzdHIrPSJcbiJ9fX19ZWxzZXtodG1sc3RyKz1ub2RlLmRhdGErIlxuIn1pZighbm9kZS5uZXh0U2libGluZygpJiYvXG4kLy50ZXN0KGh0bWxzdHIpKXtodG1sc3RyPWh0bWxzdHIucmVwbGFjZSgvXG4kLywiIil9fSk7dmFyIHRtcE5vZGU9bWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodXRpbHMuaHRtbChodG1sc3RyLnJlcGxhY2UoLyZuYnNwOy9nLCIgIikpKTtybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlKS5zZWxlY3ROb2RlKHRtcE5vZGUpLnNlbGVjdCgpfWVsc2V7dmFyIGZyYWc9bWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3V0aWxzLmVhY2goVUUuZmlsdGVyTm9kZShVRS5odG1scGFyc2VyKGh0bWwpLG1lLm9wdGlvbnMuZmlsdGVyVHh0UnVsZXMpLmNoaWxkcmVuLGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUudHlwZT09ImVsZW1lbnQiKXtpZihub2RlLnRhZ05hbWU9PSJiciIpe2ZyYWcuYXBwZW5kQ2hpbGQobWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSl9ZWxzZXtpZighZHRkLiRlbXB0eVtub2RlLnRhZ05hbWVdKXt1dGlscy5lYWNoKG5vZGUuY2hpbGRyZW4sZnVuY3Rpb24oY24pe2lmKGNuLnR5cGU9PSJlbGVtZW50Iil7aWYoY24udGFnTmFtZT09ImJyIil7ZnJhZy5hcHBlbmRDaGlsZChtZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpKX1lbHNle2lmKCFkdGQuJGVtcHR5W25vZGUudGFnTmFtZV0pe2ZyYWcuYXBwZW5kQ2hpbGQobWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodXRpbHMuaHRtbChjbi5pbm5lclRleHQoKS5yZXBsYWNlKC8mbmJzcDsvZywiICIpKSkpfX19ZWxzZXtmcmFnLmFwcGVuZENoaWxkKG1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHV0aWxzLmh0bWwoY24uZGF0YS5yZXBsYWNlKC8mbmJzcDsvZywiICIpKSkpfX0pO2lmKGZyYWcubGFzdENoaWxkLm5vZGVOYW1lIT0iQlIiKXtmcmFnLmFwcGVuZENoaWxkKG1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpfX19fWVsc2V7ZnJhZy5hcHBlbmRDaGlsZChtZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1dGlscy5odG1sKG5vZGUuZGF0YS5yZXBsYWNlKC8mbmJzcDsvZywiICIpKSkpfWlmKCFub2RlLm5leHRTaWJsaW5nKCkmJmZyYWcubGFzdENoaWxkLm5vZGVOYW1lPT0iQlIiKXtmcmFnLnJlbW92ZUNoaWxkKGZyYWcubGFzdENoaWxkKX19KTtybmcuaW5zZXJ0Tm9kZShmcmFnKS5zZWxlY3QoKX1yZXR1cm4gdHJ1ZX19KTttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24oY21kLGV2dCl7dmFyIG1lPXRoaXMsa2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKGtleUNvZGU9PTQwKXt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHByZSxzdGFydD1ybmcuc3RhcnRDb250YWluZXI7aWYocm5nLmNvbGxhcHNlZCYmKHByZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwicHJlIix0cnVlKSkmJiFwcmUubmV4dFNpYmxpbmcpe3ZhciBsYXN0PXByZS5sYXN0Q2hpbGQ7d2hpbGUobGFzdCYmbGFzdC5ub2RlTmFtZT09IkJSIil7bGFzdD1sYXN0LnByZXZpb3VzU2libGluZ31pZihsYXN0PT09c3RhcnR8fHJuZy5zdGFydENvbnRhaW5lcj09PXByZSYmcm5nLnN0YXJ0T2Zmc2V0PT1wcmUuY2hpbGROb2Rlcy5sZW5ndGgpe21lLmV4ZWNDb21tYW5kKCJpbnNlcnRwYXJhZ3JhcGgiKTtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpfX19fSk7bWUuYWRkTGlzdGVuZXIoImRlbGtleWRvd24iLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7cm5nLnR4dFRvRWxtQm91bmRhcnkodHJ1ZSk7dmFyIHN0YXJ0PXJuZy5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc1RhZ05vZGUoc3RhcnQsInByZSIpJiZybmcuY29sbGFwc2VkJiZkb21VdGlscy5pc1N0YXJ0SW5ibG9jayhybmcpKXt2YXIgcD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7ZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQscCk7c3RhcnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCxzdGFydCk7ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0KTtybmcuc2V0U3RhcnQocCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTtyZXR1cm4gdHJ1ZX19KX07VUUucGx1Z2luLnJlZ2lzdGVyKCJhbmNob3IiLGZ1bmN0aW9uKCl7cmV0dXJue2JpbmRFdmVudHM6e3JlYWR5OmZ1bmN0aW9uKCl7dXRpbHMuY3NzUnVsZSgiYW5jaG9yIiwiLmFuY2hvcmNsYXNze2JhY2tncm91bmQ6IHVybCgnIit0aGlzLm9wdGlvbnMudGhlbWVQYXRoK3RoaXMub3B0aW9ucy50aGVtZSsiL2ltYWdlcy9hbmNob3IuZ2lmJykgbm8tcmVwZWF0IHNjcm9sbCBsZWZ0IGNlbnRlciB0cmFuc3BhcmVudDtib3JkZXI6IDFweCBkb3R0ZWQgIzAwMDBGRjtjdXJzb3I6IGF1dG87ZGlzcGxheTogaW5saW5lLWJsb2NrO2hlaWdodDogMTZweDt3aWR0aDogMTVweDt9Iix0aGlzLmRvY3VtZW50KX19LG91dHB1dFJ1bGU6ZnVuY3Rpb24ocm9vdCl7dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCJpbWciKSxmdW5jdGlvbihhKXt2YXIgdmFsO2lmKHZhbD1hLmdldEF0dHIoImFuY2hvcm5hbWUiKSl7YS50YWdOYW1lPSJhIjthLnNldEF0dHIoe2FuY2hvcm5hbWU6IiIsbmFtZTp2YWwsImNsYXNzIjoiIn0pfX0pfSxpbnB1dFJ1bGU6ZnVuY3Rpb24ocm9vdCl7dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCJhIiksZnVuY3Rpb24oYSl7dmFyIHZhbDtpZigodmFsPWEuZ2V0QXR0cigibmFtZSIpKSYmIWEuZ2V0QXR0cigiaHJlZiIpKXthLnRhZ05hbWU9ImltZyI7YS5zZXRBdHRyKHthbmNob3JuYW1lOmEuZ2V0QXR0cigibmFtZSIpLCJjbGFzcyI6ImFuY2hvcmNsYXNzIn0pO2Euc2V0QXR0cigibmFtZSIpfX0pfSxjb21tYW5kczp7YW5jaG9yOntleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQsbmFtZSl7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksaW1nPXJhbmdlLmdldENsb3NlZE5vZGUoKTtpZihpbWcmJmltZy5nZXRBdHRyaWJ1dGUoImFuY2hvcm5hbWUiKSl7aWYobmFtZSl7aW1nLnNldEF0dHJpYnV0ZSgiYW5jaG9ybmFtZSIsbmFtZSl9ZWxzZXtyYW5nZS5zZXRTdGFydEJlZm9yZShpbWcpLnNldEN1cnNvcigpO2RvbVV0aWxzLnJlbW92ZShpbWcpfX1lbHNle2lmKG5hbWUpe3ZhciBhbmNob3I9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKTtyYW5nZS5jb2xsYXBzZSh0cnVlKTtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGFuY2hvcix7YW5jaG9ybmFtZTpuYW1lLCJjbGFzcyI6ImFuY2hvcmNsYXNzIn0pO3JhbmdlLmluc2VydE5vZGUoYW5jaG9yKS5zZXRTdGFydEFmdGVyKGFuY2hvcikuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX19fX19fSk7VUUucGx1Z2lucy53b3JkY291bnQ9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zZXRPcHQoIndvcmRDb3VudCIsdHJ1ZSk7bWUuYWRkTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UiLGZ1bmN0aW9uKCl7bWUuZmlyZUV2ZW50KCJ3b3JkY291bnQiKX0pO3ZhciB0aW1lcjttZS5hZGRMaXN0ZW5lcigicmVhZHkiLGZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7ZG9tVXRpbHMub24obWUuYm9keSwia2V5dXAiLGZ1bmN0aW9uKGV2dCl7dmFyIGNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaCxpZ25vcmVzPXsiMTYiOjEsIjE4IjoxLCIyMCI6MSwiMzciOjEsIjM4IjoxLCIzOSI6MSwiNDAiOjF9O2lmKGNvZGUgaW4gaWdub3Jlcyl7cmV0dXJufWNsZWFyVGltZW91dCh0aW1lcik7dGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe21lLmZpcmVFdmVudCgid29yZGNvdW50Iil9LDIwMCl9KX0pfTtVRS5wbHVnaW4ucmVnaXN0ZXIoIndvcmRpbWFnZSIsZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxpbWFnZXM9W107cmV0dXJue2NvbW1hbmRzOnt3b3JkaW1hZ2U6e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIGltYWdlcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5ib2R5LCJpbWciKTt2YXIgdXJsTGlzdD1bXTtmb3IodmFyIGk9MCxjaTtjaT1pbWFnZXNbaSsrXTspe3ZhciB1cmw9Y2kuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpO3VybCYmdXJsTGlzdC5wdXNoKHVybCl9cmV0dXJuIHVybExpc3R9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7aW1hZ2VzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksImltZyIpO2Zvcih2YXIgaT0wLGNpO2NpPWltYWdlc1tpKytdOyl7aWYoY2kuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpKXtyZXR1cm4gMX19cmV0dXJuIC0xfSxub3ROZWVkVW5kbzp0cnVlfX0saW5wdXRSdWxlOmZ1bmN0aW9uKHJvb3Qpe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiaW1nIiksZnVuY3Rpb24oaW1nKXt2YXIgYXR0cnM9aW1nLmF0dHJzLGZsYWc9cGFyc2VJbnQoYXR0cnMud2lkdGgpPDEyOHx8cGFyc2VJbnQoYXR0cnMuaGVpZ2h0KTw0MyxvcHQ9bWUub3B0aW9ucyxzcmM9b3B0LlVFRElUT1JfSE9NRV9VUkwrInRoZW1lcy9kZWZhdWx0L2ltYWdlcy9zcGFjZXIuZ2lmIjtpZihhdHRycy5zcmMmJi9eKD86KGZpbGU6XC8rKSkvLnRlc3QoYXR0cnMuc3JjKSl7aW1nLnNldEF0dHIoe3dpZHRoOmF0dHJzLndpZHRoLGhlaWdodDphdHRycy5oZWlnaHQsYWx0OmF0dHJzLmFsdCx3b3JkX2ltZzphdHRycy5zcmMsc3JjOnNyYyxzdHlsZToiYmFja2dyb3VuZDp1cmwoIisoZmxhZz9vcHQudGhlbWVQYXRoK29wdC50aGVtZSsiL2ltYWdlcy93b3JkLmdpZiI6b3B0LmxhbmdQYXRoK29wdC5sYW5nKyIvaW1hZ2VzL2xvY2FsaW1hZ2UucG5nIikrIikgbm8tcmVwZWF0IGNlbnRlciBjZW50ZXI7Ym9yZGVyOjFweCBzb2xpZCAjZGRkIn0pfX0pfX19KTtVRS5wbHVnaW5zLmRyYWdkcm9wPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUucmVhZHkoZnVuY3Rpb24oKXtkb21VdGlscy5vbih0aGlzLmJvZHksImRyYWdlbmQiLGZ1bmN0aW9uKCl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTt2YXIgbm9kZT1ybmcuZ2V0Q2xvc2VkTm9kZSgpfHxtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTtpZihub2RlJiZub2RlLnRhZ05hbWU9PSJJTUciKXt2YXIgcHJlPW5vZGUucHJldmlvdXNTaWJsaW5nLG5leHQ7d2hpbGUobmV4dD1ub2RlLm5leHRTaWJsaW5nKXtpZihuZXh0Lm5vZGVUeXBlPT0xJiZuZXh0LnRhZ05hbWU9PSJTUEFOIiYmIW5leHQuZmlyc3RDaGlsZCl7ZG9tVXRpbHMucmVtb3ZlKG5leHQpfWVsc2V7YnJlYWt9fWlmKChwcmUmJnByZS5ub2RlVHlwZT09MSYmIWRvbVV0aWxzLmlzRW1wdHlCbG9jayhwcmUpfHwhcHJlKSYmKCFuZXh0fHxuZXh0JiYhZG9tVXRpbHMuaXNFbXB0eUJsb2NrKG5leHQpKSl7aWYocHJlJiZwcmUudGFnTmFtZT09IlAiJiYhZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHByZSkpe3ByZS5hcHBlbmRDaGlsZChub2RlKTtkb21VdGlscy5tb3ZlQ2hpbGQobmV4dCxwcmUpO2RvbVV0aWxzLnJlbW92ZShuZXh0KX1lbHNle2lmKG5leHQmJm5leHQudGFnTmFtZT09IlAiJiYhZG9tVXRpbHMuaXNFbXB0eUJsb2NrKG5leHQpKXtuZXh0Lmluc2VydEJlZm9yZShub2RlLG5leHQuZmlyc3RDaGlsZCl9fWlmKHByZSYmcHJlLnRhZ05hbWU9PSJQIiYmZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHByZSkpe2RvbVV0aWxzLnJlbW92ZShwcmUpfWlmKG5leHQmJm5leHQudGFnTmFtZT09IlAiJiZkb21VdGlscy5pc0VtcHR5QmxvY2sobmV4dCkpe2RvbVV0aWxzLnJlbW92ZShuZXh0KX1ybmcuc2VsZWN0Tm9kZShub2RlKS5zZWxlY3QoKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpfX19KX0pO21lLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoa2V5Q29kZT09MTMpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksbm9kZTtpZihub2RlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJwIix0cnVlKSl7aWYoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShub2RlLCJ0ZXh0LWFsaWduIik9PSJjZW50ZXIiKXtkb21VdGlscy5yZW1vdmVTdHlsZShub2RlLCJ0ZXh0LWFsaWduIil9fX19KX07VUUucGx1Z2lucy51bmRvPWZ1bmN0aW9uKCl7dmFyIHNhdmVTY2VuZVRpbWVyO3ZhciBtZT10aGlzLG1heFVuZG9Db3VudD1tZS5vcHRpb25zLm1heFVuZG9Db3VudHx8MjAsbWF4SW5wdXRDb3VudD1tZS5vcHRpb25zLm1heElucHV0Q291bnR8fDIwLGZpbGxjaGFyPW5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIrInw8L2hyPiIsImdpIik7dmFyIG5vTmVlZEZpbGxDaGFyVGFncz17b2w6MSx1bDoxLHRhYmxlOjEsdGJvZHk6MSx0cjoxLGJvZHk6MX07dmFyIG9yZ1N0YXRlPW1lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlO2Z1bmN0aW9uIGNvbXBhcmVBZGRyKGluZGV4QSxpbmRleEIpe2lmKGluZGV4QS5sZW5ndGghPWluZGV4Qi5sZW5ndGgpe3JldHVybiAwfWZvcih2YXIgaT0wLGw9aW5kZXhBLmxlbmd0aDtpPGw7aSsrKXtpZihpbmRleEFbaV0hPWluZGV4QltpXSl7cmV0dXJuIDB9fXJldHVybiAxfWZ1bmN0aW9uIGNvbXBhcmVSYW5nZUFkZHJlc3Mocm5nQWRkckEscm5nQWRkckIpe2lmKHJuZ0FkZHJBLmNvbGxhcHNlZCE9cm5nQWRkckIuY29sbGFwc2VkKXtyZXR1cm4gMH1pZighY29tcGFyZUFkZHIocm5nQWRkckEuc3RhcnRBZGRyZXNzLHJuZ0FkZHJCLnN0YXJ0QWRkcmVzcyl8fCFjb21wYXJlQWRkcihybmdBZGRyQS5lbmRBZGRyZXNzLHJuZ0FkZHJCLmVuZEFkZHJlc3MpKXtyZXR1cm4gMH1yZXR1cm4gMX1mdW5jdGlvbiBVbmRvTWFuYWdlcigpe3RoaXMubGlzdD1bXTt0aGlzLmluZGV4PTA7dGhpcy5oYXNVbmRvPWZhbHNlO3RoaXMuaGFzUmVkbz1mYWxzZTt0aGlzLnVuZG89ZnVuY3Rpb24oKXtpZih0aGlzLmhhc1VuZG8pe2lmKCF0aGlzLmxpc3RbdGhpcy5pbmRleC0xXSYmdGhpcy5saXN0Lmxlbmd0aD09MSl7dGhpcy5yZXNldCgpO3JldHVybn13aGlsZSh0aGlzLmxpc3RbdGhpcy5pbmRleF0uY29udGVudD09dGhpcy5saXN0W3RoaXMuaW5kZXgtMV0uY29udGVudCl7dGhpcy5pbmRleC0tO2lmKHRoaXMuaW5kZXg9PTApe3JldHVybiB0aGlzLnJlc3RvcmUoMCl9fXRoaXMucmVzdG9yZSgtLXRoaXMuaW5kZXgpfX07dGhpcy5yZWRvPWZ1bmN0aW9uKCl7aWYodGhpcy5oYXNSZWRvKXt3aGlsZSh0aGlzLmxpc3RbdGhpcy5pbmRleF0uY29udGVudD09dGhpcy5saXN0W3RoaXMuaW5kZXgrMV0uY29udGVudCl7dGhpcy5pbmRleCsrO2lmKHRoaXMuaW5kZXg9PXRoaXMubGlzdC5sZW5ndGgtMSl7cmV0dXJuIHRoaXMucmVzdG9yZSh0aGlzLmluZGV4KX19dGhpcy5yZXN0b3JlKCsrdGhpcy5pbmRleCl9fTt0aGlzLnJlc3RvcmU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcy5lZGl0b3I7dmFyIHNjZW5lPXRoaXMubGlzdFt0aGlzLmluZGV4XTt2YXIgcm9vdD1VRS5odG1scGFyc2VyKHNjZW5lLmNvbnRlbnQucmVwbGFjZShmaWxsY2hhciwiIikpO21lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlPWZhbHNlO21lLmZpbHRlcklucHV0UnVsZShyb290KTttZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZT1vcmdTdGF0ZTttZS5kb2N1bWVudC5ib2R5LmlubmVySFRNTD1yb290LnRvSHRtbCgpO21lLmZpcmVFdmVudCgiYWZ0ZXJzY2VuY2VyZXN0b3JlIik7aWYoYnJvd3Nlci5pZSl7dXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5kb2N1bWVudCwidGQgdGggY2FwdGlvbiBwIiksZnVuY3Rpb24obm9kZSl7aWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUobm9kZSkpe2RvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LG5vZGUpfX0pfXRyeXt2YXIgcm5nPW5ldyBkb20uUmFuZ2UobWUuZG9jdW1lbnQpLm1vdmVUb0FkZHJlc3Moc2NlbmUuYWRkcmVzcyk7cm5nLnNlbGVjdChub05lZWRGaWxsQ2hhclRhZ3Nbcm5nLnN0YXJ0Q29udGFpbmVyLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKX1jYXRjaChlKXt9dGhpcy51cGRhdGUoKTt0aGlzLmNsZWFyS2V5KCk7bWUuZmlyZUV2ZW50KCJyZXNldCIsdHJ1ZSl9O3RoaXMuZ2V0U2NlbmU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcy5lZGl0b3I7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxybmdBZGRyZXNzPXJuZy5jcmVhdGVBZGRyZXNzKGZhbHNlLHRydWUpO21lLmZpcmVFdmVudCgiYmVmb3JlZ2V0c2NlbmUiKTt2YXIgcm9vdD1VRS5odG1scGFyc2VyKG1lLmJvZHkuaW5uZXJIVE1MKTttZS5vcHRpb25zLmF1dG9DbGVhckVtcHR5Tm9kZT1mYWxzZTttZS5maWx0ZXJPdXRwdXRSdWxlKHJvb3QpO21lLm9wdGlvbnMuYXV0b0NsZWFyRW1wdHlOb2RlPW9yZ1N0YXRlO3ZhciBjb250PXJvb3QudG9IdG1sKCk7bWUuZmlyZUV2ZW50KCJhZnRlcmdldHNjZW5lIik7cmV0dXJue2FkZHJlc3M6cm5nQWRkcmVzcyxjb250ZW50OmNvbnR9fTt0aGlzLnNhdmU9ZnVuY3Rpb24obm90Q29tcGFyZVJhbmdlLG5vdFNldEN1cnNvcil7Y2xlYXJUaW1lb3V0KHNhdmVTY2VuZVRpbWVyKTt2YXIgY3VycmVudFNjZW5lPXRoaXMuZ2V0U2NlbmUobm90U2V0Q3Vyc29yKSxsYXN0U2NlbmU9dGhpcy5saXN0W3RoaXMuaW5kZXhdO2lmKGxhc3RTY2VuZSYmbGFzdFNjZW5lLmNvbnRlbnQ9PWN1cnJlbnRTY2VuZS5jb250ZW50JiYobm90Q29tcGFyZVJhbmdlPzE6Y29tcGFyZVJhbmdlQWRkcmVzcyhsYXN0U2NlbmUuYWRkcmVzcyxjdXJyZW50U2NlbmUuYWRkcmVzcykpKXtyZXR1cm59dGhpcy5saXN0PXRoaXMubGlzdC5zbGljZSgwLHRoaXMuaW5kZXgrMSk7dGhpcy5saXN0LnB1c2goY3VycmVudFNjZW5lKTtpZih0aGlzLmxpc3QubGVuZ3RoPm1heFVuZG9Db3VudCl7dGhpcy5saXN0LnNoaWZ0KCl9dGhpcy5pbmRleD10aGlzLmxpc3QubGVuZ3RoLTE7dGhpcy5jbGVhcktleSgpO3RoaXMudXBkYXRlKCl9O3RoaXMudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5oYXNSZWRvPSEhdGhpcy5saXN0W3RoaXMuaW5kZXgrMV07dGhpcy5oYXNVbmRvPSEhdGhpcy5saXN0W3RoaXMuaW5kZXgtMV19O3RoaXMucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLmxpc3Q9W107dGhpcy5pbmRleD0wO3RoaXMuaGFzVW5kbz1mYWxzZTt0aGlzLmhhc1JlZG89ZmFsc2U7dGhpcy5jbGVhcktleSgpfTt0aGlzLmNsZWFyS2V5PWZ1bmN0aW9uKCl7a2V5Y29udD0wO2xhc3RLZXlDb2RlPW51bGx9fW1lLnVuZG9NYW5nZXI9bmV3IFVuZG9NYW5hZ2VyKCk7bWUudW5kb01hbmdlci5lZGl0b3I9bWU7ZnVuY3Rpb24gc2F2ZVNjZW5lKCl7dGhpcy51bmRvTWFuZ2VyLnNhdmUoKX1tZS5hZGRMaXN0ZW5lcigic2F2ZVNjZW5lIixmdW5jdGlvbigpe3ZhciBhcmdzPUFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChhcmd1bWVudHMsMSk7dGhpcy51bmRvTWFuZ2VyLnNhdmUuYXBwbHkodGhpcy51bmRvTWFuZ2VyLGFyZ3MpfSk7bWUuYWRkTGlzdGVuZXIoInJlc2V0IixmdW5jdGlvbih0eXBlLGV4Y2x1ZGUpe2lmKCFleGNsdWRlKXt0aGlzLnVuZG9NYW5nZXIucmVzZXQoKX19KTttZS5jb21tYW5kcy5yZWRvPW1lLmNvbW1hbmRzLnVuZG89e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUpe3RoaXMudW5kb01hbmdlcltjbWROYW1lXSgpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWROYW1lKXtyZXR1cm4gdGhpcy51bmRvTWFuZ2VyWyJoYXMiKyhjbWROYW1lLnRvTG93ZXJDYXNlKCk9PSJ1bmRvIj8iVW5kbyI6IlJlZG8iKV0/MDotMX0sbm90TmVlZFVuZG86MX07dmFyIGtleXM9ezE2OjEsMTc6MSwxODoxLDM3OjEsMzg6MSwzOToxLDQwOjF9LGtleWNvbnQ9MCxsYXN0S2V5Q29kZTt2YXIgaW5wdXRUeXBlPWZhbHNlO21lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXtkb21VdGlscy5vbih0aGlzLmJvZHksImNvbXBvc2l0aW9uc3RhcnQiLGZ1bmN0aW9uKCl7aW5wdXRUeXBlPXRydWV9KTtkb21VdGlscy5vbih0aGlzLmJvZHksImNvbXBvc2l0aW9uZW5kIixmdW5jdGlvbigpe2lucHV0VHlwZT1mYWxzZX0pfSk7bWUuYWRkc2hvcnRjdXRrZXkoe1VuZG86ImN0cmwrOTAiLFJlZG86ImN0cmwrODkifSk7dmFyIGlzQ29sbGFwc2VkPXRydWU7bWUuYWRkTGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIgbWU9dGhpczt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKCFrZXlzW2tleUNvZGVdJiYhZXZ0LmN0cmxLZXkmJiFldnQubWV0YUtleSYmIWV2dC5zaGlmdEtleSYmIWV2dC5hbHRLZXkpe2lmKGlucHV0VHlwZSl7cmV0dXJufWlmKCFtZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5jb2xsYXBzZWQpe21lLnVuZG9NYW5nZXIuc2F2ZShmYWxzZSx0cnVlKTtpc0NvbGxhcHNlZD1mYWxzZTtyZXR1cm59aWYobWUudW5kb01hbmdlci5saXN0Lmxlbmd0aD09MCl7bWUudW5kb01hbmdlci5zYXZlKHRydWUpfWNsZWFyVGltZW91dChzYXZlU2NlbmVUaW1lcik7ZnVuY3Rpb24gc2F2ZShjb250KXtpZihjb250LnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNvbGxhcHNlZCl7Y29udC5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiKX1jb250LnVuZG9NYW5nZXIuc2F2ZShmYWxzZSx0cnVlKTtjb250LmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIil9c2F2ZVNjZW5lVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGlucHV0VHlwZSl7dmFyIGludGVyYWxUaW1lcj1zZXRJbnRlcnZhbChmdW5jdGlvbigpe2lmKCFpbnB1dFR5cGUpe3NhdmUobWUpO2NsZWFySW50ZXJ2YWwoaW50ZXJhbFRpbWVyKX19LDMwMCk7cmV0dXJufXNhdmUobWUpfSwyMDApO2xhc3RLZXlDb2RlPWtleUNvZGU7a2V5Y29udCsrO2lmKGtleWNvbnQ+PW1heElucHV0Q291bnQpe3NhdmUobWUpfX19KTttZS5hZGRMaXN0ZW5lcigia2V5dXAiLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKCFrZXlzW2tleUNvZGVdJiYhZXZ0LmN0cmxLZXkmJiFldnQubWV0YUtleSYmIWV2dC5zaGlmdEtleSYmIWV2dC5hbHRLZXkpe2lmKGlucHV0VHlwZSl7cmV0dXJufWlmKCFpc0NvbGxhcHNlZCl7dGhpcy51bmRvTWFuZ2VyLnNhdmUoZmFsc2UsdHJ1ZSk7aXNDb2xsYXBzZWQ9dHJ1ZX19fSk7bWUuc3RvcENtZFVuZG89ZnVuY3Rpb24oKXttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9dHJ1ZX07bWUuc3RhcnRDbWRVbmRvPWZ1bmN0aW9uKCl7bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPWZhbHNlfX07VUUucGx1Z2lucy5wYXN0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGdldENsaXBib2FyZERhdGEoY2FsbGJhY2spe3ZhciBkb2M9dGhpcy5kb2N1bWVudDtpZihkb2MuZ2V0RWxlbWVudEJ5SWQoImJhaWR1X3Bhc3RlYmluIikpe3JldHVybn12YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpLHBhc3RlYmluPWRvYy5jcmVhdGVFbGVtZW50KCJkaXYiKTtwYXN0ZWJpbi5pZD0iYmFpZHVfcGFzdGViaW4iO2Jyb3dzZXIud2Via2l0JiZwYXN0ZWJpbi5hcHBlbmRDaGlsZChkb2MuY3JlYXRlVGV4dE5vZGUoZG9tVXRpbHMuZmlsbENoYXIrZG9tVXRpbHMuZmlsbENoYXIpKTtkb2MuYm9keS5hcHBlbmRDaGlsZChwYXN0ZWJpbik7Ymsuc3RhcnQuc3R5bGUuZGlzcGxheT0iIjtwYXN0ZWJpbi5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoxcHg7aGVpZ2h0OjFweDtvdmVyZmxvdzpoaWRkZW47bGVmdDotMTAwMHB4O3doaXRlLXNwYWNlOm5vd3JhcDt0b3A6Iitkb21VdGlscy5nZXRYWShiay5zdGFydCkueSsicHgiO3JhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhwYXN0ZWJpbikuc2VsZWN0KHRydWUpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihicm93c2VyLndlYmtpdCl7Zm9yKHZhciBpPTAscGFzdGViaW5zPWRvYy5xdWVyeVNlbGVjdG9yQWxsKCIjYmFpZHVfcGFzdGViaW4iKSxwaTtwaT1wYXN0ZWJpbnNbaSsrXTspe2lmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHBpKSl7ZG9tVXRpbHMucmVtb3ZlKHBpKX1lbHNle3Bhc3RlYmluPXBpO2JyZWFrfX19dHJ5e3Bhc3RlYmluLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGFzdGViaW4pfWNhdGNoKGUpe31yYW5nZS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KHRydWUpO2NhbGxiYWNrKHBhc3RlYmluKX0sMCl9dmFyIG1lPXRoaXM7dmFyIHR4dENvbnRlbnQsaHRtbENvbnRlbnQsYWRkcmVzcztmdW5jdGlvbiBmaWx0ZXIoZGl2KXt2YXIgaHRtbDtpZihkaXYuZmlyc3RDaGlsZCl7dmFyIG5vZGVzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGRpdiwic3BhbiIpO2Zvcih2YXIgaT0wLG5pO25pPW5vZGVzW2krK107KXtpZihuaS5pZD09Il9iYWlkdV9jdXRfc3RhcnQifHxuaS5pZD09Il9iYWlkdV9jdXRfZW5kIil7ZG9tVXRpbHMucmVtb3ZlKG5pKX19aWYoYnJvd3Nlci53ZWJraXQpe3ZhciBicnM9ZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoImRpdiBiciIpO2Zvcih2YXIgaT0wLGJpO2JpPWJyc1tpKytdOyl7dmFyIHBOPWJpLnBhcmVudE5vZGU7aWYocE4udGFnTmFtZT09IkRJViImJnBOLmNoaWxkTm9kZXMubGVuZ3RoPT0xKXtwTi5pbm5lckhUTUw9IjxwPjxici8+PC9wPiI7ZG9tVXRpbHMucmVtb3ZlKHBOKX19dmFyIGRpdnM9ZGl2LnF1ZXJ5U2VsZWN0b3JBbGwoIiNiYWlkdV9wYXN0ZWJpbiIpO2Zvcih2YXIgaT0wLGRpO2RpPWRpdnNbaSsrXTspe3ZhciB0bXBQPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtkaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBQLGRpKTt3aGlsZShkaS5maXJzdENoaWxkKXt0bXBQLmFwcGVuZENoaWxkKGRpLmZpcnN0Q2hpbGQpfWRvbVV0aWxzLnJlbW92ZShkaSl9dmFyIG1ldGFzPWRpdi5xdWVyeVNlbGVjdG9yQWxsKCJtZXRhIik7Zm9yKHZhciBpPTAsY2k7Y2k9bWV0YXNbaSsrXTspe2RvbVV0aWxzLnJlbW92ZShjaSl9dmFyIGJycz1kaXYucXVlcnlTZWxlY3RvckFsbCgiYnIiKTtmb3IoaT0wO2NpPWJyc1tpKytdOyl7aWYoL15hcHBsZS0vaS50ZXN0KGNpLmNsYXNzTmFtZSkpe2RvbVV0aWxzLnJlbW92ZShjaSl9fX1pZihicm93c2VyLmdlY2tvKXt2YXIgZGlydHlOb2Rlcz1kaXYucXVlcnlTZWxlY3RvckFsbCgiW19tb3pfZGlydHldIik7Zm9yKGk9MDtjaT1kaXJ0eU5vZGVzW2krK107KXtjaS5yZW1vdmVBdHRyaWJ1dGUoIl9tb3pfZGlydHkiKX19aWYoIWJyb3dzZXIuaWUpe3ZhciBzcGFucz1kaXYucXVlcnlTZWxlY3RvckFsbCgic3Bhbi5BcHBsZS1zdHlsZS1zcGFuIik7Zm9yKHZhciBpPTAsY2k7Y2k9c3BhbnNbaSsrXTspe2RvbVV0aWxzLnJlbW92ZShjaSx0cnVlKX19aHRtbD1kaXYuaW5uZXJIVE1MO2h0bWw9VUUuZmlsdGVyV29yZChodG1sKTt2YXIgcm9vdD1VRS5odG1scGFyc2VyKGh0bWwpO2lmKG1lLm9wdGlvbnMuZmlsdGVyUnVsZXMpe1VFLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclJ1bGVzKX1tZS5maWx0ZXJJbnB1dFJ1bGUocm9vdCk7aWYoYnJvd3Nlci53ZWJraXQpe3ZhciBicj1yb290Lmxhc3RDaGlsZCgpO2lmKGJyJiZici50eXBlPT0iZWxlbWVudCImJmJyLnRhZ05hbWU9PSJiciIpe3Jvb3QucmVtb3ZlQ2hpbGQoYnIpfXV0aWxzLmVhY2gobWUuYm9keS5xdWVyeVNlbGVjdG9yQWxsKCJkaXYiKSxmdW5jdGlvbihub2RlKXtpZihkb21VdGlscy5pc0VtcHR5QmxvY2sobm9kZSkpe2RvbVV0aWxzLnJlbW92ZShub2RlLHRydWUpfX0pfWh0bWw9e2h0bWw6cm9vdC50b0h0bWwoKX07bWUuZmlyZUV2ZW50KCJiZWZvcmVwYXN0ZSIsaHRtbCxyb290KTtpZighaHRtbC5odG1sKXtyZXR1cm59cm9vdD1VRS5odG1scGFyc2VyKGh0bWwuaHRtbCx0cnVlKTtpZihtZS5xdWVyeUNvbW1hbmRTdGF0ZSgicGFzdGVwbGFpbiIpPT09MSl7bWUuZXhlY0NvbW1hbmQoImluc2VydEh0bWwiLFVFLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclR4dFJ1bGVzKS50b0h0bWwoKSx0cnVlKX1lbHNle1VFLmZpbHRlck5vZGUocm9vdCxtZS5vcHRpb25zLmZpbHRlclR4dFJ1bGVzKTt0eHRDb250ZW50PXJvb3QudG9IdG1sKCk7aHRtbENvbnRlbnQ9aHRtbC5odG1sO2FkZHJlc3M9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuY3JlYXRlQWRkcmVzcyh0cnVlKTttZS5leGVjQ29tbWFuZCgiaW5zZXJ0SHRtbCIsaHRtbENvbnRlbnQsdHJ1ZSl9bWUuZmlyZUV2ZW50KCJhZnRlcnBhc3RlIixodG1sKX19bWUuYWRkTGlzdGVuZXIoInBhc3RlVHJhbnNmZXIiLGZ1bmN0aW9uKGNtZCxwbGFpblR5cGUpe2lmKGFkZHJlc3MmJnR4dENvbnRlbnQmJmh0bWxDb250ZW50JiZ0eHRDb250ZW50IT1odG1sQ29udGVudCl7dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3JhbmdlLm1vdmVUb0FkZHJlc3MoYWRkcmVzcyx0cnVlKTtpZighcmFuZ2UuY29sbGFwc2VkKXt3aGlsZSghZG9tVXRpbHMuaXNCb2R5KHJhbmdlLnN0YXJ0Q29udGFpbmVyKSl7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyO2lmKHN0YXJ0Lm5vZGVUeXBlPT0xKXtzdGFydD1zdGFydC5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0XTtpZighc3RhcnQpe3JhbmdlLnNldFN0YXJ0QmVmb3JlKHJhbmdlLnN0YXJ0Q29udGFpbmVyKTtjb250aW51ZX12YXIgcHJlPXN0YXJ0LnByZXZpb3VzU2libGluZztpZihwcmUmJnByZS5ub2RlVHlwZT09MyYmbmV3IFJlZ0V4cCgiXltcblxyXHQgIitkb21VdGlscy5maWxsQ2hhcisiXSokIikudGVzdChwcmUubm9kZVZhbHVlKSl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUocHJlKX19aWYocmFuZ2Uuc3RhcnRPZmZzZXQ9PTApe3JhbmdlLnNldFN0YXJ0QmVmb3JlKHJhbmdlLnN0YXJ0Q29udGFpbmVyKX1lbHNle2JyZWFrfX13aGlsZSghZG9tVXRpbHMuaXNCb2R5KHJhbmdlLmVuZENvbnRhaW5lcikpe3ZhciBlbmQ9cmFuZ2UuZW5kQ29udGFpbmVyO2lmKGVuZC5ub2RlVHlwZT09MSl7ZW5kPWVuZC5jaGlsZE5vZGVzW3JhbmdlLmVuZE9mZnNldF07aWYoIWVuZCl7cmFuZ2Uuc2V0RW5kQWZ0ZXIocmFuZ2UuZW5kQ29udGFpbmVyKTtjb250aW51ZX12YXIgbmV4dD1lbmQubmV4dFNpYmxpbmc7aWYobmV4dCYmbmV4dC5ub2RlVHlwZT09MyYmbmV3IFJlZ0V4cCgiXltcblxyXHQiK2RvbVV0aWxzLmZpbGxDaGFyKyJdKiQiKS50ZXN0KG5leHQubm9kZVZhbHVlKSl7cmFuZ2Uuc2V0RW5kQWZ0ZXIobmV4dCl9fWlmKHJhbmdlLmVuZE9mZnNldD09cmFuZ2UuZW5kQ29udGFpbmVyW3JhbmdlLmVuZENvbnRhaW5lci5ub2RlVHlwZT09Mz8ibm9kZVZhbHVlIjoiY2hpbGROb2RlcyJdLmxlbmd0aCl7cmFuZ2Uuc2V0RW5kQWZ0ZXIocmFuZ2UuZW5kQ29udGFpbmVyKX1lbHNle2JyZWFrfX19cmFuZ2UuZGVsZXRlQ29udGVudHMoKTtyYW5nZS5zZWxlY3QodHJ1ZSk7bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPXRydWU7dmFyIGh0bWw9aHRtbENvbnRlbnQ7aWYocGxhaW5UeXBlPT09Mil7aHRtbD1odG1sLnJlcGxhY2UoLzwoXC8/KShbXHdcLV0rKShbXj5dKik+L2dpLGZ1bmN0aW9uKGEsYix0YWdOYW1lLGF0dHJzKXt0YWdOYW1lPXRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZih7aW1nOjF9W3RhZ05hbWVdKXtyZXR1cm4gYX1hdHRycz1hdHRycy5yZXBsYWNlKC8oW1x3XC1dKj8pXHMqPVxzKigoIihbXiJdKikiKXwoJyhbXiddKiknKXwoW15ccz5dKykpL2dpLGZ1bmN0aW9uKHN0cixhdHIsdmFsKXtpZih7c3JjOjEsaHJlZjoxLG5hbWU6MX1bYXRyLnRvTG93ZXJDYXNlKCldKXtyZXR1cm4gYXRyKyI9Iit2YWwrIiAifXJldHVybiIifSk7aWYoe3NwYW46MSxkaXY6MX1bdGFnTmFtZV0pe3JldHVybiIifWVsc2V7cmV0dXJuIjwiK2IrdGFnTmFtZSsiICIrdXRpbHMudHJpbShhdHRycykrIj4ifX0pfWVsc2V7aWYocGxhaW5UeXBlKXtodG1sPXR4dENvbnRlbnR9fW1lLmV4ZWNDb21tYW5kKCJpbnNlcnRodG1sIixodG1sLHRydWUpO21lLl9faGFzRW50ZXJFeGVjQ29tbWFuZD1mYWxzZTt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3doaWxlKCFkb21VdGlscy5pc0JvZHkocm5nLnN0YXJ0Q29udGFpbmVyKSYmIXJuZy5zdGFydE9mZnNldCYmcm5nLnN0YXJ0Q29udGFpbmVyW3JuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09Mz8ibm9kZVZhbHVlIjoiY2hpbGROb2RlcyJdLmxlbmd0aCl7cm5nLnNldFN0YXJ0QmVmb3JlKHJuZy5zdGFydENvbnRhaW5lcil9dmFyIHRtcEFkZHJlc3M9cm5nLmNyZWF0ZUFkZHJlc3ModHJ1ZSk7YWRkcmVzcy5lbmRBZGRyZXNzPXRtcEFkZHJlc3Muc3RhcnRBZGRyZXNzfX0pO21lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXtkb21VdGlscy5vbihtZS5ib2R5LCJjdXQiLGZ1bmN0aW9uKCl7dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKCFyYW5nZS5jb2xsYXBzZWQmJm1lLnVuZG9NYW5nZXIpe21lLnVuZG9NYW5nZXIuc2F2ZSgpfX0pO2RvbVV0aWxzLm9uKG1lLmJvZHksYnJvd3Nlci5pZXx8YnJvd3Nlci5vcGVyYT8ia2V5ZG93biI6InBhc3RlIixmdW5jdGlvbihlKXtpZigoYnJvd3Nlci5pZXx8YnJvd3Nlci5vcGVyYSkmJigoIWUuY3RybEtleSYmIWUubWV0YUtleSl8fGUua2V5Q29kZSE9Ijg2Iikpe3JldHVybn1nZXRDbGlwYm9hcmREYXRhLmNhbGwobWUsZnVuY3Rpb24oZGl2KXtmaWx0ZXIoZGl2KX0pfSl9KX07VUUucGx1Z2lucy5saXN0PWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsbm90RXhjaGFuZ2U9e1REOjEsUFJFOjEsQkxPQ0tRVU9URToxfTt2YXIgY3VzdG9tU3R5bGU9e2NuOiJjbi0xLSIsY24xOiJjbi0yLSIsY24yOiJjbi0zLSIsbnVtOiJudW0tMS0iLG51bTE6Im51bS0yLSIsbnVtMjoibnVtLTMtIixkYXNoOiJkYXNoIixkb3Q6ImRvdCJ9O21lLnNldE9wdCh7YXV0b1RyYW5zV29yZFRvTGlzdDpmYWxzZSxpbnNlcnRvcmRlcmVkbGlzdDp7bnVtOiIiLG51bTE6IiIsbnVtMjoiIixjbjoiIixjbjE6IiIsY24yOiIiLGRlY2ltYWw6IiIsImxvd2VyLWFscGhhIjoiIiwibG93ZXItcm9tYW4iOiIiLCJ1cHBlci1hbHBoYSI6IiIsInVwcGVyLXJvbWFuIjoiIn0saW5zZXJ0dW5vcmRlcmVkbGlzdDp7Y2lyY2xlOiIiLGRpc2M6IiIsc3F1YXJlOiIiLGRhc2g6IiIsZG90OiIifSxsaXN0RGVmYXVsdFBhZGRpbmdMZWZ0OiIzMCIsbGlzdGljb25wYXRoOiJodHRwOi8vYnMuYmFpZHUuY29tL2xpc3RpY29uLyIsbWF4TGlzdExldmVsOi0xfSk7ZnVuY3Rpb24gbGlzdFRvQXJyYXkobGlzdCl7dmFyIGFycj1bXTtmb3IodmFyIHAgaW4gbGlzdCl7YXJyLnB1c2gocCl9cmV0dXJuIGFycn12YXIgbGlzdFN0eWxlPXtPTDpsaXN0VG9BcnJheShtZS5vcHRpb25zLmluc2VydG9yZGVyZWRsaXN0KSxVTDpsaXN0VG9BcnJheShtZS5vcHRpb25zLmluc2VydHVub3JkZXJlZGxpc3QpfTt2YXIgbGlpY29ucGF0aD1tZS5vcHRpb25zLmxpc3RpY29ucGF0aDtmb3IodmFyIHMgaW4gY3VzdG9tU3R5bGUpe2lmKCFtZS5vcHRpb25zLmluc2VydG9yZGVyZWRsaXN0Lmhhc093blByb3BlcnR5KHMpJiYhbWUub3B0aW9ucy5pbnNlcnR1bm9yZGVyZWRsaXN0Lmhhc093blByb3BlcnR5KHMpKXtkZWxldGUgY3VzdG9tU3R5bGVbc119fW1lLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIGN1c3RvbUNzcz1bXTtmb3IodmFyIHAgaW4gY3VzdG9tU3R5bGUpe2lmKHA9PSJkYXNoInx8cD09ImRvdCIpe2N1c3RvbUNzcy5wdXNoKCJsaS5saXN0LSIrY3VzdG9tU3R5bGVbcF0rIntiYWNrZ3JvdW5kLWltYWdlOnVybCgiK2xpaWNvbnBhdGgrY3VzdG9tU3R5bGVbcF0rIi5naWYpfSIpO2N1c3RvbUNzcy5wdXNoKCJ1bC5jdXN0b21fIitwKyJ7bGlzdC1zdHlsZTpub25lO311bC5jdXN0b21fIitwKyIgbGl7YmFja2dyb3VuZC1wb3NpdGlvbjowIDNweDtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9Iil9ZWxzZXtmb3IodmFyIGk9MDtpPDk5O2krKyl7Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitjdXN0b21TdHlsZVtwXStpKyJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoIitsaWljb25wYXRoKyJsaXN0LSIrY3VzdG9tU3R5bGVbcF0raSsiLmdpZil9Iil9Y3VzdG9tQ3NzLnB1c2goIm9sLmN1c3RvbV8iK3ArIntsaXN0LXN0eWxlOm5vbmU7fW9sLmN1c3RvbV8iK3ArIiBsaXtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgM3B4O2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdH0iKX1zd2l0Y2gocCl7Y2FzZSJjbiI6Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitwKyItcGFkZGluZ2xlZnQtMXtwYWRkaW5nLWxlZnQ6MjVweH0iKTtjdXN0b21Dc3MucHVzaCgibGkubGlzdC0iK3ArIi1wYWRkaW5nbGVmdC0ye3BhZGRpbmctbGVmdDo0MHB4fSIpO2N1c3RvbUNzcy5wdXNoKCJsaS5saXN0LSIrcCsiLXBhZGRpbmdsZWZ0LTN7cGFkZGluZy1sZWZ0OjU1cHh9Iik7YnJlYWs7Y2FzZSJjbjEiOmN1c3RvbUNzcy5wdXNoKCJsaS5saXN0LSIrcCsiLXBhZGRpbmdsZWZ0LTF7cGFkZGluZy1sZWZ0OjMwcHh9Iik7Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitwKyItcGFkZGluZ2xlZnQtMntwYWRkaW5nLWxlZnQ6NDBweH0iKTtjdXN0b21Dc3MucHVzaCgibGkubGlzdC0iK3ArIi1wYWRkaW5nbGVmdC0ze3BhZGRpbmctbGVmdDo1NXB4fSIpO2JyZWFrO2Nhc2UiY24yIjpjdXN0b21Dc3MucHVzaCgibGkubGlzdC0iK3ArIi1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDo0MHB4fSIpO2N1c3RvbUNzcy5wdXNoKCJsaS5saXN0LSIrcCsiLXBhZGRpbmdsZWZ0LTJ7cGFkZGluZy1sZWZ0OjU1cHh9Iik7Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitwKyItcGFkZGluZ2xlZnQtM3twYWRkaW5nLWxlZnQ6NjhweH0iKTticmVhaztjYXNlIm51bSI6Y2FzZSJudW0xIjpjdXN0b21Dc3MucHVzaCgibGkubGlzdC0iK3ArIi1wYWRkaW5nbGVmdC0xe3BhZGRpbmctbGVmdDoyNXB4fSIpO2JyZWFrO2Nhc2UibnVtMiI6Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitwKyItcGFkZGluZ2xlZnQtMXtwYWRkaW5nLWxlZnQ6MzVweH0iKTtjdXN0b21Dc3MucHVzaCgibGkubGlzdC0iK3ArIi1wYWRkaW5nbGVmdC0ye3BhZGRpbmctbGVmdDo0MHB4fSIpO2JyZWFrO2Nhc2UiZGFzaCI6Y3VzdG9tQ3NzLnB1c2goImxpLmxpc3QtIitwKyItcGFkZGluZ2xlZnR7cGFkZGluZy1sZWZ0OjM1cHh9Iik7YnJlYWs7Y2FzZSJkb3QiOmN1c3RvbUNzcy5wdXNoKCJsaS5saXN0LSIrcCsiLXBhZGRpbmdsZWZ0e3BhZGRpbmctbGVmdDoyMHB4fSIpfX1jdXN0b21Dc3MucHVzaCgiLmxpc3QtcGFkZGluZ2xlZnQtMXtwYWRkaW5nLWxlZnQ6MH0iKTtjdXN0b21Dc3MucHVzaCgiLmxpc3QtcGFkZGluZ2xlZnQtMntwYWRkaW5nLWxlZnQ6IittZS5vcHRpb25zLmxpc3REZWZhdWx0UGFkZGluZ0xlZnQrInB4fSIpO2N1c3RvbUNzcy5wdXNoKCIubGlzdC1wYWRkaW5nbGVmdC0ze3BhZGRpbmctbGVmdDoiK21lLm9wdGlvbnMubGlzdERlZmF1bHRQYWRkaW5nTGVmdCoyKyJweH0iKTt1dGlscy5jc3NSdWxlKCJsaXN0Iiwib2wsdWx7bWFyZ2luOjA7cGFkaW5nOjA7IisoYnJvd3Nlci5pZT8iIjoid2lkdGg6OTUlIikrIn1saXtjbGVhcjpib3RoO30iK2N1c3RvbUNzcy5qb2luKCJcbiIpLG1lLmRvY3VtZW50KX0pO21lLnJlYWR5KGZ1bmN0aW9uKCl7ZG9tVXRpbHMub24obWUuYm9keSwiY3V0IixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGxpO2lmKCFybmcuY29sbGFwc2VkKXtpZihsaT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwibGkiLHRydWUpKXtpZighbGkubmV4dFNpYmxpbmcmJmRvbVV0aWxzLmlzRW1wdHlCbG9jayhsaSkpe3ZhciBwbj1saS5wYXJlbnROb2RlLG5vZGU7aWYobm9kZT1wbi5wcmV2aW91c1NpYmxpbmcpe2RvbVV0aWxzLnJlbW92ZShwbik7cm5nLnNldFN0YXJ0QXRMYXN0KG5vZGUpLmNvbGxhcHNlKHRydWUpO3JuZy5zZWxlY3QodHJ1ZSl9ZWxzZXtpZihub2RlPXBuLm5leHRTaWJsaW5nKXtkb21VdGlscy5yZW1vdmUocG4pO3JuZy5zZXRTdGFydEF0Rmlyc3Qobm9kZSkuY29sbGFwc2UodHJ1ZSk7cm5nLnNlbGVjdCh0cnVlKX1lbHNle3ZhciB0bXBOb2RlPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCx0bXBOb2RlKTtwbi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0bXBOb2RlLHBuKTtkb21VdGlscy5yZW1vdmUocG4pO3JuZy5zZXRTdGFydCh0bXBOb2RlLDApLmNvbGxhcHNlKHRydWUpO3JuZy5zZWxlY3QodHJ1ZSl9fX19fX0pfSl9KTtmdW5jdGlvbiBnZXRTdHlsZShub2RlKXt2YXIgY2xzPW5vZGUuY2xhc3NOYW1lO2lmKGRvbVV0aWxzLmhhc0NsYXNzKG5vZGUsL2N1c3RvbV8vKSl7cmV0dXJuIGNscy5tYXRjaCgvY3VzdG9tXyhcdyspLylbMV19cmV0dXJuIGRvbVV0aWxzLmdldFN0eWxlKG5vZGUsImxpc3Qtc3R5bGUtdHlwZSIpfW1lLmFkZExpc3RlbmVyKCJiZWZvcmVwYXN0ZSIsZnVuY3Rpb24odHlwZSxodG1sKXt2YXIgbWU9dGhpcyxybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksbGk7dmFyIHJvb3Q9VUUuaHRtbHBhcnNlcihodG1sLmh0bWwsdHJ1ZSk7aWYobGk9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsImxpIix0cnVlKSl7dmFyIGxpc3Q9bGkucGFyZW50Tm9kZSx0YWdOYW1lPWxpc3QudGFnTmFtZT09Ik9MIj8idWwiOiJvbCI7dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKHRhZ05hbWUpLGZ1bmN0aW9uKG4pe24udGFnTmFtZT1saXN0LnRhZ05hbWU7bi5zZXRBdHRyKCk7aWYobi5wYXJlbnROb2RlPT09cm9vdCl7dHlwZT1nZXRTdHlsZShsaXN0KXx8KGxpc3QudGFnTmFtZT09Ik9MIj8iZGVjaW1hbCI6ImRpc2MiKX1lbHNle3ZhciBjbGFzc05hbWU9bi5wYXJlbnROb2RlLmdldEF0dHIoImNsYXNzIik7aWYoY2xhc3NOYW1lJiYvY3VzdG9tXy8udGVzdChjbGFzc05hbWUpKXt0eXBlPWNsYXNzTmFtZS5tYXRjaCgvY3VzdG9tXyhcdyspLylbMV19ZWxzZXt0eXBlPW4ucGFyZW50Tm9kZS5nZXRTdHlsZSgibGlzdC1zdHlsZS10eXBlIil9aWYoIXR5cGUpe3R5cGU9bGlzdC50YWdOYW1lPT0iT0wiPyJkZWNpbWFsIjoiZGlzYyJ9fXZhciBpbmRleD11dGlscy5pbmRleE9mKGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLHR5cGUpO2lmKG4ucGFyZW50Tm9kZSE9PXJvb3Qpe2luZGV4PWluZGV4KzE9PWxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLmxlbmd0aD8wOmluZGV4KzF9dmFyIGN1cnJlbnRTdHlsZT1saXN0U3R5bGVbbGlzdC50YWdOYW1lXVtpbmRleF07aWYoY3VzdG9tU3R5bGVbY3VycmVudFN0eWxlXSl7bi5zZXRBdHRyKCJjbGFzcyIsImN1c3RvbV8iK2N1cnJlbnRTdHlsZSl9ZWxzZXtuLnNldFN0eWxlKCJsaXN0LXN0eWxlLXR5cGUiLGN1cnJlbnRTdHlsZSl9fSl9aHRtbC5odG1sPXJvb3QudG9IdG1sKCl9KTttZS5hZGRJbnB1dFJ1bGUoZnVuY3Rpb24ocm9vdCl7dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCJsaSIpLGZ1bmN0aW9uKGxpKXt2YXIgdG1wUD1VRS51Tm9kZS5jcmVhdGVFbGVtZW50KCJwIik7Zm9yKHZhciBpPTAsY2k7Y2k9bGkuY2hpbGRyZW5baV07KXtpZihjaS50eXBlPT0idGV4dCJ8fGR0ZC5wW2NpLnRhZ05hbWVdKXt0bXBQLmFwcGVuZENoaWxkKGNpKX1lbHNle2lmKHRtcFAuZmlyc3RDaGlsZCgpKXtsaS5pbnNlcnRCZWZvcmUodG1wUCxjaSk7dG1wUD1VRS51Tm9kZS5jcmVhdGVFbGVtZW50KCJwIik7aT1pKzJ9ZWxzZXtpKyt9fX1pZih0bXBQLmZpcnN0Q2hpbGQoKSYmIXRtcFAucGFyZW50Tm9kZXx8IWxpLmZpcnN0Q2hpbGQoKSl7bGkuYXBwZW5kQ2hpbGQodG1wUCl9aWYoIXRtcFAuZmlyc3RDaGlsZCgpKXt0bXBQLmlubmVySFRNTChicm93c2VyLmllPyImbmJzcDsiOiI8YnIvPiIpfXZhciBwPWxpLmZpcnN0Q2hpbGQoKTt2YXIgbGFzdENoaWxkPXAubGFzdENoaWxkKCk7aWYobGFzdENoaWxkJiZsYXN0Q2hpbGQudHlwZT09InRleHQiJiYvXlxzKiQvLnRlc3QobGFzdENoaWxkLmRhdGEpKXtwLnJlbW92ZUNoaWxkKGxhc3RDaGlsZCl9fSk7aWYobWUub3B0aW9ucy5hdXRvVHJhbnNXb3JkVG9MaXN0KXt2YXIgb3JkZXJsaXN0dHlwZT17bnVtMTovXlxkK1wpLyxkZWNpbWFsOi9eXGQrXC4vLCJsb3dlci1hbHBoYSI6L15bYS16XStcKS8sInVwcGVyLWFscGhhIjovXltBLVpdK1wuLyxjbjovXltcdTRFMDBcdTRFOENcdTRFMDlcdTU2REJcdTUxNmRcdTRlOTRcdTRlMDNcdTUxNmJcdTRlNWRdK1tcdTMwMDFdLyxjbjI6L15cKFtcdTRFMDBcdTRFOENcdTRFMDlcdTU2REJcdTUxNmRcdTRlOTRcdTRlMDNcdTUxNmJcdTRlNWRdK1wpL30sdW5vcmRlcmxpc3R0eXBlPXtzcXVhcmU6Im4ifTtmdW5jdGlvbiBjaGVja0xpc3RUeXBlKGNvbnRlbnQsY29udGFpbmVyKXt2YXIgc3Bhbj1jb250YWluZXIuZmlyc3RDaGlsZCgpO2lmKHNwYW4mJnNwYW4udHlwZT09ImVsZW1lbnQiJiZzcGFuLnRhZ05hbWU9PSJzcGFuIiYmL1dpbmdkaW5nc3xTeW1ib2wvLnRlc3Qoc3Bhbi5nZXRTdHlsZSgiZm9udC1mYW1pbHkiKSkpe2Zvcih2YXIgcCBpbiB1bm9yZGVybGlzdHR5cGUpe2lmKHVub3JkZXJsaXN0dHlwZVtwXT09c3Bhbi5kYXRhKXtyZXR1cm4gcH19cmV0dXJuImRpc2MifWZvcih2YXIgcCBpbiBvcmRlcmxpc3R0eXBlKXtpZihvcmRlcmxpc3R0eXBlW3BdLnRlc3QoY29udGVudCkpe3JldHVybiBwfX19dXRpbHMuZWFjaChyb290LmdldE5vZGVzQnlUYWdOYW1lKCJwIiksZnVuY3Rpb24obm9kZSl7aWYobm9kZS5nZXRBdHRyKCJjbGFzcyIpIT0iTXNvTGlzdFBhcmFncmFwaCIpe3JldHVybn1ub2RlLnNldFN0eWxlKCJtYXJnaW4iLCIiKTtub2RlLnNldFN0eWxlKCJtYXJnaW4tbGVmdCIsIiIpO25vZGUuc2V0QXR0cigiY2xhc3MiLCIiKTtmdW5jdGlvbiBhcHBlbmRMaShsaXN0LHAsdHlwZSl7aWYobGlzdC50YWdOYW1lPT0ib2wiKXtpZihicm93c2VyLmllKXt2YXIgZmlyc3Q9cC5maXJzdENoaWxkKCk7aWYoZmlyc3QudHlwZT09ImVsZW1lbnQiJiZmaXJzdC50YWdOYW1lPT0ic3BhbiImJm9yZGVybGlzdHR5cGVbdHlwZV0udGVzdChmaXJzdC5pbm5lclRleHQoKSkpe3AucmVtb3ZlQ2hpbGQoZmlyc3QpfX1lbHNle3AuaW5uZXJIVE1MKHAuaW5uZXJIVE1MKCkucmVwbGFjZShvcmRlcmxpc3R0eXBlW3R5cGVdLCIiKSl9fWVsc2V7cC5yZW1vdmVDaGlsZChwLmZpcnN0Q2hpbGQoKSl9dmFyIGxpPVVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoImxpIik7bGkuYXBwZW5kQ2hpbGQocCk7bGlzdC5hcHBlbmRDaGlsZChsaSl9dmFyIHRtcD1ub2RlLHR5cGUsY2FjaGVOb2RlPW5vZGU7aWYobm9kZS5wYXJlbnROb2RlLnRhZ05hbWUhPSJsaSImJih0eXBlPWNoZWNrTGlzdFR5cGUobm9kZS5pbm5lclRleHQoKSxub2RlKSkpe3ZhciBsaXN0PVVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQobWUub3B0aW9ucy5pbnNlcnRvcmRlcmVkbGlzdC5oYXNPd25Qcm9wZXJ0eSh0eXBlKT8ib2wiOiJ1bCIpO2lmKGN1c3RvbVN0eWxlW3R5cGVdKXtsaXN0LnNldEF0dHIoImNsYXNzIiwiY3VzdG9tXyIrdHlwZSl9ZWxzZXtsaXN0LnNldFN0eWxlKCJsaXN0LXN0eWxlLXR5cGUiLHR5cGUpfXdoaWxlKG5vZGUmJm5vZGUucGFyZW50Tm9kZS50YWdOYW1lIT0ibGkiJiZjaGVja0xpc3RUeXBlKG5vZGUuaW5uZXJUZXh0KCksbm9kZSkpe3RtcD1ub2RlLm5leHRTaWJsaW5nKCk7aWYoIXRtcCl7bm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsaXN0LG5vZGUpfWFwcGVuZExpKGxpc3Qsbm9kZSx0eXBlKTtub2RlPXRtcH1pZighbGlzdC5wYXJlbnROb2RlJiZub2RlJiZub2RlLnBhcmVudE5vZGUpe25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGlzdCxub2RlKX19dmFyIHNwYW49Y2FjaGVOb2RlLmZpcnN0Q2hpbGQoKTtpZihzcGFuJiZzcGFuLnR5cGU9PSJlbGVtZW50IiYmc3Bhbi50YWdOYW1lPT0ic3BhbiImJi9eXHMqKCZuYnNwOykrXHMqJC8udGVzdChzcGFuLmlubmVyVGV4dCgpKSl7c3Bhbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNwYW4pfX0pfX0pO21lLmFkZExpc3RlbmVyKCJjb250ZW50Y2hhbmdlIixmdW5jdGlvbigpe2FkanVzdExpc3RTdHlsZShtZS5kb2N1bWVudCl9KTtmdW5jdGlvbiBhZGp1c3RMaXN0U3R5bGUoZG9jLGlnbm9yZSl7dXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShkb2MsIm9sIHVsIiksZnVuY3Rpb24obm9kZSl7aWYoIWRvbVV0aWxzLmluRG9jKG5vZGUsZG9jKSl7cmV0dXJufXZhciBwYXJlbnQ9bm9kZS5wYXJlbnROb2RlO2lmKHBhcmVudC50YWdOYW1lPT1ub2RlLnRhZ05hbWUpe3ZhciBub2RlU3R5bGVUeXBlPWdldFN0eWxlKG5vZGUpfHwobm9kZS50YWdOYW1lPT0iT0wiPyJkZWNpbWFsIjoiZGlzYyIpLHBhcmVudFN0eWxlVHlwZT1nZXRTdHlsZShwYXJlbnQpfHwocGFyZW50LnRhZ05hbWU9PSJPTCI/ImRlY2ltYWwiOiJkaXNjIik7aWYobm9kZVN0eWxlVHlwZT09cGFyZW50U3R5bGVUeXBlKXt2YXIgc3R5bGVJbmRleD11dGlscy5pbmRleE9mKGxpc3RTdHlsZVtub2RlLnRhZ05hbWVdLG5vZGVTdHlsZVR5cGUpO3N0eWxlSW5kZXg9c3R5bGVJbmRleCsxPT1saXN0U3R5bGVbbm9kZS50YWdOYW1lXS5sZW5ndGg/MDpzdHlsZUluZGV4KzE7c2V0TGlzdFN0eWxlKG5vZGUsbGlzdFN0eWxlW25vZGUudGFnTmFtZV1bc3R5bGVJbmRleF0pfX12YXIgaW5kZXg9MCx0eXBlPTI7aWYoZG9tVXRpbHMuaGFzQ2xhc3Mobm9kZSwvY3VzdG9tXy8pKXtpZighKC9bb3VdbC9pLnRlc3QocGFyZW50LnRhZ05hbWUpJiZkb21VdGlscy5oYXNDbGFzcyhwYXJlbnQsL2N1c3RvbV8vKSkpe3R5cGU9MX19ZWxzZXtpZigvW291XWwvaS50ZXN0KHBhcmVudC50YWdOYW1lKSYmZG9tVXRpbHMuaGFzQ2xhc3MocGFyZW50LC9jdXN0b21fLykpe3R5cGU9M319dmFyIHN0eWxlPWRvbVV0aWxzLmdldFN0eWxlKG5vZGUsImxpc3Qtc3R5bGUtdHlwZSIpO3N0eWxlJiYobm9kZS5zdHlsZS5jc3NUZXh0PSJsaXN0LXN0eWxlLXR5cGU6IitzdHlsZSk7bm9kZS5jbGFzc05hbWU9dXRpbHMudHJpbShub2RlLmNsYXNzTmFtZS5yZXBsYWNlKC9saXN0LXBhZGRpbmdsZWZ0LVx3Ky8sIiIpKSsiIGxpc3QtcGFkZGluZ2xlZnQtIit0eXBlO3V0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZSwibGkiKSxmdW5jdGlvbihsaSl7bGkuc3R5bGUuY3NzVGV4dCYmKGxpLnN0eWxlLmNzc1RleHQ9IiIpO2lmKCFsaS5maXJzdENoaWxkKXtkb21VdGlscy5yZW1vdmUobGkpO3JldHVybn1pZihsaS5wYXJlbnROb2RlIT09bm9kZSl7cmV0dXJufWluZGV4Kys7aWYoZG9tVXRpbHMuaGFzQ2xhc3Mobm9kZSwvY3VzdG9tXy8pKXt2YXIgcGFkZGluZ0xlZnQ9MSxjdXJyZW50U3R5bGU9Z2V0U3R5bGUobm9kZSk7aWYobm9kZS50YWdOYW1lPT0iT0wiKXtpZihjdXJyZW50U3R5bGUpe3N3aXRjaChjdXJyZW50U3R5bGUpe2Nhc2UiY24iOmNhc2UiY24xIjpjYXNlImNuMiI6aWYoaW5kZXg+MTAmJihpbmRleCUxMD09MHx8aW5kZXg+MTAmJmluZGV4PDIwKSl7cGFkZGluZ0xlZnQ9Mn1lbHNle2lmKGluZGV4PjIwKXtwYWRkaW5nTGVmdD0zfX1icmVhaztjYXNlIm51bTIiOmlmKGluZGV4Pjkpe3BhZGRpbmdMZWZ0PTJ9fX1saS5jbGFzc05hbWU9Imxpc3QtIitjdXN0b21TdHlsZVtjdXJyZW50U3R5bGVdK2luZGV4KyIgbGlzdC0iK2N1cnJlbnRTdHlsZSsiLXBhZGRpbmdsZWZ0LSIrcGFkZGluZ0xlZnR9ZWxzZXtsaS5jbGFzc05hbWU9Imxpc3QtIitjdXN0b21TdHlsZVtjdXJyZW50U3R5bGVdKyIgbGlzdC0iK2N1cnJlbnRTdHlsZSsiLXBhZGRpbmdsZWZ0In19ZWxzZXtsaS5jbGFzc05hbWU9bGkuY2xhc3NOYW1lLnJlcGxhY2UoL2xpc3QtW1x3XC1dKy9naSwiIil9dmFyIGNsYXNzTmFtZT1saS5nZXRBdHRyaWJ1dGUoImNsYXNzIik7aWYoY2xhc3NOYW1lIT09bnVsbCYmIWNsYXNzTmFtZS5yZXBsYWNlKC9ccy9nLCIiKSl7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhsaSwiY2xhc3MiKX19KTshaWdub3JlJiZhZGp1c3RMaXN0KG5vZGUsbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCksZ2V0U3R5bGUobm9kZSl8fGRvbVV0aWxzLmdldFN0eWxlKG5vZGUsImxpc3Qtc3R5bGUtdHlwZSIpLHRydWUpfSl9ZnVuY3Rpb24gYWRqdXN0TGlzdChsaXN0LHRhZyxzdHlsZSxpZ25vcmVFbXB0eSl7dmFyIG5leHRMaXN0PWxpc3QubmV4dFNpYmxpbmc7aWYobmV4dExpc3QmJm5leHRMaXN0Lm5vZGVUeXBlPT0xJiZuZXh0TGlzdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PXRhZyYmKGdldFN0eWxlKG5leHRMaXN0KXx8ZG9tVXRpbHMuZ2V0U3R5bGUobmV4dExpc3QsImxpc3Qtc3R5bGUtdHlwZSIpfHwodGFnPT0ib2wiPyJkZWNpbWFsIjoiZGlzYyIpKT09c3R5bGUpe2RvbVV0aWxzLm1vdmVDaGlsZChuZXh0TGlzdCxsaXN0KTtpZihuZXh0TGlzdC5jaGlsZE5vZGVzLmxlbmd0aD09MCl7ZG9tVXRpbHMucmVtb3ZlKG5leHRMaXN0KX19aWYobmV4dExpc3QmJmRvbVV0aWxzLmlzRmlsbENoYXIobmV4dExpc3QpKXtkb21VdGlscy5yZW1vdmUobmV4dExpc3QpfXZhciBwcmVMaXN0PWxpc3QucHJldmlvdXNTaWJsaW5nO2lmKHByZUxpc3QmJnByZUxpc3Qubm9kZVR5cGU9PTEmJnByZUxpc3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT10YWcmJihnZXRTdHlsZShwcmVMaXN0KXx8ZG9tVXRpbHMuZ2V0U3R5bGUocHJlTGlzdCwibGlzdC1zdHlsZS10eXBlIil8fCh0YWc9PSJvbCI/ImRlY2ltYWwiOiJkaXNjIikpPT1zdHlsZSl7ZG9tVXRpbHMubW92ZUNoaWxkKGxpc3QscHJlTGlzdCl9aWYocHJlTGlzdCYmZG9tVXRpbHMuaXNGaWxsQ2hhcihwcmVMaXN0KSl7ZG9tVXRpbHMucmVtb3ZlKHByZUxpc3QpfSFpZ25vcmVFbXB0eSYmZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGxpc3QpJiZkb21VdGlscy5yZW1vdmUobGlzdCk7aWYoZ2V0U3R5bGUobGlzdCkpe2FkanVzdExpc3RTdHlsZShsaXN0Lm93bmVyRG9jdW1lbnQsdHJ1ZSl9fWZ1bmN0aW9uIHNldExpc3RTdHlsZShsaXN0LHN0eWxlKXtpZihjdXN0b21TdHlsZVtzdHlsZV0pe2xpc3QuY2xhc3NOYW1lPSJjdXN0b21fIitzdHlsZX10cnl7ZG9tVXRpbHMuc2V0U3R5bGUobGlzdCwibGlzdC1zdHlsZS10eXBlIixzdHlsZSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBjbGVhckVtcHR5U2libGluZyhub2RlKXt2YXIgdG1wTm9kZT1ub2RlLnByZXZpb3VzU2libGluZztpZih0bXBOb2RlJiZkb21VdGlscy5pc0VtcHR5QmxvY2sodG1wTm9kZSkpe2RvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKX10bXBOb2RlPW5vZGUubmV4dFNpYmxpbmc7aWYodG1wTm9kZSYmZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHRtcE5vZGUpKXtkb21VdGlscy5yZW1vdmUodG1wTm9kZSl9fW1lLmFkZExpc3RlbmVyKCJrZXlkb3duIixmdW5jdGlvbih0eXBlLGV2dCl7ZnVuY3Rpb24gcHJldmVudEFuZFNhdmUoKXtldnQucHJldmVudERlZmF1bHQ/ZXZ0LnByZXZlbnREZWZhdWx0KCk6KGV2dC5yZXR1cm5WYWx1ZT1mYWxzZSk7bWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7bWUudW5kb01hbmdlciYmbWUudW5kb01hbmdlci5zYXZlKCl9ZnVuY3Rpb24gZmluZExpc3Qobm9kZSxmaWx0ZXJGbil7d2hpbGUobm9kZSYmIWRvbVV0aWxzLmlzQm9keShub2RlKSl7aWYoZmlsdGVyRm4obm9kZSkpe3JldHVybiBudWxsfWlmKG5vZGUubm9kZVR5cGU9PTEmJi9bb3VdbC9pLnRlc3Qobm9kZS50YWdOYW1lKSl7cmV0dXJuIG5vZGV9bm9kZT1ub2RlLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaDtpZihrZXlDb2RlPT0xMyYmIWV2dC5zaGlmdEtleSl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxwYXJlbnQ9ZG9tVXRpbHMuZmluZFBhcmVudChybmcuc3RhcnRDb250YWluZXIsZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSl9LHRydWUpLGxpPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYocGFyZW50JiZwYXJlbnQudGFnTmFtZSE9IlBSRSImJiFsaSl7dmFyIGh0bWw9cGFyZW50LmlubmVySFRNTC5yZXBsYWNlKG5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsImciKSwiIik7aWYoL15ccyoxXHMqXC5bXlxkXS8udGVzdChodG1sKSl7cGFyZW50LmlubmVySFRNTD1odG1sLnJlcGxhY2UoL15ccyoxXHMqXC4vLCIiKTtybmcuc2V0U3RhcnRBdExhc3QocGFyZW50KS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QoKTttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9dHJ1ZTttZS5leGVjQ29tbWFuZCgiaW5zZXJ0b3JkZXJlZGxpc3QiKTttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9ZmFsc2V9fXZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydD1maW5kTGlzdChyYW5nZS5zdGFydENvbnRhaW5lcixmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS50YWdOYW1lPT0iVEFCTEUifSksZW5kPXJhbmdlLmNvbGxhcHNlZD9zdGFydDpmaW5kTGlzdChyYW5nZS5lbmRDb250YWluZXIsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUudGFnTmFtZT09IlRBQkxFIn0pO2lmKHN0YXJ0JiZlbmQmJnN0YXJ0PT09ZW5kKXtpZighcmFuZ2UuY29sbGFwc2VkKXtzdGFydD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7ZW5kPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2UuZW5kQ29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYoc3RhcnQmJmVuZCYmc3RhcnQ9PT1lbmQpe3JhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7bGk9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwibGkiLHRydWUpO2lmKGxpJiZkb21VdGlscy5pc0VtcHR5QmxvY2sobGkpKXtwcmU9bGkucHJldmlvdXNTaWJsaW5nO25leHQ9bGkubmV4dFNpYmxpbmc7cD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7ZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQscCk7cGFyZW50TGlzdD1saS5wYXJlbnROb2RlO2lmKHByZSYmbmV4dCl7cmFuZ2Uuc2V0U3RhcnQobmV4dCwwKS5jb2xsYXBzZSh0cnVlKS5zZWxlY3QodHJ1ZSk7ZG9tVXRpbHMucmVtb3ZlKGxpKX1lbHNle2lmKCFwcmUmJiFuZXh0fHwhcHJlKXtwYXJlbnRMaXN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAscGFyZW50TGlzdCl9ZWxzZXtsaS5wYXJlbnROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAscGFyZW50TGlzdC5uZXh0U2libGluZyl9ZG9tVXRpbHMucmVtb3ZlKGxpKTtpZighcGFyZW50TGlzdC5maXJzdENoaWxkKXtkb21VdGlscy5yZW1vdmUocGFyZW50TGlzdCl9cmFuZ2Uuc2V0U3RhcnQocCwwKS5zZXRDdXJzb3IoKX1wcmV2ZW50QW5kU2F2ZSgpO3JldHVybn19ZWxzZXt2YXIgdG1wUmFuZ2U9cmFuZ2UuY2xvbmVSYW5nZSgpLGJrPXRtcFJhbmdlLmNvbGxhcHNlKGZhbHNlKS5jcmVhdGVCb29rbWFyaygpO3JhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7dG1wUmFuZ2UubW92ZVRvQm9va21hcmsoYmspO3ZhciBsaT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRtcFJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7Y2xlYXJFbXB0eVNpYmxpbmcobGkpO3RtcFJhbmdlLnNlbGVjdCgpO3ByZXZlbnRBbmRTYXZlKCk7cmV0dXJufX1saT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYobGkpe2lmKGRvbVV0aWxzLmlzRW1wdHlCbG9jayhsaSkpe2JrPXJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7dmFyIHBhcmVudExpc3Q9bGkucGFyZW50Tm9kZTtpZihsaSE9PXBhcmVudExpc3QubGFzdENoaWxkKXtkb21VdGlscy5icmVha1BhcmVudChsaSxwYXJlbnRMaXN0KTtjbGVhckVtcHR5U2libGluZyhsaSl9ZWxzZXtwYXJlbnRMaXN0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpLHBhcmVudExpc3QubmV4dFNpYmxpbmcpO2lmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHBhcmVudExpc3QpKXtkb21VdGlscy5yZW1vdmUocGFyZW50TGlzdCl9fWlmKCFkdGQuJGxpc3RbbGkucGFyZW50Tm9kZS50YWdOYW1lXSl7aWYoIWRvbVV0aWxzLmlzQmxvY2tFbG0obGkuZmlyc3RDaGlsZCkpe3A9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2xpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsbGkpO3doaWxlKGxpLmZpcnN0Q2hpbGQpe3AuYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCl9ZG9tVXRpbHMucmVtb3ZlKGxpKX1lbHNle2RvbVV0aWxzLnJlbW92ZShsaSx0cnVlKX19cmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpfWVsc2V7dmFyIGZpcnN0PWxpLmZpcnN0Q2hpbGQ7aWYoIWZpcnN0fHwhZG9tVXRpbHMuaXNCbG9ja0VsbShmaXJzdCkpe3ZhciBwPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTshbGkuZmlyc3RDaGlsZCYmZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQscCk7d2hpbGUobGkuZmlyc3RDaGlsZCl7cC5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKX1saS5hcHBlbmRDaGlsZChwKTtmaXJzdD1wfXZhciBzcGFuPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtyYW5nZS5pbnNlcnROb2RlKHNwYW4pO2RvbVV0aWxzLmJyZWFrUGFyZW50KHNwYW4sbGkpO3ZhciBuZXh0TGk9c3Bhbi5uZXh0U2libGluZztmaXJzdD1uZXh0TGkuZmlyc3RDaGlsZDtpZighZmlyc3Qpe3A9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2RvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LHApO25leHRMaS5hcHBlbmRDaGlsZChwKTtmaXJzdD1wfWlmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKGZpcnN0KSl7Zmlyc3QuaW5uZXJIVE1MPSIiO2RvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LGZpcnN0KX1yYW5nZS5zZXRTdGFydChmaXJzdCwwKS5jb2xsYXBzZSh0cnVlKS5zaHJpbmtCb3VuZGFyeSgpLnNlbGVjdCgpO2RvbVV0aWxzLnJlbW92ZShzcGFuKTt2YXIgcHJlPW5leHRMaS5wcmV2aW91c1NpYmxpbmc7aWYocHJlJiZkb21VdGlscy5pc0VtcHR5QmxvY2socHJlKSl7cHJlLmlubmVySFRNTD0iPHA+PC9wPiI7ZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQscHJlLmZpcnN0Q2hpbGQpfX1wcmV2ZW50QW5kU2F2ZSgpfX19aWYoa2V5Q29kZT09OCl7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocmFuZ2UuY29sbGFwc2VkJiZkb21VdGlscy5pc1N0YXJ0SW5ibG9jayhyYW5nZSkpe3RtcFJhbmdlPXJhbmdlLmNsb25lUmFuZ2UoKS50cmltQm91bmRhcnkoKTtsaT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCJsaSIsdHJ1ZSk7aWYobGkmJmRvbVV0aWxzLmlzU3RhcnRJbmJsb2NrKHRtcFJhbmdlKSl7c3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwicCIsdHJ1ZSk7aWYoc3RhcnQmJnN0YXJ0IT09bGkuZmlyc3RDaGlsZCl7dmFyIHBhcmVudExpc3Q9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCxbIm9sIiwidWwiXSk7ZG9tVXRpbHMuYnJlYWtQYXJlbnQoc3RhcnQscGFyZW50TGlzdCk7Y2xlYXJFbXB0eVNpYmxpbmcoc3RhcnQpO21lLmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpO3JhbmdlLnNldFN0YXJ0KHN0YXJ0LDApLnNldEN1cnNvcihmYWxzZSx0cnVlKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO2RvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCk7cmV0dXJufWlmKGxpJiYocHJlPWxpLnByZXZpb3VzU2libGluZykpe2lmKGtleUNvZGU9PTQ2JiZsaS5jaGlsZE5vZGVzLmxlbmd0aCl7cmV0dXJufWlmKGR0ZC4kbGlzdFtwcmUudGFnTmFtZV0pe3ByZT1wcmUubGFzdENoaWxkfW1lLnVuZG9NYW5nZXImJm1lLnVuZG9NYW5nZXIuc2F2ZSgpO2ZpcnN0PWxpLmZpcnN0Q2hpbGQ7aWYoZG9tVXRpbHMuaXNCbG9ja0VsbShmaXJzdCkpe2lmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKGZpcnN0KSl7cHJlLmFwcGVuZENoaWxkKGZpcnN0KTtyYW5nZS5zZXRTdGFydChmaXJzdCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7d2hpbGUobGkuZmlyc3RDaGlsZCl7cHJlLmFwcGVuZENoaWxkKGxpLmZpcnN0Q2hpbGQpfX1lbHNle3NwYW49bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3JhbmdlLmluc2VydE5vZGUoc3Bhbik7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHByZSkpe3ByZS5pbm5lckhUTUw9IiJ9ZG9tVXRpbHMubW92ZUNoaWxkKGxpLHByZSk7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoc3BhbikuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpO2RvbVV0aWxzLnJlbW92ZShzcGFuKX19ZWxzZXtpZihkb21VdGlscy5pc0VtcHR5Tm9kZShsaSkpe3ZhciBwPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtwcmUuYXBwZW5kQ2hpbGQocCk7cmFuZ2Uuc2V0U3RhcnQocCwwKS5zZXRDdXJzb3IoKX1lbHNle3JhbmdlLnNldEVuZChwcmUscHJlLmNoaWxkTm9kZXMubGVuZ3RoKS5jb2xsYXBzZSgpLnNlbGVjdCh0cnVlKTt3aGlsZShsaS5maXJzdENoaWxkKXtwcmUuYXBwZW5kQ2hpbGQobGkuZmlyc3RDaGlsZCl9fX1kb21VdGlscy5yZW1vdmUobGkpO21lLmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTtyZXR1cm59aWYobGkmJiFsaS5wcmV2aW91c1NpYmxpbmcpe3ZhciBwYXJlbnRMaXN0PWxpLnBhcmVudE5vZGU7dmFyIGJrPXJhbmdlLmNyZWF0ZUJvb2ttYXJrKCk7aWYoZG9tVXRpbHMuaXNUYWdOb2RlKHBhcmVudExpc3QucGFyZW50Tm9kZSwib2wgdWwiKSl7cGFyZW50TGlzdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShsaSxwYXJlbnRMaXN0KTtpZihkb21VdGlscy5pc0VtcHR5Tm9kZShwYXJlbnRMaXN0KSl7ZG9tVXRpbHMucmVtb3ZlKHBhcmVudExpc3QpfX1lbHNle3doaWxlKGxpLmZpcnN0Q2hpbGQpe3BhcmVudExpc3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobGkuZmlyc3RDaGlsZCxwYXJlbnRMaXN0KX1kb21VdGlscy5yZW1vdmUobGkpO2lmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKHBhcmVudExpc3QpKXtkb21VdGlscy5yZW1vdmUocGFyZW50TGlzdCl9fXJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7bWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpO3JldHVybn19fX19KTttZS5hZGRMaXN0ZW5lcigia2V5dXAiLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKGtleUNvZGU9PTgpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksbGlzdDtpZihsaXN0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLFsib2wiLCJ1bCJdLHRydWUpKXthZGp1c3RMaXN0KGxpc3QsbGlzdC50YWdOYW1lLnRvTG93ZXJDYXNlKCksZ2V0U3R5bGUobGlzdCl8fGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUobGlzdCwibGlzdC1zdHlsZS10eXBlIiksdHJ1ZSl9fX0pO21lLmFkZExpc3RlbmVyKCJ0YWJrZXlkb3duIixmdW5jdGlvbigpe3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtmdW5jdGlvbiBjaGVja0xldmVsKGxpKXtpZihtZS5vcHRpb25zLm1heExpc3RMZXZlbCE9LTEpe3ZhciBsZXZlbD1saS5wYXJlbnROb2RlLGxldmVsTnVtPTA7d2hpbGUoL1tvdV1sL2kudGVzdChsZXZlbC50YWdOYW1lKSl7bGV2ZWxOdW0rKztsZXZlbD1sZXZlbC5wYXJlbnROb2RlfWlmKGxldmVsTnVtPj1tZS5vcHRpb25zLm1heExpc3RMZXZlbCl7cmV0dXJuIHRydWV9fX12YXIgbGk9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwibGkiLHRydWUpO2lmKGxpKXt2YXIgYms7aWYocmFuZ2UuY29sbGFwc2VkKXtpZihjaGVja0xldmVsKGxpKSl7cmV0dXJuIHRydWV9dmFyIHBhcmVudExpPWxpLnBhcmVudE5vZGUsbGlzdD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHBhcmVudExpLnRhZ05hbWUpLGluZGV4PXV0aWxzLmluZGV4T2YobGlzdFN0eWxlW2xpc3QudGFnTmFtZV0sZ2V0U3R5bGUocGFyZW50TGkpfHxkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHBhcmVudExpLCJsaXN0LXN0eWxlLXR5cGUiKSk7aW5kZXg9aW5kZXgrMT09bGlzdFN0eWxlW2xpc3QudGFnTmFtZV0ubGVuZ3RoPzA6aW5kZXgrMTt2YXIgY3VycmVudFN0eWxlPWxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdW2luZGV4XTtzZXRMaXN0U3R5bGUobGlzdCxjdXJyZW50U3R5bGUpO2lmKGRvbVV0aWxzLmlzU3RhcnRJbmJsb2NrKHJhbmdlKSl7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtiaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO3BhcmVudExpLmluc2VydEJlZm9yZShsaXN0LGxpKTtsaXN0LmFwcGVuZENoaWxkKGxpKTthZGp1c3RMaXN0KGxpc3QsbGlzdC50YWdOYW1lLnRvTG93ZXJDYXNlKCksY3VycmVudFN0eWxlKTttZS5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiKTtyYW5nZS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KHRydWUpO3JldHVybiB0cnVlfX1lbHNle21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7Yms9cmFuZ2UuY3JlYXRlQm9va21hcmsoKTtmb3IodmFyIGk9MCxjbG9zZUxpc3QscGFyZW50cz1kb21VdGlscy5maW5kUGFyZW50cyhsaSksY2k7Y2k9cGFyZW50c1tpKytdOyl7aWYoZG9tVXRpbHMuaXNUYWdOb2RlKGNpLCJvbCB1bCIpKXtjbG9zZUxpc3Q9Y2k7YnJlYWt9fXZhciBjdXJyZW50PWxpO2lmKGJrLmVuZCl7d2hpbGUoY3VycmVudCYmIShkb21VdGlscy5nZXRQb3NpdGlvbihjdXJyZW50LGJrLmVuZCkmZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSl7aWYoY2hlY2tMZXZlbChjdXJyZW50KSl7Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLG51bGwsZnVuY3Rpb24obm9kZSl7cmV0dXJuIG5vZGUhPT1jbG9zZUxpc3R9KTtjb250aW51ZX12YXIgcGFyZW50TGk9Y3VycmVudC5wYXJlbnROb2RlLGxpc3Q9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChwYXJlbnRMaS50YWdOYW1lKSxpbmRleD11dGlscy5pbmRleE9mKGxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdLGdldFN0eWxlKHBhcmVudExpKXx8ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnRMaSwibGlzdC1zdHlsZS10eXBlIikpO3ZhciBjdXJyZW50SW5kZXg9aW5kZXgrMT09bGlzdFN0eWxlW2xpc3QudGFnTmFtZV0ubGVuZ3RoPzA6aW5kZXgrMTt2YXIgY3VycmVudFN0eWxlPWxpc3RTdHlsZVtsaXN0LnRhZ05hbWVdW2N1cnJlbnRJbmRleF07c2V0TGlzdFN0eWxlKGxpc3QsY3VycmVudFN0eWxlKTtwYXJlbnRMaS5pbnNlcnRCZWZvcmUobGlzdCxjdXJyZW50KTt3aGlsZShjdXJyZW50JiYhKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsYmsuZW5kKSZkb21VdGlscy5QT1NJVElPTl9GT0xMT1dJTkcpKXtsaT1jdXJyZW50Lm5leHRTaWJsaW5nO2xpc3QuYXBwZW5kQ2hpbGQoY3VycmVudCk7aWYoIWxpfHxkb21VdGlscy5pc1RhZ05vZGUobGksIm9sIHVsIikpe2lmKGxpKXt3aGlsZShsaT1saS5maXJzdENoaWxkKXtpZihsaS50YWdOYW1lPT0iTEkiKXticmVha319fWVsc2V7bGk9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCxmYWxzZSxudWxsLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlIT09Y2xvc2VMaXN0fSl9YnJlYWt9Y3VycmVudD1saX1hZGp1c3RMaXN0KGxpc3QsbGlzdC50YWdOYW1lLnRvTG93ZXJDYXNlKCksY3VycmVudFN0eWxlKTtjdXJyZW50PWxpfX1tZS5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiKTtyYW5nZS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7cmV0dXJuIHRydWV9fX0pO2Z1bmN0aW9uIGdldExpKHN0YXJ0KXt3aGlsZShzdGFydCYmIWRvbVV0aWxzLmlzQm9keShzdGFydCkpe2lmKHN0YXJ0Lm5vZGVOYW1lPT0iVEFCTEUiKXtyZXR1cm4gbnVsbH1pZihzdGFydC5ub2RlTmFtZT09IkxJIil7cmV0dXJuIHN0YXJ0fXN0YXJ0PXN0YXJ0LnBhcmVudE5vZGV9fW1lLmNvbW1hbmRzLmluc2VydG9yZGVyZWRsaXN0PW1lLmNvbW1hbmRzLmluc2VydHVub3JkZXJlZGxpc3Q9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNvbW1hbmQsc3R5bGUpe2lmKCFzdHlsZSl7c3R5bGU9Y29tbWFuZC50b0xvd2VyQ2FzZSgpPT0iaW5zZXJ0b3JkZXJlZGxpc3QiPyJkZWNpbWFsIjoiZGlzYyJ9dmFyIG1lPXRoaXMscmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxmaWx0ZXJGbj1mdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5ub2RlVHlwZT09MT9ub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9ImJyIjohZG9tVXRpbHMuaXNXaGl0ZXNwYWNlKG5vZGUpfSx0YWc9Y29tbWFuZC50b0xvd2VyQ2FzZSgpPT0iaW5zZXJ0b3JkZXJlZGxpc3QiPyJvbCI6InVsIixmcmFnPW1lLmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtyYW5nZS5hZGp1c3RtZW50Qm91bmRhcnkoKS5zaHJpbmtCb3VuZGFyeSgpO3ZhciBia289cmFuZ2UuY3JlYXRlQm9va21hcmsodHJ1ZSksc3RhcnQ9Z2V0TGkobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmtvLnN0YXJ0KSksbW9kaWZ5U3RhcnQ9MCxlbmQ9Z2V0TGkobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmtvLmVuZCkpLG1vZGlmeUVuZD0wLHN0YXJ0UGFyZW50LGVuZFBhcmVudCxsaXN0LHRtcDtpZihzdGFydHx8ZW5kKXtzdGFydCYmKHN0YXJ0UGFyZW50PXN0YXJ0LnBhcmVudE5vZGUpO2lmKCFia28uZW5kKXtlbmQ9c3RhcnR9ZW5kJiYoZW5kUGFyZW50PWVuZC5wYXJlbnROb2RlKTtpZihzdGFydFBhcmVudD09PWVuZFBhcmVudCl7d2hpbGUoc3RhcnQhPT1lbmQpe3RtcD1zdGFydDtzdGFydD1zdGFydC5uZXh0U2libGluZztpZighZG9tVXRpbHMuaXNCbG9ja0VsbSh0bXAuZmlyc3RDaGlsZCkpe3ZhciBwPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTt3aGlsZSh0bXAuZmlyc3RDaGlsZCl7cC5hcHBlbmRDaGlsZCh0bXAuZmlyc3RDaGlsZCl9dG1wLmFwcGVuZENoaWxkKHApfWZyYWcuYXBwZW5kQ2hpbGQodG1wKX10bXA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3N0YXJ0UGFyZW50Lmluc2VydEJlZm9yZSh0bXAsZW5kKTtpZighZG9tVXRpbHMuaXNCbG9ja0VsbShlbmQuZmlyc3RDaGlsZCkpe3A9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO3doaWxlKGVuZC5maXJzdENoaWxkKXtwLmFwcGVuZENoaWxkKGVuZC5maXJzdENoaWxkKX1lbmQuYXBwZW5kQ2hpbGQocCl9ZnJhZy5hcHBlbmRDaGlsZChlbmQpO2RvbVV0aWxzLmJyZWFrUGFyZW50KHRtcCxzdGFydFBhcmVudCk7aWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUodG1wLnByZXZpb3VzU2libGluZykpe2RvbVV0aWxzLnJlbW92ZSh0bXAucHJldmlvdXNTaWJsaW5nKX1pZihkb21VdGlscy5pc0VtcHR5Tm9kZSh0bXAubmV4dFNpYmxpbmcpKXtkb21VdGlscy5yZW1vdmUodG1wLm5leHRTaWJsaW5nKX12YXIgbm9kZVN0eWxlPWdldFN0eWxlKHN0YXJ0UGFyZW50KXx8ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShzdGFydFBhcmVudCwibGlzdC1zdHlsZS10eXBlIil8fChjb21tYW5kLnRvTG93ZXJDYXNlKCk9PSJpbnNlcnRvcmRlcmVkbGlzdCI/ImRlY2ltYWwiOiJkaXNjIik7aWYoc3RhcnRQYXJlbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT10YWcmJm5vZGVTdHlsZT09c3R5bGUpe2Zvcih2YXIgaT0wLGNpLHRtcEZyYWc9bWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2NpPWZyYWcuZmlyc3RDaGlsZDspe2lmKGRvbVV0aWxzLmlzVGFnTm9kZShjaSwib2wgdWwiKSl7dG1wRnJhZy5hcHBlbmRDaGlsZChjaSl9ZWxzZXt3aGlsZShjaS5maXJzdENoaWxkKXt0bXBGcmFnLmFwcGVuZENoaWxkKGNpLmZpcnN0Q2hpbGQpO2RvbVV0aWxzLnJlbW92ZShjaSl9fX10bXAucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wRnJhZyx0bXApfWVsc2V7bGlzdD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7c2V0TGlzdFN0eWxlKGxpc3Qsc3R5bGUpO2xpc3QuYXBwZW5kQ2hpbGQoZnJhZyk7dG1wLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGxpc3QsdG1wKX1kb21VdGlscy5yZW1vdmUodG1wKTtsaXN0JiZhZGp1c3RMaXN0KGxpc3QsdGFnLHN0eWxlKTtyYW5nZS5tb3ZlVG9Cb29rbWFyayhia28pLnNlbGVjdCgpO3JldHVybn1pZihzdGFydCl7d2hpbGUoc3RhcnQpe3RtcD1zdGFydC5uZXh0U2libGluZztpZihkb21VdGlscy5pc1RhZ05vZGUoc3RhcnQsIm9sIHVsIikpe2ZyYWcuYXBwZW5kQ2hpbGQoc3RhcnQpfWVsc2V7dmFyIHRtcGZyYWc9bWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGhhc0Jsb2NrPTA7d2hpbGUoc3RhcnQuZmlyc3RDaGlsZCl7aWYoZG9tVXRpbHMuaXNCbG9ja0VsbShzdGFydC5maXJzdENoaWxkKSl7aGFzQmxvY2s9MX10bXBmcmFnLmFwcGVuZENoaWxkKHN0YXJ0LmZpcnN0Q2hpbGQpfWlmKCFoYXNCbG9jayl7dmFyIHRtcFA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO3RtcFAuYXBwZW5kQ2hpbGQodG1wZnJhZyk7ZnJhZy5hcHBlbmRDaGlsZCh0bXBQKX1lbHNle2ZyYWcuYXBwZW5kQ2hpbGQodG1wZnJhZyl9ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0KX1zdGFydD10bXB9c3RhcnRQYXJlbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZnJhZyxzdGFydFBhcmVudC5uZXh0U2libGluZyk7aWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUoc3RhcnRQYXJlbnQpKXtyYW5nZS5zZXRTdGFydEJlZm9yZShzdGFydFBhcmVudCk7ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0UGFyZW50KX1lbHNle3JhbmdlLnNldFN0YXJ0QWZ0ZXIoc3RhcnRQYXJlbnQpfW1vZGlmeVN0YXJ0PTF9aWYoZW5kJiZkb21VdGlscy5pbkRvYyhlbmRQYXJlbnQsbWUuZG9jdW1lbnQpKXtzdGFydD1lbmRQYXJlbnQuZmlyc3RDaGlsZDt3aGlsZShzdGFydCYmc3RhcnQhPT1lbmQpe3RtcD1zdGFydC5uZXh0U2libGluZztpZihkb21VdGlscy5pc1RhZ05vZGUoc3RhcnQsIm9sIHVsIikpe2ZyYWcuYXBwZW5kQ2hpbGQoc3RhcnQpfWVsc2V7dG1wZnJhZz1tZS5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7aGFzQmxvY2s9MDt3aGlsZShzdGFydC5maXJzdENoaWxkKXtpZihkb21VdGlscy5pc0Jsb2NrRWxtKHN0YXJ0LmZpcnN0Q2hpbGQpKXtoYXNCbG9jaz0xfXRtcGZyYWcuYXBwZW5kQ2hpbGQoc3RhcnQuZmlyc3RDaGlsZCl9aWYoIWhhc0Jsb2NrKXt0bXBQPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTt0bXBQLmFwcGVuZENoaWxkKHRtcGZyYWcpO2ZyYWcuYXBwZW5kQ2hpbGQodG1wUCl9ZWxzZXtmcmFnLmFwcGVuZENoaWxkKHRtcGZyYWcpfWRvbVV0aWxzLnJlbW92ZShzdGFydCl9c3RhcnQ9dG1wfXZhciB0bXBEaXY9ZG9tVXRpbHMuY3JlYXRlRWxlbWVudChtZS5kb2N1bWVudCwiZGl2Iix7dG1wRGl2OjF9KTtkb21VdGlscy5tb3ZlQ2hpbGQoZW5kLHRtcERpdik7ZnJhZy5hcHBlbmRDaGlsZCh0bXBEaXYpO2RvbVV0aWxzLnJlbW92ZShlbmQpO2VuZFBhcmVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmcmFnLGVuZFBhcmVudCk7cmFuZ2Uuc2V0RW5kQmVmb3JlKGVuZFBhcmVudCk7aWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUoZW5kUGFyZW50KSl7ZG9tVXRpbHMucmVtb3ZlKGVuZFBhcmVudCl9bW9kaWZ5RW5kPTF9fWlmKCFtb2RpZnlTdGFydCl7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmtvLnN0YXJ0KSl9aWYoYmtvLmVuZCYmIW1vZGlmeUVuZCl7cmFuZ2Uuc2V0RW5kQWZ0ZXIobWUuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmtvLmVuZCkpfXJhbmdlLmVubGFyZ2UodHJ1ZSxmdW5jdGlvbihub2RlKXtyZXR1cm4gbm90RXhjaGFuZ2Vbbm9kZS50YWdOYW1lXX0pO2ZyYWc9bWUuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3ZhciBiaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpLGN1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYmsuc3RhcnQsZmFsc2UsZmlsdGVyRm4pLHRtcFJhbmdlPXJhbmdlLmNsb25lUmFuZ2UoKSx0bXBOb2RlLGJsb2NrPWRvbVV0aWxzLmlzQmxvY2tFbG07d2hpbGUoY3VycmVudCYmY3VycmVudCE9PWJrLmVuZCYmKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsYmsuZW5kKSZkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkcpKXtpZihjdXJyZW50Lm5vZGVUeXBlPT0zfHxkdGQubGlbY3VycmVudC50YWdOYW1lXSl7aWYoY3VycmVudC5ub2RlVHlwZT09MSYmZHRkLiRsaXN0W2N1cnJlbnQudGFnTmFtZV0pe3doaWxlKGN1cnJlbnQuZmlyc3RDaGlsZCl7ZnJhZy5hcHBlbmRDaGlsZChjdXJyZW50LmZpcnN0Q2hpbGQpfXRtcE5vZGU9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCxmYWxzZSxmaWx0ZXJGbik7ZG9tVXRpbHMucmVtb3ZlKGN1cnJlbnQpO2N1cnJlbnQ9dG1wTm9kZTtjb250aW51ZX10bXBOb2RlPWN1cnJlbnQ7dG1wUmFuZ2Uuc2V0U3RhcnRCZWZvcmUoY3VycmVudCk7d2hpbGUoY3VycmVudCYmY3VycmVudCE9PWJrLmVuZCYmKCFibG9jayhjdXJyZW50KXx8ZG9tVXRpbHMuaXNCb29rbWFya05vZGUoY3VycmVudCkpKXt0bXBOb2RlPWN1cnJlbnQ7Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXJyZW50LGZhbHNlLG51bGwsZnVuY3Rpb24obm9kZSl7cmV0dXJuICFub3RFeGNoYW5nZVtub2RlLnRhZ05hbWVdfSl9aWYoY3VycmVudCYmYmxvY2soY3VycmVudCkpe3RtcD1kb21VdGlscy5nZXROZXh0RG9tTm9kZSh0bXBOb2RlLGZhbHNlLGZpbHRlckZuKTtpZih0bXAmJmRvbVV0aWxzLmlzQm9va21hcmtOb2RlKHRtcCkpe2N1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUodG1wLGZhbHNlLGZpbHRlckZuKTt0bXBOb2RlPXRtcH19dG1wUmFuZ2Uuc2V0RW5kQWZ0ZXIodG1wTm9kZSk7Y3VycmVudD1kb21VdGlscy5nZXROZXh0RG9tTm9kZSh0bXBOb2RlLGZhbHNlLGZpbHRlckZuKTt2YXIgbGk9cmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTtsaS5hcHBlbmRDaGlsZCh0bXBSYW5nZS5leHRyYWN0Q29udGVudHMoKSk7aWYoZG9tVXRpbHMuaXNFbXB0eU5vZGUobGkpKXt2YXIgdG1wTm9kZT1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7d2hpbGUobGkuZmlyc3RDaGlsZCl7dG1wTm9kZS5hcHBlbmRDaGlsZChsaS5maXJzdENoaWxkKX1saS5hcHBlbmRDaGlsZCh0bXBOb2RlKX1mcmFnLmFwcGVuZENoaWxkKGxpKX1lbHNle2N1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCx0cnVlLGZpbHRlckZuKX19cmFuZ2UubW92ZVRvQm9va21hcmsoYmspLmNvbGxhcHNlKHRydWUpO2xpc3Q9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO3NldExpc3RTdHlsZShsaXN0LHN0eWxlKTtsaXN0LmFwcGVuZENoaWxkKGZyYWcpO3JhbmdlLmluc2VydE5vZGUobGlzdCk7YWRqdXN0TGlzdChsaXN0LHRhZyxzdHlsZSk7Zm9yKHZhciBpPTAsY2ksdG1wRGl2cz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShsaXN0LCJkaXYiKTtjaT10bXBEaXZzW2krK107KXtpZihjaS5nZXRBdHRyaWJ1dGUoInRtcERpdiIpKXtkb21VdGlscy5yZW1vdmUoY2ksdHJ1ZSl9fXJhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrbykuc2VsZWN0KCl9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNvbW1hbmQpe3ZhciB0YWc9Y29tbWFuZC50b0xvd2VyQ2FzZSgpPT0iaW5zZXJ0b3JkZXJlZGxpc3QiPyJvbCI6InVsIjt2YXIgcGF0aD10aGlzLnNlbGVjdGlvbi5nZXRTdGFydEVsZW1lbnRQYXRoKCk7Zm9yKHZhciBpPTAsY2k7Y2k9cGF0aFtpKytdOyl7aWYoY2kubm9kZU5hbWU9PSJUQUJMRSIpe3JldHVybiAwfWlmKHRhZz09Y2kubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7cmV0dXJuIDF9fXJldHVybiAwfSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbihjb21tYW5kKXt2YXIgdGFnPWNvbW1hbmQudG9Mb3dlckNhc2UoKT09Imluc2VydG9yZGVyZWRsaXN0Ij8ib2wiOiJ1bCI7dmFyIHBhdGg9dGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLG5vZGU7Zm9yKHZhciBpPTAsY2k7Y2k9cGF0aFtpKytdOyl7aWYoY2kubm9kZU5hbWU9PSJUQUJMRSIpe25vZGU9bnVsbDticmVha31pZih0YWc9PWNpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe25vZGU9Y2k7YnJlYWt9fXJldHVybiBub2RlP2dldFN0eWxlKG5vZGUpfHxkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsImxpc3Qtc3R5bGUtdHlwZSIpOm51bGx9fX07KGZ1bmN0aW9uKCl7dmFyIHNvdXJjZUVkaXRvcnM9e3RleHRhcmVhOmZ1bmN0aW9uKGVkaXRvcixob2xkZXIpe3ZhciB0ZXh0YXJlYT1ob2xkZXIub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZXh0YXJlYSIpO3RleHRhcmVhLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3Jlc2l6ZTpub25lO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym9yZGVyOjA7cGFkZGluZzowO21hcmdpbjowO292ZXJmbG93LXk6YXV0bzsiO2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw4KXt0ZXh0YXJlYS5zdHlsZS53aWR0aD1ob2xkZXIub2Zmc2V0V2lkdGgrInB4Ijt0ZXh0YXJlYS5zdHlsZS5oZWlnaHQ9aG9sZGVyLm9mZnNldEhlaWdodCsicHgiO2hvbGRlci5vbnJlc2l6ZT1mdW5jdGlvbigpe3RleHRhcmVhLnN0eWxlLndpZHRoPWhvbGRlci5vZmZzZXRXaWR0aCsicHgiO3RleHRhcmVhLnN0eWxlLmhlaWdodD1ob2xkZXIub2Zmc2V0SGVpZ2h0KyJweCJ9fWhvbGRlci5hcHBlbmRDaGlsZCh0ZXh0YXJlYSk7cmV0dXJue3NldENvbnRlbnQ6ZnVuY3Rpb24oY29udGVudCl7dGV4dGFyZWEudmFsdWU9Y29udGVudH0sZ2V0Q29udGVudDpmdW5jdGlvbigpe3JldHVybiB0ZXh0YXJlYS52YWx1ZX0sc2VsZWN0OmZ1bmN0aW9uKCl7dmFyIHJhbmdlO2lmKGJyb3dzZXIuaWUpe3JhbmdlPXRleHRhcmVhLmNyZWF0ZVRleHRSYW5nZSgpO3JhbmdlLmNvbGxhcHNlKHRydWUpO3JhbmdlLnNlbGVjdCgpfWVsc2V7dGV4dGFyZWEuc2V0U2VsZWN0aW9uUmFuZ2UoMCwwKTt0ZXh0YXJlYS5mb2N1cygpfX0sZGlzcG9zZTpmdW5jdGlvbigpe2hvbGRlci5yZW1vdmVDaGlsZCh0ZXh0YXJlYSk7aG9sZGVyLm9ucmVzaXplPW51bGw7dGV4dGFyZWE9bnVsbDtob2xkZXI9bnVsbH19fSxjb2RlbWlycm9yOmZ1bmN0aW9uKGVkaXRvcixob2xkZXIpe3ZhciBjb2RlRWRpdG9yPXdpbmRvdy5Db2RlTWlycm9yKGhvbGRlcix7bW9kZToidGV4dC9odG1sIix0YWJNb2RlOiJpbmRlbnQiLGxpbmVOdW1iZXJzOnRydWUsbGluZVdyYXBwaW5nOnRydWV9KTt2YXIgZG9tPWNvZGVFZGl0b3IuZ2V0V3JhcHBlckVsZW1lbnQoKTtkb20uc3R5bGUuY3NzVGV4dD0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Zm9udC1mYW1pbHk6Y29uc29sYXMsIkNvdXJpZXIgbmV3Iixtb25vc3BhY2U7Zm9udC1zaXplOjEzcHg7Jztjb2RlRWRpdG9yLmdldFNjcm9sbGVyRWxlbWVudCgpLnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOyI7Y29kZUVkaXRvci5yZWZyZXNoKCk7cmV0dXJue2dldENvZGVNaXJyb3I6ZnVuY3Rpb24oKXtyZXR1cm4gY29kZUVkaXRvcn0sc2V0Q29udGVudDpmdW5jdGlvbihjb250ZW50KXtjb2RlRWRpdG9yLnNldFZhbHVlKGNvbnRlbnQpfSxnZXRDb250ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGNvZGVFZGl0b3IuZ2V0VmFsdWUoKX0sc2VsZWN0OmZ1bmN0aW9uKCl7Y29kZUVkaXRvci5mb2N1cygpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7aG9sZGVyLnJlbW92ZUNoaWxkKGRvbSk7ZG9tPW51bGw7Y29kZUVkaXRvcj1udWxsfX19fTtVRS5wbHVnaW5zLnNvdXJjZT1mdW5jdGlvbigpe3ZhciBtZT10aGlzO3ZhciBvcHQ9dGhpcy5vcHRpb25zO3ZhciBzb3VyY2VNb2RlPWZhbHNlO3ZhciBzb3VyY2VFZGl0b3I7dmFyIG9yZ1NldENvbnRlbnQ7b3B0LnNvdXJjZUVkaXRvcj1icm93c2VyLmllPyJ0ZXh0YXJlYSI6KG9wdC5zb3VyY2VFZGl0b3J8fCJjb2RlbWlycm9yIik7bWUuc2V0T3B0KHtzb3VyY2VFZGl0b3JGaXJzdDpmYWxzZX0pO2Z1bmN0aW9uIGNyZWF0ZVNvdXJjZUVkaXRvcihob2xkZXIpe3JldHVybiBzb3VyY2VFZGl0b3JzW29wdC5zb3VyY2VFZGl0b3I9PSJjb2RlbWlycm9yIiYmd2luZG93LkNvZGVNaXJyb3I/ImNvZGVtaXJyb3IiOiJ0ZXh0YXJlYSJdKG1lLGhvbGRlcil9dmFyIGJha0Nzc1RleHQ7dmFyIG9sZEdldENvbnRlbnQsYmFrQWRkcmVzczttZS5jb21tYW5kcy5zb3VyY2U9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7c291cmNlTW9kZT0hc291cmNlTW9kZTtpZihzb3VyY2VNb2RlKXtiYWtBZGRyZXNzPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUFkZHJlc3MoZmFsc2UsdHJ1ZSk7bWUudW5kb01hbmdlciYmbWUudW5kb01hbmdlci5zYXZlKHRydWUpO2lmKGJyb3dzZXIuZ2Vja28pe21lLmJvZHkuY29udGVudEVkaXRhYmxlPWZhbHNlfWJha0Nzc1RleHQ9bWUuaWZyYW1lLnN0eWxlLmNzc1RleHQ7bWUuaWZyYW1lLnN0eWxlLmNzc1RleHQrPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0zMjc2OHB4O3RvcDotMzI3NjhweDsiO21lLmZpcmVFdmVudCgiYmVmb3JlZ2V0Y29udGVudCIpO3ZhciByb290PVVFLmh0bWxwYXJzZXIobWUuYm9keS5pbm5lckhUTUwpO21lLmZpbHRlck91dHB1dFJ1bGUocm9vdCk7cm9vdC50cmF2ZXJzYWwoZnVuY3Rpb24obm9kZSl7aWYobm9kZS50eXBlPT0iZWxlbWVudCIpe3N3aXRjaChub2RlLnRhZ05hbWUpe2Nhc2UidGQiOmNhc2UidGgiOmNhc2UiY2FwdGlvbiI6aWYobm9kZS5jaGlsZHJlbiYmbm9kZS5jaGlsZHJlbi5sZW5ndGg9PTEpe2lmKG5vZGUuZmlyc3RDaGlsZCgpLnRhZ05hbWU9PSJiciIpe25vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKCkpfX1icmVhaztjYXNlInByZSI6bm9kZS5pbm5lclRleHQobm9kZS5pbm5lclRleHQoKS5yZXBsYWNlKC8mbmJzcDsvZywiICIpKX19fSk7bWUuZmlyZUV2ZW50KCJhZnRlcmdldGNvbnRlbnQiKTt2YXIgY29udGVudD1yb290LnRvSHRtbCh0cnVlKTtzb3VyY2VFZGl0b3I9Y3JlYXRlU291cmNlRWRpdG9yKG1lLmlmcmFtZS5wYXJlbnROb2RlKTtzb3VyY2VFZGl0b3Iuc2V0Q29udGVudChjb250ZW50KTtvcmdTZXRDb250ZW50PW1lLnNldENvbnRlbnQ7bWUuc2V0Q29udGVudD1mdW5jdGlvbihodG1sKXt2YXIgcm9vdD1VRS5odG1scGFyc2VyKGh0bWwpO21lLmZpbHRlcklucHV0UnVsZShyb290KTtodG1sPXJvb3QudG9IdG1sKCk7c291cmNlRWRpdG9yLnNldENvbnRlbnQoaHRtbCl9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtzb3VyY2VFZGl0b3Iuc2VsZWN0KCk7bWUuYWRkTGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2VkIixmdW5jdGlvbigpe3RyeXtzb3VyY2VFZGl0b3IuZ2V0Q29kZU1pcnJvcigpLnJlZnJlc2goKX1jYXRjaChlKXt9fSl9KTtvbGRHZXRDb250ZW50PW1lLmdldENvbnRlbnQ7bWUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiBzb3VyY2VFZGl0b3IuZ2V0Q29udGVudCgpfHwiPHA+IisoYnJvd3Nlci5pZT8iIjoiPGJyLz4iKSsiPC9wPiJ9fWVsc2V7bWUuaWZyYW1lLnN0eWxlLmNzc1RleHQ9YmFrQ3NzVGV4dDt2YXIgY29udD1zb3VyY2VFZGl0b3IuZ2V0Q29udGVudCgpfHwiPHA+IisoYnJvd3Nlci5pZT8iIjoiPGJyLz4iKSsiPC9wPiI7Y29udD1jb250LnJlcGxhY2UobmV3IFJlZ0V4cCgiW1xcclxcdFxcbiBdKjwvPyhcXHcrKVxccyooPzpbXj5dKik+IiwiZyIpLGZ1bmN0aW9uKGEsYil7aWYoYiYmIWR0ZC4kaW5saW5lV2l0aEFbYi50b0xvd2VyQ2FzZSgpXSl7cmV0dXJuIGEucmVwbGFjZSgvKF5bXG5cclx0IF0qKXwoW1xuXHJcdCBdKiQpL2csIiIpfXJldHVybiBhLnJlcGxhY2UoLyheW1xuXHJcdF0qKXwoW1xuXHJcdF0qJCkvZywiIil9KTttZS5zZXRDb250ZW50PW9yZ1NldENvbnRlbnQ7bWUuc2V0Q29udGVudChjb250KTtzb3VyY2VFZGl0b3IuZGlzcG9zZSgpO3NvdXJjZUVkaXRvcj1udWxsO21lLmdldENvbnRlbnQ9b2xkR2V0Q29udGVudDt2YXIgZmlyc3Q9bWUuYm9keS5maXJzdENoaWxkO2lmKCFmaXJzdCl7bWUuYm9keS5pbm5lckhUTUw9IjxwPiIrKGJyb3dzZXIuaWU/IiI6Ijxici8+IikrIjwvcD4iO2ZpcnN0PW1lLmJvZHkuZmlyc3RDaGlsZH1tZS51bmRvTWFuZ2VyJiZtZS51bmRvTWFuZ2VyLnNhdmUodHJ1ZSk7aWYoYnJvd3Nlci5nZWNrbyl7dmFyIGlucHV0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7aW5wdXQuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDotMzI3NjhweCI7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChpbnB1dCk7bWUuYm9keS5jb250ZW50RWRpdGFibGU9ZmFsc2U7c2V0VGltZW91dChmdW5jdGlvbigpe2RvbVV0aWxzLnNldFZpZXdwb3J0T2Zmc2V0KGlucHV0LHtsZWZ0Oi0zMjc2OCx0b3A6MH0pO2lucHV0LmZvY3VzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe21lLmJvZHkuY29udGVudEVkaXRhYmxlPXRydWU7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkubW92ZVRvQWRkcmVzcyhiYWtBZGRyZXNzKS5zZWxlY3QodHJ1ZSk7ZG9tVXRpbHMucmVtb3ZlKGlucHV0KX0pfSl9ZWxzZXt0cnl7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkubW92ZVRvQWRkcmVzcyhiYWtBZGRyZXNzKS5zZWxlY3QodHJ1ZSl9Y2F0Y2goZSl7fX19dGhpcy5maXJlRXZlbnQoInNvdXJjZW1vZGVjaGFuZ2VkIixzb3VyY2VNb2RlKX0scXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gc291cmNlTW9kZXwwfSxub3ROZWVkVW5kbzoxfTt2YXIgb2xkUXVlcnlDb21tYW5kU3RhdGU9bWUucXVlcnlDb21tYW5kU3RhdGU7bWUucXVlcnlDb21tYW5kU3RhdGU9ZnVuY3Rpb24oY21kTmFtZSl7Y21kTmFtZT1jbWROYW1lLnRvTG93ZXJDYXNlKCk7aWYoc291cmNlTW9kZSl7cmV0dXJuIGNtZE5hbWUgaW4ge3NvdXJjZToxLGZ1bGxzY3JlZW46MX0/MTotMX1yZXR1cm4gb2xkUXVlcnlDb21tYW5kU3RhdGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZihvcHQuc291cmNlRWRpdG9yPT0iY29kZW1pcnJvciIpe21lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXt1dGlscy5sb2FkRmlsZShkb2N1bWVudCx7c3JjOm9wdC5jb2RlTWlycm9ySnNVcmx8fG9wdC5VRURJVE9SX0hPTUVfVVJMKyJ0aGlyZC1wYXJ0eS9jb2RlbWlycm9yL2NvZGVtaXJyb3IuanMiLHRhZzoic2NyaXB0Iix0eXBlOiJ0ZXh0L2phdmFzY3JpcHQiLGRlZmVyOiJkZWZlciJ9LGZ1bmN0aW9uKCl7aWYob3B0LnNvdXJjZUVkaXRvckZpcnN0KXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuZXhlY0NvbW1hbmQoInNvdXJjZSIpfSwwKX19KTt1dGlscy5sb2FkRmlsZShkb2N1bWVudCx7dGFnOiJsaW5rIixyZWw6InN0eWxlc2hlZXQiLHR5cGU6InRleHQvY3NzIixocmVmOm9wdC5jb2RlTWlycm9yQ3NzVXJsfHxvcHQuVUVESVRPUl9IT01FX1VSTCsidGhpcmQtcGFydHkvY29kZW1pcnJvci9jb2RlbWlycm9yLmNzcyJ9KX0pfX19KSgpO1VFLnBsdWdpbnMuZW50ZXJrZXk9ZnVuY3Rpb24oKXt2YXIgaFRhZyxtZT10aGlzLHRhZz1tZS5vcHRpb25zLmVudGVyVGFnO21lLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoa2V5Q29kZT09MTMpe3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcixkb1NhdmU7aWYoIWJyb3dzZXIuaWUpe2lmKC9oXGQvaS50ZXN0KGhUYWcpKXtpZihicm93c2VyLmdlY2tvKXt2YXIgaD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LFsiaDEiLCJoMiIsImgzIiwiaDQiLCJoNSIsImg2IiwiYmxvY2txdW90ZSIsImNhcHRpb24iLCJ0YWJsZSJdLHRydWUpO2lmKCFoKXttZS5kb2N1bWVudC5leGVjQ29tbWFuZCgiZm9ybWF0QmxvY2siLGZhbHNlLCI8cD4iKTtkb1NhdmU9MX19ZWxzZXtpZihzdGFydC5ub2RlVHlwZT09MSl7dmFyIHRtcD1tZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIiksZGl2O3JhbmdlLmluc2VydE5vZGUodG1wKTtkaXY9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0bXAsImRpdiIsdHJ1ZSk7aWYoZGl2KXt2YXIgcD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7d2hpbGUoZGl2LmZpcnN0Q2hpbGQpe3AuYXBwZW5kQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpfWRpdi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwLGRpdik7ZG9tVXRpbHMucmVtb3ZlKGRpdik7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wKS5zZXRDdXJzb3IoKTtkb1NhdmU9MX1kb21VdGlscy5yZW1vdmUodG1wKX19aWYobWUudW5kb01hbmdlciYmZG9TYXZlKXttZS51bmRvTWFuZ2VyLnNhdmUoKX19YnJvd3Nlci5vcGVyYSYmcmFuZ2Uuc2VsZWN0KCl9ZWxzZXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIsdHJ1ZSx0cnVlKX19fSk7bWUuYWRkTGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uKHR5cGUsZXZ0KXt2YXIga2V5Q29kZT1ldnQua2V5Q29kZXx8ZXZ0LndoaWNoO2lmKGtleUNvZGU9PTEzKXtpZihtZS5maXJlRXZlbnQoImJlZm9yZWVudGVya2V5ZG93biIpKXtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpO3JldHVybn1tZS5maXJlRXZlbnQoInNhdmVTY2VuZSIsdHJ1ZSx0cnVlKTtoVGFnPSIiO3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXt2YXIgc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXIsZW5kPXJhbmdlLmVuZENvbnRhaW5lcixzdGFydFRkPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsInRkIix0cnVlKSxlbmRUZD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVuZCwidGQiLHRydWUpO2lmKHN0YXJ0VGQmJmVuZFRkJiZzdGFydFRkIT09ZW5kVGR8fCFzdGFydFRkJiZlbmRUZHx8c3RhcnRUZCYmIWVuZFRkKXtldnQucHJldmVudERlZmF1bHQ/ZXZ0LnByZXZlbnREZWZhdWx0KCk6KGV2dC5yZXR1cm5WYWx1ZT1mYWxzZSk7cmV0dXJufX1pZih0YWc9PSJwIil7aWYoIWJyb3dzZXIuaWUpe3N0YXJ0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsWyJvbCIsInVsIiwicCIsImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiIsImJsb2NrcXVvdGUiLCJjYXB0aW9uIl0sdHJ1ZSk7aWYoIXN0YXJ0JiYhYnJvd3Nlci5vcGVyYSl7bWUuZG9jdW1lbnQuZXhlY0NvbW1hbmQoImZvcm1hdEJsb2NrIixmYWxzZSwiPHA+Iik7aWYoYnJvd3Nlci5nZWNrbyl7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7c3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwicCIsdHJ1ZSk7c3RhcnQmJmRvbVV0aWxzLnJlbW92ZURpcnR5QXR0cihzdGFydCl9fWVsc2V7aFRhZz1zdGFydC50YWdOYW1lO3N0YXJ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InAiJiZicm93c2VyLmdlY2tvJiZkb21VdGlscy5yZW1vdmVEaXJ0eUF0dHIoc3RhcnQpfX19ZWxzZXtldnQucHJldmVudERlZmF1bHQ/ZXZ0LnByZXZlbnREZWZhdWx0KCk6KGV2dC5yZXR1cm5WYWx1ZT1mYWxzZSk7aWYoIXJhbmdlLmNvbGxhcHNlZCl7cmFuZ2UuZGVsZXRlQ29udGVudHMoKTtzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcjtpZihzdGFydC5ub2RlVHlwZT09MSYmKHN0YXJ0PXN0YXJ0LmNoaWxkTm9kZXNbcmFuZ2Uuc3RhcnRPZmZzZXRdKSl7d2hpbGUoc3RhcnQubm9kZVR5cGU9PTEpe2lmKGR0ZC4kZW1wdHlbc3RhcnQudGFnTmFtZV0pe3JhbmdlLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KS5zZXRDdXJzb3IoKTtpZihtZS51bmRvTWFuZ2VyKXttZS51bmRvTWFuZ2VyLnNhdmUoKX1yZXR1cm4gZmFsc2V9aWYoIXN0YXJ0LmZpcnN0Q2hpbGQpe3ZhciBicj1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3N0YXJ0LmFwcGVuZENoaWxkKGJyKTtyYW5nZS5zZXRTdGFydChzdGFydCwwKS5zZXRDdXJzb3IoKTtpZihtZS51bmRvTWFuZ2VyKXttZS51bmRvTWFuZ2VyLnNhdmUoKX1yZXR1cm4gZmFsc2V9c3RhcnQ9c3RhcnQuZmlyc3RDaGlsZH1pZihzdGFydD09PXJhbmdlLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbcmFuZ2Uuc3RhcnRPZmZzZXRdKXticj1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3JhbmdlLmluc2VydE5vZGUoYnIpLnNldEN1cnNvcigpfWVsc2V7cmFuZ2Uuc2V0U3RhcnQoc3RhcnQsMCkuc2V0Q3Vyc29yKCl9fWVsc2V7YnI9cmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKTtyYW5nZS5pbnNlcnROb2RlKGJyKS5zZXRTdGFydEFmdGVyKGJyKS5zZXRDdXJzb3IoKX19ZWxzZXticj1yYW5nZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJiciIpO3JhbmdlLmluc2VydE5vZGUoYnIpO3ZhciBwYXJlbnQ9YnIucGFyZW50Tm9kZTtpZihwYXJlbnQubGFzdENoaWxkPT09YnIpe2JyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGJyLmNsb25lTm9kZSh0cnVlKSxicik7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUoYnIpfWVsc2V7cmFuZ2Uuc2V0U3RhcnRBZnRlcihicil9cmFuZ2Uuc2V0Q3Vyc29yKCl9fX19KX07VUUucGx1Z2lucy5rZXlzdHJva2VzPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7dmFyIGNvbGxhcHNlZD10cnVlO21lLmFkZExpc3RlbmVyKCJrZXlkb3duIixmdW5jdGlvbih0eXBlLGV2dCl7dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaCxybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYoIXJuZy5jb2xsYXBzZWQmJiEoZXZ0LmN0cmxLZXl8fGV2dC5zaGlmdEtleXx8ZXZ0LmFsdEtleXx8ZXZ0Lm1ldGFLZXkpJiYoa2V5Q29kZT49NjUmJmtleUNvZGU8PTkwfHxrZXlDb2RlPj00OCYma2V5Q29kZTw9NTd8fGtleUNvZGU+PTk2JiZrZXlDb2RlPD0xMTF8fHsxMzoxLDg6MSw0NjoxfVtrZXlDb2RlXSkpe3ZhciB0bXBOb2RlPXJuZy5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHRtcE5vZGUpKXtybmcuc2V0U3RhcnRCZWZvcmUodG1wTm9kZSl9dG1wTm9kZT1ybmcuZW5kQ29udGFpbmVyO2lmKGRvbVV0aWxzLmlzRmlsbENoYXIodG1wTm9kZSkpe3JuZy5zZXRFbmRBZnRlcih0bXBOb2RlKX1ybmcudHh0VG9FbG1Cb3VuZGFyeSgpO2lmKHJuZy5lbmRDb250YWluZXImJnJuZy5lbmRDb250YWluZXIubm9kZVR5cGU9PTEpe3RtcE5vZGU9cm5nLmVuZENvbnRhaW5lci5jaGlsZE5vZGVzW3JuZy5lbmRPZmZzZXRdO2lmKHRtcE5vZGUmJmRvbVV0aWxzLmlzQnIodG1wTm9kZSkpe3JuZy5zZXRFbmRBZnRlcih0bXBOb2RlKX19aWYocm5nLnN0YXJ0T2Zmc2V0PT0wKXt0bXBOb2RlPXJuZy5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0JvdW5kYXJ5Tm9kZSh0bXBOb2RlLCJmaXJzdENoaWxkIikpe3RtcE5vZGU9cm5nLmVuZENvbnRhaW5lcjtpZihybmcuZW5kT2Zmc2V0PT0odG1wTm9kZS5ub2RlVHlwZT09Mz90bXBOb2RlLm5vZGVWYWx1ZS5sZW5ndGg6dG1wTm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkmJmRvbVV0aWxzLmlzQm91bmRhcnlOb2RlKHRtcE5vZGUsImxhc3RDaGlsZCIpKXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO21lLmJvZHkuaW5uZXJIVE1MPSI8cD4iKyhicm93c2VyLmllPyIiOiI8YnIvPiIpKyI8L3A+Ijtybmcuc2V0U3RhcnQobWUuYm9keS5maXJzdENoaWxkLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKTttZS5fc2VsZWN0aW9uQ2hhbmdlKCk7cmV0dXJufX19fWlmKGtleUNvZGU9PTgpe3JuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtjb2xsYXBzZWQ9cm5nLmNvbGxhcHNlZDtpZihtZS5maXJlRXZlbnQoImRlbGtleWRvd24iLGV2dCkpe3JldHVybn12YXIgc3RhcnQsZW5kO2lmKHJuZy5jb2xsYXBzZWQmJnJuZy5pbkZpbGxDaGFyKCkpe3N0YXJ0PXJuZy5zdGFydENvbnRhaW5lcjtpZihkb21VdGlscy5pc0ZpbGxDaGFyKHN0YXJ0KSl7cm5nLnNldFN0YXJ0QmVmb3JlKHN0YXJ0KS5zaHJpbmtCb3VuZGFyeSh0cnVlKS5jb2xsYXBzZSh0cnVlKTtkb21VdGlscy5yZW1vdmUoc3RhcnQpfWVsc2V7c3RhcnQubm9kZVZhbHVlPXN0YXJ0Lm5vZGVWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoIl4iK2RvbVV0aWxzLmZpbGxDaGFyKSwiIik7cm5nLnN0YXJ0T2Zmc2V0LS07cm5nLmNvbGxhcHNlKHRydWUpLnNlbGVjdCh0cnVlKX19aWYoc3RhcnQ9cm5nLmdldENsb3NlZE5vZGUoKSl7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtybmcuc2V0U3RhcnRCZWZvcmUoc3RhcnQpO2RvbVV0aWxzLnJlbW92ZShzdGFydCk7cm5nLnNldEN1cnNvcigpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTtyZXR1cm59aWYoIWJyb3dzZXIuaWUpe3N0YXJ0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJ0YWJsZSIsdHJ1ZSk7ZW5kPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLmVuZENvbnRhaW5lciwidGFibGUiLHRydWUpO2lmKHN0YXJ0JiYhZW5kfHwhc3RhcnQmJmVuZHx8c3RhcnQhPT1lbmQpe2V2dC5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn19fWlmKGtleUNvZGU9PTkpe3ZhciBleGNsdWRlVGFnTmFtZUZvclRhYktleT17b2w6MSx1bDoxLHRhYmxlOjF9O2lmKG1lLmZpcmVFdmVudCgidGFia2V5ZG93biIsZXZ0KSl7ZG9tVXRpbHMucHJldmVudERlZmF1bHQoZXZ0KTtyZXR1cm59dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7Zm9yKHZhciBpPTAsdHh0PSIiLHRhYlNpemU9bWUub3B0aW9ucy50YWJTaXplfHw0LHRhYk5vZGU9bWUub3B0aW9ucy50YWJOb2RlfHwiJm5ic3A7IjtpPHRhYlNpemU7aSsrKXt0eHQrPXRhYk5vZGV9dmFyIHNwYW49bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO3NwYW4uaW5uZXJIVE1MPXR4dCtkb21VdGlscy5maWxsQ2hhcjtpZihyYW5nZS5jb2xsYXBzZWQpe3JhbmdlLmluc2VydE5vZGUoc3Bhbi5jbG9uZU5vZGUodHJ1ZSkuZmlyc3RDaGlsZCkuc2V0Q3Vyc29yKHRydWUpfWVsc2V7dmFyIGZpbHRlckZuPWZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5pc0Jsb2NrRWxtKG5vZGUpJiYhZXhjbHVkZVRhZ05hbWVGb3JUYWJLZXlbbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCldfTtzdGFydD1kb21VdGlscy5maW5kUGFyZW50KHJhbmdlLnN0YXJ0Q29udGFpbmVyLGZpbHRlckZuLHRydWUpO2VuZD1kb21VdGlscy5maW5kUGFyZW50KHJhbmdlLmVuZENvbnRhaW5lcixmaWx0ZXJGbix0cnVlKTtpZihzdGFydCYmZW5kJiZzdGFydD09PWVuZCl7cmFuZ2UuZGVsZXRlQ29udGVudHMoKTtyYW5nZS5pbnNlcnROb2RlKHNwYW4uY2xvbmVOb2RlKHRydWUpLmZpcnN0Q2hpbGQpLnNldEN1cnNvcih0cnVlKX1lbHNle3ZhciBib29rbWFyaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO3JhbmdlLmVubGFyZ2UodHJ1ZSk7dmFyIGJvb2ttYXJrMj1yYW5nZS5jcmVhdGVCb29rbWFyaygpLGN1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoYm9va21hcmsyLnN0YXJ0LGZhbHNlLGZpbHRlckZuKTt3aGlsZShjdXJyZW50JiYhKGRvbVV0aWxzLmdldFBvc2l0aW9uKGN1cnJlbnQsYm9va21hcmsyLmVuZCkmZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HKSl7Y3VycmVudC5pbnNlcnRCZWZvcmUoc3Bhbi5jbG9uZU5vZGUodHJ1ZSkuZmlyc3RDaGlsZCxjdXJyZW50LmZpcnN0Q2hpbGQpO2N1cnJlbnQ9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudCxmYWxzZSxmaWx0ZXJGbil9cmFuZ2UubW92ZVRvQm9va21hcmsoYm9va21hcmsyKS5tb3ZlVG9Cb29rbWFyayhib29rbWFyaykuc2VsZWN0KCl9fWRvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCl9aWYoYnJvd3Nlci5nZWNrbyYma2V5Q29kZT09NDYpe3JhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHJhbmdlLmNvbGxhcHNlZCl7c3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHN0YXJ0KSl7dmFyIHBhcmVudD1zdGFydC5wYXJlbnROb2RlO3doaWxlKGRvbVV0aWxzLmdldENoaWxkQ291bnQocGFyZW50KT09MSYmIWRvbVV0aWxzLmlzQm9keShwYXJlbnQpKXtzdGFydD1wYXJlbnQ7cGFyZW50PXBhcmVudC5wYXJlbnROb2RlfWlmKHN0YXJ0PT09cGFyZW50Lmxhc3RDaGlsZCl7ZXZ0LnByZXZlbnREZWZhdWx0KCl9cmV0dXJufX19fSk7bWUuYWRkTGlzdGVuZXIoImtleXVwIixmdW5jdGlvbih0eXBlLGV2dCl7dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaCxybmcsbWU9dGhpcztpZihrZXlDb2RlPT04KXtpZihtZS5maXJlRXZlbnQoImRlbGtleXVwIikpe3JldHVybn1ybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocm5nLmNvbGxhcHNlZCl7dmFyIHRtcE5vZGUsYXV0b0NsZWFyVGFnTmFtZT1bImgxIiwiaDIiLCJoMyIsImg0IiwiaDUiLCJoNiJdO2lmKHRtcE5vZGU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsYXV0b0NsZWFyVGFnTmFtZSx0cnVlKSl7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKHRtcE5vZGUpKXt2YXIgcHJlPXRtcE5vZGUucHJldmlvdXNTaWJsaW5nO2lmKHByZSYmcHJlLm5vZGVOYW1lIT0iVEFCTEUiKXtkb21VdGlscy5yZW1vdmUodG1wTm9kZSk7cm5nLnNldFN0YXJ0QXRMYXN0KHByZSkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpO3JldHVybn1lbHNle3ZhciBuZXh0PXRtcE5vZGUubmV4dFNpYmxpbmc7aWYobmV4dCYmbmV4dC5ub2RlTmFtZSE9IlRBQkxFIil7ZG9tVXRpbHMucmVtb3ZlKHRtcE5vZGUpO3JuZy5zZXRTdGFydEF0Rmlyc3QobmV4dCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpO3JldHVybn19fX1pZihkb21VdGlscy5pc0JvZHkocm5nLnN0YXJ0Q29udGFpbmVyKSl7dmFyIHRtcE5vZGU9ZG9tVXRpbHMuY3JlYXRlRWxlbWVudChtZS5kb2N1bWVudCwicCIse2lubmVySFRNTDpicm93c2VyLmllP2RvbVV0aWxzLmZpbGxDaGFyOiI8YnIvPiJ9KTtybmcuaW5zZXJ0Tm9kZSh0bXBOb2RlKS5zZXRTdGFydCh0bXBOb2RlLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX19aWYoIWNvbGxhcHNlZCYmKHJuZy5zdGFydENvbnRhaW5lci5ub2RlVHlwZT09M3x8cm5nLnN0YXJ0Q29udGFpbmVyLm5vZGVUeXBlPT0xJiZkb21VdGlscy5pc0VtcHR5QmxvY2socm5nLnN0YXJ0Q29udGFpbmVyKSkpe2lmKGJyb3dzZXIuaWUpe3ZhciBzcGFuPXJuZy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7cm5nLmluc2VydE5vZGUoc3Bhbikuc2V0U3RhcnRCZWZvcmUoc3BhbikuY29sbGFwc2UodHJ1ZSk7cm5nLnNlbGVjdCgpO2RvbVV0aWxzLnJlbW92ZShzcGFuKX1lbHNle3JuZy5zZWxlY3QoKX19fX0pfTtVRS5wbHVnaW5zLmZpeGltZ2NsaWNrPShmdW5jdGlvbigpe2Z1bmN0aW9uIFNjYWxlKCl7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLnJlc2l6ZXI9bnVsbDt0aGlzLmNvdmVyPW51bGw7dGhpcy5kb2M9ZG9jdW1lbnQ7dGhpcy5wcmVQb3M9e3g6MCx5OjB9O3RoaXMuc3RhcnRQb3M9e3g6MCx5OjB9fShmdW5jdGlvbigpe3ZhciByZWN0PVtbMCwwLC0xLC0xXSxbMCwwLDAsLTFdLFswLDAsMSwtMV0sWzAsMCwtMSwwXSxbMCwwLDEsMF0sWzAsMCwtMSwxXSxbMCwwLDAsMV0sWzAsMCwxLDFdXTtTY2FsZS5wcm90b3R5cGU9e2luaXQ6ZnVuY3Rpb24oZWRpdG9yKXt2YXIgbWU9dGhpczttZS5lZGl0b3I9ZWRpdG9yO21lLnN0YXJ0UG9zPXRoaXMucHJlUG9zPXt4OjAseTowfTttZS5kcmFnSWQ9LTE7dmFyIGhhbmRzPVtdLGNvdmVyPW1lLmNvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHJlc2l6ZXI9bWUucmVzaXplcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtjb3Zlci5pZD1tZS5lZGl0b3IudWkuaWQrIl9pbWFnZXNjYWxlX2NvdmVyIjtjb3Zlci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Om5vbmU7ei1pbmRleDoiKyhtZS5lZGl0b3Iub3B0aW9ucy56SW5kZXgpKyI7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MCk7IG9wYWNpdHk6MDtiYWNrZ3JvdW5kOiNDQ0M7Ijtkb21VdGlscy5vbihjb3ZlciwibW91c2Vkb3duIGNsaWNrIixmdW5jdGlvbigpe21lLmhpZGUoKX0pO2ZvcihpPTA7aTw4O2krKyl7aGFuZHMucHVzaCgnPHNwYW4gY2xhc3M9ImVkdWktZWRpdG9yLXNjYWxlLWhhbmQnK2krJyI+PC9zcGFuPicpfXJlc2l6ZXIuaWQ9bWUuZWRpdG9yLnVpLmlkKyJfaW1hZ2VzY2FsZSI7cmVzaXplci5jbGFzc05hbWU9ImVkdWktZWRpdG9yLXNjYWxlIjtyZXNpemVyLmlubmVySFRNTD1oYW5kcy5qb2luKCIiKTtyZXNpemVyLnN0eWxlLmNzc1RleHQrPSI7ZGlzcGxheTpub25lO2JvcmRlcjoxcHggc29saWQgIzNiNzdmZjt6LWluZGV4OiIrKG1lLmVkaXRvci5vcHRpb25zLnpJbmRleCkrIjsiO21lLmVkaXRvci51aS5nZXREb20oKS5hcHBlbmRDaGlsZChjb3Zlcik7bWUuZWRpdG9yLnVpLmdldERvbSgpLmFwcGVuZENoaWxkKHJlc2l6ZXIpO21lLmluaXRTdHlsZSgpO21lLmluaXRFdmVudHMoKX0saW5pdFN0eWxlOmZ1bmN0aW9uKCl7dXRpbHMuY3NzUnVsZSgiaW1hZ2VzY2FsZSIsIi5lZHVpLWVkaXRvci1zY2FsZXtwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXI6MXB4IHNvbGlkICMzOEIyQ0U7fS5lZHVpLWVkaXRvci1zY2FsZSBzcGFue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjZweDtoZWlnaHQ6NnB4O292ZXJmbG93OmhpZGRlbjtmb250LXNpemU6MHB4O2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjojM0M5REQwO30uZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQwe2N1cnNvcjpudy1yZXNpemU7dG9wOjA7bWFyZ2luLXRvcDotNHB4O2xlZnQ6MDttYXJnaW4tbGVmdDotNHB4O30uZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQxe2N1cnNvcjpuLXJlc2l6ZTt0b3A6MDttYXJnaW4tdG9wOi00cHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTRweDt9LmVkdWktZWRpdG9yLXNjYWxlIC5lZHVpLWVkaXRvci1zY2FsZS1oYW5kMntjdXJzb3I6bmUtcmVzaXplO3RvcDowO21hcmdpbi10b3A6LTRweDtsZWZ0OjEwMCU7bWFyZ2luLWxlZnQ6LTNweDt9LmVkdWktZWRpdG9yLXNjYWxlIC5lZHVpLWVkaXRvci1zY2FsZS1oYW5kM3tjdXJzb3I6dy1yZXNpemU7dG9wOjUwJTttYXJnaW4tdG9wOi00cHg7bGVmdDowO21hcmdpbi1sZWZ0Oi00cHg7fS5lZHVpLWVkaXRvci1zY2FsZSAuZWR1aS1lZGl0b3Itc2NhbGUtaGFuZDR7Y3Vyc29yOmUtcmVzaXplO3RvcDo1MCU7bWFyZ2luLXRvcDotNHB4O2xlZnQ6MTAwJTttYXJnaW4tbGVmdDotM3B4O30uZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQ1e2N1cnNvcjpzdy1yZXNpemU7dG9wOjEwMCU7bWFyZ2luLXRvcDotM3B4O2xlZnQ6MDttYXJnaW4tbGVmdDotNHB4O30uZWR1aS1lZGl0b3Itc2NhbGUgLmVkdWktZWRpdG9yLXNjYWxlLWhhbmQ2e2N1cnNvcjpzLXJlc2l6ZTt0b3A6MTAwJTttYXJnaW4tdG9wOi0zcHg7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTRweDt9LmVkdWktZWRpdG9yLXNjYWxlIC5lZHVpLWVkaXRvci1zY2FsZS1oYW5kN3tjdXJzb3I6c2UtcmVzaXplO3RvcDoxMDAlO21hcmdpbi10b3A6LTNweDtsZWZ0OjEwMCU7bWFyZ2luLWxlZnQ6LTNweDt9Iil9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zdGFydFBvcy54PW1lLnN0YXJ0UG9zLnk9MDttZS5pc0RyYWdpbmc9ZmFsc2V9LF9ldmVudEhhbmRsZXI6ZnVuY3Rpb24oZSl7dmFyIG1lPXRoaXM7c3dpdGNoKGUudHlwZSl7Y2FzZSJtb3VzZWRvd24iOnZhciBoYW5kPWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQsaGFuZDtpZihoYW5kLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLWVkaXRvci1zY2FsZS1oYW5kIikhPS0xJiZtZS5kcmFnSWQ9PS0xKXttZS5kcmFnSWQ9aGFuZC5jbGFzc05hbWUuc2xpY2UoLTEpO21lLnN0YXJ0UG9zLng9bWUucHJlUG9zLng9ZS5jbGllbnRYO21lLnN0YXJ0UG9zLnk9bWUucHJlUG9zLnk9ZS5jbGllbnRZO2RvbVV0aWxzLm9uKG1lLmRvYywibW91c2Vtb3ZlIixtZS5wcm94eShtZS5fZXZlbnRIYW5kbGVyLG1lKSl9YnJlYWs7Y2FzZSJtb3VzZW1vdmUiOmlmKG1lLmRyYWdJZCE9LTEpe21lLnVwZGF0ZUNvbnRhaW5lclN0eWxlKG1lLmRyYWdJZCx7eDplLmNsaWVudFgtbWUucHJlUG9zLngseTplLmNsaWVudFktbWUucHJlUG9zLnl9KTttZS5wcmVQb3MueD1lLmNsaWVudFg7bWUucHJlUG9zLnk9ZS5jbGllbnRZO21lLnVwZGF0ZVRhcmdldEVsZW1lbnQoKX1icmVhaztjYXNlIm1vdXNldXAiOmlmKG1lLmRyYWdJZCE9LTEpe21lLnVwZGF0ZUNvbnRhaW5lclN0eWxlKG1lLmRyYWdJZCx7eDplLmNsaWVudFgtbWUucHJlUG9zLngseTplLmNsaWVudFktbWUucHJlUG9zLnl9KTttZS51cGRhdGVUYXJnZXRFbGVtZW50KCk7aWYobWUudGFyZ2V0LnBhcmVudE5vZGUpe21lLmF0dGFjaFRvKG1lLnRhcmdldCl9bWUuZHJhZ0lkPS0xfWRvbVV0aWxzLnVuKG1lLmRvYywibW91c2Vtb3ZlIixtZS5wcm94eShtZS5fZXZlbnRIYW5kbGVyLG1lKSk7bWUuZWRpdG9yLmZpcmVFdmVudCgiY29udGVudGNoYW5nZSIpO2JyZWFrO2RlZmF1bHQ6YnJlYWt9fSx1cGRhdGVUYXJnZXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsdGFyZ2V0UG9zO2RvbVV0aWxzLnNldFN0eWxlcyhtZS50YXJnZXQse3dpZHRoOm1lLnJlc2l6ZXIuc3R5bGUud2lkdGgsaGVpZ2h0Om1lLnJlc2l6ZXIuc3R5bGUuaGVpZ2h0fSk7bWUuYXR0YWNoVG8obWUudGFyZ2V0KX0sdXBkYXRlQ29udGFpbmVyU3R5bGU6ZnVuY3Rpb24oZGlyLG9mZnNldCl7dmFyIG1lPXRoaXMsZG9tPW1lLnJlc2l6ZXIsdG1wO2lmKHJlY3RbZGlyXVswXSE9MCl7dG1wPXBhcnNlSW50KGRvbS5zdHlsZS5sZWZ0KStvZmZzZXQueDtkb20uc3R5bGUubGVmdD1tZS5fdmFsaWRTY2FsZWRQcm9wKCJsZWZ0Iix0bXApKyJweCJ9aWYocmVjdFtkaXJdWzFdIT0wKXt0bXA9cGFyc2VJbnQoZG9tLnN0eWxlLnRvcCkrb2Zmc2V0Lnk7ZG9tLnN0eWxlLnRvcD1tZS5fdmFsaWRTY2FsZWRQcm9wKCJ0b3AiLHRtcCkrInB4In1pZihyZWN0W2Rpcl1bMl0hPTApe3RtcD1kb20uY2xpZW50V2lkdGgrcmVjdFtkaXJdWzJdKm9mZnNldC54O2RvbS5zdHlsZS53aWR0aD1tZS5fdmFsaWRTY2FsZWRQcm9wKCJ3aWR0aCIsdG1wKSsicHgifWlmKHJlY3RbZGlyXVszXSE9MCl7dG1wPWRvbS5jbGllbnRIZWlnaHQrcmVjdFtkaXJdWzNdKm9mZnNldC55O2RvbS5zdHlsZS5oZWlnaHQ9bWUuX3ZhbGlkU2NhbGVkUHJvcCgiaGVpZ2h0Iix0bXApKyJweCJ9fSxfdmFsaWRTY2FsZWRQcm9wOmZ1bmN0aW9uKHByb3AsdmFsdWUpe3ZhciBlbGU9dGhpcy5yZXNpemVyLHdyYXA9ZG9jdW1lbnQ7dmFsdWU9aXNOYU4odmFsdWUpPzA6dmFsdWU7c3dpdGNoKHByb3Ape2Nhc2UibGVmdCI6cmV0dXJuIHZhbHVlPDA/MDoodmFsdWUrZWxlLmNsaWVudFdpZHRoKT53cmFwLmNsaWVudFdpZHRoP3dyYXAuY2xpZW50V2lkdGgtZWxlLmNsaWVudFdpZHRoOnZhbHVlO2Nhc2UidG9wIjpyZXR1cm4gdmFsdWU8MD8wOih2YWx1ZStlbGUuY2xpZW50SGVpZ2h0KT53cmFwLmNsaWVudEhlaWdodD93cmFwLmNsaWVudEhlaWdodC1lbGUuY2xpZW50SGVpZ2h0OnZhbHVlO2Nhc2Uid2lkdGgiOnJldHVybiB2YWx1ZTw9MD8xOih2YWx1ZStlbGUub2Zmc2V0TGVmdCk+d3JhcC5jbGllbnRXaWR0aD93cmFwLmNsaWVudFdpZHRoLWVsZS5vZmZzZXRMZWZ0OnZhbHVlO2Nhc2UiaGVpZ2h0IjpyZXR1cm4gdmFsdWU8PTA/MToodmFsdWUrZWxlLm9mZnNldFRvcCk+d3JhcC5jbGllbnRIZWlnaHQ/d3JhcC5jbGllbnRIZWlnaHQtZWxlLm9mZnNldFRvcDp2YWx1ZX19LGhpZGVDb3ZlcjpmdW5jdGlvbigpe3RoaXMuY292ZXIuc3R5bGUuZGlzcGxheT0ibm9uZSJ9LHNob3dDb3ZlcjpmdW5jdGlvbigpe3ZhciBtZT10aGlzLGVkaXRvclBvcz1kb21VdGlscy5nZXRYWShtZS5lZGl0b3IudWkuZ2V0RG9tKCkpLGlmcmFtZVBvcz1kb21VdGlscy5nZXRYWShtZS5lZGl0b3IuaWZyYW1lKTtkb21VdGlscy5zZXRTdHlsZXMobWUuY292ZXIse3dpZHRoOm1lLmVkaXRvci5pZnJhbWUub2Zmc2V0V2lkdGgrInB4IixoZWlnaHQ6bWUuZWRpdG9yLmlmcmFtZS5vZmZzZXRIZWlnaHQrInB4Iix0b3A6aWZyYW1lUG9zLnktZWRpdG9yUG9zLnkrInB4IixsZWZ0OmlmcmFtZVBvcy54LWVkaXRvclBvcy54KyJweCIscG9zaXRpb246ImFic29sdXRlIixkaXNwbGF5OiIifSl9LHNob3c6ZnVuY3Rpb24odGFyZ2V0T2JqKXt2YXIgbWU9dGhpczttZS5yZXNpemVyLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjtpZih0YXJnZXRPYmope21lLmF0dGFjaFRvKHRhcmdldE9iail9ZG9tVXRpbHMub24odGhpcy5yZXNpemVyLCJtb3VzZWRvd24iLG1lLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsbWUpKTtkb21VdGlscy5vbihtZS5kb2MsIm1vdXNldXAiLG1lLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsbWUpKTttZS5zaG93Q292ZXIoKTttZS5lZGl0b3IuZmlyZUV2ZW50KCJhZnRlcnNjYWxlc2hvdyIsbWUpO21lLmVkaXRvci5maXJlRXZlbnQoInNhdmVTY2VuZSIpfSxoaWRlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuaGlkZUNvdmVyKCk7bWUucmVzaXplci5zdHlsZS5kaXNwbGF5PSJub25lIjtkb21VdGlscy51bihtZS5yZXNpemVyLCJtb3VzZWRvd24iLG1lLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsbWUpKTtkb21VdGlscy51bihtZS5kb2MsIm1vdXNldXAiLG1lLnByb3h5KG1lLl9ldmVudEhhbmRsZXIsbWUpKTttZS5lZGl0b3IuZmlyZUV2ZW50KCJhZnRlcnNjYWxlaGlkZSIsbWUpfSxwcm94eTpmdW5jdGlvbihmbixjb250ZXh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZuLmFwcGx5KGNvbnRleHR8fHRoaXMsYXJndW1lbnRzKX19LGF0dGFjaFRvOmZ1bmN0aW9uKHRhcmdldE9iail7dmFyIG1lPXRoaXMsdGFyZ2V0PW1lLnRhcmdldD10YXJnZXRPYmoscmVzaXplcj10aGlzLnJlc2l6ZXIsaW1nUG9zPWRvbVV0aWxzLmdldFhZKHRhcmdldCksaWZyYW1lUG9zPWRvbVV0aWxzLmdldFhZKG1lLmVkaXRvci5pZnJhbWUpLGVkaXRvclBvcz1kb21VdGlscy5nZXRYWShyZXNpemVyLnBhcmVudE5vZGUpO2RvbVV0aWxzLnNldFN0eWxlcyhyZXNpemVyLHt3aWR0aDp0YXJnZXQud2lkdGgrInB4IixoZWlnaHQ6dGFyZ2V0LmhlaWdodCsicHgiLGxlZnQ6aWZyYW1lUG9zLngraW1nUG9zLngtbWUuZWRpdG9yLmRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdC1lZGl0b3JQb3MueC1wYXJzZUludChyZXNpemVyLnN0eWxlLmJvcmRlckxlZnRXaWR0aCkrInB4Iix0b3A6aWZyYW1lUG9zLnkraW1nUG9zLnktbWUuZWRpdG9yLmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLWVkaXRvclBvcy55LXBhcnNlSW50KHJlc2l6ZXIuc3R5bGUuYm9yZGVyVG9wV2lkdGgpKyJweCJ9KX19fSkoKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxpbWFnZVNjYWxlO21lLnNldE9wdCgiaW1hZ2VTY2FsZUVuYWJsZWQiLHRydWUpO2lmKCFicm93c2VyLmllJiZtZS5vcHRpb25zLmltYWdlU2NhbGVFbmFibGVkKXttZS5hZGRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKHR5cGUsZSl7dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGltZz1yYW5nZS5nZXRDbG9zZWROb2RlKCk7aWYoaW1nJiZpbWcudGFnTmFtZT09IklNRyImJm1lLmJvZHkuY29udGVudEVkaXRhYmxlIT0iZmFsc2UiKXtpZighaW1hZ2VTY2FsZSl7aW1hZ2VTY2FsZT1uZXcgU2NhbGUoKTtpbWFnZVNjYWxlLmluaXQobWUpO21lLnVpLmdldERvbSgpLmFwcGVuZENoaWxkKGltYWdlU2NhbGUucmVzaXplcik7dmFyIF9rZXlEb3duSGFuZGxlcj1mdW5jdGlvbihlKXtpbWFnZVNjYWxlLmhpZGUoKTtpZihpbWFnZVNjYWxlLnRhcmdldCl7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2VsZWN0Tm9kZShpbWFnZVNjYWxlLnRhcmdldCkuc2VsZWN0KCl9fSxfbW91c2VEb3duSGFuZGxlcj1mdW5jdGlvbihlKXt2YXIgZWxlPWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYoZWxlJiYoZWxlLmNsYXNzTmFtZT09PXVuZGVmaW5lZHx8ZWxlLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLWVkaXRvci1zY2FsZSIpPT0tMSkpe19rZXlEb3duSGFuZGxlcihlKX19LHRpbWVyO21lLmFkZExpc3RlbmVyKCJhZnRlcnNjYWxlc2hvdyIsZnVuY3Rpb24oZSl7bWUuYWRkTGlzdGVuZXIoImJlZm9yZWtleWRvd24iLF9rZXlEb3duSGFuZGxlcik7bWUuYWRkTGlzdGVuZXIoImJlZm9yZW1vdXNlZG93biIsX21vdXNlRG93bkhhbmRsZXIpO2RvbVV0aWxzLm9uKGRvY3VtZW50LCJrZXlkb3duIixfa2V5RG93bkhhbmRsZXIpO2RvbVV0aWxzLm9uKGRvY3VtZW50LCJtb3VzZWRvd24iLF9tb3VzZURvd25IYW5kbGVyKTttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkucmVtb3ZlQWxsUmFuZ2VzKCl9KTttZS5hZGRMaXN0ZW5lcigiYWZ0ZXJzY2FsZWhpZGUiLGZ1bmN0aW9uKGUpe21lLnJlbW92ZUxpc3RlbmVyKCJiZWZvcmVrZXlkb3duIixfa2V5RG93bkhhbmRsZXIpO21lLnJlbW92ZUxpc3RlbmVyKCJiZWZvcmVtb3VzZWRvd24iLF9tb3VzZURvd25IYW5kbGVyKTtkb21VdGlscy51bihkb2N1bWVudCwia2V5ZG93biIsX2tleURvd25IYW5kbGVyKTtkb21VdGlscy51bihkb2N1bWVudCwibW91c2Vkb3duIixfbW91c2VEb3duSGFuZGxlcik7dmFyIHRhcmdldD1pbWFnZVNjYWxlLnRhcmdldDtpZih0YXJnZXQucGFyZW50Tm9kZSl7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2VsZWN0Tm9kZSh0YXJnZXQpLnNlbGVjdCgpfX0pO2RvbVV0aWxzLm9uKGltYWdlU2NhbGUucmVzaXplciwibW91c2Vkb3duIixmdW5jdGlvbihlKXttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkucmVtb3ZlQWxsUmFuZ2VzKCk7dmFyIGVsZT1lLnRhcmdldHx8ZS5zcmNFbGVtZW50O2lmKGVsZSYmZWxlLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLWVkaXRvci1zY2FsZS1oYW5kIik9PS0xKXt0aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aW1hZ2VTY2FsZS5oaWRlKCk7aWYoaW1hZ2VTY2FsZS50YXJnZXQpe21lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNlbGVjdE5vZGUoZWxlKS5zZWxlY3QoKX19LDIwMCl9fSk7ZG9tVXRpbHMub24oaW1hZ2VTY2FsZS5yZXNpemVyLCJtb3VzZXVwIixmdW5jdGlvbihlKXt2YXIgZWxlPWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQ7aWYoZWxlJiZlbGUuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktZWRpdG9yLXNjYWxlLWhhbmQiKT09LTEpe2NsZWFyVGltZW91dCh0aW1lcil9fSl9aW1hZ2VTY2FsZS5zaG93KGltZyl9ZWxzZXtpZihpbWFnZVNjYWxlJiZpbWFnZVNjYWxlLnJlc2l6ZXIuc3R5bGUuZGlzcGxheSE9Im5vbmUiKXtpbWFnZVNjYWxlLmhpZGUoKX19fSl9aWYoYnJvd3Nlci53ZWJraXQpe21lLmFkZExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24odHlwZSxlKXtpZihlLnRhcmdldC50YWdOYW1lPT0iSU1HIiYmbWUuYm9keS5jb250ZW50RWRpdGFibGUhPSJmYWxzZSIpe3ZhciByYW5nZT1uZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50KTtyYW5nZS5zZWxlY3ROb2RlKGUudGFyZ2V0KS5zZWxlY3QoKX19KX19fSkoKTtVRS5wbHVnaW4ucmVnaXN0ZXIoImF1dG9saW5rIixmdW5jdGlvbigpe3ZhciBjb250PTA7cmV0dXJuICFicm93c2VyLmllP3tiaW5kRXZlbnRzOntyZXNldDpmdW5jdGlvbigpe2NvbnQ9MH0sa2V5ZG93bjpmdW5jdGlvbih0eXBlLGV2dCl7dmFyIG1lPXRoaXM7dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaDtpZihrZXlDb2RlPT0zMnx8a2V5Q29kZT09MTMpe3ZhciBzZWw9bWUuc2VsZWN0aW9uLmdldE5hdGl2ZSgpLHJhbmdlPXNlbC5nZXRSYW5nZUF0KDApLmNsb25lUmFuZ2UoKSxvZmZzZXQsY2hhckNvZGU7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyO3doaWxlKHN0YXJ0Lm5vZGVUeXBlPT0xJiZyYW5nZS5zdGFydE9mZnNldD4wKXtzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lci5jaGlsZE5vZGVzW3JhbmdlLnN0YXJ0T2Zmc2V0LTFdO2lmKCFzdGFydCl7YnJlYWt9cmFuZ2Uuc2V0U3RhcnQoc3RhcnQsc3RhcnQubm9kZVR5cGU9PTE/c3RhcnQuY2hpbGROb2Rlcy5sZW5ndGg6c3RhcnQubm9kZVZhbHVlLmxlbmd0aCk7cmFuZ2UuY29sbGFwc2UodHJ1ZSk7c3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXJ9ZG97aWYocmFuZ2Uuc3RhcnRPZmZzZXQ9PTApe3N0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyLnByZXZpb3VzU2libGluZzt3aGlsZShzdGFydCYmc3RhcnQubm9kZVR5cGU9PTEpe3N0YXJ0PXN0YXJ0Lmxhc3RDaGlsZH1pZighc3RhcnR8fGRvbVV0aWxzLmlzRmlsbENoYXIoc3RhcnQpKXticmVha31vZmZzZXQ9c3RhcnQubm9kZVZhbHVlLmxlbmd0aH1lbHNle3N0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyO29mZnNldD1yYW5nZS5zdGFydE9mZnNldH1yYW5nZS5zZXRTdGFydChzdGFydCxvZmZzZXQtMSk7Y2hhckNvZGU9cmFuZ2UudG9TdHJpbmcoKS5jaGFyQ29kZUF0KDApfXdoaWxlKGNoYXJDb2RlIT0xNjAmJmNoYXJDb2RlIT0zMik7aWYocmFuZ2UudG9TdHJpbmcoKS5yZXBsYWNlKG5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsImciKSwiIikubWF0Y2goLyg/Omh0dHBzPzpcL1wvfHNzaDpcL1wvfGZ0cDpcL1wvfGZpbGU6XC98d3d3XC4pL2kpKXt3aGlsZShyYW5nZS50b1N0cmluZygpLmxlbmd0aCl7aWYoL14oPzpodHRwcz86XC9cL3xzc2g6XC9cL3xmdHA6XC9cL3xmaWxlOlwvfHd3d1wuKS9pLnRlc3QocmFuZ2UudG9TdHJpbmcoKSkpe2JyZWFrfXRyeXtyYW5nZS5zZXRTdGFydChyYW5nZS5zdGFydENvbnRhaW5lcixyYW5nZS5zdGFydE9mZnNldCsxKX1jYXRjaChlKXt2YXIgc3RhcnQ9cmFuZ2Uuc3RhcnRDb250YWluZXI7d2hpbGUoIShuZXh0PXN0YXJ0Lm5leHRTaWJsaW5nKSl7aWYoZG9tVXRpbHMuaXNCb2R5KHN0YXJ0KSl7cmV0dXJufXN0YXJ0PXN0YXJ0LnBhcmVudE5vZGV9cmFuZ2Uuc2V0U3RhcnQobmV4dCwwKX19aWYoZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lciwiYSIsdHJ1ZSkpe3JldHVybn12YXIgYT1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIiksdGV4dD1tZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiICIpLGhyZWY7bWUudW5kb01hbmdlciYmbWUudW5kb01hbmdlci5zYXZlKCk7YS5hcHBlbmRDaGlsZChyYW5nZS5leHRyYWN0Q29udGVudHMoKSk7YS5ocmVmPWEuaW5uZXJIVE1MPWEuaW5uZXJIVE1MLnJlcGxhY2UoLzxbXj5dKz4vZywiIik7aHJlZj1hLmdldEF0dHJpYnV0ZSgiaHJlZiIpLnJlcGxhY2UobmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwiZyIpLCIiKTtocmVmPS9eKD86aHR0cHM/OlwvXC8pL2lnLnRlc3QoaHJlZik/aHJlZjoiaHR0cDovLyIraHJlZjthLnNldEF0dHJpYnV0ZSgiX3NyYyIsdXRpbHMuaHRtbChocmVmKSk7YS5ocmVmPXV0aWxzLmh0bWwoaHJlZik7cmFuZ2UuaW5zZXJ0Tm9kZShhKTthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRleHQsYS5uZXh0U2libGluZyk7cmFuZ2Uuc2V0U3RhcnQodGV4dCwwKTtyYW5nZS5jb2xsYXBzZSh0cnVlKTtzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7c2VsLmFkZFJhbmdlKHJhbmdlKTttZS51bmRvTWFuZ2VyJiZtZS51bmRvTWFuZ2VyLnNhdmUoKX19fX19Ont9fSxmdW5jdGlvbigpe3ZhciBrZXlDb2Rlcz17Mzc6MSwzODoxLDM5OjEsNDA6MSwxMzoxLDMyOjF9O2Z1bmN0aW9uIGNoZWNrSXNDbHVkZUxpbmsobm9kZSl7aWYobm9kZS5ub2RlVHlwZT09Myl7cmV0dXJuIG51bGx9aWYobm9kZS5ub2RlTmFtZT09IkEiKXtyZXR1cm4gbm9kZX12YXIgbGFzdENoaWxkPW5vZGUubGFzdENoaWxkO3doaWxlKGxhc3RDaGlsZCl7aWYobGFzdENoaWxkLm5vZGVOYW1lPT0iQSIpe3JldHVybiBsYXN0Q2hpbGR9aWYobGFzdENoaWxkLm5vZGVUeXBlPT0zKXtpZihkb21VdGlscy5pc1doaXRlc3BhY2UobGFzdENoaWxkKSl7bGFzdENoaWxkPWxhc3RDaGlsZC5wcmV2aW91c1NpYmxpbmc7Y29udGludWV9cmV0dXJuIG51bGx9bGFzdENoaWxkPWxhc3RDaGlsZC5sYXN0Q2hpbGR9fWJyb3dzZXIuaWUmJnRoaXMuYWRkTGlzdGVuZXIoImtleXVwIixmdW5jdGlvbihjbWQsZXZ0KXt2YXIgbWU9dGhpcyxrZXlDb2RlPWV2dC5rZXlDb2RlO2lmKGtleUNvZGVzW2tleUNvZGVdKXt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3ZhciBzdGFydD1ybmcuc3RhcnRDb250YWluZXI7aWYoa2V5Q29kZT09MTMpe3doaWxlKHN0YXJ0JiYhZG9tVXRpbHMuaXNCb2R5KHN0YXJ0KSYmIWRvbVV0aWxzLmlzQmxvY2tFbG0oc3RhcnQpKXtzdGFydD1zdGFydC5wYXJlbnROb2RlfWlmKHN0YXJ0JiYhZG9tVXRpbHMuaXNCb2R5KHN0YXJ0KSYmc3RhcnQubm9kZU5hbWU9PSJQIil7dmFyIHByZT1zdGFydC5wcmV2aW91c1NpYmxpbmc7aWYocHJlJiZwcmUubm9kZVR5cGU9PTEpe3ZhciBwcmU9Y2hlY2tJc0NsdWRlTGluayhwcmUpO2lmKHByZSYmIXByZS5nZXRBdHRyaWJ1dGUoIl9ocmVmIikpe2RvbVV0aWxzLnJlbW92ZShwcmUsdHJ1ZSl9fX19ZWxzZXtpZihrZXlDb2RlPT0zMil7aWYoc3RhcnQubm9kZVR5cGU9PTMmJi9eXHMkLy50ZXN0KHN0YXJ0Lm5vZGVWYWx1ZSkpe3N0YXJ0PXN0YXJ0LnByZXZpb3VzU2libGluZztpZihzdGFydCYmc3RhcnQubm9kZU5hbWU9PSJBIiYmIXN0YXJ0LmdldEF0dHJpYnV0ZSgiX2hyZWYiKSl7ZG9tVXRpbHMucmVtb3ZlKHN0YXJ0LHRydWUpfX19ZWxzZXtzdGFydD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LCJhIix0cnVlKTtpZihzdGFydCYmIXN0YXJ0LmdldEF0dHJpYnV0ZSgiX2hyZWYiKSl7dmFyIGJrPXJuZy5jcmVhdGVCb29rbWFyaygpO2RvbVV0aWxzLnJlbW92ZShzdGFydCx0cnVlKTtybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKX19fX19KX0pO1VFLnBsdWdpbnMuYXV0b2hlaWdodD1mdW5jdGlvbigpe3ZhciBtZT10aGlzO21lLmF1dG9IZWlnaHRFbmFibGVkPW1lLm9wdGlvbnMuYXV0b0hlaWdodEVuYWJsZWQhPT1mYWxzZTtpZighbWUuYXV0b0hlaWdodEVuYWJsZWQpe3JldHVybn12YXIgYmFrT3ZlcmZsb3csbGFzdEhlaWdodD0wLG9wdGlvbnM9bWUub3B0aW9ucyxjdXJyZW50SGVpZ2h0LHRpbWVyO2Z1bmN0aW9uIGFkanVzdEhlaWdodCgpe3ZhciBtZT10aGlzO2NsZWFyVGltZW91dCh0aW1lcik7aWYoaXNGdWxsc2NyZWVuKXtyZXR1cm59aWYoIW1lLnF1ZXJ5Q29tbWFuZFN0YXRlfHxtZS5xdWVyeUNvbW1hbmRTdGF0ZSYmbWUucXVlcnlDb21tYW5kU3RhdGUoInNvdXJjZSIpIT0xKXt0aW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIG5vZGU9bWUuYm9keS5sYXN0Q2hpbGQ7d2hpbGUobm9kZSYmbm9kZS5ub2RlVHlwZSE9MSl7bm9kZT1ub2RlLnByZXZpb3VzU2libGluZ31pZihub2RlJiZub2RlLm5vZGVUeXBlPT0xKXtub2RlLnN0eWxlLmNsZWFyPSJib3RoIjtjdXJyZW50SGVpZ2h0PU1hdGgubWF4KGRvbVV0aWxzLmdldFhZKG5vZGUpLnkrbm9kZS5vZmZzZXRIZWlnaHQrMjUsTWF0aC5tYXgob3B0aW9ucy5taW5GcmFtZUhlaWdodCxvcHRpb25zLmluaXRpYWxGcmFtZUhlaWdodCkpO2lmKGN1cnJlbnRIZWlnaHQhPWxhc3RIZWlnaHQpe21lLnNldEhlaWdodChjdXJyZW50SGVpZ2h0LHRydWUpO2xhc3RIZWlnaHQ9Y3VycmVudEhlaWdodH1kb21VdGlscy5yZW1vdmVTdHlsZShub2RlLCJjbGVhciIpfX0sNTApfX12YXIgaXNGdWxsc2NyZWVuO21lLmFkZExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlZCIsZnVuY3Rpb24oY21kLGYpe2lzRnVsbHNjcmVlbj1mfSk7bWUuYWRkTGlzdGVuZXIoImRlc3Ryb3kiLGZ1bmN0aW9uKCl7bWUucmVtb3ZlTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UgYWZ0ZXJpbnNlcnRodG1sIGtleXVwIG1vdXNldXAiLGFkanVzdEhlaWdodCl9KTttZS5lbmFibGVBdXRvSGVpZ2h0PWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7aWYoIW1lLmF1dG9IZWlnaHRFbmFibGVkKXtyZXR1cm59dmFyIGRvYz1tZS5kb2N1bWVudDttZS5hdXRvSGVpZ2h0RW5hYmxlZD10cnVlO2Jha092ZXJmbG93PWRvYy5ib2R5LnN0eWxlLm92ZXJmbG93WTtkb2MuYm9keS5zdHlsZS5vdmVyZmxvd1k9ImhpZGRlbiI7bWUuYWRkTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UgYWZ0ZXJpbnNlcnRodG1sIGtleXVwIG1vdXNldXAiLGFkanVzdEhlaWdodCk7c2V0VGltZW91dChmdW5jdGlvbigpe2FkanVzdEhlaWdodC5jYWxsKG1lKX0sYnJvd3Nlci5nZWNrbz8xMDA6MCk7bWUuZmlyZUV2ZW50KCJhdXRvaGVpZ2h0Y2hhbmdlZCIsbWUuYXV0b0hlaWdodEVuYWJsZWQpfTttZS5kaXNhYmxlQXV0b0hlaWdodD1mdW5jdGlvbigpe21lLmJvZHkuc3R5bGUub3ZlcmZsb3dZPWJha092ZXJmbG93fHwiIjttZS5yZW1vdmVMaXN0ZW5lcigiY29udGVudGNoYW5nZSIsYWRqdXN0SGVpZ2h0KTttZS5yZW1vdmVMaXN0ZW5lcigia2V5dXAiLGFkanVzdEhlaWdodCk7bWUucmVtb3ZlTGlzdGVuZXIoIm1vdXNldXAiLGFkanVzdEhlaWdodCk7bWUuYXV0b0hlaWdodEVuYWJsZWQ9ZmFsc2U7bWUuZmlyZUV2ZW50KCJhdXRvaGVpZ2h0Y2hhbmdlZCIsbWUuYXV0b0hlaWdodEVuYWJsZWQpfTttZS5hZGRMaXN0ZW5lcigicmVhZHkiLGZ1bmN0aW9uKCl7bWUuZW5hYmxlQXV0b0hlaWdodCgpO3ZhciB0aW1lcjtkb21VdGlscy5vbihicm93c2VyLmllP21lLmJvZHk6bWUuZG9jdW1lbnQsYnJvd3Nlci53ZWJraXQ/ImRyYWdvdmVyIjoiZHJvcCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZXIpO3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthZGp1c3RIZWlnaHQuY2FsbChtZSl9LDEwMCl9KX0pfTtVRS5wbHVnaW5zLmF1dG9mbG9hdD1mdW5jdGlvbigpe3ZhciBtZT10aGlzLGxhbmc9bWUuZ2V0TGFuZygpO21lLnNldE9wdCh7dG9wT2Zmc2V0OjB9KTt2YXIgb3B0c0F1dG9GbG9hdEVuYWJsZWQ9bWUub3B0aW9ucy5hdXRvRmxvYXRFbmFibGVkIT09ZmFsc2UsdG9wT2Zmc2V0PW1lLm9wdGlvbnMudG9wT2Zmc2V0O2lmKCFvcHRzQXV0b0Zsb2F0RW5hYmxlZCl7cmV0dXJufXZhciB1aVV0aWxzPVVFLnVpLnVpVXRpbHMsTHRlSUU2PWJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw9NixxdWlya3M9YnJvd3Nlci5xdWlya3M7ZnVuY3Rpb24gY2hlY2tIYXNVSSgpe2lmKCFVRS51aSl7YWxlcnQobGFuZy5hdXRvZmxvYXRNc2cpO3JldHVybiAwfXJldHVybiAxfWZ1bmN0aW9uIGZpeElFNkZpeGVkUG9zKCl7dmFyIGRvY1N0eWxlPWRvY3VtZW50LmJvZHkuc3R5bGU7ZG9jU3R5bGUuYmFja2dyb3VuZEltYWdlPSd1cmwoImFib3V0OmJsYW5rIiknO2RvY1N0eWxlLmJhY2tncm91bmRBdHRhY2htZW50PSJmaXhlZCJ9dmFyIGJha0Nzc1RleHQscGxhY2VIb2xkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdG9vbGJhckJveCxvcmdUb3AsZ2V0UG9zaXRpb24sZmxhZz10cnVlO2Z1bmN0aW9uIHNldEZsb2F0aW5nKCl7dmFyIHRvb2JhckJveFBvcz1kb21VdGlscy5nZXRYWSh0b29sYmFyQm94KSxvcmlnYWxGbG9hdD1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRvb2xiYXJCb3gsInBvc2l0aW9uIiksb3JpZ2FsTGVmdD1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRvb2xiYXJCb3gsImxlZnQiKTt0b29sYmFyQm94LnN0eWxlLndpZHRoPXRvb2xiYXJCb3gub2Zmc2V0V2lkdGgrInB4Ijt0b29sYmFyQm94LnN0eWxlLnpJbmRleD1tZS5vcHRpb25zLnpJbmRleCoxKzE7dG9vbGJhckJveC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShwbGFjZUhvbGRlcix0b29sYmFyQm94KTtpZihMdGVJRTZ8fChxdWlya3MmJmJyb3dzZXIuaWUpKXtpZih0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uIT0iYWJzb2x1dGUiKXt0b29sYmFyQm94LnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSJ9dG9vbGJhckJveC5zdHlsZS50b3A9KGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKS1vcmdUb3ArdG9wT2Zmc2V0KyJweCJ9ZWxzZXtpZihicm93c2VyLmllN0NvbXBhdCYmZmxhZyl7ZmxhZz1mYWxzZTt0b29sYmFyQm94LnN0eWxlLmxlZnQ9ZG9tVXRpbHMuZ2V0WFkodG9vbGJhckJveCkueC1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCsyKyJweCJ9aWYodG9vbGJhckJveC5zdHlsZS5wb3NpdGlvbiE9ImZpeGVkIil7dG9vbGJhckJveC5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO3Rvb2xiYXJCb3guc3R5bGUudG9wPXRvcE9mZnNldCsicHgiOygob3JpZ2FsRmxvYXQ9PSJhYnNvbHV0ZSJ8fG9yaWdhbEZsb2F0PT0icmVsYXRpdmUiKSYmcGFyc2VGbG9hdChvcmlnYWxMZWZ0KSkmJih0b29sYmFyQm94LnN0eWxlLmxlZnQ9dG9vYmFyQm94UG9zLngrInB4Iil9fX1mdW5jdGlvbiB1bnNldEZsb2F0aW5nKCl7ZmxhZz10cnVlO2lmKHBsYWNlSG9sZGVyLnBhcmVudE5vZGUpe3BsYWNlSG9sZGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocGxhY2VIb2xkZXIpfXRvb2xiYXJCb3guc3R5bGUuY3NzVGV4dD1iYWtDc3NUZXh0fWZ1bmN0aW9uIHVwZGF0ZUZsb2F0aW5nKCl7dmFyIHJlY3QzPWdldFBvc2l0aW9uKG1lLmNvbnRhaW5lcik7dmFyIG9mZnNldD1tZS5vcHRpb25zLnRvb2xiYXJUb3BPZmZzZXR8fDA7aWYocmVjdDMudG9wPDAmJnJlY3QzLmJvdHRvbS10b29sYmFyQm94Lm9mZnNldEhlaWdodD5vZmZzZXQpe3NldEZsb2F0aW5nKCl9ZWxzZXt1bnNldEZsb2F0aW5nKCl9fXZhciBkZWZlcl91cGRhdGVGbG9hdGluZz11dGlscy5kZWZlcihmdW5jdGlvbigpe3VwZGF0ZUZsb2F0aW5nKCl9LGJyb3dzZXIuaWU/MjAwOjEwMCx0cnVlKTttZS5hZGRMaXN0ZW5lcigiZGVzdHJveSIsZnVuY3Rpb24oKXtkb21VdGlscy51bih3aW5kb3csWyJzY3JvbGwiLCJyZXNpemUiXSx1cGRhdGVGbG9hdGluZyk7bWUucmVtb3ZlTGlzdGVuZXIoImtleWRvd24iLGRlZmVyX3VwZGF0ZUZsb2F0aW5nKX0pO21lLmFkZExpc3RlbmVyKCJyZWFkeSIsZnVuY3Rpb24oKXtpZihjaGVja0hhc1VJKG1lKSl7aWYoIW1lLnVpKXtyZXR1cm59Z2V0UG9zaXRpb249dWlVdGlscy5nZXRDbGllbnRSZWN0O3Rvb2xiYXJCb3g9bWUudWkuZ2V0RG9tKCJ0b29sYmFyYm94Iik7b3JnVG9wPWdldFBvc2l0aW9uKHRvb2xiYXJCb3gpLnRvcDtiYWtDc3NUZXh0PXRvb2xiYXJCb3guc3R5bGUuY3NzVGV4dDtwbGFjZUhvbGRlci5zdHlsZS5oZWlnaHQ9dG9vbGJhckJveC5vZmZzZXRIZWlnaHQrInB4IjtpZihMdGVJRTYpe2ZpeElFNkZpeGVkUG9zKCl9ZG9tVXRpbHMub24od2luZG93LFsic2Nyb2xsIiwicmVzaXplIl0sdXBkYXRlRmxvYXRpbmcpO21lLmFkZExpc3RlbmVyKCJrZXlkb3duIixkZWZlcl91cGRhdGVGbG9hdGluZyk7bWUuYWRkTGlzdGVuZXIoImJlZm9yZWZ1bGxzY3JlZW5jaGFuZ2UiLGZ1bmN0aW9uKHQsZW5hYmxlZCl7aWYoZW5hYmxlZCl7dW5zZXRGbG9hdGluZygpfX0pO21lLmFkZExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlZCIsZnVuY3Rpb24odCxlbmFibGVkKXtpZighZW5hYmxlZCl7dXBkYXRlRmxvYXRpbmcoKX19KTttZS5hZGRMaXN0ZW5lcigic291cmNlbW9kZWNoYW5nZWQiLGZ1bmN0aW9uKHQsZW5hYmxlZCl7c2V0VGltZW91dChmdW5jdGlvbigpe3VwZGF0ZUZsb2F0aW5nKCl9LDApfSk7bWUuYWRkTGlzdGVuZXIoImNsZWFyRG9jIixmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1cGRhdGVGbG9hdGluZygpfSwwKX0pfX0pfTtVRS5wbHVnaW5zLnBhc3RlcGxhaW49ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczttZS5zZXRPcHQoe3Bhc3RlcGxhaW46ZmFsc2UsZmlsdGVyVHh0UnVsZXM6ZnVuY3Rpb24oKXtmdW5jdGlvbiB0cmFuc1Aobm9kZSl7bm9kZS50YWdOYW1lPSJwIjtub2RlLnNldFN0eWxlKCl9ZnVuY3Rpb24gcmVtb3ZlTm9kZShub2RlKXtub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSx0cnVlKX1yZXR1cm57Ii0iOiJzY3JpcHQgc3R5bGUgb2JqZWN0IGlmcmFtZSBlbWJlZCBpbnB1dCBzZWxlY3QiLHA6eyQ6e319LGJyOnskOnt9fSxkaXY6ZnVuY3Rpb24obm9kZSl7dmFyIHRtcE5vZGUscD1VRS51Tm9kZS5jcmVhdGVFbGVtZW50KCJwIik7d2hpbGUodG1wTm9kZT1ub2RlLmZpcnN0Q2hpbGQoKSl7aWYodG1wTm9kZS50eXBlPT0idGV4dCJ8fCFVRS5kb20uZHRkLiRibG9ja1t0bXBOb2RlLnRhZ05hbWVdKXtwLmFwcGVuZENoaWxkKHRtcE5vZGUpfWVsc2V7aWYocC5maXJzdENoaWxkKCkpe25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocCxub2RlKTtwPVVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoInAiKX1lbHNle25vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodG1wTm9kZSxub2RlKX19fWlmKHAuZmlyc3RDaGlsZCgpKXtub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsbm9kZSl9bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpfSxvbDpyZW1vdmVOb2RlLHVsOnJlbW92ZU5vZGUsZGw6cmVtb3ZlTm9kZSxkdDpyZW1vdmVOb2RlLGRkOnJlbW92ZU5vZGUsbGk6cmVtb3ZlTm9kZSxjYXB0aW9uOnRyYW5zUCx0aDp0cmFuc1AsdHI6dHJhbnNQLGgxOnRyYW5zUCxoMjp0cmFuc1AsaDM6dHJhbnNQLGg0OnRyYW5zUCxoNTp0cmFuc1AsaDY6dHJhbnNQLHRkOmZ1bmN0aW9uKG5vZGUpe3ZhciB0eHQ9ISFub2RlLmlubmVyVGV4dCgpO2lmKHR4dCl7bm9kZS5wYXJlbnROb2RlLmluc2VydEFmdGVyKFVFLnVOb2RlLmNyZWF0ZVRleHQoIiAmbmJzcDsgJm5ic3A7Iiksbm9kZSl9bm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUsbm9kZS5pbm5lclRleHQoKSl9fX0oKX0pO3ZhciBwYXN0ZXBsYWluPW1lLm9wdGlvbnMucGFzdGVwbGFpbjttZS5jb21tYW5kcy5wYXN0ZXBsYWluPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBwYXN0ZXBsYWluPzE6MH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXtwYXN0ZXBsYWluPSFwYXN0ZXBsYWlufDB9LG5vdE5lZWRVbmRvOjF9fTtVRS5wbHVnaW5zLnZpZGVvPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7ZnVuY3Rpb24gY3JlYXRJbnNlcnRTdHIodXJsLHdpZHRoLGhlaWdodCxpZCxhbGlnbixjbGFzc25hbWUsdHlwZSl7dmFyIHN0cjtzd2l0Y2godHlwZSl7Y2FzZSJpbWFnZSI6c3RyPSI8aW1nICIrKGlkPydpZD0iJytpZCsnIic6IiIpKycgd2lkdGg9Iicrd2lkdGgrJyIgaGVpZ2h0PSInK2hlaWdodCsnIiBfdXJsPSInK3VybCsnIiBjbGFzcz0iJytjbGFzc25hbWUrJyIgc3JjPSInK21lLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCsndGhlbWVzL2RlZmF1bHQvaW1hZ2VzL3NwYWNlci5naWYiIHN0eWxlPSJiYWNrZ3JvdW5kOnVybCgnK21lLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCsidGhlbWVzL2RlZmF1bHQvaW1hZ2VzL3ZpZGVvbG9nby5naWYpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyOyBib3JkZXI6MXB4IHNvbGlkIGdyYXk7IisoYWxpZ24/ImZsb2F0OiIrYWxpZ24rIjsiOiIiKSsnIiAvPic7YnJlYWs7Y2FzZSJlbWJlZCI6c3RyPSc8ZW1iZWQgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGNsYXNzPSInK2NsYXNzbmFtZSsnIiBwbHVnaW5zcGFnZT0iaHR0cDovL3d3dy5tYWNyb21lZGlhLmNvbS9nby9nZXRmbGFzaHBsYXllciIgc3JjPSInK3V0aWxzLmh0bWwodXJsKSsnIiB3aWR0aD0iJyt3aWR0aCsnIiBoZWlnaHQ9IicraGVpZ2h0KyciJysoYWxpZ24/JyBzdHlsZT0iZmxvYXQ6JythbGlnbisnIic6IiIpKycgd21vZGU9InRyYW5zcGFyZW50IiBwbGF5PSJ0cnVlIiBsb29wPSJmYWxzZSIgbWVudT0iZmFsc2UiIGFsbG93c2NyaXB0YWNjZXNzPSJuZXZlciIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiA+JzticmVhaztjYXNlInZpZGVvIjp2YXIgZXh0PXVybC5zdWJzdHIodXJsLmxhc3RJbmRleE9mKCIuIikrMSk7aWYoZXh0PT0ib2d2Iil7ZXh0PSJvZ2cifXN0cj0iPHZpZGVvIisoaWQ/JyBpZD0iJytpZCsnIic6IiIpKycgY2xhc3M9IicrY2xhc3NuYW1lKyciICcrKGFsaWduPycgc3R5bGU9ImZsb2F0OicrYWxpZ24rJyInOiIiKSsnIGNvbnRyb2xzIHByZWxvYWQ9Im5vbmUiIHdpZHRoPSInK3dpZHRoKyciIGhlaWdodD0iJytoZWlnaHQrJyIgc3JjPSInK3VybCsnIiBkYXRhLXNldHVwPSJ7fSI+PHNvdXJjZSBzcmM9IicrdXJsKyciIHR5cGU9InZpZGVvLycrZXh0KyciIC8+PC92aWRlbz4nO2JyZWFrfXJldHVybiBzdHJ9ZnVuY3Rpb24gc3dpdGNoSW1nQW5kVmlkZW8ocm9vdCxpbWcydmlkZW8pe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZShpbWcydmlkZW8/ImltZyI6ImVtYmVkIHZpZGVvIiksZnVuY3Rpb24obm9kZSl7dmFyIGNsYXNzTmFtZT1ub2RlLmdldEF0dHIoImNsYXNzIik7aWYoY2xhc3NOYW1lJiZjbGFzc05hbWUuaW5kZXhPZigiZWR1aS1mYWtlZC12aWRlbyIpIT0tMSl7dmFyIGh0bWw9Y3JlYXRJbnNlcnRTdHIoaW1nMnZpZGVvP25vZGUuZ2V0QXR0cigiX3VybCIpOm5vZGUuZ2V0QXR0cigic3JjIiksbm9kZS5nZXRBdHRyKCJ3aWR0aCIpLG5vZGUuZ2V0QXR0cigiaGVpZ2h0IiksbnVsbCxub2RlLmdldFN0eWxlKCJmbG9hdCIpfHwiIixjbGFzc05hbWUsaW1nMnZpZGVvPyJlbWJlZCI6ImltYWdlIik7bm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChVRS51Tm9kZS5jcmVhdGVFbGVtZW50KGh0bWwpLG5vZGUpfWlmKGNsYXNzTmFtZSYmY2xhc3NOYW1lLmluZGV4T2YoImVkdWktdXBsb2FkLXZpZGVvIikhPS0xKXt2YXIgaHRtbD1jcmVhdEluc2VydFN0cihpbWcydmlkZW8/bm9kZS5nZXRBdHRyKCJfdXJsIik6bm9kZS5nZXRBdHRyKCJzcmMiKSxub2RlLmdldEF0dHIoIndpZHRoIiksbm9kZS5nZXRBdHRyKCJoZWlnaHQiKSxudWxsLG5vZGUuZ2V0U3R5bGUoImZsb2F0Iil8fCIiLGNsYXNzTmFtZSxpbWcydmlkZW8/InZpZGVvIjoiaW1hZ2UiKTtub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKFVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoaHRtbCksbm9kZSl9fSl9bWUuYWRkT3V0cHV0UnVsZShmdW5jdGlvbihyb290KXtzd2l0Y2hJbWdBbmRWaWRlbyhyb290LHRydWUpfSk7bWUuYWRkSW5wdXRSdWxlKGZ1bmN0aW9uKHJvb3Qpe3N3aXRjaEltZ0FuZFZpZGVvKHJvb3QpfSk7bWUuY29tbWFuZHMuaW5zZXJ0dmlkZW89e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCx2aWRlb09ianMsdHlwZSl7dmlkZW9PYmpzPXV0aWxzLmlzQXJyYXkodmlkZW9PYmpzKT92aWRlb09ianM6W3ZpZGVvT2Jqc107dmFyIGh0bWw9W10saWQ9InRtcFZlZGlvIixjbDtmb3IodmFyIGk9MCx2aSxsZW49dmlkZW9PYmpzLmxlbmd0aDtpPGxlbjtpKyspe3ZpPXZpZGVvT2Jqc1tpXTtjbD0odHlwZT09InVwbG9hZCI/ImVkdWktdXBsb2FkLXZpZGVvIHZpZGVvLWpzIHZqcy1kZWZhdWx0LXNraW4iOiJlZHVpLWZha2VkLXZpZGVvIik7aHRtbC5wdXNoKGNyZWF0SW5zZXJ0U3RyKHZpLnVybCx2aS53aWR0aHx8NDIwLHZpLmhlaWdodHx8MjgwLGlkK2ksbnVsbCxjbCwiaW1hZ2UiKSl9bWUuZXhlY0NvbW1hbmQoImluc2VydGh0bWwiLGh0bWwuam9pbigiIiksdHJ1ZSk7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2Zvcih2YXIgaT0wLGxlbj12aWRlb09ianMubGVuZ3RoO2k8bGVuO2krKyl7dmFyIGltZz10aGlzLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ0bXBWZWRpbyIraSk7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhpbWcsImlkIik7cm5nLnNlbGVjdE5vZGUoaW1nKS5zZWxlY3QoKTttZS5leGVjQ29tbWFuZCgiaW1hZ2VmbG9hdCIsdmlkZW9PYmpzW2ldLmFsaWduKX19LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIGltZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5nZXRDbG9zZWROb2RlKCksZmxhZz1pbWcmJihpbWcuY2xhc3NOYW1lPT0iZWR1aS1mYWtlZC12aWRlbyJ8fGltZy5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS11cGxvYWQtdmlkZW8iKSE9LTEpO3JldHVybiBmbGFnPzE6MH19fTsoZnVuY3Rpb24oKXt2YXIgVUVUYWJsZT1VRS5VRVRhYmxlPWZ1bmN0aW9uKHRhYmxlKXt0aGlzLnRhYmxlPXRhYmxlO3RoaXMuaW5kZXhUYWJsZT1bXTt0aGlzLnNlbGVjdGVkVGRzPVtdO3RoaXMuY2VsbHNSYW5nZT17fTt0aGlzLnVwZGF0ZSh0YWJsZSl9O1VFVGFibGUucmVtb3ZlU2VsZWN0ZWRDbGFzcz1mdW5jdGlvbihjZWxscyl7dXRpbHMuZWFjaChjZWxscyxmdW5jdGlvbihjZWxsKXtkb21VdGlscy5yZW1vdmVDbGFzc2VzKGNlbGwsInNlbGVjdFRkQ2xhc3MiKX0pfTtVRVRhYmxlLmFkZFNlbGVjdGVkQ2xhc3M9ZnVuY3Rpb24oY2VsbHMpe3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24oY2VsbCl7ZG9tVXRpbHMuYWRkQ2xhc3MoY2VsbCwic2VsZWN0VGRDbGFzcyIpfSl9O1VFVGFibGUuaXNFbXB0eUJsb2NrPWZ1bmN0aW9uKG5vZGUpe3ZhciByZWc9bmV3IFJlZ0V4cChkb21VdGlscy5maWxsQ2hhciwiZyIpO2lmKG5vZGVbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXS5yZXBsYWNlKC9eXHMqJC8sIiIpLnJlcGxhY2UocmVnLCIiKS5sZW5ndGg+MCl7cmV0dXJuIDB9Zm9yKHZhciBpIGluIGR0ZC4kaXNOb3RFbXB0eSl7aWYoZHRkLiRpc05vdEVtcHR5Lmhhc093blByb3BlcnR5KGkpKXtpZihub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGkpLmxlbmd0aCl7cmV0dXJuIDB9fX1yZXR1cm4gMX07VUVUYWJsZS5nZXRXaWR0aD1mdW5jdGlvbihjZWxsKXtpZighY2VsbCl7cmV0dXJuIDB9cmV0dXJuIHBhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoY2VsbCwid2lkdGgiKSwxMCl9O1VFVGFibGUuZ2V0VGFibGVDZWxsQWxpZ25TdGF0ZT1mdW5jdGlvbihjZWxscyl7IXV0aWxzLmlzQXJyYXkoY2VsbHMpJiYoY2VsbHM9W2NlbGxzXSk7dmFyIHJlc3VsdD17fSxzdGF0dXM9WyJhbGlnbiIsInZhbGlnbiJdLHRlbXBTdGF0dXM9bnVsbCxpc1NhbWU9dHJ1ZTt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGxOb2RlKXt1dGlscy5lYWNoKHN0YXR1cyxmdW5jdGlvbihjdXJyZW50U3RhdGUpe3RlbXBTdGF0dXM9Y2VsbE5vZGUuZ2V0QXR0cmlidXRlKGN1cnJlbnRTdGF0ZSk7aWYoIXJlc3VsdFtjdXJyZW50U3RhdGVdJiZ0ZW1wU3RhdHVzKXtyZXN1bHRbY3VycmVudFN0YXRlXT10ZW1wU3RhdHVzfWVsc2V7aWYoIXJlc3VsdFtjdXJyZW50U3RhdGVdfHwodGVtcFN0YXR1cyE9PXJlc3VsdFtjdXJyZW50U3RhdGVdKSl7aXNTYW1lPWZhbHNlO3JldHVybiBmYWxzZX19fSk7cmV0dXJuIGlzU2FtZX0pO3JldHVybiBpc1NhbWU/cmVzdWx0Om51bGx9O1VFVGFibGUuZ2V0VGFibGVJdGVtc0J5UmFuZ2U9ZnVuY3Rpb24oZWRpdG9yKXt2YXIgc3RhcnQ9ZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpO2lmKHN0YXJ0JiZzdGFydC5pZCYmc3RhcnQuaWQuaW5kZXhPZigiX2JhaWR1X2Jvb2ttYXJrX3N0YXJ0XyIpPT09MCl7c3RhcnQ9c3RhcnQubmV4dFNpYmxpbmd9dmFyIGNlbGw9c3RhcnQmJmRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsWyJ0ZCIsInRoIl0sdHJ1ZSksdHI9Y2VsbCYmY2VsbC5wYXJlbnROb2RlLGNhcHRpb249c3RhcnQmJmRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsImNhcHRpb24iLHRydWUpLHRhYmxlPWNhcHRpb24/Y2FwdGlvbi5wYXJlbnROb2RlOnRyJiZ0ci5wYXJlbnROb2RlLnBhcmVudE5vZGU7cmV0dXJue2NlbGw6Y2VsbCx0cjp0cix0YWJsZTp0YWJsZSxjYXB0aW9uOmNhcHRpb259fTtVRVRhYmxlLmdldFVFVGFibGVCeVNlbGVjdGVkPWZ1bmN0aW9uKGVkaXRvcil7dmFyIHRhYmxlPVVFVGFibGUuZ2V0VGFibGVJdGVtc0J5UmFuZ2UoZWRpdG9yKS50YWJsZTtpZih0YWJsZSYmdGFibGUudWVUYWJsZSYmdGFibGUudWVUYWJsZS5zZWxlY3RlZFRkcy5sZW5ndGgpe3JldHVybiB0YWJsZS51ZVRhYmxlfXJldHVybiBudWxsfTtVRVRhYmxlLmdldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihlZGl0b3IsdGFibGUpe3ZhciBib3JkZXJNYXA9e3RoaW46IjBweCIsbWVkaXVtOiIxcHgiLHRoaWNrOiIycHgifSx0YWJsZUJvcmRlcix0ZFBhZGRpbmcsdGRCb3JkZXIsdG1wVmFsdWU7aWYoIXRhYmxlKXt0YWJsZT1lZGl0b3IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTt0YWJsZS5pbnNlcnRSb3coMCkuaW5zZXJ0Q2VsbCgwKS5pbm5lckhUTUw9Inh4eCI7ZWRpdG9yLmJvZHkuYXBwZW5kQ2hpbGQodGFibGUpO3ZhciB0ZD10YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKVswXTt0bXBWYWx1ZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRhYmxlLCJib3JkZXItbGVmdC13aWR0aCIpO3RhYmxlQm9yZGVyPXBhcnNlSW50KGJvcmRlck1hcFt0bXBWYWx1ZV18fHRtcFZhbHVlLDEwKTt0bXBWYWx1ZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRkLCJwYWRkaW5nLWxlZnQiKTt0ZFBhZGRpbmc9cGFyc2VJbnQoYm9yZGVyTWFwW3RtcFZhbHVlXXx8dG1wVmFsdWUsMTApO3RtcFZhbHVlPWRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUodGQsImJvcmRlci1sZWZ0LXdpZHRoIik7dGRCb3JkZXI9cGFyc2VJbnQoYm9yZGVyTWFwW3RtcFZhbHVlXXx8dG1wVmFsdWUsMTApO2RvbVV0aWxzLnJlbW92ZSh0YWJsZSk7cmV0dXJue3RhYmxlQm9yZGVyOnRhYmxlQm9yZGVyLHRkUGFkZGluZzp0ZFBhZGRpbmcsdGRCb3JkZXI6dGRCb3JkZXJ9fWVsc2V7dGQ9dGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIilbMF07dG1wVmFsdWU9ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0YWJsZSwiYm9yZGVyLWxlZnQtd2lkdGgiKTt0YWJsZUJvcmRlcj1wYXJzZUludChib3JkZXJNYXBbdG1wVmFsdWVdfHx0bXBWYWx1ZSwxMCk7dG1wVmFsdWU9ZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0ZCwicGFkZGluZy1sZWZ0Iik7dGRQYWRkaW5nPXBhcnNlSW50KGJvcmRlck1hcFt0bXBWYWx1ZV18fHRtcFZhbHVlLDEwKTt0bXBWYWx1ZT1kb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKHRkLCJib3JkZXItbGVmdC13aWR0aCIpO3RkQm9yZGVyPXBhcnNlSW50KGJvcmRlck1hcFt0bXBWYWx1ZV18fHRtcFZhbHVlLDEwKTtyZXR1cm57dGFibGVCb3JkZXI6dGFibGVCb3JkZXIsdGRQYWRkaW5nOnRkUGFkZGluZyx0ZEJvcmRlcjp0ZEJvcmRlcn19fTtVRVRhYmxlLmdldFVFVGFibGU9ZnVuY3Rpb24odGRPclRhYmxlKXt2YXIgdGFnPXRkT3JUYWJsZS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7dGRPclRhYmxlPSh0YWc9PSJ0ZCJ8fHRhZz09InRoInx8dGFnPT0iY2FwdGlvbiIpP2RvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUodGRPclRhYmxlLCJ0YWJsZSIsdHJ1ZSk6dGRPclRhYmxlO2lmKCF0ZE9yVGFibGUudWVUYWJsZSl7dGRPclRhYmxlLnVlVGFibGU9bmV3IFVFVGFibGUodGRPclRhYmxlKX1yZXR1cm4gdGRPclRhYmxlLnVlVGFibGV9O1VFVGFibGUuY2xvbmVDZWxsPWZ1bmN0aW9uKGNlbGwsaWdub3JlTWVyZ2Usa2VlcFBybyl7aWYoIWNlbGx8fHV0aWxzLmlzU3RyaW5nKGNlbGwpKXtyZXR1cm4gdGhpcy50YWJsZS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoY2VsbHx8InRkIil9dmFyIGZsYWc9ZG9tVXRpbHMuaGFzQ2xhc3MoY2VsbCwic2VsZWN0VGRDbGFzcyIpO2ZsYWcmJmRvbVV0aWxzLnJlbW92ZUNsYXNzZXMoY2VsbCwic2VsZWN0VGRDbGFzcyIpO3ZhciB0bXBDZWxsPWNlbGwuY2xvbmVOb2RlKHRydWUpO2lmKGlnbm9yZU1lcmdlKXt0bXBDZWxsLnJvd1NwYW49dG1wQ2VsbC5jb2xTcGFuPTF9IWtlZXBQcm8mJmRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXModG1wQ2VsbCwid2lkdGggaGVpZ2h0Iik7IWtlZXBQcm8mJmRvbVV0aWxzLnJlbW92ZUF0dHJpYnV0ZXModG1wQ2VsbCwic3R5bGUiKTt0bXBDZWxsLnN0eWxlLmJvcmRlckxlZnRTdHlsZT0iIjt0bXBDZWxsLnN0eWxlLmJvcmRlclRvcFN0eWxlPSIiO3RtcENlbGwuc3R5bGUuYm9yZGVyTGVmdENvbG9yPWNlbGwuc3R5bGUuYm9yZGVyUmlnaHRDb2xvcjt0bXBDZWxsLnN0eWxlLmJvcmRlckxlZnRXaWR0aD1jZWxsLnN0eWxlLmJvcmRlclJpZ2h0V2lkdGg7dG1wQ2VsbC5zdHlsZS5ib3JkZXJUb3BDb2xvcj1jZWxsLnN0eWxlLmJvcmRlckJvdHRvbUNvbG9yO3RtcENlbGwuc3R5bGUuYm9yZGVyVG9wV2lkdGg9Y2VsbC5zdHlsZS5ib3JkZXJCb3R0b21XaWR0aDtmbGFnJiZkb21VdGlscy5hZGRDbGFzcyhjZWxsLCJzZWxlY3RUZENsYXNzIik7cmV0dXJuIHRtcENlbGx9O1VFVGFibGUucHJvdG90eXBlPXtnZXRNYXhSb3dzOmZ1bmN0aW9uKCl7dmFyIHJvd3M9dGhpcy50YWJsZS5yb3dzLG1heExlbj0xO2Zvcih2YXIgaT0wLHJvdztyb3c9cm93c1tpXTtpKyspe3ZhciBjdXJyZW50TWF4PTE7Zm9yKHZhciBqPTAsY2o7Y2o9cm93LmNlbGxzW2orK107KXtjdXJyZW50TWF4PU1hdGgubWF4KGNqLnJvd1NwYW58fDEsY3VycmVudE1heCl9bWF4TGVuPU1hdGgubWF4KGN1cnJlbnRNYXgraSxtYXhMZW4pfXJldHVybiBtYXhMZW59LGdldE1heENvbHM6ZnVuY3Rpb24oKXt2YXIgcm93cz10aGlzLnRhYmxlLnJvd3MsbWF4TGVuPTAsY2VsbFJvd3M9e307Zm9yKHZhciBpPTAscm93O3Jvdz1yb3dzW2ldO2krKyl7dmFyIGNlbGxzTnVtPTA7Zm9yKHZhciBqPTAsY2o7Y2o9cm93LmNlbGxzW2orK107KXtjZWxsc051bSs9KGNqLmNvbFNwYW58fDEpO2lmKGNqLnJvd1NwYW4mJmNqLnJvd1NwYW4+MSl7Zm9yKHZhciBrPTE7azxjai5yb3dTcGFuO2srKyl7aWYoIWNlbGxSb3dzWyJyb3dfIisoaStrKV0pe2NlbGxSb3dzWyJyb3dfIisoaStrKV09KGNqLmNvbFNwYW58fDEpfWVsc2V7Y2VsbFJvd3NbInJvd18iKyhpK2spXSsrfX19fWNlbGxzTnVtKz1jZWxsUm93c1sicm93XyIraV18fDA7bWF4TGVuPU1hdGgubWF4KGNlbGxzTnVtLG1heExlbil9cmV0dXJuIG1heExlbn0sZ2V0Q2VsbENvbEluZGV4OmZ1bmN0aW9uKGNlbGwpe30sZ2V0SFNpZGVDZWxsOmZ1bmN0aW9uKGNlbGwscmlnaHQpe3RyeXt2YXIgY2VsbEluZm89dGhpcy5nZXRDZWxsSW5mbyhjZWxsKSxwcmV2aWV3Um93SW5kZXgscHJldmlld0NvbEluZGV4O3ZhciBsZW49dGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgscmFuZ2U9dGhpcy5jZWxsc1JhbmdlO2lmKCghcmlnaHQmJighbGVuPyFjZWxsSW5mby5jb2xJbmRleDohcmFuZ2UuYmVnaW5Db2xJbmRleCkpfHwocmlnaHQmJighbGVuPyhjZWxsSW5mby5jb2xJbmRleD09KHRoaXMuY29sc051bS0xKSk6KHJhbmdlLmVuZENvbEluZGV4PT10aGlzLmNvbHNOdW0tMSkpKSl7cmV0dXJuIG51bGx9cHJldmlld1Jvd0luZGV4PSFsZW4/Y2VsbEluZm8ucm93SW5kZXg6cmFuZ2UuYmVnaW5Sb3dJbmRleDtwcmV2aWV3Q29sSW5kZXg9IXJpZ2h0PyghbGVuPyhjZWxsSW5mby5jb2xJbmRleDwxPzA6KGNlbGxJbmZvLmNvbEluZGV4LTEpKTpyYW5nZS5iZWdpbkNvbEluZGV4LTEpOighbGVuP2NlbGxJbmZvLmNvbEluZGV4KzE6cmFuZ2UuZW5kQ29sSW5kZXgrMSk7cmV0dXJuIHRoaXMuZ2V0Q2VsbCh0aGlzLmluZGV4VGFibGVbcHJldmlld1Jvd0luZGV4XVtwcmV2aWV3Q29sSW5kZXhdLnJvd0luZGV4LHRoaXMuaW5kZXhUYWJsZVtwcmV2aWV3Um93SW5kZXhdW3ByZXZpZXdDb2xJbmRleF0uY2VsbEluZGV4KX1jYXRjaChlKXtzaG93RXJyb3IoZSl9fSxnZXRUYWJOZXh0Q2VsbDpmdW5jdGlvbihjZWxsLHByZVJvd0luZGV4KXt2YXIgY2VsbEluZm89dGhpcy5nZXRDZWxsSW5mbyhjZWxsKSxyb3dJbmRleD1wcmVSb3dJbmRleHx8Y2VsbEluZm8ucm93SW5kZXgsY29sSW5kZXg9Y2VsbEluZm8uY29sSW5kZXgrMSsoY2VsbEluZm8uY29sU3Bhbi0xKSxuZXh0Q2VsbDt0cnl7bmV4dENlbGw9dGhpcy5nZXRDZWxsKHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdLnJvd0luZGV4LHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdLmNlbGxJbmRleCl9Y2F0Y2goZSl7dHJ5e3Jvd0luZGV4PXJvd0luZGV4KjErMTtjb2xJbmRleD0wO25leHRDZWxsPXRoaXMuZ2V0Q2VsbCh0aGlzLmluZGV4VGFibGVbcm93SW5kZXhdW2NvbEluZGV4XS5yb3dJbmRleCx0aGlzLmluZGV4VGFibGVbcm93SW5kZXhdW2NvbEluZGV4XS5jZWxsSW5kZXgpfWNhdGNoKGUpe319cmV0dXJuIG5leHRDZWxsfSxnZXRWU2lkZUNlbGw6ZnVuY3Rpb24oY2VsbCxib3R0b20saWdub3JlUmFuZ2Upe3RyeXt2YXIgY2VsbEluZm89dGhpcy5nZXRDZWxsSW5mbyhjZWxsKSxuZXh0Um93SW5kZXgsbmV4dENvbEluZGV4O3ZhciBsZW49dGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgmJiFpZ25vcmVSYW5nZSxyYW5nZT10aGlzLmNlbGxzUmFuZ2U7aWYoKCFib3R0b20mJihjZWxsSW5mby5yb3dJbmRleD09MCkpfHwoYm90dG9tJiYoIWxlbj8oY2VsbEluZm8ucm93SW5kZXgrY2VsbEluZm8ucm93U3Bhbj50aGlzLnJvd3NOdW0tMSk6KHJhbmdlLmVuZFJvd0luZGV4PT10aGlzLnJvd3NOdW0tMSkpKSl7cmV0dXJuIG51bGx9bmV4dFJvd0luZGV4PSFib3R0b20/KCFsZW4/Y2VsbEluZm8ucm93SW5kZXgtMTpyYW5nZS5iZWdpblJvd0luZGV4LTEpOighbGVuPyhjZWxsSW5mby5yb3dJbmRleCtjZWxsSW5mby5yb3dTcGFuKTpyYW5nZS5lbmRSb3dJbmRleCsxKTtuZXh0Q29sSW5kZXg9IWxlbj9jZWxsSW5mby5jb2xJbmRleDpyYW5nZS5iZWdpbkNvbEluZGV4O3JldHVybiB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5yb3dJbmRleCx0aGlzLmluZGV4VGFibGVbbmV4dFJvd0luZGV4XVtuZXh0Q29sSW5kZXhdLmNlbGxJbmRleCl9Y2F0Y2goZSl7c2hvd0Vycm9yKGUpfX0sZ2V0U2FtZUVuZFBvc0NlbGxzOmZ1bmN0aW9uKGNlbGwseE9yWSl7dHJ5e3ZhciBmbGFnPSh4T3JZLnRvTG93ZXJDYXNlKCk9PT0ieCIpLGVuZD1kb21VdGlscy5nZXRYWShjZWxsKVtmbGFnPyJ4IjoieSJdK2NlbGxbIm9mZnNldCIrKGZsYWc/IldpZHRoIjoiSGVpZ2h0IildLHJvd3M9dGhpcy50YWJsZS5yb3dzLGNlbGxzPW51bGwscmV0dXJucz1bXTtmb3IodmFyIGk9MDtpPHRoaXMucm93c051bTtpKyspe2NlbGxzPXJvd3NbaV0uY2VsbHM7Zm9yKHZhciBqPTAsdG1wQ2VsbDt0bXBDZWxsPWNlbGxzW2orK107KXt2YXIgdG1wRW5kPWRvbVV0aWxzLmdldFhZKHRtcENlbGwpW2ZsYWc/IngiOiJ5Il0rdG1wQ2VsbFsib2Zmc2V0IisoZmxhZz8iV2lkdGgiOiJIZWlnaHQiKV07aWYodG1wRW5kPmVuZCYmZmxhZyl7YnJlYWt9aWYoY2VsbD09dG1wQ2VsbHx8ZW5kPT10bXBFbmQpe2lmKHRtcENlbGxbZmxhZz8iY29sU3BhbiI6InJvd1NwYW4iXT09MSl7cmV0dXJucy5wdXNoKHRtcENlbGwpfWlmKGZsYWcpe2JyZWFrfX19fXJldHVybiByZXR1cm5zfWNhdGNoKGUpe3Nob3dFcnJvcihlKX19LHNldENlbGxDb250ZW50OmZ1bmN0aW9uKGNlbGwsY29udGVudCl7Y2VsbC5pbm5lckhUTUw9Y29udGVudHx8KGJyb3dzZXIuaWU/ZG9tVXRpbHMuZmlsbENoYXI6IjxiciAvPiIpfSxjbG9uZUNlbGw6VUVUYWJsZS5jbG9uZUNlbGwsZ2V0U2FtZVN0YXJ0UG9zWENlbGxzOmZ1bmN0aW9uKGNlbGwpe3RyeXt2YXIgc3RhcnQ9ZG9tVXRpbHMuZ2V0WFkoY2VsbCkueCtjZWxsLm9mZnNldFdpZHRoLHJvd3M9dGhpcy50YWJsZS5yb3dzLGNlbGxzLHJldHVybnM9W107Zm9yKHZhciBpPTA7aTx0aGlzLnJvd3NOdW07aSsrKXtjZWxscz1yb3dzW2ldLmNlbGxzO2Zvcih2YXIgaj0wLHRtcENlbGw7dG1wQ2VsbD1jZWxsc1tqKytdOyl7dmFyIHRtcFN0YXJ0PWRvbVV0aWxzLmdldFhZKHRtcENlbGwpLng7aWYodG1wU3RhcnQ+c3RhcnQpe2JyZWFrfWlmKHRtcFN0YXJ0PT1zdGFydCYmdG1wQ2VsbC5jb2xTcGFuPT0xKXtyZXR1cm5zLnB1c2godG1wQ2VsbCk7YnJlYWt9fX1yZXR1cm4gcmV0dXJuc31jYXRjaChlKXtzaG93RXJyb3IoZSl9fSx1cGRhdGU6ZnVuY3Rpb24odGFibGUpe3RoaXMudGFibGU9dGFibGV8fHRoaXMudGFibGU7dGhpcy5zZWxlY3RlZFRkcz1bXTt0aGlzLmNlbGxzUmFuZ2U9e307dGhpcy5pbmRleFRhYmxlPVtdO3ZhciByb3dzPXRoaXMudGFibGUucm93cyxyb3dzTnVtPXRoaXMuZ2V0TWF4Um93cygpLGROdW09cm93c051bS1yb3dzLmxlbmd0aCxjb2xzTnVtPXRoaXMuZ2V0TWF4Q29scygpO3doaWxlKGROdW0tLSl7dGhpcy50YWJsZS5pbnNlcnRSb3cocm93cy5sZW5ndGgpfXRoaXMucm93c051bT1yb3dzTnVtO3RoaXMuY29sc051bT1jb2xzTnVtO2Zvcih2YXIgaT0wLGxlbj1yb3dzLmxlbmd0aDtpPGxlbjtpKyspe3RoaXMuaW5kZXhUYWJsZVtpXT1uZXcgQXJyYXkoY29sc051bSl9Zm9yKHZhciByb3dJbmRleD0wLHJvdztyb3c9cm93c1tyb3dJbmRleF07cm93SW5kZXgrKyl7Zm9yKHZhciBjZWxsSW5kZXg9MCxjZWxsLGNlbGxzPXJvdy5jZWxscztjZWxsPWNlbGxzW2NlbGxJbmRleF07Y2VsbEluZGV4Kyspe2lmKGNlbGwucm93U3Bhbj5yb3dzTnVtKXtjZWxsLnJvd1NwYW49cm93c051bX12YXIgY29sSW5kZXg9Y2VsbEluZGV4LHJvd1NwYW49Y2VsbC5yb3dTcGFufHwxLGNvbFNwYW49Y2VsbC5jb2xTcGFufHwxO3doaWxlKHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdKXtjb2xJbmRleCsrfWZvcih2YXIgaj0wO2o8cm93U3BhbjtqKyspe2Zvcih2YXIgaz0wO2s8Y29sU3BhbjtrKyspe3RoaXMuaW5kZXhUYWJsZVtyb3dJbmRleCtqXVtjb2xJbmRleCtrXT17cm93SW5kZXg6cm93SW5kZXgsY2VsbEluZGV4OmNlbGxJbmRleCxjb2xJbmRleDpjb2xJbmRleCxyb3dTcGFuOnJvd1NwYW4sY29sU3Bhbjpjb2xTcGFufX19fX1mb3Ioaj0wO2o8cm93c051bTtqKyspe2ZvcihrPTA7azxjb2xzTnVtO2srKyl7aWYodGhpcy5pbmRleFRhYmxlW2pdW2tdPT09dW5kZWZpbmVkKXtyb3c9cm93c1tqXTtjZWxsPXJvdy5jZWxsc1tyb3cuY2VsbHMubGVuZ3RoLTFdO2NlbGw9Y2VsbD9jZWxsLmNsb25lTm9kZSh0cnVlKTp0aGlzLnRhYmxlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGQiKTt0aGlzLnNldENlbGxDb250ZW50KGNlbGwpO2lmKGNlbGwuY29sU3BhbiE9PTEpe2NlbGwuY29sU3Bhbj0xfWlmKGNlbGwucm93U3BhbiE9PTEpe2NlbGwucm93U3Bhbj0xfXJvdy5hcHBlbmRDaGlsZChjZWxsKTt0aGlzLmluZGV4VGFibGVbal1ba109e3Jvd0luZGV4OmosY2VsbEluZGV4OmNlbGwuY2VsbEluZGV4LGNvbEluZGV4Omsscm93U3BhbjoxLGNvbFNwYW46MX19fX12YXIgdGRzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRoaXMudGFibGUsInRkIiksc2VsZWN0VGRzPVtdO3V0aWxzLmVhY2godGRzLGZ1bmN0aW9uKHRkKXtpZihkb21VdGlscy5oYXNDbGFzcyh0ZCwic2VsZWN0VGRDbGFzcyIpKXtzZWxlY3RUZHMucHVzaCh0ZCl9fSk7aWYoc2VsZWN0VGRzLmxlbmd0aCl7dmFyIHN0YXJ0PXNlbGVjdFRkc1swXSxlbmQ9c2VsZWN0VGRzW3NlbGVjdFRkcy5sZW5ndGgtMV0sc3RhcnRJbmZvPXRoaXMuZ2V0Q2VsbEluZm8oc3RhcnQpLGVuZEluZm89dGhpcy5nZXRDZWxsSW5mbyhlbmQpO3RoaXMuc2VsZWN0ZWRUZHM9c2VsZWN0VGRzO3RoaXMuY2VsbHNSYW5nZT17YmVnaW5Sb3dJbmRleDpzdGFydEluZm8ucm93SW5kZXgsYmVnaW5Db2xJbmRleDpzdGFydEluZm8uY29sSW5kZXgsZW5kUm93SW5kZXg6ZW5kSW5mby5yb3dJbmRleCtlbmRJbmZvLnJvd1NwYW4tMSxlbmRDb2xJbmRleDplbmRJbmZvLmNvbEluZGV4K2VuZEluZm8uY29sU3Bhbi0xfX1pZighZG9tVXRpbHMuaGFzQ2xhc3ModGhpcy50YWJsZS5yb3dzWzBdLCJmaXJzdFJvdyIpKXtkb21VdGlscy5hZGRDbGFzcyh0aGlzLnRhYmxlLnJvd3NbMF0sImZpcnN0Um93Iik7Zm9yKHZhciBpPTE7aTx0aGlzLnRhYmxlLnJvd3MubGVuZ3RoO2krKyl7ZG9tVXRpbHMucmVtb3ZlQ2xhc3Nlcyh0aGlzLnRhYmxlLnJvd3NbaV0sImZpcnN0Um93Iil9fX0sZ2V0Q2VsbEluZm86ZnVuY3Rpb24oY2VsbCl7aWYoIWNlbGwpe3JldHVybn12YXIgY2VsbEluZGV4PWNlbGwuY2VsbEluZGV4LHJvd0luZGV4PWNlbGwucGFyZW50Tm9kZS5yb3dJbmRleCxyb3dJbmZvPXRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sbnVtQ29scz10aGlzLmNvbHNOdW07Zm9yKHZhciBjb2xJbmRleD1jZWxsSW5kZXg7Y29sSW5kZXg8bnVtQ29scztjb2xJbmRleCsrKXt2YXIgY2VsbEluZm89cm93SW5mb1tjb2xJbmRleF07aWYoY2VsbEluZm8ucm93SW5kZXg9PT1yb3dJbmRleCYmY2VsbEluZm8uY2VsbEluZGV4PT09Y2VsbEluZGV4KXtyZXR1cm4gY2VsbEluZm99fX0sZ2V0Q2VsbDpmdW5jdGlvbihyb3dJbmRleCxjZWxsSW5kZXgpe3JldHVybiByb3dJbmRleDx0aGlzLnJvd3NOdW0mJnRoaXMudGFibGUucm93c1tyb3dJbmRleF0uY2VsbHNbY2VsbEluZGV4XXx8bnVsbH0sZGVsZXRlQ2VsbDpmdW5jdGlvbihjZWxsLHJvd0luZGV4KXtyb3dJbmRleD10eXBlb2Ygcm93SW5kZXg9PSJudW1iZXIiP3Jvd0luZGV4OmNlbGwucGFyZW50Tm9kZS5yb3dJbmRleDt2YXIgcm93PXRoaXMudGFibGUucm93c1tyb3dJbmRleF07cm93LmRlbGV0ZUNlbGwoY2VsbC5jZWxsSW5kZXgpfSxnZXRDZWxsc1JhbmdlOmZ1bmN0aW9uKGNlbGxBLGNlbGxCKXtmdW5jdGlvbiBjaGVja1JhbmdlKGJlZ2luUm93SW5kZXgsYmVnaW5Db2xJbmRleCxlbmRSb3dJbmRleCxlbmRDb2xJbmRleCl7dmFyIHRtcEJlZ2luUm93SW5kZXg9YmVnaW5Sb3dJbmRleCx0bXBCZWdpbkNvbEluZGV4PWJlZ2luQ29sSW5kZXgsdG1wRW5kUm93SW5kZXg9ZW5kUm93SW5kZXgsdG1wRW5kQ29sSW5kZXg9ZW5kQ29sSW5kZXgsY2VsbEluZm8sY29sSW5kZXgscm93SW5kZXg7aWYoYmVnaW5Sb3dJbmRleD4wKXtmb3IoY29sSW5kZXg9YmVnaW5Db2xJbmRleDtjb2xJbmRleDxlbmRDb2xJbmRleDtjb2xJbmRleCsrKXtjZWxsSW5mbz1tZS5pbmRleFRhYmxlW2JlZ2luUm93SW5kZXhdW2NvbEluZGV4XTtyb3dJbmRleD1jZWxsSW5mby5yb3dJbmRleDtpZihyb3dJbmRleDxiZWdpblJvd0luZGV4KXt0bXBCZWdpblJvd0luZGV4PU1hdGgubWluKHJvd0luZGV4LHRtcEJlZ2luUm93SW5kZXgpfX19aWYoZW5kQ29sSW5kZXg8bWUuY29sc051bSl7Zm9yKHJvd0luZGV4PWJlZ2luUm93SW5kZXg7cm93SW5kZXg8ZW5kUm93SW5kZXg7cm93SW5kZXgrKyl7Y2VsbEluZm89bWUuaW5kZXhUYWJsZVtyb3dJbmRleF1bZW5kQ29sSW5kZXhdO2NvbEluZGV4PWNlbGxJbmZvLmNvbEluZGV4K2NlbGxJbmZvLmNvbFNwYW4tMTtpZihjb2xJbmRleD5lbmRDb2xJbmRleCl7dG1wRW5kQ29sSW5kZXg9TWF0aC5tYXgoY29sSW5kZXgsdG1wRW5kQ29sSW5kZXgpfX19aWYoZW5kUm93SW5kZXg8bWUucm93c051bSl7Zm9yKGNvbEluZGV4PWJlZ2luQ29sSW5kZXg7Y29sSW5kZXg8ZW5kQ29sSW5kZXg7Y29sSW5kZXgrKyl7Y2VsbEluZm89bWUuaW5kZXhUYWJsZVtlbmRSb3dJbmRleF1bY29sSW5kZXhdO3Jvd0luZGV4PWNlbGxJbmZvLnJvd0luZGV4K2NlbGxJbmZvLnJvd1NwYW4tMTtpZihyb3dJbmRleD5lbmRSb3dJbmRleCl7dG1wRW5kUm93SW5kZXg9TWF0aC5tYXgocm93SW5kZXgsdG1wRW5kUm93SW5kZXgpfX19aWYoYmVnaW5Db2xJbmRleD4wKXtmb3Iocm93SW5kZXg9YmVnaW5Sb3dJbmRleDtyb3dJbmRleDxlbmRSb3dJbmRleDtyb3dJbmRleCsrKXtjZWxsSW5mbz1tZS5pbmRleFRhYmxlW3Jvd0luZGV4XVtiZWdpbkNvbEluZGV4XTtjb2xJbmRleD1jZWxsSW5mby5jb2xJbmRleDtpZihjb2xJbmRleDxiZWdpbkNvbEluZGV4KXt0bXBCZWdpbkNvbEluZGV4PU1hdGgubWluKGNlbGxJbmZvLmNvbEluZGV4LHRtcEJlZ2luQ29sSW5kZXgpfX19aWYodG1wQmVnaW5Sb3dJbmRleCE9YmVnaW5Sb3dJbmRleHx8dG1wQmVnaW5Db2xJbmRleCE9YmVnaW5Db2xJbmRleHx8dG1wRW5kUm93SW5kZXghPWVuZFJvd0luZGV4fHx0bXBFbmRDb2xJbmRleCE9ZW5kQ29sSW5kZXgpe3JldHVybiBjaGVja1JhbmdlKHRtcEJlZ2luUm93SW5kZXgsdG1wQmVnaW5Db2xJbmRleCx0bXBFbmRSb3dJbmRleCx0bXBFbmRDb2xJbmRleCl9ZWxzZXtyZXR1cm57YmVnaW5Sb3dJbmRleDpiZWdpblJvd0luZGV4LGJlZ2luQ29sSW5kZXg6YmVnaW5Db2xJbmRleCxlbmRSb3dJbmRleDplbmRSb3dJbmRleCxlbmRDb2xJbmRleDplbmRDb2xJbmRleH19fXRyeXt2YXIgbWU9dGhpcyxjZWxsQUluZm89bWUuZ2V0Q2VsbEluZm8oY2VsbEEpO2lmKGNlbGxBPT09Y2VsbEIpe3JldHVybntiZWdpblJvd0luZGV4OmNlbGxBSW5mby5yb3dJbmRleCxiZWdpbkNvbEluZGV4OmNlbGxBSW5mby5jb2xJbmRleCxlbmRSb3dJbmRleDpjZWxsQUluZm8ucm93SW5kZXgrY2VsbEFJbmZvLnJvd1NwYW4tMSxlbmRDb2xJbmRleDpjZWxsQUluZm8uY29sSW5kZXgrY2VsbEFJbmZvLmNvbFNwYW4tMX19dmFyIGNlbGxCSW5mbz1tZS5nZXRDZWxsSW5mbyhjZWxsQik7dmFyIGJlZ2luUm93SW5kZXg9TWF0aC5taW4oY2VsbEFJbmZvLnJvd0luZGV4LGNlbGxCSW5mby5yb3dJbmRleCksYmVnaW5Db2xJbmRleD1NYXRoLm1pbihjZWxsQUluZm8uY29sSW5kZXgsY2VsbEJJbmZvLmNvbEluZGV4KSxlbmRSb3dJbmRleD1NYXRoLm1heChjZWxsQUluZm8ucm93SW5kZXgrY2VsbEFJbmZvLnJvd1NwYW4tMSxjZWxsQkluZm8ucm93SW5kZXgrY2VsbEJJbmZvLnJvd1NwYW4tMSksZW5kQ29sSW5kZXg9TWF0aC5tYXgoY2VsbEFJbmZvLmNvbEluZGV4K2NlbGxBSW5mby5jb2xTcGFuLTEsY2VsbEJJbmZvLmNvbEluZGV4K2NlbGxCSW5mby5jb2xTcGFuLTEpO3JldHVybiBjaGVja1JhbmdlKGJlZ2luUm93SW5kZXgsYmVnaW5Db2xJbmRleCxlbmRSb3dJbmRleCxlbmRDb2xJbmRleCl9Y2F0Y2goZSl7fX0sZ2V0Q2VsbHM6ZnVuY3Rpb24ocmFuZ2Upe3RoaXMuY2xlYXJTZWxlY3RlZCgpO3ZhciBiZWdpblJvd0luZGV4PXJhbmdlLmJlZ2luUm93SW5kZXgsYmVnaW5Db2xJbmRleD1yYW5nZS5iZWdpbkNvbEluZGV4LGVuZFJvd0luZGV4PXJhbmdlLmVuZFJvd0luZGV4LGVuZENvbEluZGV4PXJhbmdlLmVuZENvbEluZGV4LGNlbGxJbmZvLHJvd0luZGV4LGNvbEluZGV4LHRkSGFzaD17fSxyZXR1cm5UZHM9W107Zm9yKHZhciBpPWJlZ2luUm93SW5kZXg7aTw9ZW5kUm93SW5kZXg7aSsrKXtmb3IodmFyIGo9YmVnaW5Db2xJbmRleDtqPD1lbmRDb2xJbmRleDtqKyspe2NlbGxJbmZvPXRoaXMuaW5kZXhUYWJsZVtpXVtqXTtyb3dJbmRleD1jZWxsSW5mby5yb3dJbmRleDtjb2xJbmRleD1jZWxsSW5mby5jb2xJbmRleDt2YXIga2V5PXJvd0luZGV4KyJ8Iitjb2xJbmRleDtpZih0ZEhhc2hba2V5XSl7Y29udGludWV9dGRIYXNoW2tleV09MTtpZihyb3dJbmRleDxpfHxjb2xJbmRleDxqfHxyb3dJbmRleCtjZWxsSW5mby5yb3dTcGFuLTE+ZW5kUm93SW5kZXh8fGNvbEluZGV4K2NlbGxJbmZvLmNvbFNwYW4tMT5lbmRDb2xJbmRleCl7cmV0dXJuIG51bGx9cmV0dXJuVGRzLnB1c2godGhpcy5nZXRDZWxsKHJvd0luZGV4LGNlbGxJbmZvLmNlbGxJbmRleCkpfX1yZXR1cm4gcmV0dXJuVGRzfSxjbGVhclNlbGVjdGVkOmZ1bmN0aW9uKCl7VUVUYWJsZS5yZW1vdmVTZWxlY3RlZENsYXNzKHRoaXMuc2VsZWN0ZWRUZHMpO3RoaXMuc2VsZWN0ZWRUZHM9W107dGhpcy5jZWxsc1JhbmdlPXt9fSxzZXRTZWxlY3RlZDpmdW5jdGlvbihyYW5nZSl7dmFyIGNlbGxzPXRoaXMuZ2V0Q2VsbHMocmFuZ2UpO1VFVGFibGUuYWRkU2VsZWN0ZWRDbGFzcyhjZWxscyk7dGhpcy5zZWxlY3RlZFRkcz1jZWxsczt0aGlzLmNlbGxzUmFuZ2U9cmFuZ2V9LGlzRnVsbFJvdzpmdW5jdGlvbigpe3ZhciByYW5nZT10aGlzLmNlbGxzUmFuZ2U7cmV0dXJuKHJhbmdlLmVuZENvbEluZGV4LXJhbmdlLmJlZ2luQ29sSW5kZXgrMSk9PXRoaXMuY29sc051bX0saXNGdWxsQ29sOmZ1bmN0aW9uKCl7dmFyIHJhbmdlPXRoaXMuY2VsbHNSYW5nZSx0YWJsZT10aGlzLnRhYmxlLHRocz10YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKSxyb3dzPXJhbmdlLmVuZFJvd0luZGV4LXJhbmdlLmJlZ2luUm93SW5kZXgrMTtyZXR1cm4gIXRocy5sZW5ndGg/cm93cz09dGhpcy5yb3dzTnVtOnJvd3M9PXRoaXMucm93c051bXx8KHJvd3M9PXRoaXMucm93c051bS0xKX0sZ2V0TmV4dENlbGw6ZnVuY3Rpb24oY2VsbCxib3R0b20saWdub3JlUmFuZ2Upe3RyeXt2YXIgY2VsbEluZm89dGhpcy5nZXRDZWxsSW5mbyhjZWxsKSxuZXh0Um93SW5kZXgsbmV4dENvbEluZGV4O3ZhciBsZW49dGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgmJiFpZ25vcmVSYW5nZSxyYW5nZT10aGlzLmNlbGxzUmFuZ2U7aWYoKCFib3R0b20mJihjZWxsSW5mby5yb3dJbmRleD09MCkpfHwoYm90dG9tJiYoIWxlbj8oY2VsbEluZm8ucm93SW5kZXgrY2VsbEluZm8ucm93U3Bhbj50aGlzLnJvd3NOdW0tMSk6KHJhbmdlLmVuZFJvd0luZGV4PT10aGlzLnJvd3NOdW0tMSkpKSl7cmV0dXJuIG51bGx9bmV4dFJvd0luZGV4PSFib3R0b20/KCFsZW4/Y2VsbEluZm8ucm93SW5kZXgtMTpyYW5nZS5iZWdpblJvd0luZGV4LTEpOighbGVuPyhjZWxsSW5mby5yb3dJbmRleCtjZWxsSW5mby5yb3dTcGFuKTpyYW5nZS5lbmRSb3dJbmRleCsxKTtuZXh0Q29sSW5kZXg9IWxlbj9jZWxsSW5mby5jb2xJbmRleDpyYW5nZS5iZWdpbkNvbEluZGV4O3JldHVybiB0aGlzLmdldENlbGwodGhpcy5pbmRleFRhYmxlW25leHRSb3dJbmRleF1bbmV4dENvbEluZGV4XS5yb3dJbmRleCx0aGlzLmluZGV4VGFibGVbbmV4dFJvd0luZGV4XVtuZXh0Q29sSW5kZXhdLmNlbGxJbmRleCl9Y2F0Y2goZSl7c2hvd0Vycm9yKGUpfX0sZ2V0UHJldmlld0NlbGw6ZnVuY3Rpb24oY2VsbCx0b3Ape3RyeXt2YXIgY2VsbEluZm89dGhpcy5nZXRDZWxsSW5mbyhjZWxsKSxwcmV2aWV3Um93SW5kZXgscHJldmlld0NvbEluZGV4O3ZhciBsZW49dGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgscmFuZ2U9dGhpcy5jZWxsc1JhbmdlO2lmKCghdG9wJiYoIWxlbj8hY2VsbEluZm8uY29sSW5kZXg6IXJhbmdlLmJlZ2luQ29sSW5kZXgpKXx8KHRvcCYmKCFsZW4/KGNlbGxJbmZvLnJvd0luZGV4Pih0aGlzLmNvbHNOdW0tMSkpOihyYW5nZS5lbmRDb2xJbmRleD09dGhpcy5jb2xzTnVtLTEpKSkpe3JldHVybiBudWxsfXByZXZpZXdSb3dJbmRleD0hdG9wPyghbGVuP2NlbGxJbmZvLnJvd0luZGV4OnJhbmdlLmJlZ2luUm93SW5kZXgpOighbGVuPyhjZWxsSW5mby5yb3dJbmRleDwxPzA6KGNlbGxJbmZvLnJvd0luZGV4LTEpKTpyYW5nZS5iZWdpblJvd0luZGV4KTtwcmV2aWV3Q29sSW5kZXg9IXRvcD8oIWxlbj8oY2VsbEluZm8uY29sSW5kZXg8MT8wOihjZWxsSW5mby5jb2xJbmRleC0xKSk6cmFuZ2UuYmVnaW5Db2xJbmRleC0xKTooIWxlbj9jZWxsSW5mby5jb2xJbmRleDpyYW5nZS5lbmRDb2xJbmRleCsxKTtyZXR1cm4gdGhpcy5nZXRDZWxsKHRoaXMuaW5kZXhUYWJsZVtwcmV2aWV3Um93SW5kZXhdW3ByZXZpZXdDb2xJbmRleF0ucm93SW5kZXgsdGhpcy5pbmRleFRhYmxlW3ByZXZpZXdSb3dJbmRleF1bcHJldmlld0NvbEluZGV4XS5jZWxsSW5kZXgpfWNhdGNoKGUpe3Nob3dFcnJvcihlKX19LG1vdmVDb250ZW50OmZ1bmN0aW9uKGNlbGxUbyxjZWxsRnJvbSl7aWYoVUVUYWJsZS5pc0VtcHR5QmxvY2soY2VsbEZyb20pKXtyZXR1cm59aWYoVUVUYWJsZS5pc0VtcHR5QmxvY2soY2VsbFRvKSl7Y2VsbFRvLmlubmVySFRNTD1jZWxsRnJvbS5pbm5lckhUTUw7cmV0dXJufXZhciBjaGlsZD1jZWxsVG8ubGFzdENoaWxkO2lmKGNoaWxkLm5vZGVUeXBlPT0zfHwhZHRkLiRibG9ja1tjaGlsZC50YWdOYW1lXSl7Y2VsbFRvLmFwcGVuZENoaWxkKGNlbGxUby5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJyIikpfXdoaWxlKGNoaWxkPWNlbGxGcm9tLmZpcnN0Q2hpbGQpe2NlbGxUby5hcHBlbmRDaGlsZChjaGlsZCl9fSxtZXJnZVJpZ2h0OmZ1bmN0aW9uKGNlbGwpe3ZhciBjZWxsSW5mbz10aGlzLmdldENlbGxJbmZvKGNlbGwpLHJpZ2h0Q29sSW5kZXg9Y2VsbEluZm8uY29sSW5kZXgrY2VsbEluZm8uY29sU3BhbixyaWdodENlbGxJbmZvPXRoaXMuaW5kZXhUYWJsZVtjZWxsSW5mby5yb3dJbmRleF1bcmlnaHRDb2xJbmRleF0scmlnaHRDZWxsPXRoaXMuZ2V0Q2VsbChyaWdodENlbGxJbmZvLnJvd0luZGV4LHJpZ2h0Q2VsbEluZm8uY2VsbEluZGV4KTtjZWxsLmNvbFNwYW49Y2VsbEluZm8uY29sU3BhbityaWdodENlbGxJbmZvLmNvbFNwYW47Y2VsbC5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7dGhpcy5tb3ZlQ29udGVudChjZWxsLHJpZ2h0Q2VsbCk7dGhpcy5kZWxldGVDZWxsKHJpZ2h0Q2VsbCxyaWdodENlbGxJbmZvLnJvd0luZGV4KTt0aGlzLnVwZGF0ZSgpfSxtZXJnZURvd246ZnVuY3Rpb24oY2VsbCl7dmFyIGNlbGxJbmZvPXRoaXMuZ2V0Q2VsbEluZm8oY2VsbCksZG93blJvd0luZGV4PWNlbGxJbmZvLnJvd0luZGV4K2NlbGxJbmZvLnJvd1NwYW4sZG93bkNlbGxJbmZvPXRoaXMuaW5kZXhUYWJsZVtkb3duUm93SW5kZXhdW2NlbGxJbmZvLmNvbEluZGV4XSxkb3duQ2VsbD10aGlzLmdldENlbGwoZG93bkNlbGxJbmZvLnJvd0luZGV4LGRvd25DZWxsSW5mby5jZWxsSW5kZXgpO2NlbGwucm93U3Bhbj1jZWxsSW5mby5yb3dTcGFuK2Rvd25DZWxsSW5mby5yb3dTcGFuO2NlbGwucmVtb3ZlQXR0cmlidXRlKCJoZWlnaHQiKTt0aGlzLm1vdmVDb250ZW50KGNlbGwsZG93bkNlbGwpO3RoaXMuZGVsZXRlQ2VsbChkb3duQ2VsbCxkb3duQ2VsbEluZm8ucm93SW5kZXgpO3RoaXMudXBkYXRlKCl9LG1lcmdlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgcmFuZ2U9dGhpcy5jZWxsc1JhbmdlLGxlZnRUb3BDZWxsPXRoaXMuZ2V0Q2VsbChyYW5nZS5iZWdpblJvd0luZGV4LHRoaXMuaW5kZXhUYWJsZVtyYW5nZS5iZWdpblJvd0luZGV4XVtyYW5nZS5iZWdpbkNvbEluZGV4XS5jZWxsSW5kZXgpO2lmKGxlZnRUb3BDZWxsLnRhZ05hbWU9PSJUSCImJnJhbmdlLmVuZFJvd0luZGV4IT09cmFuZ2UuYmVnaW5Sb3dJbmRleCl7dmFyIGluZGV4PXRoaXMuaW5kZXhUYWJsZSxpbmZvPXRoaXMuZ2V0Q2VsbEluZm8obGVmdFRvcENlbGwpO2xlZnRUb3BDZWxsPXRoaXMuZ2V0Q2VsbCgxLGluZGV4WzFdW2luZm8uY29sSW5kZXhdLmNlbGxJbmRleCk7cmFuZ2U9dGhpcy5nZXRDZWxsc1JhbmdlKGxlZnRUb3BDZWxsLHRoaXMuZ2V0Q2VsbChpbmRleFt0aGlzLnJvd3NOdW0tMV1baW5mby5jb2xJbmRleF0ucm93SW5kZXgsaW5kZXhbdGhpcy5yb3dzTnVtLTFdW2luZm8uY29sSW5kZXhdLmNlbGxJbmRleCkpfXZhciBjZWxscz10aGlzLmdldENlbGxzKHJhbmdlKTtmb3IodmFyIGk9MCxjaTtjaT1jZWxsc1tpKytdOyl7aWYoY2khPT1sZWZ0VG9wQ2VsbCl7dGhpcy5tb3ZlQ29udGVudChsZWZ0VG9wQ2VsbCxjaSk7dGhpcy5kZWxldGVDZWxsKGNpKX19bGVmdFRvcENlbGwucm93U3Bhbj1yYW5nZS5lbmRSb3dJbmRleC1yYW5nZS5iZWdpblJvd0luZGV4KzE7bGVmdFRvcENlbGwucm93U3Bhbj4xJiZsZWZ0VG9wQ2VsbC5yZW1vdmVBdHRyaWJ1dGUoImhlaWdodCIpO2xlZnRUb3BDZWxsLmNvbFNwYW49cmFuZ2UuZW5kQ29sSW5kZXgtcmFuZ2UuYmVnaW5Db2xJbmRleCsxO2xlZnRUb3BDZWxsLmNvbFNwYW4+MSYmbGVmdFRvcENlbGwucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpO2lmKGxlZnRUb3BDZWxsLnJvd1NwYW49PXRoaXMucm93c051bSYmbGVmdFRvcENlbGwuY29sU3BhbiE9MSl7bGVmdFRvcENlbGwuY29sU3Bhbj0xfWlmKGxlZnRUb3BDZWxsLmNvbFNwYW49PXRoaXMuY29sc051bSYmbGVmdFRvcENlbGwucm93U3BhbiE9MSl7dmFyIHJvd0luZGV4PWxlZnRUb3BDZWxsLnBhcmVudE5vZGUucm93SW5kZXg7aWYodGhpcy50YWJsZS5kZWxldGVSb3cpe2Zvcih2YXIgaT1yb3dJbmRleCsxLGN1ckluZGV4PXJvd0luZGV4KzEsbGVuPWxlZnRUb3BDZWxsLnJvd1NwYW47aTxsZW47aSsrKXt0aGlzLnRhYmxlLmRlbGV0ZVJvdyhjdXJJbmRleCl9fWVsc2V7Zm9yKHZhciBpPTAsbGVuPWxlZnRUb3BDZWxsLnJvd1NwYW4tMTtpPGxlbjtpKyspe3ZhciByb3c9dGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4KzFdO3Jvdy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHJvdyl9fWxlZnRUb3BDZWxsLnJvd1NwYW49MX10aGlzLnVwZGF0ZSgpfSxpbnNlcnRSb3c6ZnVuY3Rpb24ocm93SW5kZXgsc291cmNlQ2VsbCl7dmFyIG51bUNvbHM9dGhpcy5jb2xzTnVtLHRhYmxlPXRoaXMudGFibGUscm93PXRhYmxlLmluc2VydFJvdyhyb3dJbmRleCksY2VsbCxpc0luc2VydFRpdGxlPXR5cGVvZiBzb3VyY2VDZWxsPT0ic3RyaW5nIiYmc291cmNlQ2VsbC50b1VwcGVyQ2FzZSgpPT0iVEgiO2Z1bmN0aW9uIHJlcGxhY2VUZFRvVGgoY29sSW5kZXgsY2VsbCx0YWJsZVJvdyl7aWYoY29sSW5kZXg9PTApe3ZhciB0cj10YWJsZVJvdy5uZXh0U2libGluZ3x8dGFibGVSb3cucHJldmlvdXNTaWJsaW5nLHRoPXRyLmNlbGxzW2NvbEluZGV4XTtpZih0aC50YWdOYW1lPT0iVEgiKXt0aD1jZWxsLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTt0aC5hcHBlbmRDaGlsZChjZWxsLmZpcnN0Q2hpbGQpO3RhYmxlUm93Lmluc2VydEJlZm9yZSh0aCxjZWxsKTtkb21VdGlscy5yZW1vdmUoY2VsbCl9fWVsc2V7aWYoY2VsbC50YWdOYW1lPT0iVEgiKXt2YXIgdGQ9Y2VsbC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGQuYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTt0YWJsZVJvdy5pbnNlcnRCZWZvcmUodGQsY2VsbCk7ZG9tVXRpbHMucmVtb3ZlKGNlbGwpfX19aWYocm93SW5kZXg9PTB8fHJvd0luZGV4PT10aGlzLnJvd3NOdW0pe2Zvcih2YXIgY29sSW5kZXg9MDtjb2xJbmRleDxudW1Db2xzO2NvbEluZGV4Kyspe2NlbGw9dGhpcy5jbG9uZUNlbGwoc291cmNlQ2VsbCx0cnVlKTt0aGlzLnNldENlbGxDb250ZW50KGNlbGwpO2NlbGwuZ2V0QXR0cmlidXRlKCJ2QWxpZ24iKSYmY2VsbC5zZXRBdHRyaWJ1dGUoInZBbGlnbiIsY2VsbC5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpKTtyb3cuYXBwZW5kQ2hpbGQoY2VsbCk7aWYoIWlzSW5zZXJ0VGl0bGUpe3JlcGxhY2VUZFRvVGgoY29sSW5kZXgsY2VsbCxyb3cpfX19ZWxzZXt2YXIgaW5mb1Jvdz10aGlzLmluZGV4VGFibGVbcm93SW5kZXhdLGNlbGxJbmRleD0wO2Zvcihjb2xJbmRleD0wO2NvbEluZGV4PG51bUNvbHM7Y29sSW5kZXgrKyl7dmFyIGNlbGxJbmZvPWluZm9Sb3dbY29sSW5kZXhdO2lmKGNlbGxJbmZvLnJvd0luZGV4PHJvd0luZGV4KXtjZWxsPXRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCxjZWxsSW5mby5jZWxsSW5kZXgpO2NlbGwucm93U3Bhbj1jZWxsSW5mby5yb3dTcGFuKzF9ZWxzZXtjZWxsPXRoaXMuY2xvbmVDZWxsKHNvdXJjZUNlbGwsdHJ1ZSk7dGhpcy5zZXRDZWxsQ29udGVudChjZWxsKTtyb3cuYXBwZW5kQ2hpbGQoY2VsbCl9aWYoIWlzSW5zZXJ0VGl0bGUpe3JlcGxhY2VUZFRvVGgoY29sSW5kZXgsY2VsbCxyb3cpfX19dGhpcy51cGRhdGUoKTtyZXR1cm4gcm93fSxkZWxldGVSb3c6ZnVuY3Rpb24ocm93SW5kZXgpe3ZhciByb3c9dGhpcy50YWJsZS5yb3dzW3Jvd0luZGV4XSxpbmZvUm93PXRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sY29sc051bT10aGlzLmNvbHNOdW0sY291bnQ9MDtmb3IodmFyIGNvbEluZGV4PTA7Y29sSW5kZXg8Y29sc051bTspe3ZhciBjZWxsSW5mbz1pbmZvUm93W2NvbEluZGV4XSxjZWxsPXRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCxjZWxsSW5mby5jZWxsSW5kZXgpO2lmKGNlbGwucm93U3Bhbj4xKXtpZihjZWxsSW5mby5yb3dJbmRleD09cm93SW5kZXgpe3ZhciBjbG9uZT1jZWxsLmNsb25lTm9kZSh0cnVlKTtjbG9uZS5yb3dTcGFuPWNlbGwucm93U3Bhbi0xO2Nsb25lLmlubmVySFRNTD0iIjtjZWxsLnJvd1NwYW49MTt2YXIgbmV4dFJvd0luZGV4PXJvd0luZGV4KzEsbmV4dFJvdz10aGlzLnRhYmxlLnJvd3NbbmV4dFJvd0luZGV4XSxpbnNlcnRDZWxsSW5kZXgscHJlTWVyZ2VkPXRoaXMuZ2V0UHJldmlld01lcmdlZENlbGxzTnVtKG5leHRSb3dJbmRleCxjb2xJbmRleCktY291bnQ7aWYocHJlTWVyZ2VkPGNvbEluZGV4KXtpbnNlcnRDZWxsSW5kZXg9Y29sSW5kZXgtcHJlTWVyZ2VkLTE7ZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIobmV4dFJvdy5jZWxsc1tpbnNlcnRDZWxsSW5kZXhdLGNsb25lKX1lbHNle2lmKG5leHRSb3cuY2VsbHMubGVuZ3RoKXtuZXh0Um93Lmluc2VydEJlZm9yZShjbG9uZSxuZXh0Um93LmNlbGxzWzBdKX19Y291bnQrPTF9fWNvbEluZGV4Kz1jZWxsLmNvbFNwYW58fDF9dmFyIGRlbGV0ZVRkcz1bXSxjYWNoZU1hcD17fTtmb3IoY29sSW5kZXg9MDtjb2xJbmRleDxjb2xzTnVtO2NvbEluZGV4Kyspe3ZhciB0bXBSb3dJbmRleD1pbmZvUm93W2NvbEluZGV4XS5yb3dJbmRleCx0bXBDZWxsSW5kZXg9aW5mb1Jvd1tjb2xJbmRleF0uY2VsbEluZGV4LGtleT10bXBSb3dJbmRleCsiXyIrdG1wQ2VsbEluZGV4O2lmKGNhY2hlTWFwW2tleV0pe2NvbnRpbnVlfWNhY2hlTWFwW2tleV09MTtjZWxsPXRoaXMuZ2V0Q2VsbCh0bXBSb3dJbmRleCx0bXBDZWxsSW5kZXgpO2RlbGV0ZVRkcy5wdXNoKGNlbGwpfXZhciBtZXJnZVRkcz1bXTt1dGlscy5lYWNoKGRlbGV0ZVRkcyxmdW5jdGlvbih0ZCl7aWYodGQucm93U3Bhbj09MSl7dGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0ZCl9ZWxzZXttZXJnZVRkcy5wdXNoKHRkKX19KTt1dGlscy5lYWNoKG1lcmdlVGRzLGZ1bmN0aW9uKHRkKXt0ZC5yb3dTcGFuLS19KTtyb3cucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyb3cpO3RoaXMudXBkYXRlKCl9LGluc2VydENvbDpmdW5jdGlvbihjb2xJbmRleCxzb3VyY2VDZWxsLGRlZmF1bHRWYWx1ZSl7dmFyIHJvd3NOdW09dGhpcy5yb3dzTnVtLHJvd0luZGV4PTAsdGFibGVSb3csY2VsbCxiYWNrV2lkdGg9cGFyc2VJbnQoKHRoaXMudGFibGUub2Zmc2V0V2lkdGgtKHRoaXMuY29sc051bSsxKSoyMC0odGhpcy5jb2xzTnVtKzEpKS8odGhpcy5jb2xzTnVtKzEpLDEwKSxpc0luc2VydFRpdGxlQ29sPXR5cGVvZiBzb3VyY2VDZWxsPT0ic3RyaW5nIiYmc291cmNlQ2VsbC50b1VwcGVyQ2FzZSgpPT0iVEgiO2Z1bmN0aW9uIHJlcGxhY2VUZFRvVGgocm93SW5kZXgsY2VsbCx0YWJsZVJvdyl7aWYocm93SW5kZXg9PTApe3ZhciB0aD1jZWxsLm5leHRTaWJsaW5nfHxjZWxsLnByZXZpb3VzU2libGluZztpZih0aC50YWdOYW1lPT0iVEgiKXt0aD1jZWxsLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGgiKTt0aC5hcHBlbmRDaGlsZChjZWxsLmZpcnN0Q2hpbGQpO3RhYmxlUm93Lmluc2VydEJlZm9yZSh0aCxjZWxsKTtkb21VdGlscy5yZW1vdmUoY2VsbCl9fWVsc2V7aWYoY2VsbC50YWdOYW1lPT0iVEgiKXt2YXIgdGQ9Y2VsbC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRkIik7dGQuYXBwZW5kQ2hpbGQoY2VsbC5maXJzdENoaWxkKTt0YWJsZVJvdy5pbnNlcnRCZWZvcmUodGQsY2VsbCk7ZG9tVXRpbHMucmVtb3ZlKGNlbGwpfX19dmFyIHByZUNlbGw7aWYoY29sSW5kZXg9PTB8fGNvbEluZGV4PT10aGlzLmNvbHNOdW0pe2Zvcig7cm93SW5kZXg8cm93c051bTtyb3dJbmRleCsrKXt0YWJsZVJvdz10aGlzLnRhYmxlLnJvd3Nbcm93SW5kZXhdO3ByZUNlbGw9dGFibGVSb3cuY2VsbHNbY29sSW5kZXg9PTA/Y29sSW5kZXg6dGFibGVSb3cuY2VsbHMubGVuZ3RoXTtjZWxsPXRoaXMuY2xvbmVDZWxsKHNvdXJjZUNlbGwsdHJ1ZSk7dGhpcy5zZXRDZWxsQ29udGVudChjZWxsKTtjZWxsLnNldEF0dHJpYnV0ZSgidkFsaWduIixjZWxsLmdldEF0dHJpYnV0ZSgidkFsaWduIikpO3ByZUNlbGwmJmNlbGwuc2V0QXR0cmlidXRlKCJ3aWR0aCIscHJlQ2VsbC5nZXRBdHRyaWJ1dGUoIndpZHRoIikpO2lmKCFjb2xJbmRleCl7dGFibGVSb3cuaW5zZXJ0QmVmb3JlKGNlbGwsdGFibGVSb3cuY2VsbHNbMF0pfWVsc2V7ZG9tVXRpbHMuaW5zZXJ0QWZ0ZXIodGFibGVSb3cuY2VsbHNbdGFibGVSb3cuY2VsbHMubGVuZ3RoLTFdLGNlbGwpfWlmKCFpc0luc2VydFRpdGxlQ29sKXtyZXBsYWNlVGRUb1RoKHJvd0luZGV4LGNlbGwsdGFibGVSb3cpfX19ZWxzZXtmb3IoO3Jvd0luZGV4PHJvd3NOdW07cm93SW5kZXgrKyl7dmFyIGNlbGxJbmZvPXRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bY29sSW5kZXhdO2lmKGNlbGxJbmZvLmNvbEluZGV4PGNvbEluZGV4KXtjZWxsPXRoaXMuZ2V0Q2VsbChjZWxsSW5mby5yb3dJbmRleCxjZWxsSW5mby5jZWxsSW5kZXgpO2NlbGwuY29sU3Bhbj1jZWxsSW5mby5jb2xTcGFuKzF9ZWxzZXt0YWJsZVJvdz10aGlzLnRhYmxlLnJvd3Nbcm93SW5kZXhdO3ByZUNlbGw9dGFibGVSb3cuY2VsbHNbY2VsbEluZm8uY2VsbEluZGV4XTtjZWxsPXRoaXMuY2xvbmVDZWxsKHNvdXJjZUNlbGwsdHJ1ZSk7dGhpcy5zZXRDZWxsQ29udGVudChjZWxsKTtjZWxsLnNldEF0dHJpYnV0ZSgidkFsaWduIixjZWxsLmdldEF0dHJpYnV0ZSgidkFsaWduIikpO3ByZUNlbGwmJmNlbGwuc2V0QXR0cmlidXRlKCJ3aWR0aCIscHJlQ2VsbC5nZXRBdHRyaWJ1dGUoIndpZHRoIikpO3ByZUNlbGw/dGFibGVSb3cuaW5zZXJ0QmVmb3JlKGNlbGwscHJlQ2VsbCk6dGFibGVSb3cuYXBwZW5kQ2hpbGQoY2VsbCl9aWYoIWlzSW5zZXJ0VGl0bGVDb2wpe3JlcGxhY2VUZFRvVGgocm93SW5kZXgsY2VsbCx0YWJsZVJvdyl9fX10aGlzLnVwZGF0ZSgpO3RoaXMudXBkYXRlV2lkdGgoYmFja1dpZHRoLGRlZmF1bHRWYWx1ZXx8e3RkUGFkZGluZzoxMCx0ZEJvcmRlcjoxfSl9LHVwZGF0ZVdpZHRoOmZ1bmN0aW9uKHdpZHRoLGRlZmF1bHRWYWx1ZSl7dmFyIHRhYmxlPXRoaXMudGFibGUsdG1wV2lkdGg9VUVUYWJsZS5nZXRXaWR0aCh0YWJsZSktZGVmYXVsdFZhbHVlLnRkUGFkZGluZyoyLWRlZmF1bHRWYWx1ZS50ZEJvcmRlcit3aWR0aDtpZih0bXBXaWR0aDx0YWJsZS5vd25lckRvY3VtZW50LmJvZHkub2Zmc2V0V2lkdGgpe3RhYmxlLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRtcFdpZHRoKTtyZXR1cm59dmFyIHRkcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLnRhYmxlLCJ0ZCB0aCIpO3V0aWxzLmVhY2godGRzLGZ1bmN0aW9uKHRkKXt0ZC5zZXRBdHRyaWJ1dGUoIndpZHRoIix3aWR0aCl9KX0sZGVsZXRlQ29sOmZ1bmN0aW9uKGNvbEluZGV4KXt2YXIgaW5kZXhUYWJsZT10aGlzLmluZGV4VGFibGUsdGFibGVSb3dzPXRoaXMudGFibGUucm93cyxiYWNrVGFibGVXaWR0aD10aGlzLnRhYmxlLmdldEF0dHJpYnV0ZSgid2lkdGgiKSxiYWNrVGRXaWR0aD0wLHJvd3NOdW09dGhpcy5yb3dzTnVtLGNhY2hlTWFwPXt9O2Zvcih2YXIgcm93SW5kZXg9MDtyb3dJbmRleDxyb3dzTnVtOyl7dmFyIGluZm9Sb3c9aW5kZXhUYWJsZVtyb3dJbmRleF0sY2VsbEluZm89aW5mb1Jvd1tjb2xJbmRleF0sa2V5PWNlbGxJbmZvLnJvd0luZGV4KyJfIitjZWxsSW5mby5jb2xJbmRleDtpZihjYWNoZU1hcFtrZXldKXtjb250aW51ZX1jYWNoZU1hcFtrZXldPTE7dmFyIGNlbGw9dGhpcy5nZXRDZWxsKGNlbGxJbmZvLnJvd0luZGV4LGNlbGxJbmZvLmNlbGxJbmRleCk7aWYoIWJhY2tUZFdpZHRoKXtiYWNrVGRXaWR0aD1jZWxsJiZwYXJzZUludChjZWxsLm9mZnNldFdpZHRoL2NlbGwuY29sU3BhbiwxMCkudG9GaXhlZCgwKX1pZihjZWxsLmNvbFNwYW4+MSl7Y2VsbC5jb2xTcGFuLS19ZWxzZXt0YWJsZVJvd3Nbcm93SW5kZXhdLmRlbGV0ZUNlbGwoY2VsbEluZm8uY2VsbEluZGV4KX1yb3dJbmRleCs9Y2VsbEluZm8ucm93U3Bhbnx8MX10aGlzLnRhYmxlLnNldEF0dHJpYnV0ZSgid2lkdGgiLGJhY2tUYWJsZVdpZHRoLWJhY2tUZFdpZHRoKTt0aGlzLnVwZGF0ZSgpfSxzcGxpdFRvQ2VsbHM6ZnVuY3Rpb24oY2VsbCl7dmFyIG1lPXRoaXMsY2VsbHM9dGhpcy5zcGxpdFRvUm93cyhjZWxsKTt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwpe21lLnNwbGl0VG9Db2xzKGNlbGwpfSl9LHNwbGl0VG9Sb3dzOmZ1bmN0aW9uKGNlbGwpe3ZhciBjZWxsSW5mbz10aGlzLmdldENlbGxJbmZvKGNlbGwpLHJvd0luZGV4PWNlbGxJbmZvLnJvd0luZGV4LGNvbEluZGV4PWNlbGxJbmZvLmNvbEluZGV4LHJlc3VsdHM9W107Y2VsbC5yb3dTcGFuPTE7cmVzdWx0cy5wdXNoKGNlbGwpO2Zvcih2YXIgaT1yb3dJbmRleCxlbmRSb3c9cm93SW5kZXgrY2VsbEluZm8ucm93U3BhbjtpPGVuZFJvdztpKyspe2lmKGk9PXJvd0luZGV4KXtjb250aW51ZX12YXIgdGFibGVSb3c9dGhpcy50YWJsZS5yb3dzW2ldLHRtcENlbGw9dGFibGVSb3cuaW5zZXJ0Q2VsbChjb2xJbmRleC10aGlzLmdldFByZXZpZXdNZXJnZWRDZWxsc051bShpLGNvbEluZGV4KSk7dG1wQ2VsbC5jb2xTcGFuPWNlbGxJbmZvLmNvbFNwYW47dGhpcy5zZXRDZWxsQ29udGVudCh0bXBDZWxsKTt0bXBDZWxsLnNldEF0dHJpYnV0ZSgidkFsaWduIixjZWxsLmdldEF0dHJpYnV0ZSgidkFsaWduIikpO3RtcENlbGwuc2V0QXR0cmlidXRlKCJhbGlnbiIsY2VsbC5nZXRBdHRyaWJ1dGUoImFsaWduIikpO2lmKGNlbGwuc3R5bGUuY3NzVGV4dCl7dG1wQ2VsbC5zdHlsZS5jc3NUZXh0PWNlbGwuc3R5bGUuY3NzVGV4dH1yZXN1bHRzLnB1c2godG1wQ2VsbCl9dGhpcy51cGRhdGUoKTtyZXR1cm4gcmVzdWx0c30sZ2V0UHJldmlld01lcmdlZENlbGxzTnVtOmZ1bmN0aW9uKHJvd0luZGV4LGNvbEluZGV4KXt2YXIgaW5kZXhSb3c9dGhpcy5pbmRleFRhYmxlW3Jvd0luZGV4XSxudW09MDtmb3IodmFyIGk9MDtpPGNvbEluZGV4Oyl7dmFyIGNvbFNwYW49aW5kZXhSb3dbaV0uY29sU3Bhbix0bXBSb3dJbmRleD1pbmRleFJvd1tpXS5yb3dJbmRleDtudW0rPShjb2xTcGFuLSh0bXBSb3dJbmRleD09cm93SW5kZXg/MTowKSk7aSs9Y29sU3Bhbn1yZXR1cm4gbnVtfSxzcGxpdFRvQ29sczpmdW5jdGlvbihjZWxsKXt2YXIgYmFja1dpZHRoPShjZWxsLm9mZnNldFdpZHRoL2NlbGwuY29sU3Bhbi0yMikudG9GaXhlZCgwKSxjZWxsSW5mbz10aGlzLmdldENlbGxJbmZvKGNlbGwpLHJvd0luZGV4PWNlbGxJbmZvLnJvd0luZGV4LGNvbEluZGV4PWNlbGxJbmZvLmNvbEluZGV4LHJlc3VsdHM9W107Y2VsbC5jb2xTcGFuPTE7Y2VsbC5zZXRBdHRyaWJ1dGUoIndpZHRoIixiYWNrV2lkdGgpO3Jlc3VsdHMucHVzaChjZWxsKTtmb3IodmFyIGo9Y29sSW5kZXgsZW5kQ29sPWNvbEluZGV4K2NlbGxJbmZvLmNvbFNwYW47ajxlbmRDb2w7aisrKXtpZihqPT1jb2xJbmRleCl7Y29udGludWV9dmFyIHRhYmxlUm93PXRoaXMudGFibGUucm93c1tyb3dJbmRleF0sdG1wQ2VsbD10YWJsZVJvdy5pbnNlcnRDZWxsKHRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF1bal0uY2VsbEluZGV4KzEpO3RtcENlbGwucm93U3Bhbj1jZWxsSW5mby5yb3dTcGFuO3RoaXMuc2V0Q2VsbENvbnRlbnQodG1wQ2VsbCk7dG1wQ2VsbC5zZXRBdHRyaWJ1dGUoInZBbGlnbiIsY2VsbC5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpKTt0bXBDZWxsLnNldEF0dHJpYnV0ZSgiYWxpZ24iLGNlbGwuZ2V0QXR0cmlidXRlKCJhbGlnbiIpKTt0bXBDZWxsLnNldEF0dHJpYnV0ZSgid2lkdGgiLGJhY2tXaWR0aCk7aWYoY2VsbC5zdHlsZS5jc3NUZXh0KXt0bXBDZWxsLnN0eWxlLmNzc1RleHQ9Y2VsbC5zdHlsZS5jc3NUZXh0fWlmKGNlbGwudGFnTmFtZT09IlRIIil7dmFyIHRoPWNlbGwub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0aCIpO3RoLmFwcGVuZENoaWxkKHRtcENlbGwuZmlyc3RDaGlsZCk7dGguc2V0QXR0cmlidXRlKCJ2QWxpZ24iLGNlbGwuZ2V0QXR0cmlidXRlKCJ2QWxpZ24iKSk7dGgucm93U3Bhbj10bXBDZWxsLnJvd1NwYW47dGFibGVSb3cuaW5zZXJ0QmVmb3JlKHRoLHRtcENlbGwpO2RvbVV0aWxzLnJlbW92ZSh0bXBDZWxsKX1yZXN1bHRzLnB1c2godG1wQ2VsbCl9dGhpcy51cGRhdGUoKTtyZXR1cm4gcmVzdWx0c30saXNMYXN0Q2VsbDpmdW5jdGlvbihjZWxsLHJvd3NOdW0sY29sc051bSl7cm93c051bT1yb3dzTnVtfHx0aGlzLnJvd3NOdW07Y29sc051bT1jb2xzTnVtfHx0aGlzLmNvbHNOdW07dmFyIGNlbGxJbmZvPXRoaXMuZ2V0Q2VsbEluZm8oY2VsbCk7cmV0dXJuKChjZWxsSW5mby5yb3dJbmRleCtjZWxsSW5mby5yb3dTcGFuKT09cm93c051bSkmJigoY2VsbEluZm8uY29sSW5kZXgrY2VsbEluZm8uY29sU3Bhbik9PWNvbHNOdW0pfSxnZXRMYXN0Q2VsbDpmdW5jdGlvbihjZWxscyl7Y2VsbHM9Y2VsbHN8fHRoaXMudGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7dmFyIGZpcnN0SW5mbz10aGlzLmdldENlbGxJbmZvKGNlbGxzWzBdKTt2YXIgbWU9dGhpcyxsYXN0PWNlbGxzWzBdLHRyPWxhc3QucGFyZW50Tm9kZSxjZWxsc051bT0wLGNvbHM9MCxyb3dzO3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24oY2VsbCl7aWYoY2VsbC5wYXJlbnROb2RlPT10cil7Y29scys9Y2VsbC5jb2xTcGFufHwxfWNlbGxzTnVtKz1jZWxsLnJvd1NwYW4qY2VsbC5jb2xTcGFufHwxfSk7cm93cz1jZWxsc051bS9jb2xzO3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24oY2VsbCl7aWYobWUuaXNMYXN0Q2VsbChjZWxsLHJvd3MsY29scykpe2xhc3Q9Y2VsbDtyZXR1cm4gZmFsc2V9fSk7cmV0dXJuIGxhc3R9LHNlbGVjdFJvdzpmdW5jdGlvbihyb3dJbmRleCl7dmFyIGluZGV4Um93PXRoaXMuaW5kZXhUYWJsZVtyb3dJbmRleF0sc3RhcnQ9dGhpcy5nZXRDZWxsKGluZGV4Um93WzBdLnJvd0luZGV4LGluZGV4Um93WzBdLmNlbGxJbmRleCksZW5kPXRoaXMuZ2V0Q2VsbChpbmRleFJvd1t0aGlzLmNvbHNOdW0tMV0ucm93SW5kZXgsaW5kZXhSb3dbdGhpcy5jb2xzTnVtLTFdLmNlbGxJbmRleCkscmFuZ2U9dGhpcy5nZXRDZWxsc1JhbmdlKHN0YXJ0LGVuZCk7dGhpcy5zZXRTZWxlY3RlZChyYW5nZSl9LHNlbGVjdFRhYmxlOmZ1bmN0aW9uKCl7dmFyIHRkcz10aGlzLnRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHJhbmdlPXRoaXMuZ2V0Q2VsbHNSYW5nZSh0ZHNbMF0sdGRzW3Rkcy5sZW5ndGgtMV0pO3RoaXMuc2V0U2VsZWN0ZWQocmFuZ2UpfSxzZXRCYWNrZ3JvdW5kOmZ1bmN0aW9uKGNlbGxzLHZhbHVlKXtpZih0eXBlb2YgdmFsdWU9PT0ic3RyaW5nIil7dXRpbHMuZWFjaChjZWxscyxmdW5jdGlvbihjZWxsKXtjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj12YWx1ZX0pfWVsc2V7aWYodHlwZW9mIHZhbHVlPT09Im9iamVjdCIpe3ZhbHVlPXV0aWxzLmV4dGVuZCh7cmVwZWF0OnRydWUsY29sb3JMaXN0OlsiI2RkZCIsIiNmZmYiXX0sdmFsdWUpO3ZhciByb3dJbmRleD10aGlzLmdldENlbGxJbmZvKGNlbGxzWzBdKS5yb3dJbmRleCxjb3VudD0wLGNvbG9ycz12YWx1ZS5jb2xvckxpc3QsZ2V0Q29sb3I9ZnVuY3Rpb24obGlzdCxpbmRleCxyZXBlYXQpe3JldHVybiBsaXN0W2luZGV4XT9saXN0W2luZGV4XTpyZXBlYXQ/bGlzdFtpbmRleCVsaXN0Lmxlbmd0aF06IiJ9O2Zvcih2YXIgaT0wLGNlbGw7Y2VsbD1jZWxsc1tpKytdOyl7dmFyIGNlbGxJbmZvPXRoaXMuZ2V0Q2VsbEluZm8oY2VsbCk7Y2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9Z2V0Q29sb3IoY29sb3JzLCgocm93SW5kZXgrY291bnQpPT1jZWxsSW5mby5yb3dJbmRleCk/Y291bnQ6Kytjb3VudCx2YWx1ZS5yZXBlYXQpfX19fSxyZW1vdmVCYWNrZ3JvdW5kOmZ1bmN0aW9uKGNlbGxzKXt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwpe2NlbGwuc3R5bGUuYmFja2dyb3VuZENvbG9yPSIifSl9fTtmdW5jdGlvbiBzaG93RXJyb3IoZSl7fX0pKCk7KGZ1bmN0aW9uKCl7dmFyIFVUPVVFLlVFVGFibGUsZ2V0VGFibGVJdGVtc0J5UmFuZ2U9ZnVuY3Rpb24oZWRpdG9yKXtyZXR1cm4gVVQuZ2V0VGFibGVJdGVtc0J5UmFuZ2UoZWRpdG9yKX0sZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQ9ZnVuY3Rpb24oZWRpdG9yKXtyZXR1cm4gVVQuZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQoZWRpdG9yKX0sZ2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGVkaXRvcix0YWJsZSl7cmV0dXJuIFVULmdldERlZmF1bHRWYWx1ZShlZGl0b3IsdGFibGUpfSxnZXRVRVRhYmxlPWZ1bmN0aW9uKHRkT3JUYWJsZSl7cmV0dXJuIFVULmdldFVFVGFibGUodGRPclRhYmxlKX07VUUuY29tbWFuZHMuaW5zZXJ0dGFibGU9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlPy0xOjB9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxvcHQpe2Z1bmN0aW9uIGNyZWF0ZVRhYmxlKG9wdCx0ZFdpZHRoKXt2YXIgaHRtbD1bXSxyb3dzTnVtPW9wdC5udW1Sb3dzLGNvbHNOdW09b3B0Lm51bUNvbHM7Zm9yKHZhciByPTA7cjxyb3dzTnVtO3IrKyl7aHRtbC5wdXNoKCI8dHI+Iik7Zm9yKHZhciBjPTA7Yzxjb2xzTnVtO2MrKyl7aHRtbC5wdXNoKCc8dGQgd2lkdGg9IicrdGRXaWR0aCsnIiAgdkFsaWduPSInK29wdC50ZHZhbGlnbisnIiA+JysoYnJvd3Nlci5pZT9kb21VdGlscy5maWxsQ2hhcjoiPGJyLz4iKSsiPC90ZD4iKX1odG1sLnB1c2goIjwvdHI+Iil9cmV0dXJuIjx0YWJsZT48dGJvZHk+IitodG1sLmpvaW4oIiIpKyI8L3Rib2R5PjwvdGFibGU+In1pZighb3B0KXtvcHQ9dXRpbHMuZXh0ZW5kKHt9LHtudW1Db2xzOnRoaXMub3B0aW9ucy5kZWZhdWx0Q29scyxudW1Sb3dzOnRoaXMub3B0aW9ucy5kZWZhdWx0Um93cyx0ZHZhbGlnbjp0aGlzLm9wdGlvbnMudGR2YWxpZ259KX12YXIgbWU9dGhpczt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydD1yYW5nZS5zdGFydENvbnRhaW5lcixmaXJzdFBhcmVudEJsb2NrPWRvbVV0aWxzLmZpbmRQYXJlbnQoc3RhcnQsZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSl9LHRydWUpfHxtZS5ib2R5O3ZhciBkZWZhdWx0VmFsdWU9Z2V0RGVmYXVsdFZhbHVlKG1lKSx0YWJsZVdpZHRoPWZpcnN0UGFyZW50QmxvY2sub2Zmc2V0V2lkdGgsdGRXaWR0aD1NYXRoLmZsb29yKHRhYmxlV2lkdGgvb3B0Lm51bUNvbHMtZGVmYXVsdFZhbHVlLnRkUGFkZGluZyoyLWRlZmF1bHRWYWx1ZS50ZEJvcmRlcik7IW9wdC50ZHZhbGlnbiYmKG9wdC50ZHZhbGlnbj1tZS5vcHRpb25zLnRkdmFsaWduKTttZS5leGVjQ29tbWFuZCgiaW5zZXJ0aHRtbCIsY3JlYXRlVGFibGUob3B0LHRkV2lkdGgpKX19O1VFLmNvbW1hbmRzLmluc2VydHBhcmFncmFwaGJlZm9yZXRhYmxlPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO2lmKHRhYmxlKXt2YXIgcD10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtwLmlubmVySFRNTD1icm93c2VyLmllPyImbmJzcDsiOiI8YnIgLz4iO3RhYmxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHAsdGFibGUpO3RoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQocCwwKS5zZXRDdXJzb3IoKX19fTtVRS5jb21tYW5kcy5kZWxldGV0YWJsZT17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7cmV0dXJuIGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJ0YWJsZSIsdHJ1ZSk/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLHRhYmxlKXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7dGFibGU9dGFibGV8fGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJ0YWJsZSIsdHJ1ZSk7aWYodGFibGUpe3ZhciBuZXh0PXRhYmxlLm5leHRTaWJsaW5nO2lmKCFuZXh0KXtuZXh0PWRvbVV0aWxzLmNyZWF0ZUVsZW1lbnQodGhpcy5kb2N1bWVudCwicCIse2lubmVySFRNTDpicm93c2VyLmllP2RvbVV0aWxzLmZpbGxDaGFyOiI8YnIvPiJ9KTt0YWJsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXh0LHRhYmxlKX1kb21VdGlscy5yZW1vdmUodGFibGUpO3JuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKG5leHQubm9kZVR5cGU9PTMpe3JuZy5zZXRTdGFydEJlZm9yZShuZXh0KX1lbHNle3JuZy5zZXRTdGFydChuZXh0LDApfXJuZy5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7dGhpcy5maXJlRXZlbnQoInRhYmxlaGFzZGVsZXRlZCIpfX19O1VFLmNvbW1hbmRzLmNlbGxhbGlnbj17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2VsZWN0ZWRBcnIodGhpcykubGVuZ3RoPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxhbGlnbil7dmFyIHNlbGVjdGVkVGRzPWdldFNlbGVjdGVkQXJyKHRoaXMpO2lmKHNlbGVjdGVkVGRzLmxlbmd0aCl7Zm9yKHZhciBpPTAsY2k7Y2k9c2VsZWN0ZWRUZHNbaSsrXTspe2NpLnNldEF0dHJpYnV0ZSgiYWxpZ24iLGFsaWduKX19fX07VUUuY29tbWFuZHMuY2VsbHZhbGlnbj17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2VsZWN0ZWRBcnIodGhpcykubGVuZ3RoPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCx2YWxpZ24pe3ZhciBzZWxlY3RlZFRkcz1nZXRTZWxlY3RlZEFycih0aGlzKTtpZihzZWxlY3RlZFRkcy5sZW5ndGgpe2Zvcih2YXIgaT0wLGNpO2NpPXNlbGVjdGVkVGRzW2krK107KXtjaS5zZXRBdHRyaWJ1dGUoInZBbGlnbiIsdmFsaWduKX19fX07VUUuY29tbWFuZHMuaW5zZXJ0Y2FwdGlvbj17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYodGFibGUpe3JldHVybiB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiY2FwdGlvbiIpLmxlbmd0aD09MD8xOi0xfXJldHVybiAtMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYodGFibGUpe3ZhciBjYXB0aW9uPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FwdGlvbiIpO2NhcHRpb24uaW5uZXJIVE1MPWJyb3dzZXIuaWU/ZG9tVXRpbHMuZmlsbENoYXI6Ijxici8+Ijt0YWJsZS5pbnNlcnRCZWZvcmUoY2FwdGlvbix0YWJsZS5maXJzdENoaWxkKTt2YXIgcmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtyYW5nZS5zZXRTdGFydChjYXB0aW9uLDApLnNldEN1cnNvcigpfX19O1VFLmNvbW1hbmRzLmRlbGV0ZWNhcHRpb249e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHRhYmxlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJ0YWJsZSIpO2lmKHRhYmxlKXtyZXR1cm4gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhcHRpb24iKS5sZW5ndGg9PTA/LTE6MX1yZXR1cm4gLTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHRhYmxlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJ0YWJsZSIpO2lmKHRhYmxlKXtkb21VdGlscy5yZW1vdmUodGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImNhcHRpb24iKVswXSk7dmFyIHJhbmdlPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7cmFuZ2Uuc2V0U3RhcnQodGFibGUucm93c1swXS5jZWxsc1swXSwwKS5zZXRDdXJzb3IoKX19fTtVRS5jb21tYW5kcy5pbnNlcnR0aXRsZT17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYodGFibGUpe3ZhciBmaXJzdFJvdz10YWJsZS5yb3dzWzBdO3JldHVybiBmaXJzdFJvdy5jZWxsc1tmaXJzdFJvdy5jZWxscy5sZW5ndGgtMV0udGFnTmFtZS50b0xvd2VyQ2FzZSgpIT0idGgiPzA6LTF9cmV0dXJuIC0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciB0YWJsZT1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTtpZih0YWJsZSl7Z2V0VUVUYWJsZSh0YWJsZSkuaW5zZXJ0Um93KDAsInRoIil9dmFyIHRoPXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0aCIpWzBdO3RoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQodGgsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX07VUUuY29tbWFuZHMuZGVsZXRldGl0bGU9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO2lmKHRhYmxlKXt2YXIgZmlyc3RSb3c9dGFibGUucm93c1swXTtyZXR1cm4gZmlyc3RSb3cuY2VsbHNbZmlyc3RSb3cuY2VsbHMubGVuZ3RoLTFdLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09InRoIj8wOi0xfXJldHVybiAtMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYodGFibGUpe2RvbVV0aWxzLnJlbW92ZSh0YWJsZS5yb3dzWzBdKX12YXIgdGQ9dGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIilbMF07dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZXRTdGFydCh0ZCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSl9fTtVRS5jb21tYW5kcy5pbnNlcnR0aXRsZWNvbD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYodGFibGUpe3ZhciBsYXN0Um93PXRhYmxlLnJvd3NbdGFibGUucm93cy5sZW5ndGgtMV07cmV0dXJuIGxhc3RSb3cuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRoIikubGVuZ3RoPy0xOjB9cmV0dXJuIC0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQpe3ZhciB0YWJsZT1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTtpZih0YWJsZSl7Z2V0VUVUYWJsZSh0YWJsZSkuaW5zZXJ0Q29sKDAsInRoIil9cmVzZXRUZFdpZHRoKHRhYmxlLHRoaXMpO3ZhciB0aD10YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKVswXTt0aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNldFN0YXJ0KHRoLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX19O1VFLmNvbW1hbmRzLmRlbGV0ZXRpdGxlY29sPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3ZhciB0YWJsZT1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTtpZih0YWJsZSl7dmFyIGxhc3RSb3c9dGFibGUucm93c1t0YWJsZS5yb3dzLmxlbmd0aC0xXTtyZXR1cm4gbGFzdFJvdy5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGgiKS5sZW5ndGg/MDotMX1yZXR1cm4gLTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO2lmKHRhYmxlKXtmb3IodmFyIGk9MDtpPHRhYmxlLnJvd3MubGVuZ3RoO2krKyl7ZG9tVXRpbHMucmVtb3ZlKHRhYmxlLnJvd3NbaV0uY2hpbGRyZW5bMF0pfX1yZXNldFRkV2lkdGgodGFibGUsdGhpcyk7dmFyIHRkPXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpWzBdO3RoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQodGQsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX07VUUuY29tbWFuZHMubWVyZ2VyaWdodD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oY21kKXt2YXIgdGFibGVJdGVtcz1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKTtpZighdGFibGVJdGVtcy5jZWxsKXtyZXR1cm4gLTF9dmFyIHV0PWdldFVFVGFibGUodGFibGVJdGVtcy50YWJsZSk7aWYodXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXtyZXR1cm4gLTF9dmFyIGNlbGxJbmZvPXV0LmdldENlbGxJbmZvKHRhYmxlSXRlbXMuY2VsbCkscmlnaHRDb2xJbmRleD1jZWxsSW5mby5jb2xJbmRleCtjZWxsSW5mby5jb2xTcGFuO2lmKHJpZ2h0Q29sSW5kZXg+PXV0LmNvbHNOdW0pe3JldHVybiAtMX12YXIgcmlnaHRDZWxsSW5mbz11dC5pbmRleFRhYmxlW2NlbGxJbmZvLnJvd0luZGV4XVtyaWdodENvbEluZGV4XTtyZXR1cm4ocmlnaHRDZWxsSW5mby5yb3dJbmRleD09Y2VsbEluZm8ucm93SW5kZXgmJnJpZ2h0Q2VsbEluZm8ucm93U3Bhbj09Y2VsbEluZm8ucm93U3Bhbik/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kKXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksYms9cm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpO3ZhciBjZWxsPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLmNlbGwsdXQ9Z2V0VUVUYWJsZShjZWxsKTt1dC5tZXJnZVJpZ2h0KGNlbGwpO3JuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCl9fTtVRS5jb21tYW5kcy5tZXJnZWRvd249e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNtZCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGw7aWYoIWNlbGx8fGNlbGwudGFnTmFtZT09IlRIIil7cmV0dXJuIC0xfXZhciB1dD1nZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpO2lmKHV0LnNlbGVjdGVkVGRzLmxlbmd0aCl7cmV0dXJuIC0xfXZhciBjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyh0YWJsZUl0ZW1zLmNlbGwpLGRvd25Sb3dJbmRleD1jZWxsSW5mby5yb3dJbmRleCtjZWxsSW5mby5yb3dTcGFuO2lmKGRvd25Sb3dJbmRleD49dXQucm93c051bSl7cmV0dXJuIC0xfXZhciBkb3duQ2VsbEluZm89dXQuaW5kZXhUYWJsZVtkb3duUm93SW5kZXhdW2NlbGxJbmZvLmNvbEluZGV4XTtyZXR1cm4oZG93bkNlbGxJbmZvLmNvbEluZGV4PT1jZWxsSW5mby5jb2xJbmRleCYmZG93bkNlbGxJbmZvLmNvbFNwYW49PWNlbGxJbmZvLmNvbFNwYW4pJiZ0YWJsZUl0ZW1zLmNlbGwudGFnTmFtZSE9PSJUSCI/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksYms9cm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpO3ZhciBjZWxsPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLmNlbGwsdXQ9Z2V0VUVUYWJsZShjZWxsKTt1dC5tZXJnZURvd24oY2VsbCk7cm5nLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKX19O1VFLmNvbW1hbmRzLm1lcmdlY2VsbHM9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGdldFVFVGFibGVCeVNlbGVjdGVkKHRoaXMpPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHV0PWdldFVFVGFibGVCeVNlbGVjdGVkKHRoaXMpO2lmKHV0JiZ1dC5zZWxlY3RlZFRkcy5sZW5ndGgpe3ZhciBjZWxsPXV0LnNlbGVjdGVkVGRzWzBdO3V0Lm1lcmdlUmFuZ2UoKTt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGNlbGwpKXtybmcuc2V0U3RhcnQoY2VsbCwwKS5jb2xsYXBzZSh0cnVlKX1lbHNle3JuZy5zZWxlY3ROb2RlQ29udGVudHMoY2VsbCl9cm5nLnNlbGVjdCgpfX19O1VFLmNvbW1hbmRzLmluc2VydHJvdz17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdGFibGVJdGVtcz1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSxjZWxsPXRhYmxlSXRlbXMuY2VsbDtyZXR1cm4gY2VsbCYmKGNlbGwudGFnTmFtZT09IlREInx8KGNlbGwudGFnTmFtZT09IlRIIiYmdGFibGVJdGVtcy50ciE9PXRhYmxlSXRlbXMudGFibGUucm93c1swXSkpJiZnZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpLnJvd3NOdW08dGhpcy5vcHRpb25zLm1heFJvd051bT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1ybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGwsdGFibGU9dGFibGVJdGVtcy50YWJsZSx1dD1nZXRVRVRhYmxlKHRhYmxlKSxjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyhjZWxsKTtpZighdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXt1dC5pbnNlcnRSb3coY2VsbEluZm8ucm93SW5kZXgsY2VsbCl9ZWxzZXt2YXIgcmFuZ2U9dXQuY2VsbHNSYW5nZTtmb3IodmFyIGk9MCxsZW49cmFuZ2UuZW5kUm93SW5kZXgtcmFuZ2UuYmVnaW5Sb3dJbmRleCsxO2k8bGVuO2krKyl7dXQuaW5zZXJ0Um93KHJhbmdlLmJlZ2luUm93SW5kZXgsY2VsbCl9fXJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7aWYodGFibGUuZ2V0QXR0cmlidXRlKCJpbnRlcmxhY2VkIik9PT0iZW5hYmxlZCIpe3RoaXMuZmlyZUV2ZW50KCJpbnRlcmxhY2V0YWJsZSIsdGFibGUpfX19O1VFLmNvbW1hbmRzLmluc2VydHJvd25leHQ9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGw7cmV0dXJuIGNlbGwmJihjZWxsLnRhZ05hbWU9PSJURCIpJiZnZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpLnJvd3NOdW08dGhpcy5vcHRpb25zLm1heFJvd051bT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1ybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGwsdGFibGU9dGFibGVJdGVtcy50YWJsZSx1dD1nZXRVRVRhYmxlKHRhYmxlKSxjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyhjZWxsKTtpZighdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXt1dC5pbnNlcnRSb3coY2VsbEluZm8ucm93SW5kZXgrY2VsbEluZm8ucm93U3BhbixjZWxsKX1lbHNle3ZhciByYW5nZT11dC5jZWxsc1JhbmdlO2Zvcih2YXIgaT0wLGxlbj1yYW5nZS5lbmRSb3dJbmRleC1yYW5nZS5iZWdpblJvd0luZGV4KzE7aTxsZW47aSsrKXt1dC5pbnNlcnRSb3cocmFuZ2UuZW5kUm93SW5kZXgrMSxjZWxsKX19cm5nLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKTtpZih0YWJsZS5nZXRBdHRyaWJ1dGUoImludGVybGFjZWQiKT09PSJlbmFibGVkIil7dGhpcy5maXJlRXZlbnQoImludGVybGFjZXRhYmxlIix0YWJsZSl9fX07VUUuY29tbWFuZHMuZGVsZXRlcm93PXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3ZhciB0YWJsZUl0ZW1zPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpO2lmKCF0YWJsZUl0ZW1zLmNlbGwpe3JldHVybiAtMX19LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIGNlbGw9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbCx1dD1nZXRVRVRhYmxlKGNlbGwpLGNlbGxzUmFuZ2U9dXQuY2VsbHNSYW5nZSxjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyhjZWxsKSxwcmVDZWxsPXV0LmdldFZTaWRlQ2VsbChjZWxsKSxuZXh0Q2VsbD11dC5nZXRWU2lkZUNlbGwoY2VsbCx0cnVlKSxybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZih1dGlscy5pc0VtcHR5T2JqZWN0KGNlbGxzUmFuZ2UpKXt1dC5kZWxldGVSb3coY2VsbEluZm8ucm93SW5kZXgpfWVsc2V7Zm9yKHZhciBpPWNlbGxzUmFuZ2UuYmVnaW5Sb3dJbmRleDtpPGNlbGxzUmFuZ2UuZW5kUm93SW5kZXgrMTtpKyspe3V0LmRlbGV0ZVJvdyhjZWxsc1JhbmdlLmJlZ2luUm93SW5kZXgpfX12YXIgdGFibGU9dXQudGFibGU7aWYoIXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLmxlbmd0aCl7dmFyIG5leHRTaWJsaW5nPXRhYmxlLm5leHRTaWJsaW5nO2RvbVV0aWxzLnJlbW92ZSh0YWJsZSk7aWYobmV4dFNpYmxpbmcpe3JuZy5zZXRTdGFydChuZXh0U2libGluZywwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSl9fWVsc2V7aWYoY2VsbEluZm8ucm93U3Bhbj09MXx8Y2VsbEluZm8ucm93U3Bhbj09Y2VsbHNSYW5nZS5lbmRSb3dJbmRleC1jZWxsc1JhbmdlLmJlZ2luUm93SW5kZXgrMSl7aWYobmV4dENlbGx8fHByZUNlbGwpe3JuZy5zZWxlY3ROb2RlQ29udGVudHMobmV4dENlbGx8fHByZUNlbGwpLnNldEN1cnNvcihmYWxzZSx0cnVlKX19ZWxzZXt2YXIgbmV3Q2VsbD11dC5nZXRDZWxsKGNlbGxJbmZvLnJvd0luZGV4LHV0LmluZGV4VGFibGVbY2VsbEluZm8ucm93SW5kZXhdW2NlbGxJbmZvLmNvbEluZGV4XS5jZWxsSW5kZXgpO2lmKG5ld0NlbGwpe3JuZy5zZWxlY3ROb2RlQ29udGVudHMobmV3Q2VsbCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX19aWYodGFibGUuZ2V0QXR0cmlidXRlKCJpbnRlcmxhY2VkIik9PT0iZW5hYmxlZCIpe3RoaXMuZmlyZUV2ZW50KCJpbnRlcmxhY2V0YWJsZSIsdGFibGUpfX19O1VFLmNvbW1hbmRzLmluc2VydGNvbD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oY21kKXt2YXIgdGFibGVJdGVtcz1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSxjZWxsPXRhYmxlSXRlbXMuY2VsbDtyZXR1cm4gY2VsbCYmKGNlbGwudGFnTmFtZT09IlREInx8KGNlbGwudGFnTmFtZT09IlRIIiYmY2VsbCE9PXRhYmxlSXRlbXMudHIuY2VsbHNbMF0pKSYmZ2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKS5jb2xzTnVtPHRoaXMub3B0aW9ucy5tYXhDb2xOdW0/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kKXt2YXIgcm5nPXRoaXMuc2VsZWN0aW9uLmdldFJhbmdlKCksYms9cm5nLmNyZWF0ZUJvb2ttYXJrKHRydWUpO2lmKHRoaXMucXVlcnlDb21tYW5kU3RhdGUoY21kKT09LTEpe3JldHVybn12YXIgY2VsbD1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLHV0PWdldFVFVGFibGUoY2VsbCksY2VsbEluZm89dXQuZ2V0Q2VsbEluZm8oY2VsbCk7aWYoIXV0LnNlbGVjdGVkVGRzLmxlbmd0aCl7dXQuaW5zZXJ0Q29sKGNlbGxJbmZvLmNvbEluZGV4LGNlbGwpfWVsc2V7dmFyIHJhbmdlPXV0LmNlbGxzUmFuZ2U7Zm9yKHZhciBpPTAsbGVuPXJhbmdlLmVuZENvbEluZGV4LXJhbmdlLmJlZ2luQ29sSW5kZXgrMTtpPGxlbjtpKyspe3V0Lmluc2VydENvbChyYW5nZS5iZWdpbkNvbEluZGV4LGNlbGwpfX1ybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKX19O1VFLmNvbW1hbmRzLmluc2VydGNvbG5leHQ9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGw7cmV0dXJuIGNlbGwmJmdldFVFVGFibGUodGFibGVJdGVtcy50YWJsZSkuY29sc051bTx0aGlzLm9wdGlvbnMubWF4Q29sTnVtPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGJrPXJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTt2YXIgY2VsbD1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLHV0PWdldFVFVGFibGUoY2VsbCksY2VsbEluZm89dXQuZ2V0Q2VsbEluZm8oY2VsbCk7aWYoIXV0LnNlbGVjdGVkVGRzLmxlbmd0aCl7dXQuaW5zZXJ0Q29sKGNlbGxJbmZvLmNvbEluZGV4K2NlbGxJbmZvLmNvbFNwYW4sY2VsbCl9ZWxzZXt2YXIgcmFuZ2U9dXQuY2VsbHNSYW5nZTtmb3IodmFyIGk9MCxsZW49cmFuZ2UuZW5kQ29sSW5kZXgtcmFuZ2UuYmVnaW5Db2xJbmRleCsxO2k8bGVuO2krKyl7dXQuaW5zZXJ0Q29sKHJhbmdlLmVuZENvbEluZGV4KzEsY2VsbCl9fXJuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCl9fTtVRS5jb21tYW5kcy5kZWxldGVjb2w9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyk7aWYoIXRhYmxlSXRlbXMuY2VsbCl7cmV0dXJuIC0xfX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgY2VsbD1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLHV0PWdldFVFVGFibGUoY2VsbCkscmFuZ2U9dXQuY2VsbHNSYW5nZSxjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyhjZWxsKSxwcmVDZWxsPXV0LmdldEhTaWRlQ2VsbChjZWxsKSxuZXh0Q2VsbD11dC5nZXRIU2lkZUNlbGwoY2VsbCx0cnVlKTtpZih1dGlscy5pc0VtcHR5T2JqZWN0KHJhbmdlKSl7dXQuZGVsZXRlQ29sKGNlbGxJbmZvLmNvbEluZGV4KX1lbHNle2Zvcih2YXIgaT1yYW5nZS5iZWdpbkNvbEluZGV4O2k8cmFuZ2UuZW5kQ29sSW5kZXgrMTtpKyspe3V0LmRlbGV0ZUNvbChyYW5nZS5iZWdpbkNvbEluZGV4KX19dmFyIHRhYmxlPXV0LnRhYmxlLHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKCF0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKS5sZW5ndGgpe3ZhciBuZXh0U2libGluZz10YWJsZS5uZXh0U2libGluZztkb21VdGlscy5yZW1vdmUodGFibGUpO2lmKG5leHRTaWJsaW5nKXtybmcuc2V0U3RhcnQobmV4dFNpYmxpbmcsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX1lbHNle2lmKGRvbVV0aWxzLmluRG9jKGNlbGwsdGhpcy5kb2N1bWVudCkpe3JuZy5zZXRTdGFydChjZWxsLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX1lbHNle2lmKG5leHRDZWxsJiZkb21VdGlscy5pbkRvYyhuZXh0Q2VsbCx0aGlzLmRvY3VtZW50KSl7cm5nLnNlbGVjdE5vZGVDb250ZW50cyhuZXh0Q2VsbCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfWVsc2V7aWYocHJlQ2VsbCYmZG9tVXRpbHMuaW5Eb2MocHJlQ2VsbCx0aGlzLmRvY3VtZW50KSl7cm5nLnNlbGVjdE5vZGVDb250ZW50cyhwcmVDZWxsKS5zZXRDdXJzb3IodHJ1ZSx0cnVlKX19fX19fTtVRS5jb21tYW5kcy5zcGxpdHRvY2VsbHM9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGw7aWYoIWNlbGwpe3JldHVybiAtMX12YXIgdXQ9Z2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKTtpZih1dC5zZWxlY3RlZFRkcy5sZW5ndGg+MCl7cmV0dXJuIC0xfXJldHVybiBjZWxsJiYoY2VsbC5jb2xTcGFuPjF8fGNlbGwucm93U3Bhbj4xKT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1ybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7dmFyIGNlbGw9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbCx1dD1nZXRVRVRhYmxlKGNlbGwpO3V0LnNwbGl0VG9DZWxscyhjZWxsKTtybmcubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpfX07VUUuY29tbWFuZHMuc3BsaXR0b3Jvd3M9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksY2VsbD10YWJsZUl0ZW1zLmNlbGw7aWYoIWNlbGwpe3JldHVybiAtMX12YXIgdXQ9Z2V0VUVUYWJsZSh0YWJsZUl0ZW1zLnRhYmxlKTtpZih1dC5zZWxlY3RlZFRkcy5sZW5ndGg+MCl7cmV0dXJuIC0xfXJldHVybiBjZWxsJiZjZWxsLnJvd1NwYW4+MT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbigpe3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1ybmcuY3JlYXRlQm9va21hcmsodHJ1ZSk7dmFyIGNlbGw9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbCx1dD1nZXRVRVRhYmxlKGNlbGwpO3V0LnNwbGl0VG9Sb3dzKGNlbGwpO3JuZy5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCl9fTtVRS5jb21tYW5kcy5zcGxpdHRvY29scz17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdGFibGVJdGVtcz1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKSxjZWxsPXRhYmxlSXRlbXMuY2VsbDtpZighY2VsbCl7cmV0dXJuIC0xfXZhciB1dD1nZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpO2lmKHV0LnNlbGVjdGVkVGRzLmxlbmd0aD4wKXtyZXR1cm4gLTF9cmV0dXJuIGNlbGwmJmNlbGwuY29sU3Bhbj4xPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHJuZz10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGJrPXJuZy5jcmVhdGVCb29rbWFyayh0cnVlKTt2YXIgY2VsbD1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS5jZWxsLHV0PWdldFVFVGFibGUoY2VsbCk7dXQuc3BsaXRUb0NvbHMoY2VsbCk7cm5nLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKX19O1VFLmNvbW1hbmRzLmFkYXB0Ynl0ZXh0PVVFLmNvbW1hbmRzLmFkYXB0Ynl3aW5kb3c9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCl7dmFyIHRhYmxlSXRlbXM9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcyksdGFibGU9dGFibGVJdGVtcy50YWJsZTtpZih0YWJsZSl7aWYoY21kPT0iYWRhcHRieXdpbmRvdyIpe3Jlc2V0VGRXaWR0aCh0YWJsZSx0aGlzKX1lbHNle3ZhciBjZWxscz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWJsZSwidGQgdGgiKTt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwpe2NlbGwucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpfSk7dGFibGUucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpfX19fTtVRS5jb21tYW5kcy5hdmVyYWdlZGlzdHJpYnV0ZWNvbD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgdXQ9Z2V0VUVUYWJsZUJ5U2VsZWN0ZWQodGhpcyk7aWYoIXV0KXtyZXR1cm4gLTF9cmV0dXJuIHV0LmlzRnVsbFJvdygpfHx1dC5pc0Z1bGxDb2woKT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQpe3ZhciBtZT10aGlzLHV0PWdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTtmdW5jdGlvbiBnZXRBdmVyYWdlV2lkdGgoKXt2YXIgdGI9dXQudGFibGUsYXZlcmFnZVdpZHRoLHN1bVdpZHRoPTAsY29sc051bT0wLHRiQXR0cj1nZXREZWZhdWx0VmFsdWUobWUsdGIpO2lmKHV0LmlzRnVsbFJvdygpKXtzdW1XaWR0aD10Yi5vZmZzZXRXaWR0aDtjb2xzTnVtPXV0LmNvbHNOdW19ZWxzZXt2YXIgYmVnaW49dXQuY2VsbHNSYW5nZS5iZWdpbkNvbEluZGV4LGVuZD11dC5jZWxsc1JhbmdlLmVuZENvbEluZGV4LG5vZGU7Zm9yKHZhciBpPWJlZ2luO2k8PWVuZDspe25vZGU9dXQuc2VsZWN0ZWRUZHNbaV07c3VtV2lkdGgrPW5vZGUub2Zmc2V0V2lkdGg7aSs9bm9kZS5jb2xTcGFuO2NvbHNOdW0rPTF9fWF2ZXJhZ2VXaWR0aD1NYXRoLmNlaWwoc3VtV2lkdGgvY29sc051bSktdGJBdHRyLnRkQm9yZGVyKjItdGJBdHRyLnRkUGFkZGluZyoyO3JldHVybiBhdmVyYWdlV2lkdGh9ZnVuY3Rpb24gc2V0QXZlcmFnZVdpZHRoKGF2ZXJhZ2VXaWR0aCl7dXRpbHMuZWFjaChkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh1dC50YWJsZSwidGgiKSxmdW5jdGlvbihub2RlKXtub2RlLnNldEF0dHJpYnV0ZSgid2lkdGgiLCIiKX0pO3ZhciBjZWxscz11dC5pc0Z1bGxSb3coKT9kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh1dC50YWJsZSwidGQiKTp1dC5zZWxlY3RlZFRkczt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKG5vZGUpe2lmKG5vZGUuY29sU3Bhbj09MSl7bm9kZS5zZXRBdHRyaWJ1dGUoIndpZHRoIixhdmVyYWdlV2lkdGgpfX0pfWlmKHV0JiZ1dC5zZWxlY3RlZFRkcy5sZW5ndGgpe3NldEF2ZXJhZ2VXaWR0aChnZXRBdmVyYWdlV2lkdGgoKSl9fX07VUUuY29tbWFuZHMuYXZlcmFnZWRpc3RyaWJ1dGVyb3c9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIHV0PWdldFVFVGFibGVCeVNlbGVjdGVkKHRoaXMpO2lmKCF1dCl7cmV0dXJuIC0xfWlmKHV0LnNlbGVjdGVkVGRzJiYvdGgvaWcudGVzdCh1dC5zZWxlY3RlZFRkc1swXS50YWdOYW1lKSl7cmV0dXJuIC0xfXJldHVybiB1dC5pc0Z1bGxSb3coKXx8dXQuaXNGdWxsQ29sKCk/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kKXt2YXIgbWU9dGhpcyx1dD1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7ZnVuY3Rpb24gZ2V0QXZlcmFnZUhlaWdodCgpe3ZhciBhdmVyYWdlSGVpZ2h0LHJvd051bSxzdW1IZWlnaHQ9MCx0Yj11dC50YWJsZSx0YkF0dHI9Z2V0RGVmYXVsdFZhbHVlKG1lLHRiKSx0ZHBhZGRpbmc9cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZSh0Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKVswXSwicGFkZGluZy10b3AiKSk7aWYodXQuaXNGdWxsQ29sKCkpe3ZhciBjYXB0aW9uQXJyPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRiLCJjYXB0aW9uIiksdGhBcnI9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGIsInRoIiksY2FwdGlvbkhlaWdodCx0aEhlaWdodDtpZihjYXB0aW9uQXJyLmxlbmd0aD4wKXtjYXB0aW9uSGVpZ2h0PWNhcHRpb25BcnJbMF0ub2Zmc2V0SGVpZ2h0fWlmKHRoQXJyLmxlbmd0aD4wKXt0aEhlaWdodD10aEFyclswXS5vZmZzZXRIZWlnaHR9c3VtSGVpZ2h0PXRiLm9mZnNldEhlaWdodC0oY2FwdGlvbkhlaWdodHx8MCktKHRoSGVpZ2h0fHwwKTtyb3dOdW09dGhBcnIubGVuZ3RoPT0wP3V0LnJvd3NOdW06KHV0LnJvd3NOdW0tMSl9ZWxzZXt2YXIgYmVnaW49dXQuY2VsbHNSYW5nZS5iZWdpblJvd0luZGV4LGVuZD11dC5jZWxsc1JhbmdlLmVuZFJvd0luZGV4LGNvdW50PTAsdHJzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRiLCJ0ciIpO2Zvcih2YXIgaT1iZWdpbjtpPD1lbmQ7aSsrKXtzdW1IZWlnaHQrPXRyc1tpXS5vZmZzZXRIZWlnaHQ7Y291bnQrPTF9cm93TnVtPWNvdW50fWlmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw5KXthdmVyYWdlSGVpZ2h0PU1hdGguY2VpbChzdW1IZWlnaHQvcm93TnVtKX1lbHNle2F2ZXJhZ2VIZWlnaHQ9TWF0aC5jZWlsKHN1bUhlaWdodC9yb3dOdW0pLXRiQXR0ci50ZEJvcmRlcioyLXRkcGFkZGluZyoyfXJldHVybiBhdmVyYWdlSGVpZ2h0fWZ1bmN0aW9uIHNldEF2ZXJhZ2VIZWlnaHQoYXZlcmFnZUhlaWdodCl7dmFyIGNlbGxzPXV0LmlzRnVsbENvbCgpP2RvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHV0LnRhYmxlLCJ0ZCIpOnV0LnNlbGVjdGVkVGRzO3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24obm9kZSl7aWYobm9kZS5yb3dTcGFuPT0xKXtub2RlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixhdmVyYWdlSGVpZ2h0KX19KX1pZih1dCYmdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXtzZXRBdmVyYWdlSGVpZ2h0KGdldEF2ZXJhZ2VIZWlnaHQoKSl9fX07VUUuY29tbWFuZHMuY2VsbGFsaWdubWVudD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLGRhdGEpe3ZhciBtZT10aGlzLHV0PWdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTtpZighdXQpe3ZhciBzdGFydD1tZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxjZWxsPXN0YXJ0JiZkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LFsidGQiLCJ0aCIsImNhcHRpb24iXSx0cnVlKTtpZighL2NhcHRpb24vaWcudGVzdChjZWxsLnRhZ05hbWUpKXtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGNlbGwsZGF0YSl9ZWxzZXtjZWxsLnN0eWxlLnRleHRBbGlnbj1kYXRhLmFsaWduO2NlbGwuc3R5bGUudmVydGljYWxBbGlnbj1kYXRhLnZBbGlnbn1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZXRDdXJzb3IodHJ1ZSl9ZWxzZXt1dGlscy5lYWNoKHV0LnNlbGVjdGVkVGRzLGZ1bmN0aW9uKGNlbGwpe2RvbVV0aWxzLnNldEF0dHJpYnV0ZXMoY2VsbCxkYXRhKX0pfX0scXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24oY21kKXt2YXIgYWN0aXZlTWVudUNlbGw9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykuY2VsbDtpZighYWN0aXZlTWVudUNlbGwpe2FjdGl2ZU1lbnVDZWxsPWdldFNlbGVjdGVkQXJyKHRoaXMpWzBdfWlmKCFhY3RpdmVNZW51Q2VsbCl7cmV0dXJuIG51bGx9ZWxzZXt2YXIgY2VsbHM9VUUuVUVUYWJsZS5nZXRVRVRhYmxlKGFjdGl2ZU1lbnVDZWxsKS5zZWxlY3RlZFRkczshY2VsbHMubGVuZ3RoJiYoY2VsbHM9YWN0aXZlTWVudUNlbGwpO3JldHVybiBVRS5VRVRhYmxlLmdldFRhYmxlQ2VsbEFsaWduU3RhdGUoY2VsbHMpfX19O1VFLmNvbW1hbmRzLnRhYmxlYWxpZ25tZW50PXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw4KXtyZXR1cm4gLTF9cmV0dXJuIGdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlPzA6LTF9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCx2YWx1ZSl7dmFyIG1lPXRoaXMsc3RhcnQ9bWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksdGFibGU9c3RhcnQmJmRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnQsWyJ0YWJsZSJdLHRydWUpO2lmKHRhYmxlKXt0YWJsZS5zZXRBdHRyaWJ1dGUoImFsaWduIix2YWx1ZSl9fX07VUUuY29tbWFuZHMuZWRpdHRhYmxlPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBnZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZT8wOi0xfSxleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQsY29sb3Ipe3ZhciBybmc9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSx0YWJsZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lciwidGFibGUiKTtpZih0YWJsZSl7dmFyIGFycj1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWJsZSwidGQiKS5jb25jYXQoZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsInRoIiksZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsImNhcHRpb24iKSk7dXRpbHMuZWFjaChhcnIsZnVuY3Rpb24obm9kZSl7bm9kZS5zdHlsZS5ib3JkZXJDb2xvcj1jb2xvcn0pfX19O1VFLmNvbW1hbmRzLmVkaXR0ZD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLGJrQ29sb3Ipe3ZhciBtZT10aGlzLHV0PWdldFVFVGFibGVCeVNlbGVjdGVkKG1lKTtpZighdXQpe3ZhciBzdGFydD1tZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxjZWxsPXN0YXJ0JiZkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LFsidGQiLCJ0aCIsImNhcHRpb24iXSx0cnVlKTtpZihjZWxsKXtjZWxsLnN0eWxlLmJhY2tncm91bmRDb2xvcj1ia0NvbG9yfX1lbHNle3V0aWxzLmVhY2godXQuc2VsZWN0ZWRUZHMsZnVuY3Rpb24oY2VsbCl7Y2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YmtDb2xvcn0pfX19O1VFLmNvbW1hbmRzLnNldHRhYmxlYmFja2dyb3VuZD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2VsZWN0ZWRBcnIodGhpcykubGVuZ3RoPjE/MDotMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLHZhbHVlKXt2YXIgY2VsbHMsdXQ7Y2VsbHM9Z2V0U2VsZWN0ZWRBcnIodGhpcyk7dXQ9Z2V0VUVUYWJsZShjZWxsc1swXSk7dXQuc2V0QmFja2dyb3VuZChjZWxscyx2YWx1ZSl9fTtVRS5jb21tYW5kcy5jbGVhcnRhYmxlYmFja2dyb3VuZD17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgY2VsbHM9Z2V0U2VsZWN0ZWRBcnIodGhpcyk7aWYoIWNlbGxzLmxlbmd0aCl7cmV0dXJuIC0xfWZvcih2YXIgaT0wLGNlbGw7Y2VsbD1jZWxsc1tpKytdOyl7aWYoY2VsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IhPT0iIil7cmV0dXJuIDB9fXJldHVybiAtMX0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oKXt2YXIgY2VsbHM9Z2V0U2VsZWN0ZWRBcnIodGhpcyksdXQ9Z2V0VUVUYWJsZShjZWxsc1swXSk7dXQucmVtb3ZlQmFja2dyb3VuZChjZWxscyl9fTtVRS5jb21tYW5kcy5pbnRlcmxhY2V0YWJsZT1VRS5jb21tYW5kcy51bmludGVybGFjZXRhYmxlPXtxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbihjbWQpe3ZhciB0YWJsZT1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTtpZighdGFibGUpe3JldHVybiAtMX12YXIgaW50ZXJsYWNlZD10YWJsZS5nZXRBdHRyaWJ1dGUoImludGVybGFjZWQiKTtpZihjbWQ9PSJpbnRlcmxhY2V0YWJsZSIpe3JldHVybihpbnRlcmxhY2VkPT09ImVuYWJsZWQiKT8tMTowfWVsc2V7cmV0dXJuKCFpbnRlcmxhY2VkfHxpbnRlcmxhY2VkPT09ImRpc2FibGVkIik/LTE6MH19LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCxjbGFzc0xpc3Qpe3ZhciB0YWJsZT1nZXRUYWJsZUl0ZW1zQnlSYW5nZSh0aGlzKS50YWJsZTtpZihjbWQ9PSJpbnRlcmxhY2V0YWJsZSIpe3RhYmxlLnNldEF0dHJpYnV0ZSgiaW50ZXJsYWNlZCIsImVuYWJsZWQiKTt0aGlzLmZpcmVFdmVudCgiaW50ZXJsYWNldGFibGUiLHRhYmxlLGNsYXNzTGlzdCl9ZWxzZXt0YWJsZS5zZXRBdHRyaWJ1dGUoImludGVybGFjZWQiLCJkaXNhYmxlZCIpO3RoaXMuZmlyZUV2ZW50KCJ1bmludGVybGFjZXRhYmxlIix0YWJsZSl9fX07VUUuY29tbWFuZHMuc2V0Ym9yZGVydmlzaWJsZT17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oY21kKXt2YXIgdGFibGU9Z2V0VGFibGVJdGVtc0J5UmFuZ2UodGhpcykudGFibGU7aWYoIXRhYmxlKXtyZXR1cm4gLTF9cmV0dXJuIDB9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO3V0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsInRkIiksZnVuY3Rpb24odGQpe3RkLnN0eWxlLmJvcmRlcldpZHRoPSIxcHgiO3RkLnN0eWxlLmJvcmRlclN0eWxlPSJzb2xpZCJ9KX19O2Z1bmN0aW9uIHJlc2V0VGRXaWR0aCh0YWJsZSxlZGl0b3Ipe3ZhciB0ZHM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsInRkIHRoIik7dXRpbHMuZWFjaCh0ZHMsZnVuY3Rpb24odGQpe3RkLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKX0pO3RhYmxlLnNldEF0dHJpYnV0ZSgid2lkdGgiLGdldFRhYmxlV2lkdGgoZWRpdG9yLHRydWUsZ2V0RGVmYXVsdFZhbHVlKGVkaXRvcix0YWJsZSkpKTt2YXIgdGRzV2lkdGhzPVtdO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt1dGlscy5lYWNoKHRkcyxmdW5jdGlvbih0ZCl7KHRkLmNvbFNwYW49PTEpJiZ0ZHNXaWR0aHMucHVzaCh0ZC5vZmZzZXRXaWR0aCl9KTt1dGlscy5lYWNoKHRkcyxmdW5jdGlvbih0ZCxpKXsodGQuY29sU3Bhbj09MSkmJnRkLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRkc1dpZHRoc1tpXSsiIil9KX0sMCl9ZnVuY3Rpb24gZ2V0VGFibGVXaWR0aChlZGl0b3IsbmVlZElFSGFjayxkZWZhdWx0VmFsdWUpe3ZhciBib2R5PWVkaXRvci5ib2R5O3JldHVybiBib2R5Lm9mZnNldFdpZHRoLShuZWVkSUVIYWNrP3BhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoYm9keSwibWFyZ2luLWxlZnQiKSwxMCkqMjowKS1kZWZhdWx0VmFsdWUudGFibGVCb3JkZXIqMi0oZWRpdG9yLm9wdGlvbnMub2Zmc2V0V2lkdGh8fDApfWZ1bmN0aW9uIGdldFNlbGVjdGVkQXJyKGVkaXRvcil7dmFyIGNlbGw9Z2V0VGFibGVJdGVtc0J5UmFuZ2UoZWRpdG9yKS5jZWxsO2lmKGNlbGwpe3ZhciB1dD1nZXRVRVRhYmxlKGNlbGwpO3JldHVybiB1dC5zZWxlY3RlZFRkcy5sZW5ndGg/dXQuc2VsZWN0ZWRUZHM6W2NlbGxdfWVsc2V7cmV0dXJuW119fX0pKCk7VUUucGx1Z2lucy50YWJsZT1mdW5jdGlvbigpe3ZhciBtZT10aGlzLHRhYlRpbWVyPW51bGwsdGFibGVEcmFnVGltZXI9bnVsbCx0YWJsZVJlc2l6ZVRpbWVyPW51bGwsY2VsbE1pbldpZHRoPTUsaXNJblJlc2l6ZUJ1ZmZlcj1mYWxzZSxjZWxsQm9yZGVyV2lkdGg9NSxvZmZzZXRPZlRhYmxlQ2VsbD0xMCxzaW5nbGVDbGlja1N0YXRlPTAsdXNlckFjdGlvblN0YXR1cz1udWxsLGRibGNsaWNrVGltZT0zNjAsVVQ9VUUuVUVUYWJsZSxnZXRVRVRhYmxlPWZ1bmN0aW9uKHRkT3JUYWJsZSl7cmV0dXJuIFVULmdldFVFVGFibGUodGRPclRhYmxlKX0sZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQ9ZnVuY3Rpb24oZWRpdG9yKXtyZXR1cm4gVVQuZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQoZWRpdG9yKX0sZ2V0RGVmYXVsdFZhbHVlPWZ1bmN0aW9uKGVkaXRvcix0YWJsZSl7cmV0dXJuIFVULmdldERlZmF1bHRWYWx1ZShlZGl0b3IsdGFibGUpfSxyZW1vdmVTZWxlY3RlZENsYXNzPWZ1bmN0aW9uKGNlbGxzKXtyZXR1cm4gVVQucmVtb3ZlU2VsZWN0ZWRDbGFzcyhjZWxscyl9O2Z1bmN0aW9uIHNob3dFcnJvcihlKXt9bWUucmVhZHkoZnVuY3Rpb24oKXt2YXIgbWU9dGhpczt2YXIgb3JnR2V0VGV4dD1tZS5zZWxlY3Rpb24uZ2V0VGV4dDttZS5zZWxlY3Rpb24uZ2V0VGV4dD1mdW5jdGlvbigpe3ZhciB0YWJsZT1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7aWYodGFibGUpe3ZhciBzdHI9IiI7dXRpbHMuZWFjaCh0YWJsZS5zZWxlY3RlZFRkcyxmdW5jdGlvbih0ZCl7c3RyKz10ZFticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdfSk7cmV0dXJuIHN0cn1lbHNle3JldHVybiBvcmdHZXRUZXh0LmNhbGwobWUuc2VsZWN0aW9uKX19fSk7dmFyIHN0YXJ0VGQ9bnVsbCxjdXJyZW50VGQ9bnVsbCxvbkRyYWc9IiIsb25Cb3JkZXI9ZmFsc2UsZHJhZ0J1dHRvbj1udWxsLGRyYWdPdmVyPWZhbHNlLGRyYWdMaW5lPW51bGwsZHJhZ1RkPW51bGw7dmFyIG1vdXNlZG93bj1mYWxzZSxuZWVkSUVIYWNrPXRydWU7bWUuc2V0T3B0KHttYXhDb2xOdW06MjAsbWF4Um93TnVtOjEwMCxkZWZhdWx0Q29sczo1LGRlZmF1bHRSb3dzOjUsdGR2YWxpZ246InRvcCIsY3Vyc29ycGF0aDptZS5vcHRpb25zLlVFRElUT1JfSE9NRV9VUkwrInRoZW1lcy9kZWZhdWx0L2ltYWdlcy9jdXJzb3JfIix0YWJsZURyYWdhYmxlOmZhbHNlLGNsYXNzTGlzdDpbInVlLXRhYmxlLWludGVybGFjZS1jb2xvci1zaW5nbGUiLCJ1ZS10YWJsZS1pbnRlcmxhY2UtY29sb3ItZG91YmxlIl19KTttZS5nZXRVRVRhYmxlPWdldFVFVGFibGU7dmFyIGNvbW1hbmRzPXtkZWxldGV0YWJsZToxLGluc2VydHRhYmxlOjEsY2VsbHZhbGlnbjoxLGluc2VydGNhcHRpb246MSxkZWxldGVjYXB0aW9uOjEsaW5zZXJ0dGl0bGU6MSxkZWxldGV0aXRsZToxLG1lcmdlcmlnaHQ6MSxtZXJnZWRvd246MSxtZXJnZWNlbGxzOjEsaW5zZXJ0cm93OjEsaW5zZXJ0cm93bmV4dDoxLGRlbGV0ZXJvdzoxLGluc2VydGNvbDoxLGluc2VydGNvbG5leHQ6MSxkZWxldGVjb2w6MSxzcGxpdHRvY2VsbHM6MSxzcGxpdHRvcm93czoxLHNwbGl0dG9jb2xzOjEsYWRhcHRieXRleHQ6MSxhZGFwdGJ5d2luZG93OjEsYWRhcHRieWN1c3RvbWVyOjEsaW5zZXJ0cGFyYWdyYXBoOjEsaW5zZXJ0cGFyYWdyYXBoYmVmb3JldGFibGU6MSxhdmVyYWdlZGlzdHJpYnV0ZWNvbDoxLGF2ZXJhZ2VkaXN0cmlidXRlcm93OjF9O21lLnJlYWR5KGZ1bmN0aW9uKCl7dXRpbHMuY3NzUnVsZSgidGFibGUiLCIuc2VsZWN0VGRDbGFzc3tiYWNrZ3JvdW5kLWNvbG9yOiNlZGY1ZmEgIWltcG9ydGFudH10YWJsZS5ub0JvcmRlclRhYmxlIHRkLHRhYmxlLm5vQm9yZGVyVGFibGUgdGgsdGFibGUubm9Cb3JkZXJUYWJsZSBjYXB0aW9ue2JvcmRlcjoxcHggZGFzaGVkICNkZGQgIWltcG9ydGFudH10YWJsZXttYXJnaW4tYm90dG9tOjEwcHg7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2Rpc3BsYXk6dGFibGU7fXRkLHRoe3BhZGRpbmc6IDVweCAxMHB4O2JvcmRlcjogMXB4IHNvbGlkICNEREQ7fWNhcHRpb257Ym9yZGVyOjFweCBkYXNoZWQgI0RERDtib3JkZXItYm90dG9tOjA7cGFkZGluZzozcHg7dGV4dC1hbGlnbjpjZW50ZXI7fXRoe2JvcmRlci10b3A6MXB4IHNvbGlkICNCQkI7YmFja2dyb3VuZC1jb2xvcjojRjdGN0Y3O310YWJsZSB0ci5maXJzdFJvdyB0aHtib3JkZXItdG9wLXdpZHRoOjJweDt9LnVlLXRhYmxlLWludGVybGFjZS1jb2xvci1zaW5nbGV7IGJhY2tncm91bmQtY29sb3I6ICNmY2ZjZmM7IH0gLnVlLXRhYmxlLWludGVybGFjZS1jb2xvci1kb3VibGV7IGJhY2tncm91bmQtY29sb3I6ICNmN2ZhZmY7IH10ZCBwe21hcmdpbjowO3BhZGRpbmc6MDt9IixtZS5kb2N1bWVudCk7dmFyIHRhYmxlQ29weUxpc3QsaXNGdWxsQ29sLGlzRnVsbFJvdzttZS5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24oY21kLGV2dCl7dmFyIG1lPXRoaXM7dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaDtpZihrZXlDb2RlPT04KXt2YXIgdXQ9Z2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpO2lmKHV0JiZ1dC5zZWxlY3RlZFRkcy5sZW5ndGgpe2lmKHV0LmlzRnVsbENvbCgpKXttZS5leGVjQ29tbWFuZCgiZGVsZXRlY29sIil9ZWxzZXtpZih1dC5pc0Z1bGxSb3coKSl7bWUuZXhlY0NvbW1hbmQoImRlbGV0ZXJvdyIpfWVsc2V7bWUuZmlyZUV2ZW50KCJkZWxjZWxscyIpfX1kb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpfXZhciBjYXB0aW9uPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUobWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksImNhcHRpb24iLHRydWUpLHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKHJhbmdlLmNvbGxhcHNlZCYmY2FwdGlvbiYmaXNFbXB0eUJsb2NrKGNhcHRpb24pKXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO3ZhciB0YWJsZT1jYXB0aW9uLnBhcmVudE5vZGU7ZG9tVXRpbHMucmVtb3ZlKGNhcHRpb24pO2lmKHRhYmxlKXtyYW5nZS5zZXRTdGFydCh0YWJsZS5yb3dzWzBdLmNlbGxzWzBdLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX1tZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpfX1pZihrZXlDb2RlPT00Nil7dXQ9Z2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpO2lmKHV0KXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO2Zvcih2YXIgaT0wLGNpO2NpPXV0LnNlbGVjdGVkVGRzW2krK107KXtkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCxjaSl9bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpfX1pZihrZXlDb2RlPT0xMyl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxjYXB0aW9uPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJjYXB0aW9uIix0cnVlKTtpZihjYXB0aW9uKXt2YXIgdGFibGU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjYXB0aW9uLCJ0YWJsZSIpO2lmKCFybmcuY29sbGFwc2VkKXtybmcuZGVsZXRlQ29udGVudHMoKTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpfWVsc2V7aWYoY2FwdGlvbil7cm5nLnNldFN0YXJ0KHRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfX1kb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpO3JldHVybn1pZihybmcuY29sbGFwc2VkKXt2YXIgdGFibGU9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShybmcuc3RhcnRDb250YWluZXIsInRhYmxlIik7aWYodGFibGUpe3ZhciBjZWxsPXRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sc3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxbInRkIiwidGgiXSx0cnVlKSxwcmVOb2RlPXRhYmxlLnByZXZpb3VzU2libGluZztpZihjZWxsPT09c3RhcnQmJighcHJlTm9kZXx8cHJlTm9kZS5ub2RlVHlwZT09MSYmcHJlTm9kZS50YWdOYW1lPT0iVEFCTEUiKSYmZG9tVXRpbHMuaXNTdGFydEluYmxvY2socm5nKSl7dmFyIGZpcnN0PWRvbVV0aWxzLmZpbmRQYXJlbnQobWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksZnVuY3Rpb24obil7cmV0dXJuIGRvbVV0aWxzLmlzQmxvY2tFbG0obil9LHRydWUpO2lmKGZpcnN0JiYoL3QoaHxkKS9pLnRlc3QoZmlyc3QudGFnTmFtZSl8fGZpcnN0PT09c3RhcnQuZmlyc3RDaGlsZCkpe21lLmV4ZWNDb21tYW5kKCJpbnNlcnRwYXJhZ3JhcGhiZWZvcmV0YWJsZSIpO2RvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCl9fX19fWlmKChldnQuY3RybEtleXx8ZXZ0Lm1ldGFLZXkpJiZldnQua2V5Q29kZT09IjY3Iil7dGFibGVDb3B5TGlzdD1udWxsO3ZhciB1dD1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7aWYodXQpe3ZhciB0ZHM9dXQuc2VsZWN0ZWRUZHM7aXNGdWxsQ29sPXV0LmlzRnVsbENvbCgpO2lzRnVsbFJvdz11dC5pc0Z1bGxSb3coKTt0YWJsZUNvcHlMaXN0PVtbdXQuY2xvbmVDZWxsKHRkc1swXSxudWxsLHRydWUpXV07Zm9yKHZhciBpPTEsY2k7Y2k9dGRzW2ldO2krKyl7aWYoY2kucGFyZW50Tm9kZSE9PXRkc1tpLTFdLnBhcmVudE5vZGUpe3RhYmxlQ29weUxpc3QucHVzaChbdXQuY2xvbmVDZWxsKGNpLG51bGwsdHJ1ZSldKX1lbHNle3RhYmxlQ29weUxpc3RbdGFibGVDb3B5TGlzdC5sZW5ndGgtMV0ucHVzaCh1dC5jbG9uZUNlbGwoY2ksbnVsbCx0cnVlKSl9fX19fSk7bWUuYWRkTGlzdGVuZXIoInRhYmxlaGFzZGVsZXRlZCIsZnVuY3Rpb24oKXt0b2dnbGVEcmFnZ2FibGVTdGF0ZSh0aGlzLGZhbHNlLCIiLG51bGwpO2lmKGRyYWdCdXR0b24pe2RvbVV0aWxzLnJlbW92ZShkcmFnQnV0dG9uKX19KTttZS5hZGRMaXN0ZW5lcigiYmVmb3JlcGFzdGUiLGZ1bmN0aW9uKGNtZCxodG1sKXt2YXIgbWU9dGhpczt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocm5nLnN0YXJ0Q29udGFpbmVyLCJjYXB0aW9uIix0cnVlKSl7dmFyIGRpdj1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtkaXYuaW5uZXJIVE1MPWh0bWwuaHRtbDtodG1sLmh0bWw9ZGl2W2Jyb3dzZXIuaWU5YmVsb3c/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il07cmV0dXJufXZhciB0YWJsZT1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7aWYodGFibGVDb3B5TGlzdCl7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3ZhciB0ZD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lcixbInRkIiwidGgiXSx0cnVlKSx0bXBOb2RlLHByZU5vZGU7aWYodGQpe3ZhciB1dD1nZXRVRVRhYmxlKHRkKTtpZihpc0Z1bGxSb3cpe3ZhciByb3dJbmRleD11dC5nZXRDZWxsSW5mbyh0ZCkucm93SW5kZXg7aWYodGQudGFnTmFtZT09IlRIIil7cm93SW5kZXgrK31mb3IodmFyIGk9MCxjaTtjaT10YWJsZUNvcHlMaXN0W2krK107KXt2YXIgdHI9dXQuaW5zZXJ0Um93KHJvd0luZGV4KyssInRkIik7Zm9yKHZhciBqPTAsY2o7Y2o9Y2lbal07aisrKXt2YXIgY2VsbD10ci5jZWxsc1tqXTtpZighY2VsbCl7Y2VsbD10ci5pbnNlcnRDZWxsKGopfWNlbGwuaW5uZXJIVE1MPWNqLmlubmVySFRNTDtjai5nZXRBdHRyaWJ1dGUoIndpZHRoIikmJmNlbGwuc2V0QXR0cmlidXRlKCJ3aWR0aCIsY2ouZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKTtjai5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpJiZjZWxsLnNldEF0dHJpYnV0ZSgidkFsaWduIixjai5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpKTtjai5nZXRBdHRyaWJ1dGUoImFsaWduIikmJmNlbGwuc2V0QXR0cmlidXRlKCJhbGlnbiIsY2ouZ2V0QXR0cmlidXRlKCJhbGlnbiIpKTtjai5zdHlsZS5jc3NUZXh0JiYoY2VsbC5zdHlsZS5jc3NUZXh0PWNqLnN0eWxlLmNzc1RleHQpfWZvcih2YXIgaj0wLGNqO2NqPXRyLmNlbGxzW2pdO2orKyl7aWYoIWNpW2pdKXticmVha31jai5pbm5lckhUTUw9Y2lbal0uaW5uZXJIVE1MO2NpW2pdLmdldEF0dHJpYnV0ZSgid2lkdGgiKSYmY2ouc2V0QXR0cmlidXRlKCJ3aWR0aCIsY2lbal0uZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKTtjaVtqXS5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpJiZjai5zZXRBdHRyaWJ1dGUoInZBbGlnbiIsY2lbal0uZ2V0QXR0cmlidXRlKCJ2QWxpZ24iKSk7Y2lbal0uZ2V0QXR0cmlidXRlKCJhbGlnbiIpJiZjai5zZXRBdHRyaWJ1dGUoImFsaWduIixjaVtqXS5nZXRBdHRyaWJ1dGUoImFsaWduIikpO2NpW2pdLnN0eWxlLmNzc1RleHQmJihjai5zdHlsZS5jc3NUZXh0PWNpW2pdLnN0eWxlLmNzc1RleHQpfX19ZWxzZXtpZihpc0Z1bGxDb2wpe2NlbGxJbmZvPXV0LmdldENlbGxJbmZvKHRkKTt2YXIgbWF4Q29sTnVtPTA7Zm9yKHZhciBqPTAsY2k9dGFibGVDb3B5TGlzdFswXSxjajtjaj1jaVtqKytdOyl7bWF4Q29sTnVtKz1jai5jb2xTcGFufHwxfW1lLl9faGFzRW50ZXJFeGVjQ29tbWFuZD10cnVlO2ZvcihpPTA7aTxtYXhDb2xOdW07aSsrKXttZS5leGVjQ29tbWFuZCgiaW5zZXJ0Y29sIil9bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPWZhbHNlO3RkPXV0LnRhYmxlLnJvd3NbMF0uY2VsbHNbY2VsbEluZm8uY2VsbEluZGV4XTtpZih0ZC50YWdOYW1lPT0iVEgiKXt0ZD11dC50YWJsZS5yb3dzWzFdLmNlbGxzW2NlbGxJbmZvLmNlbGxJbmRleF19fWZvcih2YXIgaT0wLGNpO2NpPXRhYmxlQ29weUxpc3RbaSsrXTspe3RtcE5vZGU9dGQ7Zm9yKHZhciBqPTAsY2o7Y2o9Y2lbaisrXTspe2lmKHRkKXt0ZC5pbm5lckhUTUw9Y2ouaW5uZXJIVE1MO2NqLmdldEF0dHJpYnV0ZSgid2lkdGgiKSYmdGQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsY2ouZ2V0QXR0cmlidXRlKCJ3aWR0aCIpKTtjai5nZXRBdHRyaWJ1dGUoInZBbGlnbiIpJiZ0ZC5zZXRBdHRyaWJ1dGUoInZBbGlnbiIsY2ouZ2V0QXR0cmlidXRlKCJ2QWxpZ24iKSk7Y2ouZ2V0QXR0cmlidXRlKCJhbGlnbiIpJiZ0ZC5zZXRBdHRyaWJ1dGUoImFsaWduIixjai5nZXRBdHRyaWJ1dGUoImFsaWduIikpO2NqLnN0eWxlLmNzc1RleHQmJih0ZC5zdHlsZS5jc3NUZXh0PWNqLnN0eWxlLmNzc1RleHQpO3ByZU5vZGU9dGQ7dGQ9dGQubmV4dFNpYmxpbmd9ZWxzZXt2YXIgY2xvbmVUZD1jai5jbG9uZU5vZGUodHJ1ZSk7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhjbG9uZVRkLFsiY2xhc3MiLCJyb3dTcGFuIiwiY29sU3BhbiJdKTtwcmVOb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoY2xvbmVUZCl9fXRkPXV0LmdldE5leHRDZWxsKHRtcE5vZGUsdHJ1ZSx0cnVlKTtpZighdGFibGVDb3B5TGlzdFtpXSl7YnJlYWt9aWYoIXRkKXt2YXIgY2VsbEluZm89dXQuZ2V0Q2VsbEluZm8odG1wTm9kZSk7dXQudGFibGUuaW5zZXJ0Um93KHV0LnRhYmxlLnJvd3MubGVuZ3RoKTt1dC51cGRhdGUoKTt0ZD11dC5nZXRWU2lkZUNlbGwodG1wTm9kZSx0cnVlKX19fXV0LnVwZGF0ZSgpfWVsc2V7dGFibGU9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGFibGUiKTtmb3IodmFyIGk9MCxjaTtjaT10YWJsZUNvcHlMaXN0W2krK107KXt2YXIgdHI9dGFibGUuaW5zZXJ0Um93KHRhYmxlLnJvd3MubGVuZ3RoKTtmb3IodmFyIGo9MCxjajtjaj1jaVtqKytdOyl7Y2xvbmVUZD1VVC5jbG9uZUNlbGwoY2osbnVsbCx0cnVlKTtkb21VdGlscy5yZW1vdmVBdHRyaWJ1dGVzKGNsb25lVGQsWyJjbGFzcyJdKTt0ci5hcHBlbmRDaGlsZChjbG9uZVRkKX1pZihqPT0yJiZjbG9uZVRkLnJvd1NwYW4+MSl7Y2xvbmVUZC5yb3dTcGFuPTF9fXZhciBkZWZhdWx0VmFsdWU9Z2V0RGVmYXVsdFZhbHVlKG1lKSx3aWR0aD1tZS5ib2R5Lm9mZnNldFdpZHRoLShuZWVkSUVIYWNrP3BhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUobWUuYm9keSwibWFyZ2luLWxlZnQiKSwxMCkqMjowKS1kZWZhdWx0VmFsdWUudGFibGVCb3JkZXIqMi0obWUub3B0aW9ucy5vZmZzZXRXaWR0aHx8MCk7bWUuZXhlY0NvbW1hbmQoImluc2VydEhUTUwiLCI8dGFibGUgICIrKGlzRnVsbENvbCYmaXNGdWxsUm93Pyd3aWR0aD0iJyt3aWR0aCsnIic6IiIpKyI+Iit0YWJsZS5pbm5lckhUTUwucmVwbGFjZSgvPlxzKjwvZywiPjwiKS5yZXBsYWNlKC9cYnRoXGIvZ2ksInRkIikrIjwvdGFibGU+Iil9bWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtodG1sLmh0bWw9IiI7cmV0dXJuIHRydWV9ZWxzZXt2YXIgZGl2PW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHRhYmxlcztkaXYuaW5uZXJIVE1MPWh0bWwuaHRtbDt0YWJsZXM9ZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpO2lmKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUobWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksInRhYmxlIikpe3V0aWxzLmVhY2godGFibGVzLGZ1bmN0aW9uKHQpe2RvbVV0aWxzLnJlbW92ZSh0KX0pO2lmKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUobWUuc2VsZWN0aW9uLmdldFN0YXJ0KCksImNhcHRpb24iLHRydWUpKXtkaXYuaW5uZXJIVE1MPWRpdlticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdfX1lbHNle3V0aWxzLmVhY2godGFibGVzLGZ1bmN0aW9uKHRhYmxlKXtyZW1vdmVTdHlsZVNpemUodGFibGUsdHJ1ZSk7ZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyh0YWJsZSxbInN0eWxlIiwiYm9yZGVyIl0pO3V0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGFibGUsInRkIiksZnVuY3Rpb24odGQpe2lmKGlzRW1wdHlCbG9jayh0ZCkpe2RvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LHRkKX1yZW1vdmVTdHlsZVNpemUodGQsdHJ1ZSl9KX0pfWh0bWwuaHRtbD1kaXYuaW5uZXJIVE1MfX0pO21lLmFkZExpc3RlbmVyKCJhZnRlcnBhc3RlIixmdW5jdGlvbigpe3V0aWxzLmVhY2goZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuYm9keSwidGFibGUiKSxmdW5jdGlvbih0YWJsZSl7aWYodGFibGUub2Zmc2V0V2lkdGg+bWUuYm9keS5vZmZzZXRXaWR0aCl7dmFyIGRlZmF1bHRWYWx1ZT1nZXREZWZhdWx0VmFsdWUobWUsdGFibGUpO3RhYmxlLnN0eWxlLndpZHRoPW1lLmJvZHkub2Zmc2V0V2lkdGgtKG5lZWRJRUhhY2s/cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShtZS5ib2R5LCJtYXJnaW4tbGVmdCIpLDEwKSoyOjApLWRlZmF1bHRWYWx1ZS50YWJsZUJvcmRlcioyLShtZS5vcHRpb25zLm9mZnNldFdpZHRofHwwKSsicHgifX0pfSk7bWUuYWRkTGlzdGVuZXIoImJsdXIiLGZ1bmN0aW9uKCl7dGFibGVDb3B5TGlzdD1udWxsfSk7dmFyIHRpbWVyO21lLmFkZExpc3RlbmVyKCJrZXlkb3duIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lcik7dGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCksY2VsbD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJuZy5zdGFydENvbnRhaW5lcixbInRoIiwidGQiXSx0cnVlKTtpZihjZWxsKXt2YXIgdGFibGU9Y2VsbC5wYXJlbnROb2RlLnBhcmVudE5vZGUucGFyZW50Tm9kZTtpZih0YWJsZS5vZmZzZXRXaWR0aD50YWJsZS5nZXRBdHRyaWJ1dGUoIndpZHRoIikpe2NlbGwuc3R5bGUud29yZEJyZWFrPSJicmVhay1hbGwifX19LDEwMCl9KTttZS5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3RvZ2dsZURyYWdnYWJsZVN0YXRlKG1lLGZhbHNlLCIiLG51bGwpfSk7bWUuYWRkTGlzdGVuZXIoImNvbnRlbnRjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7aGlkZURyYWdMaW5lKG1lKTtpZihnZXRVRVRhYmxlQnlTZWxlY3RlZChtZSkpe3JldHVybn12YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO3ZhciBzdGFydD1ybmcuc3RhcnRDb250YWluZXI7c3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShzdGFydCxbInRkIiwidGgiXSx0cnVlKTt1dGlscy5lYWNoKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmRvY3VtZW50LCJ0YWJsZSIpLGZ1bmN0aW9uKHRhYmxlKXtpZihtZS5maXJlRXZlbnQoImV4Y2x1ZGV0YWJsZSIsdGFibGUpPT09dHJ1ZSl7cmV0dXJufXRhYmxlLnVlVGFibGU9bmV3IFVUKHRhYmxlKTt0YWJsZS5vbm1vdXNlb3Zlcj1mdW5jdGlvbigpe21lLmZpcmVFdmVudCgidGFibGVtb3VzZW92ZXIiLHRhYmxlKX07dGFibGUub25tb3VzZW1vdmU9ZnVuY3Rpb24oKXttZS5maXJlRXZlbnQoInRhYmxlbW91c2Vtb3ZlIix0YWJsZSk7bWUub3B0aW9ucy50YWJsZURyYWdhYmxlJiZ0b2dnbGVEcmFnQnV0dG9uKHRydWUsdGhpcyxtZSk7dXRpbHMuZGVmZXIoZnVuY3Rpb24oKXttZS5maXJlRXZlbnQoImNvbnRlbnRjaGFuZ2UiLDUwKX0sdHJ1ZSl9O3RhYmxlLm9ubW91c2VvdXQ9ZnVuY3Rpb24oKXttZS5maXJlRXZlbnQoInRhYmxlbW91c2VvdXQiLHRhYmxlKTt0b2dnbGVEcmFnZ2FibGVTdGF0ZShtZSxmYWxzZSwiIixudWxsKTtoaWRlRHJhZ0xpbmUobWUpfTt0YWJsZS5vbmNsaWNrPWZ1bmN0aW9uKGV2dCl7ZXZ0PW1lLndpbmRvdy5ldmVudHx8ZXZ0O3ZhciB0YXJnZXQ9Z2V0UGFyZW50VGRPclRoKGV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50KTtpZighdGFyZ2V0KXtyZXR1cm59dmFyIHV0PWdldFVFVGFibGUodGFyZ2V0KSx0YWJsZT11dC50YWJsZSxjZWxsSW5mbz11dC5nZXRDZWxsSW5mbyh0YXJnZXQpLGNlbGxzUmFuZ2Uscm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKGluVGFibGVTaWRlKHRhYmxlLHRhcmdldCxldnQsdHJ1ZSkpe3ZhciBlbmRUZENvbD11dC5nZXRDZWxsKHV0LmluZGV4VGFibGVbdXQucm93c051bS0xXVtjZWxsSW5mby5jb2xJbmRleF0ucm93SW5kZXgsdXQuaW5kZXhUYWJsZVt1dC5yb3dzTnVtLTFdW2NlbGxJbmZvLmNvbEluZGV4XS5jZWxsSW5kZXgpO2lmKGV2dC5zaGlmdEtleSYmdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXtpZih1dC5zZWxlY3RlZFRkc1swXSE9PWVuZFRkQ29sKXtjZWxsc1JhbmdlPXV0LmdldENlbGxzUmFuZ2UodXQuc2VsZWN0ZWRUZHNbMF0sZW5kVGRDb2wpO3V0LnNldFNlbGVjdGVkKGNlbGxzUmFuZ2UpfWVsc2V7cm5nJiZybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKGVuZFRkQ29sKS5zZWxlY3QoKX19ZWxzZXtpZih0YXJnZXQhPT1lbmRUZENvbCl7Y2VsbHNSYW5nZT11dC5nZXRDZWxsc1JhbmdlKHRhcmdldCxlbmRUZENvbCk7dXQuc2V0U2VsZWN0ZWQoY2VsbHNSYW5nZSl9ZWxzZXtybmcmJnJuZy5zZWxlY3ROb2RlQ29udGVudHMoZW5kVGRDb2wpLnNlbGVjdCgpfX1yZXR1cm59aWYoaW5UYWJsZVNpZGUodGFibGUsdGFyZ2V0LGV2dCkpe3ZhciBlbmRUZFJvdz11dC5nZXRDZWxsKHV0LmluZGV4VGFibGVbY2VsbEluZm8ucm93SW5kZXhdW3V0LmNvbHNOdW0tMV0ucm93SW5kZXgsdXQuaW5kZXhUYWJsZVtjZWxsSW5mby5yb3dJbmRleF1bdXQuY29sc051bS0xXS5jZWxsSW5kZXgpO2lmKGV2dC5zaGlmdEtleSYmdXQuc2VsZWN0ZWRUZHMubGVuZ3RoKXtpZih1dC5zZWxlY3RlZFRkc1swXSE9PWVuZFRkUm93KXtjZWxsc1JhbmdlPXV0LmdldENlbGxzUmFuZ2UodXQuc2VsZWN0ZWRUZHNbMF0sZW5kVGRSb3cpO3V0LnNldFNlbGVjdGVkKGNlbGxzUmFuZ2UpfWVsc2V7cm5nJiZybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKGVuZFRkUm93KS5zZWxlY3QoKX19ZWxzZXtpZih0YXJnZXQhPT1lbmRUZFJvdyl7Y2VsbHNSYW5nZT11dC5nZXRDZWxsc1JhbmdlKHRhcmdldCxlbmRUZFJvdyk7dXQuc2V0U2VsZWN0ZWQoY2VsbHNSYW5nZSl9ZWxzZXtybmcmJnJuZy5zZWxlY3ROb2RlQ29udGVudHMoZW5kVGRSb3cpLnNlbGVjdCgpfX19fX0pO3N3aXRjaEJvcmRlckNvbG9yKG1lLHRydWUpfSk7ZG9tVXRpbHMub24obWUuZG9jdW1lbnQsIm1vdXNlbW92ZSIsbW91c2VNb3ZlRXZlbnQpO2RvbVV0aWxzLm9uKG1lLmRvY3VtZW50LCJtb3VzZW91dCIsZnVuY3Rpb24oZXZ0KXt2YXIgdGFyZ2V0PWV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50O2lmKHRhcmdldC50YWdOYW1lPT0iVEFCTEUiKXt0b2dnbGVEcmFnZ2FibGVTdGF0ZShtZSxmYWxzZSwiIixudWxsKX19KTttZS5hZGRMaXN0ZW5lcigiaW50ZXJsYWNldGFibGUiLGZ1bmN0aW9uKHR5cGUsdGFibGUsY2xhc3NMaXN0KXtpZighdGFibGUpe3JldHVybn12YXIgbWU9dGhpcyxyb3dzPXRhYmxlLnJvd3MsbGVuPXJvd3MubGVuZ3RoLGdldENsYXNzPWZ1bmN0aW9uKGxpc3QsaW5kZXgscmVwZWF0KXtyZXR1cm4gbGlzdFtpbmRleF0/bGlzdFtpbmRleF06cmVwZWF0P2xpc3RbaW5kZXglbGlzdC5sZW5ndGhdOiIifTtmb3IodmFyIGk9MDtpPGxlbjtpKyspe3Jvd3NbaV0uY2xhc3NOYW1lPWdldENsYXNzKGNsYXNzTGlzdHx8bWUub3B0aW9ucy5jbGFzc0xpc3QsaSx0cnVlKX19KTttZS5hZGRMaXN0ZW5lcigidW5pbnRlcmxhY2V0YWJsZSIsZnVuY3Rpb24odHlwZSx0YWJsZSl7aWYoIXRhYmxlKXtyZXR1cm59dmFyIG1lPXRoaXMscm93cz10YWJsZS5yb3dzLGNsYXNzTGlzdD1tZS5vcHRpb25zLmNsYXNzTGlzdCxsZW49cm93cy5sZW5ndGg7Zm9yKHZhciBpPTA7aTxsZW47aSsrKXtkb21VdGlscy5yZW1vdmVDbGFzc2VzKHJvd3NbaV0sY2xhc3NMaXN0KX19KTttZS5hZGRMaXN0ZW5lcigibW91c2Vkb3duIixtb3VzZURvd25FdmVudCk7bWUuYWRkTGlzdGVuZXIoIm1vdXNldXAiLG1vdXNlVXBFdmVudCk7ZG9tVXRpbHMub24obWUuYm9keSwiZHJhZ3N0YXJ0IixmdW5jdGlvbihldnQpe21vdXNlVXBFdmVudC5jYWxsKG1lLCJkcmFnc3RhcnQiLGV2dCl9KTt2YXIgY3VycmVudFJvd0luZGV4PTA7bWUuYWRkTGlzdGVuZXIoIm1vdXNlZG93biIsZnVuY3Rpb24oKXtjdXJyZW50Um93SW5kZXg9MH0pO21lLmFkZExpc3RlbmVyKCJ0YWJrZXlkb3duIixmdW5jdGlvbigpe3ZhciByYW5nZT10aGlzLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGNvbW1vbj1yYW5nZS5nZXRDb21tb25BbmNlc3Rvcih0cnVlLHRydWUpLHRhYmxlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoY29tbW9uLCJ0YWJsZSIpO2lmKHRhYmxlKXtpZihkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGNvbW1vbiwiY2FwdGlvbiIsdHJ1ZSkpe3ZhciBjZWxsPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCJ0aCB0ZCIpO2lmKGNlbGwmJmNlbGwubGVuZ3RoKXtyYW5nZS5zZXRTdGFydChjZWxsWzBdLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX19ZWxzZXt2YXIgY2VsbD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGNvbW1vbixbInRkIiwidGgiXSx0cnVlKSx1YT1nZXRVRVRhYmxlKGNlbGwpO2N1cnJlbnRSb3dJbmRleD1jZWxsLnJvd1NwYW4+MT9jdXJyZW50Um93SW5kZXg6dWEuZ2V0Q2VsbEluZm8oY2VsbCkucm93SW5kZXg7dmFyIG5leHRDZWxsPXVhLmdldFRhYk5leHRDZWxsKGNlbGwsY3VycmVudFJvd0luZGV4KTtpZihuZXh0Q2VsbCl7aWYoaXNFbXB0eUJsb2NrKG5leHRDZWxsKSl7cmFuZ2Uuc2V0U3RhcnQobmV4dENlbGwsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfWVsc2V7cmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKG5leHRDZWxsKS5zZWxlY3QoKX19ZWxzZXttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO21lLl9faGFzRW50ZXJFeGVjQ29tbWFuZD10cnVlO3RoaXMuZXhlY0NvbW1hbmQoImluc2VydHJvd25leHQiKTttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9ZmFsc2U7cmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtyYW5nZS5zZXRTdGFydCh0YWJsZS5yb3dzW3RhYmxlLnJvd3MubGVuZ3RoLTFdLmNlbGxzWzBdLDApLnNldEN1cnNvcigpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIil9fXJldHVybiB0cnVlfX0pO2Jyb3dzZXIuaWUmJm1lLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7dG9nZ2xlRHJhZ2dhYmxlU3RhdGUodGhpcyxmYWxzZSwiIixudWxsKX0pO21lLmFkZExpc3RlbmVyKCJrZXlkb3duIixmdW5jdGlvbih0eXBlLGV2dCl7dmFyIG1lPXRoaXM7dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaDtpZihrZXlDb2RlPT04fHxrZXlDb2RlPT00Nil7cmV0dXJufXZhciBub3RDdHJsS2V5PSFldnQuY3RybEtleSYmIWV2dC5tZXRhS2V5JiYhZXZ0LnNoaWZ0S2V5JiYhZXZ0LmFsdEtleTtub3RDdHJsS2V5JiZyZW1vdmVTZWxlY3RlZENsYXNzKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKG1lLmJvZHksInRkIikpO3ZhciB1dD1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSk7aWYoIXV0KXtyZXR1cm59bm90Q3RybEtleSYmdXQuY2xlYXJTZWxlY3RlZCgpfSk7bWUuYWRkTGlzdGVuZXIoImJlZm9yZWdldGNvbnRlbnQiLGZ1bmN0aW9uKCl7c3dpdGNoQm9yZGVyQ29sb3IodGhpcyxmYWxzZSk7YnJvd3Nlci5pZSYmdXRpbHMuZWFjaCh0aGlzLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYXB0aW9uIiksZnVuY3Rpb24oY2kpe2lmKGRvbVV0aWxzLmlzRW1wdHlOb2RlKGNpKSl7Y2kuaW5uZXJIVE1MPSImbmJzcDsifX0pfSk7bWUuYWRkTGlzdGVuZXIoImFmdGVyZ2V0Y29udGVudCIsZnVuY3Rpb24oKXtzd2l0Y2hCb3JkZXJDb2xvcih0aGlzLHRydWUpfSk7bWUuYWRkTGlzdGVuZXIoImdldEFsbEh0bWwiLGZ1bmN0aW9uKCl7cmVtb3ZlU2VsZWN0ZWRDbGFzcyhtZS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGQiKSl9KTttZS5hZGRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZWQiLGZ1bmN0aW9uKHR5cGUsZnVsbHNjcmVlbil7aWYoIWZ1bGxzY3JlZW4pe3ZhciByYXRpbz10aGlzLmJvZHkub2Zmc2V0V2lkdGgvZG9jdW1lbnQuYm9keS5vZmZzZXRXaWR0aCx0YWJsZXM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUodGhpcy5ib2R5LCJ0YWJsZSIpO3V0aWxzLmVhY2godGFibGVzLGZ1bmN0aW9uKHRhYmxlKXtpZih0YWJsZS5vZmZzZXRXaWR0aDxtZS5ib2R5Lm9mZnNldFdpZHRoKXtyZXR1cm4gZmFsc2V9dmFyIHRkcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWJsZSwidGQiKSxiYWNrV2lkdGhzPVtdO3V0aWxzLmVhY2godGRzLGZ1bmN0aW9uKHRkKXtiYWNrV2lkdGhzLnB1c2godGQub2Zmc2V0V2lkdGgpfSk7Zm9yKHZhciBpPTAsdGQ7dGQ9dGRzW2ldO2krKyl7dGQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5mbG9vcihiYWNrV2lkdGhzW2ldKnJhdGlvKSl9dGFibGUuc2V0QXR0cmlidXRlKCJ3aWR0aCIsTWF0aC5mbG9vcihnZXRUYWJsZVdpZHRoKG1lLG5lZWRJRUhhY2ssZ2V0RGVmYXVsdFZhbHVlKG1lKSkpKX0pfX0pO3ZhciBvbGRFeGVjQ29tbWFuZD1tZS5leGVjQ29tbWFuZDttZS5leGVjQ29tbWFuZD1mdW5jdGlvbihjbWQsZGF0YXRhdCl7dmFyIG1lPXRoaXMsYXJncz1hcmd1bWVudHM7Y21kPWNtZC50b0xvd2VyQ2FzZSgpO3ZhciB1dD1nZXRVRVRhYmxlQnlTZWxlY3RlZChtZSksdGRzLHJhbmdlPW5ldyBkb20uUmFuZ2UobWUuZG9jdW1lbnQpLGNtZEZ1bj1tZS5jb21tYW5kc1tjbWRdfHxVRS5jb21tYW5kc1tjbWRdLHJlc3VsdDtpZighY21kRnVuKXtyZXR1cm59aWYodXQmJiFjb21tYW5kc1tjbWRdJiYhY21kRnVuLm5vdE5lZWRVbmRvJiYhbWUuX19oYXNFbnRlckV4ZWNDb21tYW5kKXttZS5fX2hhc0VudGVyRXhlY0NvbW1hbmQ9dHJ1ZTttZS5maXJlRXZlbnQoImJlZm9yZWV4ZWNjb21tYW5kIixjbWQpO3Rkcz11dC5zZWxlY3RlZFRkczt2YXIgbGFzdFN0YXRlPS0yLGxhc3RWYWx1ZT0tMix2YWx1ZSxzdGF0ZTtmb3IodmFyIGk9MCx0ZDt0ZD10ZHNbaV07aSsrKXtpZihpc0VtcHR5QmxvY2sodGQpKXtyYW5nZS5zZXRTdGFydCh0ZCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSl9ZWxzZXtyYW5nZS5zZWxlY3ROb2RlKHRkKS5zZWxlY3QodHJ1ZSl9c3RhdGU9bWUucXVlcnlDb21tYW5kU3RhdGUoY21kKTt2YWx1ZT1tZS5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpO2lmKHN0YXRlIT0tMSl7aWYobGFzdFN0YXRlIT09c3RhdGV8fGxhc3RWYWx1ZSE9PXZhbHVlKXttZS5faWdub3JlQ29udGVudENoYW5nZT10cnVlO3Jlc3VsdD1vbGRFeGVjQ29tbWFuZC5hcHBseShtZSxhcmd1bWVudHMpO21lLl9pZ25vcmVDb250ZW50Q2hhbmdlPWZhbHNlfWxhc3RTdGF0ZT1tZS5xdWVyeUNvbW1hbmRTdGF0ZShjbWQpO2xhc3RWYWx1ZT1tZS5xdWVyeUNvbW1hbmRWYWx1ZShjbWQpO2lmKGRvbVV0aWxzLmlzRW1wdHlCbG9jayh0ZCkpe2RvbVV0aWxzLmZpbGxOb2RlKG1lLmRvY3VtZW50LHRkKX19fXJhbmdlLnNldFN0YXJ0KHRkc1swXSwwKS5zaHJpbmtCb3VuZGFyeSh0cnVlKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7bWUuZmlyZUV2ZW50KCJjb250ZW50Y2hhbmdlIik7bWUuZmlyZUV2ZW50KCJhZnRlcmV4ZWNjb21tYW5kIixjbWQpO21lLl9faGFzRW50ZXJFeGVjQ29tbWFuZD1mYWxzZTttZS5fc2VsZWN0aW9uQ2hhbmdlKCl9ZWxzZXtyZXN1bHQ9b2xkRXhlY0NvbW1hbmQuYXBwbHkobWUsYXJndW1lbnRzKX1yZXR1cm4gcmVzdWx0fX0pO2Z1bmN0aW9uIHJlbW92ZVN0eWxlU2l6ZShvYmoscmVwbGFjZVRvUHJvcGVydHkpe3JlbW92ZVN0eWxlKG9iaiwid2lkdGgiLHRydWUpO3JlbW92ZVN0eWxlKG9iaiwiaGVpZ2h0Iix0cnVlKX1mdW5jdGlvbiByZW1vdmVTdHlsZShvYmosc3R5bGVOYW1lLHJlcGxhY2VUb1Byb3BlcnR5KXtpZihvYmouc3R5bGVbc3R5bGVOYW1lXSl7cmVwbGFjZVRvUHJvcGVydHkmJm9iai5zZXRBdHRyaWJ1dGUoc3R5bGVOYW1lLHBhcnNlSW50KG9iai5zdHlsZVtzdHlsZU5hbWVdLDEwKSk7b2JqLnN0eWxlW3N0eWxlTmFtZV09IiJ9fWZ1bmN0aW9uIGdldFBhcmVudFRkT3JUaChlbGUpe2lmKGVsZS50YWdOYW1lPT0iVEQifHxlbGUudGFnTmFtZT09IlRIIil7cmV0dXJuIGVsZX12YXIgdGQ7aWYodGQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbGUsInRkIix0cnVlKXx8ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShlbGUsInRoIix0cnVlKSl7cmV0dXJuIHRkfXJldHVybiBudWxsfWZ1bmN0aW9uIGlzRW1wdHlCbG9jayhub2RlKXt2YXIgcmVnPW5ldyBSZWdFeHAoZG9tVXRpbHMuZmlsbENoYXIsImciKTtpZihub2RlW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0ucmVwbGFjZSgvXlxzKiQvLCIiKS5yZXBsYWNlKHJlZywiIikubGVuZ3RoPjApe3JldHVybiAwfWZvcih2YXIgbiBpbiBkdGQuJGlzTm90RW1wdHkpe2lmKG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikubGVuZ3RoKXtyZXR1cm4gMH19cmV0dXJuIDF9ZnVuY3Rpb24gbW91c2VDb29yZHMoZXZ0KXtpZihldnQucGFnZVh8fGV2dC5wYWdlWSl7cmV0dXJue3g6ZXZ0LnBhZ2VYLHk6ZXZ0LnBhZ2VZfX1yZXR1cm57eDpldnQuY2xpZW50WCttZS5kb2N1bWVudC5ib2R5LnNjcm9sbExlZnQtbWUuZG9jdW1lbnQuYm9keS5jbGllbnRMZWZ0LHk6ZXZ0LmNsaWVudFkrbWUuZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AtbWUuZG9jdW1lbnQuYm9keS5jbGllbnRUb3B9fWZ1bmN0aW9uIG1vdXNlTW92ZUV2ZW50KGV2dCl7aWYoaXNFZGl0b3JEaXNhYmxlZCgpKXtyZXR1cm59dHJ5e3ZhciB0YXJnZXQ9Z2V0UGFyZW50VGRPclRoKGV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50KSxwb3M7aWYoaXNJblJlc2l6ZUJ1ZmZlcil7bWUuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0PSJub25lIjtpZihNYXRoLmFicyh1c2VyQWN0aW9uU3RhdHVzLngtZXZ0LmNsaWVudFgpPm9mZnNldE9mVGFibGVDZWxsfHxNYXRoLmFicyh1c2VyQWN0aW9uU3RhdHVzLnktZXZ0LmNsaWVudFkpPm9mZnNldE9mVGFibGVDZWxsKXtjbGVhclRhYmxlRHJhZ1RpbWVyKCk7aXNJblJlc2l6ZUJ1ZmZlcj1mYWxzZTtzaW5nbGVDbGlja1N0YXRlPTA7dGFibGVCb3JkZXJEcmFnKGV2dCl9fWlmKG9uRHJhZyYmZHJhZ1RkKXtzaW5nbGVDbGlja1N0YXRlPTA7bWUuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0PSJub25lIjttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKClbYnJvd3Nlci5pZTliZWxvdz8iZW1wdHkiOiJyZW1vdmVBbGxSYW5nZXMiXSgpO3Bvcz1tb3VzZUNvb3JkcyhldnQpO3RvZ2dsZURyYWdnYWJsZVN0YXRlKG1lLHRydWUsb25EcmFnLHBvcyx0YXJnZXQpO2lmKG9uRHJhZz09ImgiKXtkcmFnTGluZS5zdHlsZS5sZWZ0PWdldFBlcm1pc3Npb25YKGRyYWdUZCxldnQpKyJweCJ9ZWxzZXtpZihvbkRyYWc9PSJ2Iil7ZHJhZ0xpbmUuc3R5bGUudG9wPWdldFBlcm1pc3Npb25ZKGRyYWdUZCxldnQpKyJweCJ9fXJldHVybn1pZih0YXJnZXQpe2lmKG1lLmZpcmVFdmVudCgiZXhjbHVkZXRhYmxlIix0YXJnZXQpPT09dHJ1ZSl7cmV0dXJufXBvcz1tb3VzZUNvb3JkcyhldnQpO3ZhciBzdGF0ZT1nZXRSZWxhdGlvbih0YXJnZXQscG9zKSx0YWJsZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHRhcmdldCwidGFibGUiLHRydWUpO2lmKGluVGFibGVTaWRlKHRhYmxlLHRhcmdldCxldnQsdHJ1ZSkpe2lmKG1lLmZpcmVFdmVudCgiZXhjbHVkZXRhYmxlIix0YWJsZSk9PT10cnVlKXtyZXR1cm59bWUuYm9keS5zdHlsZS5jdXJzb3I9InVybCgiK21lLm9wdGlvbnMuY3Vyc29ycGF0aCsiaC5wbmcpLHBvaW50ZXIifWVsc2V7aWYoaW5UYWJsZVNpZGUodGFibGUsdGFyZ2V0LGV2dCkpe2lmKG1lLmZpcmVFdmVudCgiZXhjbHVkZXRhYmxlIix0YWJsZSk9PT10cnVlKXtyZXR1cm59bWUuYm9keS5zdHlsZS5jdXJzb3I9InVybCgiK21lLm9wdGlvbnMuY3Vyc29ycGF0aCsidi5wbmcpLHBvaW50ZXIifWVsc2V7bWUuYm9keS5zdHlsZS5jdXJzb3I9InRleHQiO3ZhciBjdXJDZWxsPXRhcmdldDtpZigvXGQvLnRlc3Qoc3RhdGUpKXtzdGF0ZT1zdGF0ZS5yZXBsYWNlKC9cZC8sIiIpO3RhcmdldD1nZXRVRVRhYmxlKHRhcmdldCkuZ2V0UHJldmlld0NlbGwodGFyZ2V0LHN0YXRlPT0idiIpfXRvZ2dsZURyYWdnYWJsZVN0YXRlKG1lLHRhcmdldD8hIXN0YXRlOmZhbHNlLHRhcmdldD9zdGF0ZToiIixwb3MsdGFyZ2V0KX19fWVsc2V7dG9nZ2xlRHJhZ0J1dHRvbihmYWxzZSx0YWJsZSxtZSl9fWNhdGNoKGUpe3Nob3dFcnJvcihlKX19dmFyIGRyYWdCdXR0b25UaW1lcjtmdW5jdGlvbiB0b2dnbGVEcmFnQnV0dG9uKHNob3csdGFibGUsZWRpdG9yKXtpZighc2hvdyl7aWYoZHJhZ092ZXIpe3JldHVybn1kcmFnQnV0dG9uVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpeyFkcmFnT3ZlciYmZHJhZ0J1dHRvbiYmZHJhZ0J1dHRvbi5wYXJlbnROb2RlJiZkcmFnQnV0dG9uLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZHJhZ0J1dHRvbil9LDIwMDApfWVsc2V7Y3JlYXRlRHJhZ0J1dHRvbih0YWJsZSxlZGl0b3IpfX1mdW5jdGlvbiBjcmVhdGVEcmFnQnV0dG9uKHRhYmxlLGVkaXRvcil7dmFyIHBvcz1kb21VdGlscy5nZXRYWSh0YWJsZSksZG9jPXRhYmxlLm93bmVyRG9jdW1lbnQ7aWYoZHJhZ0J1dHRvbiYmZHJhZ0J1dHRvbi5wYXJlbnROb2RlKXtyZXR1cm4gZHJhZ0J1dHRvbn1kcmFnQnV0dG9uPWRvYy5jcmVhdGVFbGVtZW50KCJkaXYiKTtkcmFnQnV0dG9uLmNvbnRlbnRFZGl0YWJsZT1mYWxzZTtkcmFnQnV0dG9uLmlubmVySFRNTD0iIjtkcmFnQnV0dG9uLnN0eWxlLmNzc1RleHQ9IndpZHRoOjE1cHg7aGVpZ2h0OjE1cHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoIitlZGl0b3Iub3B0aW9ucy5VRURJVE9SX0hPTUVfVVJMKyJkaWFsb2dzL3RhYmxlL2RyYWdpY29uLnBuZyk7cG9zaXRpb246IGFic29sdXRlO2N1cnNvcjptb3ZlO3RvcDoiKyhwb3MueS0xNSkrInB4O2xlZnQ6IisocG9zLngpKyJweDsiO2RvbVV0aWxzLnVuU2VsZWN0YWJsZShkcmFnQnV0dG9uKTtkcmFnQnV0dG9uLm9ubW91c2VvdmVyPWZ1bmN0aW9uKGV2dCl7ZHJhZ092ZXI9dHJ1ZX07ZHJhZ0J1dHRvbi5vbm1vdXNlb3V0PWZ1bmN0aW9uKGV2dCl7ZHJhZ092ZXI9ZmFsc2V9O2RvbVV0aWxzLm9uKGRyYWdCdXR0b24sImNsaWNrIixmdW5jdGlvbih0eXBlLGV2dCl7ZG9DbGljayhldnQsdGhpcyl9KTtkb21VdGlscy5vbihkcmFnQnV0dG9uLCJkYmxjbGljayIsZnVuY3Rpb24odHlwZSxldnQpe2RvRGJsQ2xpY2soZXZ0KX0pO2RvbVV0aWxzLm9uKGRyYWdCdXR0b24sImRyYWdzdGFydCIsZnVuY3Rpb24odHlwZSxldnQpe2RvbVV0aWxzLnByZXZlbnREZWZhdWx0KGV2dCl9KTt2YXIgdGltZXI7ZnVuY3Rpb24gZG9DbGljayhldnQsYnV0dG9uKXtjbGVhclRpbWVvdXQodGltZXIpO3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlZGl0b3IuZmlyZUV2ZW50KCJ0YWJsZUNsaWNrZWQiLHRhYmxlLGJ1dHRvbil9LDMwMCl9ZnVuY3Rpb24gZG9EYmxDbGljayhldnQpe2NsZWFyVGltZW91dCh0aW1lcik7dmFyIHV0PWdldFVFVGFibGUodGFibGUpLHN0YXJ0PXRhYmxlLnJvd3NbMF0uY2VsbHNbMF0sZW5kPXV0LmdldExhc3RDZWxsKCkscmFuZ2U9dXQuZ2V0Q2VsbHNSYW5nZShzdGFydCxlbmQpO2VkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zZXRTdGFydChzdGFydCwwKS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSk7dXQuc2V0U2VsZWN0ZWQocmFuZ2UpfWRvYy5ib2R5LmFwcGVuZENoaWxkKGRyYWdCdXR0b24pfWZ1bmN0aW9uIGluVGFibGVTaWRlKHRhYmxlLGNlbGwsZXZ0LHRvcCl7dmFyIHBvcz1tb3VzZUNvb3JkcyhldnQpLHN0YXRlPWdldFJlbGF0aW9uKGNlbGwscG9zKTtpZih0b3Ape3ZhciBjYXB0aW9uPXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYXB0aW9uIilbMF0sY2FwSGVpZ2h0PWNhcHRpb24/Y2FwdGlvbi5vZmZzZXRIZWlnaHQ6MDtyZXR1cm4oc3RhdGU9PSJ2MSIpJiYoKHBvcy55LWRvbVV0aWxzLmdldFhZKHRhYmxlKS55LWNhcEhlaWdodCk8OCl9ZWxzZXtyZXR1cm4oc3RhdGU9PSJoMSIpJiYoKHBvcy54LWRvbVV0aWxzLmdldFhZKHRhYmxlKS54KTw4KX19ZnVuY3Rpb24gZ2V0UGVybWlzc2lvblgoZHJhZ1RkLGV2dCl7dmFyIHV0PWdldFVFVGFibGUoZHJhZ1RkKTtpZih1dCl7dmFyIHByZVRkPXV0LmdldFNhbWVFbmRQb3NDZWxscyhkcmFnVGQsIngiKVswXSxuZXh0VGQ9dXQuZ2V0U2FtZVN0YXJ0UG9zWENlbGxzKGRyYWdUZClbMF0sbW91c2VYPW1vdXNlQ29vcmRzKGV2dCkueCxsZWZ0PShwcmVUZD9kb21VdGlscy5nZXRYWShwcmVUZCkueDpkb21VdGlscy5nZXRYWSh1dC50YWJsZSkueCkrMjAscmlnaHQ9bmV4dFRkP2RvbVV0aWxzLmdldFhZKG5leHRUZCkueCtuZXh0VGQub2Zmc2V0V2lkdGgtMjA6KG1lLmJvZHkub2Zmc2V0V2lkdGgrNXx8cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShtZS5ib2R5LCJ3aWR0aCIpLDEwKSk7bGVmdCs9Y2VsbE1pbldpZHRoO3JpZ2h0LT1jZWxsTWluV2lkdGg7cmV0dXJuIG1vdXNlWDxsZWZ0P2xlZnQ6bW91c2VYPnJpZ2h0P3JpZ2h0Om1vdXNlWH19ZnVuY3Rpb24gZ2V0UGVybWlzc2lvblkoZHJhZ1RkLGV2dCl7dHJ5e3ZhciB0b3A9ZG9tVXRpbHMuZ2V0WFkoZHJhZ1RkKS55LG1vdXNlUG9zWT1tb3VzZUNvb3JkcyhldnQpLnk7cmV0dXJuIG1vdXNlUG9zWTx0b3A/dG9wOm1vdXNlUG9zWX1jYXRjaChlKXtzaG93RXJyb3IoZSl9fWZ1bmN0aW9uIHRvZ2dsZURyYWdnYWJsZVN0YXRlKGVkaXRvcixkcmFnZ2FibGUsZGlyLG1vdXNlUG9zLGNlbGwpe3RyeXtlZGl0b3IuYm9keS5zdHlsZS5jdXJzb3I9ZGlyPT0iaCI/ImNvbC1yZXNpemUiOmRpcj09InYiPyJyb3ctcmVzaXplIjoidGV4dCI7aWYoYnJvd3Nlci5pZSl7aWYoZGlyJiYhbW91c2Vkb3duJiYhZ2V0VUVUYWJsZUJ5U2VsZWN0ZWQoZWRpdG9yKSl7Z2V0RHJhZ0xpbmUoZWRpdG9yLGVkaXRvci5kb2N1bWVudCk7c2hvd0RyYWdMaW5lQXQoZGlyLGNlbGwpfWVsc2V7aGlkZURyYWdMaW5lKGVkaXRvcil9fW9uQm9yZGVyPWRyYWdnYWJsZX1jYXRjaChlKXtzaG93RXJyb3IoZSl9fWZ1bmN0aW9uIGdldFJlc2l6ZUxpbmVCeVVFVGFibGUoKXt2YXIgbGluZUlkPSJfVUVUYWJsZVJlc2l6ZUxpbmUiLGxpbmU9dGhpcy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChsaW5lSWQpO2lmKCFsaW5lKXtsaW5lPXRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7bGluZS5pZD1saW5lSWQ7bGluZS5jb250bmV0RWRpdGFibGU9ZmFsc2U7bGluZS5zZXRBdHRyaWJ1dGUoInVuc2VsZWN0YWJsZSIsIm9uIik7dmFyIHN0eWxlcz17d2lkdGg6MipjZWxsQm9yZGVyV2lkdGgrMSsicHgiLHBvc2l0aW9uOiJhYnNvbHV0ZSIsInotaW5kZXgiOjEwMDAwMCxjdXJzb3I6ImNvbC1yZXNpemUiLGJhY2tncm91bmQ6InJlZCIsZGlzcGxheToibm9uZSJ9O2xpbmUub25tb3VzZW91dD1mdW5jdGlvbigpe3RoaXMuc3R5bGUuZGlzcGxheT0ibm9uZSJ9O3V0aWxzLmV4dGVuZChsaW5lLnN0eWxlLHN0eWxlcyk7dGhpcy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmUpfXJldHVybiBsaW5lfWZ1bmN0aW9uIHVwZGF0ZVJlc2l6ZUxpbmUoY2VsbCx1ZXRhYmxlKXt2YXIgbGluZT1nZXRSZXNpemVMaW5lQnlVRVRhYmxlLmNhbGwodGhpcyksdGFibGU9dWV0YWJsZS50YWJsZSxzdHlsZXM9e3RvcDpkb21VdGlscy5nZXRYWSh0YWJsZSkueSsicHgiLGxlZnQ6ZG9tVXRpbHMuZ2V0WFkoY2VsbCkueCtjZWxsLm9mZnNldFdpZHRoLWNlbGxCb3JkZXJXaWR0aCsicHgiLGRpc3BsYXk6ImJsb2NrIixoZWlnaHQ6dGFibGUub2Zmc2V0SGVpZ2h0KyJweCJ9O3V0aWxzLmV4dGVuZChsaW5lLnN0eWxlLHN0eWxlcyl9ZnVuY3Rpb24gc2hvd1Jlc2l6ZUxpbmUoY2VsbCl7dmFyIHVldGFibGU9Z2V0VUVUYWJsZShjZWxsKTt1cGRhdGVSZXNpemVMaW5lLmNhbGwodGhpcyxjZWxsLHVldGFibGUpfWZ1bmN0aW9uIGdldFJlbGF0aW9uKGVsZSxtb3VzZVBvcyl7dmFyIGVsZVBvcz1kb21VdGlscy5nZXRYWShlbGUpO2lmKCFlbGVQb3Mpe3JldHVybiIifWlmKGVsZVBvcy54K2VsZS5vZmZzZXRXaWR0aC1tb3VzZVBvcy54PGNlbGxCb3JkZXJXaWR0aCl7cmV0dXJuImgifWlmKG1vdXNlUG9zLngtZWxlUG9zLng8Y2VsbEJvcmRlcldpZHRoKXtyZXR1cm4iaDEifWlmKGVsZVBvcy55K2VsZS5vZmZzZXRIZWlnaHQtbW91c2VQb3MueTxjZWxsQm9yZGVyV2lkdGgpe3JldHVybiJ2In1pZihtb3VzZVBvcy55LWVsZVBvcy55PGNlbGxCb3JkZXJXaWR0aCl7cmV0dXJuInYxIn1yZXR1cm4iIn1mdW5jdGlvbiBtb3VzZURvd25FdmVudCh0eXBlLGV2dCl7aWYoaXNFZGl0b3JEaXNhYmxlZCgpKXtyZXR1cm59dXNlckFjdGlvblN0YXR1cz17eDpldnQuY2xpZW50WCx5OmV2dC5jbGllbnRZfTtpZihldnQuYnV0dG9uPT0yKXt2YXIgdXQ9Z2V0VUVUYWJsZUJ5U2VsZWN0ZWQobWUpLGZsYWc9ZmFsc2U7aWYodXQpe3ZhciB0ZD1nZXRUYXJnZXRUZChtZSxldnQpO3V0aWxzLmVhY2godXQuc2VsZWN0ZWRUZHMsZnVuY3Rpb24odGkpe2lmKHRpPT09dGQpe2ZsYWc9dHJ1ZX19KTtpZighZmxhZyl7cmVtb3ZlU2VsZWN0ZWRDbGFzcyhkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5ib2R5LCJ0aCB0ZCIpKTt1dC5jbGVhclNlbGVjdGVkKCl9ZWxzZXt0ZD11dC5zZWxlY3RlZFRkc1swXTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuc2VsZWN0aW9uLmdldFJhbmdlKCkuc2V0U3RhcnQodGQsMCkuc2V0Q3Vyc29yKGZhbHNlLHRydWUpfSwwKX19fWVsc2V7dGFibGVDbGlja0hhbmRlcihldnQpfX1mdW5jdGlvbiBjbGVhclRhYmxlVGltZXIoKXt0YWJUaW1lciYmY2xlYXJUaW1lb3V0KHRhYlRpbWVyKTt0YWJUaW1lcj1udWxsfWZ1bmN0aW9uIHRhYmxlRGJjbGlja0hhbmRsZXIoZXZ0KXtzaW5nbGVDbGlja1N0YXRlPTA7ZXZ0PWV2dHx8bWUud2luZG93LmV2ZW50O3ZhciB0YXJnZXQ9Z2V0UGFyZW50VGRPclRoKGV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50KTtpZih0YXJnZXQpe3ZhciBoO2lmKGg9Z2V0UmVsYXRpb24odGFyZ2V0LG1vdXNlQ29vcmRzKGV2dCkpKXtoaWRlRHJhZ0xpbmUobWUpO2lmKGg9PSJoMSIpe2g9ImgiO2lmKGluVGFibGVTaWRlKGRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUodGFyZ2V0LCJ0YWJsZSIpLHRhcmdldCxldnQpKXttZS5leGVjQ29tbWFuZCgiYWRhcHRieXdpbmRvdyIpfWVsc2V7dGFyZ2V0PWdldFVFVGFibGUodGFyZ2V0KS5nZXRQcmV2aWV3Q2VsbCh0YXJnZXQpO2lmKHRhcmdldCl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtybmcuc2VsZWN0Tm9kZUNvbnRlbnRzKHRhcmdldCkuc2V0Q3Vyc29yKHRydWUsdHJ1ZSl9fX1pZihoPT0iaCIpe3ZhciB1dD1nZXRVRVRhYmxlKHRhcmdldCksdGFibGU9dXQudGFibGUsY2VsbHM9Z2V0Q2VsbHNCeU1vdmVCb3JkZXIodGFyZ2V0LHRhYmxlLHRydWUpO2NlbGxzPWV4dHJhY3RBcnJheShjZWxscywibGVmdCIpO3V0LndpZHRoPXV0Lm9mZnNldFdpZHRoO3ZhciBvbGRXaWR0aD1bXSxuZXdXaWR0aD1bXTt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwpe29sZFdpZHRoLnB1c2goY2VsbC5vZmZzZXRXaWR0aCl9KTt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwpe2NlbGwucmVtb3ZlQXR0cmlidXRlKCJ3aWR0aCIpfSk7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgY2hhbmdlYWJsZT10cnVlO3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24oY2VsbCxpbmRleCl7dmFyIHdpZHRoPWNlbGwub2Zmc2V0V2lkdGg7aWYod2lkdGg+b2xkV2lkdGhbaW5kZXhdKXtjaGFuZ2VhYmxlPWZhbHNlO3JldHVybiBmYWxzZX1uZXdXaWR0aC5wdXNoKHdpZHRoKX0pO3ZhciBjaGFuZ2U9Y2hhbmdlYWJsZT9uZXdXaWR0aDpvbGRXaWR0aDt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGwsaW5kZXgpe2NlbGwud2lkdGg9Y2hhbmdlW2luZGV4XS1nZXRUYWJjZWxsU3BhY2UoKX0pfSwwKX19fX1mdW5jdGlvbiB0YWJsZUNsaWNrSGFuZGVyKGV2dCl7cmVtb3ZlU2VsZWN0ZWRDbGFzcyhkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShtZS5ib2R5LCJ0ZCB0aCIpKTt1dGlscy5lYWNoKG1lLmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0YWJsZSIpLGZ1bmN0aW9uKHQpe3QudWVUYWJsZT1udWxsfSk7c3RhcnRUZD1nZXRUYXJnZXRUZChtZSxldnQpO2lmKCFzdGFydFRkKXtyZXR1cm59dmFyIHRhYmxlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnRUZCwidGFibGUiLHRydWUpO3V0PWdldFVFVGFibGUodGFibGUpO3V0JiZ1dC5jbGVhclNlbGVjdGVkKCk7aWYoIW9uQm9yZGVyKXttZS5kb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9IiI7bW91c2Vkb3duPXRydWU7bWUuYWRkTGlzdGVuZXIoIm1vdXNlb3ZlciIsbW91c2VPdmVyRXZlbnQpfWVsc2V7Ym9yZGVyQWN0aW9uSGFuZGxlcihldnQpfX1mdW5jdGlvbiBib3JkZXJBY3Rpb25IYW5kbGVyKGV2dCl7aWYoYnJvd3Nlci5pZSl7ZXZ0PXJlY29uc3RydWN0KGV2dCl9Y2xlYXJUYWJsZURyYWdUaW1lcigpO2lzSW5SZXNpemVCdWZmZXI9dHJ1ZTt0YWJsZURyYWdUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGFibGVCb3JkZXJEcmFnKGV2dCl9LGRibGNsaWNrVGltZSl9ZnVuY3Rpb24gZXh0cmFjdEFycmF5KG9yaWdpbkFycixrZXkpe3ZhciByZXN1bHQ9W10sdG1wPW51bGw7Zm9yKHZhciBpPTAsbGVuPW9yaWdpbkFyci5sZW5ndGg7aTxsZW47aSsrKXt0bXA9b3JpZ2luQXJyW2ldW2tleV07aWYodG1wKXtyZXN1bHQucHVzaCh0bXApfX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGNsZWFyVGFibGVEcmFnVGltZXIoKXt0YWJsZURyYWdUaW1lciYmY2xlYXJUaW1lb3V0KHRhYmxlRHJhZ1RpbWVyKTt0YWJsZURyYWdUaW1lcj1udWxsfWZ1bmN0aW9uIHJlY29uc3RydWN0KG9iail7dmFyIGF0dHJzPVsicGFnZVgiLCJwYWdlWSIsImNsaWVudFgiLCJjbGllbnRZIiwic3JjRWxlbWVudCIsInRhcmdldCJdLG5ld09iaj17fTtpZihvYmope2Zvcih2YXIgaT0wLGtleSx2YWw7a2V5PWF0dHJzW2ldO2krKyl7dmFsPW9ialtrZXldO3ZhbCYmKG5ld09ialtrZXldPXZhbCl9fXJldHVybiBuZXdPYmp9ZnVuY3Rpb24gdGFibGVCb3JkZXJEcmFnKGV2dCl7aXNJblJlc2l6ZUJ1ZmZlcj1mYWxzZTtpZighc3RhcnRUZCl7cmV0dXJufXZhciBzdGF0ZT1NYXRoLmFicyh1c2VyQWN0aW9uU3RhdHVzLngtZXZ0LmNsaWVudFgpPj1NYXRoLmFicyh1c2VyQWN0aW9uU3RhdHVzLnktZXZ0LmNsaWVudFkpPyJoIjoidiI7aWYoL1xkLy50ZXN0KHN0YXRlKSl7c3RhdGU9c3RhdGUucmVwbGFjZSgvXGQvLCIiKTtzdGFydFRkPWdldFVFVGFibGUoc3RhcnRUZCkuZ2V0UHJldmlld0NlbGwoc3RhcnRUZCxzdGF0ZT09InYiKX1oaWRlRHJhZ0xpbmUobWUpO2dldERyYWdMaW5lKG1lLG1lLmRvY3VtZW50KTttZS5maXJlRXZlbnQoInNhdmVTY2VuZSIpO3Nob3dEcmFnTGluZUF0KHN0YXRlLHN0YXJ0VGQpO21vdXNlZG93bj10cnVlO29uRHJhZz1zdGF0ZTtkcmFnVGQ9c3RhcnRUZH1mdW5jdGlvbiBtb3VzZVVwRXZlbnQodHlwZSxldnQpe2lmKGlzRWRpdG9yRGlzYWJsZWQoKSl7cmV0dXJufWNsZWFyVGFibGVEcmFnVGltZXIoKTtpc0luUmVzaXplQnVmZmVyPWZhbHNlO2lmKG9uQm9yZGVyKXtzaW5nbGVDbGlja1N0YXRlPSsrc2luZ2xlQ2xpY2tTdGF0ZSUzO3VzZXJBY3Rpb25TdGF0dXM9e3g6ZXZ0LmNsaWVudFgseTpldnQuY2xpZW50WX07dGFibGVSZXNpemVUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c2luZ2xlQ2xpY2tTdGF0ZT4wJiZzaW5nbGVDbGlja1N0YXRlLS19LGRibGNsaWNrVGltZSk7aWYoc2luZ2xlQ2xpY2tTdGF0ZT09PTIpe3NpbmdsZUNsaWNrU3RhdGU9MDt0YWJsZURiY2xpY2tIYW5kbGVyKGV2dCk7cmV0dXJufX1pZihldnQuYnV0dG9uPT0yKXtyZXR1cm59dmFyIG1lPXRoaXM7dmFyIHJhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLHN0YXJ0PWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2Uuc3RhcnRDb250YWluZXIsInRhYmxlIix0cnVlKSxlbmQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5lbmRDb250YWluZXIsInRhYmxlIix0cnVlKTtpZihzdGFydHx8ZW5kKXtpZihzdGFydD09PWVuZCl7c3RhcnQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShyYW5nZS5zdGFydENvbnRhaW5lcixbInRkIiwidGgiLCJjYXB0aW9uIl0sdHJ1ZSk7ZW5kPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUocmFuZ2UuZW5kQ29udGFpbmVyLFsidGQiLCJ0aCIsImNhcHRpb24iXSx0cnVlKTtpZihzdGFydCE9PWVuZCl7bWUuc2VsZWN0aW9uLmNsZWFyUmFuZ2UoKX19ZWxzZXttZS5zZWxlY3Rpb24uY2xlYXJSYW5nZSgpfX1tb3VzZWRvd249ZmFsc2U7bWUuZG9jdW1lbnQuYm9keS5zdHlsZS53ZWJraXRVc2VyU2VsZWN0PSIiO2lmKG9uRHJhZyYmZHJhZ1RkKXttZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKClbYnJvd3Nlci5pZTliZWxvdz8iZW1wdHkiOiJyZW1vdmVBbGxSYW5nZXMiXSgpO3NpbmdsZUNsaWNrU3RhdGU9MDtkcmFnTGluZT1tZS5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidWVfdGFibGVEcmFnTGluZSIpO3ZhciBkcmFnVGRQb3M9ZG9tVXRpbHMuZ2V0WFkoZHJhZ1RkKSxkcmFnTGluZVBvcz1kb21VdGlscy5nZXRYWShkcmFnTGluZSk7c3dpdGNoKG9uRHJhZyl7Y2FzZSJoIjpjaGFuZ2VDb2xXaWR0aChkcmFnVGQsZHJhZ0xpbmVQb3MueC1kcmFnVGRQb3MueCk7YnJlYWs7Y2FzZSJ2IjpjaGFuZ2VSb3dIZWlnaHQoZHJhZ1RkLGRyYWdMaW5lUG9zLnktZHJhZ1RkUG9zLnktZHJhZ1RkLm9mZnNldEhlaWdodCk7YnJlYWs7ZGVmYXVsdDp9b25EcmFnPSIiO2RyYWdUZD1udWxsO2hpZGVEcmFnTGluZShtZSk7bWUuZmlyZUV2ZW50KCJzYXZlU2NlbmUiKTtyZXR1cm59aWYoIXN0YXJ0VGQpe3ZhciB0YXJnZXQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudCwidGQiLHRydWUpO2lmKCF0YXJnZXQpe3RhcmdldD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50LCJ0aCIsdHJ1ZSl9aWYodGFyZ2V0JiYodGFyZ2V0LnRhZ05hbWU9PSJURCJ8fHRhcmdldC50YWdOYW1lPT0iVEgiKSl7aWYobWUuZmlyZUV2ZW50KCJleGNsdWRldGFibGUiLHRhcmdldCk9PT10cnVlKXtyZXR1cm59cmFuZ2U9bmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCk7cmFuZ2Uuc2V0U3RhcnQodGFyZ2V0LDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX19ZWxzZXt2YXIgdXQ9Z2V0VUVUYWJsZShzdGFydFRkKSxjZWxsPXV0P3V0LnNlbGVjdGVkVGRzWzBdOm51bGw7aWYoY2VsbCl7cmFuZ2U9bmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCk7aWYoZG9tVXRpbHMuaXNFbXB0eUJsb2NrKGNlbGwpKXtyYW5nZS5zZXRTdGFydChjZWxsLDApLnNldEN1cnNvcihmYWxzZSx0cnVlKX1lbHNle3JhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhjZWxsKS5zaHJpbmtCb3VuZGFyeSgpLnNldEN1cnNvcihmYWxzZSx0cnVlKX19ZWxzZXtyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5zaHJpbmtCb3VuZGFyeSgpO2lmKCFyYW5nZS5jb2xsYXBzZWQpe3ZhciBzdGFydD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLnN0YXJ0Q29udGFpbmVyLFsidGQiLCJ0aCJdLHRydWUpLGVuZD1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLmVuZENvbnRhaW5lcixbInRkIiwidGgiXSx0cnVlKTtpZihzdGFydCYmIWVuZHx8IXN0YXJ0JiZlbmR8fHN0YXJ0JiZlbmQmJnN0YXJ0IT09ZW5kKXtyYW5nZS5zZXRDdXJzb3IoZmFsc2UsdHJ1ZSl9fX1zdGFydFRkPW51bGw7bWUucmVtb3ZlTGlzdGVuZXIoIm1vdXNlb3ZlciIsbW91c2VPdmVyRXZlbnQpfW1lLl9zZWxlY3Rpb25DaGFuZ2UoMjUwLGV2dCl9ZnVuY3Rpb24gbW91c2VPdmVyRXZlbnQodHlwZSxldnQpe2lmKGlzRWRpdG9yRGlzYWJsZWQoKSl7cmV0dXJufXZhciBtZT10aGlzLHRhcj1ldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudDtjdXJyZW50VGQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0YXIsInRkIix0cnVlKXx8ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZSh0YXIsInRoIix0cnVlKTtpZihzdGFydFRkJiZjdXJyZW50VGQmJigoc3RhcnRUZC50YWdOYW1lPT0iVEQiJiZjdXJyZW50VGQudGFnTmFtZT09IlREIil8fChzdGFydFRkLnRhZ05hbWU9PSJUSCImJmN1cnJlbnRUZC50YWdOYW1lPT0iVEgiKSkmJmRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoc3RhcnRUZCwidGFibGUiKT09ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShjdXJyZW50VGQsInRhYmxlIikpe3ZhciB1dD1nZXRVRVRhYmxlKGN1cnJlbnRUZCk7aWYoc3RhcnRUZCE9Y3VycmVudFRkKXttZS5kb2N1bWVudC5ib2R5LnN0eWxlLndlYmtpdFVzZXJTZWxlY3Q9Im5vbmUiO21lLnNlbGVjdGlvbi5nZXROYXRpdmUoKVticm93c2VyLmllOWJlbG93PyJlbXB0eSI6InJlbW92ZUFsbFJhbmdlcyJdKCk7dmFyIHJhbmdlPXV0LmdldENlbGxzUmFuZ2Uoc3RhcnRUZCxjdXJyZW50VGQpO3V0LnNldFNlbGVjdGVkKHJhbmdlKX1lbHNle21lLmRvY3VtZW50LmJvZHkuc3R5bGUud2Via2l0VXNlclNlbGVjdD0iIjt1dC5jbGVhclNlbGVjdGVkKCl9fWV2dC5wcmV2ZW50RGVmYXVsdD9ldnQucHJldmVudERlZmF1bHQoKTooZXZ0LnJldHVyblZhbHVlPWZhbHNlKX1mdW5jdGlvbiBzZXRDZWxsSGVpZ2h0KGNlbGwsaGVpZ2h0LGJhY2tIZWlnaHQpe3ZhciBsaW5lSGlnaHQ9cGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjZWxsLCJsaW5lLWhlaWdodCIpLDEwKSx0bXBIZWlnaHQ9YmFja0hlaWdodCtoZWlnaHQ7aGVpZ2h0PXRtcEhlaWdodDxsaW5lSGlnaHQ/bGluZUhpZ2h0OnRtcEhlaWdodDtpZihjZWxsLnN0eWxlLmhlaWdodCl7Y2VsbC5zdHlsZS5oZWlnaHQ9IiJ9Y2VsbC5yb3dTcGFuPT0xP2NlbGwuc2V0QXR0cmlidXRlKCJoZWlnaHQiLGhlaWdodCk6KGNlbGwucmVtb3ZlQXR0cmlidXRlJiZjZWxsLnJlbW92ZUF0dHJpYnV0ZSgiaGVpZ2h0IikpfWZ1bmN0aW9uIGdldFdpZHRoKGNlbGwpe2lmKCFjZWxsKXtyZXR1cm4gMH1yZXR1cm4gcGFyc2VJbnQoZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjZWxsLCJ3aWR0aCIpLDEwKX1mdW5jdGlvbiBjaGFuZ2VDb2xXaWR0aChjZWxsLGNoYW5nZVZhbHVlKXt2YXIgdXQ9Z2V0VUVUYWJsZShjZWxsKTtpZih1dCl7dmFyIHRhYmxlPXV0LnRhYmxlLGNlbGxzPWdldENlbGxzQnlNb3ZlQm9yZGVyKGNlbGwsdGFibGUpO3RhYmxlLnN0eWxlLndpZHRoPSIiO3RhYmxlLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKTtjaGFuZ2VWYWx1ZT1jb3JyZWN0Q2hhbmdlVmFsdWUoY2hhbmdlVmFsdWUsY2VsbCxjZWxscyk7aWYoY2VsbC5uZXh0U2libGluZyl7dmFyIGk9MDt1dGlscy5lYWNoKGNlbGxzLGZ1bmN0aW9uKGNlbGxHcm91cCl7Y2VsbEdyb3VwLmxlZnQud2lkdGg9KCtjZWxsR3JvdXAubGVmdC53aWR0aCkrY2hhbmdlVmFsdWU7Y2VsbEdyb3VwLnJpZ2h0JiYoY2VsbEdyb3VwLnJpZ2h0LndpZHRoPSgrY2VsbEdyb3VwLnJpZ2h0LndpZHRoKS1jaGFuZ2VWYWx1ZSl9KX1lbHNle3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24oY2VsbEdyb3VwKXtjZWxsR3JvdXAubGVmdC53aWR0aC09LWNoYW5nZVZhbHVlfSl9fX1mdW5jdGlvbiBpc0VkaXRvckRpc2FibGVkKCl7cmV0dXJuIG1lLmJvZHkuY29udGVudEVkaXRhYmxlPT09ImZhbHNlIn1mdW5jdGlvbiBjaGFuZ2VSb3dIZWlnaHQodGQsY2hhbmdlVmFsdWUpe2lmKE1hdGguYWJzKGNoYW5nZVZhbHVlKTwxMCl7cmV0dXJufXZhciB1dD1nZXRVRVRhYmxlKHRkKTtpZih1dCl7dmFyIGNlbGxzPXV0LmdldFNhbWVFbmRQb3NDZWxscyh0ZCwieSIpLGJhY2tIZWlnaHQ9Y2VsbHNbMF0/Y2VsbHNbMF0ub2Zmc2V0SGVpZ2h0OjA7Zm9yKHZhciBpPTAsY2VsbDtjZWxsPWNlbGxzW2krK107KXtzZXRDZWxsSGVpZ2h0KGNlbGwsY2hhbmdlVmFsdWUsYmFja0hlaWdodCl9fX1mdW5jdGlvbiBnZXRDZWxsc0J5TW92ZUJvcmRlcihjZWxsLHRhYmxlLGlzQ29udGFpbk1lcmdlQ2VsbCl7aWYoIXRhYmxlKXt0YWJsZT1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGNlbGwsInRhYmxlIil9aWYoIXRhYmxlKXtyZXR1cm4gbnVsbH12YXIgaW5kZXg9ZG9tVXRpbHMuZ2V0Tm9kZUluZGV4KGNlbGwpLHRlbXA9Y2VsbCxyb3dzPXRhYmxlLnJvd3MsY29sSW5kZXg9MDt3aGlsZSh0ZW1wKXtpZih0ZW1wLm5vZGVUeXBlPT09MSl7Y29sSW5kZXgrPSh0ZW1wLmNvbFNwYW58fDEpfXRlbXA9dGVtcC5wcmV2aW91c1NpYmxpbmd9dGVtcD1udWxsO3ZhciBib3JkZXJDZWxscz1bXTt1dGlscy5lYWNoKHJvd3MsZnVuY3Rpb24odGFiUm93KXt2YXIgY2VsbHM9dGFiUm93LmNlbGxzLGN1cnJJbmRleD0wO3V0aWxzLmVhY2goY2VsbHMsZnVuY3Rpb24odGFiQ2VsbCl7Y3VyckluZGV4Kz0odGFiQ2VsbC5jb2xTcGFufHwxKTtpZihjdXJySW5kZXg9PT1jb2xJbmRleCl7Ym9yZGVyQ2VsbHMucHVzaCh7bGVmdDp0YWJDZWxsLHJpZ2h0OnRhYkNlbGwubmV4dFNpYmxpbmd8fG51bGx9KTtyZXR1cm4gZmFsc2V9ZWxzZXtpZihjdXJySW5kZXg+Y29sSW5kZXgpe2lmKGlzQ29udGFpbk1lcmdlQ2VsbCl7Ym9yZGVyQ2VsbHMucHVzaCh7bGVmdDp0YWJDZWxsfSl9cmV0dXJuIGZhbHNlfX19KX0pO3JldHVybiBib3JkZXJDZWxsc31mdW5jdGlvbiBnZXRNaW5XaWR0aEJ5VGFibGVDZWxscyhjZWxscyl7dmFyIG1pbldpZHRoPU51bWJlci5NQVhfVkFMVUU7Zm9yKHZhciBpPTAsY3VyQ2VsbDtjdXJDZWxsPWNlbGxzW2ldO2krKyl7bWluV2lkdGg9TWF0aC5taW4obWluV2lkdGgsY3VyQ2VsbC53aWR0aHx8Z2V0VGFibGVDZWxsV2lkdGgoY3VyQ2VsbCkpfXJldHVybiBtaW5XaWR0aH1mdW5jdGlvbiBjb3JyZWN0Q2hhbmdlVmFsdWUoY2hhbmdlVmFsdWUscmVsYXRlZENlbGwsY2VsbHMpe2NoYW5nZVZhbHVlLT1nZXRUYWJjZWxsU3BhY2UoKTtpZihjaGFuZ2VWYWx1ZTwwKXtyZXR1cm4gMH1jaGFuZ2VWYWx1ZS09Z2V0VGFibGVDZWxsV2lkdGgocmVsYXRlZENlbGwpO3ZhciBkaXJlY3Rpb249Y2hhbmdlVmFsdWU8MD8ibGVmdCI6InJpZ2h0IjtjaGFuZ2VWYWx1ZT1NYXRoLmFicyhjaGFuZ2VWYWx1ZSk7dXRpbHMuZWFjaChjZWxscyxmdW5jdGlvbihjZWxsR3JvdXApe3ZhciBjdXJDZWxsPWNlbGxHcm91cFtkaXJlY3Rpb25dO2lmKGN1ckNlbGwpe2NoYW5nZVZhbHVlPU1hdGgubWluKGNoYW5nZVZhbHVlLGdldFRhYmxlQ2VsbFdpZHRoKGN1ckNlbGwpLWNlbGxNaW5XaWR0aCl9fSk7Y2hhbmdlVmFsdWU9Y2hhbmdlVmFsdWU8MD8wOmNoYW5nZVZhbHVlO3JldHVybiBkaXJlY3Rpb249PT0ibGVmdCI/LWNoYW5nZVZhbHVlOmNoYW5nZVZhbHVlfWZ1bmN0aW9uIGdldFRhYmxlQ2VsbFdpZHRoKGNlbGwpe3ZhciB3aWR0aD0wLG9mZnNldD0wLHdpZHRoPWNlbGwub2Zmc2V0V2lkdGgtZ2V0VGFiY2VsbFNwYWNlKCk7aWYoIWNlbGwubmV4dFNpYmxpbmcpe3dpZHRoLT1nZXRUYWJsZUNlbGxPZmZzZXQoY2VsbCl9d2lkdGg9d2lkdGg8MD8wOndpZHRoO3RyeXtjZWxsLndpZHRoPXdpZHRofWNhdGNoKGUpe31yZXR1cm4gd2lkdGh9ZnVuY3Rpb24gZ2V0VGFibGVDZWxsT2Zmc2V0KGNlbGwpe3RhYj1kb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGNlbGwsInRhYmxlIixmYWxzZSk7aWYodGFiLm9mZnNldFZhbD09PXVuZGVmaW5lZCl7dmFyIHByZXY9Y2VsbC5wcmV2aW91c1NpYmxpbmc7aWYocHJldil7dGFiLm9mZnNldFZhbD1jZWxsLm9mZnNldFdpZHRoLXByZXYub2Zmc2V0V2lkdGg9PT1VVC5ib3JkZXJXaWR0aD9VVC5ib3JkZXJXaWR0aDowfWVsc2V7dGFiLm9mZnNldFZhbD0wfX1yZXR1cm4gdGFiLm9mZnNldFZhbH1mdW5jdGlvbiBnZXRUYWJjZWxsU3BhY2UoKXtpZihVVC50YWJjZWxsU3BhY2U9PT11bmRlZmluZWQpe3ZhciBjZWxsPW51bGwsdGFiPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIiksdGJvZHk9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidGJvZHkiKSx0cm93PW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRyIiksdGFiY2VsbD1tZS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0ZCIpLG1pcnJvcj1udWxsO3RhYmNlbGwuc3R5bGUuY3NzVGV4dD0iYm9yZGVyOiAwOyI7dGFiY2VsbC53aWR0aD0xO3Ryb3cuYXBwZW5kQ2hpbGQodGFiY2VsbCk7dHJvdy5hcHBlbmRDaGlsZChtaXJyb3I9dGFiY2VsbC5jbG9uZU5vZGUoZmFsc2UpKTt0Ym9keS5hcHBlbmRDaGlsZCh0cm93KTt0YWIuYXBwZW5kQ2hpbGQodGJvZHkpO3RhYi5zdHlsZS5jc3NUZXh0PSJ2aXNpYmlsaXR5OiBoaWRkZW47IjttZS5ib2R5LmFwcGVuZENoaWxkKHRhYik7VVQucGFkZGluZ1NwYWNlPXRhYmNlbGwub2Zmc2V0V2lkdGgtMTt2YXIgdG1wVGFiV2lkdGg9dGFiLm9mZnNldFdpZHRoO3RhYmNlbGwuc3R5bGUuY3NzVGV4dD0iIjttaXJyb3Iuc3R5bGUuY3NzVGV4dD0iIjtVVC5ib3JkZXJXaWR0aD0odGFiLm9mZnNldFdpZHRoLXRtcFRhYldpZHRoKS8zO1VULnRhYmNlbGxTcGFjZT1VVC5wYWRkaW5nU3BhY2UrVVQuYm9yZGVyV2lkdGg7bWUuYm9keS5yZW1vdmVDaGlsZCh0YWIpfWdldFRhYmNlbGxTcGFjZT1mdW5jdGlvbigpe3JldHVybiBVVC50YWJjZWxsU3BhY2V9O3JldHVybiBVVC50YWJjZWxsU3BhY2V9ZnVuY3Rpb24gZ2V0RHJhZ0xpbmUoZWRpdG9yLGRvYyl7aWYobW91c2Vkb3duKXtyZXR1cm59ZHJhZ0xpbmU9ZWRpdG9yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2RvbVV0aWxzLnNldEF0dHJpYnV0ZXMoZHJhZ0xpbmUse2lkOiJ1ZV90YWJsZURyYWdMaW5lIix1bnNlbGVjdGFibGU6Im9uIixjb250ZW50ZWRpdGFibGU6ZmFsc2Usb25yZXNpemVzdGFydDoicmV0dXJuIGZhbHNlIixvbmRyYWdzdGFydDoicmV0dXJuIGZhbHNlIixvbnNlbGVjdHN0YXJ0OiJyZXR1cm4gZmFsc2UiLHN0eWxlOiJiYWNrZ3JvdW5kLWNvbG9yOmJsdWU7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowO21hcmdpbjowO2JhY2tncm91bmQtaW1hZ2U6bm9uZTtib3JkZXI6MHB4IG5vbmU7b3BhY2l0eTowO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApIn0pO2VkaXRvci5ib2R5LmFwcGVuZENoaWxkKGRyYWdMaW5lKX1mdW5jdGlvbiBoaWRlRHJhZ0xpbmUoZWRpdG9yKXtpZihtb3VzZWRvd24pe3JldHVybn12YXIgbGluZTt3aGlsZShsaW5lPWVkaXRvci5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidWVfdGFibGVEcmFnTGluZSIpKXtkb21VdGlscy5yZW1vdmUobGluZSl9fWZ1bmN0aW9uIHNob3dEcmFnTGluZUF0KHN0YXRlLGNlbGwpe2lmKCFjZWxsKXtyZXR1cm59dmFyIHRhYmxlPWRvbVV0aWxzLmZpbmRQYXJlbnRCeVRhZ05hbWUoY2VsbCwidGFibGUiKSxjYXB0aW9uPXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJjYXB0aW9uIiksd2lkdGg9dGFibGUub2Zmc2V0V2lkdGgsaGVpZ2h0PXRhYmxlLm9mZnNldEhlaWdodC0oY2FwdGlvbi5sZW5ndGg+MD9jYXB0aW9uWzBdLm9mZnNldEhlaWdodDowKSx0YWJsZVBvcz1kb21VdGlscy5nZXRYWSh0YWJsZSksY2VsbFBvcz1kb21VdGlscy5nZXRYWShjZWxsKSxjc3M7c3dpdGNoKHN0YXRlKXtjYXNlImgiOmNzcz0iaGVpZ2h0OiIraGVpZ2h0KyJweDt0b3A6IisodGFibGVQb3MueSsoY2FwdGlvbi5sZW5ndGg+MD9jYXB0aW9uWzBdLm9mZnNldEhlaWdodDowKSkrInB4O2xlZnQ6IisoY2VsbFBvcy54K2NlbGwub2Zmc2V0V2lkdGgpO2RyYWdMaW5lLnN0eWxlLmNzc1RleHQ9Y3NzKyJweDtwb3NpdGlvbjogYWJzb2x1dGU7ZGlzcGxheTpibG9jaztiYWNrZ3JvdW5kLWNvbG9yOmJsdWU7d2lkdGg6MXB4O2JvcmRlcjowOyBjb2xvcjpibHVlO29wYWNpdHk6LjM7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MzApIjticmVhaztjYXNlInYiOmNzcz0id2lkdGg6Iit3aWR0aCsicHg7bGVmdDoiK3RhYmxlUG9zLngrInB4O3RvcDoiKyhjZWxsUG9zLnkrY2VsbC5vZmZzZXRIZWlnaHQpO2RyYWdMaW5lLnN0eWxlLmNzc1RleHQ9Y3NzKyJweDtvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246IGFic29sdXRlO2Rpc3BsYXk6YmxvY2s7YmFja2dyb3VuZC1jb2xvcjpibHVlO2hlaWdodDoxcHg7Ym9yZGVyOjA7Y29sb3I6Ymx1ZTtvcGFjaXR5Oi4yO2ZpbHRlcjphbHBoYShvcGFjaXR5PTIwKSI7YnJlYWs7ZGVmYXVsdDp9fWZ1bmN0aW9uIHN3aXRjaEJvcmRlckNvbG9yKGVkaXRvcixmbGFnKXt2YXIgdGFibGVBcnI9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZWRpdG9yLmJvZHksInRhYmxlIiksY29sb3I7Zm9yKHZhciBpPTAsbm9kZTtub2RlPXRhYmxlQXJyW2krK107KXt2YXIgdGQ9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobm9kZSwidGQiKTtpZih0ZFswXSl7aWYoZmxhZyl7Y29sb3I9KHRkWzBdLnN0eWxlLmJvcmRlckNvbG9yKS5yZXBsYWNlKC9ccy9nLCIiKTtpZigvKCNmZmZmZmYpfChyZ2JcKDI1NSwyNTUsMjU1XCkpL2lnLnRlc3QoY29sb3IpKXtkb21VdGlscy5hZGRDbGFzcyhub2RlLCJub0JvcmRlclRhYmxlIil9fWVsc2V7ZG9tVXRpbHMucmVtb3ZlQ2xhc3Nlcyhub2RlLCJub0JvcmRlclRhYmxlIil9fX19ZnVuY3Rpb24gZ2V0VGFibGVXaWR0aChlZGl0b3IsbmVlZElFSGFjayxkZWZhdWx0VmFsdWUpe3ZhciBib2R5PWVkaXRvci5ib2R5O3JldHVybiBib2R5Lm9mZnNldFdpZHRoLShuZWVkSUVIYWNrP3BhcnNlSW50KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUoYm9keSwibWFyZ2luLWxlZnQiKSwxMCkqMjowKS1kZWZhdWx0VmFsdWUudGFibGVCb3JkZXIqMi0oZWRpdG9yLm9wdGlvbnMub2Zmc2V0V2lkdGh8fDApfWZ1bmN0aW9uIGdldFRhcmdldFRkKGVkaXRvcixldnQpe3ZhciB0YXJnZXQ9ZG9tVXRpbHMuZmluZFBhcmVudEJ5VGFnTmFtZShldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudCxbInRkIiwidGgiXSx0cnVlKSxkaXI9bnVsbDtpZighdGFyZ2V0KXtyZXR1cm4gbnVsbH1kaXI9Z2V0UmVsYXRpb24odGFyZ2V0LG1vdXNlQ29vcmRzKGV2dCkpO2lmKCF0YXJnZXQpe3JldHVybiBudWxsfWlmKGRpcj09PSJoMSImJnRhcmdldC5wcmV2aW91c1NpYmxpbmcpe3ZhciBwb3NpdGlvbj1kb21VdGlscy5nZXRYWSh0YXJnZXQpLGNlbGxXaWR0aD10YXJnZXQub2Zmc2V0V2lkdGg7aWYoTWF0aC5hYnMocG9zaXRpb24ueCtjZWxsV2lkdGgtZXZ0LmNsaWVudFgpPmNlbGxXaWR0aC8zKXt0YXJnZXQ9dGFyZ2V0LnByZXZpb3VzU2libGluZ319ZWxzZXtpZihkaXI9PT0idjEiJiZ0YXJnZXQucGFyZW50Tm9kZS5wcmV2aW91c1NpYmxpbmcpe3ZhciBwb3NpdGlvbj1kb21VdGlscy5nZXRYWSh0YXJnZXQpLGNlbGxIZWlnaHQ9dGFyZ2V0Lm9mZnNldEhlaWdodDtpZihNYXRoLmFicyhwb3NpdGlvbi55K2NlbGxIZWlnaHQtZXZ0LmNsaWVudFkpPmNlbGxIZWlnaHQvMyl7dGFyZ2V0PXRhcmdldC5wYXJlbnROb2RlLnByZXZpb3VzU2libGluZy5maXJzdENoaWxkfX19cmV0dXJuIHRhcmdldCYmIShlZGl0b3IuZmlyZUV2ZW50KCJleGNsdWRldGFibGUiLHRhcmdldCk9PT10cnVlKT90YXJnZXQ6bnVsbH19O1VFLlVFVGFibGUucHJvdG90eXBlLnNvcnRUYWJsZT1mdW5jdGlvbihzb3J0QnlDZWxsSW5kZXgsY29tcGFyZUZuKXt2YXIgdGFibGU9dGhpcy50YWJsZSxyb3dzPXRhYmxlLnJvd3MsdHJBcnJheT1bXSxmbGFnPXJvd3NbMF0uY2VsbHNbMF0udGFnTmFtZT09PSJUSCIsbGFzdFJvd0luZGV4PTA7aWYodGhpcy5zZWxlY3RlZFRkcy5sZW5ndGgpe3ZhciByYW5nZT10aGlzLmNlbGxzUmFuZ2UsbGVuPXJhbmdlLmVuZFJvd0luZGV4KzE7Zm9yKHZhciBpPXJhbmdlLmJlZ2luUm93SW5kZXg7aTxsZW47aSsrKXt0ckFycmF5W2ldPXJvd3NbaV19dHJBcnJheS5zcGxpY2UoMCxyYW5nZS5iZWdpblJvd0luZGV4KTtsYXN0Um93SW5kZXg9KHJhbmdlLmVuZFJvd0luZGV4KzEpPT09dGhpcy5yb3dzTnVtPzA6cmFuZ2UuZW5kUm93SW5kZXgrMX1lbHNle2Zvcih2YXIgaT0wLGxlbj1yb3dzLmxlbmd0aDtpPGxlbjtpKyspe3RyQXJyYXlbaV09cm93c1tpXX19dmFyIEZuPXtyZXZlcnNlY3VycmVudDpmdW5jdGlvbih0ZDEsdGQyKXtyZXR1cm4gMX0sb3JkZXJieWFzYzpmdW5jdGlvbih0ZDEsdGQyKXt2YXIgdmFsdWUxPXRkMS5pbm5lclRleHR8fHRkMS50ZXh0Q29udGVudCx2YWx1ZTI9dGQyLmlubmVyVGV4dHx8dGQyLnRleHRDb250ZW50O3JldHVybiB2YWx1ZTEubG9jYWxlQ29tcGFyZSh2YWx1ZTIpfSxyZXZlcnNlYnlhc2M6ZnVuY3Rpb24odGQxLHRkMil7dmFyIHZhbHVlMT10ZDEuaW5uZXJIVE1MLHZhbHVlMj10ZDIuaW5uZXJIVE1MO3JldHVybiB2YWx1ZTIubG9jYWxlQ29tcGFyZSh2YWx1ZTEpfSxvcmRlcmJ5bnVtOmZ1bmN0aW9uKHRkMSx0ZDIpe3ZhciB2YWx1ZTE9dGQxW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0ubWF0Y2goL1xkKy8pLHZhbHVlMj10ZDJbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXS5tYXRjaCgvXGQrLyk7aWYodmFsdWUxKXt2YWx1ZTE9K3ZhbHVlMVswXX1pZih2YWx1ZTIpe3ZhbHVlMj0rdmFsdWUyWzBdfXJldHVybih2YWx1ZTF8fDApLSh2YWx1ZTJ8fDApfSxyZXZlcnNlYnludW06ZnVuY3Rpb24odGQxLHRkMil7dmFyIHZhbHVlMT10ZDFbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXS5tYXRjaCgvXGQrLyksdmFsdWUyPXRkMlticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdLm1hdGNoKC9cZCsvKTtpZih2YWx1ZTEpe3ZhbHVlMT0rdmFsdWUxWzBdfWlmKHZhbHVlMil7dmFsdWUyPSt2YWx1ZTJbMF19cmV0dXJuKHZhbHVlMnx8MCktKHZhbHVlMXx8MCl9fTt0YWJsZS5zZXRBdHRyaWJ1dGUoImRhdGEtc29ydC10eXBlIixjb21wYXJlRm4mJnR5cGVvZiBjb21wYXJlRm49PT0ic3RyaW5nIiYmRm5bY29tcGFyZUZuXT9jb21wYXJlRm46IiIpO2ZsYWcmJnRyQXJyYXkuc3BsaWNlKDAsMSk7dHJBcnJheT11dGlscy5zb3J0KHRyQXJyYXksZnVuY3Rpb24odHIxLHRyMil7dmFyIHJlc3VsdDtpZihjb21wYXJlRm4mJnR5cGVvZiBjb21wYXJlRm49PT0iZnVuY3Rpb24iKXtyZXN1bHQ9Y29tcGFyZUZuLmNhbGwodGhpcyx0cjEuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSx0cjIuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSl9ZWxzZXtpZihjb21wYXJlRm4mJnR5cGVvZiBjb21wYXJlRm49PT0ibnVtYmVyIil7cmVzdWx0PTF9ZWxzZXtpZihjb21wYXJlRm4mJnR5cGVvZiBjb21wYXJlRm49PT0ic3RyaW5nIiYmRm5bY29tcGFyZUZuXSl7cmVzdWx0PUZuW2NvbXBhcmVGbl0uY2FsbCh0aGlzLHRyMS5jZWxsc1tzb3J0QnlDZWxsSW5kZXhdLHRyMi5jZWxsc1tzb3J0QnlDZWxsSW5kZXhdKX1lbHNle3Jlc3VsdD1Gbi5vcmRlcmJ5YXNjLmNhbGwodGhpcyx0cjEuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSx0cjIuY2VsbHNbc29ydEJ5Q2VsbEluZGV4XSl9fX1yZXR1cm4gcmVzdWx0fSk7dmFyIGZyYWdtZW50PXRhYmxlLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO2Zvcih2YXIgaj0wLGxlbj10ckFycmF5Lmxlbmd0aDtqPGxlbjtqKyspe2ZyYWdtZW50LmFwcGVuZENoaWxkKHRyQXJyYXlbal0pfXZhciB0Ym9keT10YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGJvZHkiKVswXTtpZighbGFzdFJvd0luZGV4KXt0Ym9keS5hcHBlbmRDaGlsZChmcmFnbWVudCl9ZWxzZXt0Ym9keS5pbnNlcnRCZWZvcmUoZnJhZ21lbnQscm93c1tsYXN0Um93SW5kZXgtcmFuZ2UuZW5kUm93SW5kZXgrcmFuZ2UuYmVnaW5Sb3dJbmRleC0xXSl9fTtVRS5wbHVnaW5zLnRhYmxlc29ydD1mdW5jdGlvbigpe3ZhciBtZT10aGlzLFVUPVVFLlVFVGFibGUsZ2V0VUVUYWJsZT1mdW5jdGlvbih0ZE9yVGFibGUpe3JldHVybiBVVC5nZXRVRVRhYmxlKHRkT3JUYWJsZSl9LGdldFRhYmxlSXRlbXNCeVJhbmdlPWZ1bmN0aW9uKGVkaXRvcil7cmV0dXJuIFVULmdldFRhYmxlSXRlbXNCeVJhbmdlKGVkaXRvcil9O21lLnJlYWR5KGZ1bmN0aW9uKCl7dXRpbHMuY3NzUnVsZSgidGFibGVzb3J0IiwidGFibGUuc29ydEVuYWJsZWQgdHIuZmlyc3RSb3cgdGgsdGFibGUuc29ydEVuYWJsZWQgdHIuZmlyc3RSb3cgdGR7cGFkZGluZy1yaWdodDoyMHB4O2JhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7YmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyIHJpZ2h0OyAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKCIrbWUub3B0aW9ucy50aGVtZVBhdGgrbWUub3B0aW9ucy50aGVtZSsiL2ltYWdlcy9zb3J0YWJsZS5wbmcpO30iLG1lLmRvY3VtZW50KTttZS5hZGRMaXN0ZW5lcigiYWZ0ZXJleGVjY29tbWFuZCIsZnVuY3Rpb24odHlwZSxjbWQpe2lmKGNtZD09Im1lcmdlcmlnaHQifHxjbWQ9PSJtZXJnZWRvd24ifHxjbWQ9PSJtZXJnZWNlbGxzIil7dGhpcy5leGVjQ29tbWFuZCgiZGlzYWJsZXNvcnQiKX19KX0pO1VFLmNvbW1hbmRzLnNvcnR0YWJsZT17cXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyx0YWJsZUl0ZW1zPWdldFRhYmxlSXRlbXNCeVJhbmdlKG1lKTtpZighdGFibGVJdGVtcy5jZWxsKXtyZXR1cm4gLTF9dmFyIHRhYmxlPXRhYmxlSXRlbXMudGFibGUsY2VsbHM9dGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIik7Zm9yKHZhciBpPTAsY2VsbDtjZWxsPWNlbGxzW2krK107KXtpZihjZWxsLnJvd1NwYW4hPTF8fGNlbGwuY29sU3BhbiE9MSl7cmV0dXJuIC0xfX1yZXR1cm4gMH0sZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kLGZuKXt2YXIgbWU9dGhpcyxyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxiaz1yYW5nZS5jcmVhdGVCb29rbWFyayh0cnVlKSx0YWJsZUl0ZW1zPWdldFRhYmxlSXRlbXNCeVJhbmdlKG1lKSxjZWxsPXRhYmxlSXRlbXMuY2VsbCx1dD1nZXRVRVRhYmxlKHRhYmxlSXRlbXMudGFibGUpLGNlbGxJbmZvPXV0LmdldENlbGxJbmZvKGNlbGwpO3V0LnNvcnRUYWJsZShjZWxsSW5mby5jZWxsSW5kZXgsZm4pO3JhbmdlLm1vdmVUb0Jvb2ttYXJrKGJrKTt0cnl7cmFuZ2Uuc2VsZWN0KCl9Y2F0Y2goZSl7fX19O1VFLmNvbW1hbmRzLmVuYWJsZXNvcnQ9VUUuY29tbWFuZHMuZGlzYWJsZXNvcnQ9e3F1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKGNtZCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO2lmKHRhYmxlJiZjbWQ9PSJlbmFibGVzb3J0Iil7dmFyIGNlbGxzPWRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhYmxlLCJ0aCB0ZCIpO2Zvcih2YXIgaT0wO2k8Y2VsbHMubGVuZ3RoO2krKyl7aWYoY2VsbHNbaV0uZ2V0QXR0cmlidXRlKCJjb2xzcGFuIik+MXx8Y2VsbHNbaV0uZ2V0QXR0cmlidXRlKCJyb3dzcGFuIik+MSl7cmV0dXJuIC0xfX19cmV0dXJuICF0YWJsZT8tMTpjbWQ9PSJlbmFibGVzb3J0Il50YWJsZS5nZXRBdHRyaWJ1dGUoImRhdGEtc29ydCIpIT0ic29ydEVuYWJsZWQiPy0xOjB9LGV4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZCl7dmFyIHRhYmxlPWdldFRhYmxlSXRlbXNCeVJhbmdlKHRoaXMpLnRhYmxlO3RhYmxlLnNldEF0dHJpYnV0ZSgiZGF0YS1zb3J0IixjbWQ9PSJlbmFibGVzb3J0Ij8ic29ydEVuYWJsZWQiOiJzb3J0RGlzYWJsZWQiKTtjbWQ9PSJlbmFibGVzb3J0Ij9kb21VdGlscy5hZGRDbGFzcyh0YWJsZSwic29ydEVuYWJsZWQiKTpkb21VdGlscy5yZW1vdmVDbGFzc2VzKHRhYmxlLCJzb3J0RW5hYmxlZCIpfX19O1VFLnBsdWdpbnMuY29udGV4dG1lbnU9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxsYW5nPW1lLmdldExhbmcoImNvbnRleHRNZW51IiksbWVudSxpdGVtcz1tZS5vcHRpb25zLmNvbnRleHRNZW51fHxbe2xhYmVsOmxhbmcuc2VsZWN0YWxsLGNtZE5hbWU6InNlbGVjdGFsbCJ9LHtsYWJlbDpsYW5nLmNsZWFyZG9jLGNtZE5hbWU6ImNsZWFyZG9jIixleGVjOmZ1bmN0aW9uKCl7aWYoY29uZmlybShsYW5nLmNvbmZpcm1jbGVhcikpe3RoaXMuZXhlY0NvbW1hbmQoImNsZWFyZG9jIil9fX0sIi0iLHtsYWJlbDpsYW5nLnVubGluayxjbWROYW1lOiJ1bmxpbmsifSwiLSIse2dyb3VwOmxhbmcucGFyYWdyYXBoLGljb246Imp1c3RpZnlqdXN0aWZ5IixzdWJNZW51Olt7bGFiZWw6bGFuZy5qdXN0aWZ5bGVmdCxjbWROYW1lOiJqdXN0aWZ5Iix2YWx1ZToibGVmdCJ9LHtsYWJlbDpsYW5nLmp1c3RpZnlyaWdodCxjbWROYW1lOiJqdXN0aWZ5Iix2YWx1ZToicmlnaHQifSx7bGFiZWw6bGFuZy5qdXN0aWZ5Y2VudGVyLGNtZE5hbWU6Imp1c3RpZnkiLHZhbHVlOiJjZW50ZXIifSx7bGFiZWw6bGFuZy5qdXN0aWZ5anVzdGlmeSxjbWROYW1lOiJqdXN0aWZ5Iix2YWx1ZToianVzdGlmeSJ9XX0sIi0iLHtncm91cDpsYW5nLnRhYmxlLGljb246InRhYmxlIixzdWJNZW51Olt7bGFiZWw6bGFuZy5pbnNlcnR0YWJsZSxjbWROYW1lOiJpbnNlcnR0YWJsZSJ9LHtsYWJlbDpsYW5nLmRlbGV0ZXRhYmxlLGNtZE5hbWU6ImRlbGV0ZXRhYmxlIn0sIi0iLHtsYWJlbDpsYW5nLmRlbGV0ZXJvdyxjbWROYW1lOiJkZWxldGVyb3cifSx7bGFiZWw6bGFuZy5kZWxldGVjb2wsY21kTmFtZToiZGVsZXRlY29sIn0se2xhYmVsOmxhbmcuaW5zZXJ0Y29sLGNtZE5hbWU6Imluc2VydGNvbCJ9LHtsYWJlbDpsYW5nLmluc2VydGNvbG5leHQsY21kTmFtZToiaW5zZXJ0Y29sbmV4dCJ9LHtsYWJlbDpsYW5nLmluc2VydHJvdyxjbWROYW1lOiJpbnNlcnRyb3cifSx7bGFiZWw6bGFuZy5pbnNlcnRyb3duZXh0LGNtZE5hbWU6Imluc2VydHJvd25leHQifSwiLSIse2xhYmVsOmxhbmcuaW5zZXJ0Y2FwdGlvbixjbWROYW1lOiJpbnNlcnRjYXB0aW9uIn0se2xhYmVsOmxhbmcuZGVsZXRlY2FwdGlvbixjbWROYW1lOiJkZWxldGVjYXB0aW9uIn0se2xhYmVsOmxhbmcuaW5zZXJ0dGl0bGUsY21kTmFtZToiaW5zZXJ0dGl0bGUifSx7bGFiZWw6bGFuZy5kZWxldGV0aXRsZSxjbWROYW1lOiJkZWxldGV0aXRsZSJ9LHtsYWJlbDpsYW5nLmluc2VydHRpdGxlY29sLGNtZE5hbWU6Imluc2VydHRpdGxlY29sIn0se2xhYmVsOmxhbmcuZGVsZXRldGl0bGVjb2wsY21kTmFtZToiZGVsZXRldGl0bGVjb2wifSwiLSIse2xhYmVsOmxhbmcubWVyZ2VjZWxscyxjbWROYW1lOiJtZXJnZWNlbGxzIn0se2xhYmVsOmxhbmcubWVyZ2VyaWdodCxjbWROYW1lOiJtZXJnZXJpZ2h0In0se2xhYmVsOmxhbmcubWVyZ2Vkb3duLGNtZE5hbWU6Im1lcmdlZG93biJ9LCItIix7bGFiZWw6bGFuZy5zcGxpdHRvcm93cyxjbWROYW1lOiJzcGxpdHRvcm93cyJ9LHtsYWJlbDpsYW5nLnNwbGl0dG9jb2xzLGNtZE5hbWU6InNwbGl0dG9jb2xzIn0se2xhYmVsOmxhbmcuc3BsaXR0b2NlbGxzLGNtZE5hbWU6InNwbGl0dG9jZWxscyJ9LCItIix7bGFiZWw6bGFuZy5hdmVyYWdlRGlzZVJvdyxjbWROYW1lOiJhdmVyYWdlZGlzdHJpYnV0ZXJvdyJ9LHtsYWJlbDpsYW5nLmF2ZXJhZ2VEaXNDb2wsY21kTmFtZToiYXZlcmFnZWRpc3RyaWJ1dGVjb2wifSwiLSIse2xhYmVsOmxhbmcuZWRpdHRkLGNtZE5hbWU6ImVkaXR0ZCIsZXhlYzpmdW5jdGlvbigpe2lmKFVFLnVpLmVkaXR0ZCl7bmV3IFVFLnVpLmVkaXR0ZCh0aGlzKX10aGlzLmdldERpYWxvZygiZWRpdHRkIikub3BlbigpfX0se2xhYmVsOmxhbmcuZWRpdHRhYmxlLGNtZE5hbWU6ImVkaXR0YWJsZSIsZXhlYzpmdW5jdGlvbigpe2lmKFVFLnVpLmVkaXR0YWJsZSl7bmV3IFVFLnVpLmVkaXR0YWJsZSh0aGlzKX10aGlzLmdldERpYWxvZygiZWRpdHRhYmxlIikub3BlbigpfX0se2xhYmVsOmxhbmcuc2V0Ym9yZGVydmlzaWJsZSxjbWROYW1lOiJzZXRib3JkZXJ2aXNpYmxlIn1dfSx7Z3JvdXA6bGFuZy50YWJsZXNvcnQsaWNvbjoidGFibGVzb3J0IixzdWJNZW51Olt7bGFiZWw6bGFuZy5lbmFibGVzb3J0LGNtZE5hbWU6ImVuYWJsZXNvcnQifSx7bGFiZWw6bGFuZy5kaXNhYmxlc29ydCxjbWROYW1lOiJkaXNhYmxlc29ydCJ9LCItIix7bGFiZWw6bGFuZy5yZXZlcnNlY3VycmVudCxjbWROYW1lOiJzb3J0dGFibGUiLHZhbHVlOiJyZXZlcnNlY3VycmVudCJ9LHtsYWJlbDpsYW5nLm9yZGVyYnlhc2MsY21kTmFtZToic29ydHRhYmxlIix2YWx1ZToib3JkZXJieWFzYyJ9LHtsYWJlbDpsYW5nLnJldmVyc2VieWFzYyxjbWROYW1lOiJzb3J0dGFibGUiLHZhbHVlOiJyZXZlcnNlYnlhc2MifSx7bGFiZWw6bGFuZy5vcmRlcmJ5bnVtLGNtZE5hbWU6InNvcnR0YWJsZSIsdmFsdWU6Im9yZGVyYnludW0ifSx7bGFiZWw6bGFuZy5yZXZlcnNlYnludW0sY21kTmFtZToic29ydHRhYmxlIix2YWx1ZToicmV2ZXJzZWJ5bnVtIn1dfSx7Z3JvdXA6bGFuZy5ib3JkZXJiayxpY29uOiJib3JkZXJCYWNrIixzdWJNZW51Olt7bGFiZWw6bGFuZy5zZXRjb2xvcixjbWROYW1lOiJpbnRlcmxhY2V0YWJsZSIsZXhlYzpmdW5jdGlvbigpe3RoaXMuZXhlY0NvbW1hbmQoImludGVybGFjZXRhYmxlIil9fSx7bGFiZWw6bGFuZy51bnNldGNvbG9yLGNtZE5hbWU6InVuaW50ZXJsYWNldGFibGUiLGV4ZWM6ZnVuY3Rpb24oKXt0aGlzLmV4ZWNDb21tYW5kKCJ1bmludGVybGFjZXRhYmxlIil9fSx7bGFiZWw6bGFuZy5zZXRiYWNrZ3JvdW5kLGNtZE5hbWU6InNldHRhYmxlYmFja2dyb3VuZCIsZXhlYzpmdW5jdGlvbigpe3RoaXMuZXhlY0NvbW1hbmQoInNldHRhYmxlYmFja2dyb3VuZCIse3JlcGVhdDp0cnVlLGNvbG9yTGlzdDpbIiNiYmIiLCIjY2NjIl19KX19LHtsYWJlbDpsYW5nLnVuc2V0YmFja2dyb3VuZCxjbWROYW1lOiJjbGVhcnRhYmxlYmFja2dyb3VuZCIsZXhlYzpmdW5jdGlvbigpe3RoaXMuZXhlY0NvbW1hbmQoImNsZWFydGFibGViYWNrZ3JvdW5kIil9fSx7bGFiZWw6bGFuZy5yZWRhbmRibHVlLGNtZE5hbWU6InNldHRhYmxlYmFja2dyb3VuZCIsZXhlYzpmdW5jdGlvbigpe3RoaXMuZXhlY0NvbW1hbmQoInNldHRhYmxlYmFja2dyb3VuZCIse3JlcGVhdDp0cnVlLGNvbG9yTGlzdDpbInJlZCIsImJsdWUiXX0pfX0se2xhYmVsOmxhbmcudGhyZWVjb2xvcmdyYWRpZW50LGNtZE5hbWU6InNldHRhYmxlYmFja2dyb3VuZCIsZXhlYzpmdW5jdGlvbigpe3RoaXMuZXhlY0NvbW1hbmQoInNldHRhYmxlYmFja2dyb3VuZCIse3JlcGVhdDp0cnVlLGNvbG9yTGlzdDpbIiNhYWEiLCIjYmJiIiwiI2NjYyJdfSl9fV19LHtncm91cDpsYW5nLmFsaWdudGQsaWNvbjoiYWxpZ250ZCIsc3ViTWVudTpbe2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoibGVmdCIsdkFsaWduOiJ0b3AifX0se2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoiY2VudGVyIix2QWxpZ246InRvcCJ9fSx7Y21kTmFtZToiY2VsbGFsaWdubWVudCIsdmFsdWU6e2FsaWduOiJyaWdodCIsdkFsaWduOiJ0b3AifX0se2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoibGVmdCIsdkFsaWduOiJtaWRkbGUifX0se2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoiY2VudGVyIix2QWxpZ246Im1pZGRsZSJ9fSx7Y21kTmFtZToiY2VsbGFsaWdubWVudCIsdmFsdWU6e2FsaWduOiJyaWdodCIsdkFsaWduOiJtaWRkbGUifX0se2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoibGVmdCIsdkFsaWduOiJib3R0b20ifX0se2NtZE5hbWU6ImNlbGxhbGlnbm1lbnQiLHZhbHVlOnthbGlnbjoiY2VudGVyIix2QWxpZ246ImJvdHRvbSJ9fSx7Y21kTmFtZToiY2VsbGFsaWdubWVudCIsdmFsdWU6e2FsaWduOiJyaWdodCIsdkFsaWduOiJib3R0b20ifX1dfSx7Z3JvdXA6bGFuZy5hbGlnbnRhYmxlLGljb246ImFsaWdudGFibGUiLHN1Yk1lbnU6W3tjbWROYW1lOiJ0YWJsZWFsaWdubWVudCIsY2xhc3NOYW1lOiJsZWZ0IixsYWJlbDpsYW5nLnRhYmxlbGVmdCx2YWx1ZToibGVmdCJ9LHtjbWROYW1lOiJ0YWJsZWFsaWdubWVudCIsY2xhc3NOYW1lOiJjZW50ZXIiLGxhYmVsOmxhbmcudGFibGVjZW50ZXIsdmFsdWU6ImNlbnRlciJ9LHtjbWROYW1lOiJ0YWJsZWFsaWdubWVudCIsY2xhc3NOYW1lOiJyaWdodCIsbGFiZWw6bGFuZy50YWJsZXJpZ2h0LHZhbHVlOiJyaWdodCJ9XX0sIi0iLHtsYWJlbDpsYW5nLmluc2VydHBhcmFncmFwaGJlZm9yZSxjbWROYW1lOiJpbnNlcnRwYXJhZ3JhcGgiLHZhbHVlOnRydWV9LHtsYWJlbDpsYW5nLmluc2VydHBhcmFncmFwaGFmdGVyLGNtZE5hbWU6Imluc2VydHBhcmFncmFwaCJ9LHtsYWJlbDpsYW5nLmNvcHksY21kTmFtZToiY29weSIsZXhlYzpmdW5jdGlvbigpe2FsZXJ0KGxhbmcuY29weW1zZyl9LHF1ZXJ5OmZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7bGFiZWw6bGFuZy5wYXN0ZSxjbWROYW1lOiJwYXN0ZSIsZXhlYzpmdW5jdGlvbigpe2FsZXJ0KGxhbmcucGFzdGVtc2cpfSxxdWVyeTpmdW5jdGlvbigpe3JldHVybiAwfX1dO2lmKCFpdGVtcy5sZW5ndGgpe3JldHVybn12YXIgdWlVdGlscz1VRS51aS51aVV0aWxzO21lLmFkZExpc3RlbmVyKCJjb250ZXh0bWVudSIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBvZmZzZXQ9dWlVdGlscy5nZXRWaWV3cG9ydE9mZnNldEJ5RXZlbnQoZXZ0KTttZS5maXJlRXZlbnQoImJlZm9yZXNlbGVjdGlvbmNoYW5nZSIpO2lmKG1lbnUpe21lbnUuZGVzdHJveSgpfWZvcih2YXIgaT0wLHRpLGNvbnRleHRJdGVtcz1bXTt0aT1pdGVtc1tpXTtpKyspe3ZhciBsYXN0OyhmdW5jdGlvbihpdGVtKXtpZihpdGVtPT0iLSIpe2lmKChsYXN0PWNvbnRleHRJdGVtc1tjb250ZXh0SXRlbXMubGVuZ3RoLTFdKSYmbGFzdCE9PSItIil7Y29udGV4dEl0ZW1zLnB1c2goIi0iKX19ZWxzZXtpZihpdGVtLmhhc093blByb3BlcnR5KCJncm91cCIpKXtmb3IodmFyIGo9MCxjaixzdWJNZW51PVtdO2NqPWl0ZW0uc3ViTWVudVtqXTtqKyspeyhmdW5jdGlvbihzdWJJdGVtKXtpZihzdWJJdGVtPT0iLSIpe2lmKChsYXN0PXN1Yk1lbnVbc3ViTWVudS5sZW5ndGgtMV0pJiZsYXN0IT09Ii0iKXtzdWJNZW51LnB1c2goIi0iKX1lbHNle3N1Yk1lbnUuc3BsaWNlKHN1Yk1lbnUubGVuZ3RoLTEpfX1lbHNle2lmKChtZS5jb21tYW5kc1tzdWJJdGVtLmNtZE5hbWVdfHxVRS5jb21tYW5kc1tzdWJJdGVtLmNtZE5hbWVdfHxzdWJJdGVtLnF1ZXJ5KSYmKHN1Ykl0ZW0ucXVlcnk/c3ViSXRlbS5xdWVyeSgpOm1lLnF1ZXJ5Q29tbWFuZFN0YXRlKHN1Ykl0ZW0uY21kTmFtZSkpPi0xKXtzdWJNZW51LnB1c2goe2xhYmVsOnN1Ykl0ZW0ubGFiZWx8fG1lLmdldExhbmcoImNvbnRleHRNZW51LiIrc3ViSXRlbS5jbWROYW1lKyhzdWJJdGVtLnZhbHVlfHwiIikpfHwiIixjbGFzc05hbWU6ImVkdWktZm9yLSIrc3ViSXRlbS5jbWROYW1lKyhzdWJJdGVtLmNsYXNzTmFtZT8oIiBlZHVpLWZvci0iK3N1Ykl0ZW0uY21kTmFtZSsiLSIrc3ViSXRlbS5jbGFzc05hbWUpOiIiKSxvbmNsaWNrOnN1Ykl0ZW0uZXhlYz9mdW5jdGlvbigpe3N1Ykl0ZW0uZXhlYy5jYWxsKG1lKX06ZnVuY3Rpb24oKXttZS5leGVjQ29tbWFuZChzdWJJdGVtLmNtZE5hbWUsc3ViSXRlbS52YWx1ZSl9fSl9fX0pKGNqKX1pZihzdWJNZW51Lmxlbmd0aCl7ZnVuY3Rpb24gZ2V0TGFiZWwoKXtzd2l0Y2goaXRlbS5pY29uKXtjYXNlInRhYmxlIjpyZXR1cm4gbWUuZ2V0TGFuZygiY29udGV4dE1lbnUudGFibGUiKTtjYXNlImp1c3RpZnlqdXN0aWZ5IjpyZXR1cm4gbWUuZ2V0TGFuZygiY29udGV4dE1lbnUucGFyYWdyYXBoIik7Y2FzZSJhbGlnbnRkIjpyZXR1cm4gbWUuZ2V0TGFuZygiY29udGV4dE1lbnUuYWxpZ250ZCIpO2Nhc2UiYWxpZ250YWJsZSI6cmV0dXJuIG1lLmdldExhbmcoImNvbnRleHRNZW51LmFsaWdudGFibGUiKTtjYXNlInRhYmxlc29ydCI6cmV0dXJuIGxhbmcudGFibGVzb3J0O2Nhc2UiYm9yZGVyQmFjayI6cmV0dXJuIGxhbmcuYm9yZGVyYms7ZGVmYXVsdDpyZXR1cm4iIn19Y29udGV4dEl0ZW1zLnB1c2goe2xhYmVsOmdldExhYmVsKCksY2xhc3NOYW1lOiJlZHVpLWZvci0iK2l0ZW0uaWNvbixzdWJNZW51OntpdGVtczpzdWJNZW51LGVkaXRvcjptZX19KX19ZWxzZXtpZigobWUuY29tbWFuZHNbaXRlbS5jbWROYW1lXXx8VUUuY29tbWFuZHNbaXRlbS5jbWROYW1lXXx8aXRlbS5xdWVyeSkmJihpdGVtLnF1ZXJ5P2l0ZW0ucXVlcnkuY2FsbChtZSk6bWUucXVlcnlDb21tYW5kU3RhdGUoaXRlbS5jbWROYW1lKSk+LTEpe2NvbnRleHRJdGVtcy5wdXNoKHtsYWJlbDppdGVtLmxhYmVsfHxtZS5nZXRMYW5nKCJjb250ZXh0TWVudS4iK2l0ZW0uY21kTmFtZSksY2xhc3NOYW1lOiJlZHVpLWZvci0iKyhpdGVtLmljb24/aXRlbS5pY29uOml0ZW0uY21kTmFtZSsoaXRlbS52YWx1ZXx8IiIpKSxvbmNsaWNrOml0ZW0uZXhlYz9mdW5jdGlvbigpe2l0ZW0uZXhlYy5jYWxsKG1lKX06ZnVuY3Rpb24oKXttZS5leGVjQ29tbWFuZChpdGVtLmNtZE5hbWUsaXRlbS52YWx1ZSl9fSl9fX19KSh0aSl9aWYoY29udGV4dEl0ZW1zW2NvbnRleHRJdGVtcy5sZW5ndGgtMV09PSItIil7Y29udGV4dEl0ZW1zLnBvcCgpfW1lbnU9bmV3IFVFLnVpLk1lbnUoe2l0ZW1zOmNvbnRleHRJdGVtcyxjbGFzc05hbWU6ImVkdWktY29udGV4dG1lbnUiLGVkaXRvcjptZX0pO21lbnUucmVuZGVyKCk7bWVudS5zaG93QXQob2Zmc2V0KTttZS5maXJlRXZlbnQoImFmdGVyc2hvd2NvbnRleHRtZW51IixtZW51KTtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChldnQpO2lmKGJyb3dzZXIuaWUpe3ZhciBpZVJhbmdlO3RyeXtpZVJhbmdlPW1lLnNlbGVjdGlvbi5nZXROYXRpdmUoKS5jcmVhdGVSYW5nZSgpfWNhdGNoKGUpe3JldHVybn1pZihpZVJhbmdlLml0ZW0pe3ZhciByYW5nZT1uZXcgZG9tLlJhbmdlKG1lLmRvY3VtZW50KTtyYW5nZS5zZWxlY3ROb2RlKGllUmFuZ2UuaXRlbSgwKSkuc2VsZWN0KHRydWUsdHJ1ZSl9fX0pfTtVRS5wbHVnaW5zLnNob3J0Y3V0bWVudT1mdW5jdGlvbigpe3ZhciBtZT10aGlzLG1lbnUsaXRlbXM9bWUub3B0aW9ucy5zaG9ydGN1dE1lbnV8fFtdO2lmKCFpdGVtcy5sZW5ndGgpe3JldHVybn1tZS5hZGRMaXN0ZW5lcigiY29udGV4dG1lbnUgbW91c2V1cCIsZnVuY3Rpb24odHlwZSxlKXt2YXIgbWU9dGhpcyxjdXN0b21FdnQ9e3R5cGU6dHlwZSx0YXJnZXQ6ZS50YXJnZXR8fGUuc3JjRWxlbWVudCxzY3JlZW5YOmUuc2NyZWVuWCxzY3JlZW5ZOmUuc2NyZWVuWSxjbGllbnRYOmUuY2xpZW50WCxjbGllbnRZOmUuY2xpZW50WX07c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBybmc9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocm5nLmNvbGxhcHNlZD09PWZhbHNlfHx0eXBlPT0iY29udGV4dG1lbnUiKXtpZighbWVudSl7bWVudT1uZXcgYmFpZHUuZWRpdG9yLnVpLlNob3J0Q3V0TWVudSh7ZWRpdG9yOm1lLGl0ZW1zOml0ZW1zLHRoZW1lOm1lLm9wdGlvbnMudGhlbWUsY2xhc3NOYW1lOiJlZHVpLXNob3J0Y3V0bWVudSJ9KTttZW51LnJlbmRlcigpO21lLmZpcmVFdmVudCgiYWZ0ZXJyZW5kZXJzaG9ydGN1dG1lbnUiLG1lbnUpfW1lbnUuc2hvdyhjdXN0b21FdnQsISFVRS5wbHVnaW5zLmNvbnRleHRtZW51KX19KTtpZih0eXBlPT0iY29udGV4dG1lbnUiKXtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChlKTtpZihicm93c2VyLmllOWJlbG93KXt2YXIgaWVSYW5nZTt0cnl7aWVSYW5nZT1tZS5zZWxlY3Rpb24uZ2V0TmF0aXZlKCkuY3JlYXRlUmFuZ2UoKX1jYXRjaChlKXtyZXR1cm59aWYoaWVSYW5nZS5pdGVtKXt2YXIgcmFuZ2U9bmV3IGRvbS5SYW5nZShtZS5kb2N1bWVudCk7cmFuZ2Uuc2VsZWN0Tm9kZShpZVJhbmdlLml0ZW0oMCkpLnNlbGVjdCh0cnVlLHRydWUpfX19fSk7bWUuYWRkTGlzdGVuZXIoImtleWRvd24iLGZ1bmN0aW9uKHR5cGUpe2lmKHR5cGU9PSJrZXlkb3duIil7bWVudSYmIW1lbnUuaXNIaWRkZW4mJm1lbnUuaGlkZSgpfX0pfTtVRS5wbHVnaW4ucmVnaXN0ZXIoImF1dG91cGxvYWQiLGZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7dmFyIHNlbmRBbmRJbnNlcnRJbWFnZT1mdW5jdGlvbihmaWxlLGVkaXRvcil7dmFyIGZkPW5ldyBGb3JtRGF0YSgpO2ZkLmFwcGVuZChlZGl0b3Iub3B0aW9ucy5pbWFnZUZpZWxkTmFtZXx8InVwZmlsZSIsZmlsZSxmaWxlLm5hbWV8fCgiYmxvYi4iK2ZpbGUudHlwZS5zdWJzdHIoImltYWdlLyIubGVuZ3RoKSkpO2ZkLmFwcGVuZCgidHlwZSIsImFqYXgiKTt2YXIgeGhyPW5ldyBYTUxIdHRwUmVxdWVzdCgpO3hoci5vcGVuKCJwb3N0IixtZS5vcHRpb25zLmltYWdlVXJsLHRydWUpO3hoci5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKTt4aHIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsZnVuY3Rpb24oZSl7dHJ5e3ZhciBqc29uPShuZXcgRnVuY3Rpb24oInJldHVybiAiK2UudGFyZ2V0LnJlc3BvbnNlKSkoKSxwaWNMaW5rPW1lLm9wdGlvbnMuaW1hZ2VQYXRoK2pzb24udXJsO2VkaXRvci5leGVjQ29tbWFuZCgiaW5zZXJ0aW1hZ2UiLHtzcmM6cGljTGluayxfc3JjOnBpY0xpbmt9KX1jYXRjaChlcil7fX0pO3hoci5zZW5kKGZkKX07ZnVuY3Rpb24gZ2V0UGFzdGVJbWFnZShlKXtyZXR1cm4gZS5jbGlwYm9hcmREYXRhJiZlLmNsaXBib2FyZERhdGEuaXRlbXMmJmUuY2xpcGJvYXJkRGF0YS5pdGVtcy5sZW5ndGg9PTEmJi9eaW1hZ2VcLy8udGVzdChlLmNsaXBib2FyZERhdGEuaXRlbXNbMF0udHlwZSk/ZS5jbGlwYm9hcmREYXRhLml0ZW1zOm51bGx9ZnVuY3Rpb24gZ2V0RHJvcEltYWdlKGUpe3JldHVybiBlLmRhdGFUcmFuc2ZlciYmZS5kYXRhVHJhbnNmZXIuZmlsZXM/ZS5kYXRhVHJhbnNmZXIuZmlsZXM6bnVsbH1yZXR1cm57YmluZEV2ZW50czp7cmVhZHk6ZnVuY3Rpb24oZSl7aWYod2luZG93LkZvcm1EYXRhJiZ3aW5kb3cuRmlsZVJlYWRlcil7ZG9tVXRpbHMub24obWUuYm9keSwicGFzdGUgZHJvcCIsZnVuY3Rpb24oZSl7dmFyIGhhc0ltZz1mYWxzZSxpdGVtcztpdGVtcz1lLnR5cGU9PSJwYXN0ZSI/Z2V0UGFzdGVJbWFnZShlKTpnZXREcm9wSW1hZ2UoZSk7aWYoaXRlbXMpe3ZhciBsZW49aXRlbXMubGVuZ3RoLGZpbGU7d2hpbGUobGVuLS0pe2ZpbGU9aXRlbXNbbGVuXTtpZihmaWxlLmdldEFzRmlsZSl7ZmlsZT1maWxlLmdldEFzRmlsZSgpfWlmKGZpbGUmJmZpbGUuc2l6ZT4wJiYvaW1hZ2VcL1x3Ky9pLnRlc3QoZmlsZS50eXBlKSl7c2VuZEFuZEluc2VydEltYWdlKGZpbGUsbWUpO2hhc0ltZz10cnVlfX1oYXNJbWcmJmUucHJldmVudERlZmF1bHQoKX19KTtkb21VdGlscy5vbihtZS5ib2R5LCJkcmFnb3ZlciIsZnVuY3Rpb24oZSl7aWYoZS5kYXRhVHJhbnNmZXIudHlwZXNbMF09PSJGaWxlcyIpe2UucHJldmVudERlZmF1bHQoKX19KX19fX19KTtVRS5wbHVnaW5zLmJhc2VzdHlsZT1mdW5jdGlvbigpe3ZhciBiYXNlc3R5bGVzPXtib2xkOlsic3Ryb25nIiwiYiJdLGl0YWxpYzpbImVtIiwiaSJdLHN1YnNjcmlwdDpbInN1YiJdLHN1cGVyc2NyaXB0Olsic3VwIl19LGdldE9iaj1mdW5jdGlvbihlZGl0b3IsdGFnTmFtZXMpe3JldHVybiBkb21VdGlscy5maWx0ZXJOb2RlTGlzdChlZGl0b3Iuc2VsZWN0aW9uLmdldFN0YXJ0RWxlbWVudFBhdGgoKSx0YWdOYW1lcyl9LG1lPXRoaXM7bWUuYWRkc2hvcnRjdXRrZXkoe0JvbGQ6ImN0cmwrNjYiLEl0YWxpYzoiY3RybCs3MyIsVW5kZXJsaW5lOiJjdHJsKzg1In0pO21lLmFkZElucHV0UnVsZShmdW5jdGlvbihyb290KXt1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoImIgaSIpLGZ1bmN0aW9uKG5vZGUpe3N3aXRjaChub2RlLnRhZ05hbWUpe2Nhc2UiYiI6bm9kZS50YWdOYW1lPSJzdHJvbmciO2JyZWFrO2Nhc2UiaSI6bm9kZS50YWdOYW1lPSJlbSJ9fSl9KTtmb3IodmFyIHN0eWxlIGluIGJhc2VzdHlsZXMpeyhmdW5jdGlvbihjbWQsdGFnTmFtZXMpe21lLmNvbW1hbmRzW2NtZF09e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUpe3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxvYmo9Z2V0T2JqKHRoaXMsdGFnTmFtZXMpO2lmKHJhbmdlLmNvbGxhcHNlZCl7aWYob2JqKXt2YXIgdG1wVGV4dD1tZS5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7cmFuZ2UuaW5zZXJ0Tm9kZSh0bXBUZXh0KS5yZW1vdmVJbmxpbmVTdHlsZSh0YWdOYW1lcyk7cmFuZ2Uuc2V0U3RhcnRCZWZvcmUodG1wVGV4dCk7ZG9tVXRpbHMucmVtb3ZlKHRtcFRleHQpfWVsc2V7dmFyIHRtcE5vZGU9cmFuZ2UuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lc1swXSk7aWYoY21kTmFtZT09InN1cGVyc2NyaXB0Inx8Y21kTmFtZT09InN1YnNjcmlwdCIpe3RtcFRleHQ9bWUuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO3JhbmdlLmluc2VydE5vZGUodG1wVGV4dCkucmVtb3ZlSW5saW5lU3R5bGUoWyJzdWIiLCJzdXAiXSkuc2V0U3RhcnRCZWZvcmUodG1wVGV4dCkuY29sbGFwc2UodHJ1ZSl9cmFuZ2UuaW5zZXJ0Tm9kZSh0bXBOb2RlKS5zZXRTdGFydCh0bXBOb2RlLDApfXJhbmdlLmNvbGxhcHNlKHRydWUpfWVsc2V7aWYoY21kTmFtZT09InN1cGVyc2NyaXB0Inx8Y21kTmFtZT09InN1YnNjcmlwdCIpe2lmKCFvYmp8fG9iai50YWdOYW1lLnRvTG93ZXJDYXNlKCkhPWNtZE5hbWUpe3JhbmdlLnJlbW92ZUlubGluZVN0eWxlKFsic3ViIiwic3VwIl0pfX1vYmo/cmFuZ2UucmVtb3ZlSW5saW5lU3R5bGUodGFnTmFtZXMpOnJhbmdlLmFwcGx5SW5saW5lU3R5bGUodGFnTmFtZXNbMF0pfXJhbmdlLnNlbGVjdCgpfSxxdWVyeUNvbW1hbmRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBnZXRPYmoodGhpcyx0YWdOYW1lcyk/MTowfX19KShzdHlsZSxiYXNlc3R5bGVzW3N0eWxlXSl9fTtVRS5wbHVnaW5zLmVsZW1lbnRwYXRoPWZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRMZXZlbCx0YWdOYW1lcyxtZT10aGlzO21lLnNldE9wdCgiZWxlbWVudFBhdGhFbmFibGVkIix0cnVlKTtpZighbWUub3B0aW9ucy5lbGVtZW50UGF0aEVuYWJsZWQpe3JldHVybn1tZS5jb21tYW5kcy5lbGVtZW50cGF0aD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSxsZXZlbCl7dmFyIHN0YXJ0PXRhZ05hbWVzW2xldmVsXSxyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtjdXJyZW50TGV2ZWw9bGV2ZWwqMTtyYW5nZS5zZWxlY3ROb2RlKHN0YXJ0KS5zZWxlY3QoKX0scXVlcnlDb21tYW5kVmFsdWU6ZnVuY3Rpb24oKXt2YXIgcGFyZW50cz1bXS5jb25jYXQodGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpKS5yZXZlcnNlKCksbmFtZXM9W107dGFnTmFtZXM9cGFyZW50cztmb3IodmFyIGk9MCxjaTtjaT1wYXJlbnRzW2ldO2krKyl7aWYoY2kubm9kZVR5cGU9PTMpe2NvbnRpbnVlfXZhciBuYW1lPWNpLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihuYW1lPT0iaW1nIiYmY2kuZ2V0QXR0cmlidXRlKCJhbmNob3JuYW1lIikpe25hbWU9ImFuY2hvciJ9bmFtZXNbaV09bmFtZTtpZihjdXJyZW50TGV2ZWw9PWkpe2N1cnJlbnRMZXZlbD0tMTticmVha319cmV0dXJuIG5hbWVzfX19O1VFLnBsdWdpbnMuZm9ybWF0bWF0Y2g9ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxsaXN0PVtdLGltZyxmbGFnPTA7bWUuYWRkTGlzdGVuZXIoInJlc2V0IixmdW5jdGlvbigpe2xpc3Q9W107ZmxhZz0wfSk7ZnVuY3Rpb24gYWRkTGlzdCh0eXBlLGV2dCl7aWYoYnJvd3Nlci53ZWJraXQpe3ZhciB0YXJnZXQ9ZXZ0LnRhcmdldC50YWdOYW1lPT0iSU1HIj9ldnQudGFyZ2V0Om51bGx9ZnVuY3Rpb24gYWRkRm9ybWF0KHJhbmdlKXtpZih0ZXh0KXtyYW5nZS5zZWxlY3ROb2RlKHRleHQpfXJldHVybiByYW5nZS5hcHBseUlubGluZVN0eWxlKGxpc3RbbGlzdC5sZW5ndGgtMV0udGFnTmFtZSxudWxsLGxpc3QpfW1lLnVuZG9NYW5nZXImJm1lLnVuZG9NYW5nZXIuc2F2ZSgpO3ZhciByYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxpbWdUPXRhcmdldHx8cmFuZ2UuZ2V0Q2xvc2VkTm9kZSgpO2lmKGltZyYmaW1nVCYmaW1nVC50YWdOYW1lPT0iSU1HIil7aW1nVC5zdHlsZS5jc3NUZXh0Kz0iO2Zsb2F0OiIrKGltZy5zdHlsZS5jc3NGbG9hdHx8aW1nLnN0eWxlLnN0eWxlRmxvYXR8fCJub25lIikrIjtkaXNwbGF5OiIrKGltZy5zdHlsZS5kaXNwbGF5fHwiaW5saW5lIik7aW1nPW51bGx9ZWxzZXtpZighaW1nKXt2YXIgY29sbGFwc2VkPXJhbmdlLmNvbGxhcHNlZDtpZihjb2xsYXBzZWQpe3ZhciB0ZXh0PW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJtYXRjaCIpO3JhbmdlLmluc2VydE5vZGUodGV4dCkuc2VsZWN0KCl9bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPXRydWU7dmFyIHJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9bWUub3B0aW9ucy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzO21lLm9wdGlvbnMucmVtb3ZlRm9ybWF0QXR0cmlidXRlcz0iIjttZS5leGVjQ29tbWFuZCgicmVtb3ZlZm9ybWF0Iik7bWUub3B0aW9ucy5yZW1vdmVGb3JtYXRBdHRyaWJ1dGVzPXJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM7bWUuX19oYXNFbnRlckV4ZWNDb21tYW5kPWZhbHNlO3JhbmdlPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpO2lmKGxpc3QubGVuZ3RoKXthZGRGb3JtYXQocmFuZ2UpfWlmKHRleHQpe3JhbmdlLnNldFN0YXJ0QmVmb3JlKHRleHQpLmNvbGxhcHNlKHRydWUpfXJhbmdlLnNlbGVjdCgpO3RleHQmJmRvbVV0aWxzLnJlbW92ZSh0ZXh0KX19bWUudW5kb01hbmdlciYmbWUudW5kb01hbmdlci5zYXZlKCk7bWUucmVtb3ZlTGlzdGVuZXIoIm1vdXNldXAiLGFkZExpc3QpO2ZsYWc9MH1tZS5jb21tYW5kcy5mb3JtYXRtYXRjaD17ZXhlY0NvbW1hbmQ6ZnVuY3Rpb24oY21kTmFtZSl7aWYoZmxhZyl7ZmxhZz0wO2xpc3Q9W107bWUucmVtb3ZlTGlzdGVuZXIoIm1vdXNldXAiLGFkZExpc3QpO3JldHVybn12YXIgcmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aW1nPXJhbmdlLmdldENsb3NlZE5vZGUoKTtpZighaW1nfHxpbWcudGFnTmFtZSE9IklNRyIpe3JhbmdlLmNvbGxhcHNlKHRydWUpLnNocmlua0JvdW5kYXJ5KCk7dmFyIHN0YXJ0PXJhbmdlLnN0YXJ0Q29udGFpbmVyO2xpc3Q9ZG9tVXRpbHMuZmluZFBhcmVudHMoc3RhcnQsdHJ1ZSxmdW5jdGlvbihub2RlKXtyZXR1cm4gIWRvbVV0aWxzLmlzQmxvY2tFbG0obm9kZSkmJm5vZGUubm9kZVR5cGU9PTF9KTtmb3IodmFyIGk9MCxjaTtjaT1saXN0W2ldO2krKyl7aWYoY2kudGFnTmFtZT09IkEiKXtsaXN0LnNwbGljZShpLDEpO2JyZWFrfX19bWUuYWRkTGlzdGVuZXIoIm1vdXNldXAiLGFkZExpc3QpO2ZsYWc9MX0scXVlcnlDb21tYW5kU3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gZmxhZ30sbm90TmVlZFVuZG86MX19O1VFLnBsdWdpbi5yZWdpc3Rlcigic2VhcmNocmVwbGFjZSIsZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztmdW5jdGlvbiBmaW5kVGV4dEluU3RyaW5nKHRleHRDb250ZW50LG9wdCxjdXJyZW50SW5kZXgpe3ZhciBzdHI9b3B0LnNlYXJjaFN0cjtpZihvcHQuZGlyPT0tMSl7dGV4dENvbnRlbnQ9dGV4dENvbnRlbnQuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTtzdHI9c3RyLnNwbGl0KCIiKS5yZXZlcnNlKCkuam9pbigiIik7Y3VycmVudEluZGV4PXRleHRDb250ZW50Lmxlbmd0aC1jdXJyZW50SW5kZXh9dmFyIHJlZz1uZXcgUmVnRXhwKHN0ciwiZyIrKG9wdC5jYXNlc2Vuc2l0aXZlPyIiOiJpIikpLG1hdGNoO3doaWxlKG1hdGNoPXJlZy5leGVjKHRleHRDb250ZW50KSl7aWYobWF0Y2guaW5kZXg+PWN1cnJlbnRJbmRleCl7cmV0dXJuIG9wdC5kaXI9PS0xP3RleHRDb250ZW50Lmxlbmd0aC1tYXRjaC5pbmRleC1vcHQuc2VhcmNoU3RyLmxlbmd0aDptYXRjaC5pbmRleH19cmV0dXJuIC0xfWZ1bmN0aW9uIGZpbmRUZXh0QmxvY2tFbG0obm9kZSxjdXJyZW50SW5kZXgsb3B0KXt2YXIgdGV4dENvbnRlbnQsaW5kZXgsbWV0aG9kTmFtZT1vcHQuYWxsfHxvcHQuZGlyPT0xPyJnZXROZXh0RG9tTm9kZSI6ImdldFByZURvbU5vZGUiO2lmKGRvbVV0aWxzLmlzQm9keShub2RlKSl7bm9kZT1ub2RlLmZpcnN0Q2hpbGR9dmFyIGZpcnN0PTE7d2hpbGUobm9kZSl7dGV4dENvbnRlbnQ9bm9kZS5ub2RlVHlwZT09Mz9ub2RlLm5vZGVWYWx1ZTpub2RlW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il07aW5kZXg9ZmluZFRleHRJblN0cmluZyh0ZXh0Q29udGVudCxvcHQsY3VycmVudEluZGV4KTtmaXJzdD0wO2lmKGluZGV4IT0tMSl7cmV0dXJue25vZGU6bm9kZSxpbmRleDppbmRleH19bm9kZT1kb21VdGlsc1ttZXRob2ROYW1lXShub2RlKTtpZihub2RlKXtjdXJyZW50SW5kZXg9b3B0LmRpcj09LTE/KG5vZGUubm9kZVR5cGU9PTM/bm9kZS5ub2RlVmFsdWU6bm9kZVticm93c2VyLmllPyJpbm5lclRleHQiOiJ0ZXh0Q29udGVudCJdKS5sZW5ndGg6MH19fWZ1bmN0aW9uIGZpbmROVGV4dEluQmxvY2tFbG0obm9kZSxpbmRleCxzdHIpe3ZhciBjdXJyZW50SW5kZXg9MCxjdXJyZW50Tm9kZT1ub2RlLmZpcnN0Q2hpbGQsY3VycmVudE5vZGVMZW5ndGg9MCxyZXN1bHQ7d2hpbGUoY3VycmVudE5vZGUpe2lmKGN1cnJlbnROb2RlLm5vZGVUeXBlPT0zKXtjdXJyZW50Tm9kZUxlbmd0aD1jdXJyZW50Tm9kZS5ub2RlVmFsdWUucmVwbGFjZSgvKF5bXHRcclxuXSspfChbXHRcclxuXSskKS8sIiIpLmxlbmd0aDtjdXJyZW50SW5kZXgrPWN1cnJlbnROb2RlTGVuZ3RoO2lmKGN1cnJlbnRJbmRleD49aW5kZXgpe3JldHVybntub2RlOmN1cnJlbnROb2RlLGluZGV4OmN1cnJlbnROb2RlTGVuZ3RoLShjdXJyZW50SW5kZXgtaW5kZXgpfX19ZWxzZXtpZighZHRkLiRlbXB0eVtjdXJyZW50Tm9kZS50YWdOYW1lXSl7Y3VycmVudE5vZGVMZW5ndGg9Y3VycmVudE5vZGVbYnJvd3Nlci5pZT8iaW5uZXJUZXh0IjoidGV4dENvbnRlbnQiXS5yZXBsYWNlKC8oXltcdFxyXG5dKyl8KFtcdFxyXG5dKyQpLywiIikubGVuZ3RoO2N1cnJlbnRJbmRleCs9Y3VycmVudE5vZGVMZW5ndGg7aWYoY3VycmVudEluZGV4Pj1pbmRleCl7cmVzdWx0PWZpbmROVGV4dEluQmxvY2tFbG0oY3VycmVudE5vZGUsY3VycmVudE5vZGVMZW5ndGgtKGN1cnJlbnRJbmRleC1pbmRleCksc3RyKTtpZihyZXN1bHQpe3JldHVybiByZXN1bHR9fX19Y3VycmVudE5vZGU9ZG9tVXRpbHMuZ2V0TmV4dERvbU5vZGUoY3VycmVudE5vZGUpfX1mdW5jdGlvbiBzZWFyY2hSZXBsYWNlKG1lLG9wdCl7dmFyIHJuZz1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKSxzdGFydEJsb2NrTm9kZSxzZWFyY2hTdHI9b3B0LnNlYXJjaFN0cixzcGFuPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtzcGFuLmlubmVySFRNTD0iJCR1ZWRpdG9yX3NlYXJjaHJlcGxhY2Vfa2V5JCQiO2lmKCFybmcuY29sbGFwc2VkKXtybmcuc2VsZWN0KCk7dmFyIHJuZ1RleHQ9bWUuc2VsZWN0aW9uLmdldFRleHQoKTtpZihuZXcgUmVnRXhwKCJeIitvcHQuc2VhcmNoU3RyKyIkIiwob3B0LmNhc2VzZW5zaXRpdmU/IiI6ImkiKSkudGVzdChybmdUZXh0KSl7aWYob3B0LnJlcGxhY2VTdHIhPXVuZGVmaW5lZCl7cmVwbGFjZVRleHQocm5nLG9wdC5yZXBsYWNlU3RyKTtybmcuc2VsZWN0KCk7cmV0dXJuIHRydWV9ZWxzZXtybmcuY29sbGFwc2Uob3B0LmRpcj09LTEpfX19cm5nLmluc2VydE5vZGUoc3Bhbik7cm5nLmVubGFyZ2VUb0Jsb2NrRWxtKHRydWUpO3N0YXJ0QmxvY2tOb2RlPXJuZy5zdGFydENvbnRhaW5lcjt2YXIgY3VycmVudEluZGV4PXN0YXJ0QmxvY2tOb2RlW2Jyb3dzZXIuaWU/ImlubmVyVGV4dCI6InRleHRDb250ZW50Il0uaW5kZXhPZigiJCR1ZWRpdG9yX3NlYXJjaHJlcGxhY2Vfa2V5JCQiKTtybmcuc2V0U3RhcnRCZWZvcmUoc3Bhbik7ZG9tVXRpbHMucmVtb3ZlKHNwYW4pO3ZhciByZXN1bHQ9ZmluZFRleHRCbG9ja0VsbShzdGFydEJsb2NrTm9kZSxjdXJyZW50SW5kZXgsb3B0KTtpZihyZXN1bHQpe3ZhciBybmdTdGFydD1maW5kTlRleHRJbkJsb2NrRWxtKHJlc3VsdC5ub2RlLHJlc3VsdC5pbmRleCxzZWFyY2hTdHIpO3ZhciBybmdFbmQ9ZmluZE5UZXh0SW5CbG9ja0VsbShyZXN1bHQubm9kZSxyZXN1bHQuaW5kZXgrc2VhcmNoU3RyLmxlbmd0aCxzZWFyY2hTdHIpO3JuZy5zZXRTdGFydChybmdTdGFydC5ub2RlLHJuZ1N0YXJ0LmluZGV4KS5zZXRFbmQocm5nRW5kLm5vZGUscm5nRW5kLmluZGV4KTtpZihvcHQucmVwbGFjZVN0ciE9PXVuZGVmaW5lZCl7cmVwbGFjZVRleHQocm5nLG9wdC5yZXBsYWNlU3RyKX1ybmcuc2VsZWN0KCk7cmV0dXJuIHRydWV9ZWxzZXtybmcuc2V0Q3Vyc29yKCl9fWZ1bmN0aW9uIHJlcGxhY2VUZXh0KHJuZyxzdHIpe21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIik7c3RyPW1lLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cik7cm5nLmRlbGV0ZUNvbnRlbnRzKCkuaW5zZXJ0Tm9kZShzdHIpO21lLmZpcmVFdmVudCgic2F2ZVNjZW5lIil9cmV0dXJue2NvbW1hbmRzOntzZWFyY2hyZXBsYWNlOntleGVjQ29tbWFuZDpmdW5jdGlvbihjbWROYW1lLG9wdCl7dXRpbHMuZXh0ZW5kKG9wdCx7YWxsOmZhbHNlLGNhc2VzZW5zaXRpdmU6ZmFsc2UsZGlyOjF9LHRydWUpO3ZhciBudW09MDtpZihvcHQuYWxsKXt2YXIgcm5nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLGZpcnN0PW1lLmJvZHkuZmlyc3RDaGlsZDtpZihmaXJzdCYmZmlyc3Qubm9kZVR5cGU9PTEpe3JuZy5zZXRTdGFydChmaXJzdCwwKX1lbHNle2lmKGZpcnN0Lm5vZGVUeXBlPT0zKXtybmcuc2V0U3RhcnRCZWZvcmUoZmlyc3QpfX1ybmcuY29sbGFwc2UodHJ1ZSkuc2VsZWN0KHRydWUpO3doaWxlKHNlYXJjaFJlcGxhY2UodGhpcyxvcHQpKXtudW0rK319ZWxzZXtpZihzZWFyY2hSZXBsYWNlKHRoaXMsb3B0KSl7bnVtKyt9fXJldHVybiBudW19LG5vdE5lZWRVbmRvOjF9fX19KTtVRS5wbHVnaW5zLmN1c3RvbXN0eWxlPWZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7bWUuc2V0T3B0KHtjdXN0b21zdHlsZTpbe3RhZzoiaDEiLG5hbWU6InRjIixzdHlsZToiZm9udC1zaXplOjMycHg7Zm9udC13ZWlnaHQ6Ym9sZDtib3JkZXItYm90dG9tOiNjY2MgMnB4IHNvbGlkO3BhZGRpbmc6MCA0cHggMCAwO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbjowIDAgMjBweCAwOyJ9LHt0YWc6ImgxIixuYW1lOiJ0bCIsc3R5bGU6ImZvbnQtc2l6ZTozMnB4O2ZvbnQtd2VpZ2h0OmJvbGQ7Ym9yZGVyLWJvdHRvbTojY2NjIDJweCBzb2xpZDtwYWRkaW5nOjAgNHB4IDAgMDt0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luOjAgMCAxMHB4IDA7In0se3RhZzoic3BhbiIsbmFtZToiaW0iLHN0eWxlOiJmb250LXNpemU6MTZweDtmb250LXN0eWxlOml0YWxpYztmb250LXdlaWdodDpib2xkO2xpbmUtaGVpZ2h0OjE4cHg7In0se3RhZzoic3BhbiIsbmFtZToiaGkiLHN0eWxlOiJmb250LXNpemU6MTZweDtmb250LXN0eWxlOml0YWxpYztmb250LXdlaWdodDpib2xkO2NvbG9yOnJnYig1MSwgMTUzLCAyMDQpO2xpbmUtaGVpZ2h0OjE4cHg7In1dfSk7bWUuY29tbWFuZHMuY3VzdG9tc3R5bGU9e2V4ZWNDb21tYW5kOmZ1bmN0aW9uKGNtZE5hbWUsb2JqKXt2YXIgbWU9dGhpcyx0YWdOYW1lPW9iai50YWcsbm9kZT1kb21VdGlscy5maW5kUGFyZW50KG1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLmdldEF0dHJpYnV0ZSgibGFiZWwiKX0sdHJ1ZSkscmFuZ2UsYmssdG1wT2JqPXt9O2Zvcih2YXIgcCBpbiBvYmope2lmKG9ialtwXSE9PXVuZGVmaW5lZCl7dG1wT2JqW3BdPW9ialtwXX19ZGVsZXRlIHRtcE9iai50YWc7aWYobm9kZSYmbm9kZS5nZXRBdHRyaWJ1dGUoImxhYmVsIik9PW9iai5sYWJlbCl7cmFuZ2U9dGhpcy5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtiaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO2lmKHJhbmdlLmNvbGxhcHNlZCl7aWYoZHRkLiRibG9ja1tub2RlLnRhZ05hbWVdKXt2YXIgZmlsbE5vZGU9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2RvbVV0aWxzLm1vdmVDaGlsZChub2RlLGZpbGxOb2RlKTtub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZpbGxOb2RlLG5vZGUpO2RvbVV0aWxzLnJlbW92ZShub2RlKX1lbHNle2RvbVV0aWxzLnJlbW92ZShub2RlLHRydWUpfX1lbHNle3ZhciBjb21tb249ZG9tVXRpbHMuZ2V0Q29tbW9uQW5jZXN0b3IoYmsuc3RhcnQsYmsuZW5kKSxub2Rlcz1kb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShjb21tb24sdGFnTmFtZSk7aWYobmV3IFJlZ0V4cCh0YWdOYW1lLCJpIikudGVzdChjb21tb24udGFnTmFtZSkpe25vZGVzLnB1c2goY29tbW9uKX1mb3IodmFyIGk9MCxuaTtuaT1ub2Rlc1tpKytdOyl7aWYobmkuZ2V0QXR0cmlidXRlKCJsYWJlbCIpPT1vYmoubGFiZWwpe3ZhciBwcz1kb21VdGlscy5nZXRQb3NpdGlvbihuaSxiay5zdGFydCkscGU9ZG9tVXRpbHMuZ2V0UG9zaXRpb24obmksYmsuZW5kKTtpZigocHMmZG9tVXRpbHMuUE9TSVRJT05fRk9MTE9XSU5HfHxwcyZkb21VdGlscy5QT1NJVElPTl9DT05UQUlOUykmJihwZSZkb21VdGlscy5QT1NJVElPTl9QUkVDRURJTkd8fHBlJmRvbVV0aWxzLlBPU0lUSU9OX0NPTlRBSU5TKSl7aWYoZHRkLiRibG9ja1t0YWdOYW1lXSl7dmFyIGZpbGxOb2RlPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtkb21VdGlscy5tb3ZlQ2hpbGQobmksZmlsbE5vZGUpO25pLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGZpbGxOb2RlLG5pKX19ZG9tVXRpbHMucmVtb3ZlKG5pLHRydWUpfX1ub2RlPWRvbVV0aWxzLmZpbmRQYXJlbnQoY29tbW9uLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLmdldEF0dHJpYnV0ZSgibGFiZWwiKT09b2JqLmxhYmVsfSx0cnVlKTtpZihub2RlKXtkb21VdGlscy5yZW1vdmUobm9kZSx0cnVlKX19cmFuZ2UubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCgpfWVsc2V7aWYoZHRkLiRibG9ja1t0YWdOYW1lXSl7dGhpcy5leGVjQ29tbWFuZCgicGFyYWdyYXBoIix0YWdOYW1lLHRtcE9iaiwiY3VzdG9tc3R5bGUiKTtyYW5nZT1tZS5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtpZighcmFuZ2UuY29sbGFwc2VkKXtyYW5nZS5jb2xsYXBzZSgpO25vZGU9ZG9tVXRpbHMuZmluZFBhcmVudChtZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSxmdW5jdGlvbihub2RlKXtyZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUoImxhYmVsIik9PW9iai5sYWJlbH0sdHJ1ZSk7dmFyIHBOb2RlPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTtkb21VdGlscy5pbnNlcnRBZnRlcihub2RlLHBOb2RlKTtkb21VdGlscy5maWxsTm9kZShtZS5kb2N1bWVudCxwTm9kZSk7cmFuZ2Uuc2V0U3RhcnQocE5vZGUsMCkuc2V0Q3Vyc29yKCl9fWVsc2V7cmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocmFuZ2UuY29sbGFwc2VkKXtub2RlPW1lLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7ZG9tVXRpbHMuc2V0QXR0cmlidXRlcyhub2RlLHRtcE9iaik7cmFuZ2UuaW5zZXJ0Tm9kZShub2RlKS5zZXRTdGFydChub2RlLDApLnNldEN1cnNvcigpO3JldHVybn1iaz1yYW5nZS5jcmVhdGVCb29rbWFyaygpO3JhbmdlLmFwcGx5SW5saW5lU3R5bGUodGFnTmFtZSx0bXBPYmopLm1vdmVUb0Jvb2ttYXJrKGJrKS5zZWxlY3QoKX19fSxxdWVyeUNvbW1hbmRWYWx1ZTpmdW5jdGlvbigpe3ZhciBwYXJlbnQ9ZG9tVXRpbHMuZmlsdGVyTm9kZUxpc3QodGhpcy5zZWxlY3Rpb24uZ2V0U3RhcnRFbGVtZW50UGF0aCgpLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLmdldEF0dHJpYnV0ZSgibGFiZWwiKX0pO3JldHVybiBwYXJlbnQ/cGFyZW50LmdldEF0dHJpYnV0ZSgibGFiZWwiKToiIn19O21lLmFkZExpc3RlbmVyKCJrZXl1cCIsZnVuY3Rpb24odHlwZSxldnQpe3ZhciBrZXlDb2RlPWV2dC5rZXlDb2RlfHxldnQud2hpY2g7aWYoa2V5Q29kZT09MzJ8fGtleUNvZGU9PTEzKXt2YXIgcmFuZ2U9bWUuc2VsZWN0aW9uLmdldFJhbmdlKCk7aWYocmFuZ2UuY29sbGFwc2VkKXt2YXIgbm9kZT1kb21VdGlscy5maW5kUGFyZW50KG1lLnNlbGVjdGlvbi5nZXRTdGFydCgpLGZ1bmN0aW9uKG5vZGUpe3JldHVybiBub2RlLmdldEF0dHJpYnV0ZSgibGFiZWwiKX0sdHJ1ZSk7aWYobm9kZSYmZHRkLiRibG9ja1tub2RlLnRhZ05hbWVdJiZkb21VdGlscy5pc0VtcHR5Tm9kZShub2RlKSl7dmFyIHA9bWUuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgicCIpO2RvbVV0aWxzLmluc2VydEFmdGVyKG5vZGUscCk7ZG9tVXRpbHMuZmlsbE5vZGUobWUuZG9jdW1lbnQscCk7ZG9tVXRpbHMucmVtb3ZlKG5vZGUpO3JhbmdlLnNldFN0YXJ0KHAsMCkuc2V0Q3Vyc29yKCl9fX19KX07VUUucGx1Z2lucy5jYXRjaHJlbW90ZWltYWdlPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLmNhdGNoUmVtb3RlSW1hZ2VFbmFibGU9PT1mYWxzZSl7cmV0dXJufXZhciBtZT10aGlzO3RoaXMuc2V0T3B0KHtsb2NhbERvbWFpbjpbIjEyNy4wLjAuMSIsImxvY2FsaG9zdCIsImltZy5iYWlkdS5jb20iXSxzZXBhcmF0ZXI6InVlX3NlcGFyYXRlX3VlIixjYXRjaEZpZWxkTmFtZToidXBmaWxlIixjYXRjaFJlbW90ZUltYWdlRW5hYmxlOnRydWV9KTt2YXIgYWpheD1VRS5hamF4LGxvY2FsRG9tYWluPW1lLm9wdGlvbnMubG9jYWxEb21haW4sY2F0Y2hlclVybD1tZS5vcHRpb25zLmNhdGNoZXJVcmwsc2VwYXJhdGVyPW1lLm9wdGlvbnMuc2VwYXJhdGVyO2Z1bmN0aW9uIGNhdGNocmVtb3RlaW1hZ2UoaW1ncyxjYWxsYmFja3Mpe3ZhciBzdWJtaXRTdHI9aW1ncy5qb2luKHNlcGFyYXRlcik7dmFyIHRtcE9wdGlvbj17dGltZW91dDo2MDAwMCxvbnN1Y2Nlc3M6Y2FsbGJhY2tzLnN1Y2Nlc3Msb25lcnJvcjpjYWxsYmFja3MuZXJyb3J9O3RtcE9wdGlvblttZS5vcHRpb25zLmNhdGNoRmllbGROYW1lXT1zdWJtaXRTdHI7YWpheC5yZXF1ZXN0KGNhdGNoZXJVcmwsdG1wT3B0aW9uKX1tZS5hZGRMaXN0ZW5lcigiYWZ0ZXJwYXN0ZSIsZnVuY3Rpb24oKXttZS5maXJlRXZlbnQoImNhdGNoUmVtb3RlSW1hZ2UiKX0pO21lLmFkZExpc3RlbmVyKCJjYXRjaFJlbW90ZUltYWdlIixmdW5jdGlvbigpe3ZhciByZW1vdGVJbWFnZXM9W107dmFyIGltZ3M9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobWUuZG9jdW1lbnQsImltZyIpO3ZhciB0ZXN0PWZ1bmN0aW9uKHNyYyx1cmxzKXtmb3IodmFyIGo9MCx1cmw7dXJsPXVybHNbaisrXTspe2lmKHNyYy5pbmRleE9mKHVybCkhPT0tMSl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX07Zm9yKHZhciBpPTAsY2k7Y2k9aW1nc1tpKytdOyl7aWYoY2kuZ2V0QXR0cmlidXRlKCJ3b3JkX2ltZyIpKXtjb250aW51ZX12YXIgc3JjPWNpLmdldEF0dHJpYnV0ZSgiX3NyYyIpfHxjaS5zcmN8fCIiO2lmKC9eKGh0dHBzP3xmdHApOi9pLnRlc3Qoc3JjKSYmIXRlc3Qoc3JjLGxvY2FsRG9tYWluKSl7cmVtb3RlSW1hZ2VzLnB1c2goc3JjKX19aWYocmVtb3RlSW1hZ2VzLmxlbmd0aCl7Y2F0Y2hyZW1vdGVpbWFnZShyZW1vdGVJbWFnZXMse3N1Y2Nlc3M6ZnVuY3Rpb24oeGhyKXt0cnl7dmFyIGluZm89ZXZhbCgiKCIreGhyLnJlc3BvbnNlVGV4dCsiKSIpfWNhdGNoKGUpe3JldHVybn12YXIgc3JjVXJscz1pbmZvLnNyY1VybC5zcGxpdChzZXBhcmF0ZXIpLHVybHM9aW5mby51cmwuc3BsaXQoc2VwYXJhdGVyKTtmb3IodmFyIGk9MCxjaTtjaT1pbWdzW2krK107KXt2YXIgc3JjPWNpLmdldEF0dHJpYnV0ZSgiX3NyYyIpfHxjaS5zcmN8fCIiO2Zvcih2YXIgaj0wLGNqO2NqPXNyY1VybHNbaisrXTspe3ZhciB1cmw9dXJsc1tqLTFdO2lmKHNyYz09Y2omJnVybCE9ImVycm9yIil7dmFyIG5ld1NyYz1tZS5vcHRpb25zLmNhdGNoZXJQYXRoK3VybDtkb21VdGlscy5zZXRBdHRyaWJ1dGVzKGNpLHtzcmM6bmV3U3JjLF9zcmM6bmV3U3JjfSk7YnJlYWt9fX1tZS5maXJlRXZlbnQoImNhdGNocmVtb3Rlc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbigpe21lLmZpcmVFdmVudCgiY2F0Y2hyZW1vdGVlcnJvciIpfX0pfX0pfTtVRS5wbHVnaW4ucmVnaXN0ZXIoIm11c2ljIixmdW5jdGlvbigpe3ZhciBtZT10aGlzO2Z1bmN0aW9uIGNyZWF0SW5zZXJ0U3RyKHVybCx3aWR0aCxoZWlnaHQsYWxpZ24sY3NzZmxvYXQsdG9FbWJlZCl7cmV0dXJuICF0b0VtYmVkPyI8aW1nICIrKGFsaWduJiYhY3NzZmxvYXQ/J2FsaWduPSInK2FsaWduKyciJzoiIikrKGNzc2Zsb2F0PydzdHlsZT0iZmxvYXQ6Jytjc3NmbG9hdCsnIic6IiIpKycgd2lkdGg9Iicrd2lkdGgrJyIgaGVpZ2h0PSInK2hlaWdodCsnIiBfdXJsPSInK3VybCsnIiBjbGFzcz0iZWR1aS1mYWtlZC1tdXNpYyIgc3JjPSInK21lLm9wdGlvbnMubGFuZ1BhdGgrbWUub3B0aW9ucy5sYW5nKycvaW1hZ2VzL211c2ljLnBuZyIgLz4nOic8ZW1iZWQgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIGNsYXNzPSJlZHVpLWZha2VkLW11c2ljIiBwbHVnaW5zcGFnZT0iaHR0cDovL3d3dy5tYWNyb21lZGlhLmNvbS9nby9nZXRmbGFzaHBsYXllciIgc3JjPSInK3VybCsnIiB3aWR0aD0iJyt3aWR0aCsnIiBoZWlnaHQ9IicraGVpZ2h0KyciICcrKGFsaWduJiYhY3NzZmxvYXQ/J2FsaWduPSInK2FsaWduKyciJzoiIikrKGNzc2Zsb2F0PydzdHlsZT0iZmxvYXQ6Jytjc3NmbG9hdCsnIic6IiIpKycgd21vZGU9InRyYW5zcGFyZW50IiBwbGF5PSJ0cnVlIiBsb29wPSJmYWxzZSIgbWVudT0iZmFsc2UiIGFsbG93c2NyaXB0YWNjZXNzPSJuZXZlciIgYWxsb3dmdWxsc2NyZWVuPSJ0cnVlIiA+J31yZXR1cm57b3V0cHV0UnVsZTpmdW5jdGlvbihyb290KXt1dGlscy5lYWNoKHJvb3QuZ2V0Tm9kZXNCeVRhZ05hbWUoImltZyIpLGZ1bmN0aW9uKG5vZGUpe3ZhciBodG1sO2lmKG5vZGUuZ2V0QXR0cigiY2xhc3MiKT09ImVkdWktZmFrZWQtbXVzaWMiKXt2YXIgY3NzZmxvYXQ9bm9kZS5nZXRTdHlsZSgiZmxvYXQiKTt2YXIgYWxpZ249bm9kZS5nZXRBdHRyKCJhbGlnbiIpO2h0bWw9Y3JlYXRJbnNlcnRTdHIobm9kZS5nZXRBdHRyKCJfdXJsIiksbm9kZS5nZXRBdHRyKCJ3aWR0aCIpLG5vZGUuZ2V0QXR0cigiaGVpZ2h0IiksYWxpZ24sY3NzZmxvYXQsdHJ1ZSk7dmFyIGVtYmVkPVVFLnVOb2RlLmNyZWF0ZUVsZW1lbnQoaHRtbCk7bm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbWJlZCxub2RlKX19KX0saW5wdXRSdWxlOmZ1bmN0aW9uKHJvb3Qpe3V0aWxzLmVhY2gocm9vdC5nZXROb2Rlc0J5VGFnTmFtZSgiZW1iZWQiKSxmdW5jdGlvbihub2RlKXtpZihub2RlLmdldEF0dHIoImNsYXNzIik9PSJlZHVpLWZha2VkLW11c2ljIil7dmFyIGNzc2Zsb2F0PW5vZGUuZ2V0U3R5bGUoImZsb2F0Iik7dmFyIGFsaWduPW5vZGUuZ2V0QXR0cigiYWxpZ24iKTtodG1sPWNyZWF0SW5zZXJ0U3RyKG5vZGUuZ2V0QXR0cigic3JjIiksbm9kZS5nZXRBdHRyKCJ3aWR0aCIpLG5vZGUuZ2V0QXR0cigiaGVpZ2h0IiksYWxpZ24sY3NzZmxvYXQsZmFsc2UpO3ZhciBpbWc9VUUudU5vZGUuY3JlYXRlRWxlbWVudChodG1sKTtub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGltZyxub2RlKX19KX0sY29tbWFuZHM6e211c2ljOntleGVjQ29tbWFuZDpmdW5jdGlvbihjbWQsbXVzaWNPYmope3ZhciBtZT10aGlzLHN0cj1jcmVhdEluc2VydFN0cihtdXNpY09iai51cmwsbXVzaWNPYmoud2lkdGh8fDQwMCxtdXNpY09iai5oZWlnaHR8fDk1LCJub25lIixmYWxzZSk7bWUuZXhlY0NvbW1hbmQoImluc2VydGh0bWwiLHN0cil9LHF1ZXJ5Q29tbWFuZFN0YXRlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsaW1nPW1lLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKSxmbGFnPWltZyYmKGltZy5jbGFzc05hbWU9PSJlZHVpLWZha2VkLW11c2ljIik7cmV0dXJuIGZsYWc/MTowfX19fX0pO3ZhciBiYWlkdT1iYWlkdXx8e307YmFpZHUuZWRpdG9yPWJhaWR1LmVkaXRvcnx8e307YmFpZHUuZWRpdG9yLnVpPXt9OyhmdW5jdGlvbigpe3ZhciBicm93c2VyPWJhaWR1LmVkaXRvci5icm93c2VyLGRvbVV0aWxzPWJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHM7dmFyIG1hZ2ljPSIkRURJVE9SVUkiO3ZhciByb290PXdpbmRvd1ttYWdpY109e307dmFyIHVpZE1hZ2ljPSJJRCIrbWFnaWM7dmFyIHVpZENvdW50PTA7dmFyIHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHM9e3VpZDpmdW5jdGlvbihvYmope3JldHVybihvYmo/b2JqW3VpZE1hZ2ljXXx8KG9ialt1aWRNYWdpY109Kyt1aWRDb3VudCk6Kyt1aWRDb3VudCl9LGhvb2s6ZnVuY3Rpb24oZm4sY2FsbGJhY2spe3ZhciBkZztpZihmbiYmZm4uX2NhbGxiYWNrcyl7ZGc9Zm59ZWxzZXtkZz1mdW5jdGlvbigpe3ZhciBxO2lmKGZuKXtxPWZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgY2FsbGJhY2tzPWRnLl9jYWxsYmFja3M7dmFyIGs9Y2FsbGJhY2tzLmxlbmd0aDt3aGlsZShrLS0pe3ZhciByPWNhbGxiYWNrc1trXS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYocT09PXVuZGVmaW5lZCl7cT1yfX1yZXR1cm4gcX07ZGcuX2NhbGxiYWNrcz1bXX1kZy5fY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO3JldHVybiBkZ30sY3JlYXRlRWxlbWVudEJ5SHRtbDpmdW5jdGlvbihodG1sKXt2YXIgZWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ZWwuaW5uZXJIVE1MPWh0bWw7ZWw9ZWwuZmlyc3RDaGlsZDtlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtyZXR1cm4gZWx9LGdldFZpZXdwb3J0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybihicm93c2VyLmllJiZicm93c2VyLnF1aXJrcyk/ZG9jdW1lbnQuYm9keTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR9LGdldENsaWVudFJlY3Q6ZnVuY3Rpb24oZWxlbWVudCl7dmFyIGJjcjt0cnl7YmNyPWVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9Y2F0Y2goZSl7YmNyPXtsZWZ0OjAsdG9wOjAsaGVpZ2h0OjAsd2lkdGg6MH19dmFyIHJlY3Q9e2xlZnQ6TWF0aC5yb3VuZChiY3IubGVmdCksdG9wOk1hdGgucm91bmQoYmNyLnRvcCksaGVpZ2h0Ok1hdGgucm91bmQoYmNyLmJvdHRvbS1iY3IudG9wKSx3aWR0aDpNYXRoLnJvdW5kKGJjci5yaWdodC1iY3IubGVmdCl9O3ZhciBkb2M7d2hpbGUoKGRvYz1lbGVtZW50Lm93bmVyRG9jdW1lbnQpIT09ZG9jdW1lbnQmJihlbGVtZW50PWRvbVV0aWxzLmdldFdpbmRvdyhkb2MpLmZyYW1lRWxlbWVudCkpe2Jjcj1lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JlY3QubGVmdCs9YmNyLmxlZnQ7cmVjdC50b3ArPWJjci50b3B9cmVjdC5ib3R0b209cmVjdC50b3ArcmVjdC5oZWlnaHQ7cmVjdC5yaWdodD1yZWN0LmxlZnQrcmVjdC53aWR0aDtyZXR1cm4gcmVjdH0sZ2V0Vmlld3BvcnRSZWN0OmZ1bmN0aW9uKCl7dmFyIHZpZXdwb3J0RWw9dWlVdGlscy5nZXRWaWV3cG9ydEVsZW1lbnQoKTt2YXIgd2lkdGg9KHdpbmRvdy5pbm5lcldpZHRofHx2aWV3cG9ydEVsLmNsaWVudFdpZHRoKXwwO3ZhciBoZWlnaHQ9KHdpbmRvdy5pbm5lckhlaWdodHx8dmlld3BvcnRFbC5jbGllbnRIZWlnaHQpfDA7cmV0dXJue2xlZnQ6MCx0b3A6MCxoZWlnaHQ6aGVpZ2h0LHdpZHRoOndpZHRoLGJvdHRvbTpoZWlnaHQscmlnaHQ6d2lkdGh9fSxzZXRWaWV3cG9ydE9mZnNldDpmdW5jdGlvbihlbGVtZW50LG9mZnNldCl7dmFyIHJlY3Q7dmFyIGZpeGVkTGF5ZXI9dWlVdGlscy5nZXRGaXhlZExheWVyKCk7aWYoZWxlbWVudC5wYXJlbnROb2RlPT09Zml4ZWRMYXllcil7ZWxlbWVudC5zdHlsZS5sZWZ0PW9mZnNldC5sZWZ0KyJweCI7ZWxlbWVudC5zdHlsZS50b3A9b2Zmc2V0LnRvcCsicHgifWVsc2V7ZG9tVXRpbHMuc2V0Vmlld3BvcnRPZmZzZXQoZWxlbWVudCxvZmZzZXQpfX0sZ2V0RXZlbnRPZmZzZXQ6ZnVuY3Rpb24oZXZ0KXt2YXIgZWw9ZXZ0LnRhcmdldHx8ZXZ0LnNyY0VsZW1lbnQ7dmFyIHJlY3Q9dWlVdGlscy5nZXRDbGllbnRSZWN0KGVsKTt2YXIgb2Zmc2V0PXVpVXRpbHMuZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50KGV2dCk7cmV0dXJue2xlZnQ6b2Zmc2V0LmxlZnQtcmVjdC5sZWZ0LHRvcDpvZmZzZXQudG9wLXJlY3QudG9wfX0sZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50OmZ1bmN0aW9uKGV2dCl7dmFyIGVsPWV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50O3ZhciBmcmFtZUVsPWRvbVV0aWxzLmdldFdpbmRvdyhlbCkuZnJhbWVFbGVtZW50O3ZhciBvZmZzZXQ9e2xlZnQ6ZXZ0LmNsaWVudFgsdG9wOmV2dC5jbGllbnRZfTtpZihmcmFtZUVsJiZlbC5vd25lckRvY3VtZW50IT09ZG9jdW1lbnQpe3ZhciByZWN0PXVpVXRpbHMuZ2V0Q2xpZW50UmVjdChmcmFtZUVsKTtvZmZzZXQubGVmdCs9cmVjdC5sZWZ0O29mZnNldC50b3ArPXJlY3QudG9wfXJldHVybiBvZmZzZXR9LHNldEdsb2JhbDpmdW5jdGlvbihpZCxvYmope3Jvb3RbaWRdPW9iajtyZXR1cm4gbWFnaWMrJ1siJytpZCsnIl0nfSx1bnNldEdsb2JhbDpmdW5jdGlvbihpZCl7ZGVsZXRlIHJvb3RbaWRdfSxjb3B5QXR0cmlidXRlczpmdW5jdGlvbih0Z3Qsc3JjKXt2YXIgYXR0cmlidXRlcz1zcmMuYXR0cmlidXRlczt2YXIgaz1hdHRyaWJ1dGVzLmxlbmd0aDt3aGlsZShrLS0pe3ZhciBhdHRyTm9kZT1hdHRyaWJ1dGVzW2tdO2lmKGF0dHJOb2RlLm5vZGVOYW1lIT0ic3R5bGUiJiZhdHRyTm9kZS5ub2RlTmFtZSE9ImNsYXNzIiYmKCFicm93c2VyLmllfHxhdHRyTm9kZS5zcGVjaWZpZWQpKXt0Z3Quc2V0QXR0cmlidXRlKGF0dHJOb2RlLm5vZGVOYW1lLGF0dHJOb2RlLm5vZGVWYWx1ZSl9fWlmKHNyYy5jbGFzc05hbWUpe2RvbVV0aWxzLmFkZENsYXNzKHRndCxzcmMuY2xhc3NOYW1lKX1pZihzcmMuc3R5bGUuY3NzVGV4dCl7dGd0LnN0eWxlLmNzc1RleHQrPSI7IitzcmMuc3R5bGUuY3NzVGV4dH19LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGVsLHN0eWxlTmFtZSl7aWYoZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkpe2VsLnN0eWxlLnJlbW92ZVByb3BlcnR5KHN0eWxlTmFtZSl9ZWxzZXtpZihlbC5zdHlsZS5yZW1vdmVBdHRyaWJ1dGUpe2VsLnN0eWxlLnJlbW92ZUF0dHJpYnV0ZShzdHlsZU5hbWUpfWVsc2V7dGhyb3ciIn19fSxjb250YWluczpmdW5jdGlvbihlbEEsZWxCKXtyZXR1cm4gZWxBJiZlbEImJihlbEE9PT1lbEI/ZmFsc2U6KGVsQS5jb250YWlucz9lbEEuY29udGFpbnMoZWxCKTplbEEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oZWxCKSYxNikpfSxzdGFydERyYWc6ZnVuY3Rpb24oZXZ0LGNhbGxiYWNrcyxkb2Mpe3ZhciBkb2M9ZG9jfHxkb2N1bWVudDt2YXIgc3RhcnRYPWV2dC5jbGllbnRYO3ZhciBzdGFydFk9ZXZ0LmNsaWVudFk7ZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlKGV2dCl7dmFyIHg9ZXZ0LmNsaWVudFgtc3RhcnRYO3ZhciB5PWV2dC5jbGllbnRZLXN0YXJ0WTtjYWxsYmFja3Mub25kcmFnbW92ZSh4LHksZXZ0KTtpZihldnQuc3RvcFByb3BhZ2F0aW9uKXtldnQuc3RvcFByb3BhZ2F0aW9uKCl9ZWxzZXtldnQuY2FuY2VsQnViYmxlPXRydWV9fWlmKGRvYy5hZGRFdmVudExpc3RlbmVyKXtmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2dCl7ZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsaGFuZGxlTW91c2VNb3ZlLHRydWUpO2RvYy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixoYW5kbGVNb3VzZVVwLHRydWUpO3dpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3VzZXVwIixoYW5kbGVNb3VzZVVwLHRydWUpO2NhbGxiYWNrcy5vbmRyYWdzdG9wKCl9ZG9jLmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsaGFuZGxlTW91c2VNb3ZlLHRydWUpO2RvYy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixoYW5kbGVNb3VzZVVwLHRydWUpO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixoYW5kbGVNb3VzZVVwLHRydWUpO2V2dC5wcmV2ZW50RGVmYXVsdCgpfWVsc2V7dmFyIGVsbT1ldnQuc3JjRWxlbWVudDtlbG0uc2V0Q2FwdHVyZSgpO2Z1bmN0aW9uIHJlbGVhc2VDYXB0cnVlKCl7ZWxtLnJlbGVhc2VDYXB0dXJlKCk7ZWxtLmRldGFjaEV2ZW50KCJvbm1vdXNlbW92ZSIsaGFuZGxlTW91c2VNb3ZlKTtlbG0uZGV0YWNoRXZlbnQoIm9ubW91c2V1cCIscmVsZWFzZUNhcHRydWUpO2VsbS5kZXRhY2hFdmVudCgib25sb3NlY2FwdHJ1ZSIscmVsZWFzZUNhcHRydWUpO2NhbGxiYWNrcy5vbmRyYWdzdG9wKCl9ZWxtLmF0dGFjaEV2ZW50KCJvbm1vdXNlbW92ZSIsaGFuZGxlTW91c2VNb3ZlKTtlbG0uYXR0YWNoRXZlbnQoIm9ubW91c2V1cCIscmVsZWFzZUNhcHRydWUpO2VsbS5hdHRhY2hFdmVudCgib25sb3NlY2FwdHJ1ZSIscmVsZWFzZUNhcHRydWUpO2V2dC5yZXR1cm5WYWx1ZT1mYWxzZX1jYWxsYmFja3Mub25kcmFnc3RhcnQoKX0sZ2V0Rml4ZWRMYXllcjpmdW5jdGlvbigpe3ZhciBsYXllcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWR1aV9maXhlZGxheWVyIik7aWYobGF5ZXI9PW51bGwpe2xheWVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2xheWVyLmlkPSJlZHVpX2ZpeGVkbGF5ZXIiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGF5ZXIpO2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw9OCl7bGF5ZXIuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtiaW5kRml4ZWRMYXllcigpO3NldFRpbWVvdXQodXBkYXRlRml4ZWRPZmZzZXQpfWVsc2V7bGF5ZXIuc3R5bGUucG9zaXRpb249ImZpeGVkIn1sYXllci5zdHlsZS5sZWZ0PSIwIjtsYXllci5zdHlsZS50b3A9IjAiO2xheWVyLnN0eWxlLndpZHRoPSIwIjtsYXllci5zdHlsZS5oZWlnaHQ9IjAifXJldHVybiBsYXllcn0sbWFrZVVuc2VsZWN0YWJsZTpmdW5jdGlvbihlbGVtZW50KXtpZihicm93c2VyLm9wZXJhfHwoYnJvd3Nlci5pZSYmYnJvd3Nlci52ZXJzaW9uPDkpKXtlbGVtZW50LnVuc2VsZWN0YWJsZT0ib24iO2lmKGVsZW1lbnQuaGFzQ2hpbGROb2RlcygpKXtmb3IodmFyIGk9MDtpPGVsZW1lbnQuY2hpbGROb2Rlcy5sZW5ndGg7aSsrKXtpZihlbGVtZW50LmNoaWxkTm9kZXNbaV0ubm9kZVR5cGU9PTEpe3VpVXRpbHMubWFrZVVuc2VsZWN0YWJsZShlbGVtZW50LmNoaWxkTm9kZXNbaV0pfX19fWVsc2V7aWYoZWxlbWVudC5zdHlsZS5Nb3pVc2VyU2VsZWN0IT09dW5kZWZpbmVkKXtlbGVtZW50LnN0eWxlLk1velVzZXJTZWxlY3Q9Im5vbmUifWVsc2V7aWYoZWxlbWVudC5zdHlsZS5XZWJraXRVc2VyU2VsZWN0IT09dW5kZWZpbmVkKXtlbGVtZW50LnN0eWxlLldlYmtpdFVzZXJTZWxlY3Q9Im5vbmUifWVsc2V7aWYoZWxlbWVudC5zdHlsZS5LaHRtbFVzZXJTZWxlY3QhPT11bmRlZmluZWQpe2VsZW1lbnQuc3R5bGUuS2h0bWxVc2VyU2VsZWN0PSJub25lIn19fX19fTtmdW5jdGlvbiB1cGRhdGVGaXhlZE9mZnNldCgpe3ZhciBsYXllcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZWR1aV9maXhlZGxheWVyIik7dWlVdGlscy5zZXRWaWV3cG9ydE9mZnNldChsYXllcix7bGVmdDowLHRvcDowfSl9ZnVuY3Rpb24gYmluZEZpeGVkTGF5ZXIoYWRqT2Zmc2V0KXtkb21VdGlscy5vbih3aW5kb3csInNjcm9sbCIsdXBkYXRlRml4ZWRPZmZzZXQpO2RvbVV0aWxzLm9uKHdpbmRvdywicmVzaXplIixiYWlkdS5lZGl0b3IudXRpbHMuZGVmZXIodXBkYXRlRml4ZWRPZmZzZXQsMCx0cnVlKSl9fSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsRXZlbnRCYXNlPWJhaWR1LmVkaXRvci5FdmVudEJhc2UsVUlCYXNlPWJhaWR1LmVkaXRvci51aS5VSUJhc2U9ZnVuY3Rpb24oKXt9O1VJQmFzZS5wcm90b3R5cGU9e2NsYXNzTmFtZToiIix1aU5hbWU6IiIsaW5pdE9wdGlvbnM6ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIG1lPXRoaXM7Zm9yKHZhciBrIGluIG9wdGlvbnMpe21lW2tdPW9wdGlvbnNba119dGhpcy5pZD10aGlzLmlkfHwiZWR1aSIrdWlVdGlscy51aWQoKX0saW5pdFVJQmFzZTpmdW5jdGlvbigpe3RoaXMuX2dsb2JhbEtleT11dGlscy51bmh0bWwodWlVdGlscy5zZXRHbG9iYWwodGhpcy5pZCx0aGlzKSl9LHJlbmRlcjpmdW5jdGlvbihob2xkZXIpe3ZhciBodG1sPXRoaXMucmVuZGVySHRtbCgpO3ZhciBlbD11aVV0aWxzLmNyZWF0ZUVsZW1lbnRCeUh0bWwoaHRtbCk7dmFyIGxpc3Q9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZWwsIioiKTt2YXIgdGhlbWU9ImVkdWktIisodGhpcy50aGVtZXx8dGhpcy5lZGl0b3Iub3B0aW9ucy50aGVtZSk7dmFyIGxheWVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlZHVpX2ZpeGVkbGF5ZXIiKTtmb3IodmFyIGk9MCxub2RlO25vZGU9bGlzdFtpKytdOyl7ZG9tVXRpbHMuYWRkQ2xhc3Mobm9kZSx0aGVtZSl9ZG9tVXRpbHMuYWRkQ2xhc3MoZWwsdGhlbWUpO2lmKGxheWVyKXtsYXllci5jbGFzc05hbWU9IiI7ZG9tVXRpbHMuYWRkQ2xhc3MobGF5ZXIsdGhlbWUpfXZhciBzZWF0RWw9dGhpcy5nZXREb20oKTtpZihzZWF0RWwhPW51bGwpe3NlYXRFbC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChlbCxzZWF0RWwpO3VpVXRpbHMuY29weUF0dHJpYnV0ZXMoZWwsc2VhdEVsKX1lbHNle2lmKHR5cGVvZiBob2xkZXI9PSJzdHJpbmciKXtob2xkZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaG9sZGVyKX1ob2xkZXI9aG9sZGVyfHx1aVV0aWxzLmdldEZpeGVkTGF5ZXIoKTtkb21VdGlscy5hZGRDbGFzcyhob2xkZXIsdGhlbWUpO2hvbGRlci5hcHBlbmRDaGlsZChlbCl9dGhpcy5wb3N0UmVuZGVyKCl9LGdldERvbTpmdW5jdGlvbihuYW1lKXtpZighbmFtZSl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpfWVsc2V7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQrIl8iK25hbWUpfX0scG9zdFJlbmRlcjpmdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KCJwb3N0cmVuZGVyIil9LGdldEh0bWxUcGw6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sZm9ybWF0SHRtbDpmdW5jdGlvbih0cGwpe3ZhciBwcmVmaXg9ImVkdWktIit0aGlzLnVpTmFtZTtyZXR1cm4odHBsLnJlcGxhY2UoLyMjL2csdGhpcy5pZCkucmVwbGFjZSgvJSUtL2csdGhpcy51aU5hbWU/cHJlZml4KyItIjoiIikucmVwbGFjZSgvJSUvZywodGhpcy51aU5hbWU/cHJlZml4OiIiKSsiICIrdGhpcy5jbGFzc05hbWUpLnJlcGxhY2UoL1wkXCQvZyx0aGlzLl9nbG9iYWxLZXkpKX0scmVuZGVySHRtbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm1hdEh0bWwodGhpcy5nZXRIdG1sVHBsKCkpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dmFyIGJveD10aGlzLmdldERvbSgpO2lmKGJveCl7YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscy5yZW1vdmUoYm94KX11aVV0aWxzLnVuc2V0R2xvYmFsKHRoaXMuaWQpfX07dXRpbHMuaW5oZXJpdHMoVUlCYXNlLEV2ZW50QmFzZSl9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHMsVUlCYXNlPWJhaWR1LmVkaXRvci51aS5VSUJhc2UsU2VwYXJhdG9yPWJhaWR1LmVkaXRvci51aS5TZXBhcmF0b3I9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRTZXBhcmF0b3IoKX07U2VwYXJhdG9yLnByb3RvdHlwZT17dWlOYW1lOiJzZXBhcmF0b3IiLGluaXRTZXBhcmF0b3I6ZnVuY3Rpb24oKXt0aGlzLmluaXRVSUJhc2UoKX0sZ2V0SHRtbFRwbDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktYm94ICUlIj48L2Rpdj4nfX07dXRpbHMuaW5oZXJpdHMoU2VwYXJhdG9yLFVJQmFzZSl9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHMsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyxVSUJhc2U9YmFpZHUuZWRpdG9yLnVpLlVJQmFzZSx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzO3ZhciBNYXNrPWJhaWR1LmVkaXRvci51aS5NYXNrPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0VUlCYXNlKCl9O01hc2sucHJvdG90eXBlPXtnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1tYXNrICUlIiBvbm1vdXNlZG93bj0icmV0dXJuICQkLl9vbk1vdXNlRG93bihldmVudCwgdGhpcyk7Ij48L2Rpdj4nfSxwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7ZG9tVXRpbHMub24od2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKCFtZS5pc0hpZGRlbigpKXttZS5fZmlsbCgpfX0pfSl9LHNob3c6ZnVuY3Rpb24oekluZGV4KXt0aGlzLl9maWxsKCk7dGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5PSIiO3RoaXMuZ2V0RG9tKCkuc3R5bGUuekluZGV4PXpJbmRleH0saGlkZTpmdW5jdGlvbigpe3RoaXMuZ2V0RG9tKCkuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5nZXREb20oKS5zdHlsZS56SW5kZXg9IiJ9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9tKCkuc3R5bGUuZGlzcGxheT09Im5vbmUifSxfb25Nb3VzZURvd246ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9LF9maWxsOmZ1bmN0aW9uKCl7dmFyIGVsPXRoaXMuZ2V0RG9tKCk7dmFyIHZwUmVjdD11aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpO2VsLnN0eWxlLndpZHRoPXZwUmVjdC53aWR0aCsicHgiO2VsLnN0eWxlLmhlaWdodD12cFJlY3QuaGVpZ2h0KyJweCJ9fTt1dGlscy5pbmhlcml0cyhNYXNrLFVJQmFzZSl9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHMsdWlVdGlscz1iYWlkdS5lZGl0b3IudWkudWlVdGlscyxkb21VdGlscz1iYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlLFBvcHVwPWJhaWR1LmVkaXRvci51aS5Qb3B1cD1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdFBvcHVwKCl9O3ZhciBhbGxQb3B1cHM9W107ZnVuY3Rpb24gY2xvc2VBbGxQb3B1cChldnQsZWwpe2Zvcih2YXIgaT0wO2k8YWxsUG9wdXBzLmxlbmd0aDtpKyspe3ZhciBwb3A9YWxsUG9wdXBzW2ldO2lmKCFwb3AuaXNIaWRkZW4oKSl7aWYocG9wLnF1ZXJ5QXV0b0hpZGUoZWwpIT09ZmFsc2Upe2lmKGV2dCYmL3Njcm9sbC9pZy50ZXN0KGV2dC50eXBlKSYmcG9wLmNsYXNzTmFtZT09ImVkdWktd29yZHBhc3RlcG9wIil7cmV0dXJufXBvcC5oaWRlKCl9fX1pZihhbGxQb3B1cHMubGVuZ3RoKXtwb3AuZWRpdG9yLmZpcmVFdmVudCgiYWZ0ZXJoaWRlcG9wIil9fVBvcHVwLnBvc3RIaWRlPWNsb3NlQWxsUG9wdXA7dmFyIEFOQ0hPUl9DTEFTU0VTPVsiZWR1aS1hbmNob3ItdG9wbGVmdCIsImVkdWktYW5jaG9yLXRvcHJpZ2h0IiwiZWR1aS1hbmNob3ItYm90dG9tbGVmdCIsImVkdWktYW5jaG9yLWJvdHRvbXJpZ2h0Il07UG9wdXAucHJvdG90eXBlPXtTSEFET1dfUkFESVVTOjUsY29udGVudDpudWxsLF9oaWRkZW46ZmFsc2UsYXV0b1JlbmRlcjp0cnVlLGNhblNpZGVMZWZ0OnRydWUsY2FuU2lkZVVwOnRydWUsaW5pdFBvcHVwOmZ1bmN0aW9uKCl7dGhpcy5pbml0VUlCYXNlKCk7YWxsUG9wdXBzLnB1c2godGhpcyl9LGdldEh0bWxUcGw6ZnVuY3Rpb24oKXtyZXR1cm4nPGRpdiBpZD0iIyMiIGNsYXNzPSJlZHVpLXBvcHVwICUlIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlOyI+IDxkaXYgaWQ9IiMjX2JvZHkiIGNsYXNzPSJlZHVpLXBvcHVwLWJvZHkiPiA8aWZyYW1lIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Oi0xO2xlZnQ6MDt0b3A6MDtiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsiIGZyYW1lYm9yZGVyPSIwIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBzcmM9ImFib3V0OmJsYW5rIj48L2lmcmFtZT4gPGRpdiBjbGFzcz0iZWR1aS1zaGFkb3ciPjwvZGl2PiA8ZGl2IGlkPSIjI19jb250ZW50IiBjbGFzcz0iZWR1aS1wb3B1cC1jb250ZW50Ij4nK3RoaXMuZ2V0Q29udGVudEh0bWxUcGwoKSsiICA8L2Rpdj4gPC9kaXY+PC9kaXY+In0sZ2V0Q29udGVudEh0bWxUcGw6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRlbnQpe2lmKHR5cGVvZiB0aGlzLmNvbnRlbnQ9PSJzdHJpbmciKXtyZXR1cm4gdGhpcy5jb250ZW50fXJldHVybiB0aGlzLmNvbnRlbnQucmVuZGVySHRtbCgpfWVsc2V7cmV0dXJuIiJ9fSxfVUlCYXNlX3Bvc3RSZW5kZXI6VUlCYXNlLnByb3RvdHlwZS5wb3N0UmVuZGVyLHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnRlbnQgaW5zdGFuY2VvZiBVSUJhc2Upe3RoaXMuY29udGVudC5wb3N0UmVuZGVyKCl9aWYodGhpcy5jYXB0dXJlV2hlZWwmJiF0aGlzLmNhcHR1cmVkKXt0aGlzLmNhcHR1cmVkPXRydWU7dmFyIHdpbkhlaWdodD0oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodHx8ZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQpLTgwLF9oZWlnaHQ9dGhpcy5nZXREb20oKS5vZmZzZXRIZWlnaHQsX3RvcD11aVV0aWxzLmdldENsaWVudFJlY3QodGhpcy5jb21ib3guZ2V0RG9tKCkpLnRvcCxjb250ZW50PXRoaXMuZ2V0RG9tKCJjb250ZW50IiksaWZyPXRoaXMuZ2V0RG9tKCJib2R5IikuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlmcmFtZSIpLG1lPXRoaXM7aWZyLmxlbmd0aCYmKGlmcj1pZnJbMF0pO3doaWxlKF90b3ArX2hlaWdodD53aW5IZWlnaHQpe19oZWlnaHQtPTMwO2NvbnRlbnQuc3R5bGUuaGVpZ2h0PV9oZWlnaHQrInB4IjtpZnImJihpZnIuc3R5bGUuaGVpZ2h0PV9oZWlnaHQrInB4Iil9aWYod2luZG93LlhNTEh0dHBSZXF1ZXN0KXtkb21VdGlscy5vbihjb250ZW50LCgib25tb3VzZXdoZWVsIiBpbiBkb2N1bWVudC5ib2R5KT8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIixmdW5jdGlvbihlKXtpZihlLnByZXZlbnREZWZhdWx0KXtlLnByZXZlbnREZWZhdWx0KCl9ZWxzZXtlLnJldHVyblZhbHVlPWZhbHNlfWlmKGUud2hlZWxEZWx0YSl7Y29udGVudC5zY3JvbGxUb3AtPShlLndoZWVsRGVsdGEvMTIwKSo2MH1lbHNle2NvbnRlbnQuc2Nyb2xsVG9wLT0oZS5kZXRhaWwvLTMpKjYwfX0pfWVsc2V7ZG9tVXRpbHMub24odGhpcy5nZXREb20oKSwibW91c2V3aGVlbCIsZnVuY3Rpb24oZSl7ZS5yZXR1cm5WYWx1ZT1mYWxzZTttZS5nZXREb20oImNvbnRlbnQiKS5zY3JvbGxUb3AtPShlLndoZWVsRGVsdGEvMTIwKSo2MH0pfX10aGlzLmZpcmVFdmVudCgicG9zdFJlbmRlckFmdGVyIik7dGhpcy5oaWRlKHRydWUpO3RoaXMuX1VJQmFzZV9wb3N0UmVuZGVyKCl9LF9kb0F1dG9SZW5kZXI6ZnVuY3Rpb24oKXtpZighdGhpcy5nZXREb20oKSYmdGhpcy5hdXRvUmVuZGVyKXt0aGlzLnJlbmRlcigpfX0sbWVzdXJlU2l6ZTpmdW5jdGlvbigpe3ZhciBib3g9dGhpcy5nZXREb20oImNvbnRlbnQiKTtyZXR1cm4gdWlVdGlscy5nZXRDbGllbnRSZWN0KGJveCl9LGZpdFNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLmNhcHR1cmVXaGVlbCYmdGhpcy5zaXplZCl7cmV0dXJuIHRoaXMuX19zaXplfXRoaXMuc2l6ZWQ9dHJ1ZTt2YXIgcG9wQm9keUVsPXRoaXMuZ2V0RG9tKCJib2R5Iik7cG9wQm9keUVsLnN0eWxlLndpZHRoPSIiO3BvcEJvZHlFbC5zdHlsZS5oZWlnaHQ9IiI7dmFyIHNpemU9dGhpcy5tZXN1cmVTaXplKCk7aWYodGhpcy5jYXB0dXJlV2hlZWwpe3BvcEJvZHlFbC5zdHlsZS53aWR0aD0tKC0yMC1zaXplLndpZHRoKSsicHgiO3ZhciBoZWlnaHQ9cGFyc2VJbnQodGhpcy5nZXREb20oImNvbnRlbnQiKS5zdHlsZS5oZWlnaHQsMTApOyF3aW5kb3cuaXNOYU4oaGVpZ2h0KSYmKHNpemUuaGVpZ2h0PWhlaWdodCl9ZWxzZXtwb3BCb2R5RWwuc3R5bGUud2lkdGg9c2l6ZS53aWR0aCsicHgifXBvcEJvZHlFbC5zdHlsZS5oZWlnaHQ9c2l6ZS5oZWlnaHQrInB4Ijt0aGlzLl9fc2l6ZT1zaXplO3RoaXMuY2FwdHVyZVdoZWVsJiYodGhpcy5nZXREb20oImNvbnRlbnQiKS5zdHlsZS5vdmVyZmxvdz0iYXV0byIpO3JldHVybiBzaXplfSxzaG93QW5jaG9yOmZ1bmN0aW9uKGVsZW1lbnQsaG96KXt0aGlzLnNob3dBbmNob3JSZWN0KHVpVXRpbHMuZ2V0Q2xpZW50UmVjdChlbGVtZW50KSxob3opfSxzaG93QW5jaG9yUmVjdDpmdW5jdGlvbihyZWN0LGhveixhZGope3RoaXMuX2RvQXV0b1JlbmRlcigpO3ZhciB2cFJlY3Q9dWlVdGlscy5nZXRWaWV3cG9ydFJlY3QoKTt0aGlzLl9zaG93KCk7dmFyIHBvcFNpemU9dGhpcy5maXRTaXplKCk7dmFyIHNpZGVMZWZ0LHNpZGVVcCxsZWZ0LHRvcDtpZihob3ope3NpZGVMZWZ0PXRoaXMuY2FuU2lkZUxlZnQmJihyZWN0LnJpZ2h0K3BvcFNpemUud2lkdGg+dnBSZWN0LnJpZ2h0JiZyZWN0LmxlZnQ+cG9wU2l6ZS53aWR0aCk7c2lkZVVwPXRoaXMuY2FuU2lkZVVwJiYocmVjdC50b3ArcG9wU2l6ZS5oZWlnaHQ+dnBSZWN0LmJvdHRvbSYmcmVjdC5ib3R0b20+cG9wU2l6ZS5oZWlnaHQpO2xlZnQ9KHNpZGVMZWZ0P3JlY3QubGVmdC1wb3BTaXplLndpZHRoOnJlY3QucmlnaHQpO3RvcD0oc2lkZVVwP3JlY3QuYm90dG9tLXBvcFNpemUuaGVpZ2h0OnJlY3QudG9wKX1lbHNle3NpZGVMZWZ0PXRoaXMuY2FuU2lkZUxlZnQmJihyZWN0LnJpZ2h0K3BvcFNpemUud2lkdGg+dnBSZWN0LnJpZ2h0JiZyZWN0LmxlZnQ+cG9wU2l6ZS53aWR0aCk7c2lkZVVwPXRoaXMuY2FuU2lkZVVwJiYocmVjdC50b3ArcG9wU2l6ZS5oZWlnaHQ+dnBSZWN0LmJvdHRvbSYmcmVjdC5ib3R0b20+cG9wU2l6ZS5oZWlnaHQpO2xlZnQ9KHNpZGVMZWZ0P3JlY3QucmlnaHQtcG9wU2l6ZS53aWR0aDpyZWN0LmxlZnQpO3RvcD0oc2lkZVVwP3JlY3QudG9wLXBvcFNpemUuaGVpZ2h0OnJlY3QuYm90dG9tKX12YXIgcG9wRWw9dGhpcy5nZXREb20oKTt1aVV0aWxzLnNldFZpZXdwb3J0T2Zmc2V0KHBvcEVsLHtsZWZ0OmxlZnQsdG9wOnRvcH0pO2RvbVV0aWxzLnJlbW92ZUNsYXNzZXMocG9wRWwsQU5DSE9SX0NMQVNTRVMpO3BvcEVsLmNsYXNzTmFtZSs9IiAiK0FOQ0hPUl9DTEFTU0VTWyhzaWRlVXA/MTowKSoyKyhzaWRlTGVmdD8xOjApXTtpZih0aGlzLmVkaXRvcil7cG9wRWwuc3R5bGUuekluZGV4PXRoaXMuZWRpdG9yLmNvbnRhaW5lci5zdHlsZS56SW5kZXgqMSsxMDtiYWlkdS5lZGl0b3IudWkudWlVdGlscy5nZXRGaXhlZExheWVyKCkuc3R5bGUuekluZGV4PXBvcEVsLnN0eWxlLnpJbmRleC0xfX0sc2hvd0F0OmZ1bmN0aW9uKG9mZnNldCl7dmFyIGxlZnQ9b2Zmc2V0LmxlZnQ7dmFyIHRvcD1vZmZzZXQudG9wO3ZhciByZWN0PXtsZWZ0OmxlZnQsdG9wOnRvcCxyaWdodDpsZWZ0LGJvdHRvbTp0b3AsaGVpZ2h0OjAsd2lkdGg6MH07dGhpcy5zaG93QW5jaG9yUmVjdChyZWN0LGZhbHNlLHRydWUpfSxfc2hvdzpmdW5jdGlvbigpe2lmKHRoaXMuX2hpZGRlbil7dmFyIGJveD10aGlzLmdldERvbSgpO2JveC5zdHlsZS5kaXNwbGF5PSIiO3RoaXMuX2hpZGRlbj1mYWxzZTt0aGlzLmZpcmVFdmVudCgic2hvdyIpfX0saXNIaWRkZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlkZGVufSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5fZG9BdXRvUmVuZGVyKCk7dGhpcy5fc2hvdygpfSxoaWRlOmZ1bmN0aW9uKG5vdE5vZml0eSl7aWYoIXRoaXMuX2hpZGRlbiYmdGhpcy5nZXREb20oKSl7dGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5PSJub25lIjt0aGlzLl9oaWRkZW49dHJ1ZTtpZighbm90Tm9maXR5KXt0aGlzLmZpcmVFdmVudCgiaGlkZSIpfX19LHF1ZXJ5QXV0b0hpZGU6ZnVuY3Rpb24oZWwpe3JldHVybiAhZWx8fCF1aVV0aWxzLmNvbnRhaW5zKHRoaXMuZ2V0RG9tKCksZWwpfX07dXRpbHMuaW5oZXJpdHMoUG9wdXAsVUlCYXNlKTtkb21VdGlscy5vbihkb2N1bWVudCwibW91c2Vkb3duIixmdW5jdGlvbihldnQpe3ZhciBlbD1ldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudDtjbG9zZUFsbFBvcHVwKGV2dCxlbCl9KTtkb21VdGlscy5vbih3aW5kb3csInNjcm9sbCIsZnVuY3Rpb24oZXZ0LGVsKXtjbG9zZUFsbFBvcHVwKGV2dCxlbCl9KX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyxVSUJhc2U9YmFpZHUuZWRpdG9yLnVpLlVJQmFzZSxDb2xvclBpY2tlcj1iYWlkdS5lZGl0b3IudWkuQ29sb3JQaWNrZXI9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLm5vQ29sb3JUZXh0PXRoaXMubm9Db2xvclRleHR8fHRoaXMuZWRpdG9yLmdldExhbmcoImNsZWFyQ29sb3IiKTt0aGlzLmluaXRVSUJhc2UoKX07Q29sb3JQaWNrZXIucHJvdG90eXBlPXtnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7cmV0dXJuIGdlbkNvbG9yUGlja2VyKHRoaXMubm9Db2xvclRleHQsdGhpcy5lZGl0b3IpfSxfb25UYWJsZUNsaWNrOmZ1bmN0aW9uKGV2dCl7dmFyIHRndD1ldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudDt2YXIgY29sb3I9dGd0LmdldEF0dHJpYnV0ZSgiZGF0YS1jb2xvciIpO2lmKGNvbG9yKXt0aGlzLmZpcmVFdmVudCgicGlja2NvbG9yIixjb2xvcil9fSxfb25UYWJsZU92ZXI6ZnVuY3Rpb24oZXZ0KXt2YXIgdGd0PWV2dC50YXJnZXR8fGV2dC5zcmNFbGVtZW50O3ZhciBjb2xvcj10Z3QuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbG9yIik7aWYoY29sb3Ipe3RoaXMuZ2V0RG9tKCJwcmV2aWV3Iikuc3R5bGUuYmFja2dyb3VuZENvbG9yPWNvbG9yfX0sX29uVGFibGVPdXQ6ZnVuY3Rpb24oKXt0aGlzLmdldERvbSgicHJldmlldyIpLnN0eWxlLmJhY2tncm91bmRDb2xvcj0iIn0sX29uUGlja05vQ29sb3I6ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudCgicGlja25vY29sb3IiKX19O3V0aWxzLmluaGVyaXRzKENvbG9yUGlja2VyLFVJQmFzZSk7dmFyIENPTE9SUz0oImZmZmZmZiwwMDAwMDAsZWVlY2UxLDFmNDk3ZCw0ZjgxYmQsYzA1MDRkLDliYmI1OSw4MDY0YTIsNGJhY2M2LGY3OTY0NixmMmYyZjIsN2Y3ZjdmLGRkZDljMyxjNmQ5ZjAsZGJlNWYxLGYyZGNkYixlYmYxZGQsZTVlMGVjLGRiZWVmMyxmZGVhZGEsZDhkOGQ4LDU5NTk1OSxjNGJkOTcsOGRiM2UyLGI4Y2NlNCxlNWI5YjcsZDdlM2JjLGNjYzFkOSxiN2RkZTgsZmJkNWI1LGJmYmZiZiwzZjNmM2YsOTM4OTUzLDU0OGRkNCw5NWIzZDcsZDk5Njk0LGMzZDY5YixiMmEyYzcsOTJjZGRjLGZhYzA4ZixhNWE1YTUsMjYyNjI2LDQ5NDQyOSwxNzM2NWQsMzY2MDkyLDk1MzczNCw3NjkyM2MsNWY0OTdhLDMxODU5YixlMzZjMDksN2Y3ZjdmLDBjMGMwYywxZDFiMTAsMGYyNDNlLDI0NDA2MSw2MzI0MjMsNGY2MTI4LDNmMzE1MSwyMDU4NjcsOTc0ODA2LGMwMDAwMCxmZjAwMDAsZmZjMDAwLGZmZmYwMCw5MmQwNTAsMDBiMDUwLDAwYjBmMCwwMDcwYzAsMDAyMDYwLDcwMzBhMCwiKS5zcGxpdCgiLCIpO2Z1bmN0aW9uIGdlbkNvbG9yUGlja2VyKG5vQ29sb3JUZXh0LGVkaXRvcil7dmFyIGh0bWw9JzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlciAlJSI+PGRpdiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlci10b3BiYXIgZWR1aS1jbGVhcmZpeCI+PGRpdiB1bnNlbGVjdGFibGU9Im9uIiBpZD0iIyNfcHJldmlldyIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItcHJldmlldyI+PC9kaXY+PGRpdiB1bnNlbGVjdGFibGU9Im9uIiBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlci1ub2NvbG9yIiBvbmNsaWNrPSIkJC5fb25QaWNrTm9Db2xvcihldmVudCwgdGhpcyk7Ij4nK25vQ29sb3JUZXh0Kyc8L2Rpdj48L2Rpdj48dGFibGUgIGNsYXNzPSJlZHVpLWJveCIgc3R5bGU9ImJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IiBvbm1vdXNlb3Zlcj0iJCQuX29uVGFibGVPdmVyKGV2ZW50LCB0aGlzKTsiIG9ubW91c2VvdXQ9IiQkLl9vblRhYmxlT3V0KGV2ZW50LCB0aGlzKTsiIG9uY2xpY2s9InJldHVybiAkJC5fb25UYWJsZUNsaWNrKGV2ZW50LCB0aGlzKTsiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCI+PHRyIHN0eWxlPSJib3JkZXItYm90dG9tOiAxcHggc29saWQgI2RkZDtmb250LXNpemU6IDEzcHg7bGluZS1oZWlnaHQ6IDI1cHg7Y29sb3I6IzM5QztwYWRkaW5nLXRvcDogMnB4Ij48dGQgY29sc3Bhbj0iMTAiPicrZWRpdG9yLmdldExhbmcoInRoZW1lQ29sb3IiKSsnPC90ZD4gPC90cj48dHIgY2xhc3M9ImVkdWktY29sb3JwaWNrZXItdGFibGVmaXJzdHJvdyIgPic7Zm9yKHZhciBpPTA7aTxDT0xPUlMubGVuZ3RoO2krKyl7aWYoaSYmaSUxMD09PTApe2h0bWwrPSI8L3RyPiIrKGk9PTYwPyc8dHIgc3R5bGU9ImJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO2ZvbnQtc2l6ZTogMTNweDtsaW5lLWhlaWdodDogMjVweDtjb2xvcjojMzlDOyI+PHRkIGNvbHNwYW49IjEwIj4nK2VkaXRvci5nZXRMYW5nKCJzdGFuZGFyZENvbG9yIikrIjwvdGQ+PC90cj4iOiIiKSsiPHRyIisoaT09NjA/JyBjbGFzcz0iZWR1aS1jb2xvcnBpY2tlci10YWJsZWZpcnN0cm93Iic6IiIpKyI+In1odG1sKz1pPDcwPyc8dGQgc3R5bGU9InBhZGRpbmc6IDAgMnB4OyI+PGEgaGlkZWZvY3VzIHRpdGxlPSInK0NPTE9SU1tpXSsnIiBvbmNsaWNrPSJyZXR1cm4gZmFsc2U7IiBocmVmPSJqYXZhc2NyaXB0OiIgdW5zZWxlY3RhYmxlPSJvbiIgY2xhc3M9ImVkdWktYm94IGVkdWktY29sb3JwaWNrZXItY29sb3JjZWxsIiBkYXRhLWNvbG9yPSIjJytDT0xPUlNbaV0rJyIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6IycrQ09MT1JTW2ldKyI7Ym9yZGVyOnNvbGlkICNjY2M7IisoaTwxMHx8aT49NjA/ImJvcmRlci13aWR0aDoxcHg7IjppPj0xMCYmaTwyMD8iYm9yZGVyLXdpZHRoOjFweCAxcHggMCAxcHg7IjoiYm9yZGVyLXdpZHRoOjAgMXB4IDAgMXB4OyIpKyciPjwvYT48L3RkPic6IiJ9aHRtbCs9IjwvdHI+PC90YWJsZT48L2Rpdj4iO3JldHVybiBodG1sfX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlO3ZhciBUYWJsZVBpY2tlcj1iYWlkdS5lZGl0b3IudWkuVGFibGVQaWNrZXI9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRUYWJsZVBpY2tlcigpfTtUYWJsZVBpY2tlci5wcm90b3R5cGU9e2RlZmF1bHROdW1Sb3dzOjEwLGRlZmF1bHROdW1Db2xzOjEwLG1heE51bVJvd3M6MjAsbWF4TnVtQ29sczoyMCxudW1Sb3dzOjEwLG51bUNvbHM6MTAsbGVuZ3RoT2ZDZWxsU2lkZToyMixpbml0VGFibGVQaWNrZXI6ZnVuY3Rpb24oKXt0aGlzLmluaXRVSUJhc2UoKX0sZ2V0SHRtbFRwbDpmdW5jdGlvbigpe3ZhciBtZT10aGlzO3JldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktdGFibGVwaWNrZXIgJSUiPjxkaXYgY2xhc3M9ImVkdWktdGFibGVwaWNrZXItYm9keSI+PGRpdiBjbGFzcz0iZWR1aS1pbmZvYXJlYSI+PHNwYW4gaWQ9IiMjX2xhYmVsIiBjbGFzcz0iZWR1aS1sYWJlbCI+PC9zcGFuPjwvZGl2PjxkaXYgY2xhc3M9ImVkdWktcGlja2FyZWEiIG9ubW91c2Vtb3ZlPSIkJC5fb25Nb3VzZU1vdmUoZXZlbnQsIHRoaXMpOyIgb25tb3VzZW92ZXI9IiQkLl9vbk1vdXNlT3ZlcihldmVudCwgdGhpcyk7IiBvbm1vdXNlb3V0PSIkJC5fb25Nb3VzZU91dChldmVudCwgdGhpcyk7IiBvbmNsaWNrPSIkJC5fb25DbGljayhldmVudCwgdGhpcyk7Ij48ZGl2IGlkPSIjI19vdmVybGF5IiBjbGFzcz0iZWR1aS1vdmVybGF5Ij48L2Rpdj48L2Rpdj48L2Rpdj48L2Rpdj4nfSxfVUlCYXNlX3JlbmRlcjpVSUJhc2UucHJvdG90eXBlLnJlbmRlcixyZW5kZXI6ZnVuY3Rpb24oaG9sZGVyKXt0aGlzLl9VSUJhc2VfcmVuZGVyKGhvbGRlcik7dGhpcy5nZXREb20oImxhYmVsIikuaW5uZXJIVE1MPSIwIit0aGlzLmVkaXRvci5nZXRMYW5nKCJ0X3JvdyIpKyIgeCAwIit0aGlzLmVkaXRvci5nZXRMYW5nKCJ0X2NvbCIpfSxfdHJhY2s6ZnVuY3Rpb24obnVtQ29scyxudW1Sb3dzKXt2YXIgc3R5bGU9dGhpcy5nZXREb20oIm92ZXJsYXkiKS5zdHlsZTt2YXIgc2lkZUxlbj10aGlzLmxlbmd0aE9mQ2VsbFNpZGU7c3R5bGUud2lkdGg9bnVtQ29scypzaWRlTGVuKyJweCI7c3R5bGUuaGVpZ2h0PW51bVJvd3Mqc2lkZUxlbisicHgiO3ZhciBsYWJlbD10aGlzLmdldERvbSgibGFiZWwiKTtsYWJlbC5pbm5lckhUTUw9bnVtQ29scyt0aGlzLmVkaXRvci5nZXRMYW5nKCJ0X2NvbCIpKyIgeCAiK251bVJvd3MrdGhpcy5lZGl0b3IuZ2V0TGFuZygidF9yb3ciKTt0aGlzLm51bUNvbHM9bnVtQ29sczt0aGlzLm51bVJvd3M9bnVtUm93c30sX29uTW91c2VPdmVyOmZ1bmN0aW9uKGV2dCxlbCl7dmFyIHJlbD1ldnQucmVsYXRlZFRhcmdldHx8ZXZ0LmZyb21FbGVtZW50O2lmKCF1aVV0aWxzLmNvbnRhaW5zKGVsLHJlbCkmJmVsIT09cmVsKXt0aGlzLmdldERvbSgibGFiZWwiKS5pbm5lckhUTUw9IjAiK3RoaXMuZWRpdG9yLmdldExhbmcoInRfY29sIikrIiB4IDAiK3RoaXMuZWRpdG9yLmdldExhbmcoInRfcm93Iik7dGhpcy5nZXREb20oIm92ZXJsYXkiKS5zdHlsZS52aXNpYmlsaXR5PSIifX0sX29uTW91c2VPdXQ6ZnVuY3Rpb24oZXZ0LGVsKXt2YXIgcmVsPWV2dC5yZWxhdGVkVGFyZ2V0fHxldnQudG9FbGVtZW50O2lmKCF1aVV0aWxzLmNvbnRhaW5zKGVsLHJlbCkmJmVsIT09cmVsKXt0aGlzLmdldERvbSgibGFiZWwiKS5pbm5lckhUTUw9IjAiK3RoaXMuZWRpdG9yLmdldExhbmcoInRfY29sIikrIiB4IDAiK3RoaXMuZWRpdG9yLmdldExhbmcoInRfcm93Iik7dGhpcy5nZXREb20oIm92ZXJsYXkiKS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4ifX0sX29uTW91c2VNb3ZlOmZ1bmN0aW9uKGV2dCxlbCl7dmFyIHN0eWxlPXRoaXMuZ2V0RG9tKCJvdmVybGF5Iikuc3R5bGU7dmFyIG9mZnNldD11aVV0aWxzLmdldEV2ZW50T2Zmc2V0KGV2dCk7dmFyIHNpZGVMZW49dGhpcy5sZW5ndGhPZkNlbGxTaWRlO3ZhciBudW1Db2xzPU1hdGguY2VpbChvZmZzZXQubGVmdC9zaWRlTGVuKTt2YXIgbnVtUm93cz1NYXRoLmNlaWwob2Zmc2V0LnRvcC9zaWRlTGVuKTt0aGlzLl90cmFjayhudW1Db2xzLG51bVJvd3MpfSxfb25DbGljazpmdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KCJwaWNrdGFibGUiLHRoaXMubnVtQ29scyx0aGlzLm51bVJvd3MpfX07dXRpbHMuaW5oZXJpdHMoVGFibGVQaWNrZXIsVUlCYXNlKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIGJyb3dzZXI9YmFpZHUuZWRpdG9yLmJyb3dzZXIsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzO3ZhciBUUExfU1RBVEVGVUw9J29ubW91c2Vkb3duPSIkJC5TdGF0ZWZ1bF9vbk1vdXNlRG93bihldmVudCwgdGhpcyk7IiBvbm1vdXNldXA9IiQkLlN0YXRlZnVsX29uTW91c2VVcChldmVudCwgdGhpcyk7IicrKGJyb3dzZXIuaWU/KCcgb25tb3VzZWVudGVyPSIkJC5TdGF0ZWZ1bF9vbk1vdXNlRW50ZXIoZXZlbnQsIHRoaXMpOyIgb25tb3VzZWxlYXZlPSIkJC5TdGF0ZWZ1bF9vbk1vdXNlTGVhdmUoZXZlbnQsIHRoaXMpOyInKTooJyBvbm1vdXNlb3Zlcj0iJCQuU3RhdGVmdWxfb25Nb3VzZU92ZXIoZXZlbnQsIHRoaXMpOyIgb25tb3VzZW91dD0iJCQuU3RhdGVmdWxfb25Nb3VzZU91dChldmVudCwgdGhpcyk7IicpKTtiYWlkdS5lZGl0b3IudWkuU3RhdGVmdWw9e2Fsd2FseXNIb3ZlcmFibGU6ZmFsc2UsdGFyZ2V0Om51bGwsU3RhdGVmdWxfaW5pdDpmdW5jdGlvbigpe3RoaXMuX1N0YXRlZnVsX2RHZXRIdG1sVHBsPXRoaXMuZ2V0SHRtbFRwbDt0aGlzLmdldEh0bWxUcGw9dGhpcy5TdGF0ZWZ1bF9nZXRIdG1sVHBsfSxTdGF0ZWZ1bF9nZXRIdG1sVHBsOmZ1bmN0aW9uKCl7dmFyIHRwbD10aGlzLl9TdGF0ZWZ1bF9kR2V0SHRtbFRwbCgpO3JldHVybiB0cGwucmVwbGFjZSgvc3RhdGVmdWwvZyxmdW5jdGlvbigpe3JldHVybiBUUExfU1RBVEVGVUx9KX0sU3RhdGVmdWxfb25Nb3VzZUVudGVyOmZ1bmN0aW9uKGV2dCxlbCl7dGhpcy50YXJnZXQ9ZWw7aWYoIXRoaXMuaXNEaXNhYmxlZCgpfHx0aGlzLmFsd2FseXNIb3ZlcmFibGUpe3RoaXMuYWRkU3RhdGUoImhvdmVyIik7dGhpcy5maXJlRXZlbnQoIm92ZXIiKX19LFN0YXRlZnVsX29uTW91c2VMZWF2ZTpmdW5jdGlvbihldnQsZWwpe2lmKCF0aGlzLmlzRGlzYWJsZWQoKXx8dGhpcy5hbHdhbHlzSG92ZXJhYmxlKXt0aGlzLnJlbW92ZVN0YXRlKCJob3ZlciIpO3RoaXMucmVtb3ZlU3RhdGUoImFjdGl2ZSIpO3RoaXMuZmlyZUV2ZW50KCJvdXQiKX19LFN0YXRlZnVsX29uTW91c2VPdmVyOmZ1bmN0aW9uKGV2dCxlbCl7dmFyIHJlbD1ldnQucmVsYXRlZFRhcmdldDtpZighdWlVdGlscy5jb250YWlucyhlbCxyZWwpJiZlbCE9PXJlbCl7dGhpcy5TdGF0ZWZ1bF9vbk1vdXNlRW50ZXIoZXZ0LGVsKX19LFN0YXRlZnVsX29uTW91c2VPdXQ6ZnVuY3Rpb24oZXZ0LGVsKXt2YXIgcmVsPWV2dC5yZWxhdGVkVGFyZ2V0O2lmKCF1aVV0aWxzLmNvbnRhaW5zKGVsLHJlbCkmJmVsIT09cmVsKXt0aGlzLlN0YXRlZnVsX29uTW91c2VMZWF2ZShldnQsZWwpfX0sU3RhdGVmdWxfb25Nb3VzZURvd246ZnVuY3Rpb24oZXZ0LGVsKXtpZighdGhpcy5pc0Rpc2FibGVkKCkpe3RoaXMuYWRkU3RhdGUoImFjdGl2ZSIpfX0sU3RhdGVmdWxfb25Nb3VzZVVwOmZ1bmN0aW9uKGV2dCxlbCl7aWYoIXRoaXMuaXNEaXNhYmxlZCgpKXt0aGlzLnJlbW92ZVN0YXRlKCJhY3RpdmUiKX19LFN0YXRlZnVsX3Bvc3RSZW5kZXI6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVkJiYhdGhpcy5oYXNTdGF0ZSgiZGlzYWJsZWQiKSl7dGhpcy5hZGRTdGF0ZSgiZGlzYWJsZWQiKX19LGhhc1N0YXRlOmZ1bmN0aW9uKHN0YXRlKXtyZXR1cm4gZG9tVXRpbHMuaGFzQ2xhc3ModGhpcy5nZXRTdGF0ZURvbSgpLCJlZHVpLXN0YXRlLSIrc3RhdGUpfSxhZGRTdGF0ZTpmdW5jdGlvbihzdGF0ZSl7aWYoIXRoaXMuaGFzU3RhdGUoc3RhdGUpKXt0aGlzLmdldFN0YXRlRG9tKCkuY2xhc3NOYW1lKz0iIGVkdWktc3RhdGUtIitzdGF0ZX19LHJlbW92ZVN0YXRlOmZ1bmN0aW9uKHN0YXRlKXtpZih0aGlzLmhhc1N0YXRlKHN0YXRlKSl7ZG9tVXRpbHMucmVtb3ZlQ2xhc3Nlcyh0aGlzLmdldFN0YXRlRG9tKCksWyJlZHVpLXN0YXRlLSIrc3RhdGVdKX19LGdldFN0YXRlRG9tOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9tKCJzdGF0ZSIpfSxpc0NoZWNrZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNTdGF0ZSgiY2hlY2tlZCIpfSxzZXRDaGVja2VkOmZ1bmN0aW9uKGNoZWNrZWQpe2lmKCF0aGlzLmlzRGlzYWJsZWQoKSYmY2hlY2tlZCl7dGhpcy5hZGRTdGF0ZSgiY2hlY2tlZCIpfWVsc2V7dGhpcy5yZW1vdmVTdGF0ZSgiY2hlY2tlZCIpfX0saXNEaXNhYmxlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc1N0YXRlKCJkaXNhYmxlZCIpfSxzZXREaXNhYmxlZDpmdW5jdGlvbihkaXNhYmxlZCl7aWYoZGlzYWJsZWQpe3RoaXMucmVtb3ZlU3RhdGUoImhvdmVyIik7dGhpcy5yZW1vdmVTdGF0ZSgiY2hlY2tlZCIpO3RoaXMucmVtb3ZlU3RhdGUoImFjdGl2ZSIpO3RoaXMuYWRkU3RhdGUoImRpc2FibGVkIil9ZWxzZXt0aGlzLnJlbW92ZVN0YXRlKCJkaXNhYmxlZCIpfX19fSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlLFN0YXRlZnVsPWJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCxCdXR0b249YmFpZHUuZWRpdG9yLnVpLkJ1dHRvbj1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdEJ1dHRvbigpfTtCdXR0b24ucHJvdG90eXBlPXt1aU5hbWU6ImJ1dHRvbiIsbGFiZWw6IiIsdGl0bGU6IiIsc2hvd0ljb246dHJ1ZSxzaG93VGV4dDp0cnVlLGluaXRCdXR0b246ZnVuY3Rpb24oKXt0aGlzLmluaXRVSUJhc2UoKTt0aGlzLlN0YXRlZnVsX2luaXQoKX0sZ2V0SHRtbFRwbDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9ImVkdWktYm94ICUlIj48ZGl2IGlkPSIjI19zdGF0ZSIgc3RhdGVmdWw+PGRpdiBjbGFzcz0iJSUtd3JhcCI+PGRpdiBpZD0iIyNfYm9keSIgdW5zZWxlY3RhYmxlPSJvbiIgJysodGhpcy50aXRsZT8ndGl0bGU9IicrdGhpcy50aXRsZSsnIic6IiIpKycgY2xhc3M9IiUlLWJvZHkiIG9ubW91c2Vkb3duPSJyZXR1cm4gZmFsc2U7IiBvbmNsaWNrPSJyZXR1cm4gJCQuX29uQ2xpY2soKTsiPicrKHRoaXMuc2hvd0ljb24/JzxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktaWNvbiI+PC9kaXY+JzoiIikrKHRoaXMuc2hvd1RleHQ/JzxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktbGFiZWwiPicrdGhpcy5sYWJlbCsiPC9kaXY+IjoiIikrIjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PiJ9LHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLlN0YXRlZnVsX3Bvc3RSZW5kZXIoKTt0aGlzLnNldERpc2FibGVkKHRoaXMuZGlzYWJsZWQpfSxfb25DbGljazpmdW5jdGlvbigpe2lmKCF0aGlzLmlzRGlzYWJsZWQoKSl7dGhpcy5maXJlRXZlbnQoImNsaWNrIil9fX07dXRpbHMuaW5oZXJpdHMoQnV0dG9uLFVJQmFzZSk7dXRpbHMuZXh0ZW5kKEJ1dHRvbi5wcm90b3R5cGUsU3RhdGVmdWwpfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyxVSUJhc2U9YmFpZHUuZWRpdG9yLnVpLlVJQmFzZSxTdGF0ZWZ1bD1iYWlkdS5lZGl0b3IudWkuU3RhdGVmdWwsU3BsaXRCdXR0b249YmFpZHUuZWRpdG9yLnVpLlNwbGl0QnV0dG9uPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0U3BsaXRCdXR0b24oKX07U3BsaXRCdXR0b24ucHJvdG90eXBlPXtwb3B1cDpudWxsLHVpTmFtZToic3BsaXRidXR0b24iLHRpdGxlOiIiLGluaXRTcGxpdEJ1dHRvbjpmdW5jdGlvbigpe3RoaXMuaW5pdFVJQmFzZSgpO3RoaXMuU3RhdGVmdWxfaW5pdCgpO3ZhciBtZT10aGlzO2lmKHRoaXMucG9wdXAhPW51bGwpe3ZhciBwb3B1cD10aGlzLnBvcHVwO3RoaXMucG9wdXA9bnVsbDt0aGlzLnNldFBvcHVwKHBvcHVwKX19LF9VSUJhc2VfcG9zdFJlbmRlcjpVSUJhc2UucHJvdG90eXBlLnBvc3RSZW5kZXIscG9zdFJlbmRlcjpmdW5jdGlvbigpe3RoaXMuU3RhdGVmdWxfcG9zdFJlbmRlcigpO3RoaXMuX1VJQmFzZV9wb3N0UmVuZGVyKCl9LHNldFBvcHVwOmZ1bmN0aW9uKHBvcHVwKXtpZih0aGlzLnBvcHVwPT09cG9wdXApe3JldHVybn1pZih0aGlzLnBvcHVwIT1udWxsKXt0aGlzLnBvcHVwLmRpc3Bvc2UoKX1wb3B1cC5hZGRMaXN0ZW5lcigic2hvdyIsdXRpbHMuYmluZCh0aGlzLl9vblBvcHVwU2hvdyx0aGlzKSk7cG9wdXAuYWRkTGlzdGVuZXIoImhpZGUiLHV0aWxzLmJpbmQodGhpcy5fb25Qb3B1cEhpZGUsdGhpcykpO3BvcHVwLmFkZExpc3RlbmVyKCJwb3N0cmVuZGVyIix1dGlscy5iaW5kKGZ1bmN0aW9uKCl7cG9wdXAuZ2V0RG9tKCJib2R5IikuYXBwZW5kQ2hpbGQodWlVdGlscy5jcmVhdGVFbGVtZW50QnlIdG1sKCc8ZGl2IGlkPSInK3RoaXMucG9wdXAuaWQrJ19ib3JkZXJlcmFzZXIiIGNsYXNzPSJlZHVpLWJvcmRlcmVyYXNlciBlZHVpLWJhY2tncm91bmQiIHN0eWxlPSJ3aWR0aDonKyh1aVV0aWxzLmdldENsaWVudFJlY3QodGhpcy5nZXREb20oKSkud2lkdGgrMjApKydweCI+PC9kaXY+JykpO3BvcHVwLmdldERvbSgpLmNsYXNzTmFtZSs9IiAiK3RoaXMuY2xhc3NOYW1lfSx0aGlzKSk7dGhpcy5wb3B1cD1wb3B1cH0sX29uUG9wdXBTaG93OmZ1bmN0aW9uKCl7dGhpcy5hZGRTdGF0ZSgib3BlbmVkIil9LF9vblBvcHVwSGlkZTpmdW5jdGlvbigpe3RoaXMucmVtb3ZlU3RhdGUoIm9wZW5lZCIpfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1ib3ggJSUiPjxkaXYgJysodGhpcy50aXRsZT8ndGl0bGU9IicrdGhpcy50aXRsZSsnIic6IiIpKycgaWQ9IiMjX3N0YXRlIiBzdGF0ZWZ1bD48ZGl2IGNsYXNzPSIlJS1ib2R5Ij48ZGl2IGlkPSIjI19idXR0b25fYm9keSIgY2xhc3M9ImVkdWktYm94IGVkdWktYnV0dG9uLWJvZHkiIG9uY2xpY2s9IiQkLl9vbkJ1dHRvbkNsaWNrKGV2ZW50LCB0aGlzKTsiPjxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktaWNvbiI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZWR1aS1ib3ggZWR1aS1zcGxpdGJvcmRlciI+PC9kaXY+PGRpdiBjbGFzcz0iZWR1aS1ib3ggZWR1aS1hcnJvdyIgb25jbGljaz0iJCQuX29uQXJyb3dDbGljaygpOyI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+J30sc2hvd1BvcHVwOmZ1bmN0aW9uKCl7dmFyIHJlY3Q9dWlVdGlscy5nZXRDbGllbnRSZWN0KHRoaXMuZ2V0RG9tKCkpO3JlY3QudG9wLT10aGlzLnBvcHVwLlNIQURPV19SQURJVVM7cmVjdC5oZWlnaHQrPXRoaXMucG9wdXAuU0hBRE9XX1JBRElVUzt0aGlzLnBvcHVwLnNob3dBbmNob3JSZWN0KHJlY3QpfSxfb25BcnJvd0NsaWNrOmZ1bmN0aW9uKGV2ZW50LGVsKXtpZighdGhpcy5pc0Rpc2FibGVkKCkpe3RoaXMuc2hvd1BvcHVwKCl9fSxfb25CdXR0b25DbGljazpmdW5jdGlvbigpe2lmKCF0aGlzLmlzRGlzYWJsZWQoKSl7dGhpcy5maXJlRXZlbnQoImJ1dHRvbmNsaWNrIil9fX07dXRpbHMuaW5oZXJpdHMoU3BsaXRCdXR0b24sVUlCYXNlKTt1dGlscy5leHRlbmQoU3BsaXRCdXR0b24ucHJvdG90eXBlLFN0YXRlZnVsLHRydWUpfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsQ29sb3JQaWNrZXI9YmFpZHUuZWRpdG9yLnVpLkNvbG9yUGlja2VyLFBvcHVwPWJhaWR1LmVkaXRvci51aS5Qb3B1cCxTcGxpdEJ1dHRvbj1iYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24sQ29sb3JCdXR0b249YmFpZHUuZWRpdG9yLnVpLkNvbG9yQnV0dG9uPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0Q29sb3JCdXR0b24oKX07Q29sb3JCdXR0b24ucHJvdG90eXBlPXtpbml0Q29sb3JCdXR0b246ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczt0aGlzLnBvcHVwPW5ldyBQb3B1cCh7Y29udGVudDpuZXcgQ29sb3JQaWNrZXIoe25vQ29sb3JUZXh0Om1lLmVkaXRvci5nZXRMYW5nKCJjbGVhckNvbG9yIiksZWRpdG9yOm1lLmVkaXRvcixvbnBpY2tjb2xvcjpmdW5jdGlvbih0LGNvbG9yKXttZS5fb25QaWNrQ29sb3IoY29sb3IpfSxvbnBpY2tub2NvbG9yOmZ1bmN0aW9uKHQsY29sb3Ipe21lLl9vblBpY2tOb0NvbG9yKGNvbG9yKX19KSxlZGl0b3I6bWUuZWRpdG9yfSk7dGhpcy5pbml0U3BsaXRCdXR0b24oKX0sX1NwbGl0QnV0dG9uX3Bvc3RSZW5kZXI6U3BsaXRCdXR0b24ucHJvdG90eXBlLnBvc3RSZW5kZXIscG9zdFJlbmRlcjpmdW5jdGlvbigpe3RoaXMuX1NwbGl0QnV0dG9uX3Bvc3RSZW5kZXIoKTt0aGlzLmdldERvbSgiYnV0dG9uX2JvZHkiKS5hcHBlbmRDaGlsZCh1aVV0aWxzLmNyZWF0ZUVsZW1lbnRCeUh0bWwoJzxkaXYgaWQ9IicrdGhpcy5pZCsnX2NvbG9ybHVtcCIgY2xhc3M9ImVkdWktY29sb3JsdW1wIj48L2Rpdj4nKSk7dGhpcy5nZXREb20oKS5jbGFzc05hbWUrPSIgZWR1aS1jb2xvcmJ1dHRvbiJ9LHNldENvbG9yOmZ1bmN0aW9uKGNvbG9yKXt0aGlzLmdldERvbSgiY29sb3JsdW1wIikuc3R5bGUuYmFja2dyb3VuZENvbG9yPWNvbG9yO3RoaXMuY29sb3I9Y29sb3J9LF9vblBpY2tDb2xvcjpmdW5jdGlvbihjb2xvcil7aWYodGhpcy5maXJlRXZlbnQoInBpY2tjb2xvciIsY29sb3IpIT09ZmFsc2Upe3RoaXMuc2V0Q29sb3IoY29sb3IpO3RoaXMucG9wdXAuaGlkZSgpfX0sX29uUGlja05vQ29sb3I6ZnVuY3Rpb24oY29sb3Ipe2lmKHRoaXMuZmlyZUV2ZW50KCJwaWNrbm9jb2xvciIpIT09ZmFsc2Upe3RoaXMucG9wdXAuaGlkZSgpfX19O3V0aWxzLmluaGVyaXRzKENvbG9yQnV0dG9uLFNwbGl0QnV0dG9uKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyxQb3B1cD1iYWlkdS5lZGl0b3IudWkuUG9wdXAsVGFibGVQaWNrZXI9YmFpZHUuZWRpdG9yLnVpLlRhYmxlUGlja2VyLFNwbGl0QnV0dG9uPWJhaWR1LmVkaXRvci51aS5TcGxpdEJ1dHRvbixUYWJsZUJ1dHRvbj1iYWlkdS5lZGl0b3IudWkuVGFibGVCdXR0b249ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRUYWJsZUJ1dHRvbigpfTtUYWJsZUJ1dHRvbi5wcm90b3R5cGU9e2luaXRUYWJsZUJ1dHRvbjpmdW5jdGlvbigpe3ZhciBtZT10aGlzO3RoaXMucG9wdXA9bmV3IFBvcHVwKHtjb250ZW50Om5ldyBUYWJsZVBpY2tlcih7ZWRpdG9yOm1lLmVkaXRvcixvbnBpY2t0YWJsZTpmdW5jdGlvbih0LG51bUNvbHMsbnVtUm93cyl7bWUuX29uUGlja1RhYmxlKG51bUNvbHMsbnVtUm93cyl9fSksZWRpdG9yOm1lLmVkaXRvcn0pO3RoaXMuaW5pdFNwbGl0QnV0dG9uKCl9LF9vblBpY2tUYWJsZTpmdW5jdGlvbihudW1Db2xzLG51bVJvd3Mpe2lmKHRoaXMuZmlyZUV2ZW50KCJwaWNrdGFibGUiLG51bUNvbHMsbnVtUm93cykhPT1mYWxzZSl7dGhpcy5wb3B1cC5oaWRlKCl9fX07dXRpbHMuaW5oZXJpdHMoVGFibGVCdXR0b24sU3BsaXRCdXR0b24pfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlO3ZhciBBdXRvVHlwZVNldFBpY2tlcj1iYWlkdS5lZGl0b3IudWkuQXV0b1R5cGVTZXRQaWNrZXI9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRBdXRvVHlwZVNldFBpY2tlcigpfTtBdXRvVHlwZVNldFBpY2tlci5wcm90b3R5cGU9e2luaXRBdXRvVHlwZVNldFBpY2tlcjpmdW5jdGlvbigpe3RoaXMuaW5pdFVJQmFzZSgpfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMuZWRpdG9yLG9wdD1tZS5vcHRpb25zLmF1dG90eXBlc2V0LGxhbmc9bWUuZ2V0TGFuZygiYXV0b1R5cGVTZXQiKTt2YXIgdGV4dEFsaWduSW5wdXROYW1lPSJ0ZXh0QWxpZ25WYWx1ZSIrbWUudWlkLGltYWdlQmxvY2tJbnB1dE5hbWU9ImltYWdlQmxvY2tMaW5lVmFsdWUiK21lLnVpZDtyZXR1cm4nPGRpdiBpZD0iIyMiIGNsYXNzPSJlZHVpLWF1dG90eXBlc2V0cGlja2VyICUlIj48ZGl2IGNsYXNzPSJlZHVpLWF1dG90eXBlc2V0cGlja2VyLWJvZHkiPjx0YWJsZSA+PHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iMiI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJtZXJnZUVtcHR5bGluZSIgJysob3B0Lm1lcmdlRW1wdHlsaW5lPyJjaGVja2VkIjoiIikrIj4iK2xhbmcubWVyZ2VMaW5lKyc8L3RkPjx0ZCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InJlbW92ZUVtcHR5bGluZSIgJysob3B0LnJlbW92ZUVtcHR5bGluZT8iY2hlY2tlZCI6IiIpKyI+IitsYW5nLmRlbExpbmUrJzwvdGQ+PC90cj48dHI+PHRkIG5vd3JhcCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9InJlbW92ZUNsYXNzIiAnKyhvcHQucmVtb3ZlQ2xhc3M/ImNoZWNrZWQiOiIiKSsiPiIrbGFuZy5yZW1vdmVGb3JtYXQrJzwvdGQ+PHRkIGNvbHNwYW49IjIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iaW5kZW50IiAnKyhvcHQuaW5kZW50PyJjaGVja2VkIjoiIikrIj4iK2xhbmcuaW5kZW50Kyc8L3RkPjwvdHI+PHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iMiI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSJ0ZXh0QWxpZ24iICcrKG9wdC50ZXh0QWxpZ24/ImNoZWNrZWQiOiIiKSsiPiIrbGFuZy5hbGlnbm1lbnQrJzwvdGQ+PHRkIGNvbHNwYW49IjIiIGlkPSInK3RleHRBbGlnbklucHV0TmFtZSsnIj48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrdGV4dEFsaWduSW5wdXROYW1lKyciIHZhbHVlPSJsZWZ0IiAnKygob3B0LnRleHRBbGlnbiYmb3B0LnRleHRBbGlnbj09ImxlZnQiKT8iY2hlY2tlZCI6IiIpKyI+IittZS5nZXRMYW5nKCJqdXN0aWZ5bGVmdCIpKyc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrdGV4dEFsaWduSW5wdXROYW1lKyciIHZhbHVlPSJjZW50ZXIiICcrKChvcHQudGV4dEFsaWduJiZvcHQudGV4dEFsaWduPT0iY2VudGVyIik/ImNoZWNrZWQiOiIiKSsiPiIrbWUuZ2V0TGFuZygianVzdGlmeWNlbnRlciIpKyc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicrdGV4dEFsaWduSW5wdXROYW1lKyciIHZhbHVlPSJyaWdodCIgJysoKG9wdC50ZXh0QWxpZ24mJm9wdC50ZXh0QWxpZ249PSJyaWdodCIpPyJjaGVja2VkIjoiIikrIj4iK21lLmdldExhbmcoImp1c3RpZnlyaWdodCIpKycgPC90cj48dHI+PHRkIG5vd3JhcCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImltYWdlQmxvY2tMaW5lIiAnKyhvcHQuaW1hZ2VCbG9ja0xpbmU/ImNoZWNrZWQiOiIiKSsiPiIrbGFuZy5pbWFnZUZsb2F0Kyc8L3RkPjx0ZCBub3dyYXAgY29sc3Bhbj0iMiIgaWQ9IicraW1hZ2VCbG9ja0lucHV0TmFtZSsnIj48aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicraW1hZ2VCbG9ja0lucHV0TmFtZSsnIiB2YWx1ZT0ibm9uZSIgJysoKG9wdC5pbWFnZUJsb2NrTGluZSYmb3B0LmltYWdlQmxvY2tMaW5lPT0ibm9uZSIpPyJjaGVja2VkIjoiIikrIj4iK21lLmdldExhbmcoImRlZmF1bHQiKSsnPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSInK2ltYWdlQmxvY2tJbnB1dE5hbWUrJyIgdmFsdWU9ImxlZnQiICcrKChvcHQuaW1hZ2VCbG9ja0xpbmUmJm9wdC5pbWFnZUJsb2NrTGluZT09ImxlZnQiKT8iY2hlY2tlZCI6IiIpKyI+IittZS5nZXRMYW5nKCJqdXN0aWZ5bGVmdCIpKyc8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IicraW1hZ2VCbG9ja0lucHV0TmFtZSsnIiB2YWx1ZT0iY2VudGVyIiAnKygob3B0LmltYWdlQmxvY2tMaW5lJiZvcHQuaW1hZ2VCbG9ja0xpbmU9PSJjZW50ZXIiKT8iY2hlY2tlZCI6IiIpKyI+IittZS5nZXRMYW5nKCJqdXN0aWZ5Y2VudGVyIikrJzxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJytpbWFnZUJsb2NrSW5wdXROYW1lKyciIHZhbHVlPSJyaWdodCIgJysoKG9wdC5pbWFnZUJsb2NrTGluZSYmb3B0LmltYWdlQmxvY2tMaW5lPT0icmlnaHQiKT8iY2hlY2tlZCI6IiIpKyI+IittZS5nZXRMYW5nKCJqdXN0aWZ5cmlnaHQiKSsnPC90cj48dHI+PHRkIG5vd3JhcCBjb2xzcGFuPSIyIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIG5hbWU9ImNsZWFyRm9udFNpemUiICcrKG9wdC5jbGVhckZvbnRTaXplPyJjaGVja2VkIjoiIikrIj4iK2xhbmcucmVtb3ZlRm9udHNpemUrJzwvdGQ+PHRkIGNvbHNwYW49IjIiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iY2xlYXJGb250RmFtaWx5IiAnKyhvcHQuY2xlYXJGb250RmFtaWx5PyJjaGVja2VkIjoiIikrIj4iK2xhbmcucmVtb3ZlRm9udEZhbWlseSsnPC90ZD48L3RyPjx0cj48dGQgbm93cmFwIGNvbHNwYW49IjQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0icmVtb3ZlRW1wdHlOb2RlIiAnKyhvcHQucmVtb3ZlRW1wdHlOb2RlPyJjaGVja2VkIjoiIikrIj4iK2xhbmcucmVtb3ZlSHRtbCsnPC90ZD48L3RyPjx0cj48dGQgbm93cmFwIGNvbHNwYW49IjQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0icGFzdGVGaWx0ZXIiICcrKG9wdC5wYXN0ZUZpbHRlcj8iY2hlY2tlZCI6IiIpKyI+IitsYW5nLnBhc3RlRmlsdGVyKyc8L3RkPjwvdHI+PHRyPjx0ZCBub3dyYXAgY29sc3Bhbj0iNCIgYWxpZ249InJpZ2h0Ij48YnV0dG9uID4nK2xhbmcucnVuKyI8L2J1dHRvbj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48L2Rpdj4ifSxfVUlCYXNlX3JlbmRlcjpVSUJhc2UucHJvdG90eXBlLnJlbmRlcn07dXRpbHMuaW5oZXJpdHMoQXV0b1R5cGVTZXRQaWNrZXIsVUlCYXNlKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyxQb3B1cD1iYWlkdS5lZGl0b3IudWkuUG9wdXAsQXV0b1R5cGVTZXRQaWNrZXI9YmFpZHUuZWRpdG9yLnVpLkF1dG9UeXBlU2V0UGlja2VyLFNwbGl0QnV0dG9uPWJhaWR1LmVkaXRvci51aS5TcGxpdEJ1dHRvbixBdXRvVHlwZVNldEJ1dHRvbj1iYWlkdS5lZGl0b3IudWkuQXV0b1R5cGVTZXRCdXR0b249ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRBdXRvVHlwZVNldEJ1dHRvbigpfTtmdW5jdGlvbiBnZXRQYXJhKG1lKXt2YXIgb3B0PW1lLmVkaXRvci5vcHRpb25zLmF1dG90eXBlc2V0LGNvbnQ9bWUuZ2V0RG9tKCksZWRpdG9ySWQ9bWUuZWRpdG9yLnVpZCxpbnB1dFR5cGU9bnVsbCxhdHRyTmFtZT1udWxsLGlwdHM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY29udCwiaW5wdXQiKTtmb3IodmFyIGk9aXB0cy5sZW5ndGgtMSxpcHQ7aXB0PWlwdHNbaS0tXTspe2lucHV0VHlwZT1pcHQuZ2V0QXR0cmlidXRlKCJ0eXBlIik7aWYoaW5wdXRUeXBlPT0iY2hlY2tib3giKXthdHRyTmFtZT1pcHQuZ2V0QXR0cmlidXRlKCJuYW1lIik7b3B0W2F0dHJOYW1lXSYmZGVsZXRlIG9wdFthdHRyTmFtZV07aWYoaXB0LmNoZWNrZWQpe3ZhciBhdHRyVmFsdWU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYXR0ck5hbWUrIlZhbHVlIitlZGl0b3JJZCk7aWYoYXR0clZhbHVlKXtpZigvaW5wdXQvaWcudGVzdChhdHRyVmFsdWUudGFnTmFtZSkpe29wdFthdHRyTmFtZV09YXR0clZhbHVlLnZhbHVlfWVsc2V7dmFyIGlwdENoaWxkcz1hdHRyVmFsdWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7Zm9yKHZhciBqPWlwdENoaWxkcy5sZW5ndGgtMSxpcHRjaGlsZDtpcHRjaGlsZD1pcHRDaGlsZHNbai0tXTspe2lmKGlwdGNoaWxkLmNoZWNrZWQpe29wdFthdHRyTmFtZV09aXB0Y2hpbGQudmFsdWU7YnJlYWt9fX19ZWxzZXtvcHRbYXR0ck5hbWVdPXRydWV9fX19dmFyIHNlbGVjdHM9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoY29udCwic2VsZWN0Iik7Zm9yKHZhciBpPTAsc2k7c2k9c2VsZWN0c1tpKytdOyl7dmFyIGF0dHI9c2kuZ2V0QXR0cmlidXRlKCJuYW1lIik7b3B0W2F0dHJdPW9wdFthdHRyXT9zaS52YWx1ZToiIn1tZS5lZGl0b3Iub3B0aW9ucy5hdXRvdHlwZXNldD1vcHR9QXV0b1R5cGVTZXRCdXR0b24ucHJvdG90eXBlPXtpbml0QXV0b1R5cGVTZXRCdXR0b246ZnVuY3Rpb24oKXt2YXIgbWU9dGhpczt0aGlzLnBvcHVwPW5ldyBQb3B1cCh7Y29udGVudDpuZXcgQXV0b1R5cGVTZXRQaWNrZXIoe2VkaXRvcjptZS5lZGl0b3J9KSxlZGl0b3I6bWUuZWRpdG9yLGhpZGU6ZnVuY3Rpb24oKXtpZighdGhpcy5faGlkZGVuJiZ0aGlzLmdldERvbSgpKXtnZXRQYXJhKHRoaXMpO3RoaXMuZ2V0RG9tKCkuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5faGlkZGVuPXRydWU7dGhpcy5maXJlRXZlbnQoImhpZGUiKX19fSk7dmFyIGZsYWc9MDt0aGlzLnBvcHVwLmFkZExpc3RlbmVyKCJwb3N0UmVuZGVyQWZ0ZXIiLGZ1bmN0aW9uKCl7dmFyIHBvcHVwVUk9dGhpcztpZihmbGFnKXtyZXR1cm59dmFyIGNvbnQ9dGhpcy5nZXREb20oKSxidG49Y29udC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYnV0dG9uIilbMF07YnRuLm9uY2xpY2s9ZnVuY3Rpb24oKXtnZXRQYXJhKHBvcHVwVUkpO21lLmVkaXRvci5leGVjQ29tbWFuZCgiYXV0b3R5cGVzZXQiKTtwb3B1cFVJLmhpZGUoKX07ZmxhZz0xfSk7dGhpcy5pbml0U3BsaXRCdXR0b24oKX19O3V0aWxzLmluaGVyaXRzKEF1dG9UeXBlU2V0QnV0dG9uLFNwbGl0QnV0dG9uKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyxQb3B1cD1iYWlkdS5lZGl0b3IudWkuUG9wdXAsU3RhdGVmdWw9YmFpZHUuZWRpdG9yLnVpLlN0YXRlZnVsLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlO3ZhciBDZWxsQWxpZ25QaWNrZXI9YmFpZHUuZWRpdG9yLnVpLkNlbGxBbGlnblBpY2tlcj1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdFNlbGVjdGVkKCk7dGhpcy5pbml0Q2VsbEFsaWduUGlja2VyKCl9O0NlbGxBbGlnblBpY2tlci5wcm90b3R5cGU9e2luaXRTZWxlY3RlZDpmdW5jdGlvbigpe3ZhciBzdGF0dXM9e3ZhbGlnbjp7dG9wOjAsbWlkZGxlOjEsYm90dG9tOjJ9LGFsaWduOntsZWZ0OjAsY2VudGVyOjEscmlnaHQ6Mn0sY291bnQ6M30scmVzdWx0PS0xO2lmKHRoaXMuc2VsZWN0ZWQpe3RoaXMuc2VsZWN0ZWRJbmRleD1zdGF0dXMudmFsaWduW3RoaXMuc2VsZWN0ZWQudmFsaWduXSpzdGF0dXMuY291bnQrc3RhdHVzLmFsaWduW3RoaXMuc2VsZWN0ZWQuYWxpZ25dfX0saW5pdENlbGxBbGlnblBpY2tlcjpmdW5jdGlvbigpe3RoaXMuaW5pdFVJQmFzZSgpO3RoaXMuU3RhdGVmdWxfaW5pdCgpfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7dmFyIGFsaWduVHlwZT1bImxlZnQiLCJjZW50ZXIiLCJyaWdodCJdLENPVU5UPTksdGVtcENsYXNzTmFtZT1udWxsLHRlbXBJbmRleD0tMSx0bXBsPVtdO2Zvcih2YXIgaT0wO2k8Q09VTlQ7aSsrKXt0ZW1wQ2xhc3NOYW1lPXRoaXMuc2VsZWN0ZWRJbmRleD09PWk/JyBjbGFzcz0iZWR1aS1jZWxsYWxpZ24tc2VsZWN0ZWQiICc6IiI7dGVtcEluZGV4PWklMzt0ZW1wSW5kZXg9PT0wJiZ0bXBsLnB1c2goIjx0cj4iKTt0bXBsLnB1c2goJzx0ZCBpbmRleD0iJytpKyciICcrdGVtcENsYXNzTmFtZSsnIHN0YXRlZnVsPjxkaXYgY2xhc3M9ImVkdWktaWNvbiBlZHVpLScrYWxpZ25UeXBlW3RlbXBJbmRleF0rJyI+PC9kaXY+PC90ZD4nKTt0ZW1wSW5kZXg9PT0yJiZ0bXBsLnB1c2goIjwvdHI+Iil9cmV0dXJuJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS1jZWxsYWxpZ25waWNrZXIgJSUiPjxkaXYgY2xhc3M9ImVkdWktY2VsbGFsaWducGlja2VyLWJvZHkiPjx0YWJsZSBvbmNsaWNrPSIkJC5fb25DbGljayhldmVudCk7Ij4nK3RtcGwuam9pbigiIikrIjwvdGFibGU+PC9kaXY+PC9kaXY+In0sZ2V0U3RhdGVEb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR9LF9vbkNsaWNrOmZ1bmN0aW9uKGV2dCl7dmFyIHRhcmdldD1ldnQudGFyZ2V0fHxldnQuc3JjRWxlbWVudDtpZigvaWNvbi8udGVzdCh0YXJnZXQuY2xhc3NOYW1lKSl7dGhpcy5pdGVtc1t0YXJnZXQucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoImluZGV4IildLm9uY2xpY2soKTtQb3B1cC5wb3N0SGlkZShldnQpfX0sX1VJQmFzZV9yZW5kZXI6VUlCYXNlLnByb3RvdHlwZS5yZW5kZXJ9O3V0aWxzLmluaGVyaXRzKENlbGxBbGlnblBpY2tlcixVSUJhc2UpO3V0aWxzLmV4dGVuZChDZWxsQWxpZ25QaWNrZXIucHJvdG90eXBlLFN0YXRlZnVsLHRydWUpfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLFN0YXRlZnVsPWJhaWR1LmVkaXRvci51aS5TdGF0ZWZ1bCx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlO3ZhciBQYXN0ZVBpY2tlcj1iYWlkdS5lZGl0b3IudWkuUGFzdGVQaWNrZXI9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRQYXN0ZVBpY2tlcigpfTtQYXN0ZVBpY2tlci5wcm90b3R5cGU9e2luaXRQYXN0ZVBpY2tlcjpmdW5jdGlvbigpe3RoaXMuaW5pdFVJQmFzZSgpO3RoaXMuU3RhdGVmdWxfaW5pdCgpfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktcGFzdGVpY29uIiBvbmNsaWNrPSIkJC5fb25DbGljayh0aGlzKSI+PC9kaXY+PGRpdiBjbGFzcz0iZWR1aS1wYXN0ZWNvbnRhaW5lciI+PGRpdiBjbGFzcz0iZWR1aS10aXRsZSI+Jyt0aGlzLmVkaXRvci5nZXRMYW5nKCJwYXN0ZU9wdCIpKyc8L2Rpdj48ZGl2IGNsYXNzPSJlZHVpLWJ1dHRvbiI+PGRpdiB0aXRsZT0iJyt0aGlzLmVkaXRvci5nZXRMYW5nKCJwYXN0ZVNvdXJjZUZvcm1hdCIpKyciIG9uY2xpY2s9IiQkLmZvcm1hdChmYWxzZSkiIHN0YXRlZnVsPjxkaXYgY2xhc3M9ImVkdWktcmljaHR4dGljb24iPjwvZGl2PjwvZGl2PjxkaXYgdGl0bGU9IicrdGhpcy5lZGl0b3IuZ2V0TGFuZygidGFnRm9ybWF0IikrJyIgb25jbGljaz0iJCQuZm9ybWF0KDIpIiBzdGF0ZWZ1bD48ZGl2IGNsYXNzPSJlZHVpLXRhZ2ljb24iPjwvZGl2PjwvZGl2PjxkaXYgdGl0bGU9IicrdGhpcy5lZGl0b3IuZ2V0TGFuZygicGFzdGVUZXh0Rm9ybWF0IikrJyIgb25jbGljaz0iJCQuZm9ybWF0KHRydWUpIiBzdGF0ZWZ1bD48ZGl2IGNsYXNzPSJlZHVpLXBsYWludHh0aWNvbiI+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+J30sZ2V0U3RhdGVEb206ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR9LGZvcm1hdDpmdW5jdGlvbihwYXJhbSl7dGhpcy5lZGl0b3IudWkuX2lzVHJhbnNmZXI9dHJ1ZTt0aGlzLmVkaXRvci5maXJlRXZlbnQoInBhc3RlVHJhbnNmZXIiLHBhcmFtKX0sX29uQ2xpY2s6ZnVuY3Rpb24oY3VyKXt2YXIgbm9kZT1kb21VdGlscy5nZXROZXh0RG9tTm9kZShjdXIpLHNjcmVlbkh0PXVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCkuaGVpZ2h0LHN1YlBvcD11aVV0aWxzLmdldENsaWVudFJlY3Qobm9kZSk7aWYoKHN1YlBvcC50b3Arc3ViUG9wLmhlaWdodCk+c2NyZWVuSHQpe25vZGUuc3R5bGUudG9wPSgtc3ViUG9wLmhlaWdodC1jdXIub2Zmc2V0SGVpZ2h0KSsicHgifWVsc2V7bm9kZS5zdHlsZS50b3A9IiJ9aWYoL2hpZGRlbi9pZy50ZXN0KGRvbVV0aWxzLmdldENvbXB1dGVkU3R5bGUobm9kZSwidmlzaWJpbGl0eSIpKSl7bm9kZS5zdHlsZS52aXNpYmlsaXR5PSJ2aXNpYmxlIjtkb21VdGlscy5hZGRDbGFzcyhjdXIsImVkdWktc3RhdGUtb3BlbmVkIil9ZWxzZXtub2RlLnN0eWxlLnZpc2liaWxpdHk9ImhpZGRlbiI7ZG9tVXRpbHMucmVtb3ZlQ2xhc3NlcyhjdXIsImVkdWktc3RhdGUtb3BlbmVkIil9fSxfVUlCYXNlX3JlbmRlcjpVSUJhc2UucHJvdG90eXBlLnJlbmRlcn07dXRpbHMuaW5oZXJpdHMoUGFzdGVQaWNrZXIsVUlCYXNlKTt1dGlscy5leHRlbmQoUGFzdGVQaWNrZXIucHJvdG90eXBlLFN0YXRlZnVsLHRydWUpfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsVUlCYXNlPWJhaWR1LmVkaXRvci51aS5VSUJhc2UsVG9vbGJhcj1iYWlkdS5lZGl0b3IudWkuVG9vbGJhcj1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdFRvb2xiYXIoKX07VG9vbGJhci5wcm90b3R5cGU9e2l0ZW1zOm51bGwsaW5pdFRvb2xiYXI6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPXRoaXMuaXRlbXN8fFtdO3RoaXMuaW5pdFVJQmFzZSgpfSxhZGQ6ZnVuY3Rpb24oaXRlbSl7dGhpcy5pdGVtcy5wdXNoKGl0ZW0pfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7dmFyIGJ1ZmY9W107Zm9yKHZhciBpPTA7aTx0aGlzLml0ZW1zLmxlbmd0aDtpKyspe2J1ZmZbaV09dGhpcy5pdGVtc1tpXS5yZW5kZXJIdG1sKCl9cmV0dXJuJzxkaXYgaWQ9IiMjIiBjbGFzcz0iZWR1aS10b29sYmFyICUlIiBvbnNlbGVjdHN0YXJ0PSJyZXR1cm4gZmFsc2U7IiBvbm1vdXNlZG93bj0icmV0dXJuICQkLl9vbk1vdXNlRG93bihldmVudCwgdGhpcyk7Ij4nK2J1ZmYuam9pbigiIikrIjwvZGl2PiJ9LHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYm94PXRoaXMuZ2V0RG9tKCk7Zm9yKHZhciBpPTA7aTx0aGlzLml0ZW1zLmxlbmd0aDtpKyspe3RoaXMuaXRlbXNbaV0ucG9zdFJlbmRlcigpfXVpVXRpbHMubWFrZVVuc2VsZWN0YWJsZShib3gpfSxfb25Nb3VzZURvd246ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9fTt1dGlscy5pbmhlcml0cyhUb29sYmFyLFVJQmFzZSl9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHMsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlLFBvcHVwPWJhaWR1LmVkaXRvci51aS5Qb3B1cCxTdGF0ZWZ1bD1iYWlkdS5lZGl0b3IudWkuU3RhdGVmdWwsQ2VsbEFsaWduUGlja2VyPWJhaWR1LmVkaXRvci51aS5DZWxsQWxpZ25QaWNrZXIsTWVudT1iYWlkdS5lZGl0b3IudWkuTWVudT1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdE1lbnUoKX07dmFyIG1lbnVTZXBhcmF0b3I9e3JlbmRlckh0bWw6ZnVuY3Rpb24oKXtyZXR1cm4nPGRpdiBjbGFzcz0iZWR1aS1tZW51aXRlbSBlZHVpLW1lbnVzZXBhcmF0b3IiPjxkaXYgY2xhc3M9ImVkdWktbWVudXNlcGFyYXRvci1pbm5lciI+PC9kaXY+PC9kaXY+J30scG9zdFJlbmRlcjpmdW5jdGlvbigpe30scXVlcnlBdXRvSGlkZTpmdW5jdGlvbigpe3JldHVybiB0cnVlfX07TWVudS5wcm90b3R5cGU9e2l0ZW1zOm51bGwsdWlOYW1lOiJtZW51Iixpbml0TWVudTpmdW5jdGlvbigpe3RoaXMuaXRlbXM9dGhpcy5pdGVtc3x8W107dGhpcy5pbml0UG9wdXAoKTt0aGlzLmluaXRJdGVtcygpfSxpbml0SXRlbXM6ZnVuY3Rpb24oKXtmb3IodmFyIGk9MDtpPHRoaXMuaXRlbXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09dGhpcy5pdGVtc1tpXTtpZihpdGVtPT0iLSIpe3RoaXMuaXRlbXNbaV09dGhpcy5nZXRTZXBhcmF0b3IoKX1lbHNle2lmKCEoaXRlbSBpbnN0YW5jZW9mIE1lbnVJdGVtKSl7aXRlbS5lZGl0b3I9dGhpcy5lZGl0b3I7aXRlbS50aGVtZT10aGlzLmVkaXRvci5vcHRpb25zLnRoZW1lO3RoaXMuaXRlbXNbaV09dGhpcy5jcmVhdGVJdGVtKGl0ZW0pfX19fSxnZXRTZXBhcmF0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gbWVudVNlcGFyYXRvcn0sY3JlYXRlSXRlbTpmdW5jdGlvbihpdGVtKXtpdGVtLm1lbnU9dGhpcztyZXR1cm4gbmV3IE1lbnVJdGVtKGl0ZW0pfSxfUG9wdXBfZ2V0Q29udGVudEh0bWxUcGw6UG9wdXAucHJvdG90eXBlLmdldENvbnRlbnRIdG1sVHBsLGdldENvbnRlbnRIdG1sVHBsOmZ1bmN0aW9uKCl7aWYodGhpcy5pdGVtcy5sZW5ndGg9PTApe3JldHVybiB0aGlzLl9Qb3B1cF9nZXRDb250ZW50SHRtbFRwbCgpfXZhciBidWZmPVtdO2Zvcih2YXIgaT0wO2k8dGhpcy5pdGVtcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT10aGlzLml0ZW1zW2ldO2J1ZmZbaV09aXRlbS5yZW5kZXJIdG1sKCl9cmV0dXJuKCc8ZGl2IGNsYXNzPSIlJS1ib2R5Ij4nK2J1ZmYuam9pbigiIikrIjwvZGl2PiIpfSxfUG9wdXBfcG9zdFJlbmRlcjpQb3B1cC5wcm90b3R5cGUucG9zdFJlbmRlcixwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7Zm9yKHZhciBpPTA7aTx0aGlzLml0ZW1zLmxlbmd0aDtpKyspe3ZhciBpdGVtPXRoaXMuaXRlbXNbaV07aXRlbS5vd25lck1lbnU9dGhpcztpdGVtLnBvc3RSZW5kZXIoKX1kb21VdGlscy5vbih0aGlzLmdldERvbSgpLCJtb3VzZW92ZXIiLGZ1bmN0aW9uKGV2dCl7ZXZ0PWV2dHx8ZXZlbnQ7dmFyIHJlbD1ldnQucmVsYXRlZFRhcmdldHx8ZXZ0LmZyb21FbGVtZW50O3ZhciBlbD1tZS5nZXREb20oKTtpZighdWlVdGlscy5jb250YWlucyhlbCxyZWwpJiZlbCE9PXJlbCl7bWUuZmlyZUV2ZW50KCJvdmVyIil9fSk7dGhpcy5fUG9wdXBfcG9zdFJlbmRlcigpfSxxdWVyeUF1dG9IaWRlOmZ1bmN0aW9uKGVsKXtpZihlbCl7aWYodWlVdGlscy5jb250YWlucyh0aGlzLmdldERvbSgpLGVsKSl7cmV0dXJuIGZhbHNlfWZvcih2YXIgaT0wO2k8dGhpcy5pdGVtcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT10aGlzLml0ZW1zW2ldO2lmKGl0ZW0ucXVlcnlBdXRvSGlkZShlbCk9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfX19fSxjbGVhckl0ZW1zOmZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTx0aGlzLml0ZW1zLmxlbmd0aDtpKyspe3ZhciBpdGVtPXRoaXMuaXRlbXNbaV07Y2xlYXJUaW1lb3V0KGl0ZW0uX3Nob3dpbmdUaW1lcik7Y2xlYXJUaW1lb3V0KGl0ZW0uX2Nsb3NpbmdUaW1lcik7aWYoaXRlbS5zdWJNZW51KXtpdGVtLnN1Yk1lbnUuZGVzdHJveSgpfX10aGlzLml0ZW1zPVtdfSxkZXN0cm95OmZ1bmN0aW9uKCl7aWYodGhpcy5nZXREb20oKSl7ZG9tVXRpbHMucmVtb3ZlKHRoaXMuZ2V0RG9tKCkpfXRoaXMuY2xlYXJJdGVtcygpfSxkaXNwb3NlOmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95KCl9fTt1dGlscy5pbmhlcml0cyhNZW51LFBvcHVwKTt2YXIgTWVudUl0ZW09YmFpZHUuZWRpdG9yLnVpLk1lbnVJdGVtPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0VUlCYXNlKCk7dGhpcy5TdGF0ZWZ1bF9pbml0KCk7aWYodGhpcy5zdWJNZW51JiYhKHRoaXMuc3ViTWVudSBpbnN0YW5jZW9mIE1lbnUpKXtpZihvcHRpb25zLmNsYXNzTmFtZSYmb3B0aW9ucy5jbGFzc05hbWUuaW5kZXhPZigiYWxpZ250ZCIpIT0tMSl7dmFyIG1lPXRoaXM7dGhpcy5zdWJNZW51LnNlbGVjdGVkPXRoaXMuZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJjZWxsYWxpZ25tZW50Iik7dGhpcy5zdWJNZW51PW5ldyBQb3B1cCh7Y29udGVudDpuZXcgQ2VsbEFsaWduUGlja2VyKHRoaXMuc3ViTWVudSkscGFyZW50TWVudTptZSxlZGl0b3I6bWUuZWRpdG9yLGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLmdldERvbSgpKXtkb21VdGlscy5yZW1vdmUodGhpcy5nZXREb20oKSl9fX0pO3RoaXMuc3ViTWVudS5hZGRMaXN0ZW5lcigicG9zdFJlbmRlckFmdGVyIixmdW5jdGlvbigpe2RvbVV0aWxzLm9uKHRoaXMuZ2V0RG9tKCksIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXttZS5hZGRTdGF0ZSgib3BlbmVkIil9KX0pfWVsc2V7dGhpcy5zdWJNZW51PW5ldyBNZW51KHRoaXMuc3ViTWVudSl9fX07TWVudUl0ZW0ucHJvdG90eXBlPXtsYWJlbDoiIixzdWJNZW51Om51bGwsb3duZXJNZW51Om51bGwsdWlOYW1lOiJtZW51aXRlbSIsYWx3YWx5c0hvdmVyYWJsZTp0cnVlLGdldEh0bWxUcGw6ZnVuY3Rpb24oKXtyZXR1cm4nPGRpdiBpZD0iIyMiIGNsYXNzPSIlJSIgc3RhdGVmdWwgb25jbGljaz0iJCQuX29uQ2xpY2soZXZlbnQsIHRoaXMpOyI+PGRpdiBjbGFzcz0iJSUtYm9keSI+Jyt0aGlzLnJlbmRlckxhYmVsSHRtbCgpKyI8L2Rpdj48L2Rpdj4ifSxwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7dGhpcy5hZGRMaXN0ZW5lcigib3ZlciIsZnVuY3Rpb24oKXttZS5vd25lck1lbnUuZmlyZUV2ZW50KCJzdWJtZW51b3ZlciIsbWUpO2lmKG1lLnN1Yk1lbnUpe21lLmRlbGF5U2hvd1N1Yk1lbnUoKX19KTtpZih0aGlzLnN1Yk1lbnUpe3RoaXMuZ2V0RG9tKCkuY2xhc3NOYW1lKz0iIGVkdWktaGFzc3VibWVudSI7dGhpcy5zdWJNZW51LnJlbmRlcigpO3RoaXMuYWRkTGlzdGVuZXIoIm91dCIsZnVuY3Rpb24oKXttZS5kZWxheUhpZGVTdWJNZW51KCl9KTt0aGlzLnN1Yk1lbnUuYWRkTGlzdGVuZXIoIm92ZXIiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG1lLl9jbG9zaW5nVGltZXIpO21lLl9jbG9zaW5nVGltZXI9bnVsbDttZS5hZGRTdGF0ZSgib3BlbmVkIil9KTt0aGlzLm93bmVyTWVudS5hZGRMaXN0ZW5lcigiaGlkZSIsZnVuY3Rpb24oKXttZS5oaWRlU3ViTWVudSgpfSk7dGhpcy5vd25lck1lbnUuYWRkTGlzdGVuZXIoInN1Ym1lbnVvdmVyIixmdW5jdGlvbih0LHN1Yk1lbnUpe2lmKHN1Yk1lbnUhPT1tZSl7bWUuZGVsYXlIaWRlU3ViTWVudSgpfX0pO3RoaXMuc3ViTWVudS5fYmFrUXVlcnlBdXRvSGlkZT10aGlzLnN1Yk1lbnUucXVlcnlBdXRvSGlkZTt0aGlzLnN1Yk1lbnUucXVlcnlBdXRvSGlkZT1mdW5jdGlvbihlbCl7aWYoZWwmJnVpVXRpbHMuY29udGFpbnMobWUuZ2V0RG9tKCksZWwpKXtyZXR1cm4gZmFsc2V9cmV0dXJuIHRoaXMuX2Jha1F1ZXJ5QXV0b0hpZGUoZWwpfX10aGlzLmdldERvbSgpLnN0eWxlLnRhYkluZGV4PSItMSI7dWlVdGlscy5tYWtlVW5zZWxlY3RhYmxlKHRoaXMuZ2V0RG9tKCkpO3RoaXMuU3RhdGVmdWxfcG9zdFJlbmRlcigpfSxkZWxheVNob3dTdWJNZW51OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7aWYoIW1lLmlzRGlzYWJsZWQoKSl7bWUuYWRkU3RhdGUoIm9wZW5lZCIpO2NsZWFyVGltZW91dChtZS5fc2hvd2luZ1RpbWVyKTtjbGVhclRpbWVvdXQobWUuX2Nsb3NpbmdUaW1lcik7bWUuX2Nsb3NpbmdUaW1lcj1udWxsO21lLl9zaG93aW5nVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe21lLnNob3dTdWJNZW51KCl9LDI1MCl9fSxkZWxheUhpZGVTdWJNZW51OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7aWYoIW1lLmlzRGlzYWJsZWQoKSl7bWUucmVtb3ZlU3RhdGUoIm9wZW5lZCIpO2NsZWFyVGltZW91dChtZS5fc2hvd2luZ1RpbWVyKTtpZighbWUuX2Nsb3NpbmdUaW1lcil7bWUuX2Nsb3NpbmdUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoIW1lLmhhc1N0YXRlKCJvcGVuZWQiKSl7bWUuaGlkZVN1Yk1lbnUoKX1tZS5fY2xvc2luZ1RpbWVyPW51bGx9LDQwMCl9fX0scmVuZGVyTGFiZWxIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktYXJyb3ciPjwvZGl2PjxkaXYgY2xhc3M9ImVkdWktYm94IGVkdWktaWNvbiI+PC9kaXY+PGRpdiBjbGFzcz0iZWR1aS1ib3ggZWR1aS1sYWJlbCAlJS1sYWJlbCI+JysodGhpcy5sYWJlbHx8IiIpKyI8L2Rpdj4ifSxnZXRTdGF0ZURvbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERvbSgpfSxxdWVyeUF1dG9IaWRlOmZ1bmN0aW9uKGVsKXtpZih0aGlzLnN1Yk1lbnUmJnRoaXMuaGFzU3RhdGUoIm9wZW5lZCIpKXtyZXR1cm4gdGhpcy5zdWJNZW51LnF1ZXJ5QXV0b0hpZGUoZWwpfX0sX29uQ2xpY2s6ZnVuY3Rpb24oZXZlbnQsdGhpc18pe2lmKHRoaXMuaGFzU3RhdGUoImRpc2FibGVkIikpe3JldHVybn1pZih0aGlzLmZpcmVFdmVudCgiY2xpY2siLGV2ZW50LHRoaXNfKSE9PWZhbHNlKXtpZih0aGlzLnN1Yk1lbnUpe3RoaXMuc2hvd1N1Yk1lbnUoKX1lbHNle1BvcHVwLnBvc3RIaWRlKGV2ZW50KX19fSxzaG93U3ViTWVudTpmdW5jdGlvbigpe3ZhciByZWN0PXVpVXRpbHMuZ2V0Q2xpZW50UmVjdCh0aGlzLmdldERvbSgpKTtyZWN0LnJpZ2h0LT01O3JlY3QubGVmdCs9MjtyZWN0LndpZHRoLT03O3JlY3QudG9wLT00O3JlY3QuYm90dG9tKz00O3JlY3QuaGVpZ2h0Kz04O3RoaXMuc3ViTWVudS5zaG93QW5jaG9yUmVjdChyZWN0LHRydWUsdHJ1ZSl9LGhpZGVTdWJNZW51OmZ1bmN0aW9uKCl7dGhpcy5zdWJNZW51LmhpZGUoKX19O3V0aWxzLmluaGVyaXRzKE1lbnVJdGVtLFVJQmFzZSk7dXRpbHMuZXh0ZW5kKE1lbnVJdGVtLnByb3RvdHlwZSxTdGF0ZWZ1bCx0cnVlKX0pKCk7KGZ1bmN0aW9uKCl7dmFyIHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzLE1lbnU9YmFpZHUuZWRpdG9yLnVpLk1lbnUsU3BsaXRCdXR0b249YmFpZHUuZWRpdG9yLnVpLlNwbGl0QnV0dG9uLENvbWJveD1iYWlkdS5lZGl0b3IudWkuQ29tYm94PWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0Q29tYm94KCl9O0NvbWJveC5wcm90b3R5cGU9e3VpTmFtZToiY29tYm94Iixpbml0Q29tYm94OmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXM7dGhpcy5pdGVtcz10aGlzLml0ZW1zfHxbXTtmb3IodmFyIGk9MDtpPHRoaXMuaXRlbXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09dGhpcy5pdGVtc1tpXTtpdGVtLnVpTmFtZT0ibGlzdGl0ZW0iO2l0ZW0uaW5kZXg9aTtpdGVtLm9uY2xpY2s9ZnVuY3Rpb24oKXttZS5zZWxlY3RCeUluZGV4KHRoaXMuaW5kZXgpfX10aGlzLnBvcHVwPW5ldyBNZW51KHtpdGVtczp0aGlzLml0ZW1zLHVpTmFtZToibGlzdCIsZWRpdG9yOnRoaXMuZWRpdG9yLGNhcHR1cmVXaGVlbDp0cnVlLGNvbWJveDp0aGlzfSk7dGhpcy5pbml0U3BsaXRCdXR0b24oKX0sX1NwbGl0QnV0dG9uX3Bvc3RSZW5kZXI6U3BsaXRCdXR0b24ucHJvdG90eXBlLnBvc3RSZW5kZXIscG9zdFJlbmRlcjpmdW5jdGlvbigpe3RoaXMuX1NwbGl0QnV0dG9uX3Bvc3RSZW5kZXIoKTt0aGlzLnNldExhYmVsKHRoaXMubGFiZWx8fCIiKTt0aGlzLnNldFZhbHVlKHRoaXMuaW5pdFZhbHVlfHwiIil9LHNob3dQb3B1cDpmdW5jdGlvbigpe3ZhciByZWN0PXVpVXRpbHMuZ2V0Q2xpZW50UmVjdCh0aGlzLmdldERvbSgpKTtyZWN0LnRvcCs9MTtyZWN0LmJvdHRvbS09MTtyZWN0LmhlaWdodC09Mjt0aGlzLnBvcHVwLnNob3dBbmNob3JSZWN0KHJlY3QpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfSxzZXRWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7dmFyIGluZGV4PXRoaXMuaW5kZXhCeVZhbHVlKHZhbHVlKTtpZihpbmRleCE9LTEpe3RoaXMuc2VsZWN0ZWRJbmRleD1pbmRleDt0aGlzLnNldExhYmVsKHRoaXMuaXRlbXNbaW5kZXhdLmxhYmVsKTt0aGlzLnZhbHVlPXRoaXMuaXRlbXNbaW5kZXhdLnZhbHVlfWVsc2V7dGhpcy5zZWxlY3RlZEluZGV4PS0xO3RoaXMuc2V0TGFiZWwodGhpcy5nZXRMYWJlbEZvclVua25vd1ZhbHVlKHZhbHVlKSk7dGhpcy52YWx1ZT12YWx1ZX19LHNldExhYmVsOmZ1bmN0aW9uKGxhYmVsKXt0aGlzLmdldERvbSgiYnV0dG9uX2JvZHkiKS5pbm5lckhUTUw9bGFiZWw7dGhpcy5sYWJlbD1sYWJlbH0sZ2V0TGFiZWxGb3JVbmtub3dWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlfSxpbmRleEJ5VmFsdWU6ZnVuY3Rpb24odmFsdWUpe2Zvcih2YXIgaT0wO2k8dGhpcy5pdGVtcy5sZW5ndGg7aSsrKXtpZih2YWx1ZT09dGhpcy5pdGVtc1tpXS52YWx1ZSl7cmV0dXJuIGl9fXJldHVybiAtMX0sZ2V0SXRlbTpmdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMuaXRlbXNbaW5kZXhdfSxzZWxlY3RCeUluZGV4OmZ1bmN0aW9uKGluZGV4KXtpZihpbmRleDx0aGlzLml0ZW1zLmxlbmd0aCYmdGhpcy5maXJlRXZlbnQoInNlbGVjdCIsaW5kZXgpIT09ZmFsc2Upe3RoaXMuc2VsZWN0ZWRJbmRleD1pbmRleDt0aGlzLnZhbHVlPXRoaXMuaXRlbXNbaW5kZXhdLnZhbHVlO3RoaXMuc2V0TGFiZWwodGhpcy5pdGVtc1tpbmRleF0ubGFiZWwpfX19O3V0aWxzLmluaGVyaXRzKENvbWJveCxTcGxpdEJ1dHRvbil9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHMsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyx1aVV0aWxzPWJhaWR1LmVkaXRvci51aS51aVV0aWxzLE1hc2s9YmFpZHUuZWRpdG9yLnVpLk1hc2ssVUlCYXNlPWJhaWR1LmVkaXRvci51aS5VSUJhc2UsQnV0dG9uPWJhaWR1LmVkaXRvci51aS5CdXR0b24sRGlhbG9nPWJhaWR1LmVkaXRvci51aS5EaWFsb2c9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyh1dGlscy5leHRlbmQoe2F1dG9SZXNldDp0cnVlLGRyYWdnYWJsZTp0cnVlLG9ub2s6ZnVuY3Rpb24oKXt9LG9uY2FuY2VsOmZ1bmN0aW9uKCl7fSxvbmNsb3NlOmZ1bmN0aW9uKHQsb2spe3JldHVybiBvaz90aGlzLm9ub2soKTp0aGlzLm9uY2FuY2VsKCl9LGhvbGRTY3JvbGw6ZmFsc2V9LG9wdGlvbnMpKTt0aGlzLmluaXREaWFsb2coKX07dmFyIG1vZGFsTWFzazt2YXIgZHJhZ01hc2s7RGlhbG9nLnByb3RvdHlwZT17ZHJhZ2dhYmxlOmZhbHNlLHVpTmFtZToiZGlhbG9nIixpbml0RGlhbG9nOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsdGhlbWU9dGhpcy5lZGl0b3Iub3B0aW9ucy50aGVtZTt0aGlzLmluaXRVSUJhc2UoKTt0aGlzLm1vZGFsTWFzaz0obW9kYWxNYXNrfHwobW9kYWxNYXNrPW5ldyBNYXNrKHtjbGFzc05hbWU6ImVkdWktZGlhbG9nLW1vZGFsbWFzayIsdGhlbWU6dGhlbWV9KSkpO3RoaXMuZHJhZ01hc2s9KGRyYWdNYXNrfHwoZHJhZ01hc2s9bmV3IE1hc2soe2NsYXNzTmFtZToiZWR1aS1kaWFsb2ctZHJhZ21hc2siLHRoZW1lOnRoZW1lfSkpKTt0aGlzLmNsb3NlQnV0dG9uPW5ldyBCdXR0b24oe2NsYXNzTmFtZToiZWR1aS1kaWFsb2ctY2xvc2VidXR0b24iLHRpdGxlOm1lLmNsb3NlRGlhbG9nLHRoZW1lOnRoZW1lLG9uY2xpY2s6ZnVuY3Rpb24oKXttZS5jbG9zZShmYWxzZSl9fSk7dGhpcy5mdWxsc2NyZWVuJiZ0aGlzLmluaXRSZXNpemVFdmVudCgpO2lmKHRoaXMuYnV0dG9ucyl7Zm9yKHZhciBpPTA7aTx0aGlzLmJ1dHRvbnMubGVuZ3RoO2krKyl7aWYoISh0aGlzLmJ1dHRvbnNbaV0gaW5zdGFuY2VvZiBCdXR0b24pKXt0aGlzLmJ1dHRvbnNbaV09bmV3IEJ1dHRvbih0aGlzLmJ1dHRvbnNbaV0pfX19fSxpbml0UmVzaXplRXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcztkb21VdGlscy5vbih3aW5kb3csInJlc2l6ZSIsZnVuY3Rpb24oKXtpZihtZS5faGlkZGVufHxtZS5faGlkZGVuPT09dW5kZWZpbmVkKXtyZXR1cm59aWYobWUuX19yZXNpemVUaW1lcil7d2luZG93LmNsZWFyVGltZW91dChtZS5fX3Jlc2l6ZVRpbWVyKX1tZS5fX3Jlc2l6ZVRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bWUuX19yZXNpemVUaW1lcj1udWxsO3ZhciBkaWFsb2dXcmFwTm9kZT1tZS5nZXREb20oKSxjb250ZW50Tm9kZT1tZS5nZXREb20oImNvbnRlbnQiKSx3cmFwUmVjdD1VRS51aS51aVV0aWxzLmdldENsaWVudFJlY3QoZGlhbG9nV3JhcE5vZGUpLGNvbnRlbnRSZWN0PVVFLnVpLnVpVXRpbHMuZ2V0Q2xpZW50UmVjdChjb250ZW50Tm9kZSksdnBSZWN0PXVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCk7Y29udGVudE5vZGUuc3R5bGUud2lkdGg9KHZwUmVjdC53aWR0aC13cmFwUmVjdC53aWR0aCtjb250ZW50UmVjdC53aWR0aCkrInB4Ijtjb250ZW50Tm9kZS5zdHlsZS5oZWlnaHQ9KHZwUmVjdC5oZWlnaHQtd3JhcFJlY3QuaGVpZ2h0K2NvbnRlbnRSZWN0LmhlaWdodCkrInB4IjtkaWFsb2dXcmFwTm9kZS5zdHlsZS53aWR0aD12cFJlY3Qud2lkdGgrInB4IjtkaWFsb2dXcmFwTm9kZS5zdHlsZS5oZWlnaHQ9dnBSZWN0LmhlaWdodCsicHgiO21lLmZpcmVFdmVudCgicmVzaXplIil9LDEwMCl9KX0sZml0U2l6ZTpmdW5jdGlvbigpe3ZhciBwb3BCb2R5RWw9dGhpcy5nZXREb20oImJvZHkiKTt2YXIgc2l6ZT10aGlzLm1lc3VyZVNpemUoKTtwb3BCb2R5RWwuc3R5bGUud2lkdGg9c2l6ZS53aWR0aCsicHgiO3BvcEJvZHlFbC5zdHlsZS5oZWlnaHQ9c2l6ZS5oZWlnaHQrInB4IjtyZXR1cm4gc2l6ZX0sc2FmZVNldE9mZnNldDpmdW5jdGlvbihvZmZzZXQpe3ZhciBtZT10aGlzO3ZhciBlbD1tZS5nZXREb20oKTt2YXIgdnBSZWN0PXVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCk7dmFyIHJlY3Q9dWlVdGlscy5nZXRDbGllbnRSZWN0KGVsKTt2YXIgbGVmdD1vZmZzZXQubGVmdDtpZihsZWZ0K3JlY3Qud2lkdGg+dnBSZWN0LnJpZ2h0KXtsZWZ0PXZwUmVjdC5yaWdodC1yZWN0LndpZHRofXZhciB0b3A9b2Zmc2V0LnRvcDtpZih0b3ArcmVjdC5oZWlnaHQ+dnBSZWN0LmJvdHRvbSl7dG9wPXZwUmVjdC5ib3R0b20tcmVjdC5oZWlnaHR9ZWwuc3R5bGUubGVmdD1NYXRoLm1heChsZWZ0LDApKyJweCI7ZWwuc3R5bGUudG9wPU1hdGgubWF4KHRvcCwwKSsicHgifSxzaG93QXRDZW50ZXI6ZnVuY3Rpb24oKXt2YXIgdnBSZWN0PXVpVXRpbHMuZ2V0Vmlld3BvcnRSZWN0KCk7aWYoIXRoaXMuZnVsbHNjcmVlbil7dGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5PSIiO3ZhciBwb3BTaXplPXRoaXMuZml0U2l6ZSgpO3ZhciB0aXRsZUhlaWdodD10aGlzLmdldERvbSgidGl0bGViYXIiKS5vZmZzZXRIZWlnaHR8MDt2YXIgbGVmdD12cFJlY3Qud2lkdGgvMi1wb3BTaXplLndpZHRoLzI7dmFyIHRvcD12cFJlY3QuaGVpZ2h0LzItKHBvcFNpemUuaGVpZ2h0LXRpdGxlSGVpZ2h0KS8yLXRpdGxlSGVpZ2h0O3ZhciBwb3BFbD10aGlzLmdldERvbSgpO3RoaXMuc2FmZVNldE9mZnNldCh7bGVmdDpNYXRoLm1heChsZWZ0fDAsMCksdG9wOk1hdGgubWF4KHRvcHwwLDApfSk7aWYoIWRvbVV0aWxzLmhhc0NsYXNzKHBvcEVsLCJlZHVpLXN0YXRlLWNlbnRlcmVkIikpe3BvcEVsLmNsYXNzTmFtZSs9IiBlZHVpLXN0YXRlLWNlbnRlcmVkIn19ZWxzZXt2YXIgZGlhbG9nV3JhcE5vZGU9dGhpcy5nZXREb20oKSxjb250ZW50Tm9kZT10aGlzLmdldERvbSgiY29udGVudCIpO2RpYWxvZ1dyYXBOb2RlLnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt2YXIgd3JhcFJlY3Q9VUUudWkudWlVdGlscy5nZXRDbGllbnRSZWN0KGRpYWxvZ1dyYXBOb2RlKSxjb250ZW50UmVjdD1VRS51aS51aVV0aWxzLmdldENsaWVudFJlY3QoY29udGVudE5vZGUpO2RpYWxvZ1dyYXBOb2RlLnN0eWxlLmxlZnQ9Ii0xMDAwMDBweCI7Y29udGVudE5vZGUuc3R5bGUud2lkdGg9KHZwUmVjdC53aWR0aC13cmFwUmVjdC53aWR0aCtjb250ZW50UmVjdC53aWR0aCkrInB4Ijtjb250ZW50Tm9kZS5zdHlsZS5oZWlnaHQ9KHZwUmVjdC5oZWlnaHQtd3JhcFJlY3QuaGVpZ2h0K2NvbnRlbnRSZWN0LmhlaWdodCkrInB4IjtkaWFsb2dXcmFwTm9kZS5zdHlsZS53aWR0aD12cFJlY3Qud2lkdGgrInB4IjtkaWFsb2dXcmFwTm9kZS5zdHlsZS5oZWlnaHQ9dnBSZWN0LmhlaWdodCsicHgiO2RpYWxvZ1dyYXBOb2RlLnN0eWxlLmxlZnQ9MDt0aGlzLl9vcmlnaW5hbENvbnRleHQ9e2h0bWw6e292ZXJmbG93WDpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dYLG92ZXJmbG93WTpkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZfSxib2R5OntvdmVyZmxvd1g6ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1gsb3ZlcmZsb3dZOmRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZfX07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93WD0iaGlkZGVuIjtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4iO2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYPSJoaWRkZW4iO2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZPSJoaWRkZW4ifXRoaXMuX3Nob3coKX0sZ2V0Q29udGVudEh0bWw6ZnVuY3Rpb24oKXt2YXIgY29udGVudEh0bWw9IiI7aWYodHlwZW9mIHRoaXMuY29udGVudD09InN0cmluZyIpe2NvbnRlbnRIdG1sPXRoaXMuY29udGVudH1lbHNle2lmKHRoaXMuaWZyYW1lVXJsKXtjb250ZW50SHRtbD0nPHNwYW4gaWQ9IicrdGhpcy5pZCsnX2NvbnRtYXNrIiBjbGFzcz0iZGlhbG9nY29udG1hc2siPjwvc3Bhbj48aWZyYW1lIGlkPSInK3RoaXMuaWQrJ19pZnJhbWUiIGNsYXNzPSIlJS1pZnJhbWUiIGhlaWdodD0iMTAwJSIgd2lkdGg9IjEwMCUiIGZyYW1lYm9yZGVyPSIwIiBzcmM9IicrdGhpcy5pZnJhbWVVcmwrJyI+PC9pZnJhbWU+J319cmV0dXJuIGNvbnRlbnRIdG1sfSxnZXRIdG1sVHBsOmZ1bmN0aW9uKCl7dmFyIGZvb3RIdG1sPSIiO2lmKHRoaXMuYnV0dG9ucyl7dmFyIGJ1ZmY9W107Zm9yKHZhciBpPTA7aTx0aGlzLmJ1dHRvbnMubGVuZ3RoO2krKyl7YnVmZltpXT10aGlzLmJ1dHRvbnNbaV0ucmVuZGVySHRtbCgpfWZvb3RIdG1sPSc8ZGl2IGNsYXNzPSIlJS1mb290Ij48ZGl2IGlkPSIjI19idXR0b25zIiBjbGFzcz0iJSUtYnV0dG9ucyI+JytidWZmLmpvaW4oIiIpKyI8L2Rpdj48L2Rpdj4ifXJldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIj48ZGl2ICcrKCF0aGlzLmZ1bGxzY3JlZW4/J2NsYXNzPSIlJSInOidjbGFzcz0iJSUtd3JhcCBlZHVpLWRpYWxvZy1mdWxsc2NyZWVuLWZsYWciJykrJz48ZGl2IGlkPSIjI19ib2R5IiBjbGFzcz0iJSUtYm9keSI+PGRpdiBjbGFzcz0iJSUtc2hhZG93Ij48L2Rpdj48ZGl2IGlkPSIjI190aXRsZWJhciIgY2xhc3M9IiUlLXRpdGxlYmFyIj48ZGl2IGNsYXNzPSIlJS1kcmFnaGFuZGxlIiBvbm1vdXNlZG93bj0iJCQuX29uVGl0bGViYXJNb3VzZURvd24oZXZlbnQsIHRoaXMpOyI+PHNwYW4gY2xhc3M9IiUlLWNhcHRpb24iPicrKHRoaXMudGl0bGV8fCIiKSsiPC9zcGFuPjwvZGl2PiIrdGhpcy5jbG9zZUJ1dHRvbi5yZW5kZXJIdG1sKCkrJzwvZGl2PjxkaXYgaWQ9IiMjX2NvbnRlbnQiIGNsYXNzPSIlJS1jb250ZW50Ij4nKyh0aGlzLmF1dG9SZXNldD8iIjp0aGlzLmdldENvbnRlbnRIdG1sKCkpKyI8L2Rpdj4iK2Zvb3RIdG1sKyI8L2Rpdj48L2Rpdj48L2Rpdj4ifSxwb3N0UmVuZGVyOmZ1bmN0aW9uKCl7aWYoIXRoaXMubW9kYWxNYXNrLmdldERvbSgpKXt0aGlzLm1vZGFsTWFzay5yZW5kZXIoKTt0aGlzLm1vZGFsTWFzay5oaWRlKCl9aWYoIXRoaXMuZHJhZ01hc2suZ2V0RG9tKCkpe3RoaXMuZHJhZ01hc2sucmVuZGVyKCk7dGhpcy5kcmFnTWFzay5oaWRlKCl9dmFyIG1lPXRoaXM7dGhpcy5hZGRMaXN0ZW5lcigic2hvdyIsZnVuY3Rpb24oKXttZS5tb2RhbE1hc2suc2hvdyh0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleC0yKX0pO3RoaXMuYWRkTGlzdGVuZXIoImhpZGUiLGZ1bmN0aW9uKCl7bWUubW9kYWxNYXNrLmhpZGUoKX0pO2lmKHRoaXMuYnV0dG9ucyl7Zm9yKHZhciBpPTA7aTx0aGlzLmJ1dHRvbnMubGVuZ3RoO2krKyl7dGhpcy5idXR0b25zW2ldLnBvc3RSZW5kZXIoKX19ZG9tVXRpbHMub24od2luZG93LCJyZXNpemUiLGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKCFtZS5pc0hpZGRlbigpKXttZS5zYWZlU2V0T2Zmc2V0KHVpVXRpbHMuZ2V0Q2xpZW50UmVjdChtZS5nZXREb20oKSkpfX0pfSk7aWYodGhpcy5ob2xkU2Nyb2xsKXtpZighbWUuaWZyYW1lVXJsKXtkb21VdGlscy5vbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChtZS5pZCsiX2lmcmFtZSIpLCFicm93c2VyLmdlY2tvPyJtb3VzZXdoZWVsIjoiRE9NTW91c2VTY3JvbGwiLGZ1bmN0aW9uKGUpe2RvbVV0aWxzLnByZXZlbnREZWZhdWx0KGUpfSl9ZWxzZXttZS5hZGRMaXN0ZW5lcigiZGlhbG9nYWZ0ZXJyZXNldCIsZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBpZnJhbWVXaW5kb3c9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobWUuaWQrIl9pZnJhbWUiKS5jb250ZW50V2luZG93O2lmKGJyb3dzZXIuaWUpe3ZhciB0aW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpZihpZnJhbWVXaW5kb3cuZG9jdW1lbnQmJmlmcmFtZVdpbmRvdy5kb2N1bWVudC5ib2R5KXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aW1lcik7dGltZXI9bnVsbDtkb21VdGlscy5vbihpZnJhbWVXaW5kb3cuZG9jdW1lbnQuYm9keSwhYnJvd3Nlci5nZWNrbz8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIixmdW5jdGlvbihlKXtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChlKX0pfX0sMTAwKX1lbHNle2RvbVV0aWxzLm9uKGlmcmFtZVdpbmRvdywhYnJvd3Nlci5nZWNrbz8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIixmdW5jdGlvbihlKXtkb21VdGlscy5wcmV2ZW50RGVmYXVsdChlKX0pfX0sMSl9KX19dGhpcy5faGlkZSgpfSxtZXN1cmVTaXplOmZ1bmN0aW9uKCl7dmFyIGJvZHk9dGhpcy5nZXREb20oImJvZHkiKTt2YXIgd2lkdGg9dWlVdGlscy5nZXRDbGllbnRSZWN0KHRoaXMuZ2V0RG9tKCJjb250ZW50IikpLndpZHRoO3ZhciBkaWFsb2dCb2R5U3R5bGU9Ym9keS5zdHlsZTtkaWFsb2dCb2R5U3R5bGUud2lkdGg9d2lkdGg7cmV0dXJuIHVpVXRpbHMuZ2V0Q2xpZW50UmVjdChib2R5KX0sX29uVGl0bGViYXJNb3VzZURvd246ZnVuY3Rpb24oZXZ0LGVsKXtpZih0aGlzLmRyYWdnYWJsZSl7dmFyIHJlY3Q7dmFyIHZwUmVjdD11aVV0aWxzLmdldFZpZXdwb3J0UmVjdCgpO3ZhciBtZT10aGlzO3VpVXRpbHMuc3RhcnREcmFnKGV2dCx7b25kcmFnc3RhcnQ6ZnVuY3Rpb24oKXtyZWN0PXVpVXRpbHMuZ2V0Q2xpZW50UmVjdChtZS5nZXREb20oKSk7bWUuZ2V0RG9tKCJjb250bWFzayIpLnN0eWxlLnZpc2liaWxpdHk9InZpc2libGUiO21lLmRyYWdNYXNrLnNob3cobWUuZ2V0RG9tKCkuc3R5bGUuekluZGV4LTEpfSxvbmRyYWdtb3ZlOmZ1bmN0aW9uKHgseSl7dmFyIGxlZnQ9cmVjdC5sZWZ0K3g7dmFyIHRvcD1yZWN0LnRvcCt5O21lLnNhZmVTZXRPZmZzZXQoe2xlZnQ6bGVmdCx0b3A6dG9wfSl9LG9uZHJhZ3N0b3A6ZnVuY3Rpb24oKXttZS5nZXREb20oImNvbnRtYXNrIikuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtkb21VdGlscy5yZW1vdmVDbGFzc2VzKG1lLmdldERvbSgpLFsiZWR1aS1zdGF0ZS1jZW50ZXJlZCJdKTttZS5kcmFnTWFzay5oaWRlKCl9fSl9fSxyZXNldDpmdW5jdGlvbigpe3RoaXMuZ2V0RG9tKCJjb250ZW50IikuaW5uZXJIVE1MPXRoaXMuZ2V0Q29udGVudEh0bWwoKTt0aGlzLmZpcmVFdmVudCgiZGlhbG9nYWZ0ZXJyZXNldCIpfSxfc2hvdzpmdW5jdGlvbigpe2lmKHRoaXMuX2hpZGRlbil7dGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5PSIiO3RoaXMuZWRpdG9yLmNvbnRhaW5lci5zdHlsZS56SW5kZXgmJih0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleD10aGlzLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4KjErMTApO3RoaXMuX2hpZGRlbj1mYWxzZTt0aGlzLmZpcmVFdmVudCgic2hvdyIpO2JhaWR1LmVkaXRvci51aS51aVV0aWxzLmdldEZpeGVkTGF5ZXIoKS5zdHlsZS56SW5kZXg9dGhpcy5nZXREb20oKS5zdHlsZS56SW5kZXgtNH19LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZGRlbn0sX2hpZGU6ZnVuY3Rpb24oKXtpZighdGhpcy5faGlkZGVuKXt2YXIgd3JhcE5vZGU9dGhpcy5nZXREb20oKTt3cmFwTm9kZS5zdHlsZS5kaXNwbGF5PSJub25lIjt3cmFwTm9kZS5zdHlsZS56SW5kZXg9IiI7d3JhcE5vZGUuc3R5bGUud2lkdGg9IiI7d3JhcE5vZGUuc3R5bGUuaGVpZ2h0PSIiO3RoaXMuX2hpZGRlbj10cnVlO3RoaXMuZmlyZUV2ZW50KCJoaWRlIil9fSxvcGVuOmZ1bmN0aW9uKCl7aWYodGhpcy5hdXRvUmVzZXQpe3RyeXt0aGlzLnJlc2V0KCl9Y2F0Y2goZSl7dGhpcy5yZW5kZXIoKTt0aGlzLm9wZW4oKX19dGhpcy5zaG93QXRDZW50ZXIoKTtpZih0aGlzLmlmcmFtZVVybCl7dHJ5e3RoaXMuZ2V0RG9tKCJpZnJhbWUiKS5mb2N1cygpfWNhdGNoKGV4KXt9fX0sX29uQ2xvc2VCdXR0b25DbGljazpmdW5jdGlvbihldnQsZWwpe3RoaXMuY2xvc2UoZmFsc2UpfSxjbG9zZTpmdW5jdGlvbihvayl7aWYodGhpcy5maXJlRXZlbnQoImNsb3NlIixvaykhPT1mYWxzZSl7aWYodGhpcy5mdWxsc2NyZWVuKXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dYPXRoaXMuX29yaWdpbmFsQ29udGV4dC5odG1sLm92ZXJmbG93WDtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3dZPXRoaXMuX29yaWdpbmFsQ29udGV4dC5odG1sLm92ZXJmbG93WTtkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WD10aGlzLl9vcmlnaW5hbENvbnRleHQuYm9keS5vdmVyZmxvd1g7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1k9dGhpcy5fb3JpZ2luYWxDb250ZXh0LmJvZHkub3ZlcmZsb3dZO2RlbGV0ZSB0aGlzLl9vcmlnaW5hbENvbnRleHR9dGhpcy5faGlkZSgpfX19O3V0aWxzLmluaGVyaXRzKERpYWxvZyxVSUJhc2UpfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLE1lbnU9YmFpZHUuZWRpdG9yLnVpLk1lbnUsU3BsaXRCdXR0b249YmFpZHUuZWRpdG9yLnVpLlNwbGl0QnV0dG9uLE1lbnVCdXR0b249YmFpZHUuZWRpdG9yLnVpLk1lbnVCdXR0b249ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRNZW51QnV0dG9uKCl9O01lbnVCdXR0b24ucHJvdG90eXBlPXtpbml0TWVudUJ1dHRvbjpmdW5jdGlvbigpe3ZhciBtZT10aGlzO3RoaXMudWlOYW1lPSJtZW51YnV0dG9uIjt0aGlzLnBvcHVwPW5ldyBNZW51KHtpdGVtczptZS5pdGVtcyxjbGFzc05hbWU6bWUuY2xhc3NOYW1lLGVkaXRvcjptZS5lZGl0b3J9KTt0aGlzLnBvcHVwLmFkZExpc3RlbmVyKCJzaG93IixmdW5jdGlvbigpe3ZhciBsaXN0PXRoaXM7Zm9yKHZhciBpPTA7aTxsaXN0Lml0ZW1zLmxlbmd0aDtpKyspe2xpc3QuaXRlbXNbaV0ucmVtb3ZlU3RhdGUoImNoZWNrZWQiKTtpZihsaXN0Lml0ZW1zW2ldLnZhbHVlPT1tZS5fdmFsdWUpe2xpc3QuaXRlbXNbaV0uYWRkU3RhdGUoImNoZWNrZWQiKTt0aGlzLnZhbHVlPW1lLl92YWx1ZX19fSk7dGhpcy5pbml0U3BsaXRCdXR0b24oKX0sc2V0VmFsdWU6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3ZhbHVlPXZhbHVlfX07dXRpbHMuaW5oZXJpdHMoTWVudUJ1dHRvbixTcGxpdEJ1dHRvbil9KSgpOyhmdW5jdGlvbigpe3ZhciB1dGlscz1iYWlkdS5lZGl0b3IudXRpbHM7dmFyIGVkaXRvcnVpPWJhaWR1LmVkaXRvci51aTt2YXIgX0RpYWxvZz1lZGl0b3J1aS5EaWFsb2c7ZWRpdG9ydWkuYnV0dG9ucz17fTtlZGl0b3J1aS5EaWFsb2c9ZnVuY3Rpb24ob3B0aW9ucyl7dmFyIGRpYWxvZz1uZXcgX0RpYWxvZyhvcHRpb25zKTtkaWFsb2cuYWRkTGlzdGVuZXIoImhpZGUiLGZ1bmN0aW9uKCl7aWYoZGlhbG9nLmVkaXRvcil7dmFyIGVkaXRvcj1kaWFsb2cuZWRpdG9yO3RyeXtpZihicm93c2VyLmdlY2tvKXt2YXIgeT1lZGl0b3Iud2luZG93LnNjcm9sbFkseD1lZGl0b3Iud2luZG93LnNjcm9sbFg7ZWRpdG9yLmJvZHkuZm9jdXMoKTtlZGl0b3Iud2luZG93LnNjcm9sbFRvKHgseSl9ZWxzZXtlZGl0b3IuZm9jdXMoKX19Y2F0Y2goZXgpe319fSk7cmV0dXJuIGRpYWxvZ307dmFyIGlmcmFtZVVybE1hcD17YW5jaG9yOiJ+L2RpYWxvZ3MvYW5jaG9yL2FuY2hvci5hc3AiLGluc2VydGltYWdlOiJ+L2RpYWxvZ3MvaW1hZ2UvaW1hZ2UuYXNwIixsaW5rOiJ+L2RpYWxvZ3MvbGluay9saW5rLmFzcCIsc3BlY2hhcnM6In4vZGlhbG9ncy9zcGVjaGFycy9zcGVjaGFycy5hc3AiLHNlYXJjaHJlcGxhY2U6In4vZGlhbG9ncy9zZWFyY2hyZXBsYWNlL3NlYXJjaHJlcGxhY2UuYXNwIixtYXA6In4vZGlhbG9ncy9tYXAvbWFwLmFzcCIsZ21hcDoifi9kaWFsb2dzL2dtYXAvZ21hcC5hc3AiLGluc2VydHZpZGVvOiJ+L2RpYWxvZ3MvdmlkZW8vdmlkZW8uYXNwIixlbW90aW9uOiJ+L2RpYWxvZ3MvZW1vdGlvbi9lbW90aW9uLmFzcCIsd29yZGltYWdlOiJ+L2RpYWxvZ3Mvd29yZGltYWdlL3dvcmRpbWFnZS5hc3AiLGF0dGFjaG1lbnQ6In4vZGlhbG9ncy9hdHRhY2htZW50L2F0dGFjaG1lbnQuYXNwIixpbnNlcnRmcmFtZToifi9kaWFsb2dzL2luc2VydGZyYW1lL2luc2VydGZyYW1lLmFzcCIsZWRpdHRpcDoifi9kaWFsb2dzL3RhYmxlL2VkaXR0aXAuYXNwIixlZGl0dGFibGU6In4vZGlhbG9ncy90YWJsZS9lZGl0dGFibGUuYXNwIixlZGl0dGQ6In4vZGlhbG9ncy90YWJsZS9lZGl0dGQuYXNwIixzY3Jhd2w6In4vZGlhbG9ncy9zY3Jhd2wvc2NyYXdsLmFzcCIsbXVzaWM6In4vZGlhbG9ncy9tdXNpYy9tdXNpYy5hc3AiLH07dmFyIGJ0bkNtZHM9WyJ1bmRvIiwicmVkbyIsImZvcm1hdG1hdGNoIiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImZvbnRib3JkZXIiLCJ0b3VwcGVyY2FzZSIsInRvbG93ZXJjYXNlIiwic3RyaWtldGhyb3VnaCIsInN1YnNjcmlwdCIsInN1cGVyc2NyaXB0Iiwic291cmNlIiwiaW5kZW50Iiwib3V0ZGVudCIsImJsb2NrcXVvdGUiLCJwYXN0ZXBsYWluIiwicGFnZWJyZWFrIiwic2VsZWN0YWxsIiwicHJpbnQiLCJob3Jpem9udGFsIiwicmVtb3ZlZm9ybWF0IiwidGltZSIsImRhdGUiLCJ1bmxpbmsiLCJpbnNlcnRwYXJhZ3JhcGhiZWZvcmV0YWJsZSIsImluc2VydHJvdyIsImluc2VydGNvbCIsIm1lcmdlcmlnaHQiLCJtZXJnZWRvd24iLCJkZWxldGVyb3ciLCJkZWxldGVjb2wiLCJzcGxpdHRvcm93cyIsInNwbGl0dG9jb2xzIiwic3BsaXR0b2NlbGxzIiwibWVyZ2VjZWxscyIsImRlbGV0ZXRhYmxlIiwiZHJhZnRzIl07Zm9yKHZhciBpPTAsY2k7Y2k9YnRuQ21kc1tpKytdOyl7Y2k9Y2kudG9Mb3dlckNhc2UoKTtlZGl0b3J1aVtjaV09ZnVuY3Rpb24oY21kKXtyZXR1cm4gZnVuY3Rpb24oZWRpdG9yKXt2YXIgdWk9bmV3IGVkaXRvcnVpLkJ1dHRvbih7Y2xhc3NOYW1lOiJlZHVpLWZvci0iK2NtZCx0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFtjbWRdfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuIitjbWQpfHwiIixvbmNsaWNrOmZ1bmN0aW9uKCl7ZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCl9LHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLHNob3dUZXh0OmZhbHNlfSk7ZWRpdG9ydWkuYnV0dG9uc1tjbWRdPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbih0eXBlLGNhdXNlQnlVaSx1aVJlYWR5KXt2YXIgc3RhdGU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZCk7aWYoc3RhdGU9PS0xKXt1aS5zZXREaXNhYmxlZCh0cnVlKTt1aS5zZXRDaGVja2VkKGZhbHNlKX1lbHNle2lmKCF1aVJlYWR5KXt1aS5zZXREaXNhYmxlZChmYWxzZSk7dWkuc2V0Q2hlY2tlZChzdGF0ZSl9fX0pO3JldHVybiB1aX19KGNpKX1lZGl0b3J1aS5jbGVhcmRvYz1mdW5jdGlvbihlZGl0b3Ipe3ZhciB1aT1uZXcgZWRpdG9ydWkuQnV0dG9uKHtjbGFzc05hbWU6ImVkdWktZm9yLWNsZWFyZG9jIix0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcC5jbGVhcmRvY3x8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmNsZWFyZG9jIil8fCIiLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLG9uY2xpY2s6ZnVuY3Rpb24oKXtpZihjb25maXJtKGVkaXRvci5nZXRMYW5nKCJjb25maXJtQ2xlYXIiKSkpe2VkaXRvci5leGVjQ29tbWFuZCgiY2xlYXJkb2MiKX19fSk7ZWRpdG9ydWkuYnV0dG9ucy5jbGVhcmRvYz11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImNsZWFyZG9jIik9PS0xKX0pO3JldHVybiB1aX07dmFyIHR5cGVzZXQ9e2p1c3RpZnk6WyJsZWZ0IiwicmlnaHQiLCJjZW50ZXIiLCJqdXN0aWZ5Il0saW1hZ2VmbG9hdDpbIm5vbmUiLCJsZWZ0IiwiY2VudGVyIiwicmlnaHQiXSxkaXJlY3Rpb25hbGl0eTpbImx0ciIsInJ0bCJdfTtmb3IodmFyIHAgaW4gdHlwZXNldCl7KGZ1bmN0aW9uKGNtZCx2YWwpe2Zvcih2YXIgaT0wLGNpO2NpPXZhbFtpKytdOyl7KGZ1bmN0aW9uKGNtZDIpe2VkaXRvcnVpW2NtZC5yZXBsYWNlKCJmbG9hdCIsIiIpK2NtZDJdPWZ1bmN0aW9uKGVkaXRvcil7dmFyIHVpPW5ldyBlZGl0b3J1aS5CdXR0b24oe2NsYXNzTmFtZToiZWR1aS1mb3ItIitjbWQucmVwbGFjZSgiZmxvYXQiLCIiKStjbWQyLHRpdGxlOmVkaXRvci5vcHRpb25zLmxhYmVsTWFwW2NtZC5yZXBsYWNlKCJmbG9hdCIsIiIpK2NtZDJdfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuIitjbWQucmVwbGFjZSgiZmxvYXQiLCIiKStjbWQyKXx8IiIsdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUsb25jbGljazpmdW5jdGlvbigpe2VkaXRvci5leGVjQ29tbWFuZChjbWQsY21kMil9fSk7ZWRpdG9ydWkuYnV0dG9uc1tjbWRdPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbih0eXBlLGNhdXNlQnlVaSx1aVJlYWR5KXt1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kKT09LTEpO3VpLnNldENoZWNrZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCk9PWNtZDImJiF1aVJlYWR5KX0pO3JldHVybiB1aX19KShjaSl9fSkocCx0eXBlc2V0W3BdKX1mb3IodmFyIGk9MCxjaTtjaT1bImJhY2tjb2xvciIsImZvcmVjb2xvciJdW2krK107KXtlZGl0b3J1aVtjaV09ZnVuY3Rpb24oY21kKXtyZXR1cm4gZnVuY3Rpb24oZWRpdG9yKXt2YXIgdWk9bmV3IGVkaXRvcnVpLkNvbG9yQnV0dG9uKHtjbGFzc05hbWU6ImVkdWktZm9yLSIrY21kLGNvbG9yOiJkZWZhdWx0Iix0aXRsZTplZGl0b3Iub3B0aW9ucy5sYWJlbE1hcFtjbWRdfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuIitjbWQpfHwiIixlZGl0b3I6ZWRpdG9yLG9ucGlja2NvbG9yOmZ1bmN0aW9uKHQsY29sb3Ipe2VkaXRvci5leGVjQ29tbWFuZChjbWQsY29sb3IpfSxvbnBpY2tub2NvbG9yOmZ1bmN0aW9uKCl7ZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCwiZGVmYXVsdCIpO3RoaXMuc2V0Q29sb3IoInRyYW5zcGFyZW50Iik7dGhpcy5jb2xvcj0iZGVmYXVsdCJ9LG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24oKXtlZGl0b3IuZXhlY0NvbW1hbmQoY21kLHRoaXMuY29sb3IpfX0pO2VkaXRvcnVpLmJ1dHRvbnNbY21kXT11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kKT09LTEpfSk7cmV0dXJuIHVpfX0oY2kpfXZhciBkaWFsb2dCdG5zPXtub09rOlsic2VhcmNocmVwbGFjZSIsImhlbHAiLCJzcGVjaGFycyIsIndlYmFwcCIsInByZXZpZXciXSxvazpbImF0dGFjaG1lbnQiLCJhbmNob3IiLCJsaW5rIiwiaW5zZXJ0aW1hZ2UiLCJtYXAiLCJnbWFwIiwiaW5zZXJ0ZnJhbWUiLCJ3b3JkaW1hZ2UiLCJpbnNlcnR2aWRlbyIsImluc2VydGZyYW1lIiwiZWRpdHRpcCIsImVkaXR0YWJsZSIsImVkaXR0ZCIsInNjcmF3bCIsInRlbXBsYXRlIiwibXVzaWMiLCJiYWNrZ3JvdW5kIiwiY2hhcnRzIl19O2Zvcih2YXIgcCBpbiBkaWFsb2dCdG5zKXsoZnVuY3Rpb24odHlwZSx2YWxzKXtmb3IodmFyIGk9MCxjaTtjaT12YWxzW2krK107KXtpZihicm93c2VyLm9wZXJhJiZjaT09PSJzZWFyY2hyZXBsYWNlIil7Y29udGludWV9KGZ1bmN0aW9uKGNtZCl7ZWRpdG9ydWlbY21kXT1mdW5jdGlvbihlZGl0b3IsaWZyYW1lVXJsLHRpdGxlKXtpZnJhbWVVcmw9aWZyYW1lVXJsfHwoZWRpdG9yLm9wdGlvbnMuaWZyYW1lVXJsTWFwfHx7fSlbY21kXXx8aWZyYW1lVXJsTWFwW2NtZF07dGl0bGU9ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXBbY21kXXx8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLiIrY21kKXx8IiI7dmFyIGRpYWxvZztpZihpZnJhbWVVcmwpe2RpYWxvZz1uZXcgZWRpdG9ydWkuRGlhbG9nKHV0aWxzLmV4dGVuZCh7aWZyYW1lVXJsOmVkaXRvci51aS5tYXBVcmwoaWZyYW1lVXJsKSxlZGl0b3I6ZWRpdG9yLGNsYXNzTmFtZToiZWR1aS1mb3ItIitjbWQsdGl0bGU6dGl0bGUsaG9sZFNjcm9sbDpjbWQ9PT0iaW5zZXJ0aW1hZ2UiLGZ1bGxzY3JlZW46L2NoYXJ0c3xwcmV2aWV3Ly50ZXN0KGNtZCksY2xvc2VEaWFsb2c6ZWRpdG9yLmdldExhbmcoImNsb3NlRGlhbG9nIil9LHR5cGU9PSJvayI/e2J1dHRvbnM6W3tjbGFzc05hbWU6ImVkdWktb2tidXR0b24iLGxhYmVsOmVkaXRvci5nZXRMYW5nKCJvayIpLGVkaXRvcjplZGl0b3Isb25jbGljazpmdW5jdGlvbigpe2RpYWxvZy5jbG9zZSh0cnVlKX19LHtjbGFzc05hbWU6ImVkdWktY2FuY2VsYnV0dG9uIixsYWJlbDplZGl0b3IuZ2V0TGFuZygiY2FuY2VsIiksZWRpdG9yOmVkaXRvcixvbmNsaWNrOmZ1bmN0aW9uKCl7ZGlhbG9nLmNsb3NlKGZhbHNlKX19XX06e30pKTtlZGl0b3IudWkuX2RpYWxvZ3NbY21kKyJEaWFsb2ciXT1kaWFsb2d9dmFyIHVpPW5ldyBlZGl0b3J1aS5CdXR0b24oe2NsYXNzTmFtZToiZWR1aS1mb3ItIitjbWQsdGl0bGU6dGl0bGUsb25jbGljazpmdW5jdGlvbigpe2lmKGRpYWxvZyl7c3dpdGNoKGNtZCl7Y2FzZSJ3b3JkaW1hZ2UiOnZhciBpbWFnZXM9ZWRpdG9yLmV4ZWNDb21tYW5kKCJ3b3JkaW1hZ2UiKTtpZihpbWFnZXMmJmltYWdlcy5sZW5ndGgpe2RpYWxvZy5yZW5kZXIoKTtkaWFsb2cub3BlbigpfWJyZWFrO2Nhc2Uic2NyYXdsIjppZihlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoInNjcmF3bCIpIT0tMSl7ZGlhbG9nLnJlbmRlcigpO2RpYWxvZy5vcGVuKCl9YnJlYWs7ZGVmYXVsdDpkaWFsb2cucmVuZGVyKCk7ZGlhbG9nLm9wZW4oKX19fSx0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSxkaXNhYmxlZDooY21kPT0ic2NyYXdsIiYmZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJzY3Jhd2wiKT09LTEpfHwoY21kPT0iY2hhcnRzIil9KTtlZGl0b3J1aS5idXR0b25zW2NtZF09dWk7ZWRpdG9yLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIHVuTmVlZENoZWNrU3RhdGU9e2VkaXR0YWJsZToxfTtpZihjbWQgaW4gdW5OZWVkQ2hlY2tTdGF0ZSl7cmV0dXJufXZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kKTtpZih1aS5nZXREb20oKSl7dWkuc2V0RGlzYWJsZWQoc3RhdGU9PS0xKTt1aS5zZXRDaGVja2VkKHN0YXRlKX19KTtyZXR1cm4gdWl9fSkoY2kudG9Mb3dlckNhc2UoKSl9fSkocCxkaWFsb2dCdG5zW3BdKX1lZGl0b3J1aS5zbmFwc2NyZWVuPWZ1bmN0aW9uKGVkaXRvcixpZnJhbWVVcmwsdGl0bGUpe3RpdGxlPWVkaXRvci5vcHRpb25zLmxhYmVsTWFwLnNuYXBzY3JlZW58fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5zbmFwc2NyZWVuIil8fCIiO3ZhciB1aT1uZXcgZWRpdG9ydWkuQnV0dG9uKHtjbGFzc05hbWU6ImVkdWktZm9yLXNuYXBzY3JlZW4iLHRpdGxlOnRpdGxlLG9uY2xpY2s6ZnVuY3Rpb24oKXtlZGl0b3IuZXhlY0NvbW1hbmQoInNuYXBzY3JlZW4iKX0sdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWV9KTtlZGl0b3J1aS5idXR0b25zLnNuYXBzY3JlZW49dWk7aWZyYW1lVXJsPWlmcmFtZVVybHx8KGVkaXRvci5vcHRpb25zLmlmcmFtZVVybE1hcHx8e30pWyJzbmFwc2NyZWVuIl18fGlmcmFtZVVybE1hcC5zbmFwc2NyZWVuO2lmKGlmcmFtZVVybCl7dmFyIGRpYWxvZz1uZXcgZWRpdG9ydWkuRGlhbG9nKHtpZnJhbWVVcmw6ZWRpdG9yLnVpLm1hcFVybChpZnJhbWVVcmwpLGVkaXRvcjplZGl0b3IsY2xhc3NOYW1lOiJlZHVpLWZvci1zbmFwc2NyZWVuIix0aXRsZTp0aXRsZSxidXR0b25zOlt7Y2xhc3NOYW1lOiJlZHVpLW9rYnV0dG9uIixsYWJlbDplZGl0b3IuZ2V0TGFuZygib2siKSxlZGl0b3I6ZWRpdG9yLG9uY2xpY2s6ZnVuY3Rpb24oKXtkaWFsb2cuY2xvc2UodHJ1ZSl9fSx7Y2xhc3NOYW1lOiJlZHVpLWNhbmNlbGJ1dHRvbiIsbGFiZWw6ZWRpdG9yLmdldExhbmcoImNhbmNlbCIpLGVkaXRvcjplZGl0b3Isb25jbGljazpmdW5jdGlvbigpe2RpYWxvZy5jbG9zZShmYWxzZSl9fV19KTtkaWFsb2cucmVuZGVyKCk7ZWRpdG9yLnVpLl9kaWFsb2dzLnNuYXBzY3JlZW5EaWFsb2c9ZGlhbG9nfWVkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3VpLnNldERpc2FibGVkKGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgic25hcHNjcmVlbiIpPT0tMSl9KTtyZXR1cm4gdWl9O2VkaXRvcnVpLmluc2VydGNvZGU9ZnVuY3Rpb24oZWRpdG9yLGxpc3QsdGl0bGUpe2xpc3Q9ZWRpdG9yLm9wdGlvbnMuaW5zZXJ0Y29kZXx8W107dGl0bGU9ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXAuaW5zZXJ0Y29kZXx8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmluc2VydGNvZGUiKXx8IiI7dmFyIGl0ZW1zPVtdO3V0aWxzLmVhY2gobGlzdCxmdW5jdGlvbihrZXksdmFsKXtpdGVtcy5wdXNoKHtsYWJlbDprZXksdmFsdWU6dmFsLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktbGFiZWwgJSUtbGFiZWwiID4nKyh0aGlzLmxhYmVsfHwiIikrIjwvZGl2PiJ9fSl9KTt2YXIgdWk9bmV3IGVkaXRvcnVpLkNvbWJveCh7ZWRpdG9yOmVkaXRvcixpdGVtczppdGVtcyxvbnNlbGVjdDpmdW5jdGlvbih0LGluZGV4KXtlZGl0b3IuZXhlY0NvbW1hbmQoImluc2VydGNvZGUiLHRoaXMuaXRlbXNbaW5kZXhdLnZhbHVlKX0sb25idXR0b25jbGljazpmdW5jdGlvbigpe3RoaXMuc2hvd1BvcHVwKCl9LHRpdGxlOnRpdGxlLGluaXRWYWx1ZTp0aXRsZSxjbGFzc05hbWU6ImVkdWktZm9yLWluc2VydGNvZGUiLGluZGV4QnlWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7aWYodmFsdWUpe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMuaXRlbXNbaV07aSsrKXtpZihjaS52YWx1ZS5pbmRleE9mKHZhbHVlKSE9LTEpe3JldHVybiBpfX19cmV0dXJuIC0xfX0pO2VkaXRvcnVpLmJ1dHRvbnMuaW5zZXJ0Y29kZT11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24odHlwZSxjYXVzZUJ5VWksdWlSZWFkeSl7aWYoIXVpUmVhZHkpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImluc2VydGNvZGUiKTtpZihzdGF0ZT09LTEpe3VpLnNldERpc2FibGVkKHRydWUpfWVsc2V7dWkuc2V0RGlzYWJsZWQoZmFsc2UpO3ZhciB2YWx1ZT1lZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoImluc2VydGNvZGUiKTtpZighdmFsdWUpe3VpLnNldFZhbHVlKHRpdGxlKTtyZXR1cm59dmFsdWUmJih2YWx1ZT12YWx1ZS5yZXBsYWNlKC9bJyJdL2csIiIpLnNwbGl0KCIsIilbMF0pO3VpLnNldFZhbHVlKHZhbHVlKX19fSk7cmV0dXJuIHVpfTtlZGl0b3J1aS5mb250ZmFtaWx5PWZ1bmN0aW9uKGVkaXRvcixsaXN0LHRpdGxlKXtsaXN0PWVkaXRvci5vcHRpb25zLmZvbnRmYW1pbHl8fFtdO3RpdGxlPWVkaXRvci5vcHRpb25zLmxhYmVsTWFwLmZvbnRmYW1pbHl8fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5mb250ZmFtaWx5Iil8fCIiO2lmKCFsaXN0Lmxlbmd0aCl7cmV0dXJufWZvcih2YXIgaT0wLGNpLGl0ZW1zPVtdO2NpPWxpc3RbaV07aSsrKXt2YXIgbGFuZ0xhYmVsPWVkaXRvci5nZXRMYW5nKCJmb250ZmFtaWx5IilbY2kubmFtZV18fCIiOyhmdW5jdGlvbihrZXksdmFsKXtpdGVtcy5wdXNoKHtsYWJlbDprZXksdmFsdWU6dmFsLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktbGFiZWwgJSUtbGFiZWwiIHN0eWxlPSJmb250LWZhbWlseTonK3V0aWxzLnVuYXNwKHRoaXMudmFsdWUpKyciPicrKHRoaXMubGFiZWx8fCIiKSsiPC9kaXY+In19KX0pKGNpLmxhYmVsfHxsYW5nTGFiZWwsY2kudmFsKX12YXIgdWk9bmV3IGVkaXRvcnVpLkNvbWJveCh7ZWRpdG9yOmVkaXRvcixpdGVtczppdGVtcyxvbnNlbGVjdDpmdW5jdGlvbih0LGluZGV4KXtlZGl0b3IuZXhlY0NvbW1hbmQoIkZvbnRGYW1pbHkiLHRoaXMuaXRlbXNbaW5kZXhdLnZhbHVlKX0sb25idXR0b25jbGljazpmdW5jdGlvbigpe3RoaXMuc2hvd1BvcHVwKCl9LHRpdGxlOnRpdGxlLGluaXRWYWx1ZTp0aXRsZSxjbGFzc05hbWU6ImVkdWktZm9yLWZvbnRmYW1pbHkiLGluZGV4QnlWYWx1ZTpmdW5jdGlvbih2YWx1ZSl7aWYodmFsdWUpe2Zvcih2YXIgaT0wLGNpO2NpPXRoaXMuaXRlbXNbaV07aSsrKXtpZihjaS52YWx1ZS5pbmRleE9mKHZhbHVlKSE9LTEpe3JldHVybiBpfX19cmV0dXJuIC0xfX0pO2VkaXRvcnVpLmJ1dHRvbnMuZm9udGZhbWlseT11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24odHlwZSxjYXVzZUJ5VWksdWlSZWFkeSl7aWYoIXVpUmVhZHkpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoIkZvbnRGYW1pbHkiKTtpZihzdGF0ZT09LTEpe3VpLnNldERpc2FibGVkKHRydWUpfWVsc2V7dWkuc2V0RGlzYWJsZWQoZmFsc2UpO3ZhciB2YWx1ZT1lZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoIkZvbnRGYW1pbHkiKTt2YWx1ZSYmKHZhbHVlPXZhbHVlLnJlcGxhY2UoL1snIl0vZywiIikuc3BsaXQoIiwiKVswXSk7dWkuc2V0VmFsdWUodmFsdWUpfX19KTtyZXR1cm4gdWl9O2VkaXRvcnVpLmZvbnRzaXplPWZ1bmN0aW9uKGVkaXRvcixsaXN0LHRpdGxlKXt0aXRsZT1lZGl0b3Iub3B0aW9ucy5sYWJlbE1hcC5mb250c2l6ZXx8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmZvbnRzaXplIil8fCIiO2xpc3Q9bGlzdHx8ZWRpdG9yLm9wdGlvbnMuZm9udHNpemV8fFtdO2lmKCFsaXN0Lmxlbmd0aCl7cmV0dXJufXZhciBpdGVtcz1bXTtmb3IodmFyIGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7dmFyIHNpemU9bGlzdFtpXSsicHgiO2l0ZW1zLnB1c2goe2xhYmVsOnNpemUsdmFsdWU6c2l6ZSx0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSxyZW5kZXJMYWJlbGFzcDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGNsYXNzPSJlZHVpLWxhYmVsICUlLWxhYmVsIiBzdHlsZT0ibGluZS1oZWlnaHQ6MTtmb250LXNpemU6Jyt0aGlzLnZhbHVlKyciPicrKHRoaXMubGFiZWx8fCIiKSsiPC9kaXY+In19KX12YXIgdWk9bmV3IGVkaXRvcnVpLkNvbWJveCh7ZWRpdG9yOmVkaXRvcixpdGVtczppdGVtcyx0aXRsZTp0aXRsZSxpbml0VmFsdWU6dGl0bGUsb25zZWxlY3Q6ZnVuY3Rpb24odCxpbmRleCl7ZWRpdG9yLmV4ZWNDb21tYW5kKCJGb250U2l6ZSIsdGhpcy5pdGVtc1tpbmRleF0udmFsdWUpfSxvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uKCl7dGhpcy5zaG93UG9wdXAoKX0sY2xhc3NOYW1lOiJlZHVpLWZvci1mb250c2l6ZSJ9KTtlZGl0b3J1aS5idXR0b25zLmZvbnRzaXplPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbih0eXBlLGNhdXNlQnlVaSx1aVJlYWR5KXtpZighdWlSZWFkeSl7dmFyIHN0YXRlPWVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgiRm9udFNpemUiKTtpZihzdGF0ZT09LTEpe3VpLnNldERpc2FibGVkKHRydWUpfWVsc2V7dWkuc2V0RGlzYWJsZWQoZmFsc2UpO3VpLnNldFZhbHVlKGVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgiRm9udFNpemUiKSl9fX0pO3JldHVybiB1aX07ZWRpdG9ydWkucGFyYWdyYXBoPWZ1bmN0aW9uKGVkaXRvcixsaXN0LHRpdGxlKXt0aXRsZT1lZGl0b3Iub3B0aW9ucy5sYWJlbE1hcC5wYXJhZ3JhcGh8fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5wYXJhZ3JhcGgiKXx8IiI7bGlzdD1lZGl0b3Iub3B0aW9ucy5wYXJhZ3JhcGh8fFtdO2lmKHV0aWxzLmlzRW1wdHlPYmplY3QobGlzdCkpe3JldHVybn12YXIgaXRlbXM9W107Zm9yKHZhciBpIGluIGxpc3Qpe2l0ZW1zLnB1c2goe3ZhbHVlOmksbGFiZWw6bGlzdFtpXXx8ZWRpdG9yLmdldExhbmcoInBhcmFncmFwaCIpW2ldLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktbGFiZWwgJSUtbGFiZWwiPjxzcGFuIGNsYXNzPSJlZHVpLWZvci0nK3RoaXMudmFsdWUrJyI+JysodGhpcy5sYWJlbHx8IiIpKyI8L3NwYW4+PC9kaXY+In19KX12YXIgdWk9bmV3IGVkaXRvcnVpLkNvbWJveCh7ZWRpdG9yOmVkaXRvcixpdGVtczppdGVtcyx0aXRsZTp0aXRsZSxpbml0VmFsdWU6dGl0bGUsY2xhc3NOYW1lOiJlZHVpLWZvci1wYXJhZ3JhcGgiLG9uc2VsZWN0OmZ1bmN0aW9uKHQsaW5kZXgpe2VkaXRvci5leGVjQ29tbWFuZCgiUGFyYWdyYXBoIix0aGlzLml0ZW1zW2luZGV4XS52YWx1ZSl9LG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24oKXt0aGlzLnNob3dQb3B1cCgpfX0pO2VkaXRvcnVpLmJ1dHRvbnMucGFyYWdyYXBoPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbih0eXBlLGNhdXNlQnlVaSx1aVJlYWR5KXtpZighdWlSZWFkeSl7dmFyIHN0YXRlPWVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgiUGFyYWdyYXBoIik7aWYoc3RhdGU9PS0xKXt1aS5zZXREaXNhYmxlZCh0cnVlKX1lbHNle3VpLnNldERpc2FibGVkKGZhbHNlKTt2YXIgdmFsdWU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJQYXJhZ3JhcGgiKTt2YXIgaW5kZXg9dWkuaW5kZXhCeVZhbHVlKHZhbHVlKTtpZihpbmRleCE9LTEpe3VpLnNldFZhbHVlKHZhbHVlKX1lbHNle3VpLnNldFZhbHVlKHVpLmluaXRWYWx1ZSl9fX19KTtyZXR1cm4gdWl9O2VkaXRvcnVpLmN1c3RvbXN0eWxlPWZ1bmN0aW9uKGVkaXRvcil7dmFyIGxpc3Q9ZWRpdG9yLm9wdGlvbnMuY3VzdG9tc3R5bGV8fFtdLHRpdGxlPWVkaXRvci5vcHRpb25zLmxhYmVsTWFwLmN1c3RvbXN0eWxlfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuY3VzdG9tc3R5bGUiKXx8IiI7aWYoIWxpc3QubGVuZ3RoKXtyZXR1cm59dmFyIGxhbmdDcz1lZGl0b3IuZ2V0TGFuZygiY3VzdG9tc3R5bGUiKTtmb3IodmFyIGk9MCxpdGVtcz1bXSx0O3Q9bGlzdFtpKytdOyl7KGZ1bmN0aW9uKHQpe3ZhciBjaz17fTtjay5sYWJlbD10LmxhYmVsP3QubGFiZWw6bGFuZ0NzW3QubmFtZV07Y2suc3R5bGU9dC5zdHlsZTtjay5jbGFzc05hbWU9dC5jbGFzc05hbWU7Y2sudGFnPXQudGFnO2l0ZW1zLnB1c2goe2xhYmVsOmNrLmxhYmVsLHZhbHVlOmNrLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLHJlbmRlckxhYmVsYXNwOmZ1bmN0aW9uKCl7cmV0dXJuJzxkaXYgY2xhc3M9ImVkdWktbGFiZWwgJSUtbGFiZWwiPjwnK2NrLnRhZysiICIrKGNrLmNsYXNzTmFtZT8nIGNsYXNzPSInK2NrLmNsYXNzTmFtZSsnIic6IiIpKyhjay5zdHlsZT8nIHN0eWxlPSInK2NrLnN0eWxlKyciJzoiIikrIj4iK2NrLmxhYmVsKyI8LyIrY2sudGFnKyI+PC9kaXY+In19KX0pKHQpfXZhciB1aT1uZXcgZWRpdG9ydWkuQ29tYm94KHtlZGl0b3I6ZWRpdG9yLGl0ZW1zOml0ZW1zLHRpdGxlOnRpdGxlLGluaXRWYWx1ZTp0aXRsZSxjbGFzc05hbWU6ImVkdWktZm9yLWN1c3RvbXN0eWxlIixvbnNlbGVjdDpmdW5jdGlvbih0LGluZGV4KXtlZGl0b3IuZXhlY0NvbW1hbmQoImN1c3RvbXN0eWxlIix0aGlzLml0ZW1zW2luZGV4XS52YWx1ZSl9LG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24oKXt0aGlzLnNob3dQb3B1cCgpfSxpbmRleEJ5VmFsdWU6ZnVuY3Rpb24odmFsdWUpe2Zvcih2YXIgaT0wLHRpO3RpPXRoaXMuaXRlbXNbaSsrXTspe2lmKHRpLmxhYmVsPT12YWx1ZSl7cmV0dXJuIGktMX19cmV0dXJuIC0xfX0pO2VkaXRvcnVpLmJ1dHRvbnMuY3VzdG9tc3R5bGU9dWk7ZWRpdG9yLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKHR5cGUsY2F1c2VCeVVpLHVpUmVhZHkpe2lmKCF1aVJlYWR5KXt2YXIgc3RhdGU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJjdXN0b21zdHlsZSIpO2lmKHN0YXRlPT0tMSl7dWkuc2V0RGlzYWJsZWQodHJ1ZSl9ZWxzZXt1aS5zZXREaXNhYmxlZChmYWxzZSk7dmFyIHZhbHVlPWVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgiY3VzdG9tc3R5bGUiKTt2YXIgaW5kZXg9dWkuaW5kZXhCeVZhbHVlKHZhbHVlKTtpZihpbmRleCE9LTEpe3VpLnNldFZhbHVlKHZhbHVlKX1lbHNle3VpLnNldFZhbHVlKHVpLmluaXRWYWx1ZSl9fX19KTtyZXR1cm4gdWl9O2VkaXRvcnVpLmluc2VydHRhYmxlPWZ1bmN0aW9uKGVkaXRvcixpZnJhbWVVcmwsdGl0bGUpe3RpdGxlPWVkaXRvci5vcHRpb25zLmxhYmVsTWFwLmluc2VydHRhYmxlfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAuaW5zZXJ0dGFibGUiKXx8IiI7dmFyIHVpPW5ldyBlZGl0b3J1aS5UYWJsZUJ1dHRvbih7ZWRpdG9yOmVkaXRvcix0aXRsZTp0aXRsZSxjbGFzc05hbWU6ImVkdWktZm9yLWluc2VydHRhYmxlIixvbnBpY2t0YWJsZTpmdW5jdGlvbih0LG51bUNvbHMsbnVtUm93cyl7ZWRpdG9yLmV4ZWNDb21tYW5kKCJJbnNlcnRUYWJsZSIse251bVJvd3M6bnVtUm93cyxudW1Db2xzOm51bUNvbHMsYm9yZGVyOjF9KX0sb25idXR0b25jbGljazpmdW5jdGlvbigpe3RoaXMuc2hvd1BvcHVwKCl9fSk7ZWRpdG9ydWkuYnV0dG9ucy5pbnNlcnR0YWJsZT11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImluc2VydHRhYmxlIik9PS0xKX0pO3JldHVybiB1aX07ZWRpdG9ydWkubGluZWhlaWdodD1mdW5jdGlvbihlZGl0b3Ipe3ZhciB2YWw9ZWRpdG9yLm9wdGlvbnMubGluZWhlaWdodHx8W107aWYoIXZhbC5sZW5ndGgpe3JldHVybn1mb3IodmFyIGk9MCxjaSxpdGVtcz1bXTtjaT12YWxbaSsrXTspe2l0ZW1zLnB1c2goe2xhYmVsOmNpLHZhbHVlOmNpLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLG9uY2xpY2s6ZnVuY3Rpb24oKXtlZGl0b3IuZXhlY0NvbW1hbmQoImxpbmVoZWlnaHQiLHRoaXMudmFsdWUpfX0pfXZhciB1aT1uZXcgZWRpdG9ydWkuTWVudUJ1dHRvbih7ZWRpdG9yOmVkaXRvcixjbGFzc05hbWU6ImVkdWktZm9yLWxpbmVoZWlnaHQiLHRpdGxlOmVkaXRvci5vcHRpb25zLmxhYmVsTWFwLmxpbmVoZWlnaHR8fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5saW5laGVpZ2h0Iil8fCIiLGl0ZW1zOml0ZW1zLG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24oKXt2YXIgdmFsdWU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJMaW5lSGVpZ2h0Iil8fHRoaXMudmFsdWU7ZWRpdG9yLmV4ZWNDb21tYW5kKCJMaW5lSGVpZ2h0Iix2YWx1ZSl9fSk7ZWRpdG9ydWkuYnV0dG9ucy5saW5laGVpZ2h0PXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoIkxpbmVIZWlnaHQiKTtpZihzdGF0ZT09LTEpe3VpLnNldERpc2FibGVkKHRydWUpfWVsc2V7dWkuc2V0RGlzYWJsZWQoZmFsc2UpO3ZhciB2YWx1ZT1lZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoIkxpbmVIZWlnaHQiKTt2YWx1ZSYmdWkuc2V0VmFsdWUoKHZhbHVlKyIiKS5yZXBsYWNlKC9jbS8sIiIpKTt1aS5zZXRDaGVja2VkKHN0YXRlKX19KTtyZXR1cm4gdWl9O3ZhciByb3dzcGFjaW5ncz1bInRvcCIsImJvdHRvbSJdO2Zvcih2YXIgcj0wLHJpO3JpPXJvd3NwYWNpbmdzW3IrK107KXsoZnVuY3Rpb24oY21kKXtlZGl0b3J1aVsicm93c3BhY2luZyIrY21kXT1mdW5jdGlvbihlZGl0b3Ipe3ZhciB2YWw9ZWRpdG9yLm9wdGlvbnNbInJvd3NwYWNpbmciK2NtZF18fFtdO2lmKCF2YWwubGVuZ3RoKXtyZXR1cm4gbnVsbH1mb3IodmFyIGk9MCxjaSxpdGVtcz1bXTtjaT12YWxbaSsrXTspe2l0ZW1zLnB1c2goe2xhYmVsOmNpLHZhbHVlOmNpLHRoZW1lOmVkaXRvci5vcHRpb25zLnRoZW1lLG9uY2xpY2s6ZnVuY3Rpb24oKXtlZGl0b3IuZXhlY0NvbW1hbmQoInJvd3NwYWNpbmciLHRoaXMudmFsdWUsY21kKX19KX12YXIgdWk9bmV3IGVkaXRvcnVpLk1lbnVCdXR0b24oe2VkaXRvcjplZGl0b3IsY2xhc3NOYW1lOiJlZHVpLWZvci1yb3dzcGFjaW5nIitjbWQsdGl0bGU6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXBbInJvd3NwYWNpbmciK2NtZF18fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5yb3dzcGFjaW5nIitjbWQpfHwiIixpdGVtczppdGVtcyxvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uKCl7dmFyIHZhbHVlPWVkaXRvci5xdWVyeUNvbW1hbmRWYWx1ZSgicm93c3BhY2luZyIsY21kKXx8dGhpcy52YWx1ZTtlZGl0b3IuZXhlY0NvbW1hbmQoInJvd3NwYWNpbmciLHZhbHVlLGNtZCl9fSk7ZWRpdG9ydWkuYnV0dG9uc1tjbWRdPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoInJvd3NwYWNpbmciLGNtZCk7aWYoc3RhdGU9PS0xKXt1aS5zZXREaXNhYmxlZCh0cnVlKX1lbHNle3VpLnNldERpc2FibGVkKGZhbHNlKTt2YXIgdmFsdWU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJyb3dzcGFjaW5nIixjbWQpO3ZhbHVlJiZ1aS5zZXRWYWx1ZSgodmFsdWUrIiIpLnJlcGxhY2UoLyUvLCIiKSk7dWkuc2V0Q2hlY2tlZChzdGF0ZSl9fSk7cmV0dXJuIHVpfX0pKHJpKX12YXIgbGlzdHM9WyJpbnNlcnRvcmRlcmVkbGlzdCIsImluc2VydHVub3JkZXJlZGxpc3QiXTtmb3IodmFyIGw9MCxjbDtjbD1saXN0c1tsKytdOyl7KGZ1bmN0aW9uKGNtZCl7ZWRpdG9ydWlbY21kXT1mdW5jdGlvbihlZGl0b3Ipe3ZhciB2YWxzPWVkaXRvci5vcHRpb25zW2NtZF0sX29uTWVudUNsaWNrPWZ1bmN0aW9uKCl7ZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCx0aGlzLnZhbHVlKX0saXRlbXM9W107Zm9yKHZhciBpIGluIHZhbHMpe2l0ZW1zLnB1c2goe2xhYmVsOnZhbHNbaV18fGVkaXRvci5nZXRMYW5nKClbY21kXVtpXXx8IiIsdmFsdWU6aSx0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZSxvbmNsaWNrOl9vbk1lbnVDbGlja30pfXZhciB1aT1uZXcgZWRpdG9ydWkuTWVudUJ1dHRvbih7ZWRpdG9yOmVkaXRvcixjbGFzc05hbWU6ImVkdWktZm9yLSIrY21kLHRpdGxlOmVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC4iK2NtZCl8fCIiLGl0ZW1zOml0ZW1zLG9uYnV0dG9uY2xpY2s6ZnVuY3Rpb24oKXt2YXIgdmFsdWU9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKGNtZCl8fHRoaXMudmFsdWU7ZWRpdG9yLmV4ZWNDb21tYW5kKGNtZCx2YWx1ZSl9fSk7ZWRpdG9ydWkuYnV0dG9uc1tjbWRdPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kKTtpZihzdGF0ZT09LTEpe3VpLnNldERpc2FibGVkKHRydWUpfWVsc2V7dWkuc2V0RGlzYWJsZWQoZmFsc2UpO3ZhciB2YWx1ZT1lZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoY21kKTt1aS5zZXRWYWx1ZSh2YWx1ZSk7dWkuc2V0Q2hlY2tlZChzdGF0ZSl9fSk7cmV0dXJuIHVpfX0pKGNsKX1lZGl0b3J1aS5mdWxsc2NyZWVuPWZ1bmN0aW9uKGVkaXRvcix0aXRsZSl7dGl0bGU9ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXAuZnVsbHNjcmVlbnx8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLmZ1bGxzY3JlZW4iKXx8IiI7dmFyIHVpPW5ldyBlZGl0b3J1aS5CdXR0b24oe2NsYXNzTmFtZToiZWR1aS1mb3ItZnVsbHNjcmVlbiIsdGl0bGU6dGl0bGUsdGhlbWU6ZWRpdG9yLm9wdGlvbnMudGhlbWUsb25jbGljazpmdW5jdGlvbigpe2lmKGVkaXRvci51aSl7ZWRpdG9yLnVpLnNldEZ1bGxTY3JlZW4oIWVkaXRvci51aS5pc0Z1bGxTY3JlZW4oKSl9dGhpcy5zZXRDaGVja2VkKGVkaXRvci51aS5pc0Z1bGxTY3JlZW4oKSl9fSk7ZWRpdG9ydWkuYnV0dG9ucy5mdWxsc2NyZWVuPXVpO2VkaXRvci5hZGRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBzdGF0ZT1lZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImZ1bGxzY3JlZW4iKTt1aS5zZXREaXNhYmxlZChzdGF0ZT09LTEpO3VpLnNldENoZWNrZWQoZWRpdG9yLnVpLmlzRnVsbFNjcmVlbigpKX0pO3JldHVybiB1aX07ZWRpdG9ydWkuZW1vdGlvbj1mdW5jdGlvbihlZGl0b3IsaWZyYW1lVXJsKXt2YXIgY21kPSJlbW90aW9uIjt2YXIgdWk9bmV3IGVkaXRvcnVpLk11bHRpTWVudVBvcCh7dGl0bGU6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXBbY21kXXx8ZWRpdG9yLmdldExhbmcoImxhYmVsTWFwLiIrY21kKyIiKXx8IiIsZWRpdG9yOmVkaXRvcixjbGFzc05hbWU6ImVkdWktZm9yLSIrY21kLGlmcmFtZVVybDplZGl0b3IudWkubWFwVXJsKGlmcmFtZVVybHx8KGVkaXRvci5vcHRpb25zLmlmcmFtZVVybE1hcHx8e30pW2NtZF18fGlmcmFtZVVybE1hcFtjbWRdKX0pO2VkaXRvcnVpLmJ1dHRvbnNbY21kXT11aTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt1aS5zZXREaXNhYmxlZChlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kKT09LTEpfSk7cmV0dXJuIHVpfTtlZGl0b3J1aS5hdXRvdHlwZXNldD1mdW5jdGlvbihlZGl0b3Ipe3ZhciB1aT1uZXcgZWRpdG9ydWkuQXV0b1R5cGVTZXRCdXR0b24oe2VkaXRvcjplZGl0b3IsdGl0bGU6ZWRpdG9yLm9wdGlvbnMubGFiZWxNYXAuYXV0b3R5cGVzZXR8fGVkaXRvci5nZXRMYW5nKCJsYWJlbE1hcC5hdXRvdHlwZXNldCIpfHwiIixjbGFzc05hbWU6ImVkdWktZm9yLWF1dG90eXBlc2V0IixvbmJ1dHRvbmNsaWNrOmZ1bmN0aW9uKCl7ZWRpdG9yLmV4ZWNDb21tYW5kKCJhdXRvdHlwZXNldCIpfX0pO2VkaXRvcnVpLmJ1dHRvbnMuYXV0b3R5cGVzZXQ9dWk7ZWRpdG9yLmFkZExpc3RlbmVyKCJzZWxlY3Rpb25jaGFuZ2UiLGZ1bmN0aW9uKCl7dWkuc2V0RGlzYWJsZWQoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJhdXRvdHlwZXNldCIpPT0tMSl9KTtyZXR1cm4gdWl9fSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLHVpVXRpbHM9YmFpZHUuZWRpdG9yLnVpLnVpVXRpbHMsVUlCYXNlPWJhaWR1LmVkaXRvci51aS5VSUJhc2UsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlsczt2YXIgbm9kZVN0YWNrPVtdO2Z1bmN0aW9uIEVkaXRvclVJKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0RWRpdG9yVUkoKX1FZGl0b3JVSS5wcm90b3R5cGU9e3VpTmFtZToiZWRpdG9yIixpbml0RWRpdG9yVUk6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci51aT10aGlzO3RoaXMuX2RpYWxvZ3M9e307dGhpcy5pbml0VUlCYXNlKCk7dGhpcy5faW5pdFRvb2xiYXJzKCk7dmFyIGVkaXRvcj10aGlzLmVkaXRvcixtZT10aGlzO2VkaXRvci5hZGRMaXN0ZW5lcigicmVhZHkiLGZ1bmN0aW9uKCl7ZWRpdG9yLmdldERpYWxvZz1mdW5jdGlvbihuYW1lKXtyZXR1cm4gZWRpdG9yLnVpLl9kaWFsb2dzW25hbWUrIkRpYWxvZyJdfTtkb21VdGlscy5vbihlZGl0b3Iud2luZG93LCJzY3JvbGwiLGZ1bmN0aW9uKGV2dCl7YmFpZHUuZWRpdG9yLnVpLlBvcHVwLnBvc3RIaWRlKGV2dCl9KTtlZGl0b3IudWkuX2FjdHVhbEZyYW1lV2lkdGg9ZWRpdG9yLm9wdGlvbnMuaW5pdGlhbEZyYW1lV2lkdGg7VUUuYnJvd3Nlci5pZSYmVUUuYnJvd3Nlci52ZXJzaW9uPT09NiYmZWRpdG9yLmNvbnRhaW5lci5vd25lckRvY3VtZW50LmV4ZWNDb21tYW5kKCJCYWNrZ3JvdW5kSW1hZ2VDYWNoZSIsZmFsc2UsdHJ1ZSk7aWYoZWRpdG9yLm9wdGlvbnMuZWxlbWVudFBhdGhFbmFibGVkKXtlZGl0b3IudWkuZ2V0RG9tKCJlbGVtZW50cGF0aCIpLmlubmVySFRNTD0nPGRpdiBjbGFzcz0iZWR1aS1lZGl0b3ItYnJlYWRjcnVtYiI+JytlZGl0b3IuZ2V0TGFuZygiZWxlbWVudFBhdGhUaXAiKSsiOjwvZGl2PiJ9aWYoZWRpdG9yLm9wdGlvbnMud29yZENvdW50KXtmdW5jdGlvbiBjb3VudEZuKCl7c2V0Q291bnQoZWRpdG9yLG1lKTtkb21VdGlscy51bihlZGl0b3IuZG9jdW1lbnQsImNsaWNrIixhcmd1bWVudHMuY2FsbGVlKX1kb21VdGlscy5vbihlZGl0b3IuZG9jdW1lbnQsImNsaWNrIixjb3VudEZuKTtlZGl0b3IudWkuZ2V0RG9tKCJ3b3JkY291bnQiKS5pbm5lckhUTUw9ZWRpdG9yLmdldExhbmcoIndvcmRDb3VudFRpcCIpfWVkaXRvci51aS5fc2NhbGUoKTtpZihlZGl0b3Iub3B0aW9ucy5zY2FsZUVuYWJsZWQpe2lmKGVkaXRvci5hdXRvSGVpZ2h0RW5hYmxlZCl7ZWRpdG9yLmRpc2FibGVBdXRvSGVpZ2h0KCl9bWUuZW5hYmxlU2NhbGUoKX1lbHNle21lLmRpc2FibGVTY2FsZSgpfWlmKCFlZGl0b3Iub3B0aW9ucy5lbGVtZW50UGF0aEVuYWJsZWQmJiFlZGl0b3Iub3B0aW9ucy53b3JkQ291bnQmJiFlZGl0b3Iub3B0aW9ucy5zY2FsZUVuYWJsZWQpe2VkaXRvci51aS5nZXREb20oImVsZW1lbnRwYXRoIikuc3R5bGUuZGlzcGxheT0ibm9uZSI7ZWRpdG9yLnVpLmdldERvbSgid29yZGNvdW50Iikuc3R5bGUuZGlzcGxheT0ibm9uZSI7ZWRpdG9yLnVpLmdldERvbSgic2NhbGUiKS5zdHlsZS5kaXNwbGF5PSJub25lIn1pZighZWRpdG9yLnNlbGVjdGlvbi5pc0ZvY3VzKCkpe3JldHVybn1lZGl0b3IuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiLGZhbHNlLHRydWUpfSk7ZWRpdG9yLmFkZExpc3RlbmVyKCJtb3VzZWRvd24iLGZ1bmN0aW9uKHQsZXZ0KXt2YXIgZWw9ZXZ0LnRhcmdldHx8ZXZ0LnNyY0VsZW1lbnQ7YmFpZHUuZWRpdG9yLnVpLlBvcHVwLnBvc3RIaWRlKGV2dCxlbCk7YmFpZHUuZWRpdG9yLnVpLlNob3J0Q3V0TWVudS5wb3N0SGlkZShldnQpfSk7ZWRpdG9yLmFkZExpc3RlbmVyKCJkZWxjZWxscyIsZnVuY3Rpb24oKXtpZihVRS51aS5lZGl0dGlwKXtuZXcgVUUudWkuZWRpdHRpcChlZGl0b3IpfWVkaXRvci5nZXREaWFsb2coImVkaXR0aXAiKS5vcGVuKCl9KTt2YXIgcGFzdGVQb3AsaXNQYXN0ZT1mYWxzZSx0aW1lcjtlZGl0b3IuYWRkTGlzdGVuZXIoImFmdGVycGFzdGUiLGZ1bmN0aW9uKCl7aWYoZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJwYXN0ZXBsYWluIikpe3JldHVybn1pZihiYWlkdS5lZGl0b3IudWkuUGFzdGVQaWNrZXIpe3Bhc3RlUG9wPW5ldyBiYWlkdS5lZGl0b3IudWkuUG9wdXAoe2NvbnRlbnQ6bmV3IGJhaWR1LmVkaXRvci51aS5QYXN0ZVBpY2tlcih7ZWRpdG9yOmVkaXRvcn0pLGVkaXRvcjplZGl0b3IsY2xhc3NOYW1lOiJlZHVpLXdvcmRwYXN0ZXBvcCJ9KTtwYXN0ZVBvcC5yZW5kZXIoKX1pc1Bhc3RlPXRydWV9KTtlZGl0b3IuYWRkTGlzdGVuZXIoImFmdGVyaW5zZXJ0aHRtbCIsZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZXIpO3RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihwYXN0ZVBvcCYmKGlzUGFzdGV8fGVkaXRvci51aS5faXNUcmFuc2Zlcikpe2lmKHBhc3RlUG9wLmlzSGlkZGVuKCkpe3ZhciBzcGFuPWRvbVV0aWxzLmNyZWF0ZUVsZW1lbnQoZWRpdG9yLmRvY3VtZW50LCJzcGFuIix7c3R5bGU6ImxpbmUtaGVpZ2h0OjBweDsiLGlubmVySFRNTDoiXHVmZWZmIn0pLHJhbmdlPWVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKTtyYW5nZS5pbnNlcnROb2RlKHNwYW4pO3ZhciB0bXA9Z2V0RG9tTm9kZShzcGFuLCJmaXJzdENoaWxkIiwicHJldmlvdXNTaWJsaW5nIik7cGFzdGVQb3Auc2hvd0FuY2hvcih0bXAubm9kZVR5cGU9PTM/dG1wLnBhcmVudE5vZGU6dG1wKTtkb21VdGlscy5yZW1vdmUoc3Bhbil9ZWxzZXtwYXN0ZVBvcC5zaG93KCl9ZGVsZXRlIGVkaXRvci51aS5faXNUcmFuc2Zlcjtpc1Bhc3RlPWZhbHNlfX0sMjAwKX0pO2VkaXRvci5hZGRMaXN0ZW5lcigiY29udGV4dG1lbnUiLGZ1bmN0aW9uKHQsZXZ0KXtiYWlkdS5lZGl0b3IudWkuUG9wdXAucG9zdEhpZGUoZXZ0KX0pO2VkaXRvci5hZGRMaXN0ZW5lcigia2V5ZG93biIsZnVuY3Rpb24odCxldnQpe2lmKHBhc3RlUG9wKXtwYXN0ZVBvcC5kaXNwb3NlKGV2dCl9dmFyIGtleUNvZGU9ZXZ0LmtleUNvZGV8fGV2dC53aGljaDtpZihldnQuYWx0S2V5JiZrZXlDb2RlPT05MCl7VUUudWkuYnV0dG9ucy5mdWxsc2NyZWVuLm9uY2xpY2soKX19KTtlZGl0b3IuYWRkTGlzdGVuZXIoIndvcmRjb3VudCIsZnVuY3Rpb24odHlwZSl7c2V0Q291bnQodGhpcyxtZSl9KTtmdW5jdGlvbiBzZXRDb3VudChlZGl0b3IsdWkpe2VkaXRvci5zZXRPcHQoe3dvcmRDb3VudDp0cnVlLG1heGltdW1Xb3JkczoxMDAwMCx3b3JkQ291bnRNc2c6ZWRpdG9yLm9wdGlvbnMud29yZENvdW50TXNnfHxlZGl0b3IuZ2V0TGFuZygid29yZENvdW50TXNnIiksd29yZE92ZXJGbG93TXNnOmVkaXRvci5vcHRpb25zLndvcmRPdmVyRmxvd01zZ3x8ZWRpdG9yLmdldExhbmcoIndvcmRPdmVyRmxvd01zZyIpfSk7dmFyIG9wdD1lZGl0b3Iub3B0aW9ucyxtYXg9b3B0Lm1heGltdW1Xb3Jkcyxtc2c9b3B0LndvcmRDb3VudE1zZyxlcnJNc2c9b3B0LndvcmRPdmVyRmxvd01zZyxjb3VudERvbT11aS5nZXREb20oIndvcmRjb3VudCIpO2lmKCFvcHQud29yZENvdW50KXtyZXR1cm59dmFyIGNvdW50PWVkaXRvci5nZXRDb250ZW50TGVuZ3RoKHRydWUpO2lmKGNvdW50Pm1heCl7Y291bnREb20uaW5uZXJIVE1MPWVyck1zZztlZGl0b3IuZmlyZUV2ZW50KCJ3b3JkY291bnRvdmVyZmxvdyIpfWVsc2V7Y291bnREb20uaW5uZXJIVE1MPW1zZy5yZXBsYWNlKCJ7I2xlYXZlfSIsbWF4LWNvdW50KS5yZXBsYWNlKCJ7I2NvdW50fSIsY291bnQpfX1lZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXtpZihlZGl0b3Iub3B0aW9ucy5lbGVtZW50UGF0aEVuYWJsZWQpe21lWyhlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImVsZW1lbnRwYXRoIik9PS0xPyJkaXMiOiJlbiIpKyJhYmxlRWxlbWVudFBhdGgiXSgpfWlmKGVkaXRvci5vcHRpb25zLnNjYWxlRW5hYmxlZCl7bWVbKGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgic2NhbGUiKT09LTE/ImRpcyI6ImVuIikrImFibGVTY2FsZSJdKCl9fSk7dmFyIHBvcHVwPW5ldyBiYWlkdS5lZGl0b3IudWkuUG9wdXAoe2VkaXRvcjplZGl0b3IsY29udGVudDoiIixjbGFzc05hbWU6ImVkdWktYnViYmxlIixfb25FZGl0QnV0dG9uQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmhpZGUoKTtlZGl0b3IudWkuX2RpYWxvZ3MubGlua0RpYWxvZy5vcGVuKCl9LF9vbkltZ0VkaXRCdXR0b25DbGljazpmdW5jdGlvbihuYW1lKXt0aGlzLmhpZGUoKTtlZGl0b3IudWkuX2RpYWxvZ3NbbmFtZV0mJmVkaXRvci51aS5fZGlhbG9nc1tuYW1lXS5vcGVuKCl9LF9vbkltZ1NldEZsb2F0OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLmhpZGUoKTtlZGl0b3IuZXhlY0NvbW1hbmQoImltYWdlZmxvYXQiLHZhbHVlKX0sX3NldElmcmFtZUFsaWduOmZ1bmN0aW9uKHZhbHVlKXt2YXIgZnJhbWU9cG9wdXAuYW5jaG9yRWw7dmFyIG5ld0ZyYW1lPWZyYW1lLmNsb25lTm9kZSh0cnVlKTtzd2l0Y2godmFsdWUpe2Nhc2UgLTI6bmV3RnJhbWUuc2V0QXR0cmlidXRlKCJhbGlnbiIsIiIpO2JyZWFrO2Nhc2UgLTE6bmV3RnJhbWUuc2V0QXR0cmlidXRlKCJhbGlnbiIsImxlZnQiKTticmVhaztjYXNlIDE6bmV3RnJhbWUuc2V0QXR0cmlidXRlKCJhbGlnbiIsInJpZ2h0Iik7YnJlYWt9ZnJhbWUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobmV3RnJhbWUsZnJhbWUpO2RvbVV0aWxzLnJlbW92ZShmcmFtZSk7cG9wdXAuYW5jaG9yRWw9bmV3RnJhbWU7cG9wdXAuc2hvd0FuY2hvcihwb3B1cC5hbmNob3JFbCl9LF91cGRhdGVJZnJhbWU6ZnVuY3Rpb24oKXt2YXIgZnJhbWU9ZWRpdG9yLl9pZnJhbWU9cG9wdXAuYW5jaG9yRWw7aWYoZG9tVXRpbHMuaGFzQ2xhc3MoZnJhbWUsInVlZGl0b3JfYmFpZHVtYXAiKSl7ZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLnNlbGVjdE5vZGUoZnJhbWUpLnNlbGVjdCgpO2VkaXRvci51aS5fZGlhbG9ncy5tYXBEaWFsb2cub3BlbigpO3BvcHVwLmhpZGUoKX1lbHNle2VkaXRvci51aS5fZGlhbG9ncy5pbnNlcnRmcmFtZURpYWxvZy5vcGVuKCk7cG9wdXAuaGlkZSgpfX0sX29uUmVtb3ZlQnV0dG9uQ2xpY2s6ZnVuY3Rpb24oY21kTmFtZSl7ZWRpdG9yLmV4ZWNDb21tYW5kKGNtZE5hbWUpO3RoaXMuaGlkZSgpfSxxdWVyeUF1dG9IaWRlOmZ1bmN0aW9uKGVsKXtpZihlbCYmZWwub3duZXJEb2N1bWVudD09ZWRpdG9yLmRvY3VtZW50KXtpZihlbC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PSJpbWcifHxkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKGVsLCJhIix0cnVlKSl7cmV0dXJuIGVsIT09cG9wdXAuYW5jaG9yRWx9fXJldHVybiBiYWlkdS5lZGl0b3IudWkuUG9wdXAucHJvdG90eXBlLnF1ZXJ5QXV0b0hpZGUuY2FsbCh0aGlzLGVsKX19KTtwb3B1cC5yZW5kZXIoKTtpZihlZGl0b3Iub3B0aW9ucy5pbWFnZVBvcHVwKXtlZGl0b3IuYWRkTGlzdGVuZXIoIm1vdXNlb3ZlciIsZnVuY3Rpb24odCxldnQpe2V2dD1ldnR8fHdpbmRvdy5ldmVudDt2YXIgZWw9ZXZ0LnRhcmdldHx8ZXZ0LnNyY0VsZW1lbnQ7aWYoZWRpdG9yLnVpLl9kaWFsb2dzLmluc2VydGZyYW1lRGlhbG9nJiYvaWZyYW1lL2lnLnRlc3QoZWwudGFnTmFtZSkpe3ZhciBodG1sPXBvcHVwLmZvcm1hdEh0bWwoIjxub2JyPiIrZWRpdG9yLmdldExhbmcoInByb3BlcnR5IikrJzogPHNwYW4gb25jbGljaz0kJC5fc2V0SWZyYW1lQWxpZ24oLTIpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JytlZGl0b3IuZ2V0TGFuZygiZGVmYXVsdCIpKyc8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gb25jbGljaz0kJC5fc2V0SWZyYW1lQWxpZ24oLTEpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JytlZGl0b3IuZ2V0TGFuZygianVzdGlmeWxlZnQiKSsnPC9zcGFuPiZuYnNwOyZuYnNwOzxzcGFuIG9uY2xpY2s9JCQuX3NldElmcmFtZUFsaWduKDEpIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JytlZGl0b3IuZ2V0TGFuZygianVzdGlmeXJpZ2h0IikrJzwvc3Bhbj4mbmJzcDsmbmJzcDsgPHNwYW4gb25jbGljaz0iJCQuX3VwZGF0ZUlmcmFtZSggdGhpcyk7IiBjbGFzcz0iZWR1aS1jbGlja2FibGUiPicrZWRpdG9yLmdldExhbmcoIm1vZGlmeSIpKyI8L3NwYW4+PC9ub2JyPiIpO2lmKGh0bWwpe3BvcHVwLmdldERvbSgiY29udGVudCIpLmlubmVySFRNTD1odG1sO3BvcHVwLmFuY2hvckVsPWVsO3BvcHVwLnNob3dBbmNob3IocG9wdXAuYW5jaG9yRWwpfWVsc2V7cG9wdXAuaGlkZSgpfX19KTtlZGl0b3IuYWRkTGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24odCxjYXVzZUJ5VWkpe2lmKCFjYXVzZUJ5VWkpe3JldHVybn12YXIgaHRtbD0iIixzdHI9IiIsaW1nPWVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5nZXRDbG9zZWROb2RlKCksZGlhbG9ncz1lZGl0b3IudWkuX2RpYWxvZ3M7aWYoaW1nJiZpbWcudGFnTmFtZT09IklNRyIpe3ZhciBkaWFsb2dOYW1lPSJpbnNlcnRpbWFnZURpYWxvZyI7aWYoaW1nLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLWZha2VkLXZpZGVvIikhPS0xfHxpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktdXBsb2FkLXZpZGVvIikhPS0xKXtkaWFsb2dOYW1lPSJpbnNlcnR2aWRlb0RpYWxvZyJ9aWYoaW1nLmNsYXNzTmFtZS5pbmRleE9mKCJlZHVpLWZha2VkLXdlYmFwcCIpIT0tMSl7ZGlhbG9nTmFtZT0id2ViYXBwRGlhbG9nIn1pZihpbWcuc3JjLmluZGV4T2YoImh0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbSIpIT0tMSl7ZGlhbG9nTmFtZT0ibWFwRGlhbG9nIn1pZihpbWcuY2xhc3NOYW1lLmluZGV4T2YoImVkdWktZmFrZWQtbXVzaWMiKSE9LTEpe2RpYWxvZ05hbWU9Im11c2ljRGlhbG9nIn1pZihpbWcuc3JjLmluZGV4T2YoImh0dHA6Ly9tYXBzLmdvb2dsZS5jb20vbWFwcy9hcGkvc3RhdGljbWFwIikhPS0xKXtkaWFsb2dOYW1lPSJnbWFwRGlhbG9nIn1pZihpbWcuZ2V0QXR0cmlidXRlKCJhbmNob3JuYW1lIikpe2RpYWxvZ05hbWU9ImFuY2hvckRpYWxvZyI7aHRtbD1wb3B1cC5mb3JtYXRIdG1sKCI8bm9icj4iK2VkaXRvci5nZXRMYW5nKCJwcm9wZXJ0eSIpKyc6IDxzcGFuIG9uY2xpY2s9JCQuX29uSW1nRWRpdEJ1dHRvbkNsaWNrKCJhbmNob3JEaWFsb2ciKSBjbGFzcz0iZWR1aS1jbGlja2FibGUiPicrZWRpdG9yLmdldExhbmcoIm1vZGlmeSIpKyI8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gb25jbGljaz0kJC5fb25SZW1vdmVCdXR0b25DbGljaygnYW5jaG9yJykgY2xhc3M9XCJlZHVpLWNsaWNrYWJsZVwiPiIrZWRpdG9yLmdldExhbmcoImRlbGV0ZSIpKyI8L3NwYW4+PC9ub2JyPiIpfWlmKGltZy5nZXRBdHRyaWJ1dGUoIndvcmRfaW1nIikpe2VkaXRvci53b3JkX2ltZz1baW1nLmdldEF0dHJpYnV0ZSgid29yZF9pbWciKV07ZGlhbG9nTmFtZT0id29yZGltYWdlRGlhbG9nIn1pZighZGlhbG9nc1tkaWFsb2dOYW1lXSl7cmV0dXJufXN0cj0iPG5vYnI+IitlZGl0b3IuZ2V0TGFuZygicHJvcGVydHkiKSsnOiA8c3BhbiBvbmNsaWNrPSQkLl9vbkltZ1NldEZsb2F0KCJub25lIikgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nK2VkaXRvci5nZXRMYW5nKCJkZWZhdWx0IikrJzwvc3Bhbj4mbmJzcDsmbmJzcDs8c3BhbiBvbmNsaWNrPSQkLl9vbkltZ1NldEZsb2F0KCJsZWZ0IikgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nK2VkaXRvci5nZXRMYW5nKCJqdXN0aWZ5bGVmdCIpKyc8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gb25jbGljaz0kJC5fb25JbWdTZXRGbG9hdCgicmlnaHQiKSBjbGFzcz0iZWR1aS1jbGlja2FibGUiPicrZWRpdG9yLmdldExhbmcoImp1c3RpZnlyaWdodCIpKyc8L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gb25jbGljaz0kJC5fb25JbWdTZXRGbG9hdCgiY2VudGVyIikgY2xhc3M9ImVkdWktY2xpY2thYmxlIj4nK2VkaXRvci5nZXRMYW5nKCJqdXN0aWZ5Y2VudGVyIikrIjwvc3Bhbj4mbmJzcDsmbmJzcDs8c3BhbiBvbmNsaWNrPVwiJCQuX29uSW1nRWRpdEJ1dHRvbkNsaWNrKCciK2RpYWxvZ05hbWUrJ1wnKTsiIGNsYXNzPSJlZHVpLWNsaWNrYWJsZSI+JytlZGl0b3IuZ2V0TGFuZygibW9kaWZ5IikrIjwvc3Bhbj48L25vYnI+IjshaHRtbCYmKGh0bWw9cG9wdXAuZm9ybWF0SHRtbChzdHIpKX1pZihlZGl0b3IudWkuX2RpYWxvZ3MubGlua0RpYWxvZyl7dmFyIGxpbms9ZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJsaW5rIik7dmFyIHVybDtpZihsaW5rJiYodXJsPShsaW5rLmdldEF0dHJpYnV0ZSgiX2hyZWYiKXx8bGluay5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpKSkpe3ZhciB0eHQ9dXJsO2lmKHVybC5sZW5ndGg+MzApe3R4dD11cmwuc3Vic3RyaW5nKDAsMjApKyIuLi4ifWlmKGh0bWwpe2h0bWwrPSc8ZGl2IHN0eWxlPSJoZWlnaHQ6NXB4OyI+PC9kaXY+J31odG1sKz1wb3B1cC5mb3JtYXRIdG1sKCI8bm9icj4iK2VkaXRvci5nZXRMYW5nKCJhbnRob3JNc2ciKSsnOiA8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJyt1cmwrJyIgdGl0bGU9IicrdXJsKyciID4nK3R4dCsnPC9hPiA8c3BhbiBjbGFzcz0iZWR1aS1jbGlja2FibGUiIG9uY2xpY2s9IiQkLl9vbkVkaXRCdXR0b25DbGljaygpOyI+JytlZGl0b3IuZ2V0TGFuZygibW9kaWZ5IikrJzwvc3Bhbj4gPHNwYW4gY2xhc3M9ImVkdWktY2xpY2thYmxlIiBvbmNsaWNrPSIkJC5fb25SZW1vdmVCdXR0b25DbGljayhcJ3VubGlua1wnKTsiPiAnK2VkaXRvci5nZXRMYW5nKCJjbGVhciIpKyI8L3NwYW4+PC9ub2JyPiIpO3BvcHVwLnNob3dBbmNob3IobGluayl9fWlmKGh0bWwpe3BvcHVwLmdldERvbSgiY29udGVudCIpLmlubmVySFRNTD1odG1sO3BvcHVwLmFuY2hvckVsPWltZ3x8bGluaztwb3B1cC5zaG93QW5jaG9yKHBvcHVwLmFuY2hvckVsKX1lbHNle3BvcHVwLmhpZGUoKX19KX19LF9pbml0VG9vbGJhcnM6ZnVuY3Rpb24oKXt2YXIgZWRpdG9yPXRoaXMuZWRpdG9yO3ZhciB0b29sYmFycz10aGlzLnRvb2xiYXJzfHxbXTt2YXIgdG9vbGJhclVpcz1bXTtmb3IodmFyIGk9MDtpPHRvb2xiYXJzLmxlbmd0aDtpKyspe3ZhciB0b29sYmFyPXRvb2xiYXJzW2ldO3ZhciB0b29sYmFyVWk9bmV3IGJhaWR1LmVkaXRvci51aS5Ub29sYmFyKHt0aGVtZTplZGl0b3Iub3B0aW9ucy50aGVtZX0pO2Zvcih2YXIgaj0wO2o8dG9vbGJhci5sZW5ndGg7aisrKXt2YXIgdG9vbGJhckl0ZW09dG9vbGJhcltqXTt2YXIgdG9vbGJhckl0ZW1VaT1udWxsO2lmKHR5cGVvZiB0b29sYmFySXRlbT09InN0cmluZyIpe3Rvb2xiYXJJdGVtPXRvb2xiYXJJdGVtLnRvTG93ZXJDYXNlKCk7aWYodG9vbGJhckl0ZW09PSJ8Iil7dG9vbGJhckl0ZW09IlNlcGFyYXRvciJ9aWYodG9vbGJhckl0ZW09PSJ8fCIpe3Rvb2xiYXJJdGVtPSJCcmVha2xpbmUifWlmKGJhaWR1LmVkaXRvci51aVt0b29sYmFySXRlbV0pe3Rvb2xiYXJJdGVtVWk9bmV3IGJhaWR1LmVkaXRvci51aVt0b29sYmFySXRlbV0oZWRpdG9yKX1pZih0b29sYmFySXRlbT09ImZ1bGxzY3JlZW4iKXtpZih0b29sYmFyVWlzJiZ0b29sYmFyVWlzWzBdKXt0b29sYmFyVWlzWzBdLml0ZW1zLnNwbGljZSgwLDAsdG9vbGJhckl0ZW1VaSl9ZWxzZXt0b29sYmFySXRlbVVpJiZ0b29sYmFyVWkuaXRlbXMuc3BsaWNlKDAsMCx0b29sYmFySXRlbVVpKX1jb250aW51ZX19ZWxzZXt0b29sYmFySXRlbVVpPXRvb2xiYXJJdGVtfWlmKHRvb2xiYXJJdGVtVWkmJnRvb2xiYXJJdGVtVWkuaWQpe3Rvb2xiYXJVaS5hZGQodG9vbGJhckl0ZW1VaSl9fXRvb2xiYXJVaXNbaV09dG9vbGJhclVpfXRoaXMudG9vbGJhcnM9dG9vbGJhclVpc30sZ2V0SHRtbFRwbDpmdW5jdGlvbigpe3JldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIj48ZGl2IGlkPSIjI190b29sYmFyYm94IiBjbGFzcz0iJSUtdG9vbGJhcmJveCI+JysodGhpcy50b29sYmFycy5sZW5ndGg/JzxkaXYgaWQ9IiMjX3Rvb2xiYXJib3hvdXRlciIgY2xhc3M9IiUlLXRvb2xiYXJib3hvdXRlciI+PGRpdiBjbGFzcz0iJSUtdG9vbGJhcmJveGlubmVyIj4nK3RoaXMucmVuZGVyVG9vbGJhckJveEh0bWwoKSsiPC9kaXY+PC9kaXY+IjoiIikrJzxkaXYgaWQ9IiMjX3Rvb2xiYXJtc2ciIGNsYXNzPSIlJS10b29sYmFybXNnIiBzdHlsZT0iZGlzcGxheTpub25lOyI+PGRpdiBpZCA9ICIjI191cGxvYWRfZGlhbG9nIiBjbGFzcz0iJSUtdG9vbGJhcm1zZy11cGxvYWQiIG9uY2xpY2s9IiQkLnNob3dXb3JkSW1hZ2VEaWFsb2coKTsiPicrdGhpcy5lZGl0b3IuZ2V0TGFuZygiY2xpY2tUb1VwbG9hZCIpKyc8L2Rpdj48ZGl2IGNsYXNzPSIlJS10b29sYmFybXNnLWNsb3NlIiBvbmNsaWNrPSIkJC5oaWRlVG9vbGJhck1zZygpOyI+eDwvZGl2PjxkaXYgaWQ9IiMjX3Rvb2xiYXJtc2dfbGFiZWwiIGNsYXNzPSIlJS10b29sYmFybXNnLWxhYmVsIj48L2Rpdj48ZGl2IHN0eWxlPSJoZWlnaHQ6MDtvdmVyZmxvdzpoaWRkZW47Y2xlYXI6Ym90aDsiPjwvZGl2PjwvZGl2PjwvZGl2PjxkaXYgaWQ9IiMjX2lmcmFtZWhvbGRlciIgY2xhc3M9IiUlLWlmcmFtZWhvbGRlciI+PC9kaXY+PGRpdiBpZD0iIyNfYm90dG9tYmFyIiBjbGFzcz0iJSUtYm90dG9tQ29udGFpbmVyIj48dGFibGU+PHRyPjx0ZCBpZD0iIyNfZWxlbWVudHBhdGgiIGNsYXNzPSIlJS1ib3R0b21iYXIiPjwvdGQ+PHRkIGlkPSIjI193b3JkY291bnQiIGNsYXNzPSIlJS13b3JkY291bnQiPjwvdGQ+PHRkIGlkPSIjI19zY2FsZSIgY2xhc3M9IiUlLXNjYWxlIj48ZGl2IGNsYXNzPSIlJS1pY29uIj48L2Rpdj48L3RkPjwvdHI+PC90YWJsZT48L2Rpdj48ZGl2IGlkPSIjI19zY2FsZWxheWVyIj48L2Rpdj48L2Rpdj4nfSxzaG93V29yZEltYWdlRGlhbG9nOmZ1bmN0aW9uKCl7dGhpcy5fZGlhbG9ncy53b3JkaW1hZ2VEaWFsb2cub3BlbigpfSxyZW5kZXJUb29sYmFyQm94SHRtbDpmdW5jdGlvbigpe3ZhciBidWZmPVtdO2Zvcih2YXIgaT0wO2k8dGhpcy50b29sYmFycy5sZW5ndGg7aSsrKXtidWZmLnB1c2godGhpcy50b29sYmFyc1tpXS5yZW5kZXJIdG1sKCkpfXJldHVybiBidWZmLmpvaW4oIiIpfSxzZXRGdWxsU2NyZWVuOmZ1bmN0aW9uKGZ1bGxzY3JlZW4pe3ZhciBlZGl0b3I9dGhpcy5lZGl0b3IsY29udGFpbmVyPWVkaXRvci5jb250YWluZXIucGFyZW50Tm9kZS5wYXJlbnROb2RlO2lmKHRoaXMuX2Z1bGxzY3JlZW4hPWZ1bGxzY3JlZW4pe3RoaXMuX2Z1bGxzY3JlZW49ZnVsbHNjcmVlbjt0aGlzLmVkaXRvci5maXJlRXZlbnQoImJlZm9yZWZ1bGxzY3JlZW5jaGFuZ2UiLGZ1bGxzY3JlZW4pO2lmKGJhaWR1LmVkaXRvci5icm93c2VyLmdlY2tvKXt2YXIgYms9ZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUJvb2ttYXJrKCl9aWYoZnVsbHNjcmVlbil7d2hpbGUoY29udGFpbmVyLnRhZ05hbWUhPSJCT0RZIil7dmFyIHBvc2l0aW9uPWJhaWR1LmVkaXRvci5kb20uZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIsInBvc2l0aW9uIik7bm9kZVN0YWNrLnB1c2gocG9zaXRpb24pO2NvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj0ic3RhdGljIjtjb250YWluZXI9Y29udGFpbmVyLnBhcmVudE5vZGV9dGhpcy5fYmFrSHRtbE92ZXJmbG93PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdzt0aGlzLl9iYWtCb2R5T3ZlcmZsb3c9ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdzt0aGlzLl9iYWtBdXRvSGVpZ2h0PXRoaXMuZWRpdG9yLmF1dG9IZWlnaHRFbmFibGVkO3RoaXMuX2Jha1Njcm9sbFRvcD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKTt0aGlzLl9iYWtFZGl0b3JDb250YW5pbmVyV2lkdGg9ZWRpdG9yLmlmcmFtZS5wYXJlbnROb2RlLm9mZnNldFdpZHRoO2lmKHRoaXMuX2Jha0F1dG9IZWlnaHQpe2VkaXRvci5hdXRvSGVpZ2h0RW5hYmxlZD1mYWxzZTt0aGlzLmVkaXRvci5kaXNhYmxlQXV0b0hlaWdodCgpfWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjt3aW5kb3cuc2Nyb2xsVG8oMCx3aW5kb3cuc2Nyb2xsWSk7dGhpcy5fYmFrQ3NzVGV4dD10aGlzLmdldERvbSgpLnN0eWxlLmNzc1RleHQ7dGhpcy5fYmFrQ3NzVGV4dDE9dGhpcy5nZXREb20oImlmcmFtZWhvbGRlciIpLnN0eWxlLmNzc1RleHQ7ZWRpdG9yLmlmcmFtZS5wYXJlbnROb2RlLnN0eWxlLndpZHRoPSIiO3RoaXMuX3VwZGF0ZUZ1bGxTY3JlZW4oKX1lbHNle3doaWxlKGNvbnRhaW5lci50YWdOYW1lIT0iQk9EWSIpe2NvbnRhaW5lci5zdHlsZS5wb3NpdGlvbj1ub2RlU3RhY2suc2hpZnQoKTtjb250YWluZXI9Y29udGFpbmVyLnBhcmVudE5vZGV9dGhpcy5nZXREb20oKS5zdHlsZS5jc3NUZXh0PXRoaXMuX2Jha0Nzc1RleHQ7dGhpcy5nZXREb20oImlmcmFtZWhvbGRlciIpLnN0eWxlLmNzc1RleHQ9dGhpcy5fYmFrQ3NzVGV4dDE7aWYodGhpcy5fYmFrQXV0b0hlaWdodCl7ZWRpdG9yLmF1dG9IZWlnaHRFbmFibGVkPXRydWU7dGhpcy5lZGl0b3IuZW5hYmxlQXV0b0hlaWdodCgpfWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvdz10aGlzLl9iYWtIdG1sT3ZlcmZsb3c7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz10aGlzLl9iYWtCb2R5T3ZlcmZsb3c7ZWRpdG9yLmlmcmFtZS5wYXJlbnROb2RlLnN0eWxlLndpZHRoPXRoaXMuX2Jha0VkaXRvckNvbnRhbmluZXJXaWR0aCsicHgiO3dpbmRvdy5zY3JvbGxUbygwLHRoaXMuX2Jha1Njcm9sbFRvcCl9aWYoYnJvd3Nlci5nZWNrbyYmZWRpdG9yLmJvZHkuY29udGVudEVkaXRhYmxlPT09InRydWUiKXt2YXIgaW5wdXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlucHV0KTtlZGl0b3IuYm9keS5jb250ZW50RWRpdGFibGU9ZmFsc2U7c2V0VGltZW91dChmdW5jdGlvbigpe2lucHV0LmZvY3VzKCk7c2V0VGltZW91dChmdW5jdGlvbigpe2VkaXRvci5ib2R5LmNvbnRlbnRFZGl0YWJsZT10cnVlO2VkaXRvci5maXJlRXZlbnQoImZ1bGxzY3JlZW5jaGFuZ2VkIixmdWxsc2NyZWVuKTtlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCkubW92ZVRvQm9va21hcmsoYmspLnNlbGVjdCh0cnVlKTtiYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzLnJlbW92ZShpbnB1dCk7ZnVsbHNjcmVlbiYmd2luZG93LnNjcm9sbCgwLDApfSwwKX0sMCl9aWYoZWRpdG9yLmJvZHkuY29udGVudEVkaXRhYmxlPT09InRydWUiKXt0aGlzLmVkaXRvci5maXJlRXZlbnQoImZ1bGxzY3JlZW5jaGFuZ2VkIixmdWxsc2NyZWVuKTt0aGlzLnRyaWdnZXJMYXlvdXQoKX19fSxfdXBkYXRlRnVsbFNjcmVlbjpmdW5jdGlvbigpe2lmKHRoaXMuX2Z1bGxzY3JlZW4pe3ZhciB2cFJlY3Q9dWlVdGlscy5nZXRWaWV3cG9ydFJlY3QoKTt0aGlzLmdldERvbSgpLnN0eWxlLmNzc1RleHQ9ImJvcmRlcjowO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MDt0b3A6IisodGhpcy5lZGl0b3Iub3B0aW9ucy50b3BPZmZzZXR8fDApKyJweDt3aWR0aDoiK3ZwUmVjdC53aWR0aCsicHg7aGVpZ2h0OiIrdnBSZWN0LmhlaWdodCsicHg7ei1pbmRleDoiKyh0aGlzLmdldERvbSgpLnN0eWxlLnpJbmRleCoxKzEwMCk7dWlVdGlscy5zZXRWaWV3cG9ydE9mZnNldCh0aGlzLmdldERvbSgpLHtsZWZ0OjAsdG9wOnRoaXMuZWRpdG9yLm9wdGlvbnMudG9wT2Zmc2V0fHwwfSk7dGhpcy5lZGl0b3Iuc2V0SGVpZ2h0KHZwUmVjdC5oZWlnaHQtdGhpcy5nZXREb20oInRvb2xiYXJib3giKS5vZmZzZXRIZWlnaHQtdGhpcy5nZXREb20oImJvdHRvbWJhciIpLm9mZnNldEhlaWdodC0odGhpcy5lZGl0b3Iub3B0aW9ucy50b3BPZmZzZXR8fDApKTtpZihicm93c2VyLmdlY2tvKXt0cnl7d2luZG93Lm9ucmVzaXplKCl9Y2F0Y2goZSl7fX19fSxfdXBkYXRlRWxlbWVudFBhdGg6ZnVuY3Rpb24oKXt2YXIgYm90dG9tPXRoaXMuZ2V0RG9tKCJlbGVtZW50cGF0aCIpLGxpc3Q7aWYodGhpcy5lbGVtZW50UGF0aEVuYWJsZWQmJihsaXN0PXRoaXMuZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJlbGVtZW50cGF0aCIpKSl7dmFyIGJ1ZmY9W107Zm9yKHZhciBpPTAsY2k7Y2k9bGlzdFtpXTtpKyspe2J1ZmZbaV09dGhpcy5mb3JtYXRIdG1sKCc8c3BhbiB1bnNlbGVjdGFibGU9Im9uIiBvbmNsaWNrPSIkJC5lZGl0b3IuZXhlY0NvbW1hbmQoJnF1b3Q7ZWxlbWVudHBhdGgmcXVvdDssICZxdW90OycraSsnJnF1b3Q7KTsiPicrY2krIjwvc3Bhbj4iKX1ib3R0b20uaW5uZXJIVE1MPSc8ZGl2IGNsYXNzPSJlZHVpLWVkaXRvci1icmVhZGNydW1iIiBvbm1vdXNlZG93bj0icmV0dXJuIGZhbHNlOyI+Jyt0aGlzLmVkaXRvci5nZXRMYW5nKCJlbGVtZW50UGF0aFRpcCIpKyI6ICIrYnVmZi5qb2luKCIgJmd0OyAiKSsiPC9kaXY+In1lbHNle2JvdHRvbS5zdHlsZS5kaXNwbGF5PSJub25lIn19LGRpc2FibGVFbGVtZW50UGF0aDpmdW5jdGlvbigpe3ZhciBib3R0b209dGhpcy5nZXREb20oImVsZW1lbnRwYXRoIik7Ym90dG9tLmlubmVySFRNTD0iIjtib3R0b20uc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5lbGVtZW50UGF0aEVuYWJsZWQ9ZmFsc2V9LGVuYWJsZUVsZW1lbnRQYXRoOmZ1bmN0aW9uKCl7dmFyIGJvdHRvbT10aGlzLmdldERvbSgiZWxlbWVudHBhdGgiKTtib3R0b20uc3R5bGUuZGlzcGxheT0iIjt0aGlzLmVsZW1lbnRQYXRoRW5hYmxlZD10cnVlO3RoaXMuX3VwZGF0ZUVsZW1lbnRQYXRoKCl9LF9zY2FsZTpmdW5jdGlvbigpe3ZhciBkb2M9ZG9jdW1lbnQsZWRpdG9yPXRoaXMuZWRpdG9yLGVkaXRvckhvbGRlcj1lZGl0b3IuY29udGFpbmVyLGVkaXRvckRvY3VtZW50PWVkaXRvci5kb2N1bWVudCx0b29sYmFyQm94PXRoaXMuZ2V0RG9tKCJ0b29sYmFyYm94IiksYm90dG9tYmFyPXRoaXMuZ2V0RG9tKCJib3R0b21iYXIiKSxzY2FsZT10aGlzLmdldERvbSgic2NhbGUiKSxzY2FsZWxheWVyPXRoaXMuZ2V0RG9tKCJzY2FsZWxheWVyIik7dmFyIGlzTW91c2VNb3ZlPWZhbHNlLHBvc2l0aW9uPW51bGwsbWluRWRpdG9ySGVpZ2h0PTAsbWluRWRpdG9yV2lkdGg9ZWRpdG9yLm9wdGlvbnMubWluRnJhbWVXaWR0aCxwYWdlWD0wLHBhZ2VZPTAsc2NhbGVXaWR0aD0wLHNjYWxlSGVpZ2h0PTA7ZnVuY3Rpb24gZG93bigpe3Bvc2l0aW9uPWRvbVV0aWxzLmdldFhZKGVkaXRvckhvbGRlcik7aWYoIW1pbkVkaXRvckhlaWdodCl7bWluRWRpdG9ySGVpZ2h0PWVkaXRvci5vcHRpb25zLm1pbkZyYW1lSGVpZ2h0K3Rvb2xiYXJCb3gub2Zmc2V0SGVpZ2h0K2JvdHRvbWJhci5vZmZzZXRIZWlnaHR9c2NhbGVsYXllci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7ZGlzcGxheTo7dG9wOjA7YmFja2dyb3VuZC1jb2xvcjojNDFBQkZGO29wYWNpdHk6MC40O2ZpbHRlcjogQWxwaGEob3BhY2l0eT00MCk7d2lkdGg6IitlZGl0b3JIb2xkZXIub2Zmc2V0V2lkdGgrInB4O2hlaWdodDoiK2VkaXRvckhvbGRlci5vZmZzZXRIZWlnaHQrInB4O3otaW5kZXg6IisoZWRpdG9yLm9wdGlvbnMuekluZGV4KzEpO2RvbVV0aWxzLm9uKGRvYywibW91c2Vtb3ZlIixtb3ZlKTtkb21VdGlscy5vbihlZGl0b3JEb2N1bWVudCwibW91c2V1cCIsdXApO2RvbVV0aWxzLm9uKGRvYywibW91c2V1cCIsdXApfXZhciBtZT10aGlzO3RoaXMuZWRpdG9yLmFkZExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlZCIsZnVuY3Rpb24oZSxmdWxsU2NyZWVuKXtpZihmdWxsU2NyZWVuKXttZS5kaXNhYmxlU2NhbGUoKX1lbHNle2lmKG1lLmVkaXRvci5vcHRpb25zLnNjYWxlRW5hYmxlZCl7bWUuZW5hYmxlU2NhbGUoKTt2YXIgdG1wTm9kZT1tZS5lZGl0b3IuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpO21lLmVkaXRvci5ib2R5LmFwcGVuZENoaWxkKHRtcE5vZGUpO21lLmVkaXRvci5ib2R5LnN0eWxlLmhlaWdodD1NYXRoLm1heChkb21VdGlscy5nZXRYWSh0bXBOb2RlKS55LG1lLmVkaXRvci5pZnJhbWUub2Zmc2V0SGVpZ2h0LTIwKSsicHgiO2RvbVV0aWxzLnJlbW92ZSh0bXBOb2RlKX19fSk7ZnVuY3Rpb24gbW92ZShldmVudCl7Y2xlYXJTZWxlY3Rpb24oKTt2YXIgZT1ldmVudHx8d2luZG93LmV2ZW50O3BhZ2VYPWUucGFnZVh8fChkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQrZS5jbGllbnRYKTtwYWdlWT1lLnBhZ2VZfHwoZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ArZS5jbGllbnRZKTtzY2FsZVdpZHRoPXBhZ2VYLXBvc2l0aW9uLng7c2NhbGVIZWlnaHQ9cGFnZVktcG9zaXRpb24ueTtpZihzY2FsZVdpZHRoPj1taW5FZGl0b3JXaWR0aCl7aXNNb3VzZU1vdmU9dHJ1ZTtzY2FsZWxheWVyLnN0eWxlLndpZHRoPXNjYWxlV2lkdGgrInB4In1pZihzY2FsZUhlaWdodD49bWluRWRpdG9ySGVpZ2h0KXtpc01vdXNlTW92ZT10cnVlO3NjYWxlbGF5ZXIuc3R5bGUuaGVpZ2h0PXNjYWxlSGVpZ2h0KyJweCJ9fWZ1bmN0aW9uIHVwKCl7aWYoaXNNb3VzZU1vdmUpe2lzTW91c2VNb3ZlPWZhbHNlO2VkaXRvci51aS5fYWN0dWFsRnJhbWVXaWR0aD1zY2FsZWxheWVyLm9mZnNldFdpZHRoLTI7ZWRpdG9ySG9sZGVyLnN0eWxlLndpZHRoPWVkaXRvci51aS5fYWN0dWFsRnJhbWVXaWR0aCsicHgiO2VkaXRvci5zZXRIZWlnaHQoc2NhbGVsYXllci5vZmZzZXRIZWlnaHQtYm90dG9tYmFyLm9mZnNldEhlaWdodC10b29sYmFyQm94Lm9mZnNldEhlaWdodC0yKX1pZihzY2FsZWxheWVyKXtzY2FsZWxheWVyLnN0eWxlLmRpc3BsYXk9Im5vbmUifWNsZWFyU2VsZWN0aW9uKCk7ZG9tVXRpbHMudW4oZG9jLCJtb3VzZW1vdmUiLG1vdmUpO2RvbVV0aWxzLnVuKGVkaXRvckRvY3VtZW50LCJtb3VzZXVwIix1cCk7ZG9tVXRpbHMudW4oZG9jLCJtb3VzZXVwIix1cCl9ZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKXtpZihicm93c2VyLmllKXtkb2Muc2VsZWN0aW9uLmNsZWFyKCl9ZWxzZXt3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCl9fXRoaXMuZW5hYmxlU2NhbGU9ZnVuY3Rpb24oKXtpZihlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoInNvdXJjZSIpPT0xKXtyZXR1cm59c2NhbGUuc3R5bGUuZGlzcGxheT0iIjt0aGlzLnNjYWxlRW5hYmxlZD10cnVlO2RvbVV0aWxzLm9uKHNjYWxlLCJtb3VzZWRvd24iLGRvd24pfTt0aGlzLmRpc2FibGVTY2FsZT1mdW5jdGlvbigpe3NjYWxlLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuc2NhbGVFbmFibGVkPWZhbHNlO2RvbVV0aWxzLnVuKHNjYWxlLCJtb3VzZWRvd24iLGRvd24pfX0saXNGdWxsU2NyZWVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW59LHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXtVSUJhc2UucHJvdG90eXBlLnBvc3RSZW5kZXIuY2FsbCh0aGlzKTtmb3IodmFyIGk9MDtpPHRoaXMudG9vbGJhcnMubGVuZ3RoO2krKyl7dGhpcy50b29sYmFyc1tpXS5wb3N0UmVuZGVyKCl9dmFyIG1lPXRoaXM7dmFyIHRpbWVySWQsZG9tVXRpbHM9YmFpZHUuZWRpdG9yLmRvbS5kb21VdGlscyx1cGRhdGVGdWxsU2NyZWVuVGltZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lcklkKTt0aW1lcklkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXttZS5fdXBkYXRlRnVsbFNjcmVlbigpfSl9O2RvbVV0aWxzLm9uKHdpbmRvdywicmVzaXplIix1cGRhdGVGdWxsU2NyZWVuVGltZSk7bWUuYWRkTGlzdGVuZXIoImRlc3Ryb3kiLGZ1bmN0aW9uKCl7ZG9tVXRpbHMudW4od2luZG93LCJyZXNpemUiLHVwZGF0ZUZ1bGxTY3JlZW5UaW1lKTtjbGVhclRpbWVvdXQodGltZXJJZCl9KX0sc2hvd1Rvb2xiYXJNc2c6ZnVuY3Rpb24obXNnLGZsYWcpe3RoaXMuZ2V0RG9tKCJ0b29sYmFybXNnX2xhYmVsIikuaW5uZXJIVE1MPW1zZzt0aGlzLmdldERvbSgidG9vbGJhcm1zZyIpLnN0eWxlLmRpc3BsYXk9IiI7aWYoIWZsYWcpe3ZhciB3PXRoaXMuZ2V0RG9tKCJ1cGxvYWRfZGlhbG9nIik7dy5zdHlsZS5kaXNwbGF5PSJub25lIn19LGhpZGVUb29sYmFyTXNnOmZ1bmN0aW9uKCl7dGhpcy5nZXREb20oInRvb2xiYXJtc2ciKS5zdHlsZS5kaXNwbGF5PSJub25lIn0sbWFwVXJsOmZ1bmN0aW9uKHVybCl7cmV0dXJuIHVybD91cmwucmVwbGFjZSgifi8iLHRoaXMuZWRpdG9yLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTHx8IiIpOiIifSx0cmlnZ2VyTGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGRvbT10aGlzLmdldERvbSgpO2lmKGRvbS5zdHlsZS56b29tPT0iMSIpe2RvbS5zdHlsZS56b29tPSIxMDAlIn1lbHNle2RvbS5zdHlsZS56b29tPSIxIn19fTt1dGlscy5pbmhlcml0cyhFZGl0b3JVSSxiYWlkdS5lZGl0b3IudWkuVUlCYXNlKTt2YXIgaW5zdGFuY2VzPXt9O1VFLnVpLkVkaXRvcj1mdW5jdGlvbihvcHRpb25zKXt2YXIgZWRpdG9yPW5ldyBVRS5FZGl0b3Iob3B0aW9ucyk7ZWRpdG9yLm9wdGlvbnMuZWRpdG9yPWVkaXRvcjt1dGlscy5sb2FkRmlsZShkb2N1bWVudCx7aHJlZjplZGl0b3Iub3B0aW9ucy50aGVtZVBhdGgrZWRpdG9yLm9wdGlvbnMudGhlbWUrIi9jc3MvdWVkaXRvci5jc3MiLHRhZzoibGluayIsdHlwZToidGV4dC9jc3MiLHJlbDoic3R5bGVzaGVldCJ9KTt2YXIgb2xkUmVuZGVyPWVkaXRvci5yZW5kZXI7ZWRpdG9yLnJlbmRlcj1mdW5jdGlvbihob2xkZXIpe2lmKGhvbGRlci5jb25zdHJ1Y3Rvcj09PVN0cmluZyl7ZWRpdG9yLmtleT1ob2xkZXI7aW5zdGFuY2VzW2hvbGRlcl09ZWRpdG9yfXV0aWxzLmRvbVJlYWR5KGZ1bmN0aW9uKCl7ZWRpdG9yLmxhbmdJc1JlYWR5P3JlbmRlclVJKCk6ZWRpdG9yLmFkZExpc3RlbmVyKCJsYW5nUmVhZHkiLHJlbmRlclVJKTtmdW5jdGlvbiByZW5kZXJVSSgpe2VkaXRvci5zZXRPcHQoe2xhYmVsTWFwOmVkaXRvci5vcHRpb25zLmxhYmVsTWFwfHxlZGl0b3IuZ2V0TGFuZygibGFiZWxNYXAiKX0pO25ldyBFZGl0b3JVSShlZGl0b3Iub3B0aW9ucyk7aWYoaG9sZGVyKXtpZihob2xkZXIuY29uc3RydWN0b3I9PT1TdHJpbmcpe2hvbGRlcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChob2xkZXIpfWhvbGRlciYmaG9sZGVyLmdldEF0dHJpYnV0ZSgibmFtZSIpJiYoZWRpdG9yLm9wdGlvbnMudGV4dGFyZWE9aG9sZGVyLmdldEF0dHJpYnV0ZSgibmFtZSIpKTtpZihob2xkZXImJi9zY3JpcHR8dGV4dGFyZWEvaWcudGVzdChob2xkZXIudGFnTmFtZSkpe3ZhciBuZXdEaXY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aG9sZGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5ld0Rpdixob2xkZXIpO3ZhciBjb250PWhvbGRlci52YWx1ZXx8aG9sZGVyLmlubmVySFRNTDtlZGl0b3Iub3B0aW9ucy5pbml0aWFsQ29udGVudD0vXltcdFxyXG4gXSokLy50ZXN0KGNvbnQpP2VkaXRvci5vcHRpb25zLmluaXRpYWxDb250ZW50OmNvbnQucmVwbGFjZSgvPltcblxyXHRdKyhbIF17NH0pKy9nLCI+IikucmVwbGFjZSgvW1xuXHJcdF0rKFsgXXs0fSkrPC9nLCI8IikucmVwbGFjZSgvPltcblxyXHRdKzwvZywiPjwiKTtob2xkZXIuY2xhc3NOYW1lJiYobmV3RGl2LmNsYXNzTmFtZT1ob2xkZXIuY2xhc3NOYW1lKTtob2xkZXIuc3R5bGUuY3NzVGV4dCYmKG5ld0Rpdi5zdHlsZS5jc3NUZXh0PWhvbGRlci5zdHlsZS5jc3NUZXh0KTtpZigvdGV4dGFyZWEvaS50ZXN0KGhvbGRlci50YWdOYW1lKSl7ZWRpdG9yLnRleHRhcmVhPWhvbGRlcjtlZGl0b3IudGV4dGFyZWEuc3R5bGUuZGlzcGxheT0ibm9uZSJ9ZWxzZXtob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChob2xkZXIpO2hvbGRlci5pZCYmKG5ld0Rpdi5pZD1ob2xkZXIuaWQpfWhvbGRlcj1uZXdEaXY7aG9sZGVyLmlubmVySFRNTD0iIn19ZG9tVXRpbHMuYWRkQ2xhc3MoaG9sZGVyLCJlZHVpLSIrZWRpdG9yLm9wdGlvbnMudGhlbWUpO2VkaXRvci51aS5yZW5kZXIoaG9sZGVyKTt2YXIgb3B0PWVkaXRvci5vcHRpb25zO2VkaXRvci5jb250YWluZXI9ZWRpdG9yLnVpLmdldERvbSgpO3ZhciBwYXJlbnRzPWRvbVV0aWxzLmZpbmRQYXJlbnRzKGhvbGRlcix0cnVlKTt2YXIgZGlzcGxheXM9W107Zm9yKHZhciBpPTAsY2k7Y2k9cGFyZW50c1tpXTtpKyspe2Rpc3BsYXlzW2ldPWNpLnN0eWxlLmRpc3BsYXk7Y2kuc3R5bGUuZGlzcGxheT0iYmxvY2sifWlmKG9wdC5pbml0aWFsRnJhbWVXaWR0aCl7b3B0Lm1pbkZyYW1lV2lkdGg9b3B0LmluaXRpYWxGcmFtZVdpZHRofWVsc2V7b3B0Lm1pbkZyYW1lV2lkdGg9b3B0LmluaXRpYWxGcmFtZVdpZHRoPWhvbGRlci5vZmZzZXRXaWR0aH1pZihvcHQuaW5pdGlhbEZyYW1lSGVpZ2h0KXtvcHQubWluRnJhbWVIZWlnaHQ9b3B0LmluaXRpYWxGcmFtZUhlaWdodH1lbHNle29wdC5pbml0aWFsRnJhbWVIZWlnaHQ9b3B0Lm1pbkZyYW1lSGVpZ2h0PWhvbGRlci5vZmZzZXRIZWlnaHR9Zm9yKHZhciBpPTAsY2k7Y2k9cGFyZW50c1tpXTtpKyspe2NpLnN0eWxlLmRpc3BsYXk9ZGlzcGxheXNbaV19aWYoaG9sZGVyLnN0eWxlLmhlaWdodCl7aG9sZGVyLnN0eWxlLmhlaWdodD0iIn1lZGl0b3IuY29udGFpbmVyLnN0eWxlLndpZHRoPW9wdC5pbml0aWFsRnJhbWVXaWR0aCsoLyUkLy50ZXN0KG9wdC5pbml0aWFsRnJhbWVXaWR0aCk/IiI6InB4Iik7ZWRpdG9yLmNvbnRhaW5lci5zdHlsZS56SW5kZXg9b3B0LnpJbmRleDtvbGRSZW5kZXIuY2FsbChlZGl0b3IsZWRpdG9yLnVpLmdldERvbSgiaWZyYW1laG9sZGVyIikpO2VkaXRvci5maXJlRXZlbnQoImFmdGVydWlyZWFkeSIpfX0pfTtyZXR1cm4gZWRpdG9yfTtVRS5nZXRFZGl0b3I9ZnVuY3Rpb24oaWQsb3B0KXt2YXIgZWRpdG9yPWluc3RhbmNlc1tpZF07aWYoIWVkaXRvcil7ZWRpdG9yPWluc3RhbmNlc1tpZF09bmV3IFVFLnVpLkVkaXRvcihvcHQpO2VkaXRvci5yZW5kZXIoaWQpfXJldHVybiBlZGl0b3J9O1VFLmRlbEVkaXRvcj1mdW5jdGlvbihpZCl7dmFyIGVkaXRvcjtpZihlZGl0b3I9aW5zdGFuY2VzW2lkXSl7ZWRpdG9yLmtleSYmZWRpdG9yLmRlc3Ryb3koKTtkZWxldGUgaW5zdGFuY2VzW2lkXX19fSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLFBvcHVwPWJhaWR1LmVkaXRvci51aS5Qb3B1cCxTcGxpdEJ1dHRvbj1iYWlkdS5lZGl0b3IudWkuU3BsaXRCdXR0b24sTXVsdGlNZW51UG9wPWJhaWR1LmVkaXRvci51aS5NdWx0aU1lbnVQb3A9ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5pbml0T3B0aW9ucyhvcHRpb25zKTt0aGlzLmluaXRNdWx0aU1lbnUoKX07TXVsdGlNZW51UG9wLnByb3RvdHlwZT17aW5pdE11bHRpTWVudTpmdW5jdGlvbigpe3ZhciBtZT10aGlzO3RoaXMucG9wdXA9bmV3IFBvcHVwKHtjb250ZW50OiIiLGVkaXRvcjptZS5lZGl0b3IsaWZyYW1lX3JlbmRlcmVkOmZhbHNlLG9uc2hvdzpmdW5jdGlvbigpe2lmKCF0aGlzLmlmcmFtZV9yZW5kZXJlZCl7dGhpcy5pZnJhbWVfcmVuZGVyZWQ9dHJ1ZTt0aGlzLmdldERvbSgiY29udGVudCIpLmlubmVySFRNTD0nPGlmcmFtZSBpZD0iJyttZS5pZCsnX2lmcmFtZSIgc3JjPSInK21lLmlmcmFtZVVybCsnIiBmcmFtZWJvcmRlcj0iMCI+PC9pZnJhbWU+JzttZS5lZGl0b3IuY29udGFpbmVyLnN0eWxlLnpJbmRleCYmKHRoaXMuZ2V0RG9tKCkuc3R5bGUuekluZGV4PW1lLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4KjErMSl9fX0pO3RoaXMub25idXR0b25jbGljaz1mdW5jdGlvbigpe3RoaXMuc2hvd1BvcHVwKCl9O3RoaXMuaW5pdFNwbGl0QnV0dG9uKCl9fTt1dGlscy5pbmhlcml0cyhNdWx0aU1lbnVQb3AsU3BsaXRCdXR0b24pfSkoKTsoZnVuY3Rpb24oKXt2YXIgVUk9YmFpZHUuZWRpdG9yLnVpLFVJQmFzZT1VSS5VSUJhc2UsdWlVdGlscz1VSS51aVV0aWxzLHV0aWxzPWJhaWR1LmVkaXRvci51dGlscyxkb21VdGlscz1iYWlkdS5lZGl0b3IuZG9tLmRvbVV0aWxzO3ZhciBhbGxNZW51cz1bXSx0aW1lSUQsaXNTdWJNZW51U2hvdz1mYWxzZTt2YXIgU2hvcnRDdXRNZW51PVVJLlNob3J0Q3V0TWVudT1mdW5jdGlvbihvcHRpb25zKXt0aGlzLmluaXRPcHRpb25zKG9wdGlvbnMpO3RoaXMuaW5pdFNob3J0Q3V0TWVudSgpfTtTaG9ydEN1dE1lbnUucG9zdEhpZGU9aGlkZUFsbE1lbnU7U2hvcnRDdXRNZW51LnByb3RvdHlwZT17aXNIaWRkZW46dHJ1ZSxTUEFDRTo1LGluaXRTaG9ydEN1dE1lbnU6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPXRoaXMuaXRlbXN8fFtdO3RoaXMuaW5pdFVJQmFzZSgpO3RoaXMuaW5pdEl0ZW1zKCk7dGhpcy5pbml0RXZlbnQoKTthbGxNZW51cy5wdXNoKHRoaXMpfSxpbml0RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxkb2M9bWUuZWRpdG9yLmRvY3VtZW50O2RvbVV0aWxzLm9uKGRvYywibW91c2Vtb3ZlIixmdW5jdGlvbihlKXtpZihtZS5pc0hpZGRlbj09PWZhbHNlKXtpZihtZS5nZXRTdWJNZW51TWFyaygpfHxtZS5ldmVudFR5cGU9PSJjb250ZXh0bWVudSIpe3JldHVybn12YXIgZmxhZz10cnVlLGVsPW1lLmdldERvbSgpLHd0PWVsLm9mZnNldFdpZHRoLGh0PWVsLm9mZnNldEhlaWdodCxkaXN0YW5jZVg9d3QvMittZS5TUEFDRSxkaXN0YW5jZVk9aHQvMix4PU1hdGguYWJzKGUuc2NyZWVuWC1tZS5sZWZ0KSx5PU1hdGguYWJzKGUuc2NyZWVuWS1tZS50b3ApO2NsZWFyVGltZW91dCh0aW1lSUQpO3RpbWVJRD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoeT4wJiZ5PGRpc3RhbmNlWSl7bWUuc2V0T3BhY2l0eShlbCwiMSIpfWVsc2V7aWYoeT5kaXN0YW5jZVkmJnk8ZGlzdGFuY2VZKzcwKXttZS5zZXRPcGFjaXR5KGVsLCIwLjUiKTtmbGFnPWZhbHNlfWVsc2V7aWYoeT5kaXN0YW5jZVkrNzAmJnk8ZGlzdGFuY2VZKzE0MCl7bWUuaGlkZSgpfX19aWYoZmxhZyYmeD4wJiZ4PGRpc3RhbmNlWCl7bWUuc2V0T3BhY2l0eShlbCwiMSIpfWVsc2V7aWYoeD5kaXN0YW5jZVgmJng8ZGlzdGFuY2VYKzcwKXttZS5zZXRPcGFjaXR5KGVsLCIwLjUiKX1lbHNle2lmKHg+ZGlzdGFuY2VYKzcwJiZ4PGRpc3RhbmNlWCsxNDApe21lLmhpZGUoKX19fX0pfX0pO2lmKGJyb3dzZXIuY2hyb21lKXtkb21VdGlscy5vbihkb2MsIm1vdXNlb3V0IixmdW5jdGlvbihlKXt2YXIgcmVsYXRlZFRndD1lLnJlbGF0ZWRUYXJnZXR8fGUudG9FbGVtZW50O2lmKHJlbGF0ZWRUZ3Q9PW51bGx8fHJlbGF0ZWRUZ3QudGFnTmFtZT09IkhUTUwiKXttZS5oaWRlKCl9fSl9bWUuZWRpdG9yLmFkZExpc3RlbmVyKCJhZnRlcmhpZGVwb3AiLGZ1bmN0aW9uKCl7aWYoIW1lLmlzSGlkZGVuKXtpc1N1Yk1lbnVTaG93PXRydWV9fSl9LGluaXRJdGVtczpmdW5jdGlvbigpe2lmKHV0aWxzLmlzQXJyYXkodGhpcy5pdGVtcykpe2Zvcih2YXIgaT0wLGxlbj10aGlzLml0ZW1zLmxlbmd0aDtpPGxlbjtpKyspe3ZhciBpdGVtPXRoaXMuaXRlbXNbaV0udG9Mb3dlckNhc2UoKTtpZihVSVtpdGVtXSl7dGhpcy5pdGVtc1tpXT1uZXcgVUlbaXRlbV0odGhpcy5lZGl0b3IpO3RoaXMuaXRlbXNbaV0uY2xhc3NOYW1lKz0iIGVkdWktc2hvcnRjdXRzdWJtZW51ICJ9fX19LHNldE9wYWNpdHk6ZnVuY3Rpb24oZWwsdmFsdWUpe2lmKGJyb3dzZXIuaWUmJmJyb3dzZXIudmVyc2lvbjw5KXtlbC5zdHlsZS5maWx0ZXI9ImFscGhhKG9wYWNpdHkgPSAiK3BhcnNlRmxvYXQodmFsdWUpKjEwMCsiKTsifWVsc2V7ZWwuc3R5bGUub3BhY2l0eT12YWx1ZX19LGdldFN1Yk1lbnVNYXJrOmZ1bmN0aW9uKCl7aXNTdWJNZW51U2hvdz1mYWxzZTt2YXIgbGF5ZXJFbGU9dWlVdGlscy5nZXRGaXhlZExheWVyKCk7dmFyIGxpc3Q9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUobGF5ZXJFbGUsImRpdiIsZnVuY3Rpb24obm9kZSl7cmV0dXJuIGRvbVV0aWxzLmhhc0NsYXNzKG5vZGUsImVkdWktc2hvcnRjdXRzdWJtZW51IGVkdWktcG9wdXAiKX0pO2Zvcih2YXIgaT0wLG5vZGU7bm9kZT1saXN0W2krK107KXtpZihub2RlLnN0eWxlLmRpc3BsYXkhPSJub25lIil7aXNTdWJNZW51U2hvdz10cnVlfX1yZXR1cm4gaXNTdWJNZW51U2hvd30sc2hvdzpmdW5jdGlvbihlLGhhc0NvbnRleHRtZW51KXt2YXIgbWU9dGhpcyxvZmZzZXQ9e30sZWw9dGhpcy5nZXREb20oKSxmaXhlZGxheWVyPXVpVXRpbHMuZ2V0Rml4ZWRMYXllcigpO2Z1bmN0aW9uIHNldFBvcyhvZmZzZXQpe2lmKG9mZnNldC5sZWZ0PDApe29mZnNldC5sZWZ0PTB9aWYob2Zmc2V0LnRvcDwwKXtvZmZzZXQudG9wPTB9ZWwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDoiK29mZnNldC5sZWZ0KyJweDt0b3A6IitvZmZzZXQudG9wKyJweDsifWZ1bmN0aW9uIHNldFBvc0J5Q3h0TWVudShtZW51KXtpZighbWVudS50YWdOYW1lKXttZW51PW1lbnUuZ2V0RG9tKCl9b2Zmc2V0LmxlZnQ9cGFyc2VJbnQobWVudS5zdHlsZS5sZWZ0KTtvZmZzZXQudG9wPXBhcnNlSW50KG1lbnUuc3R5bGUudG9wKTtvZmZzZXQudG9wLT1lbC5vZmZzZXRIZWlnaHQrMTU7c2V0UG9zKG9mZnNldCl9bWUuZXZlbnRUeXBlPWUudHlwZTtlbC5zdHlsZS5jc3NUZXh0PSJkaXNwbGF5OmJsb2NrO2xlZnQ6LTk5OTlweCI7aWYoZS50eXBlPT0iY29udGV4dG1lbnUiJiZoYXNDb250ZXh0bWVudSl7dmFyIG1lbnU9ZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZml4ZWRsYXllciwiZGl2IiwiZWR1aS1jb250ZXh0bWVudSIpWzBdO2lmKG1lbnUpe3NldFBvc0J5Q3h0TWVudShtZW51KX1lbHNle21lLmVkaXRvci5hZGRMaXN0ZW5lcigiYWZ0ZXJzaG93Y29udGV4dG1lbnUiLGZ1bmN0aW9uKHR5cGUsbWVudSl7c2V0UG9zQnlDeHRNZW51KG1lbnUpfSl9fWVsc2V7b2Zmc2V0PXVpVXRpbHMuZ2V0Vmlld3BvcnRPZmZzZXRCeUV2ZW50KGUpO29mZnNldC50b3AtPWVsLm9mZnNldEhlaWdodCttZS5TUEFDRTtvZmZzZXQubGVmdCs9bWUuU1BBQ0UrMjA7c2V0UG9zKG9mZnNldCk7bWUuc2V0T3BhY2l0eShlbCwwLjIpfW1lLmlzSGlkZGVuPWZhbHNlO21lLmxlZnQ9ZS5zY3JlZW5YK2VsLm9mZnNldFdpZHRoLzItbWUuU1BBQ0U7bWUudG9wPWUuc2NyZWVuWS0oZWwub2Zmc2V0SGVpZ2h0LzIpLW1lLlNQQUNFO2lmKG1lLmVkaXRvcil7ZWwuc3R5bGUuekluZGV4PW1lLmVkaXRvci5jb250YWluZXIuc3R5bGUuekluZGV4KjErMTA7Zml4ZWRsYXllci5zdHlsZS56SW5kZXg9ZWwuc3R5bGUuekluZGV4LTF9fSxoaWRlOmZ1bmN0aW9uKCl7aWYodGhpcy5nZXREb20oKSl7dGhpcy5nZXREb20oKS5zdHlsZS5kaXNwbGF5PSJub25lIn10aGlzLmlzSGlkZGVuPXRydWV9LHBvc3RSZW5kZXI6ZnVuY3Rpb24oKXtpZih1dGlscy5pc0FycmF5KHRoaXMuaXRlbXMpKXtmb3IodmFyIGk9MCxpdGVtO2l0ZW09dGhpcy5pdGVtc1tpKytdOyl7aXRlbS5wb3N0UmVuZGVyKCl9fX0sZ2V0SHRtbFRwbDpmdW5jdGlvbigpe3ZhciBidWZmO2lmKHV0aWxzLmlzQXJyYXkodGhpcy5pdGVtcykpe2J1ZmY9W107Zm9yKHZhciBpPTA7aTx0aGlzLml0ZW1zLmxlbmd0aDtpKyspe2J1ZmZbaV09dGhpcy5pdGVtc1tpXS5yZW5kZXJIdG1sKCl9YnVmZj1idWZmLmpvaW4oIiIpfWVsc2V7YnVmZj10aGlzLml0ZW1zfXJldHVybic8ZGl2IGlkPSIjIyIgY2xhc3M9IiUlIGVkdWktdG9vbGJhciIgZGF0YS1zcmM9InNob3J0Y3V0bWVudSIgb25tb3VzZWRvd249InJldHVybiBmYWxzZTsiIG9uc2VsZWN0c3RhcnQ9InJldHVybiBmYWxzZTsiID4nK2J1ZmYrIjwvZGl2PiJ9fTt1dGlscy5pbmhlcml0cyhTaG9ydEN1dE1lbnUsVUlCYXNlKTtmdW5jdGlvbiBoaWRlQWxsTWVudShlKXt2YXIgdGd0PWUudGFyZ2V0fHxlLnNyY0VsZW1lbnQsY3VyPWRvbVV0aWxzLmZpbmRQYXJlbnQodGd0LGZ1bmN0aW9uKG5vZGUpe3JldHVybiBkb21VdGlscy5oYXNDbGFzcyhub2RlLCJlZHVpLXNob3J0Y3V0bWVudSIpfHxkb21VdGlscy5oYXNDbGFzcyhub2RlLCJlZHVpLXBvcHVwIil9LHRydWUpO2lmKCFjdXIpe2Zvcih2YXIgaT0wLG1lbnU7bWVudT1hbGxNZW51c1tpKytdOyl7bWVudS5oaWRlKCl9fX1kb21VdGlscy5vbihkb2N1bWVudCwibW91c2Vkb3duIixmdW5jdGlvbihlKXtoaWRlQWxsTWVudShlKX0pO2RvbVV0aWxzLm9uKHdpbmRvdywic2Nyb2xsIixmdW5jdGlvbihlKXtoaWRlQWxsTWVudShlKX0pfSkoKTsoZnVuY3Rpb24oKXt2YXIgdXRpbHM9YmFpZHUuZWRpdG9yLnV0aWxzLFVJQmFzZT1iYWlkdS5lZGl0b3IudWkuVUlCYXNlLEJyZWFrbGluZT1iYWlkdS5lZGl0b3IudWkuQnJlYWtsaW5lPWZ1bmN0aW9uKG9wdGlvbnMpe3RoaXMuaW5pdE9wdGlvbnMob3B0aW9ucyk7dGhpcy5pbml0U2VwYXJhdG9yKCl9O0JyZWFrbGluZS5wcm90b3R5cGU9e3VpTmFtZToiQnJlYWtsaW5lIixpbml0U2VwYXJhdG9yOmZ1bmN0aW9uKCl7dGhpcy5pbml0VUlCYXNlKCl9LGdldEh0bWxUcGw6ZnVuY3Rpb24oKXtyZXR1cm4iPGJyLz4ifX07dXRpbHMuaW5oZXJpdHMoQnJlYWtsaW5lLFVJQmFzZSl9KSgpfSkoKTs=</file>
	<file name='zb_system\ADMIN\ueditor\ueditor.config.asp' crc32='34EC1EE6'  dt:dt='bin.base64'>77u/PCVAIENPREVQQUdFPTY1MDAxICU+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uLy4uL3piX3VzZXJzL2Nfb3B0aW9uLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uL2Z1bmN0aW9uL2NfZnVuY3Rpb24uYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vLi4vZnVuY3Rpb24vY19zeXN0ZW1fbGliLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uL2Z1bmN0aW9uL2Nfc3lzdGVtX2Jhc2UuYXNwIiAtLT4NCjwhLS0gI2luY2x1ZGUgZmlsZT0iLi4vLi4vZnVuY3Rpb24vY19zeXN0ZW1fcGx1Z2luLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uLy4uLy4uL3piX3VzZXJzL3BsdWdpbi9wX2NvbmZpZy5hc3AiIC0tPg0KPCUNClJlc3BvbnNlLkNvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQiDQolPg0KPCUNCkNhbGwgQWN0aXZlUGx1Z2luKCkNCkZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1VFZGl0b3JfQ29uZmlnX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fVUVkaXRvcl9Db25maWdfQmVnaW4NCglJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9VRWRpdG9yX0NvbmZpZ19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVUVkaXRvcl9Db25maWdfQmVnaW4pDQpOZXh0DQoNCiAgICAgICAgDQoJRGltIHN0clVQTE9BRERJUg0KDQoJc3RyVVBMT0FERElSID0gUmVwbGFjZShaQ19VUExPQURfRElSRUNUT1JZJiIvIiZZZWFyKEdldFRpbWUoTm93KCkpKSYiLyImTW9udGgoR2V0VGltZShOb3coKSkpLCJcIiwiLyIpDQoNCglEaW0gUGF0aA0KCVBhdGg9QmxvZ0hvc3QgJiAiIiYgc3RyVVBMT0FERElSICYiLyINCglkaW0gc3RySlNDb250ZW50DQoJc3RySlNDb250ZW50PSIoZnVuY3Rpb24oKXt2YXIgVVJMO1VSTCA9ICciJkJsb2dIb3N0JiJ6Yl9zeXN0ZW0vYWRtaW4vdWVkaXRvci8nO3dpbmRvdy5VRURJVE9SX0NPTkZJRyA9IHsiDQoJRGltIG9EaWMNCglTZXQgb0RpYyA9IFNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCglvRGljLkFkZCAiVUVESVRPUl9IT01FX1VSTCIsIlVSTCINCiAgICBvRGljLkFkZCAiaW1hZ2VVcmwiLCIgVVJMKyIiYXNwL2ltYWdlVXAuYXNwIiIiDQogICAgb0RpYy5BZGQgImltYWdlTm9GbGFzaFVybCIsIiBVUkwrIiJhc3AvdXBsb2FkV2l0aG91dEZsYXNoLmFzcCIiIg0KICAgIG9EaWMuQWRkICJpbWFnZVBhdGgiLCIiIiImUGF0aCYiIiIiDQogICAgb0RpYy5BZGQgImltYWdlRmllbGROYW1lIiwiICIiZWR0RmlsZUxvYWQiIiINCiAgICBvRGljLkFkZCAiZmlsZVVybCIsIiBVUkwrIiJhc3AvZmlsZVVwLmFzcCIiIg0KICAgIG9EaWMuQWRkICJmaWxlUGF0aCIsIiIiIiZQYXRoJiIiIiINCiAgICBvRGljLkFkZCAiZmlsZUZpZWxkTmFtZSIsIiAiImVkdEZpbGVMb2FkIiIiDQogICAgb0RpYy5BZGQgImNhdGNoUmVtb3RlSW1hZ2VFbmFibGUiLCIgZmFsc2UiDQogICAgb0RpYy5BZGQgImltYWdlTWFuYWdlclVybCIsIlVSTCsiImFzcC9pbWFnZU1hbmFnZXIuYXNwIiIiDQogICAgb0RpYy5BZGQgImltYWdlTWFuYWdlclBhdGgiLCIiIiImQmxvZ0hvc3QmIiIiIg0KICAgIG9EaWMuQWRkICJ3b3JkSW1hZ2VVcmwiLCIgVVJMKyIiYXNwL2ltYWdlVXAuYXNwIiIiDQogICAgb0RpYy5BZGQgIndvcmRJbWFnZVBhdGgiLCIiIiImUGF0aCYiIiIiDQogICAgb0RpYy5BZGQgIndvcmRJbWFnZUZpZWxkTmFtZSIsIiIiZWR0RmlsZUxvYWQiIiINCglvRGljLkFkZCAic25hcHNjcmVlbkhvc3QiLCInIiZTcGxpdChSZXBsYWNlKFJlcGxhY2UoQmxvZ0hvc3QsImh0dHA6Ly8iLCIiKSwiaHR0cHM6Ly8iLCIiKSwiLyIpKDApJiInIg0KICAgIG9EaWMuQWRkICJzbmFwc2NyZWVuU2VydmVyVXJsIiwiVVJMKyIiYXNwL2ltYWdlVXAuYXNwP2FjdGlvbj1zbmFwc2NyZWVuJnVzZXJuYW1lPSImU2VydmVyLlVSTEVuY29kZShSZXF1ZXN0LkNvb2tpZXMoInVzZXJuYW1lIikpJiImcGFzc3dvcmQ9IiZTZXJ2ZXIuVVJMRW5jb2RlKFJlcXVlc3QuQ29va2llcygicGFzc3dvcmQiKSkmIiIiIg0KICAgIG9EaWMuQWRkICJzbmFwc2NyZWVuUGF0aCIsIiIiIiZQYXRoJiIiIiINCifmioDmnK/ljp/lm6DvvIzmiKrlm77ml6Dms5Xlrp7njrDjgILor6VFWEXlpKrlpYfokanjgIINCiAgICBvRGljLkFkZCAiZ2V0TW92aWVVcmwiLCJVUkwrIiJhc3AvZ2V0TW92aWUuYXNwIiIiDQoJb0RpYy5BZGQgInRvb2xiYXJzIiwiWyBbICdzb3VyY2UnLCAnfCcsICd1bmRvJywgJ3JlZG8nLCAnfCcsICdib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnc3RyaWtldGhyb3VnaCcsICdzdXBlcnNjcmlwdCcsICdzdWJzY3JpcHQnLCdmb3JlY29sb3InLCAnYmFja2NvbG9yJywgJ3wnLCAnaW5zZXJ0b3JkZXJlZGxpc3QnLCAnaW5zZXJ0dW5vcmRlcmVkbGlzdCcsJ2luZGVudCcsICdqdXN0aWZ5bGVmdCcsICdqdXN0aWZ5Y2VudGVyJywgJ2p1c3RpZnlyaWdodCcsJ3wnLCAncmVtb3ZlZm9ybWF0JywnZm9ybWF0bWF0Y2gnLCdhdXRvdHlwZXNldCcsICdzZWFyY2hyZXBsYWNlJywncGFzdGVwbGFpbiddLFsgJ2ZvbnRmYW1pbHknLCAnZm9udHNpemUnLCd8JywgJ2Vtb3Rpb24nLCdsaW5rJywnbXVzaWMnLCdpbnNlcnRpbWFnZScsJ3NjcmF3bCcsJ2luc2VydHZpZGVvJywgJ2F0dGFjaG1lbnQnLCdzcGVjaGFycycsJ3wnLCAnbWFwJywgJ2dtYXAnLCd8JywgIiZJSWYoWkNfU1lOVEFYSElHSExJR0hURVJfRU5BQkxFLCInaW5zZXJ0Y29kZScsIiwiIikmIidibG9ja3F1b3RlJywgJ3dvcmRpbWFnZScsJ2luc2VydHRhYmxlJywgJ2hvcml6b250YWwnLCdmdWxsc2NyZWVuJ11dIg0KCW9EaWMuQWRkICJzaG9ydGN1dE1lbnUiLCJbJ2ZvbnRmYW1pbHknLCAnZm9udHNpemUnLCAnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ2ZvcmVjb2xvcicsICdiYWNrY29sb3InLCAnaW5zZXJ0b3JkZXJlZGxpc3QnLCAnaW5zZXJ0dW5vcmRlcmVkbGlzdCddIg0KCW9EaWMuQWRkICJtYXhpbXVtV29yZHMiLDEwMDAwMDAwMDANCgknb0RpYy5BZGQgIndvcmRDb3VudE1zZyIsIiflvZPliY3lt7LovpPlhaUgeyNjb3VudH0g5Liq5a2X56ymICciDQoJb0RpYy5BZGQgImluaXRpYWxDb250ZW50IiwiJzxwPjwvcD4nIg0KCW9EaWMuQWRkICJpbml0aWFsU3R5bGUiLCInYm9keXtmb250LXNpemU6MTRweDtmb250LWZhbWlseTrlvq7ova/pm4Xpu5Es5a6L5L2TLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO30nIg0KCW9EaWMuQWRkICJ3b3JkQ291bnQiLCJ0cnVlIg0KCW9EaWMuQWRkICJlbGVtZW50UGF0aEVuYWJsZWQiLCJ0cnVlIg0KCW9EaWMuQWRkICJpbml0aWFsRnJhbWVIZWlnaHQiLCIzMDAiDQoJb0RpYy5BZGQgInRvb2xiYXJUb3BPZmZzZXQiLCIyMDAiDQogICAgb0RpYy5BZGQgInNjcmF3bFVybCIsIiBVUkwrIiJhc3Avc2NyYXdsVXAuYXNwIiIiDQogICAgb0RpYy5BZGQgInNjcmF3bFBhdGgiLCIiIiImUGF0aCYiIiIiDQoJb0RpYy5BZGQgInNjcmF3bEZpZWxkTmFtZSIsIiIiZWR0RmlsZUxvYWQiIiINCglvRGljLkFkZCAibWF4SW1hZ2VTaWRlTGVuZ3RoIiwiMjE0NzQ4MzY0NyINCglvRGljLkFkZCAic291cmNlRWRpdG9yIiwiIiIiJklJZihaQ19DT0RFTUlSUk9SX0VOQUJMRSwiY29kZW1pcnJvciIsInRleHRhcmVhIikmIiIiIg0KCW9EaWMuQWRkICJ0aGVtZSIsIidkZWZhdWx0JyINCiAgICBvRGljLkFkZCAidGhlbWVQYXRoIiwiVVJMICsndGhlbWVzLyciDQoJb0RpYy5BZGQgImxhbmciLCIiIiImWkNfRURJVE9STEFORyYiIiIiDQoJb0RpYy5BZGQgImxhbmdQYXRoIiwiVVJMKyIiLi4vLi4vLi4vemJfdXNlcnMvbGFuZ3VhZ2UvdWUtbGFuZy8iIiINCglvRGljLkFkZCAiY29kZU1pcnJvckpzVXJsIiwiVVJMKyAiInRoaXJkLXBhcnR5L2NvZGVtaXJyb3IvY29kZW1pcnJvci5taW4uanMiIiINCglvRGljLkFkZCAiY29kZU1pcnJvckNzc1VybCIsIlVSTCsgIiJ0aGlyZC1wYXJ0eS9jb2RlbWlycm9yL2NvZGVtaXJyb3IubWluLmNzcyIiIg0KCW9EaWMuQWRkICJtYXhVcEZpbGVTaXplIiwiIiIiJlpDX1VQTE9BRF9GSUxFU0laRS8oMTAyNCoxMDI0KSYiIiIiJ0J5dGXovazmiJBNYg0KCW9EaWMuQWRkICJhbGxvd0RpdlRyYW5zVG9QIiwiZmFsc2UiDQoJDQoJRGltIGksYXJ5S2V5cyxhcnlJdGVtcw0KCWFyeUtleXM9b0RpYy5LZXlzDQoJYXJ5SXRlbXM9b0RpYy5JdGVtcw0KCUZvciBpPTAgVG8gVWJvdW5kKGFyeUtleXMpLTENCgkJc3RySlNDb250ZW50PXN0ckpTQ29udGVudCZhcnlLZXlzKGkpJiI6IiZhcnlJdGVtcyhpKSYiLCINCglOZXh0DQoJc3RySlNDb250ZW50PXN0ckpTQ29udGVudCZhcnlLZXlzKGkpJiI6IiZhcnlJdGVtcyhpKQ0KCQ0KCQ0KCXN0ckpTQ29udGVudD1zdHJKU0NvbnRlbnQmIn19KSgpOyINCg0KDQpDYWxsIEZpbHRlcl9QbHVnaW5fVUVkaXRvcl9Db25maWcoc3RySlNDb250ZW50KQ0KDQpGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9VRWRpdG9yX0NvbmZpZ19FbmQgaW4gQWN0aW9uX1BsdWdpbl9VRWRpdG9yX0NvbmZpZ19FbmQNCglJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9VRWRpdG9yX0NvbmZpZ19FbmQpIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX1VFZGl0b3JfQ29uZmlnX0VuZCkNCk5leHQNCg0KCXJlc3BvbnNlLndyaXRlIHN0ckpTQ29udGVudA0KDQolPg0K</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\internal.js' crc32='BE137101'  dt:dt='bin.base64'>KGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgcGFyZW50ID0gd2luZG93LnBhcmVudDsNCiAgICAvL2RpYWxvZ+WvueixoQ0KICAgIGRpYWxvZyA9IHBhcmVudC4kRURJVE9SVUlbd2luZG93LmZyYW1lRWxlbWVudC5pZC5yZXBsYWNlKCAvX2lmcmFtZSQvLCAnJyApXTsNCiAgICAvL+W9k+WJjeaJk+W8gGRpYWxvZ+eahOe8lui+keWZqOWunuS+iw0KICAgIGVkaXRvciA9IGRpYWxvZy5lZGl0b3I7DQoNCiAgICBVRSA9IHBhcmVudC5VRTsNCg0KICAgIGRvbVV0aWxzID0gVUUuZG9tLmRvbVV0aWxzOw0KDQogICAgdXRpbHMgPSBVRS51dGlsczsNCg0KICAgIGJyb3dzZXIgPSBVRS5icm93c2VyOw0KDQogICAgYWpheCA9IFVFLmFqYXg7DQoNCiAgICAkRyA9IGZ1bmN0aW9uICggaWQgKSB7DQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaWQgKQ0KICAgIH07DQogICAgLy9mb2N1c+WFg+e0oA0KICAgICRmb2N1cyA9IGZ1bmN0aW9uICggbm9kZSApIHsNCiAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKCBicm93c2VyLmllICkgew0KICAgICAgICAgICAgICAgIHZhciByID0gbm9kZS5jcmVhdGVUZXh0UmFuZ2UoKTsNCiAgICAgICAgICAgICAgICByLmNvbGxhcHNlKCBmYWxzZSApOw0KICAgICAgICAgICAgICAgIHIuc2VsZWN0KCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIG5vZGUuZm9jdXMoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LCAwICkNCiAgICB9Ow0KICAgIHV0aWxzLmxvYWRGaWxlKGRvY3VtZW50LHsNCiAgICAgICAgaHJlZjplZGl0b3Iub3B0aW9ucy50aGVtZVBhdGggKyBlZGl0b3Iub3B0aW9ucy50aGVtZSArICIvZGlhbG9nYmFzZS5jc3M/Y2FjaGU9IitNYXRoLnJhbmRvbSgpLA0KICAgICAgICB0YWc6ImxpbmsiLA0KICAgICAgICB0eXBlOiJ0ZXh0L2NzcyIsDQogICAgICAgIHJlbDoic3R5bGVzaGVldCINCiAgICB9KTsNCiAgICBsYW5nID0gZWRpdG9yLmdldExhbmcoZGlhbG9nLmNsYXNzTmFtZS5zcGxpdCggIi0iIClbMl0pOw0KICAgIGlmKGxhbmcpew0KICAgICAgICBkb21VdGlscy5vbih3aW5kb3csJ2xvYWQnLGZ1bmN0aW9uICgpIHsNCg0KICAgICAgICAgICAgdmFyIGxhbmdJbWdQYXRoID0gZWRpdG9yLm9wdGlvbnMubGFuZ1BhdGggKyBlZGl0b3Iub3B0aW9ucy5sYW5nICsgIi9pbWFnZXMvIjsNCiAgICAgICAgICAgIC8v6ZKI5a+56Z2Z5oCB6LWE5rqQDQogICAgICAgICAgICBmb3IgKCB2YXIgaSBpbiBsYW5nWyJzdGF0aWMiXSApIHsNCiAgICAgICAgICAgICAgICB2YXIgZG9tID0gJEcoIGkgKTsNCiAgICAgICAgICAgICAgICBpZighZG9tKSBjb250aW51ZTsNCiAgICAgICAgICAgICAgICB2YXIgdGFnTmFtZSA9IGRvbS50YWdOYW1lLA0KICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gbGFuZ1sic3RhdGljIl1baV07DQogICAgICAgICAgICAgICAgaWYoY29udGVudC5zcmMpew0KICAgICAgICAgICAgICAgICAgICAvL2Nsb25lDQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB1dGlscy5leHRlbmQoe30sY29udGVudCxmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3JjID0gbGFuZ0ltZ1BhdGggKyBjb250ZW50LnNyYzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoY29udGVudC5zdHlsZSl7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB1dGlscy5leHRlbmQoe30sY29udGVudCxmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQuc3R5bGUgPSBjb250ZW50LnN0eWxlLnJlcGxhY2UoL3VybFxzKlwoL2csInVybCgiICsgbGFuZ0ltZ1BhdGgpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHN3aXRjaCAoIHRhZ05hbWUudG9Mb3dlckNhc2UoKSApIHsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAidmFyIjoNCiAgICAgICAgICAgICAgICAgICAgICAgIGRvbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIGNvbnRlbnQgKSwgZG9tICk7DQogICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAic2VsZWN0IjoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHMgPSBkb20ub3B0aW9uczsNCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBqID0gMCwgb2o7IG9qID0gb3BzW2pdOyApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvai5pbm5lckhUTUwgPSBjb250ZW50Lm9wdGlvbnNbaisrXTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBwIGluIGNvbnRlbnQgKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcCAhPSAib3B0aW9ucyIgJiYgZG9tLnNldEF0dHJpYnV0ZSggcCwgY29udGVudFtwXSApOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgOg0KICAgICAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuc2V0QXR0cmlidXRlcyggZG9tLCBjb250ZW50KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0gKTsNCiAgICB9DQoNCg0KfSkoKTsNCg0K</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\tangram.js' crc32='17A26D66'  dt:dt='bin.base64'>Ly8gQ29weXJpZ2h0IChjKSAyMDA5LCBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQovLyANCi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZQ0KLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLg0KLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0DQovLyANCi8vICAgICAgaHR0cDovLyB0YW5ncmFtLmJhaWR1LmNvbS9saWNlbnNlLmh0bWwNCi8vIA0KLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQ0KLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTLUlTIiBCQVNJUywNCi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLg0KLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZA0KLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuDQogLyoqDQogKiBAbmFtZXNwYWNlIFQgVGFuZ3JhbeS4g+W3p+advw0KICogQG5hbWUgVA0KICogQHZlcnNpb24gMS42LjANCiovDQoNCi8qKg0KICog5aOw5piOYmFpZHXljIUNCiAqIEBhdXRob3I6IGFsbHN0YXIsIGVyaWssIG1laXp6LCBiZXJnDQogKi8NCnZhciBULA0KICAgIGJhaWR1ID0gVCA9IGJhaWR1IHx8IHt2ZXJzaW9uOiAiMS41LjAifTsNCmJhaWR1Lmd1aWQgPSAiJEJBSURVJCI7DQpiYWlkdS4kJCA9IHdpbmRvd1tiYWlkdS5ndWlkXSA9IHdpbmRvd1tiYWlkdS5ndWlkXSB8fCB7Z2xvYmFsOnt9fTsNCg0KLyoqDQogKiDkvb/nlKhmbGFzaOi1hOa6kOWwgeijheeahOS4gOS6m+WKn+iDvQ0KICogQG5hbWVzcGFjZSBiYWlkdS5mbGFzaA0KICovDQpiYWlkdS5mbGFzaCA9IGJhaWR1LmZsYXNoIHx8IHt9Ow0KDQovKioNCiAqIOaTjeS9nGRvbeeahOaWueazlQ0KICogQG5hbWVzcGFjZSBiYWlkdS5kb20gDQogKi8NCmJhaWR1LmRvbSA9IGJhaWR1LmRvbSB8fCB7fTsNCg0KDQovKioNCiAqIOS7juaWh+aho+S4reiOt+WPluaMh+WumueahERPTeWFg+e0oA0KICogQG5hbWUgYmFpZHUuZG9tLmcNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUuZG9tLmcoaWQpDQogKiBAcGFyYW0ge3N0cmluZ3xIVE1MRWxlbWVudH0gaWQg5YWD57Sg55qEaWTmiJZET03lhYPntKAuDQogKiBAc2hvcnRjdXQgZyxULkcNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiBAc2VlIGJhaWR1LmRvbS5xDQogKg0KICogQHJldHVybiB7SFRNTEVsZW1lbnR8bnVsbH0g6I635Y+W55qE5YWD57Sg77yM5p+l5om+5LiN5Yiw5pe26L+U5ZuebnVsbCzlpoLmnpzlj4LmlbDkuI3lkIjms5XvvIznm7TmjqXov5Tlm57lj4LmlbAuDQogKi8NCmJhaWR1LmRvbS5nID0gZnVuY3Rpb24oaWQpIHsNCiAgICBpZiAoIWlkKSByZXR1cm4gbnVsbDsNCiAgICBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIGlkIHx8IGlkIGluc3RhbmNlb2YgU3RyaW5nKSB7DQogICAgICAgIHJldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQogICAgfSBlbHNlIGlmIChpZC5ub2RlTmFtZSAmJiAoaWQubm9kZVR5cGUgPT0gMSB8fCBpZC5ub2RlVHlwZSA9PSA5KSkgew0KICAgICAgICByZXR1cm4gaWQ7DQogICAgfQ0KICAgIHJldHVybiBudWxsOw0KfTsNCmJhaWR1LmcgPSBiYWlkdS5HID0gYmFpZHUuZG9tLmc7DQoNCg0KLyoqDQogKiDmk43kvZzmlbDnu4TnmoTmlrnms5UNCiAqIEBuYW1lc3BhY2UgYmFpZHUuYXJyYXkNCiAqLw0KDQpiYWlkdS5hcnJheSA9IGJhaWR1LmFycmF5IHx8IHt9Ow0KDQoNCi8qKg0KICog6YGN5Y6G5pWw57uE5Lit5omA5pyJ5YWD57SgDQogKiBAbmFtZSBiYWlkdS5hcnJheS5lYWNoDQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1LmFycmF5LmVhY2goc291cmNlLCBpdGVyYXRvclssIHRoaXNPYmplY3RdKQ0KICogQHBhcmFtIHtBcnJheX0gc291cmNlIOmcgOimgemBjeWOhueahOaVsOe7hA0KICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3Ig5a+55q+P5Liq5pWw57uE5YWD57Sg6L+b6KGM6LCD55So55qE5Ye95pWw77yM6K+l5Ye95pWw5pyJ5Lik5Liq5Y+C5pWw77yM56ys5LiA5Liq5Li65pWw57uE5YWD57Sg77yM56ys5LqM5Liq5Li65pWw57uE57Si5byV5YC877yMZnVuY3Rpb24gKGl0ZW0sIGluZGV4KeOAgg0KICogQHBhcmFtIHtPYmplY3R9IFt0aGlzT2JqZWN0XSDlh73mlbDosIPnlKjml7bnmoR0aGlz5oyH6ZKI77yM5aaC5p6c5rKh5pyJ5q2k5Y+C5pWw77yM6buY6K6k5piv5b2T5YmN6YGN5Y6G55qE5pWw57uEDQogKiBAcmVtYXJrDQogKiBlYWNo5pa55rOV5LiN5pSv5oyB5a+5T2JqZWN055qE6YGN5Y6GLOWvuU9iamVjdOeahOmBjeWOhuS9v+eUqGJhaWR1Lm9iamVjdC5lYWNoIOOAgg0KICogQHNob3J0Y3V0IGVhY2gNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiAgICAgICAgICAgICANCiAqIEByZXR1cm5zIHtBcnJheX0g6YGN5Y6G55qE5pWw57uEDQogKi8NCiANCmJhaWR1LmVhY2ggPSBiYWlkdS5hcnJheS5mb3JFYWNoID0gYmFpZHUuYXJyYXkuZWFjaCA9IGZ1bmN0aW9uIChzb3VyY2UsIGl0ZXJhdG9yLCB0aGlzT2JqZWN0KSB7DQogICAgdmFyIHJldHVyblZhbHVlLCBpdGVtLCBpLCBsZW4gPSBzb3VyY2UubGVuZ3RoOw0KICAgIA0KICAgIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBpdGVyYXRvcikgew0KICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgICAgIGl0ZW0gPSBzb3VyY2VbaV07DQogICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGl0ZXJhdG9yLmNhbGwodGhpc09iamVjdCB8fCBzb3VyY2UsIGl0ZW0sIGkpOw0KICAgIA0KICAgICAgICAgICAgaWYgKHJldHVyblZhbHVlID09PSBmYWxzZSkgew0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIHJldHVybiBzb3VyY2U7DQp9Ow0KDQovKioNCiAqIOWvueivreiogOWxgumdoueahOWwgeijhe+8jOWMheaLrOexu+Wei+WIpOaWreOAgeaooeWdl+aJqeWxleOAgee7p+aJv+Wfuuexu+S7peWPiuWvueixoeiHquWumuS5ieS6i+S7tueahOaUr+aMgeOAgg0KICogQG5hbWVzcGFjZSBiYWlkdS5sYW5nDQogKi8NCmJhaWR1LmxhbmcgPSBiYWlkdS5sYW5nIHx8IHt9Ow0KDQoNCi8qKg0KICog5Yik5pat55uu5qCH5Y+C5pWw5piv5ZCm5Li6ZnVuY3Rpb27miJZGdW5jdGlvbuWunuS+iw0KICogQG5hbWUgYmFpZHUubGFuZy5pc0Z1bmN0aW9uDQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1LmxhbmcuaXNGdW5jdGlvbihzb3VyY2UpDQogKiBAcGFyYW0ge0FueX0gc291cmNlIOebruagh+WPguaVsA0KICogQHZlcnNpb24gMS4yDQogKiBAc2VlIGJhaWR1LmxhbmcuaXNTdHJpbmcsYmFpZHUubGFuZy5pc09iamVjdCxiYWlkdS5sYW5nLmlzTnVtYmVyLGJhaWR1LmxhbmcuaXNBcnJheSxiYWlkdS5sYW5nLmlzRWxlbWVudCxiYWlkdS5sYW5nLmlzQm9vbGVhbixiYWlkdS5sYW5nLmlzRGF0ZQ0KICogQG1ldGEgc3RhbmRhcmQNCiAqIEByZXR1cm5zIHtib29sZWFufSDnsbvlnovliKTmlq3nu5PmnpwNCiAqLw0KYmFpZHUubGFuZy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24gKHNvdXJjZSkgew0KICAgIHJldHVybiAnW29iamVjdCBGdW5jdGlvbl0nID09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzb3VyY2UpOw0KfTsNCg0KLyoqDQogKiDliKTmlq3nm67moIflj4LmlbDmmK/lkKZzdHJpbmfnsbvlnovmiJZTdHJpbmflr7nosaENCiAqIEBuYW1lIGJhaWR1LmxhbmcuaXNTdHJpbmcNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUubGFuZy5pc1N0cmluZyhzb3VyY2UpDQogKiBAcGFyYW0ge0FueX0gc291cmNlIOebruagh+WPguaVsA0KICogQHNob3J0Y3V0IGlzU3RyaW5nDQogKiBAbWV0YSBzdGFuZGFyZA0KICogQHNlZSBiYWlkdS5sYW5nLmlzT2JqZWN0LGJhaWR1LmxhbmcuaXNOdW1iZXIsYmFpZHUubGFuZy5pc0FycmF5LGJhaWR1LmxhbmcuaXNFbGVtZW50LGJhaWR1LmxhbmcuaXNCb29sZWFuLGJhaWR1LmxhbmcuaXNEYXRlDQogKiAgICAgICAgICAgICANCiAqIEByZXR1cm5zIHtib29sZWFufSDnsbvlnovliKTmlq3nu5PmnpwNCiAqLw0KYmFpZHUubGFuZy5pc1N0cmluZyA9IGZ1bmN0aW9uIChzb3VyY2UpIHsNCiAgICByZXR1cm4gJ1tvYmplY3QgU3RyaW5nXScgPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNvdXJjZSk7DQp9Ow0KYmFpZHUuaXNTdHJpbmcgPSBiYWlkdS5sYW5nLmlzU3RyaW5nOw0KDQoNCi8qKg0KICog5Yik5pat5rWP6KeI5Zmo57G75Z6L5ZKM54m55oCn55qE5bGe5oCnDQogKiBAbmFtZXNwYWNlIGJhaWR1LmJyb3dzZXINCiAqLw0KYmFpZHUuYnJvd3NlciA9IGJhaWR1LmJyb3dzZXIgfHwge307DQoNCg0KLyoqDQogKiDliKTmlq3mmK/lkKbkuLpvcGVyYea1j+iniOWZqA0KICogQHByb3BlcnR5IG9wZXJhIG9wZXJh54mI5pys5Y+3DQogKiBAZ3JhbW1hciBiYWlkdS5icm93c2VyLm9wZXJhDQogKiBAbWV0YSBzdGFuZGFyZA0KICogQHNlZSBiYWlkdS5icm93c2VyLmllLGJhaWR1LmJyb3dzZXIuZmlyZWZveCxiYWlkdS5icm93c2VyLnNhZmFyaSxiYWlkdS5icm93c2VyLmNocm9tZQ0KICogQHJldHVybnMge051bWJlcn0gb3BlcmHniYjmnKzlj7cNCiAqLw0KDQovKioNCiAqIG9wZXJhIOS7jjEw5byA5aeL5LiN5piv55Sob3BlcmHlkI7pnaLnmoTlrZfnrKbkuLLov5vooYzniYjmnKznmoTliKTmlq0NCiAqIOWcqEJyb3dzZXIgaWRlbnRpZmljYXRpb27mnIDlkI7mt7vliqBWZXJzaW9uICsg5pWw5a2X6L+b6KGM54mI5pys5qCH6K+GDQogKiBvcGVyYeWQjumdoueahOaVsOWtl+S/neaMgeWcqDkuODDkuI3lj5gNCiAqLw0KYmFpZHUuYnJvd3Nlci5vcGVyYSA9IC9vcGVyYShcL3wgKShcZCsoXC5cZCspPykoLis/KHZlcnNpb25cLyhcZCsoXC5cZCspPykpKT8vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpID8gICsgKCBSZWdFeHBbIlx4MjQ2Il0gfHwgUmVnRXhwWyJceDI0MiJdICkgOiB1bmRlZmluZWQ7DQoNCg0KLyoqDQogKiDlnKjnm67moIflhYPntKDnmoTmjIflrprkvY3nva7mj5LlhaVIVE1M5Luj56CBDQogKiBAbmFtZSBiYWlkdS5kb20uaW5zZXJ0SFRNTA0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5kb20uaW5zZXJ0SFRNTChlbGVtZW50LCBwb3NpdGlvbiwgaHRtbCkNCiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8c3RyaW5nfSBlbGVtZW50IOebruagh+WFg+e0oOaIluebruagh+WFg+e0oOeahGlkDQogKiBAcGFyYW0ge3N0cmluZ30gcG9zaXRpb24g5o+S5YWlaHRtbOeahOS9jee9ruS/oeaBr++8jOWPluWAvOS4umJlZm9yZUJlZ2luLGFmdGVyQmVnaW4sYmVmb3JlRW5kLGFmdGVyRW5kDQogKiBAcGFyYW0ge3N0cmluZ30gaHRtbCDopoHmj5LlhaXnmoRodG1sDQogKiBAcmVtYXJrDQogKiANCiAqIOWvueS6jnBvc2l0aW9u5Y+C5pWw77yM5aSn5bCP5YaZ5LiN5pWP5oSfPGJyPg0KICog5Y+C5pWw55qE5oSP5oCd77yaYmVmb3JlQmVnaW4mbHQ7c3BhbiZndDthZnRlckJlZ2luICAgdGhpcyBpcyBzcGFuISBiZWZvcmVFbmQmbHQ7L3NwYW4mZ3Q7IGFmdGVyRW5kIDxiciAvPg0KICog5q2k5aSW77yM5aaC5p6c5L2/55So5pys5Ye95pWw5o+S5YWl5bim5pyJc2NyaXB05qCH562+55qESFRNTOWtl+espuS4su+8jHNjcmlwdOagh+etvuWvueW6lOeahOiEmuacrOWwhuS4jeS8muiiq+aJp+ihjOOAgg0KICogDQogKiBAc2hvcnRjdXQgaW5zZXJ0SFRNTA0KICogQG1ldGEgc3RhbmRhcmQNCiAqICAgICAgICAgICAgIA0KICogQHJldHVybnMge0hUTUxFbGVtZW50fSDnm67moIflhYPntKANCiAqLw0KYmFpZHUuZG9tLmluc2VydEhUTUwgPSBmdW5jdGlvbiAoZWxlbWVudCwgcG9zaXRpb24sIGh0bWwpIHsNCiAgICBlbGVtZW50ID0gYmFpZHUuZG9tLmcoZWxlbWVudCk7DQogICAgdmFyIHJhbmdlLGJlZ2luOw0KICAgIGlmIChlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCAmJiAhYmFpZHUuYnJvd3Nlci5vcGVyYSkgew0KICAgICAgICBlbGVtZW50Lmluc2VydEFkamFjZW50SFRNTChwb3NpdGlvbiwgaHRtbCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmFuZ2UgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsNCiAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi50b1VwcGVyQ2FzZSgpOw0KICAgICAgICBpZiAocG9zaXRpb24gPT0gJ0FGVEVSQkVHSU4nIHx8IHBvc2l0aW9uID09ICdCRUZPUkVFTkQnKSB7DQogICAgICAgICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWxlbWVudCk7DQogICAgICAgICAgICByYW5nZS5jb2xsYXBzZShwb3NpdGlvbiA9PSAnQUZURVJCRUdJTicpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgYmVnaW4gPSBwb3NpdGlvbiA9PSAnQkVGT1JFQkVHSU4nOw0KICAgICAgICAgICAgcmFuZ2VbYmVnaW4gPyAnc2V0U3RhcnRCZWZvcmUnIDogJ3NldEVuZEFmdGVyJ10oZWxlbWVudCk7DQogICAgICAgICAgICByYW5nZS5jb2xsYXBzZShiZWdpbik7DQogICAgICAgIH0NCiAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShyYW5nZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaHRtbCkpOw0KICAgIH0NCiAgICByZXR1cm4gZWxlbWVudDsNCn07DQoNCmJhaWR1Lmluc2VydEhUTUwgPSBiYWlkdS5kb20uaW5zZXJ0SFRNTDsNCg0KLyoqDQogKiDmk43kvZxmbGFzaOWvueixoeeahOaWueazle+8jOWMheaLrOWIm+W7umZsYXNo5a+56LGh44CB6I635Y+WZmxhc2jlr7nosaHku6Xlj4rliKTmlq1mbGFzaOaPkuS7tueahOeJiOacrOWPtw0KICogQG5hbWVzcGFjZSBiYWlkdS5zd2YNCiAqLw0KYmFpZHUuc3dmID0gYmFpZHUuc3dmIHx8IHt9Ow0KDQoNCi8qKg0KICog5rWP6KeI5Zmo5pSv5oyB55qEZmxhc2jmj5Lku7bniYjmnKwNCiAqIEBwcm9wZXJ0eSB2ZXJzaW9uIOa1j+iniOWZqOaUr+aMgeeahGZsYXNo5o+S5Lu254mI5pysDQogKiBAZ3JhbW1hciBiYWlkdS5zd2YudmVyc2lvbg0KICogQHJldHVybiB7U3RyaW5nfSDniYjmnKzlj7cNCiAqIEBtZXRhIHN0YW5kYXJkDQogKi8NCmJhaWR1LnN3Zi52ZXJzaW9uID0gKGZ1bmN0aW9uICgpIHsNCiAgICB2YXIgbiA9IG5hdmlnYXRvcjsNCiAgICBpZiAobi5wbHVnaW5zICYmIG4ubWltZVR5cGVzLmxlbmd0aCkgew0KICAgICAgICB2YXIgcGx1Z2luID0gbi5wbHVnaW5zWyJTaG9ja3dhdmUgRmxhc2giXTsNCiAgICAgICAgaWYgKHBsdWdpbiAmJiBwbHVnaW4uZGVzY3JpcHRpb24pIHsNCiAgICAgICAgICAgIHJldHVybiBwbHVnaW4uZGVzY3JpcHRpb24NCiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyhbYS16QS1aXXxccykrLywgIiIpDQogICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oXHMpK3IvLCAiLiIpICsgIi4wIjsNCiAgICAgICAgfQ0KICAgIH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QgJiYgIXdpbmRvdy5vcGVyYSkgew0KICAgICAgICBmb3IgKHZhciBpID0gMTI7IGkgPj0gMjsgaS0tKSB7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIHZhciBjID0gbmV3IEFjdGl2ZVhPYmplY3QoJ1Nob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoLicgKyBpKTsNCiAgICAgICAgICAgICAgICBpZiAoYykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IGMuR2V0VmFyaWFibGUoIiR2ZXJzaW9uIik7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uLnJlcGxhY2UoL1dJTi9nLCcnKS5yZXBsYWNlKC8sL2csJy4nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9IGNhdGNoKGUpIHt9DQogICAgICAgIH0NCiAgICB9DQp9KSgpOw0KDQovKioNCiAqIOaTjeS9nOWtl+espuS4sueahOaWueazlQ0KICogQG5hbWVzcGFjZSBiYWlkdS5zdHJpbmcNCiAqLw0KYmFpZHUuc3RyaW5nID0gYmFpZHUuc3RyaW5nIHx8IHt9Ow0KDQoNCi8qKg0KICog5a+555uu5qCH5a2X56ym5Liy6L+b6KGMaHRtbOe8lueggQ0KICogQG5hbWUgYmFpZHUuc3RyaW5nLmVuY29kZUhUTUwNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUuc3RyaW5nLmVuY29kZUhUTUwoc291cmNlKQ0KICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSDnm67moIflrZfnrKbkuLINCiAqIEByZW1hcmsNCiAqIOe8lueggeWtl+espuaciTXkuKrvvJomPD4iJw0KICogQHNob3J0Y3V0IGVuY29kZUhUTUwNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiBAc2VlIGJhaWR1LnN0cmluZy5kZWNvZGVIVE1MDQogKiAgICAgICAgICAgICANCiAqIEByZXR1cm5zIHtzdHJpbmd9IGh0bWznvJbnoIHlkI7nmoTlrZfnrKbkuLINCiAqLw0KYmFpZHUuc3RyaW5nLmVuY29kZUhUTUwgPSBmdW5jdGlvbiAoc291cmNlKSB7DQogICAgcmV0dXJuIFN0cmluZyhzb3VyY2UpDQogICAgICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywnJmFtcDsnKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC88L2csJyZsdDsnKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csJyZndDsnKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8iL2csICImcXVvdDsiKQ0KICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICImIzM5OyIpOw0KfTsNCg0KYmFpZHUuZW5jb2RlSFRNTCA9IGJhaWR1LnN0cmluZy5lbmNvZGVIVE1MOw0KDQovKioNCiAqIOWIm+W7umZsYXNo5a+56LGh55qEaHRtbOWtl+espuS4sg0KICogQG5hbWUgYmFpZHUuc3dmLmNyZWF0ZUhUTUwNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUuc3dmLmNyZWF0ZUhUTUwob3B0aW9ucykNCiAqIA0KICogQHBhcmFtIHtPYmplY3R9IAlvcHRpb25zIAkJCQkJ5Yib5bu6Zmxhc2jnmoTpgInpobnlj4LmlbANCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5pZCAJCQkJCeimgeWIm+W7uueahGZsYXNo55qE5qCH6K+GDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMudXJsIAkJCQlmbGFzaOaWh+S7tueahHVybA0KICogQHBhcmFtIHtTdHJpbmd9IAlvcHRpb25zLmVycm9yTWVzc2FnZSAJCeacquWuieijhWZsYXNoIHBsYXllcuaIlmZsYXNoIHBsYXllcueJiOacrOWPt+i/h+S9juaXtueahOaPkOekug0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLnZlciAJCQkJ5pyA5L2O6ZyA6KaB55qEZmxhc2ggcGxheWVy54mI5pys5Y+3DQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMud2lkdGggCQkJCWZsYXNo55qE5a695bqmDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMuaGVpZ2h0IAkJCQlmbGFzaOeahOmrmOW6pg0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLmFsaWduIAkJCQlmbGFzaOeahOWvuem9kOaWueW8j++8jOWFgeiuuOWAvO+8mm1pZGRsZS9sZWZ0L3JpZ2h0L3RvcC9ib3R0b20NCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5iYXNlIAkJCQnorr7nva7nlKjkuo7op6PmnpBzd2bmlofku7bkuK3nmoTmiYDmnInnm7jlr7not6/lvoTor63lj6XnmoTln7rmnKznm67lvZXmiJZVUkwNCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5iZ2NvbG9yIAkJCXN3ZuaWh+S7tueahOiDjOaZr+iJsg0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLnNhbGlnbiAJCQkJ6K6+572u57yp5pS+55qEc3dm5paH5Lu25Zyo55Sxd2lkdGjlkoxoZWlnaHTorr7nva7lrprkuYnnmoTljLrln5/lhoXnmoTkvY3nva7jgILlhYHorrjlgLzvvJpsL3IvdC9iL3RsL3RyL2JsL2JyDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMubWVudSAJCQkJ5piv5ZCm5pi+56S65Y+z6ZSu6I+c5Y2V77yM5YWB6K645YC877yadHJ1ZS9mYWxzZQ0KICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvb3AgCQkJCeaSreaUvuWIsOacgOWQjuS4gOW4p+aXtuaYr+WQpumHjeaWsOaSreaUvu+8jOWFgeiuuOWAvO+8miB0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucGxheSAJCQkJZmxhc2jmmK/lkKblnKjmtY/op4jlmajliqDovb3ml7blsLHlvIDlp4vmkq3mlL7jgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMucXVhbGl0eSAJCQnorr7nva5mbGFzaOaSreaUvueahOeUu+i0qO+8jOWFgeiuuOWAvO+8mmxvdy9tZWRpdW0vaGlnaC9hdXRvbG93L2F1dG9oaWdoL2Jlc3QNCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5zY2FsZSAJCQkJ6K6+572uZmxhc2jlhoXlrrnlpoLkvZXnvKnmlL7mnaXpgILlupTorr7nva7nmoTlrr3pq5jjgILlhYHorrjlgLzvvJpzaG93YWxsL25vYm9yZGVyL2V4YWN0Zml0DQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMud21vZGUgCQkJCeiuvue9rmZsYXNo55qE5pi+56S65qih5byP44CC5YWB6K645YC877yad2luZG93L29wYXF1ZS90cmFuc3BhcmVudA0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLmFsbG93c2NyaXB0YWNjZXNzIAnorr7nva5mbGFzaOS4jumhtemdoueahOmAmuS/oeadg+mZkOOAguWFgeiuuOWAvO+8mmFsd2F5cy9uZXZlci9zYW1lRG9tYWluDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMuYWxsb3duZXR3b3JraW5nIAnorr7nva5zd2bmlofku7bkuK3lhYHorrjkvb/nlKjnmoTnvZHnu5xBUEnjgILlhYHorrjlgLzvvJphbGwvaW50ZXJuYWwvbm9uZQ0KICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmFsbG93ZnVsbHNjcmVlbiAJ5piv5ZCm5YWB6K64Zmxhc2jlhajlsY/jgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc2VhbWxlc3N0YWJiaW5nIAnlhYHorrjorr7nva7miafooYzml6DnvJ3ot7PmoLzvvIzku47ogIzkvb/nlKjmiLfog73ot7Plh7pmbGFzaOW6lOeUqOeoi+W6j+OAguivpeWPguaVsOWPquiDveWcqOWuieijhUZsYXNoN+WPiuabtOmrmOeJiOacrOeahFdpbmRvd3PkuK3kvb/nlKjjgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZGV2aWNlZm9udCAJCQnorr7nva7pnZnmgIHmlofmnKzlr7nosaHmmK/lkKbku6Xorr7lpIflrZfkvZPlkYjnjrDjgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc3dsaXZlY29ubmVjdCAJCeesrOS4gOasoeWKoOi9vWZsYXNo5pe25rWP6KeI5Zmo5piv5ZCm5bqU5ZCv5YqoSmF2YeOAguWFgeiuuOWAvO+8mnRydWUvZmFsc2UNCiAqIEBwYXJhbSB7T2JqZWN0fSAJb3B0aW9ucy52YXJzIAkJCQnopoHkvKDpgJLnu5lmbGFzaOeahOWPguaVsO+8jOaUr+aMgUpTT07miJZzdHJpbmfnsbvlnovjgIINCiAqIA0KICogQHNlZSBiYWlkdS5zd2YuY3JlYXRlDQogKiBAbWV0YSBzdGFuZGFyZA0KICogQHJldHVybnMge3N0cmluZ30gZmxhc2jlr7nosaHnmoRodG1s5a2X56ym5LiyDQogKi8NCmJhaWR1LnN3Zi5jcmVhdGVIVE1MID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsNCiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsNCiAgICB2YXIgdmVyc2lvbiA9IGJhaWR1LnN3Zi52ZXJzaW9uLCANCiAgICAgICAgbmVlZFZlcnNpb24gPSBvcHRpb25zWyd2ZXInXSB8fCAnNi4wLjAnLCANCiAgICAgICAgdlVuaXQxLCB2VW5pdDIsIGksIGssIGxlbiwgaXRlbSwgdG1wT3B0ID0ge30sDQogICAgICAgIGVuY29kZUhUTUwgPSBiYWlkdS5zdHJpbmcuZW5jb2RlSFRNTDsNCiAgICBmb3IgKGsgaW4gb3B0aW9ucykgew0KICAgICAgICB0bXBPcHRba10gPSBvcHRpb25zW2tdOw0KICAgIH0NCiAgICBvcHRpb25zID0gdG1wT3B0Ow0KICAgIGlmICh2ZXJzaW9uKSB7DQogICAgICAgIHZlcnNpb24gPSB2ZXJzaW9uLnNwbGl0KCcuJyk7DQogICAgICAgIG5lZWRWZXJzaW9uID0gbmVlZFZlcnNpb24uc3BsaXQoJy4nKTsNCiAgICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykgew0KICAgICAgICAgICAgdlVuaXQxID0gcGFyc2VJbnQodmVyc2lvbltpXSwgMTApOw0KICAgICAgICAgICAgdlVuaXQyID0gcGFyc2VJbnQobmVlZFZlcnNpb25baV0sIDEwKTsNCiAgICAgICAgICAgIGlmICh2VW5pdDIgPCB2VW5pdDEpIHsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodlVuaXQyID4gdlVuaXQxKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuICcnOw0KICAgIH0NCiAgICANCiAgICB2YXIgdmFycyA9IG9wdGlvbnNbJ3ZhcnMnXSwNCiAgICAgICAgb2JqUHJvcGVydGllcyA9IFsnY2xhc3NpZCcsICdjb2RlYmFzZScsICdpZCcsICd3aWR0aCcsICdoZWlnaHQnLCAnYWxpZ24nXTsNCiAgICBvcHRpb25zWydhbGlnbiddID0gb3B0aW9uc1snYWxpZ24nXSB8fCAnbWlkZGxlJzsNCiAgICBvcHRpb25zWydjbGFzc2lkJ10gPSAnY2xzaWQ6ZDI3Y2RiNmUtYWU2ZC0xMWNmLTk2YjgtNDQ0NTUzNTQwMDAwJzsNCiAgICBvcHRpb25zWydjb2RlYmFzZSddID0gJ2h0dHA6Ly9mcGRvd25sb2FkLm1hY3JvbWVkaWEuY29tL3B1Yi9zaG9ja3dhdmUvY2Ficy9mbGFzaC9zd2ZsYXNoLmNhYiN2ZXJzaW9uPTYsMCwwLDAnOw0KICAgIG9wdGlvbnNbJ21vdmllJ10gPSBvcHRpb25zWyd1cmwnXSB8fCAnJzsNCiAgICBkZWxldGUgb3B0aW9uc1sndmFycyddOw0KICAgIGRlbGV0ZSBvcHRpb25zWyd1cmwnXTsNCiAgICBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIHZhcnMpIHsNCiAgICAgICAgb3B0aW9uc1snZmxhc2h2YXJzJ10gPSB2YXJzOw0KICAgIH0gZWxzZSB7DQogICAgICAgIHZhciBmdmFycyA9IFtdOw0KICAgICAgICBmb3IgKGsgaW4gdmFycykgew0KICAgICAgICAgICAgaXRlbSA9IHZhcnNba107DQogICAgICAgICAgICBmdmFycy5wdXNoKGsgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQoaXRlbSkpOw0KICAgICAgICB9DQogICAgICAgIG9wdGlvbnNbJ2ZsYXNodmFycyddID0gZnZhcnMuam9pbignJicpOw0KICAgIH0NCiAgICB2YXIgc3RyID0gWyc8b2JqZWN0ICddOw0KICAgIGZvciAoaSA9IDAsIGxlbiA9IG9ialByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsNCiAgICAgICAgaXRlbSA9IG9ialByb3BlcnRpZXNbaV07DQogICAgICAgIHN0ci5wdXNoKCcgJywgaXRlbSwgJz0iJywgZW5jb2RlSFRNTChvcHRpb25zW2l0ZW1dKSwgJyInKTsNCiAgICB9DQogICAgc3RyLnB1c2goJz4nKTsNCiAgICB2YXIgcGFyYW1zID0gew0KICAgICAgICAnd21vZGUnICAgICAgICAgICAgIDogMSwNCiAgICAgICAgJ3NjYWxlJyAgICAgICAgICAgICA6IDEsDQogICAgICAgICdxdWFsaXR5JyAgICAgICAgICAgOiAxLA0KICAgICAgICAncGxheScgICAgICAgICAgICAgIDogMSwNCiAgICAgICAgJ2xvb3AnICAgICAgICAgICAgICA6IDEsDQogICAgICAgICdtZW51JyAgICAgICAgICAgICAgOiAxLA0KICAgICAgICAnc2FsaWduJyAgICAgICAgICAgIDogMSwNCiAgICAgICAgJ2JnY29sb3InICAgICAgICAgICA6IDEsDQogICAgICAgICdiYXNlJyAgICAgICAgICAgICAgOiAxLA0KICAgICAgICAnYWxsb3dzY3JpcHRhY2Nlc3MnIDogMSwNCiAgICAgICAgJ2FsbG93bmV0d29ya2luZycgICA6IDEsDQogICAgICAgICdhbGxvd2Z1bGxzY3JlZW4nICAgOiAxLA0KICAgICAgICAnc2VhbWxlc3N0YWJiaW5nJyAgIDogMSwNCiAgICAgICAgJ2RldmljZWZvbnQnICAgICAgICA6IDEsDQogICAgICAgICdzd2xpdmVjb25uZWN0JyAgICAgOiAxLA0KICAgICAgICAnZmxhc2h2YXJzJyAgICAgICAgIDogMSwNCiAgICAgICAgJ21vdmllJyAgICAgICAgICAgICA6IDENCiAgICB9Ow0KICAgIA0KICAgIGZvciAoayBpbiBvcHRpb25zKSB7DQogICAgICAgIGl0ZW0gPSBvcHRpb25zW2tdOw0KICAgICAgICBrID0gay50b0xvd2VyQ2FzZSgpOw0KICAgICAgICBpZiAocGFyYW1zW2tdICYmIChpdGVtIHx8IGl0ZW0gPT09IGZhbHNlIHx8IGl0ZW0gPT09IDApKSB7DQogICAgICAgICAgICBzdHIucHVzaCgnPHBhcmFtIG5hbWU9IicgKyBrICsgJyIgdmFsdWU9IicgKyBlbmNvZGVIVE1MKGl0ZW0pICsgJyIgLz4nKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBvcHRpb25zWydzcmMnXSAgPSBvcHRpb25zWydtb3ZpZSddOw0KICAgIG9wdGlvbnNbJ25hbWUnXSA9IG9wdGlvbnNbJ2lkJ107DQogICAgZGVsZXRlIG9wdGlvbnNbJ2lkJ107DQogICAgZGVsZXRlIG9wdGlvbnNbJ21vdmllJ107DQogICAgZGVsZXRlIG9wdGlvbnNbJ2NsYXNzaWQnXTsNCiAgICBkZWxldGUgb3B0aW9uc1snY29kZWJhc2UnXTsNCiAgICBvcHRpb25zWyd0eXBlJ10gPSAnYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2gnOw0KICAgIG9wdGlvbnNbJ3BsdWdpbnNwYWdlJ10gPSAnaHR0cDovL3d3dy5tYWNyb21lZGlhLmNvbS9nby9nZXRmbGFzaHBsYXllcic7DQogICAgc3RyLnB1c2goJzxlbWJlZCcpOw0KICAgIHZhciBzYWxpZ247DQogICAgZm9yIChrIGluIG9wdGlvbnMpIHsNCiAgICAgICAgaXRlbSA9IG9wdGlvbnNba107DQogICAgICAgIGlmIChpdGVtIHx8IGl0ZW0gPT09IGZhbHNlIHx8IGl0ZW0gPT09IDApIHsNCiAgICAgICAgICAgIGlmICgobmV3IFJlZ0V4cCgiXnNhbGlnblx4MjQiLCAiaSIpKS50ZXN0KGspKSB7DQogICAgICAgICAgICAgICAgc2FsaWduID0gaXRlbTsNCiAgICAgICAgICAgICAgICBjb250aW51ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIA0KICAgICAgICAgICAgc3RyLnB1c2goJyAnLCBrLCAnPSInLCBlbmNvZGVIVE1MKGl0ZW0pLCAnIicpOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIGlmIChzYWxpZ24pIHsNCiAgICAgICAgc3RyLnB1c2goJyBzYWxpZ249IicsIGVuY29kZUhUTUwoc2FsaWduKSwgJyInKTsNCiAgICB9DQogICAgc3RyLnB1c2goJz48L2VtYmVkPjwvb2JqZWN0PicpOw0KICAgIA0KICAgIHJldHVybiBzdHIuam9pbignJyk7DQp9Ow0KDQoNCi8qKg0KICog5Zyo6aG16Z2i5Lit5Yib5bu65LiA5LiqZmxhc2jlr7nosaENCiAqIEBuYW1lIGJhaWR1LnN3Zi5jcmVhdGUNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUuc3dmLmNyZWF0ZShvcHRpb25zWywgY29udGFpbmVyXSkNCiAqIA0KICogQHBhcmFtIHtPYmplY3R9IAlvcHRpb25zIAkJCQkJ5Yib5bu6Zmxhc2jnmoTpgInpobnlj4LmlbANCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5pZCAJCQkJCeimgeWIm+W7uueahGZsYXNo55qE5qCH6K+GDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMudXJsIAkJCQlmbGFzaOaWh+S7tueahHVybA0KICogQHBhcmFtIHtTdHJpbmd9IAlvcHRpb25zLmVycm9yTWVzc2FnZSAJCeacquWuieijhWZsYXNoIHBsYXllcuaIlmZsYXNoIHBsYXllcueJiOacrOWPt+i/h+S9juaXtueahOaPkOekug0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLnZlciAJCQkJ5pyA5L2O6ZyA6KaB55qEZmxhc2ggcGxheWVy54mI5pys5Y+3DQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMud2lkdGggCQkJCWZsYXNo55qE5a695bqmDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMuaGVpZ2h0IAkJCQlmbGFzaOeahOmrmOW6pg0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLmFsaWduIAkJCQlmbGFzaOeahOWvuem9kOaWueW8j++8jOWFgeiuuOWAvO+8mm1pZGRsZS9sZWZ0L3JpZ2h0L3RvcC9ib3R0b20NCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5iYXNlIAkJCQnorr7nva7nlKjkuo7op6PmnpBzd2bmlofku7bkuK3nmoTmiYDmnInnm7jlr7not6/lvoTor63lj6XnmoTln7rmnKznm67lvZXmiJZVUkwNCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5iZ2NvbG9yIAkJCXN3ZuaWh+S7tueahOiDjOaZr+iJsg0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLnNhbGlnbiAJCQkJ6K6+572u57yp5pS+55qEc3dm5paH5Lu25Zyo55Sxd2lkdGjlkoxoZWlnaHTorr7nva7lrprkuYnnmoTljLrln5/lhoXnmoTkvY3nva7jgILlhYHorrjlgLzvvJpsL3IvdC9iL3RsL3RyL2JsL2JyDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMubWVudSAJCQkJ5piv5ZCm5pi+56S65Y+z6ZSu6I+c5Y2V77yM5YWB6K645YC877yadHJ1ZS9mYWxzZQ0KICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmxvb3AgCQkJCeaSreaUvuWIsOacgOWQjuS4gOW4p+aXtuaYr+WQpumHjeaWsOaSreaUvu+8jOWFgeiuuOWAvO+8miB0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMucGxheSAJCQkJZmxhc2jmmK/lkKblnKjmtY/op4jlmajliqDovb3ml7blsLHlvIDlp4vmkq3mlL7jgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMucXVhbGl0eSAJCQnorr7nva5mbGFzaOaSreaUvueahOeUu+i0qO+8jOWFgeiuuOWAvO+8mmxvdy9tZWRpdW0vaGlnaC9hdXRvbG93L2F1dG9oaWdoL2Jlc3QNCiAqIEBwYXJhbSB7c3RyaW5nfSAJb3B0aW9ucy5zY2FsZSAJCQkJ6K6+572uZmxhc2jlhoXlrrnlpoLkvZXnvKnmlL7mnaXpgILlupTorr7nva7nmoTlrr3pq5jjgILlhYHorrjlgLzvvJpzaG93YWxsL25vYm9yZGVyL2V4YWN0Zml0DQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMud21vZGUgCQkJCeiuvue9rmZsYXNo55qE5pi+56S65qih5byP44CC5YWB6K645YC877yad2luZG93L29wYXF1ZS90cmFuc3BhcmVudA0KICogQHBhcmFtIHtzdHJpbmd9IAlvcHRpb25zLmFsbG93c2NyaXB0YWNjZXNzIAnorr7nva5mbGFzaOS4jumhtemdoueahOmAmuS/oeadg+mZkOOAguWFgeiuuOWAvO+8mmFsd2F5cy9uZXZlci9zYW1lRG9tYWluDQogKiBAcGFyYW0ge3N0cmluZ30gCW9wdGlvbnMuYWxsb3duZXR3b3JraW5nIAnorr7nva5zd2bmlofku7bkuK3lhYHorrjkvb/nlKjnmoTnvZHnu5xBUEnjgILlhYHorrjlgLzvvJphbGwvaW50ZXJuYWwvbm9uZQ0KICogQHBhcmFtIHtib29sZWFufSBvcHRpb25zLmFsbG93ZnVsbHNjcmVlbiAJ5piv5ZCm5YWB6K64Zmxhc2jlhajlsY/jgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc2VhbWxlc3N0YWJiaW5nIAnlhYHorrjorr7nva7miafooYzml6DnvJ3ot7PmoLzvvIzku47ogIzkvb/nlKjmiLfog73ot7Plh7pmbGFzaOW6lOeUqOeoi+W6j+OAguivpeWPguaVsOWPquiDveWcqOWuieijhUZsYXNoN+WPiuabtOmrmOeJiOacrOeahFdpbmRvd3PkuK3kvb/nlKjjgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuZGV2aWNlZm9udCAJCQnorr7nva7pnZnmgIHmlofmnKzlr7nosaHmmK/lkKbku6Xorr7lpIflrZfkvZPlkYjnjrDjgILlhYHorrjlgLzvvJp0cnVlL2ZhbHNlDQogKiBAcGFyYW0ge2Jvb2xlYW59IG9wdGlvbnMuc3dsaXZlY29ubmVjdCAJCeesrOS4gOasoeWKoOi9vWZsYXNo5pe25rWP6KeI5Zmo5piv5ZCm5bqU5ZCv5YqoSmF2YeOAguWFgeiuuOWAvO+8mnRydWUvZmFsc2UNCiAqIEBwYXJhbSB7T2JqZWN0fSAJb3B0aW9ucy52YXJzIAkJCQnopoHkvKDpgJLnu5lmbGFzaOeahOWPguaVsO+8jOaUr+aMgUpTT07miJZzdHJpbmfnsbvlnovjgIINCiAqIA0KICogQHBhcmFtIHtIVE1MRWxlbWVudHxzdHJpbmd9IFtjb250YWluZXJdIAkJZmxhc2jlr7nosaHnmoTniLblrrnlmajlhYPntKDvvIzkuI3kvKDpgJLor6Xlj4LmlbDml7blnKjlvZPliY3ku6PnoIHkvY3nva7liJvlu7pmbGFzaOWvueixoeOAgg0KICogQG1ldGEgc3RhbmRhcmQNCiAqIEBzZWUgYmFpZHUuc3dmLmNyZWF0ZUhUTUwsYmFpZHUuc3dmLmdldE1vdmllDQogKi8NCmJhaWR1LnN3Zi5jcmVhdGUgPSBmdW5jdGlvbiAob3B0aW9ucywgdGFyZ2V0KSB7DQogICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307DQogICAgdmFyIGh0bWwgPSBiYWlkdS5zd2YuY3JlYXRlSFRNTChvcHRpb25zKSANCiAgICAgICAgICAgICAgIHx8IG9wdGlvbnNbJ2Vycm9yTWVzc2FnZSddIA0KICAgICAgICAgICAgICAgfHwgJyc7DQogICAgICAgICAgICAgICAgDQogICAgaWYgKHRhcmdldCAmJiAnc3RyaW5nJyA9PSB0eXBlb2YgdGFyZ2V0KSB7DQogICAgICAgIHRhcmdldCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldCk7DQogICAgfQ0KICAgIGJhaWR1LmRvbS5pbnNlcnRIVE1MKCB0YXJnZXQgfHwgZG9jdW1lbnQuYm9keSAsJ2JlZm9yZUVuZCcsaHRtbCApOw0KfTsNCi8qKg0KICog5Yik5pat5piv5ZCm5Li6aWXmtY/op4jlmagNCiAqIEBuYW1lIGJhaWR1LmJyb3dzZXIuaWUNCiAqIEBmaWVsZA0KICogQGdyYW1tYXIgYmFpZHUuYnJvd3Nlci5pZQ0KICogQHJldHVybnMge051bWJlcn0gSUXniYjmnKzlj7cNCiAqLw0KYmFpZHUuYnJvd3Nlci5pZSA9IGJhaWR1LmllID0gL21zaWUgKFxkK1wuXGQrKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgPyAoZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8ICsgUmVnRXhwWydceDI0MSddKSA6IHVuZGVmaW5lZDsNCg0KLyoqDQogKiDnp7vpmaTmlbDnu4TkuK3nmoTpobkNCiAqIEBuYW1lIGJhaWR1LmFycmF5LnJlbW92ZQ0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5hcnJheS5yZW1vdmUoc291cmNlLCBtYXRjaCkNCiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSDpnIDopoHnp7vpmaTpobnnmoTmlbDnu4QNCiAqIEBwYXJhbSB7QW55fSBtYXRjaCDopoHnp7vpmaTnmoTpobkNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiBAc2VlIGJhaWR1LmFycmF5LnJlbW92ZUF0DQogKiAgICAgICAgICAgICANCiAqIEByZXR1cm5zIHtBcnJheX0g56e76Zmk5ZCO55qE5pWw57uEDQogKi8NCmJhaWR1LmFycmF5LnJlbW92ZSA9IGZ1bmN0aW9uIChzb3VyY2UsIG1hdGNoKSB7DQogICAgdmFyIGxlbiA9IHNvdXJjZS5sZW5ndGg7DQogICAgICAgIA0KICAgIHdoaWxlIChsZW4tLSkgew0KICAgICAgICBpZiAobGVuIGluIHNvdXJjZSAmJiBzb3VyY2VbbGVuXSA9PT0gbWF0Y2gpIHsNCiAgICAgICAgICAgIHNvdXJjZS5zcGxpY2UobGVuLCAxKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICByZXR1cm4gc291cmNlOw0KfTsNCg0KLyoqDQogKiDliKTmlq3nm67moIflj4LmlbDmmK/lkKZBcnJheeWvueixoQ0KICogQG5hbWUgYmFpZHUubGFuZy5pc0FycmF5DQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1LmxhbmcuaXNBcnJheShzb3VyY2UpDQogKiBAcGFyYW0ge0FueX0gc291cmNlIOebruagh+WPguaVsA0KICogQG1ldGEgc3RhbmRhcmQNCiAqIEBzZWUgYmFpZHUubGFuZy5pc1N0cmluZyxiYWlkdS5sYW5nLmlzT2JqZWN0LGJhaWR1LmxhbmcuaXNOdW1iZXIsYmFpZHUubGFuZy5pc0VsZW1lbnQsYmFpZHUubGFuZy5pc0Jvb2xlYW4sYmFpZHUubGFuZy5pc0RhdGUNCiAqICAgICAgICAgICAgIA0KICogQHJldHVybnMge2Jvb2xlYW59IOexu+Wei+WIpOaWree7k+aenA0KICovDQpiYWlkdS5sYW5nLmlzQXJyYXkgPSBmdW5jdGlvbiAoc291cmNlKSB7DQogICAgcmV0dXJuICdbb2JqZWN0IEFycmF5XScgPT0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHNvdXJjZSk7DQp9Ow0KDQoNCg0KLyoqDQogKiDlsIbkuIDkuKrlj5jph4/ovazmjaLmiJBhcnJheQ0KICogQG5hbWUgYmFpZHUubGFuZy50b0FycmF5DQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1LmxhbmcudG9BcnJheShzb3VyY2UpDQogKiBAcGFyYW0ge21peH0gc291cmNlIOmcgOimgei9rOaNouaIkGFycmF555qE5Y+Y6YePDQogKiBAdmVyc2lvbiAxLjMNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiBAcmV0dXJucyB7YXJyYXl9IOi9rOaNouWQjueahGFycmF5DQogKi8NCmJhaWR1LmxhbmcudG9BcnJheSA9IGZ1bmN0aW9uIChzb3VyY2UpIHsNCiAgICBpZiAoc291cmNlID09PSBudWxsIHx8IHNvdXJjZSA9PT0gdW5kZWZpbmVkKQ0KICAgICAgICByZXR1cm4gW107DQogICAgaWYgKGJhaWR1LmxhbmcuaXNBcnJheShzb3VyY2UpKQ0KICAgICAgICByZXR1cm4gc291cmNlOw0KICAgIGlmICh0eXBlb2Ygc291cmNlLmxlbmd0aCAhPT0gJ251bWJlcicgfHwgdHlwZW9mIHNvdXJjZSA9PT0gJ3N0cmluZycgfHwgYmFpZHUubGFuZy5pc0Z1bmN0aW9uKHNvdXJjZSkpIHsNCiAgICAgICAgcmV0dXJuIFtzb3VyY2VdOw0KICAgIH0NCiAgICBpZiAoc291cmNlLml0ZW0pIHsNCiAgICAgICAgdmFyIGwgPSBzb3VyY2UubGVuZ3RoLCBhcnJheSA9IG5ldyBBcnJheShsKTsNCiAgICAgICAgd2hpbGUgKGwtLSkNCiAgICAgICAgICAgIGFycmF5W2xdID0gc291cmNlW2xdOw0KICAgICAgICByZXR1cm4gYXJyYXk7DQogICAgfQ0KDQogICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoc291cmNlKTsNCn07DQoNCi8qKg0KICog6I635b6XZmxhc2jlr7nosaHnmoTlrp7kvosNCiAqIEBuYW1lIGJhaWR1LnN3Zi5nZXRNb3ZpZQ0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5zd2YuZ2V0TW92aWUobmFtZSkNCiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIGZsYXNo5a+56LGh55qE5ZCN56ewDQogKiBAc2VlIGJhaWR1LnN3Zi5jcmVhdGUNCiAqIEBtZXRhIHN0YW5kYXJkDQogKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR9IGZsYXNo5a+56LGh55qE5a6e5L6LDQogKi8NCmJhaWR1LnN3Zi5nZXRNb3ZpZSA9IGZ1bmN0aW9uIChuYW1lKSB7DQoJdmFyIG1vdmllID0gZG9jdW1lbnRbbmFtZV0sIHJldDsNCiAgICByZXR1cm4gYmFpZHUuYnJvd3Nlci5pZSA9PSA5ID8NCiAgICAJbW92aWUgJiYgbW92aWUubGVuZ3RoID8gDQogICAgCQkocmV0ID0gYmFpZHUuYXJyYXkucmVtb3ZlKGJhaWR1LmxhbmcudG9BcnJheShtb3ZpZSksZnVuY3Rpb24oaXRlbSl7DQogICAgCQkJcmV0dXJuIGl0ZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpICE9ICJlbWJlZCI7DQogICAgCQl9KSkubGVuZ3RoID09IDEgPyByZXRbMF0gOiByZXQNCiAgICAJCTogbW92aWUNCiAgICAJOiBtb3ZpZSB8fCB3aW5kb3dbbmFtZV07DQp9Ow0KDQoNCmJhaWR1LmZsYXNoLl9CYXNlID0gKGZ1bmN0aW9uKCl7DQogICANCiAgICB2YXIgcHJlZml4ID0gJ2JkX19mbGFzaF9fJzsNCg0KICAgIC8qKg0KICAgICAqIOWIm+W7uuS4gOS4qumaj+acuueahOWtl+espuS4sg0KICAgICAqIEBwcml2YXRlDQogICAgICogQHJldHVybiB7U3RyaW5nfQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIF9jcmVhdGVTdHJpbmcoKXsNCiAgICAgICAgcmV0dXJuICBwcmVmaXggKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyMTQ3NDgzNjQ4KS50b1N0cmluZygzNik7DQogICAgfTsNCiAgIA0KICAgIC8qKg0KICAgICAqIOajgOafpWZsYXNo54q25oCBDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IGZsYXNo5a+56LGhDQogICAgICogQHJldHVybiB7Qm9vbGVhbn0NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBfY2hlY2tSZWFkeSh0YXJnZXQpew0KICAgICAgICBpZih0eXBlb2YgdGFyZ2V0ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdGFyZ2V0LmZsYXNoSW5pdCAhPT0gJ3VuZGVmaW5lZCcgJiYgdGFyZ2V0LmZsYXNoSW5pdCgpKXsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiDosIPnlKjkuYvliY3ov5vooYzljovmoIjnmoTlh73mlbANCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqIEBwYXJhbSB7QXJyYXl9IGNhbGxRdWV1ZSDosIPnlKjpmJ/liJcNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IGZsYXNo5a+56LGhDQogICAgICogQHJldHVybiB7TnVsbH0NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBfY2FsbEZuKGNhbGxRdWV1ZSwgdGFyZ2V0KXsNCiAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7DQogICAgICAgIA0KICAgICAgICBjYWxsUXVldWUgPSBjYWxsUXVldWUucmV2ZXJzZSgpOw0KICAgICAgICBiYWlkdS5lYWNoKGNhbGxRdWV1ZSwgZnVuY3Rpb24oaXRlbSl7DQogICAgICAgICAgICByZXN1bHQgPSB0YXJnZXQuY2FsbChpdGVtLmZuTmFtZSwgaXRlbS5wYXJhbXMpOw0KICAgICAgICAgICAgaXRlbS5jYWxsQmFjayhyZXN1bHQpOw0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgLyoqDQogICAgICog5Li65Lyg5YWl55qE5Yy/5ZCN5Ye95pWw5Yib5bu65Ye95pWw5ZCNDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gZnVuIOS8oOWFpeeahOWMv+WQjeWHveaVsOaIluiAheWHveaVsOWQjQ0KICAgICAqIEByZXR1cm4ge1N0cmluZ30NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBfY3JlYXRlRnVuTmFtZShmdW4pew0KICAgICAgICB2YXIgbmFtZSA9ICcnOw0KDQogICAgICAgIGlmKGJhaWR1LmxhbmcuaXNGdW5jdGlvbihmdW4pKXsNCiAgICAgICAgICAgIG5hbWUgPSBfY3JlYXRlU3RyaW5nKCk7DQogICAgICAgICAgICB3aW5kb3dbbmFtZV0gPSBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGZ1bi5hcHBseSh3aW5kb3csIGFyZ3VtZW50cyk7DQogICAgICAgICAgICB9Ow0KDQogICAgICAgICAgICByZXR1cm4gbmFtZTsNCiAgICAgICAgfWVsc2UgaWYoYmFpZHUubGFuZy5pc1N0cmluZyl7DQogICAgICAgICAgICByZXR1cm4gZnVuOw0KICAgICAgICB9DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOe7mOWItmZsYXNoDQogICAgICogQHByaXZhdGUNCiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDliJvlu7rlj4LmlbANCiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIF9yZW5kZXIob3B0aW9ucyl7DQogICAgICAgIGlmKCFvcHRpb25zLmlkKXsNCiAgICAgICAgICAgIG9wdGlvbnMuaWQgPSBfY3JlYXRlU3RyaW5nKCk7DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHZhciBjb250YWluZXIgPSBvcHRpb25zLmNvbnRhaW5lciB8fCAnJzsNCiAgICAgICAgZGVsZXRlKG9wdGlvbnMuY29udGFpbmVyKTsNCiAgICAgICAgDQogICAgICAgIGJhaWR1LnN3Zi5jcmVhdGUob3B0aW9ucywgY29udGFpbmVyKTsNCiAgICAgICAgDQogICAgICAgIHJldHVybiBiYWlkdS5zd2YuZ2V0TW92aWUob3B0aW9ucy5pZCk7DQogICAgfTsNCg0KICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zLCBjYWxsQmFjayl7DQogICAgICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgICAgICBhdXRvUmVuZGVyID0gKHR5cGVvZiBvcHRpb25zLmF1dG9SZW5kZXIgIT09ICd1bmRlZmluZWQnID8gb3B0aW9ucy5hdXRvUmVuZGVyIDogdHJ1ZSksDQogICAgICAgICAgICBjcmVhdGVPcHRpb25zID0gb3B0aW9ucy5jcmVhdGVPcHRpb25zIHx8IHt9LA0KICAgICAgICAgICAgdGFyZ2V0ID0gbnVsbCwNCiAgICAgICAgICAgIGlzUmVhZHkgPSBmYWxzZSwNCiAgICAgICAgICAgIGNhbGxRdWV1ZSA9IFtdLA0KICAgICAgICAgICAgdGltZUhhbmRsZSA9IG51bGwsDQogICAgICAgICAgICBjYWxsQmFjayA9IGNhbGxCYWNrIHx8IFtdOw0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDlsIZmbGFzaOaWh+S7tue7mOWItuWIsOmhtemdouS4ig0KICAgICAgICAgKiBAcHVibGljDQogICAgICAgICAqIEByZXR1cm4ge051bGx9DQogICAgICAgICAqLw0KICAgICAgICBtZS5yZW5kZXIgPSBmdW5jdGlvbigpew0KICAgICAgICAgICAgdGFyZ2V0ID0gX3JlbmRlcihjcmVhdGVPcHRpb25zKTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgaWYoY2FsbEJhY2subGVuZ3RoID4gMCl7DQogICAgICAgICAgICAgICAgYmFpZHUuZWFjaChjYWxsQmFjaywgZnVuY3Rpb24oZnVuTmFtZSwgaW5kZXgpew0KICAgICAgICAgICAgICAgICAgICBjYWxsQmFja1tpbmRleF0gPSBfY3JlYXRlRnVuTmFtZShvcHRpb25zW2Z1bk5hbWVdIHx8IG5ldyBGdW5jdGlvbigpKTsNCiAgICAgICAgICAgICAgICB9KTsgICAgDQogICAgICAgICAgICB9DQogICAgICAgICAgICBtZS5jYWxsKCdzZXRKU0Z1bmNOYW1lJywgW2NhbGxCYWNrXSk7DQogICAgICAgIH07DQoNCiAgICAgICAgLyoqDQogICAgICAgICAqIOi/lOWbnmZsYXNo54q25oCBDQogICAgICAgICAqIEByZXR1cm4ge0Jvb2xlYW59DQogICAgICAgICAqLw0KICAgICAgICBtZS5pc1JlYWR5ID0gZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHJldHVybiBpc1JlYWR5Ow0KICAgICAgICB9Ow0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDosIPnlKhmbGFzaOaOpeWPo+eahOe7n+S4gOWFpeWPow0KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gZm5OYW1lIOiwg+eUqOeahOWHveaVsOWQjQ0KICAgICAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJhbXMg5Lyg5YWl55qE5Y+C5pWw57uE5oiQ55qE5pWw57uELOiLpeS4jeiuuOimgeWPguaVsO+8jOmcgOS8oOWFpeepuuaVsOe7hA0KICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbEJhY2tdIOW8guatpeiwg+eUqOWQjuWwhui/lOWbnuWAvOS9nOS4uuWPguaVsOeahOiwg+eUqOWbnuiwg+WHveaVsO+8jOWmguaXoOi/lOWbnuWAvO+8jOWPr+S7peS4jeS8oOWFpeatpOWPguaVsA0KICAgICAgICAgKiBAcmV0dXJuIHtOdWxsfQ0KICAgICAgICAqLw0KICAgICAgICBtZS5jYWxsID0gZnVuY3Rpb24oZm5OYW1lLCBwYXJhbXMsIGNhbGxCYWNrKXsNCiAgICAgICAgICAgIGlmKCFmbk5hbWUpIHJldHVybiBudWxsOw0KICAgICAgICAgICAgY2FsbEJhY2sgPSBjYWxsQmFjayB8fCBuZXcgRnVuY3Rpb24oKTsNCg0KICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG51bGw7DQogICAgDQogICAgICAgICAgICBpZihpc1JlYWR5KXsNCiAgICAgICAgICAgICAgICByZXN1bHQgPSB0YXJnZXQuY2FsbChmbk5hbWUsIHBhcmFtcyk7DQogICAgICAgICAgICAgICAgY2FsbEJhY2socmVzdWx0KTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIGNhbGxRdWV1ZS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgZm5OYW1lOiBmbk5hbWUsDQogICAgICAgICAgICAgICAgICAgIHBhcmFtczogcGFyYW1zLA0KICAgICAgICAgICAgICAgICAgICBjYWxsQmFjazogY2FsbEJhY2sNCiAgICAgICAgICAgICAgICB9KTsNCiAgICANCiAgICAgICAgICAgICAgICAoIXRpbWVIYW5kbGUpICYmICh0aW1lSGFuZGxlID0gc2V0SW50ZXJ2YWwoX2NoZWNrLCAyMDApKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICANCiAgICAgICAgLyoqDQogICAgICAgICAqIOS4uuS8oOWFpeeahOWMv+WQjeWHveaVsOWIm+W7uuWHveaVsOWQjQ0KICAgICAgICAgKiBAcHVibGljDQogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBmdW4g5Lyg5YWl55qE5Yy/5ZCN5Ye95pWw5oiW6ICF5Ye95pWw5ZCNDQogICAgICAgICAqIEByZXR1cm4ge1N0cmluZ30NCiAgICAgICAgICovDQogICAgICAgIG1lLmNyZWF0ZUZ1bk5hbWUgPSBmdW5jdGlvbihmdW4pew0KICAgICAgICAgICAgcmV0dXJuIF9jcmVhdGVGdW5OYW1lKGZ1bik7ICAgIA0KICAgICAgICB9Ow0KDQogICAgICAgIC8qKg0KICAgICAgICAgKiDmo4Dmn6VmbGFzaOaYr+WQpnJlYWR577yMIOW5tui/m+ihjOiwg+eUqA0KICAgICAgICAgKiBAcHJpdmF0ZQ0KICAgICAgICAgKiBAcmV0dXJuIHtOdWxsfQ0KICAgICAgICAgKi8NCiAgICAgICAgZnVuY3Rpb24gX2NoZWNrKCl7DQogICAgICAgICAgICBpZihfY2hlY2tSZWFkeSh0YXJnZXQpKXsNCiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVIYW5kbGUpOw0KICAgICAgICAgICAgICAgIHRpbWVIYW5kbGUgPSBudWxsOw0KICAgICAgICAgICAgICAgIF9jYWxsKCk7DQoNCiAgICAgICAgICAgICAgICBpc1JlYWR5ID0gdHJ1ZTsNCiAgICAgICAgICAgIH0gICAgICAgICAgICAgICANCiAgICAgICAgfTsNCg0KICAgICAgICAvKioNCiAgICAgICAgICog6LCD55So5LmL5YmN6L+b6KGM5Y6L5qCI55qE5Ye95pWwDQogICAgICAgICAqIEBwcml2YXRlDQogICAgICAgICAqIEByZXR1cm4ge051bGx9DQogICAgICAgICAqLw0KICAgICAgICBmdW5jdGlvbiBfY2FsbCgpew0KICAgICAgICAgICAgX2NhbGxGbihjYWxsUXVldWUsIHRhcmdldCk7DQogICAgICAgICAgICBjYWxsUXVldWUgPSBbXTsNCiAgICAgICAgfQ0KDQogICAgICAgIGF1dG9SZW5kZXIgJiYgbWUucmVuZGVyKCk7IA0KICAgIH07DQp9KSgpOw0KDQoNCg0KLyoqDQogKiDliJvlu7pmbGFzaCBiYXNlZCBpbWFnZVVwbG9hZGVyDQogKiBAY2xhc3MNCiAqIEBncmFtbWFyIGJhaWR1LmZsYXNoLmltYWdlVXBsb2FkZXIob3B0aW9ucykNCiAqIEBwYXJhbSB7T2JqZWN0fSBjcmVhdGVPcHRpb25zIOWIm+W7umZsYXNo5pe26ZyA6KaB55qE5Y+C5pWw77yM6K+35Y+C54WnYmFpZHUuc3dmLmNyZWF0ZeaWh+ahow0KICogQGNvbmZpZyB7T2JqZWN0fSB2YXJzIOWIm+W7umltYWdlVXBsb2FkZXLml7bmiYDpnIDopoHnmoTlj4LmlbANCiAqIEBjb25maWcge051bWJlcn0gdmFycy5ncmlkV2lkdGgg5q+P5LiA5Liq6aKE6KeI5Zu+54mH5omA5Y2g55qE5a695bqm77yM5bqU6K+l5Li6Zmxhc2jlr5vnmoTmlbTpmaQNCiAqIEBjb25maWcge051bWJlcn0gdmFycy5ncmlkSGVpZ2h0IOavj+S4gOS4qumihOiniOWbvueJh+aJgOWNoOeahOmrmOW6pu+8jOW6lOivpeS4umZsYXNo6auY55qE5pW06ZmkDQogKiBAY29uZmlnIHtOdW1iZXJ9IHZhcnMucGljV2lkdGgg5Y2V5byg6aKE6KeI5Zu+54mH55qE5a695bqmDQogKiBAY29uZmlnIHtOdW1iZXJ9IHZhcnMucGljSGVpZ2h0IOWNleW8oOmihOiniOWbvueJh+eahOmrmOW6pg0KICogQGNvbmZpZyB7U3RyaW5nfSB2YXJzLnVwbG9hZERhdGFGaWVsZE5hbWUgUE9TVOivt+axguS4reWbvueJh+aVsOaNrueahGtleSzpu5jorqTlgLwncGljZGF0YScNCiAqIEBjb25maWcge1N0cmluZ30gdmFycy5waWNEZXNjRmllbGROYW1lIFBPU1Tor7fmsYLkuK3lm77niYfmj4/ov7DnmoRrZXks6buY6K6k5YC8J3BpY0Rlc2MnDQogKiBAY29uZmlnIHtOdW1iZXJ9IHZhcnMubWF4U2l6ZSDmlofku7bnmoTmnIDlpKfkvZPnp68s5Y2V5L2NJ01CJw0KICogQGNvbmZpZyB7TnVtYmVyfSB2YXJzLmNvbXByZXNzU2l6ZSDkuIrkvKDliY3lpoLmnpzlm77niYfkvZPnp6/otoXov4for6XlgLzvvIzkvJrlhYjljovnvKkNCiAqIEBjb25maWcge051bWJlcn0gdmFycy5tYXhOdW06MzIg5pyA5aSn5LiK5Lyg5aSa5bCR5Liq5paH5Lu2DQogKiBAY29uZmlnIHtOdW1iZXJ9IHZhcnMuY29tcHJlc3NMZW5ndGgg6IO95o6l5Y+X55qE5pyA5aSn6L656ZW/77yM6LaF6L+H6K+l5YC85Lya562J5q+U5Y6L57ypDQogKiBAY29uZmlnIHtTdHJpbmd9IHZhcnMudXJsIOS4iuS8oOeahHVybOWcsOWdgA0KICogQGNvbmZpZyB7TnVtYmVyfSB2YXJzLm1vZGUgbW9kZSA9PSAw5pe277yM5piv5L2/55So5rua5Yqo5p2h77yMbW9kZSA9PSAx5pe277yM5ouJ5Ly4Zmxhc2gsIOm7mOiupOWAvOS4ujANCiAqIEBzZWUgYmFpZHUuc3dmLmNyZWF0ZUhUTUwNCiAqIEBwYXJhbSB7U3RyaW5nfSBiYWNrZ3JvdW5kVXJsIOiDjOaZr+WbvueJh+i3r+W+hA0KICogQHBhcmFtIHtTdHJpbmd9IGxpc3RCYWNncm91bmRrVXJsIOW4g+WxgOaOp+S7tuiDjOaZrw0KICogQHBhcmFtIHtTdHJpbmd9IGJ1dHRvblVybCDmjInpkq7lm77niYfkuI3og4zmma8NCiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBzZWxlY3RGaWxlQ2FsbGJhY2sg6YCJ5oup5paH5Lu255qE5Zue6LCDDQogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gZXhjZWVkRmlsZUNhbGxiYWNr5paH5Lu26LaF5Ye66ZmQ5Yi255qE5pyA5aSn5L2T56ev5pe255qE5Zue6LCDDQogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gZGVsZXRlRmlsZUNhbGxiYWNrIOWIoOmZpOaWh+S7tueahOWbnuiwgw0KICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IHN0YXJ0VXBsb2FkQ2FsbGJhY2sg5byA5aeL5LiK5Lyg5p+Q5Liq5paH5Lu25pe255qE5Zue6LCDDQogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gdXBsb2FkQ29tcGxldGVDYWxsYmFjayDmn5DkuKrmlofku7bkuIrkvKDlrozmiJDnmoTlm57osIMNCiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSB1cGxvYWRFcnJvckNhbGxiYWNrIOafkOS4quaWh+S7tuS4iuS8oOWksei0peeahOWbnuiwgw0KICogQHBhcmFtIHtTdHJpbmd8RnVuY3Rpb259IGFsbENvbXBsZXRlQ2FsbGJhY2sg5YWo6YOo5LiK5Lyg5a6M5oiQ5pe255qE5Zue6LCDDQogKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gY2hhbmdlRmxhc2hIZWlnaHQg5pS55Y+YRmxhc2jnmoTpq5jluqbvvIxtb2RlPT0x55qE5pe25YCZ5omN5pyJ55SoDQogKi8gDQpiYWlkdS5mbGFzaC5pbWFnZVVwbG9hZGVyID0gYmFpZHUuZmxhc2guaW1hZ2VVcGxvYWRlciB8fCBmdW5jdGlvbihvcHRpb25zKXsNCiAgIA0KICAgIHZhciBtZSA9IHRoaXMsDQogICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LA0KICAgICAgICBfZmxhc2ggPSBuZXcgYmFpZHUuZmxhc2guX0Jhc2Uob3B0aW9ucywgWw0KICAgICAgICAgICAgJ3NlbGVjdEZpbGVDYWxsYmFjaycsIA0KICAgICAgICAgICAgJ2V4Y2VlZEZpbGVDYWxsYmFjaycsIA0KICAgICAgICAgICAgJ2RlbGV0ZUZpbGVDYWxsYmFjaycsIA0KICAgICAgICAgICAgJ3N0YXJ0VXBsb2FkQ2FsbGJhY2snLA0KICAgICAgICAgICAgJ3VwbG9hZENvbXBsZXRlQ2FsbGJhY2snLA0KICAgICAgICAgICAgJ3VwbG9hZEVycm9yQ2FsbGJhY2snLA0KICAgICAgICAgICAgJ2FsbENvbXBsZXRlQ2FsbGJhY2snLA0KICAgICAgICAgICAgJ2NoYW5nZUZsYXNoSGVpZ2h0Jw0KICAgICAgICBdKTsNCiAgICAvKioNCiAgICAgKiDlvIDlp4vmiJblm57lpI3kuIrkvKDlm77niYcNCiAgICAgKiBAcHVibGljDQogICAgICogQHJldHVybiB7TnVsbH0NCiAgICAgKi8NCiAgICBtZS51cGxvYWQgPSBmdW5jdGlvbigpew0KICAgICAgICBfZmxhc2guY2FsbCgndXBsb2FkJyk7DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOaaguWBnOS4iuS8oOWbvueJhw0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAcmV0dXJuIHtOdWxsfQ0KICAgICAqLw0KICAgIG1lLnBhdXNlID0gZnVuY3Rpb24oKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ3BhdXNlJyk7DQogICAgfTsNCiAgICBtZS5hZGRDdXN0b21pemVkUGFyYW1zID0gZnVuY3Rpb24oaW5kZXgsb2JqKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2FkZEN1c3RvbWl6ZWRQYXJhbXMnLFtpbmRleCxvYmpdKTsNCiAgICB9DQp9Ow0KDQovKioNCiAqIOaTjeS9nOWOn+eUn+WvueixoeeahOaWueazlQ0KICogQG5hbWVzcGFjZSBiYWlkdS5vYmplY3QNCiAqLw0KYmFpZHUub2JqZWN0ID0gYmFpZHUub2JqZWN0IHx8IHt9Ow0KDQoNCi8qKg0KICog5bCG5rqQ5a+56LGh55qE5omA5pyJ5bGe5oCn5ou36LSd5Yiw55uu5qCH5a+56LGh5LitDQogKiBAYXV0aG9yIGVyaWsNCiAqIEBuYW1lIGJhaWR1Lm9iamVjdC5leHRlbmQNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUub2JqZWN0LmV4dGVuZCh0YXJnZXQsIHNvdXJjZSkNCiAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQg55uu5qCH5a+56LGhDQogKiBAcGFyYW0ge09iamVjdH0gc291cmNlIOa6kOWvueixoQ0KICogQHNlZSBiYWlkdS5hcnJheS5tZXJnZQ0KICogQHJlbWFyaw0KICogDQoxLuebruagh+WvueixoeS4re+8jOS4jua6kOWvueixoWtleeebuOWQjOeahOaIkOWRmOWwhuS8muiiq+imhuebluOAgjxicj4NCjIu5rqQ5a+56LGh55qEcHJvdG90eXBl5oiQ5ZGY5LiN5Lya5ou36LSd44CCDQoJCQ0KICogQHNob3J0Y3V0IGV4dGVuZA0KICogQG1ldGEgc3RhbmRhcmQNCiAqICAgICAgICAgICAgIA0KICogQHJldHVybnMge09iamVjdH0g55uu5qCH5a+56LGhDQogKi8NCmJhaWR1LmV4dGVuZCA9DQpiYWlkdS5vYmplY3QuZXh0ZW5kID0gZnVuY3Rpb24gKHRhcmdldCwgc291cmNlKSB7DQogICAgZm9yICh2YXIgcCBpbiBzb3VyY2UpIHsNCiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShwKSkgew0KICAgICAgICAgICAgdGFyZ2V0W3BdID0gc291cmNlW3BdOw0KICAgICAgICB9DQogICAgfQ0KICAgIA0KICAgIHJldHVybiB0YXJnZXQ7DQp9Ow0KDQoNCg0KDQoNCi8qKg0KICog5Yib5bu6Zmxhc2ggYmFzZWQgZmlsZVVwbG9hZGVyDQogKiBAY2xhc3MNCiAqIEBncmFtbWFyIGJhaWR1LmZsYXNoLmZpbGVVcGxvYWRlcihvcHRpb25zKQ0KICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMNCiAqIEBjb25maWcge09iamVjdH0gY3JlYXRlT3B0aW9ucyDliJvlu7pmbGFzaOaXtumcgOimgeeahOWPguaVsO+8jOivt+WPgueFp2JhaWR1LnN3Zi5jcmVhdGXmlofmoaMNCiAqIEBjb25maWcge1N0cmluZ30gY3JlYXRlT3B0aW9ucy53aWR0aA0KICogQGNvbmZpZyB7U3RyaW5nfSBjcmVhdGVPcHRpb25zLmhlaWdodA0KICogQGNvbmZpZyB7TnVtYmVyfSBtYXhOdW0g5pyA5aSn5Y+v6YCJ5paH5Lu25pWwDQogKiBAY29uZmlnIHtGdW5jdGlvbnxTdHJpbmd9IHNlbGVjdEZpbGUNCiAqIEBjb25maWcge0Z1bmN0aW9ufFN0cmluZ30gZXhjZWVkTWF4U2l6ZQ0KICogQGNvbmZpZyB7RnVuY3Rpb258U3RyaW5nfSBkZWxldGVGaWxlDQogKiBAY29uZmlnIHtGdW5jdGlvbnxTdHJpbmd9IHVwbG9hZFN0YXJ0DQogKiBAY29uZmlnIHtGdW5jdGlvbnxTdHJpbmd9IHVwbG9hZENvbXBsZXRlDQogKiBAY29uZmlnIHtGdW5jdGlvbnxTdHJpbmd9IHVwbG9hZEVycm9yDQogKiBAY29uZmlnIHtGdW5jdGlvbnxTdHJpbmd9IHVwbG9hZFByb2dyZXNzDQogKi8NCmJhaWR1LmZsYXNoLmZpbGVVcGxvYWRlciA9IGJhaWR1LmZsYXNoLmZpbGVVcGxvYWRlciB8fCBmdW5jdGlvbihvcHRpb25zKXsNCiAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsNCiAgICANCiAgICBvcHRpb25zLmNyZWF0ZU9wdGlvbnMgPSBiYWlkdS5leHRlbmQoew0KICAgICAgICB3bW9kOiAndHJhbnNwYXJlbnQnDQogICAgfSxvcHRpb25zLmNyZWF0ZU9wdGlvbnMgfHwge30pOw0KICAgIA0KICAgIHZhciBfZmxhc2ggPSBuZXcgYmFpZHUuZmxhc2guX0Jhc2Uob3B0aW9ucywgWw0KICAgICAgICAnc2VsZWN0RmlsZScsDQogICAgICAgICdleGNlZWRNYXhTaXplJywNCiAgICAgICAgJ2RlbGV0ZUZpbGUnLA0KICAgICAgICAndXBsb2FkU3RhcnQnLA0KICAgICAgICAndXBsb2FkQ29tcGxldGUnLA0KICAgICAgICAndXBsb2FkRXJyb3InLCANCiAgICAgICAgJ3VwbG9hZFByb2dyZXNzJw0KICAgIF0pOw0KDQogICAgX2ZsYXNoLmNhbGwoJ3NldE1heE51bScsIG9wdGlvbnMubWF4TnVtID8gW29wdGlvbnMubWF4TnVtXSA6IFsxXSk7DQoNCiAgICAvKioNCiAgICAgKiDorr7nva7lvZPpvKDmoIfnp7vliqjliLBmbGFzaOS4iuaXtu+8jOaYr+WQpuWPmOaIkOaJi+Weiw0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQ3Vyc29yDQogICAgICogQHJldHVybiB7TnVsbH0NCiAgICAgKi8NCiAgICBtZS5zZXRIYW5kQ3Vyc29yID0gZnVuY3Rpb24oaXNDdXJzb3Ipew0KICAgICAgICBfZmxhc2guY2FsbCgnc2V0SGFuZEN1cnNvcicsIFtpc0N1cnNvciB8fCBmYWxzZV0pOw0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiDorr7nva7pvKDmoIfnm7jlupTlh73mlbDlkI0NCiAgICAgKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gZnVuDQogICAgICovDQogICAgbWUuc2V0TVNGdW5OYW1lID0gZnVuY3Rpb24oZnVuKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ3NldE1TRnVuTmFtZScsW19mbGFzaC5jcmVhdGVGdW5OYW1lKGZ1bildKTsNCiAgICB9OyANCg0KICAgIC8qKg0KICAgICAqIOaJp+ihjOS4iuS8oOaTjeS9nA0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwg5LiK5Lyg55qEdXJsDQogICAgICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkTmFtZSDkuIrkvKDnmoTooajljZXlrZfmrrXlkI0NCiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9zdERhdGEg6ZSu5YC85a+577yM5LiK5Lyg55qEUE9TVOaVsOaNrg0KICAgICAqIEBwYXJhbSB7TnVtYmVyfEFycmF5fG51bGx8LTF9IFtpbmRleF3kuIrkvKDnmoTmlofku7bluo/liJcNCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnTlgLzkuIrkvKDor6Xmlofku7YNCiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcnJheeS4gOasoeS4suihjOS4iuS8oOivpeW6j+WIl+aWh+S7tg0KICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xL251bGzkuIrkvKDmiYDmnInmlofku7YNCiAgICAgKiBAcmV0dXJuIHtOdWxsfQ0KICAgICAqLw0KICAgIG1lLnVwbG9hZCA9IGZ1bmN0aW9uKHVybCwgZmllbGROYW1lLCBwb3N0RGF0YSwgaW5kZXgpew0KDQogICAgICAgIGlmKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHR5cGVvZiBmaWVsZE5hbWUgIT09ICdzdHJpbmcnKSByZXR1cm4gbnVsbDsNCiAgICAgICAgaWYodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykgaW5kZXggPSAtMTsNCg0KICAgICAgICBfZmxhc2guY2FsbCgndXBsb2FkJywgW3VybCwgZmllbGROYW1lLCBwb3N0RGF0YSwgaW5kZXhdKTsNCiAgICB9Ow0KDQogICAgLyoqDQogICAgICog5Y+W5raI5LiK5Lyg5pON5L2cDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfC0xfSBpbmRleA0KICAgICAqLw0KICAgIG1lLmNhbmNlbCA9IGZ1bmN0aW9uKGluZGV4KXsNCiAgICAgICAgaWYodHlwZW9mIGluZGV4ID09PSAndW5kZWZpbmVkJykgaW5kZXggPSAtMTsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2NhbmNlbCcsIFtpbmRleF0pOw0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiDliKDpmaTmlofku7YNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHtOdW1iZXJ8QXJyYXl9IFtpbmRleF0g6KaB5Yig6Zmk55qEaW5kZXjvvIzkuI3kvKDliJnlhajpg6jliKDpmaQNCiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsQmFjaw0KICAgICAqICovDQogICAgbWUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uKGluZGV4LCBjYWxsQmFjayl7DQoNCiAgICAgICAgdmFyIGNhbGxCYWNrQWxsID0gZnVuY3Rpb24obGlzdCl7DQogICAgICAgICAgICAgICAgY2FsbEJhY2sgJiYgY2FsbEJhY2sobGlzdCk7DQogICAgICAgICAgICB9Ow0KDQogICAgICAgIGlmKHR5cGVvZiBpbmRleCA9PT0gJ3VuZGVmaW5lZCcpew0KICAgICAgICAgICAgX2ZsYXNoLmNhbGwoJ2RlbGV0ZUZpbGVzQWxsJywgW10sIGNhbGxCYWNrQWxsKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfTsNCiAgICAgICAgDQogICAgICAgIGlmKHR5cGVvZiBpbmRleCA9PT0gJ051bWJlcicpIGluZGV4ID0gW2luZGV4XTsNCiAgICAgICAgaW5kZXguc29ydChmdW5jdGlvbihhLGIpew0KICAgICAgICAgICAgcmV0dXJuIGItYTsNCiAgICAgICAgfSk7DQogICAgICAgIGJhaWR1LmVhY2goaW5kZXgsIGZ1bmN0aW9uKGl0ZW0pew0KICAgICAgICAgICAgX2ZsYXNoLmNhbGwoJ2RlbGV0ZUZpbGVCeScsIGl0ZW0sIGNhbGxCYWNrQWxsKTsNCiAgICAgICAgfSk7DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOa3u+WKoOaWh+S7tuexu+Wei++8jOaUr+aMgW1hY1R5cGUNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHtPYmplY3R8QXJyYXlbT2JqZWN0XX0gdHlwZSB7ZGVzY3JpcHRpb246U3RyaW5nLCBleHRlbnRpb246U3RyaW5nfQ0KICAgICAqIEByZXR1cm4ge051bGx9Ow0KICAgICAqLw0KICAgIG1lLmFkZEZpbGVUeXBlID0gZnVuY3Rpb24odHlwZSl7DQogICAgICAgIHZhciB0eXBlID0gdHlwZSB8fCBbW11dOw0KICAgICAgICANCiAgICAgICAgaWYodHlwZSBpbnN0YW5jZW9mIEFycmF5KSB0eXBlID0gW3R5cGVdOw0KICAgICAgICBlbHNlIHR5cGUgPSBbW3R5cGVdXTsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2FkZEZpbGVUeXBlcycsIHR5cGUpOw0KICAgIH07DQogICAgDQogICAgLyoqDQogICAgICog6K6+572u5paH5Lu257G75Z6L77yM5pSv5oyBbWFjVHlwZQ0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAcGFyYW0ge09iamVjdHxBcnJheVtPYmplY3RdfSB0eXBlIHtkZXNjcmlwdGlvbjpTdHJpbmcsIGV4dGVudGlvbjpTdHJpbmd9DQogICAgICogQHJldHVybiB7TnVsbH07DQogICAgICovDQogICAgbWUuc2V0RmlsZVR5cGUgPSBmdW5jdGlvbih0eXBlKXsNCiAgICAgICAgdmFyIHR5cGUgPSB0eXBlIHx8IFtbXV07DQogICAgICAgIA0KICAgICAgICBpZih0eXBlIGluc3RhbmNlb2YgQXJyYXkpIHR5cGUgPSBbdHlwZV07DQogICAgICAgIGVsc2UgdHlwZSA9IFtbdHlwZV1dOw0KICAgICAgICBfZmxhc2guY2FsbCgnc2V0RmlsZVR5cGVzJywgdHlwZSk7DQogICAgfTsNCg0KICAgIC8qKg0KICAgICAqIOiuvue9ruWPr+mAieaWh+S7tueahOaVsOmHj+mZkOWItg0KICAgICAqIEBwdWJsaWMNCiAgICAgKiBAcGFyYW0ge051bWJlcn0gbnVtDQogICAgICogQHJldHVybiB7TnVsbH0NCiAgICAgKi8NCiAgICBtZS5zZXRNYXhOdW0gPSBmdW5jdGlvbihudW0pew0KICAgICAgICBfZmxhc2guY2FsbCgnc2V0TWF4TnVtJywgW251bV0pOw0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiDorr7nva7lj6/pgInmlofku7blpKflsI/pmZDliLbvvIzku6XlhYZN5Li65Y2V5L2NDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBudW0sMOS4uuaXoOmZkOWItg0KICAgICAqIEByZXR1cm4ge051bGx9DQogICAgICovDQogICAgbWUuc2V0TWF4U2l6ZSA9IGZ1bmN0aW9uKG51bSl7DQogICAgICAgIF9mbGFzaC5jYWxsKCdzZXRNYXhTaXplJywgW251bV0pOw0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiBAcHVibGljDQogICAgICovDQogICAgbWUuZ2V0RmlsZUFsbCA9IGZ1bmN0aW9uKGNhbGxCYWNrKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2dldEZpbGVBbGwnLCBbXSwgY2FsbEJhY2spOw0KICAgIH07DQoNCiAgICAvKioNCiAgICAgKiBAcHVibGljDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4DQogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxCYWNrXQ0KICAgICAqLw0KICAgIG1lLmdldEZpbGVCeUluZGV4ID0gZnVuY3Rpb24oaW5kZXgsIGNhbGxCYWNrKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2dldEZpbGVCeUluZGV4JywgW10sIGNhbGxCYWNrKTsNCiAgICB9Ow0KDQogICAgLyoqDQogICAgICogQHB1YmxpYw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleA0KICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsQmFja10NCiAgICAgKi8NCiAgICBtZS5nZXRTdGF0dXNCeUluZGV4ID0gZnVuY3Rpb24oaW5kZXgsIGNhbGxCYWNrKXsNCiAgICAgICAgX2ZsYXNoLmNhbGwoJ2dldFN0YXR1c0J5SW5kZXgnLCBbXSwgY2FsbEJhY2spOw0KICAgIH07DQp9Ow0KDQovKioNCiAqIOS9v+eUqOWKqOaAgXNjcmlwdOagh+etvuivt+axguacjeWKoeWZqOi1hOa6kO+8jOWMheaLrOeUseacjeWKoeWZqOerr+eahOWbnuiwg+WSjOa1j+iniOWZqOerr+eahOWbnuiwgw0KICogQG5hbWVzcGFjZSBiYWlkdS5zaW8NCiAqLw0KYmFpZHUuc2lvID0gYmFpZHUuc2lvIHx8IHt9Ow0KDQovKioNCiAqIA0KICogQHBhcmFtIHtIVE1MRWxlbWVudH0gc3JjIHNjcmlwdOiKgueCuQ0KICogQHBhcmFtIHtTdHJpbmd9IHVybCBzY3JpcHToioLngrnnmoTlnLDlnYANCiAqIEBwYXJhbSB7U3RyaW5nfSBbY2hhcnNldF0g57yW56CBDQogKi8NCmJhaWR1LnNpby5fY3JlYXRlU2NyaXB0VGFnID0gZnVuY3Rpb24oc2NyLCB1cmwsIGNoYXJzZXQpew0KICAgIHNjci5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7DQogICAgY2hhcnNldCAmJiBzY3Iuc2V0QXR0cmlidXRlKCdjaGFyc2V0JywgY2hhcnNldCk7DQogICAgc2NyLnNldEF0dHJpYnV0ZSgnc3JjJywgdXJsKTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLmFwcGVuZENoaWxkKHNjcik7DQp9Ow0KDQovKioNCiAqIOWIoOmZpHNjcmlwdOeahOWxnuaAp++8jOWGjeWIoOmZpHNjcmlwdOagh+etvu+8jOS7peino+WGs+S/ruWkjeWGheWtmOazhOa8j+eahOmXrumimA0KICogDQogKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBzcmMgc2NyaXB06IqC54K5DQogKi8NCmJhaWR1LnNpby5fcmVtb3ZlU2NyaXB0VGFnID0gZnVuY3Rpb24oc2NyKXsNCiAgICBpZiAoc2NyLmNsZWFyQXR0cmlidXRlcykgew0KICAgICAgICBzY3IuY2xlYXJBdHRyaWJ1dGVzKCk7DQogICAgfSBlbHNlIHsNCiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBzY3IpIHsNCiAgICAgICAgICAgIGlmIChzY3IuaGFzT3duUHJvcGVydHkoYXR0cikpIHsNCiAgICAgICAgICAgICAgICBkZWxldGUgc2NyW2F0dHJdOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KICAgIGlmKHNjciAmJiBzY3IucGFyZW50Tm9kZSl7DQogICAgICAgIHNjci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcik7DQogICAgfQ0KICAgIHNjciA9IG51bGw7DQp9Ow0KDQoNCi8qKg0KICog6YCa6L+Hc2NyaXB05qCH562+5Yqg6L295pWw5o2u77yM5Yqg6L295a6M5oiQ55Sx5rWP6KeI5Zmo56uv6Kem5Y+R5Zue6LCDDQogKiBAbmFtZSBiYWlkdS5zaW8uY2FsbEJ5QnJvd3Nlcg0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5zaW8uY2FsbEJ5QnJvd3Nlcih1cmwsIG9wdF9jYWxsYmFjaywgb3B0X29wdGlvbnMpDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsIOWKoOi9veaVsOaNrueahHVybA0KICogQHBhcmFtIHtGdW5jdGlvbnxzdHJpbmd9IG9wdF9jYWxsYmFjayDmlbDmja7liqDovb3nu5PmnZ/ml7bosIPnlKjnmoTlh73mlbDmiJblh73mlbDlkI0NCiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRfb3B0aW9ucyDlhbbku5blj6/pgInpobkNCiAqIEBjb25maWcge1N0cmluZ30gW2NoYXJzZXRdIHNjcmlwdOeahOWtl+espumbhg0KICogQGNvbmZpZyB7SW50ZWdlcn0gW3RpbWVPdXRdIOi2heaXtuaXtumXtO+8jOi2hei/h+i/meS4quaXtumXtOWwhuS4jeWGjeWTjeW6lOacrOivt+axgu+8jOW5tuinpuWPkW9uZmFpbHVyZeWHveaVsA0KICogQGNvbmZpZyB7RnVuY3Rpb259IFtvbmZhaWx1cmVdIHRpbWVPdXTorr7lrprlkI7miY3nlJ/mlYjvvIzliLDovr7otoXml7bml7bpl7Tml7bop6blj5HmnKzlh73mlbANCiAqIEByZW1hcmsNCiAqIDHjgIHkuI5jYWxsQnlTZXJ2ZXLkuI3lkIzvvIxjYWxsYmFja+WPguaVsOWPquaUr+aMgUZ1bmN0aW9u57G75Z6L77yM5LiN5pSv5oyBc3RyaW5n44CCDQogKiAy44CB5aaC5p6c6K+35rGC5LqG5LiA5Liq5LiN5a2Y5Zyo55qE6aG16Z2i77yMY2FsbGJhY2vlh73mlbDlnKhJRS9vcGVyYeS4i+S5n+S8muiiq+iwg+eUqO+8jOWboOatpOS9v+eUqOiAhemcgOimgeWcqG9uc3VjY2Vzc+WHveaVsOS4reWIpOaWreaVsOaNruaYr+WQpuato+ehruWKoOi9veOAgg0KICogQG1ldGEgc3RhbmRhcmQNCiAqIEBzZWUgYmFpZHUuc2lvLmNhbGxCeVNlcnZlcg0KICovDQpiYWlkdS5zaW8uY2FsbEJ5QnJvd3NlciA9IGZ1bmN0aW9uICh1cmwsIG9wdF9jYWxsYmFjaywgb3B0X29wdGlvbnMpIHsNCiAgICB2YXIgc2NyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiU0NSSVBUIiksDQogICAgICAgIHNjcmlwdExvYWRlZCA9IDAsDQogICAgICAgIG9wdGlvbnMgPSBvcHRfb3B0aW9ucyB8fCB7fSwNCiAgICAgICAgY2hhcnNldCA9IG9wdGlvbnNbJ2NoYXJzZXQnXSwNCiAgICAgICAgY2FsbGJhY2sgPSBvcHRfY2FsbGJhY2sgfHwgZnVuY3Rpb24oKXt9LA0KICAgICAgICB0aW1lT3V0ID0gb3B0aW9uc1sndGltZU91dCddIHx8IDAsDQogICAgICAgIHRpbWVyOw0KICAgIHNjci5vbmxvYWQgPSBzY3Iub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBpZiAoc2NyaXB0TG9hZGVkKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgDQogICAgICAgIHZhciByZWFkeVN0YXRlID0gc2NyLnJlYWR5U3RhdGU7DQogICAgICAgIGlmICgndW5kZWZpbmVkJyA9PSB0eXBlb2YgcmVhZHlTdGF0ZQ0KICAgICAgICAgICAgfHwgcmVhZHlTdGF0ZSA9PSAibG9hZGVkIg0KICAgICAgICAgICAgfHwgcmVhZHlTdGF0ZSA9PSAiY29tcGxldGUiKSB7DQogICAgICAgICAgICBzY3JpcHRMb2FkZWQgPSAxOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjaygpOw0KICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7DQogICAgICAgICAgICB9IGZpbmFsbHkgew0KICAgICAgICAgICAgICAgIHNjci5vbmxvYWQgPSBzY3Iub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDsNCiAgICAgICAgICAgICAgICBiYWlkdS5zaW8uX3JlbW92ZVNjcmlwdFRhZyhzY3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCg0KICAgIGlmKCB0aW1lT3V0ICl7DQogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpew0KICAgICAgICAgICAgc2NyLm9ubG9hZCA9IHNjci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsOw0KICAgICAgICAgICAgYmFpZHUuc2lvLl9yZW1vdmVTY3JpcHRUYWcoc2NyKTsNCiAgICAgICAgICAgIG9wdGlvbnMub25mYWlsdXJlICYmIG9wdGlvbnMub25mYWlsdXJlKCk7DQogICAgICAgIH0sIHRpbWVPdXQpOw0KICAgIH0NCiAgICANCiAgICBiYWlkdS5zaW8uX2NyZWF0ZVNjcmlwdFRhZyhzY3IsIHVybCwgY2hhcnNldCk7DQp9Ow0KDQovKioNCiAqIOmAmui/h3NjcmlwdOagh+etvuWKoOi9veaVsOaNru+8jOWKoOi9veWujOaIkOeUseacjeWKoeWZqOerr+inpuWPkeWbnuiwgw0KICogQG5hbWUgYmFpZHUuc2lvLmNhbGxCeVNlcnZlcg0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5zaW8uY2FsbEJ5U2VydmVyKHVybCwgY2FsbGJhY2tbLCBvcHRfb3B0aW9uc10pDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsIOWKoOi9veaVsOaNrueahHVybC4NCiAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjYWxsYmFjayDmnI3liqHlmajnq6/osIPnlKjnmoTlh73mlbDmiJblh73mlbDlkI3jgILlpoLmnpzmsqHmnInmjIflrprmnKzlj4LmlbDvvIzlsIblnKhVUkzkuK3lr7vmib5vcHRpb25zWydxdWVyeUZpZWxkJ13lgZrkuLpjYWxsYmFja+eahOaWueazleWQjS4NCiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRfb3B0aW9ucyDliqDovb3mlbDmja7ml7bnmoTpgInpobkuDQogKiBAY29uZmlnIHtzdHJpbmd9IFtjaGFyc2V0XSBzY3JpcHTnmoTlrZfnrKbpm4YNCiAqIEBjb25maWcge3N0cmluZ30gW3F1ZXJ5RmllbGRdIOacjeWKoeWZqOerr2NhbGxiYWNr6K+35rGC5a2X5q615ZCN77yM6buY6K6k5Li6Y2FsbGJhY2sNCiAqIEBjb25maWcge0ludGVnZXJ9IFt0aW1lT3V0XSDotoXml7bml7bpl7Qo5Y2V5L2N77yabXMp77yM6LaF6L+H6L+Z5Liq5pe26Ze05bCG5LiN5YaN5ZON5bqU5pys6K+35rGC77yM5bm26Kem5Y+Rb25mYWlsdXJl5Ye95pWwDQogKiBAY29uZmlnIHtGdW5jdGlvbn0gW29uZmFpbHVyZV0gdGltZU91dOiuvuWumuWQjuaJjeeUn+aViO+8jOWIsOi+vui2heaXtuaXtumXtOaXtuinpuWPkeacrOWHveaVsA0KICogQHJlbWFyaw0KICog5aaC5p6cdXJs5Lit5bey57uP5YyF5ZCra2V55Li64oCcb3B0aW9uc1sncXVlcnlGaWVsZCdd4oCd55qEcXVlcnnpobnvvIzlsIbkvJrooqvmm7/mjaLmiJBjYWxsYmFja+S4reWPguaVsOS8oOmAkuaIluiHquWKqOeUn+aIkOeahOWHveaVsOWQjeOAgg0KICogQG1ldGEgc3RhbmRhcmQNCiAqIEBzZWUgYmFpZHUuc2lvLmNhbGxCeUJyb3dzZXINCiAqLw0KYmFpZHUuc2lvLmNhbGxCeVNlcnZlciA9IC8qKkBmdW5jdGlvbiovZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgb3B0X29wdGlvbnMpIHsNCiAgICB2YXIgc2NyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU0NSSVBUJyksDQogICAgICAgIHByZWZpeCA9ICdiZF9fY2JzX18nLA0KICAgICAgICBjYWxsYmFja05hbWUsDQogICAgICAgIGNhbGxiYWNrSW1wbCwNCiAgICAgICAgb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHt9LA0KICAgICAgICBjaGFyc2V0ID0gb3B0aW9uc1snY2hhcnNldCddLA0KICAgICAgICBxdWVyeUZpZWxkID0gb3B0aW9uc1sncXVlcnlGaWVsZCddIHx8ICdjYWxsYmFjaycsDQogICAgICAgIHRpbWVPdXQgPSBvcHRpb25zWyd0aW1lT3V0J10gfHwgMCwNCiAgICAgICAgdGltZXIsDQogICAgICAgIHJlZyA9IG5ldyBSZWdFeHAoJyhcXD98JiknICsgcXVlcnlGaWVsZCArICc9KFteJl0qKScpLA0KICAgICAgICBtYXRjaGVzOw0KDQogICAgaWYgKGJhaWR1LmxhbmcuaXNGdW5jdGlvbihjYWxsYmFjaykpIHsNCiAgICAgICAgY2FsbGJhY2tOYW1lID0gcHJlZml4ICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjE0NzQ4MzY0OCkudG9TdHJpbmcoMzYpOw0KICAgICAgICB3aW5kb3dbY2FsbGJhY2tOYW1lXSA9IGdldENhbGxCYWNrKDApOw0KICAgIH0gZWxzZSBpZihiYWlkdS5sYW5nLmlzU3RyaW5nKGNhbGxiYWNrKSl7DQogICAgICAgIGNhbGxiYWNrTmFtZSA9IGNhbGxiYWNrOw0KICAgIH0gZWxzZSB7DQogICAgICAgIGlmIChtYXRjaGVzID0gcmVnLmV4ZWModXJsKSkgew0KICAgICAgICAgICAgY2FsbGJhY2tOYW1lID0gbWF0Y2hlc1syXTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGlmKCB0aW1lT3V0ICl7DQogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChnZXRDYWxsQmFjaygxKSwgdGltZU91dCk7DQogICAgfQ0KICAgIHVybCA9IHVybC5yZXBsYWNlKHJlZywgJ1x4MjQxJyArIHF1ZXJ5RmllbGQgKyAnPScgKyBjYWxsYmFja05hbWUpOw0KICAgIA0KICAgIGlmICh1cmwuc2VhcmNoKHJlZykgPCAwKSB7DQogICAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA8IDAgPyAnPycgOiAnJicpICsgcXVlcnlGaWVsZCArICc9JyArIGNhbGxiYWNrTmFtZTsNCiAgICB9DQogICAgYmFpZHUuc2lvLl9jcmVhdGVTY3JpcHRUYWcoc2NyLCB1cmwsIGNoYXJzZXQpOw0KDQogICAgLyoNCiAgICAgKiDov5Tlm57kuIDkuKrlh73mlbDvvIznlKjkuo7nq4vljbPvvIjmjILlnKh3aW5kb3fkuIrvvInmiJbogIXotoXml7bvvIjmjILlnKhzZXRUaW1lb3V05Lit77yJ5pe25omn6KGMDQogICAgICovDQogICAgZnVuY3Rpb24gZ2V0Q2FsbEJhY2sob25UaW1lT3V0KXsNCiAgICAgICAgLypnbG9iYWwgY2FsbGJhY2tOYW1lLCBjYWxsYmFjaywgc2NyLCBvcHRpb25zOyovDQogICAgICAgIHJldHVybiBmdW5jdGlvbigpew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBpZiggb25UaW1lT3V0ICl7DQogICAgICAgICAgICAgICAgICAgIG9wdGlvbnMub25mYWlsdXJlICYmIG9wdGlvbnMub25mYWlsdXJlKCk7DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KHdpbmRvdywgYXJndW1lbnRzKTsNCiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgd2luZG93W2NhbGxiYWNrTmFtZV0gPSBudWxsOw0KICAgICAgICAgICAgICAgIGRlbGV0ZSB3aW5kb3dbY2FsbGJhY2tOYW1lXTsNCiAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikgew0KICAgICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgICAgICBiYWlkdS5zaW8uX3JlbW92ZVNjcmlwdFRhZyhzY3IpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfTsNCg0KLyoqDQogKiDpgJrov4for7fmsYLkuIDkuKrlm77niYfnmoTmlrnlvI/ku6TmnI3liqHlmajlrZjlgqjkuIDmnaHml6Xlv5cNCiAqIEBmdW5jdGlvbg0KICogQGdyYW1tYXIgYmFpZHUuc2lvLmxvZyh1cmwpDQogKiBAcGFyYW0ge3N0cmluZ30gdXJsIOimgeWPkemAgeeahOWcsOWdgC4NCiAqIEBhdXRob3I6IGludDA4aCxsZWVpZ2h0DQogKi8NCmJhaWR1LnNpby5sb2cgPSBmdW5jdGlvbih1cmwpIHsNCiAgdmFyIGltZyA9IG5ldyBJbWFnZSgpLA0KICAgICAga2V5ID0gJ3RhbmdyYW1fc2lvX2xvZ18nICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICoNCiAgICAgICAgICAgIDIxNDc0ODM2NDgpLnRvU3RyaW5nKDM2KTsNCiAgd2luZG93W2tleV0gPSBpbWc7DQoNCiAgaW1nLm9ubG9hZCA9IGltZy5vbmVycm9yID0gaW1nLm9uYWJvcnQgPSBmdW5jdGlvbigpIHsNCiAgICBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSBpbWcub25hYm9ydCA9IG51bGw7DQoNCiAgICB3aW5kb3dba2V5XSA9IG51bGw7DQogICAgaW1nID0gbnVsbDsNCiAgfTsNCiAgaW1nLnNyYyA9IHVybDsNCn07DQoNCg0KDQovKg0KICogVGFuZ3JhbQ0KICogQ29weXJpZ2h0IDIwMDkgQmFpZHUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICogDQogKiBwYXRoOiBiYWlkdS9qc29uLmpzDQogKiBhdXRob3I6IGVyaWsNCiAqIHZlcnNpb246IDEuMS4wDQogKiBkYXRlOiAyMDA5LzEyLzAyDQogKi8NCg0KDQovKioNCiAqIOaTjeS9nGpzb27lr7nosaHnmoTmlrnms5UNCiAqIEBuYW1lc3BhY2UgYmFpZHUuanNvbg0KICovDQpiYWlkdS5qc29uID0gYmFpZHUuanNvbiB8fCB7fTsNCi8qDQogKiBUYW5ncmFtDQogKiBDb3B5cmlnaHQgMjAwOSBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiANCiAqIHBhdGg6IGJhaWR1L2pzb24vcGFyc2UuanMNCiAqIGF1dGhvcjogZXJpaywgYmVyZw0KICogdmVyc2lvbjogMS4yDQogKiBkYXRlOiAyMDA5LzExLzIzDQogKi8NCg0KDQoNCi8qKg0KICog5bCG5a2X56ym5Liy6Kej5p6Q5oiQanNvbuWvueixoeOAguazqO+8muS4jeS8muiHquWKqOelm+mZpOepuuagvA0KICogQG5hbWUgYmFpZHUuanNvbi5wYXJzZQ0KICogQGZ1bmN0aW9uDQogKiBAZ3JhbW1hciBiYWlkdS5qc29uLnBhcnNlKGRhdGEpDQogKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIOmcgOimgeino+aekOeahOWtl+espuS4sg0KICogQHJlbWFyaw0KICog6K+l5pa55rOV55qE5a6e546w5LiOZWNtYS0yNjLnrKzkupTniYjkuK3op4TlrprnmoRKU09OLnBhcnNl5LiN5ZCM77yM5pqC5pe25Y+q5pSv5oyB5Lyg5YWl5LiA5Liq5Y+C5pWw44CC5ZCO57ut5Lya6L+b6KGM5Yqf6IO95Liw5a+M44CCDQogKiBAbWV0YSBzdGFuZGFyZA0KICogQHNlZSBiYWlkdS5qc29uLnN0cmluZ2lmeSxiYWlkdS5qc29uLmRlY29kZQ0KICogICAgICAgICAgICAgDQogKiBAcmV0dXJucyB7SlNPTn0g6Kej5p6Q57uT5p6canNvbuWvueixoQ0KICovDQpiYWlkdS5qc29uLnBhcnNlID0gZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAvLzIwMTAvMTIvMDnvvJrmm7TmlrDoh7PkuI3kvb/nlKjljp/nlJ9wYXJzZe+8jOS4jeajgOa1i+eUqOaIt+i+k+WFpeaYr+WQpuato+ehrg0KICAgIHJldHVybiAobmV3IEZ1bmN0aW9uKCJyZXR1cm4gKCIgKyBkYXRhICsgIikiKSkoKTsNCn07DQovKg0KICogVGFuZ3JhbQ0KICogQ29weXJpZ2h0IDIwMDkgQmFpZHUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICogDQogKiBwYXRoOiBiYWlkdS9qc29uL2RlY29kZS5qcw0KICogYXV0aG9yOiBlcmlrLCBjYXQNCiAqIHZlcnNpb246IDEuMy40DQogKiBkYXRlOiAyMDEwLzEyLzIzDQogKi8NCg0KDQoNCi8qKg0KICog5bCG5a2X56ym5Liy6Kej5p6Q5oiQanNvbuWvueixoe+8jOS4uui/h+aXtuaOpeWPo++8jOS7iuWQjuS8muiiq2JhaWR1Lmpzb24ucGFyc2Xku6Pmm78NCiAqIEBuYW1lIGJhaWR1Lmpzb24uZGVjb2RlDQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1Lmpzb24uZGVjb2RlKHNvdXJjZSkNCiAqIEBwYXJhbSB7c3RyaW5nfSBzb3VyY2Ug6ZyA6KaB6Kej5p6Q55qE5a2X56ym5LiyDQogKiBAbWV0YSBvdXQNCiAqIEBzZWUgYmFpZHUuanNvbi5lbmNvZGUsYmFpZHUuanNvbi5wYXJzZQ0KICogICAgICAgICAgICAgDQogKiBAcmV0dXJucyB7SlNPTn0g6Kej5p6Q57uT5p6canNvbuWvueixoQ0KICovDQpiYWlkdS5qc29uLmRlY29kZSA9IGJhaWR1Lmpzb24ucGFyc2U7DQovKg0KICogVGFuZ3JhbQ0KICogQ29weXJpZ2h0IDIwMDkgQmFpZHUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLg0KICogDQogKiBwYXRoOiBiYWlkdS9qc29uL3N0cmluZ2lmeS5qcw0KICogYXV0aG9yOiBlcmlrDQogKiB2ZXJzaW9uOiAxLjEuMA0KICogZGF0ZTogMjAxMC8wMS8xMQ0KICovDQoNCg0KDQovKioNCiAqIOWwhmpzb27lr7nosaHluo/liJfljJYNCiAqIEBuYW1lIGJhaWR1Lmpzb24uc3RyaW5naWZ5DQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1Lmpzb24uc3RyaW5naWZ5KHZhbHVlKQ0KICogQHBhcmFtIHtKU09OfSB2YWx1ZSDpnIDopoHluo/liJfljJbnmoRqc29u5a+56LGhDQogKiBAcmVtYXJrDQogKiDor6Xmlrnms5XnmoTlrp7njrDkuI5lY21hLTI2MuesrOS6lOeJiOS4reinhOWumueahEpTT04uc3RyaW5naWZ55LiN5ZCM77yM5pqC5pe25Y+q5pSv5oyB5Lyg5YWl5LiA5Liq5Y+C5pWw44CC5ZCO57ut5Lya6L+b6KGM5Yqf6IO95Liw5a+M44CCDQogKiBAbWV0YSBzdGFuZGFyZA0KICogQHNlZSBiYWlkdS5qc29uLnBhcnNlLGJhaWR1Lmpzb24uZW5jb2RlDQogKiAgICAgICAgICAgICANCiAqIEByZXR1cm5zIHtzdHJpbmd9IOW6j+WIl+WMluWQjueahOWtl+espuS4sg0KICovDQpiYWlkdS5qc29uLnN0cmluZ2lmeSA9IChmdW5jdGlvbiAoKSB7DQogICAgLyoqDQogICAgICog5a2X56ym5Liy5aSE55CG5pe26ZyA6KaB6L2s5LmJ55qE5a2X56ym6KGoDQogICAgICogQHByaXZhdGUNCiAgICAgKi8NCiAgICB2YXIgZXNjYXBlTWFwID0gew0KICAgICAgICAiXGIiOiAnXFxiJywNCiAgICAgICAgIlx0IjogJ1xcdCcsDQogICAgICAgICJcbiI6ICdcXG4nLA0KICAgICAgICAiXGYiOiAnXFxmJywNCiAgICAgICAgIlxyIjogJ1xccicsDQogICAgICAgICciJyA6ICdcXCInLA0KICAgICAgICAiXFwiOiAnXFxcXCcNCiAgICB9Ow0KICAgIA0KICAgIC8qKg0KICAgICAqIOWtl+espuS4suW6j+WIl+WMlg0KICAgICAqIEBwcml2YXRlDQogICAgICovDQogICAgZnVuY3Rpb24gZW5jb2RlU3RyaW5nKHNvdXJjZSkgew0KICAgICAgICBpZiAoL1siXFxceDAwLVx4MWZdLy50ZXN0KHNvdXJjZSkpIHsNCiAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKA0KICAgICAgICAgICAgICAgIC9bIlxcXHgwMC1ceDFmXS9nLCANCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobWF0Y2gpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBlc2NhcGVNYXBbbWF0Y2hdOw0KICAgICAgICAgICAgICAgICAgICBpZiAoYykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYyA9IG1hdGNoLmNoYXJDb2RlQXQoKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICJcXHUwMCIgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBNYXRoLmZsb29yKGMgLyAxNikudG9TdHJpbmcoMTYpIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgKGMgJSAxNikudG9TdHJpbmcoMTYpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiAnIicgKyBzb3VyY2UgKyAnIic7DQogICAgfQ0KICAgIA0KICAgIC8qKg0KICAgICAqIOaVsOe7hOW6j+WIl+WMlg0KICAgICAqIEBwcml2YXRlDQogICAgICovDQogICAgZnVuY3Rpb24gZW5jb2RlQXJyYXkoc291cmNlKSB7DQogICAgICAgIHZhciByZXN1bHQgPSBbIlsiXSwgDQogICAgICAgICAgICBsID0gc291cmNlLmxlbmd0aCwNCiAgICAgICAgICAgIHByZUNvbW1hLCBpLCBpdGVtOw0KICAgICAgICAgICAgDQogICAgICAgIGZvciAoaSA9IDA7IGkgPCBsOyBpKyspIHsNCiAgICAgICAgICAgIGl0ZW0gPSBzb3VyY2VbaV07DQogICAgICAgICAgICANCiAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGl0ZW0pIHsNCiAgICAgICAgICAgIGNhc2UgInVuZGVmaW5lZCI6DQogICAgICAgICAgICBjYXNlICJmdW5jdGlvbiI6DQogICAgICAgICAgICBjYXNlICJ1bmtub3duIjoNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICAgICAgaWYocHJlQ29tbWEpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYmFpZHUuanNvbi5zdHJpbmdpZnkoaXRlbSkpOw0KICAgICAgICAgICAgICAgIHByZUNvbW1hID0gMTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXN1bHQucHVzaCgiXSIpOw0KICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oIiIpOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiDlpITnkIbml6XmnJ/luo/liJfljJbml7bnmoTooaXpm7YNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHBhZChzb3VyY2UpIHsNCiAgICAgICAgcmV0dXJuIHNvdXJjZSA8IDEwID8gJzAnICsgc291cmNlIDogc291cmNlOw0KICAgIH0NCiAgICANCiAgICAvKioNCiAgICAgKiDml6XmnJ/luo/liJfljJYNCiAgICAgKiBAcHJpdmF0ZQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGVuY29kZURhdGUoc291cmNlKXsNCiAgICAgICAgcmV0dXJuICciJyArIHNvdXJjZS5nZXRGdWxsWWVhcigpICsgIi0iIA0KICAgICAgICAgICAgICAgICsgcGFkKHNvdXJjZS5nZXRNb250aCgpICsgMSkgKyAiLSIgDQogICAgICAgICAgICAgICAgKyBwYWQoc291cmNlLmdldERhdGUoKSkgKyAiVCIgDQogICAgICAgICAgICAgICAgKyBwYWQoc291cmNlLmdldEhvdXJzKCkpICsgIjoiIA0KICAgICAgICAgICAgICAgICsgcGFkKHNvdXJjZS5nZXRNaW51dGVzKCkpICsgIjoiIA0KICAgICAgICAgICAgICAgICsgcGFkKHNvdXJjZS5nZXRTZWNvbmRzKCkpICsgJyInOw0KICAgIH0NCiAgICANCiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlKSB7DQogICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7DQogICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6DQogICAgICAgICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7DQogICAgICAgICAgICANCiAgICAgICAgY2FzZSAnbnVtYmVyJzoNCiAgICAgICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogIm51bGwiOw0KICAgICAgICAgICAgDQogICAgICAgIGNhc2UgJ3N0cmluZyc6DQogICAgICAgICAgICByZXR1cm4gZW5jb2RlU3RyaW5nKHZhbHVlKTsNCiAgICAgICAgICAgIA0KICAgICAgICBjYXNlICdib29sZWFuJzoNCiAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpOw0KICAgICAgICAgICAgDQogICAgICAgIGRlZmF1bHQ6DQogICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gJ251bGwnOw0KICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZUFycmF5KHZhbHVlKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZURhdGUodmFsdWUpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gWyd7J10sDQogICAgICAgICAgICAgICAgICAgIGVuY29kZSA9IGJhaWR1Lmpzb24uc3RyaW5naWZ5LA0KICAgICAgICAgICAgICAgICAgICBwcmVDb21tYSwNCiAgICAgICAgICAgICAgICAgICAgaXRlbTsNCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIGtleSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSB2YWx1ZVtrZXldOw0KICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgaXRlbSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndW5kZWZpbmVkJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Vua25vd24nOg0KICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlQ29tbWEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goJywnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlQ29tbWEgPSAxOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVuY29kZShrZXkpICsgJzonICsgZW5jb2RlKGl0ZW0pKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnfScpOw0KICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQuam9pbignJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9Ow0KfSkoKTsNCi8qDQogKiBUYW5ncmFtDQogKiBDb3B5cmlnaHQgMjAwOSBCYWlkdSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQogKiANCiAqIHBhdGg6IGJhaWR1L2pzb24vZW5jb2RlLmpzDQogKiBhdXRob3I6IGVyaWssIGNhdA0KICogdmVyc2lvbjogMS4zLjQNCiAqIGRhdGU6IDIwMTAvMTIvMjMNCiAqLw0KDQoNCg0KLyoqDQogKiDlsIZqc29u5a+56LGh5bqP5YiX5YyW77yM5Li66L+H5pe25o6l5Y+j77yM5LuK5ZCO5Lya6KKrYmFpZHUuanNvbi5zdHJpbmdpZnnku6Pmm78NCiAqIEBuYW1lIGJhaWR1Lmpzb24uZW5jb2RlDQogKiBAZnVuY3Rpb24NCiAqIEBncmFtbWFyIGJhaWR1Lmpzb24uZW5jb2RlKHZhbHVlKQ0KICogQHBhcmFtIHtKU09OfSB2YWx1ZSDpnIDopoHluo/liJfljJbnmoRqc29u5a+56LGhDQogKiBAbWV0YSBvdXQNCiAqIEBzZWUgYmFpZHUuanNvbi5kZWNvZGUsYmFpZHUuanNvbi5zdHJpbmdpZnkNCiAqICAgICAgICAgICAgIA0KICogQHJldHVybnMge3N0cmluZ30g5bqP5YiX5YyW5ZCO55qE5a2X56ym5LiyDQogKi8NCmJhaWR1Lmpzb24uZW5jb2RlID0gYmFpZHUuanNvbi5zdHJpbmdpZnk7DQo=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\emotion\emotion.js.asp' crc32='1F81FD0'  dt:dt='bin.base64'>PCVAIENPREVQQUdFPTY1MDAxICU+DQo8JSBPcHRpb24gRXhwbGljaXQgJT4NCjwlIE9uIEVycm9yIFJlc3VtZSBOZXh0ICU+DQo8JSBSZXNwb25zZS5DaGFyc2V0PSJVVEYtOCIgJT4NCjwlIFJlc3BvbnNlLkJ1ZmZlcj1UcnVlICU+DQo8JSBSZXNwb25zZS5Db250ZW50VHlwZT0iYXBwbGljYXRpb24veC1qYXZhc2NyaXB0IiAlPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi8uLi8uLi8uLi8uLi96Yl91c2Vycy9jX29wdGlvbi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi8uLi8uLi8uLi8uLi96Yl9zeXN0ZW0vZnVuY3Rpb24vY19mdW5jdGlvbi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi8uLi8uLi8uLi8uLi96Yl9zeXN0ZW0vZnVuY3Rpb24vY19zeXN0ZW1fYmFzZS5hc3AiIC0tPg0KPCUgUmVzcG9uc2UuQ2xlYXIgJT4NCndpbmRvdy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7DQogICAgZWRpdG9yLnNldE9wdCh7DQogICAgICAgIGVtb3Rpb25Mb2NhbGl6YXRpb246ZmFsc2UNCiAgICB9KTsNCg0KICAgIGVtb3Rpb24uU21pbGV5UGF0aCA9IGVkaXRvci5vcHRpb25zLmVtb3Rpb25Mb2NhbGl6YXRpb24gPT09IHRydWUgPyAnaW1hZ2VzLycgOiAiPCU9R2V0Q3VycmVudEhvc3QoKSU+emJfdXNlcnMvZW1vdGlvbi8iOw0KCTwlCQ0KCURpbSBmc28sZigpLGYxLGZiLGZjDQoJRGltIGFyeUZpbGVMaXN0LGEsaSxqLGUseCx5LHANCg0KCSdmPVNwbGl0KFpDX0VNT1RJQ09OU19GSUxFTkFNRSwifCIpDQoJU2V0IGZzbyA9IENyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QiKQ0KCVNldCBmYiA9IGZzby5HZXRGb2xkZXIoQmxvZ1BhdGggJiAiemJfdXNlcnMvZW1vdGlvbiIgJiAiLyIpDQoJU2V0IGZjID0gZmIuU3ViRm9sZGVycw0KCQlpPTANCglGb3IgRWFjaCBmMSBpbiBmYwkNCgkJUmVEaW0gUHJlc2VydmUgZihpKQ0KCQlmKGkpPWYxLm5hbWUNCgkJaT1pKzENCglOZXh0DQoJJ2Y9TG9hZEluY2x1ZGVGaWxlcygiemJfdXNlcnNcZW1vdGlvblwiKQ0KCXk9VUJvdW5kKGYpDQoJRm9yIHg9MCBUbyB5DQoJCWFyeUZpbGVMaXN0PUxvYWRJbmNsdWRlRmlsZXMoInpiX3VzZXJzXGVtb3Rpb25cIiZmKHgpKSANCgkJSWYgSXNBcnJheShhcnlGaWxlTGlzdCkgVGhlbg0KCQkJaj1VQm91bmQoYXJ5RmlsZUxpc3QpDQoJCQlGb3IgaT0xIHRvIGoNCgkJCQlJZiBJblN0cigianBnfHBuZ3xnaWYiLFJpZ2h0KGFyeUZpbGVMaXN0KGkpLDMpKT4wIFRoZW4gDQoJCQkJCWU9IiciJlJlcGxhY2UoU2VydmVyLlVSTEVuY29kZShhcnlGaWxlTGlzdChpKSksIisiLCIlMjAiKSYiJywiJiBlIA0KCQkJCQlwPWkNCgkJCQlFbmQgSWYgDQoJCQlOZXh0DQoJCQllPUxlZnQoZSxMZW4oZSktMSkNCgkJRW5kIElmIA0KCSU+DQoJZW1vdGlvbi50YWJOdW0rKzsNCgllbW90aW9uLlNtaWxtZ05hbWVbInRhYjwlPSh4KSU+Il09Wyc8JT1SaWdodChhcnlGaWxlTGlzdChwKSwzKSU+Jyw8JT1qJT5dOw0KCWVtb3Rpb24uaW1hZ2VGb2xkZXJzWyJ0YWI8JT0oeCklPiJdPSc8JT1mKHgpJT4vJzsNCgllbW90aW9uLmltYWdlQ3NzWyJ0YWI8JT0oeCklPiJdPSc8JT1mKHgpJT4nOw0KCWVtb3Rpb24uaW1hZ2VDc3NPZmZzZXRbInRhYjwlPSh4KSU+Il09MzU7DQoJZW1vdGlvbi5TbWlsZXlJbmZvclsidGFiPCU9KHgpJT4iXT1bPCU9ZSU+XTsNCgl2YXIgdHA9JEcoJ3RhYkhlYWRzJyksdGM9JEcoJ3RhYkJvZHlzJyk7DQoJdmFyIGR0cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7DQogICAgICAgIGR0cC5pbm5lckhUTUwgID0iPCU9Zih4KSU+IjsNCgkJdHAuYXBwZW5kQ2hpbGQoZHRwKTsNCgkJdHAuaW5uZXJIVE1MID0gdHAuaW5uZXJIVE1MKyIgXG4iOw0KCXZhciBkdGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQoJCWR0Yy5pZD0ndGFiPCU9KHgpJT4nOw0KCQl0Yy5hcHBlbmRDaGlsZChkdGMpOw0KCTwlDQoJCWU9IiINCglOZXh0DQoJJT4NCg0KICAgIGVtb3Rpb24uU21pbGV5Qm94ID0gY3JlYXRlVGFiTGlzdCggZW1vdGlvbi50YWJOdW0gKTsNCiAgICBlbW90aW9uLnRhYkV4aXN0ID0gY3JlYXRlQXJyKCBlbW90aW9uLnRhYk51bSApOw0KDQogICAgaW5pdEltZ05hbWUoKTsNCiAgICBpbml0RXZ0SGFuZGxlciggInRhYkhlYWRzIiApOw0KfTsNCg0KZnVuY3Rpb24gaW5pdEltZ05hbWUoKSB7DQogICAgZm9yICggdmFyIHBybyBpbiBlbW90aW9uLlNtaWxtZ05hbWUgKSB7DQogICAgICAgIHZhciB0ZW1wTmFtZSA9IGVtb3Rpb24uU21pbG1nTmFtZVtwcm9dLA0KICAgICAgICAgICAgdGVtcEJveCA9IGVtb3Rpb24uU21pbGV5Qm94W3Byb10sDQoJCQl0ZW1wU3RyPWVtb3Rpb24uU21pbGV5SW5mb3JbcHJvXTsNCgkJCQ0KICAgICAgICBpZiAoIHRlbXBCb3gubGVuZ3RoICkgcmV0dXJuOw0KICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0ZW1wTmFtZVsxXTsgaSsrICkgew0KICAgICAgICAgICAgdGVtcEJveC5wdXNoKCB0ZW1wU3RyW2ldKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg0KZnVuY3Rpb24gaW5pdEV2dEhhbmRsZXIoIGNvbklkICkgew0KICAgIHZhciB0YWJIZWFkcyA9ICRHKCBjb25JZCApOw0KICAgIGZvciAoIHZhciBpID0gMCwgaiA9IDA7IGkgPCB0YWJIZWFkcy5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrICkgew0KICAgICAgICB2YXIgdGFiT2JqID0gdGFiSGVhZHMuY2hpbGROb2Rlc1tpXTsNCiAgICAgICAgaWYgKCB0YWJPYmoubm9kZVR5cGUgPT0gMSApIHsNCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKCB0YWJPYmosICJjbGljayIsIChmdW5jdGlvbiAoIGluZGV4ICkgew0KICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgIHN3aXRjaFRhYiggaW5kZXggKTsNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfSkoIGogKSApOw0KICAgICAgICAgICAgaisrOw0KICAgICAgICB9DQogICAgfQ0KICAgIHN3aXRjaFRhYiggMCApOw0KICAgICRHKCAidGFiSWNvblJldmlldyIgKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KfQ0KDQpmdW5jdGlvbiBJbnNlcnRTbWlsZXkoIHVybCwgZXZ0ICkgew0KICAgIHZhciBvYmogPSB7DQogICAgICAgIHNyYzplZGl0b3Iub3B0aW9ucy5lbW90aW9uTG9jYWxpemF0aW9uID8gZWRpdG9yLm9wdGlvbnMuVUVESVRPUl9IT01FX1VSTCArICJkaWFsb2dzL2Vtb3Rpb24vIiArIHVybCA6IHVybA0KICAgIH07DQogICAgb2JqLmRhdGFfdWVfc3JjID0gb2JqLnNyYzsNCiAgICBlZGl0b3IuZXhlY0NvbW1hbmQoICdpbnNlcnRpbWFnZScsIG9iaiApOw0KICAgIGlmICggIWV2dC5jdHJsS2V5ICkgew0KICAgICAgICBkaWFsb2cucG9wdXAuaGlkZSgpOw0KICAgIH0NCn0NCg0KZnVuY3Rpb24gc3dpdGNoVGFiKCBpbmRleCApIHsNCg0KICAgIGF1dG9IZWlnaHQoIGluZGV4ICk7DQogICAgaWYgKCBlbW90aW9uLnRhYkV4aXN0W2luZGV4XSA9PSAwICkgew0KICAgICAgICBlbW90aW9uLnRhYkV4aXN0W2luZGV4XSA9IDE7DQogICAgICAgIGNyZWF0ZVRhYiggJ3RhYicgKyBpbmRleCApOw0KICAgIH0NCiAgICAvL+iOt+WPluWRiOeOsOWFg+e0oOWPpeafhOaVsOe7hA0KICAgIHZhciB0YWJIZWFkcyA9ICRHKCAidGFiSGVhZHMiICkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoICJzcGFuIiApLA0KICAgICAgICAgICAgdGFiQm9keXMgPSAkRyggInRhYkJvZHlzIiApLmdldEVsZW1lbnRzQnlUYWdOYW1lKCAiZGl2IiApLA0KICAgICAgICAgICAgaSA9IDAsIEwgPSB0YWJIZWFkcy5sZW5ndGg7DQogICAgLy/pmpDol4/miYDmnInlkYjnjrDlhYPntKANCiAgICBmb3IgKCA7IGkgPCBMOyBpKysgKSB7DQogICAgICAgIHRhYkhlYWRzW2ldLmNsYXNzTmFtZSA9ICIiOw0KICAgICAgICB0YWJCb2R5c1tpXS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgIH0NCiAgICAvL+aYvuekuuWvueW6lOWRiOeOsOWFg+e0oA0KICAgIHRhYkhlYWRzW2luZGV4XS5jbGFzc05hbWUgPSAiZm9jdXMiOw0KICAgIHRhYkJvZHlzW2luZGV4XS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsNCn0NCg0KZnVuY3Rpb24gYXV0b0hlaWdodCggaW5kZXggKSB7DQogICAgdmFyIGlmcmFtZSA9IGRpYWxvZy5nZXREb20oICJpZnJhbWUiICksDQogICAgICAgICAgICBwYXJlbnQgPSBpZnJhbWUucGFyZW50Tm9kZS5wYXJlbnROb2RlOw0KfQ0KDQoNCmZ1bmN0aW9uIGNyZWF0ZVRhYiggdGFiTmFtZSApIHsNCiAgICB2YXIgZmFjZVZlcnNpb24gPSAiP3Y9MS4xIiwgLy/niYjmnKzlj7cNCiAgICAgICAgICAgIHRhYiA9ICRHKCB0YWJOYW1lICksIC8v6I635Y+W5bCG6KaB55Sf5oiQ55qERGl25Y+l5p+EDQogICAgICAgICAgICBpbWFnZVBhdGggPSBlbW90aW9uLlNtaWxleVBhdGggKyBlbW90aW9uLmltYWdlRm9sZGVyc1t0YWJOYW1lXSwgLy/ojrflj5bmmL7npLrooajmg4XlkozpooTop4jooajmg4XnmoTot6/lvoQNCiAgICAgICAgICAgIHBvc2l0aW9uTGluZSA9IDExIC8gMiwgLy/kuK3pl7TmlbANCiAgICAgICAgICAgIGlXaWR0aCA9IGlIZWlnaHQgPSAzNSwgLy/lm77niYfplb/lrr0NCiAgICAgICAgICAgIGlDb2xXaWR0aCA9IDMsIC8v6KGo5qC85Ymp5L2Z56m66Ze055qE5pi+56S65q+U5L6LDQogICAgICAgICAgICB0YWJsZUNzcyA9IGVtb3Rpb24uaW1hZ2VDc3NbdGFiTmFtZV0sDQogICAgICAgICAgICBjc3NPZmZzZXQgPSBlbW90aW9uLmltYWdlQ3NzT2Zmc2V0W3RhYk5hbWVdLA0KICAgICAgICAgICAgdGV4dEhUTUwgPSBbJzx0YWJsZSBjbGFzcz0ic21pbGV5dGFibGUiPiddLA0KICAgICAgICAgICAgaSA9IDAsIGltZ051bSA9IGVtb3Rpb24uU21pbGV5Qm94W3RhYk5hbWVdLmxlbmd0aCwgaW1nQ29sTnVtID0gMTEsIGZhY2VJbWFnZSwNCiAgICAgICAgICAgIHNVcmwsIHJlYWxVcmwsIHBvc2ZsYWcsIG9mZnNldCwgaW5mb3IsaW5mb3JkZWNvZGU7DQoNCiAgICBmb3IgKCA7IGkgPCBpbWdOdW07ICkgew0KICAgICAgICB0ZXh0SFRNTC5wdXNoKCAnPHRyPicgKTsNCiAgICAgICAgZm9yICggdmFyIGogPSAwOyBqIDwgaW1nQ29sTnVtOyBqKyssIGkrKyApIHsNCiAgICAgICAgICAgIGZhY2VJbWFnZSA9IGVtb3Rpb24uU21pbGV5Qm94W3RhYk5hbWVdW2ldOw0KICAgICAgICAgICAgaWYgKCBmYWNlSW1hZ2UgKSB7DQogICAgICAgICAgICAgICAgc1VybCA9IGltYWdlUGF0aCArIGZhY2VJbWFnZSArIGZhY2VWZXJzaW9uOw0KICAgICAgICAgICAgICAgIHJlYWxVcmwgPSBpbWFnZVBhdGggKyBmYWNlSW1hZ2U7DQogICAgICAgICAgICAgICAgcG9zZmxhZyA9IGogPCBwb3NpdGlvbkxpbmUgPyAwIDogMTsNCiAgICAgICAgICAgICAgICBvZmZzZXQgPSBjc3NPZmZzZXQgKiBpICogKC0xKSAtIDE7DQogICAgICAgICAgICAgICAgaW5mb3IgPSBlbW90aW9uLlNtaWxleUluZm9yW3RhYk5hbWVdW2ldOw0KCQkJCWluZm9yZGVjb2RlPWRlY29kZVVSSShpbmZvci5yZXBsYWNlKC9cJTIzL2csIiMiKSk7DQoNCiAgICAgICAgICAgICAgICB0ZXh0SFRNTC5wdXNoKCAnPHRkICBjbGFzcz0iJyArIHRhYmxlQ3NzICsgJyIgICBib3JkZXI9IjEiIHdpZHRoPSInICsgaUNvbFdpZHRoICsgJyUiIHN0eWxlPSJib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7IiBhbGlnbj0iY2VudGVyIiAgYmdjb2xvcj0idHJhbnNwYXJlbnQiIG9uY2xpY2s9Ikluc2VydFNtaWxleShcJycgKyByZWFsVXJsLnJlcGxhY2UoIC8nL2csICJcXCciICkgKyAnXCcsZXZlbnQpIiBvbm1vdXNlb3Zlcj0ib3Zlcih0aGlzLFwnJyArIHNVcmwgKyAnXCcsXCcnICsgcG9zZmxhZyArICdcJykiIG9ubW91c2VvdXQ9Im91dCh0aGlzKSI+JyApOw0KICAgICAgICAgICAgICAgIHRleHRIVE1MLnB1c2goICc8c3BhbiAgc3R5bGU9ImRpc3BsYXk6YmxvY2s7Ij4nICk7DQogICAgICAgICAgICAgICAgdGV4dEhUTUwucHVzaCggJzxpbWcgIHN0eWxlPSJtYXgtaGVpZ2h0OicrIGlIZWlnaHQgKyc7bWF4LXdpZHRoOicrIGlXaWR0aCArJzsiIHRpdGxlPSInICsgaW5mb3JkZWNvZGUuc3Vic3RyKDAsaW5mb3JkZWNvZGUubGVuZ3RoLTQpICsgJyIgc3JjPSInK3NVcmwrJyI+PC9pbWc+JyApOw0KICAgICAgICAgICAgICAgIHRleHRIVE1MLnB1c2goICc8L3NwYW4+JyApOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0ZXh0SFRNTC5wdXNoKCAnPHRkIHdpZHRoPSInICsgaUNvbFdpZHRoICsgJyUiICAgYmdjb2xvcj0iI0ZGRkZGRiI+JyApOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGV4dEhUTUwucHVzaCggJzwvdGQ+JyApOw0KICAgICAgICB9DQogICAgICAgIHRleHRIVE1MLnB1c2goICc8L3RyPicgKTsNCiAgICB9DQogICAgdGV4dEhUTUwucHVzaCggJzwvdGFibGU+JyApOw0KICAgIHRleHRIVE1MID0gdGV4dEhUTUwuam9pbiggIiIgKTsNCiAgICB0YWIuaW5uZXJIVE1MID0gdGV4dEhUTUw7DQp9DQoNCmZ1bmN0aW9uIG92ZXIoIHRkLCBzcmNQYXRoLCBwb3NGbGFnICkgew0KICAgIHRkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICIjQUNDRDNDIjsNCiAgICAkRyggJ2ZhY2VSZXZpZXcnICkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gInVybCgnIiArIHNyY1BhdGggKyAiJykiOw0KCSRHKCAnZmFjZVJldmlldycgKS5zcmMgPSAiPCU9R2V0Q3VycmVudEhvc3QoKSU+emJfc3lzdGVtXC9JTUFHRVwvQURNSU5cL25vbmUuZ2lmIjsNCiAgICBpZiAoIHBvc0ZsYWcgPT0gMSApICRHKCAidGFiSWNvblJldmlldyIgKS5jbGFzc05hbWUgPSAic2hvdyI7DQogICAgJEcoICJ0YWJJY29uUmV2aWV3IiApLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KfQ0KDQpmdW5jdGlvbiBvdXQoIHRkICkgew0KICAgIHRkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICJ0cmFuc3BhcmVudCI7DQogICAgdmFyIHRhYkljb25SZXZldyA9ICRHKCAidGFiSWNvblJldmlldyIgKTsNCiAgICB0YWJJY29uUmV2ZXcuY2xhc3NOYW1lID0gIiI7DQogICAgdGFiSWNvblJldmV3LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZVRhYkxpc3QoIHRhYk51bSApIHsNCiAgICB2YXIgb2JqID0ge307DQogICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGFiTnVtOyBpKysgKSB7DQogICAgICAgIG9ialsidGFiIiArIGldID0gW107DQogICAgfQ0KICAgIHJldHVybiBvYmo7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUFyciggdGFiTnVtICkgew0KICAgIHZhciBhcnIgPSBbXTsNCiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCB0YWJOdW07IGkrKyApIHsNCiAgICAgICAgYXJyW2ldID0gMDsNCiAgICB9DQogICAgcmV0dXJuIGFycjsNCn0NCg0K</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\image\image.js' crc32='7159688'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIGJ5IEpldEJyYWlucyBQaHBTdG9ybS4NCiAqIFVzZXI6IHRhb3FpbGkNCiAqIERhdGU6IDEyLTAxLTA4DQogKiBUaW1lOiDkuIvljYgyOjUyDQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCnZhciBpbWFnZVVwbG9hZGVyID0ge30sDQogICAgZmxhc2hPYmogPSBudWxsLA0KICAgIHBvc3RDb25maWc9W107DQooZnVuY3Rpb24gKCkgew0KICAgIHZhciBnID0gJEcsDQogICAgICAgIGFqYXggPSBwYXJlbnQuYmFpZHUuZWRpdG9yLmFqYXgsDQogICAgICAgIG1hc2tJZnJhbWUgPSBnKCJtYXNrSWZyYW1lIik7IC8vdGFi6YGu572p5bGCLOeUqOadpeino+WGs2ZsYXNo5ZKM5YW25LuWZG9t5YWD57Sg55qEei1pbmRleOWxgue6p+S4jeS4gOiHtOmXrumimA0KICAgICAgIC8vIGZsYXNoT2JqOyAgICAgICAgICAgICAgICAgICAvL2ZsYXNo5LiK5Lyg5a+56LGhDQoNCiAgICB2YXIgZmxhZ0ltZyA9IG51bGwsIGZsYXNoQ29udGFpbmVyOw0KICAgIGltYWdlVXBsb2FkZXIuaW5pdCA9IGZ1bmN0aW9uIChvcHQsIGNhbGxiYWNrcykgew0KICAgICAgICBzd2l0Y2hUYWIoImltYWdlVGFiIik7DQogICAgICAgIGNyZWF0ZUFsaWduQnV0dG9uKFsicmVtb3RlRmxvYXQiLCAibG9jYWxGbG9hdCJdKTsNCiAgICAgICAgY3JlYXRlRmxhc2gob3B0LCBjYWxsYmFja3MpOw0KICAgICAgICB2YXIgc3JjSW1nID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKTsNCiAgICAgICAgaWYgKHNyY0ltZykgew0KICAgICAgICAgICAgc2hvd0ltYWdlSW5mbyhzcmNJbWcpOw0KICAgICAgICAgICAgc2hvd1ByZXZpZXdJbWFnZShzcmNJbWcsIHRydWUpOw0KICAgICAgICAgICAgdmFyIHRhYkVsZW1lbnRzID0gZygiaW1hZ2VUYWIiKS5jaGlsZHJlbiwNCiAgICAgICAgICAgICAgICB0YWJIZWFkcyA9IHRhYkVsZW1lbnRzWzBdLmNoaWxkcmVuLA0KICAgICAgICAgICAgICAgIHRhYkJvZHlzID0gdGFiRWxlbWVudHNbMV0uY2hpbGRyZW47DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gdGFiSGVhZHNbaSsrXTspIHsNCiAgICAgICAgICAgICAgICBpZiAoY2kuZ2V0QXR0cmlidXRlKCJ0YWJTcmMiKSA9PSAicmVtb3RlIikgew0KICAgICAgICAgICAgICAgICAgICBjbGlja0hhbmRsZXIodGFiSGVhZHMsIHRhYkJvZHlzLCBjaSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICAgICAgYWRkVXJsQ2hhbmdlTGlzdGVuZXIoKTsNCiAgICAgICAgYWRkT0tMaXN0ZW5lcigpOw0KICAgICAgICBhZGRTY3JvbGxMaXN0ZW5lcigpOw0KICAgICAgICBhZGRTZWFyY2hMaXN0ZW5lcigpOw0KICAgICAgICAkZm9jdXMoZygidXJsIikpOw0KICAgIH07DQogICAgaW1hZ2VVcGxvYWRlci5zZXRQb3N0UGFyYW1zID0gZnVuY3Rpb24ob2JqLGluZGV4KXsNCiAgICAgICAgaWYoaW5kZXg9PT11bmRlZmluZWQpew0KICAgICAgICAgICAgdXRpbHMuZWFjaChwb3N0Q29uZmlnLGZ1bmN0aW9uKGNvbmZpZyl7DQogICAgICAgICAgICAgICAgY29uZmlnLmRhdGEgPSBvYmo7DQogICAgICAgICAgICB9KQ0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHBvc3RDb25maWdbaW5kZXhdLmRhdGEgPSBvYmo7DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgZnVuY3Rpb24gaW5zZXJ0SW1hZ2UoaW1nT2Jqcykgew0KICAgICAgICBlZGl0b3IuZmlyZUV2ZW50KCdiZWZvcmVJbnNlcnRJbWFnZScsIGltZ09ianMpOw0KICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoImluc2VydEltYWdlIiwgaW1nT2Jqcyk7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gc2VhcmNoSW1hZ2UoKSB7DQogICAgICAgIHZhciBpbWdTZWFyY2hJbnB1dCA9ICRHKCJpbWdTZWFyY2hUeHQiKTsNCiAgICAgICAgaWYgKCFpbWdTZWFyY2hJbnB1dC5nZXRBdHRyaWJ1dGUoImhhc0NsaWNrIikgfHwgIWltZ1NlYXJjaElucHV0LnZhbHVlKSB7DQogICAgICAgICAgICBzZWxlY3RUeHQoaW1nU2VhcmNoSW5wdXQpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIGcoInNlYXJjaExpc3QiKS5pbm5lckhUTUwgPSAiPHAgY2xhc3M9J21zZyc+IiArIGxhbmcuaW1hZ2VMb2FkaW5nICsgIjwvcD4iOw0KICAgICAgICB2YXIga2V5ID0gaW1nU2VhcmNoSW5wdXQudmFsdWUsDQogICAgICAgICAgICB0eXBlID0gJEcoImltZ1R5cGUiKS52YWx1ZSwNCiAgICAgICAgICAgIGtlZXBPcmlnaW5OYW1lID0gZWRpdG9yLm9wdGlvbnMua2VlcE9yaWdpbk5hbWUgPyAiMSI6IjAiLA0KICAgICAgICAgICAgdXJsID0gImh0dHA6Ly9pbWFnZS5iYWlkdS5jb20vaT9jdD0yMDEzMjY1OTImY2w9MiZsbT0tMSZzdD0tMSZ0bj1iYWlkdWltYWdlanNvbiZpc3R5cGU9MiZybj0zMiZmbT1pbmRleCZwdj0md29yZD0iICsgZW5jb2RlVG9HYjIzMTIoa2V5KSArIHR5cGUgKyAiJmtlZXBvcmlnaW5uYW1lPSIgKyBrZWVwT3JpZ2luTmFtZSArICImIiArICtuZXcgRGF0ZTsNCiAgICAgICAgdmFyIHJlcUNhbGxCYWNrID0gZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICAgIHRyeSB7DQogICAgICAgICAgICAgICAgdmFyIGltZ09ianMgPSBkYXRhLmRhdGE7DQogICAgICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdmFyIGZyZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsNCiAgICAgICAgICAgIGlmIChpbWdPYmpzLmxlbmd0aCA8IDIpIHsNCiAgICAgICAgICAgICAgICBnKCJzZWFyY2hMaXN0IikuaW5uZXJIVE1MID0gIjxwIGNsYXNzPSdtc2cnPiIgKyBsYW5nLnRyeUFnYWluICsgIjwvcD4iOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBpbWdPYmpzLmxlbmd0aDsgaSA8IGxlbiAtIDE7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbWciKSwgb2JqID0gaW1nT2Jqc1tpXSwgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7DQogICAgICAgICAgICAgICAgaW1nLnNyYyA9IG9iai5vYmpVUkw7IC8vb2JqLnRodW1iVVJMIOS4uue8qeeVpeWbvu+8jOWPquiDvemSiOWvueeZvuW6puWGhemDqOS9v+eUqA0KICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoInNvdXJjZVVybCIsIG9iai5vYmpVUkwpOw0KICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IG9iai5mcm9tUGFnZVRpdGxlRW5jLnJlcGxhY2UoL15cLlwuXC4vaSwgIiIpOw0KICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgbGFuZy50b2dnbGVTZWxlY3QgKyBvYmoud2lkdGggKyAiWCIgKyBvYmouaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBpbWcub25jbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWQodGhpcyk7DQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBzY2FsZShpbWcsIDEwMCwgb2JqLndpZHRoLCBvYmouaGVpZ2h0KTsNCiAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoaW1nKTsNCiAgICAgICAgICAgICAgICB2YXIgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTsNCiAgICAgICAgICAgICAgICBwLmlubmVySFRNTCA9ICI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nIiArIG9iai5mcm9tVVJMICsgIic+IiArIHRpdGxlICsgIjwvYT4iOw0KICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChwKTsNCiAgICAgICAgICAgICAgICAvL3NldFRpbWVvdXQoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBmcmcuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICAgICAgICAgICAgICAvL30sMCk7DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGcoInNlYXJjaExpc3QiKS5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgICAgIGcoInNlYXJjaExpc3QiKS5hcHBlbmRDaGlsZChmcmcpOw0KICAgICAgICB9Ow0KICAgICAgICBiYWlkdS5zaW8uY2FsbEJ5U2VydmVyKHVybCwgcmVxQ2FsbEJhY2ssIHtjaGFyc2V0OiJHQjE4MDMwIn0pOw0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNlbGVjdFR4dChub2RlKSB7DQogICAgICAgIGlmIChub2RlLnNlbGVjdCkgew0KICAgICAgICAgICAgbm9kZS5zZWxlY3QoKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhciByID0gbm9kZS5jcmVhdGVUZXh0UmFuZ2UgJiYgbm9kZS5jcmVhdGVUZXh0UmFuZ2UoKTsNCiAgICAgICAgICAgIHIuc2VsZWN0KCk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBhZGRTZWFyY2hMaXN0ZW5lcigpIHsNCiAgICAgICAgZygiaW1nU2VhcmNoVHh0Iikub25jbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHNlbGVjdFR4dCh0aGlzKTsNCiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJoYXNDbGljayIsIHRydWUpOw0KICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT0gbGFuZy5zZWFyY2hJbml0SW5mbykgew0KICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSAiIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgZygiaW1nU2VhcmNoVHh0Iikub25rZXl1cCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCJoYXNDbGljayIsIHRydWUpOw0KICAgICAgICAgICAgLy/lj6rop6blj5HkuIDmrKENCiAgICAgICAgICAgIHRoaXMub25rZXl1cCA9IG51bGw7DQogICAgICAgIH07DQoNCiAgICAgICAgZygiaW1nU2VhcmNoQnRuIikub25jbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHNlYXJjaEltYWdlKCk7DQogICAgICAgIH07DQogICAgICAgIGcoImltZ1NlYXJjaFJlc2V0Iikub25jbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciB0eHQgPSBnKCJpbWdTZWFyY2hUeHQiKTsNCiAgICAgICAgICAgIHR4dC52YWx1ZSA9ICIiOw0KICAgICAgICAgICAgdHh0LmZvY3VzKCk7DQogICAgICAgICAgICBnKCJzZWFyY2hMaXN0IikuaW5uZXJIVE1MID0gIiI7DQogICAgICAgIH07DQogICAgICAgIGcoImltZ1R5cGUiKS5vbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHNlYXJjaEltYWdlKCk7DQogICAgICAgIH07DQogICAgICAgIGRvbVV0aWxzLm9uKGcoImltZ1NlYXJjaFR4dCIpLCAia2V5dXAiLCBmdW5jdGlvbiAoZXZ0KSB7DQogICAgICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT0gMTMpIHsNCiAgICAgICAgICAgICAgICBzZWFyY2hJbWFnZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KQ0KDQogICAgfQ0KDQogICAgLyoqDQogICAgICog5bu26L+f5Yqg6L29DQogICAgICovDQogICAgZnVuY3Rpb24gYWRkU2Nyb2xsTGlzdGVuZXIoKSB7DQoNCiAgICAgICAgZygiaW1hZ2VMaXN0Iikub25zY3JvbGwgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgaW1ncyA9IHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpLA0KICAgICAgICAgICAgICAgIHRvcCA9IE1hdGguY2VpbCh0aGlzLnNjcm9sbFRvcCAvIDEwMCkgLSAxOw0KICAgICAgICAgICAgdG9wID0gdG9wIDwgMCA/IDAgOiB0b3A7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gdG9wICogNTsgaSA8ICh0b3AgKyA1KSAqIDU7IGkrKykgew0KICAgICAgICAgICAgICAgIHZhciBpbWcgPSBpbWdzW2ldOw0KICAgICAgICAgICAgICAgIGlmIChpbWcgJiYgIWltZy5nZXRBdHRyaWJ1dGUoInNyYyIpKSB7DQogICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBpbWcuZ2V0QXR0cmlidXRlKCJsYXp5X3NyYyIpOw0KICAgICAgICAgICAgICAgICAgICBpbWcucmVtb3ZlQXR0cmlidXRlKCJsYXp5X3NyYyIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOe7keWumuehruiupOaMiemSrg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFkZE9LTGlzdGVuZXIoKSB7DQogICAgICAgIGRpYWxvZy5vbm9rID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIGN1cnJlbnRUYWIgPSBmaW5kRm9jdXMoInRhYkhlYWRzIiwgInRhYlNyYyIpOw0KICAgICAgICAgICAgc3dpdGNoIChjdXJyZW50VGFiKSB7DQogICAgICAgICAgICAgICAgY2FzZSAicmVtb3RlIjoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydFNpbmdsZSgpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJsb2NhbCI6DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnNlcnRCYXRjaCgpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJpbWdNYW5hZ2VyIjoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydFNlYXJjaCgiaW1hZ2VMaXN0Iik7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgImltZ1NlYXJjaCI6DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnNlcnRTZWFyY2goInNlYXJjaExpc3QiLCB0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGRpYWxvZy5vbmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGhpZGVGbGFzaCgpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gaGlkZUZsYXNoKCkgew0KICAgICAgICBmbGFzaE9iaiA9IG51bGw7DQogICAgICAgIGZsYXNoQ29udGFpbmVyLmlubmVySFRNTCA9ICIiOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOWwhuWFg+e0oGlk5LiL55qE5omA5pyJ5Zu+54mH5paH5Lu25o+S5YWl5Yiw57yW6L6R5Zmo5Lit44CCDQogICAgICogQHBhcmFtIGlkDQogICAgICogQHBhcmFtIGNhdGNoUmVtb3RlICDmmK/lkKbpnIDopoHmm7/mjaLov5znqIvlm77niYcNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBpbnNlcnRTZWFyY2goaWQsIGNhdGNoUmVtb3RlKSB7DQogICAgICAgIHZhciBpbWdzID0gJEcoaWQpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSwgaW1nT2JqcyA9IFtdOw0KICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gaW1nc1tpKytdOykgew0KICAgICAgICAgICAgaWYgKGNpLmdldEF0dHJpYnV0ZSgic2VsZWN0ZWQiKSkgew0KICAgICAgICAgICAgICAgIHZhciB1cmwgPSBjaS5nZXRBdHRyaWJ1dGUoInNyYyIsIDIpLnJlcGxhY2UoLyhccyokKS9nLCAiIiksIGltZyA9IHt9Ow0KICAgICAgICAgICAgICAgIGltZy5zcmMgPSB1cmw7DQogICAgICAgICAgICAgICAgaW1nLl9zcmMgPSB1cmw7DQogICAgICAgICAgICAgICAgaW1nT2Jqcy5wdXNoKGltZyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaW5zZXJ0SW1hZ2UoaW1nT2Jqcyk7DQogICAgICAgIGNhdGNoUmVtb3RlICYmIGVkaXRvci5maXJlRXZlbnQoImNhdGNoUmVtb3RlSW1hZ2UiKTsNCiAgICAgICAgaGlkZUZsYXNoKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5o+S5YWl5Y2V5byg5Zu+54mHDQogICAgICovDQogICAgZnVuY3Rpb24gaW5zZXJ0U2luZ2xlKCkgew0KICAgICAgICB2YXIgdXJsID0gZygidXJsIiksDQogICAgICAgICAgICB3aWR0aCA9IGcoIndpZHRoIiksDQogICAgICAgICAgICBoZWlnaHQgPSBnKCJoZWlnaHQiKSwNCiAgICAgICAgICAgIGJvcmRlciA9IGcoImJvcmRlciIpLA0KICAgICAgICAgICAgdmhTcGFjZSA9IGcoInZoU3BhY2UiKSwNCiAgICAgICAgICAgIHRpdGxlID0gZygidGl0bGUiKSwNCiAgICAgICAgICAgIGFsaWduID0gZmluZEZvY3VzKCJyZW1vdGVGbG9hdCIsICJuYW1lIiksDQogICAgICAgICAgICBpbWdPYmogPSB7fTsNCiAgICAgICAgaWYgKCF1cmwudmFsdWUpIHJldHVybjsNCiAgICAgICAgaWYgKCFmbGFnSW1nKSByZXR1cm47ICAgLy/nspjotLTlnLDlnYDlkI7lpoLmnpzmsqHmnInnlJ/miJDlr7nlupTnmoTpooTop4jlm77vvIzlj6/ku6XorqTkuLrmnKzmrKHnspjotLTlnLDlnYDlpLHotKUNCiAgICAgICAgaWYgKCFjaGVja051bShbd2lkdGgsIGhlaWdodCwgYm9yZGVyLCB2aFNwYWNlXSkpIHJldHVybiBmYWxzZTsNCiAgICAgICAgaW1nT2JqLnNyYyA9IHVybC52YWx1ZTsNCiAgICAgICAgaW1nT2JqLl9zcmMgPSB1cmwudmFsdWU7DQogICAgICAgIGltZ09iai53aWR0aCA9IHdpZHRoLnZhbHVlOw0KICAgICAgICBpbWdPYmouaGVpZ2h0ID0gaGVpZ2h0LnZhbHVlOw0KICAgICAgICBpbWdPYmouYm9yZGVyID0gYm9yZGVyLnZhbHVlOw0KICAgICAgICBpbWdPYmouZmxvYXRTdHlsZSA9IGFsaWduOw0KICAgICAgICBpbWdPYmoudnNwYWNlID0gaW1nT2JqLmhzcGFjZSA9IHZoU3BhY2UudmFsdWU7DQogICAgICAgIGltZ09iai50aXRsZSA9IHRpdGxlLnZhbHVlOw0KICAgICAgICBpbWdPYmouc3R5bGUgPSAid2lkdGg6IiArIHdpZHRoLnZhbHVlICsgInB4O2hlaWdodDoiICsgaGVpZ2h0LnZhbHVlICsgInB4OyI7DQogICAgICAgIGluc2VydEltYWdlKGltZ09iaik7DQogICAgICAgIGVkaXRvci5maXJlRXZlbnQoImNhdGNoUmVtb3RlSW1hZ2UiKTsNCiAgICAgICAgaGlkZUZsYXNoKCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5qOA5rWL5Lyg5YWl55qE5omA5pyJaW5wdXTmoYbkuK3ovpPlhaXnmoTplb/lrr3mmK/lkKbmmK/mraPmlbANCiAgICAgKiBAcGFyYW0gbm9kZXMgaW5wdXTmoYbpm4blkIjvvIwNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjaGVja051bShub2Rlcykgew0KICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gbm9kZXNbaSsrXTspIHsNCiAgICAgICAgICAgIGlmICghaXNOdW1iZXIoY2kudmFsdWUpIHx8IGNpLnZhbHVlIDwgMCkgew0KICAgICAgICAgICAgICAgIGFsZXJ0KGxhbmcubnVtRXJyb3IpOw0KICAgICAgICAgICAgICAgIGNpLnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgY2kuZm9jdXMoKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5pWw5a2X5Yik5patDQogICAgICogQHBhcmFtIHZhbHVlDQogICAgICovDQogICAgZnVuY3Rpb24gaXNOdW1iZXIodmFsdWUpIHsNCiAgICAgICAgcmV0dXJuIC8oMHxeWzEtOV1cZCokKS8udGVzdCh2YWx1ZSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5o+S5YWl5aSa5byg5Zu+54mHDQogICAgICovDQogICAgZnVuY3Rpb24gaW5zZXJ0QmF0Y2goKSB7DQogICAgICAgIGlmIChpbWFnZVVybHMubGVuZ3RoIDwgMSkgcmV0dXJuOw0KICAgICAgICB2YXIgaW1nT2JqcyA9IFtdLA0KICAgICAgICAgICAgYWxpZ24gPSBmaW5kRm9jdXMoImxvY2FsRmxvYXQiLCAibmFtZSIpOw0KDQogICAgICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBpbWFnZVVybHNbaSsrXTspIHsNCiAgICAgICAgICAgIHZhciB0bXBPYmogPSB7fTsNCiAgICAgICAgICAgIHRtcE9iai50aXRsZSA9IGNpLnRpdGxlOw0KICAgICAgICAgICAgdG1wT2JqLmZsb2F0U3R5bGUgPSBhbGlnbjsNCiAgICAgICAgICAgIC8v5L+u5q2j5pi+56S65pe25YCZ55qE5Zyw5Z2A5pWw5o2uLOWmguaenOWQjuWPsOi/lOWbnueahOaYr+WbvueJh+eahOe7neWvueWcsOWdgO+8jOmCo+S5iOatpOWkhOaXoOmcgOS/ruatow0KICAgICAgICAgICAgdG1wT2JqLl9zcmMgPSB0bXBPYmouc3JjID0gZWRpdG9yLm9wdGlvbnMuaW1hZ2VQYXRoICsgY2kudXJsOw0KICAgICAgICAgICAgaW1nT2Jqcy5wdXNoKHRtcE9iaik7DQogICAgICAgIH0NCiAgICAgICAgaW5zZXJ0SW1hZ2UoaW1nT2Jqcyk7DQogICAgICAgIGhpZGVGbGFzaCgpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOaJvuWIsGlk5LiL5YW35pyJZm9jdXPnsbvnmoToioLngrnlubbov5Tlm57or6XoioLngrnkuIvnmoTmn5DkuKrlsZ7mgKcNCiAgICAgKiBAcGFyYW0gaWQNCiAgICAgKiBAcGFyYW0gcmV0dXJuUHJvcGVydHkNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBmaW5kRm9jdXMoaWQsIHJldHVyblByb3BlcnR5KSB7DQogICAgICAgIHZhciB0YWJzID0gZyhpZCkuY2hpbGRyZW4sDQogICAgICAgICAgICBwcm9wZXJ0eTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IHRhYnNbaSsrXTspIHsNCiAgICAgICAgICAgIGlmIChjaS5jbGFzc05hbWUgPT0gImZvY3VzIikgew0KICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gY2kuZ2V0QXR0cmlidXRlKHJldHVyblByb3BlcnR5KTsNCiAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gcHJvcGVydHk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog57uR5a6a5Zyw5Z2A5qGG5pS55Y+Y5LqL5Lu2DQogICAgICovDQogICAgZnVuY3Rpb24gYWRkVXJsQ2hhbmdlTGlzdGVuZXIoKSB7DQogICAgICAgIHZhciB2YWx1ZSA9IGcoInVybCIpLnZhbHVlOw0KICAgICAgICBpZiAoYnJvd3Nlci5pZSkgew0KICAgICAgICAgICAgZygidXJsIikub25wcm9wZXJ0eWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgdiA9IHRoaXMudmFsdWU7DQogICAgICAgICAgICAgICAgaWYgKHYgIT0gdmFsdWUpIHsNCiAgICAgICAgICAgICAgICAgICAgY3JlYXRlUHJldmlld0ltYWdlKHYpOw0KICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHY7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGcoInVybCIpLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHZhciB2ID0gdGhpcy52YWx1ZTsNCiAgICAgICAgICAgICAgICBpZiAodiAhPSB2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICBjcmVhdGVQcmV2aWV3SW1hZ2Uodik7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdjsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LCBmYWxzZSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDnu5Hlrprlm77niYfnrYnmr5TnvKnmlL7kuovku7YNCiAgICAgKiBAcGFyYW0gcGVyY2VudCAg57yp5pS+5q+U5L6LDQogICAgICovDQogICAgZnVuY3Rpb24gYWRkU2l6ZUNoYW5nZUxpc3RlbmVyKHBlcmNlbnQpIHsNCiAgICAgICAgdmFyIHdpZHRoID0gZygid2lkdGgiKSwNCiAgICAgICAgICAgIGhlaWdodCA9IGcoImhlaWdodCIpLA0KICAgICAgICAgICAgbG9jayA9IGcoJ2xvY2snKTsNCiAgICAgICAgd2lkdGgub25rZXl1cCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICghaXNOYU4odGhpcy52YWx1ZSkgJiYgbG9jay5jaGVja2VkKSB7DQogICAgICAgICAgICAgICAgaGVpZ2h0LnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlIC8gcGVyY2VudCkgfHwgdGhpcy52YWx1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgaGVpZ2h0Lm9ua2V5dXAgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBpZiAoIWlzTmFOKHRoaXMudmFsdWUpICYmIGxvY2suY2hlY2tlZCkgew0KICAgICAgICAgICAgICAgIHdpZHRoLnZhbHVlID0gTWF0aC5yb3VuZCh0aGlzLnZhbHVlICogcGVyY2VudCkgfHwgdGhpcy52YWx1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOS+neaNrnVybOS4reeahOWcsOWdgOWIm+W7uuS4gOS4qumihOiniOWbvueJh+W5tuWwhuWvueW6lOeahOS/oeaBr+Whq+WFpeS/oeaBr+ahhuWSjOmihOiniOahhg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXZpZXdJbWFnZSh1cmwpIHsNCiAgICAgICAgaWYgKCF1cmwpIHsNCiAgICAgICAgICAgIGZsYWdJbWcgPSBudWxsOw0KICAgICAgICAgICAgZygicHJldmlldyIpLmlubmVySFRNTCA9ICIiOw0KICAgICAgICAgICAgZygid2lkdGgiKS52YWx1ZSA9ICIiOw0KICAgICAgICAgICAgZygiaGVpZ2h0IikudmFsdWUgPSAiIjsNCiAgICAgICAgICAgIGcoImJvcmRlciIpLnZhbHVlID0gIiI7DQogICAgICAgICAgICBnKCJ2aFNwYWNlIikudmFsdWUgPSAiIjsNCiAgICAgICAgICAgIGcoInRpdGxlIikudmFsdWUgPSAiIjsNCiAgICAgICAgICAgICRmb2N1cyhnKCJ1cmwiKSk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpLA0KICAgICAgICAgICAgcHJldmlldyA9IGcoInByZXZpZXciKTsNCg0KICAgICAgICB2YXIgaW1nVHlwZVJlZyA9IC9cLihwbmd8Z2lmfGpwZ3xqcGVnKSQvZ2ksIC8v5qC85byP6L+H5rukDQogICAgICAgICAgICB1cmxGaWx0ZXIgPSAiIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/lnLDlnYDov4fmu6QNCiAgICAgICAgaWYgKCFpbWdUeXBlUmVnLnRlc3QodXJsKSB8fCB1cmwuaW5kZXhPZih1cmxGaWx0ZXIpID09IC0xKSB7DQogICAgICAgICAgICBwcmV2aWV3LmlubmVySFRNTCA9ICI8c3BhbiBzdHlsZT0nY29sb3I6IHJlZCc+IiArIGxhbmcuaW1hZ2VVcmxFcnJvciArICI8L3NwYW4+IjsNCiAgICAgICAgICAgIGZsYWdJbWcgPSBudWxsOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHByZXZpZXcuaW5uZXJIVE1MID0gbGFuZy5pbWFnZUxvYWRpbmc7DQogICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICBmbGFnSW1nID0gdGhpczsNCiAgICAgICAgICAgIHNob3dJbWFnZUluZm8odGhpcyk7DQogICAgICAgICAgICBzaG93UHJldmlld0ltYWdlKHRoaXMsdHJ1ZSk7DQogICAgICAgICAgICB0aGlzLm9ubG9hZCA9IG51bGw7DQogICAgICAgIH07DQogICAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgcHJldmlldy5pbm5lckhUTUwgPSAiPHNwYW4gc3R5bGU9J2NvbG9yOiByZWQnPiIgKyBsYW5nLmltYWdlTG9hZEVycm9yICsgIjwvc3Bhbj4iOw0KICAgICAgICAgICAgZmxhZ0ltZyA9IG51bGw7DQogICAgICAgICAgICB0aGlzLm9uZXJyb3IgPSBudWxsOw0KICAgICAgICB9Ow0KICAgICAgICBpbWcuc3JjID0gdXJsOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOaYvuekuuWbvueJh+WvueixoeeahOS/oeaBrw0KICAgICAqIEBwYXJhbSBpbWcNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzaG93SW1hZ2VJbmZvKGltZykgew0KICAgICAgICBpZiAoIWltZy5nZXRBdHRyaWJ1dGUoInNyYyIpIHx8ICFpbWcuc3JjKSByZXR1cm47DQogICAgICAgIHZhciB3b3JkSW1nRmxhZyA9IGltZy5nZXRBdHRyaWJ1dGUoIndvcmRfaW1nIik7DQogICAgICAgIGcoInVybCIpLnZhbHVlID0gd29yZEltZ0ZsYWcgPyB3b3JkSW1nRmxhZy5yZXBsYWNlKCImYW1wOyIsICImIikgOiAoaW1nLmdldEF0dHJpYnV0ZSgnX3NyYycpIHx8IGltZy5nZXRBdHRyaWJ1dGUoInNyYyIsIDIpLnJlcGxhY2UoIiZhbXA7IiwgIiYiKSk7DQogICAgICAgIGcoIndpZHRoIikudmFsdWUgPSBpbWcud2lkdGggfHwgMDsNCiAgICAgICAgZygiaGVpZ2h0IikudmFsdWUgPSBpbWcuaGVpZ2h0IHx8IDA7DQogICAgICAgIGcoImJvcmRlciIpLnZhbHVlID0gaW1nLmdldEF0dHJpYnV0ZSgiYm9yZGVyIikgfHwgMDsNCiAgICAgICAgZygidmhTcGFjZSIpLnZhbHVlID0gaW1nLmdldEF0dHJpYnV0ZSgidnNwYWNlIikgfHwgMDsNCiAgICAgICAgZygidGl0bGUiKS52YWx1ZSA9IGltZy50aXRsZSB8fCAiIjsNCiAgICAgICAgdmFyIGFsaWduID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFZhbHVlKCJpbWFnZUZsb2F0IikgfHwgIm5vbmUiOw0KICAgICAgICB1cGRhdGVBbGlnbkJ1dHRvbihhbGlnbik7DQoNCiAgICAgICAgLy/kv53lrZjljp/lp4vmr5TkvovvvIznlKjkuo7nrYnmr5TnvKnmlL4NCiAgICAgICAgdmFyIHBlcmNlbnQgPSAoaW1nLndpZHRoIC8gaW1nLmhlaWdodCkudG9GaXhlZCgyKTsNCiAgICAgICAgYWRkU2l6ZUNoYW5nZUxpc3RlbmVyKHBlcmNlbnQpOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOWwhmltZ+aYvuekuuWcqOmihOiniOahhu+8jA0KICAgICAqIEBwYXJhbSBpbWcNCiAgICAgKiBAcGFyYW0gbmVlZENsb25lICDmmK/lkKbpnIDopoHlhYvpmoblkI7mmL7npLoNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzaG93UHJldmlld0ltYWdlKGltZywgbmVlZENsb25lKSB7DQogICAgICAgIHZhciB0bXBXaWR0aCA9IGltZy53aWR0aCwgdG1wSGVpZ2h0ID0gaW1nLmhlaWdodDsNCiAgICAgICAgdmFyIG1heFdpZHRoID0gMjYyLG1heEhlaWdodCA9IDI2MiwNCiAgICAgICAgICAgIHRhcmdldCA9IHNjYWxpbmcodG1wV2lkdGgsdG1wSGVpZ2h0LG1heFdpZHRoLG1heEhlaWdodCk7DQogICAgICAgIHRhcmdldC5ib3JkZXIgPSBpbWcuYm9yZGVyfHwwOw0KICAgICAgICB0YXJnZXQuc3JjID0gaW1nLnNyYzsNCiAgICAgICAgZmxhZ0ltZyA9IHRydWU7DQogICAgICAgIGlmICgodGFyZ2V0LndpZHRoICsgMiAqIHRhcmdldC5ib3JkZXIpID4gbWF4V2lkdGgpIHsNCiAgICAgICAgICAgIHRhcmdldC53aWR0aCA9IG1heFdpZHRoIC0gMiAqIHRhcmdldC5ib3JkZXI7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCh0YXJnZXQuaGVpZ2h0ICsgMiAqIHRhcmdldC5ib3JkZXIpID4gbWF4V2lkdGgpIHsNCiAgICAgICAgICAgIHRhcmdldC5oZWlnaHQgPSBtYXhXaWR0aCAtIDIgKiB0YXJnZXQuYm9yZGVyOw0KICAgICAgICB9DQogICAgICAgIHZhciBwcmV2aWV3ID0gZygicHJldmlldyIpOw0KICAgICAgICBwcmV2aWV3LmlubmVySFRNTCA9ICc8aW1nIHNyYz0iJyArIHRhcmdldC5zcmMgKyAnIiB3aWR0aD0iJyArIHRhcmdldC53aWR0aCArICciIGhlaWdodD0iJyArIHRhcmdldC5oZWlnaHQgKyAnIiBib3JkZXI9IicgKyB0YXJnZXQuYm9yZGVyICsgJ3B4IHNvbGlkICMwMDAiIC8+JzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDlm77niYfnvKnmlL4NCiAgICAgKiBAcGFyYW0gaW1nDQogICAgICogQHBhcmFtIG1heA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIHNjYWxlKGltZywgbWF4LCBvV2lkdGgsIG9IZWlnaHQpIHsNCiAgICAgICAgdmFyIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcGVyY2VudCwgb3cgPSBpbWcud2lkdGggfHwgb1dpZHRoLCBvaCA9IGltZy5oZWlnaHQgfHwgb0hlaWdodDsNCiAgICAgICAgaWYgKG93ID4gbWF4IHx8IG9oID4gbWF4KSB7DQogICAgICAgICAgICBpZiAob3cgPj0gb2gpIHsNCiAgICAgICAgICAgICAgICBpZiAod2lkdGggPSBvdyAtIG1heCkgew0KICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gKHdpZHRoIC8gb3cpLnRvRml4ZWQoMik7DQogICAgICAgICAgICAgICAgICAgIGltZy5oZWlnaHQgPSBvaCAtIG9oICogcGVyY2VudDsNCiAgICAgICAgICAgICAgICAgICAgaW1nLndpZHRoID0gbWF4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKGhlaWdodCA9IG9oIC0gbWF4KSB7DQogICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSAoaGVpZ2h0IC8gb2gpLnRvRml4ZWQoMik7DQogICAgICAgICAgICAgICAgICAgIGltZy53aWR0aCA9IG93IC0gb3cgKiBwZXJjZW50Ow0KICAgICAgICAgICAgICAgICAgICBpbWcuaGVpZ2h0ID0gbWF4Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIGZ1bmN0aW9uIHNjYWxpbmcod2lkdGgsaGVpZ2h0LG1heFdpZHRoLG1heEhlaWdodCl7DQogICAgICAgIGlmKHdpZHRoPG1heFdpZHRoICYmIGhlaWdodDxtYXhIZWlnaHQpIHJldHVybiB7d2lkdGg6d2lkdGgsaGVpZ2h0OmhlaWdodH07DQogICAgICAgIHZhciBzcmNSYXRpbyA9ICh3aWR0aC9oZWlnaHQpLnRvRml4ZWQoMiksDQogICAgICAgICAgICB0YXJSYXRpbyA9IChtYXhXaWR0aC9tYXhIZWlnaHQpLnRvRml4ZWQoMiksDQogICAgICAgICAgICB3LGg7DQogICAgICAgIGlmKHNyY1JhdGlvPHRhclJhdGlvKXsNCiAgICAgICAgICAgIGggPSBtYXhIZWlnaHQ7DQogICAgICAgICAgICB3ID0gaCpzcmNSYXRpbzsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB3ID0gbWF4V2lkdGg7DQogICAgICAgICAgICBoID0gdy9zcmNSYXRpbzsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4ge3dpZHRoOncudG9GaXhlZCgwKSxoZWlnaHQ6aC50b0ZpeGVkKDApfQ0KICAgIH0NCiAgICAvKioNCiAgICAgKiDliJvlu7pmbGFzaOWunuS+iw0KICAgICAqIEBwYXJhbSBvcHQNCiAgICAgKiBAcGFyYW0gY2FsbGJhY2tzDQogICAgICovDQogICAgZnVuY3Rpb24gY3JlYXRlRmxhc2gob3B0LCBjYWxsYmFja3MpIHsNCiAgICAgICAgdmFyIGkxOG4gPSB1dGlscy5leHRlbmQoe30sIGxhbmcuZmxhc2hJMThuKTsNCiAgICAgICAgLy/lpITnkIblm77niYfotYTmupDlnLDlnYDnmoTnvJbnoIHvvIzooaXlhajnrYnpl67popgNCiAgICAgICAgZm9yICh2YXIgaSBpbiBpMThuKSB7DQogICAgICAgICAgICBpZiAoIShpIGluIHsibGFuZyI6MSwgInVwbG9hZGluZ1RGIjoxLCAiaW1hZ2VURiI6MSwgInRleHRFbmNvZGluZyI6MX0pICYmIGkxOG5baV0pIHsNCiAgICAgICAgICAgICAgICBpMThuW2ldID0gZW5jb2RlVVJJQ29tcG9uZW50KGVkaXRvci5vcHRpb25zLmxhbmdQYXRoICsgZWRpdG9yLm9wdGlvbnMubGFuZyArICIvaW1hZ2VzLyIgKyBpMThuW2ldKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBvcHQgPSB1dGlscy5leHRlbmQob3B0LCBpMThuLCBmYWxzZSk7DQogICAgICAgIHZhciBvcHRpb24gPSB7DQogICAgICAgICAgICBjcmVhdGVPcHRpb25zOnsNCiAgICAgICAgICAgICAgICBpZDonZmxhc2gnLA0KICAgICAgICAgICAgICAgIHVybDpvcHQuZmxhc2hVcmwsDQogICAgICAgICAgICAgICAgd2lkdGg6b3B0LndpZHRoLA0KICAgICAgICAgICAgICAgIGhlaWdodDpvcHQuaGVpZ2h0LA0KICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTpsYW5nLmZsYXNoRXJyb3IsDQogICAgICAgICAgICAgICAgd21vZGU6YnJvd3Nlci5zYWZhcmkgPyAndHJhbnNwYXJlbnQnIDogJ3dpbmRvdycsDQogICAgICAgICAgICAgICAgdmVyOicxMC4wLjAnLA0KICAgICAgICAgICAgICAgIHZhcnM6b3B0LA0KICAgICAgICAgICAgICAgIGNvbnRhaW5lcjpvcHQuY29udGFpbmVyDQogICAgICAgICAgICB9DQogICAgICAgIH07DQogICAgICAgIGZsYXNoQ29udGFpbmVyID0gJEcob3B0LmNvbnRhaW5lcik7DQogICAgICAgIG9wdGlvbiA9IHV0aWxzLmV4dGVuZChvcHRpb24sIGNhbGxiYWNrcywgZmFsc2UpOw0KICAgICAgICBmbGFzaE9iaiA9IG5ldyBiYWlkdS5mbGFzaC5pbWFnZVVwbG9hZGVyKG9wdGlvbik7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5L6d5o2u5Lyg5YWl55qEYWxpZ27lgLzmm7TmlrDmjInpkq7kv6Hmga8NCiAgICAgKiBAcGFyYW0gYWxpZ24NCiAgICAgKi8NCiAgICBmdW5jdGlvbiB1cGRhdGVBbGlnbkJ1dHRvbihhbGlnbikgew0KICAgICAgICB2YXIgYWxpZ25zID0gZygicmVtb3RlRmxvYXQiKS5jaGlsZHJlbjsNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGNpOyBjaSA9IGFsaWduc1tpKytdOykgew0KICAgICAgICAgICAgaWYgKGNpLmdldEF0dHJpYnV0ZSgibmFtZSIpID09IGFsaWduKSB7DQogICAgICAgICAgICAgICAgaWYgKGNpLmNsYXNzTmFtZSAhPSAiZm9jdXMiKSB7DQogICAgICAgICAgICAgICAgICAgIGNpLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoY2kuY2xhc3NOYW1lID09ICJmb2N1cyIpIHsNCiAgICAgICAgICAgICAgICAgICAgY2kuY2xhc3NOYW1lID0gIiI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5Yib5bu65Zu+54mH5rWu5Yqo6YCJ5oup5oyJ6ZKuDQogICAgICogQHBhcmFtIGlkcw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGNyZWF0ZUFsaWduQnV0dG9uKGlkcykgew0KICAgICAgICBmb3IgKHZhciBpID0gMCwgY2k7IGNpID0gaWRzW2krK107KSB7DQogICAgICAgICAgICB2YXIgZmxvYXRDb250YWluZXIgPSBnKGNpKSwNCiAgICAgICAgICAgICAgICBuYW1lTWFwcyA9IHsibm9uZSI6bGFuZy5mbG9hdERlZmF1bHQsICJsZWZ0IjpsYW5nLmZsb2F0TGVmdCwgInJpZ2h0IjpsYW5nLmZsb2F0UmlnaHQsICJjZW50ZXIiOmxhbmcuZmxvYXRDZW50ZXJ9Ow0KICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBuYW1lTWFwcykgew0KICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCJuYW1lIiwgaik7DQogICAgICAgICAgICAgICAgaWYgKGogPT0gIm5vbmUiKSBkaXYuY2xhc3NOYW1lID0gImZvY3VzIjsNCg0KICAgICAgICAgICAgICAgIGRpdi5zdHlsZS5jc3NUZXh0ID0gImJhY2tncm91bmQ6dXJsKGltYWdlcy8iICsgaiArICJfZm9jdXMuanBnKTsiOw0KICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoInRpdGxlIiwgbmFtZU1hcHNbal0pOw0KICAgICAgICAgICAgICAgIGZsb2F0Q29udGFpbmVyLmFwcGVuZENoaWxkKGRpdik7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBzd2l0Y2hTZWxlY3QoY2kpOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgZnVuY3Rpb24gdG9nZ2xlRmxhc2goc2hvdykgew0KICAgICAgICBpZiAoZmxhc2hDb250YWluZXIgJiYgYnJvd3Nlci53ZWJraXQpIHsNCiAgICAgICAgICAgIGZsYXNoQ29udGFpbmVyLnN0eWxlLmxlZnQgPSBzaG93ID8gIjAiIDogIi0xMDAwMHB4IjsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIHRhYueCueWHu+WkhOeQhuS6i+S7tg0KICAgICAqIEBwYXJhbSB0YWJIZWFkcw0KICAgICAqIEBwYXJhbSB0YWJCb2R5cw0KICAgICAqIEBwYXJhbSBvYmoNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjbGlja0hhbmRsZXIodGFiSGVhZHMsIHRhYkJvZHlzLCBvYmopIHsNCiAgICAgICAgLy9oZWFk5qC35byP5pu05pS5DQogICAgICAgIGZvciAodmFyIGsgPSAwLCBsZW4gPSB0YWJIZWFkcy5sZW5ndGg7IGsgPCBsZW47IGsrKykgew0KICAgICAgICAgICAgdGFiSGVhZHNba10uY2xhc3NOYW1lID0gIiI7DQogICAgICAgIH0NCiAgICAgICAgb2JqLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQogICAgICAgIC8vYm9keeaYvumakA0KICAgICAgICB2YXIgdGFiU3JjID0gb2JqLmdldEF0dHJpYnV0ZSgidGFiU3JjIik7DQogICAgICAgIGZvciAodmFyIGogPSAwLCBsZW5ndGggPSB0YWJCb2R5cy5sZW5ndGg7IGogPCBsZW5ndGg7IGorKykgew0KICAgICAgICAgICAgdmFyIGJvZHkgPSB0YWJCb2R5c1tqXSwNCiAgICAgICAgICAgICAgICBpZCA9IGJvZHkuZ2V0QXR0cmlidXRlKCJpZCIpOw0KICAgICAgICAgICAgYm9keS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUuem9vbSA9IDE7DQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgaWYgKGlkICE9IHRhYlNyYykgew0KICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUuekluZGV4ID0gMTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgYm9keS5zdHlsZS56SW5kZXggPSAyMDA7DQogICAgICAgICAgICAgICAgLy/lvZPliIfmjaLliLDmnKzlnLDlm77niYfkuIrkvKDml7bvvIzpmpDol4/pga7nvannlKjnmoRpZnJhbWUNCiAgICAgICAgICAgICAgICBpZiAoaWQgPT0gImxvY2FsIikgew0KICAgICAgICAgICAgICAgICAgICB0b2dnbGVGbGFzaCh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgbWFza0lmcmFtZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgICAgICAvL+WkhOeQhuehruWumuaMiemSrueahOeKtuaAgQ0KICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRJbWFnZUNvdW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkaWFsb2cuYnV0dG9uc1swXS5zZXREaXNhYmxlZCh0cnVlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRvZ2dsZUZsYXNoKGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgbWFza0lmcmFtZS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgIGRpYWxvZy5idXR0b25zWzBdLnNldERpc2FibGVkKGZhbHNlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBnKCJpbWFnZUxpc3QiKTsNCiAgICAgICAgICAgICAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgLy/liIfmjaLliLDlm77niYfnrqHnkIbml7bvvIxhamF46K+35rGC5ZCO5Y+w5Zu+54mH5YiX6KGoDQogICAgICAgICAgICAgICAgaWYgKGlkID09ICJpbWdNYW5hZ2VyIikgew0KICAgICAgICAgICAgICAgICAgICBsaXN0LnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgLy/lt7Lnu4/liJ3lp4vljJbov4fml7bkuI3lho3ph43lpI3mj5DkuqTor7fmsYINCiAgICAgICAgICAgICAgICAgICAgaWYgKCFsaXN0LmNoaWxkcmVuLmxlbmd0aCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYWpheC5yZXF1ZXN0KGVkaXRvci5vcHRpb25zLmltYWdlTWFuYWdlclVybCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6MTAwMDAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjoiZ2V0IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnN1Y2Nlc3M6ZnVuY3Rpb24gKHhocikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WOu+mZpOepuuagvA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gdXRpbHMudHJpbSh4aHIucmVzcG9uc2VUZXh0KSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJscyA9ICF0bXAgPyBbXSA6IHRtcC5zcGxpdCgidWVfc2VwYXJhdGVfdWUiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aCA9IGltYWdlVXJscy5sZW5ndGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGcoImltYWdlTGlzdCIpLmlubmVySFRNTCA9ICFsZW5ndGggPyAiJm5ic3A7Jm5ic3A7IiArIGxhbmcubm9VcGxvYWRJbWFnZSA6ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwgY2k7IGNpID0gaW1hZ2VVcmxzW2srK107KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChpbWcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnKCJpbWFnZUxpc3QiKS5hcHBlbmRDaGlsZChkaXYpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ID0gdGhpcy53aWR0aCwgaCA9IHRoaXMuaGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlKHRoaXMsIDEwMCwgMTIwLCA4MCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aXRsZSA9IGxhbmcudG9nZ2xlU2VsZWN0ICsgdyArICJYIiArIGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmxvYWQgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoayA8IDM1ID8gInNyYyIgOiAibGF6eV9zcmMiLCBlZGl0b3Iub3B0aW9ucy5pbWFnZU1hbmFnZXJQYXRoICsgY2kucmVwbGFjZSgvXHMrfFxzKy9pZywgIiIpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoIl9zcmMiLCBlZGl0b3Iub3B0aW9ucy5pbWFnZU1hbmFnZXJQYXRoICsgY2kucmVwbGFjZSgvXHMrfFxzKy9pZywgIiIpKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmVycm9yOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZygiaW1hZ2VMaXN0IikuaW5uZXJIVE1MID0gbGFuZy5pbWFnZUxvYWRFcnJvcjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoaWQgPT0gImltZ1NlYXJjaCIpIHsNCiAgICAgICAgICAgICAgICAgICAgc2VsZWN0VHh0KGcoImltZ1NlYXJjaFR4dCIpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGlkID09ICJyZW1vdGUiKSB7DQogICAgICAgICAgICAgICAgICAgICRmb2N1cyhnKCJ1cmwiKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBUQULliIfmjaINCiAgICAgKiBAcGFyYW0gdGFiUGFyZW50SWQgIHRhYueahOeItuiKgueCuUlE5oiW6ICF5a+56LGh5pys6LqrDQogICAgICovDQogICAgZnVuY3Rpb24gc3dpdGNoVGFiKHRhYlBhcmVudElkKSB7DQogICAgICAgIHZhciB0YWJFbGVtZW50cyA9IGcodGFiUGFyZW50SWQpLmNoaWxkcmVuLA0KICAgICAgICAgICAgdGFiSGVhZHMgPSB0YWJFbGVtZW50c1swXS5jaGlsZHJlbiwNCiAgICAgICAgICAgIHRhYkJvZHlzID0gdGFiRWxlbWVudHNbMV0uY2hpbGRyZW47DQoNCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHRhYkhlYWRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgaGVhZCA9IHRhYkhlYWRzW2ldOw0KICAgICAgICAgICAgaWYgKGhlYWQuY2xhc3NOYW1lID09PSAiZm9jdXMiKWNsaWNrSGFuZGxlcih0YWJIZWFkcywgdGFiQm9keXMsIGhlYWQpOw0KICAgICAgICAgICAgaGVhZC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIGNsaWNrSGFuZGxlcih0YWJIZWFkcywgdGFiQm9keXMsIHRoaXMpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5pS55Y+Yb+eahOmAieS4reeKtuaAgQ0KICAgICAqIEBwYXJhbSBvDQogICAgICovDQogICAgZnVuY3Rpb24gY2hhbmdlU2VsZWN0ZWQobykgew0KICAgICAgICBpZiAoby5nZXRBdHRyaWJ1dGUoInNlbGVjdGVkIikpIHsNCiAgICAgICAgICAgIG8ucmVtb3ZlQXR0cmlidXRlKCJzZWxlY3RlZCIpOw0KICAgICAgICAgICAgby5zdHlsZS5jc3NUZXh0ID0gImZpbHRlcjphbHBoYShPcGFjaXR5PTEwMCk7LW1vei1vcGFjaXR5OjE7b3BhY2l0eTogMTtib3JkZXI6IDJweCBzb2xpZCAjZmZmIjsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIG8uc2V0QXR0cmlidXRlKCJzZWxlY3RlZCIsICJ0cnVlIik7DQogICAgICAgICAgICBvLnN0eWxlLmNzc1RleHQgPSAiZmlsdGVyOmFscGhhKE9wYWNpdHk9NTApOy1tb3otb3BhY2l0eTowLjU7b3BhY2l0eTogMC41O2JvcmRlcjoycHggc29saWQgYmx1ZTsiOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog6YCJ5oup5YiH5o2i77yM5Lyg5YWl5LiA5LiqY29udGFpbmVy55qESUQNCiAgICAgKiBAcGFyYW0gc2VsZWN0UGFyZW50SWQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzd2l0Y2hTZWxlY3Qoc2VsZWN0UGFyZW50SWQpIHsNCiAgICAgICAgdmFyIHNlbGVjdCA9IGcoc2VsZWN0UGFyZW50SWQpLA0KICAgICAgICAgICAgY2hpbGRyZW4gPSBzZWxlY3QuY2hpbGRyZW47DQogICAgICAgIGRvbVV0aWxzLm9uKHNlbGVjdCwgImNsaWNrIiwgZnVuY3Rpb24gKGV2dCkgew0KICAgICAgICAgICAgdmFyIHRhciA9IGV2dC5zcmNFbGVtZW50IHx8IGV2dC50YXJnZXQ7DQogICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgY2o7IGNqID0gY2hpbGRyZW5baisrXTspIHsNCiAgICAgICAgICAgICAgICBjai5jbGFzc05hbWUgPSAiIjsNCiAgICAgICAgICAgICAgICBjai5yZW1vdmVBdHRyaWJ1dGUgJiYgY2oucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGFyLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQoNCiAgICAgICAgfSk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogZ2IyMzEy57yW56CBDQogICAgICogQHBhcmFtIHN0cg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGVuY29kZVRvR2IyMzEyKHN0cikgew0KICAgICAgICB2YXIgc3RyT3V0ID0gIiI7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgYyA9IHN0ci5jaGFyQXQoaSksDQogICAgICAgICAgICAgICAgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpOw0KICAgICAgICAgICAgaWYgKGMgPT0gIiAiKSBzdHJPdXQgKz0gIisiOw0KICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA+PSAxOTk2OCAmJiBjb2RlIDw9IDQwODY5KSB7DQogICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gY29kZSAtIDE5OTY4Ow0KICAgICAgICAgICAgICAgIHN0ck91dCArPSAiJSIgKyB6LnN1YnN0cihpbmRleCAqIDQsIDIpICsgIiUiICsgei5zdWJzdHIoaW5kZXggKiA0ICsgMiwgMik7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHN0ck91dCArPSAiJSIgKyBzdHIuY2hhckNvZGVBdChpKS50b1N0cmluZygxNik7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHN0ck91dDsNCiAgICB9DQoNCiAgICB2YXIgeiA9ICdEMkJCQjZBMTgxNDBDNkRGODE0MTgxNDI4MTQzQ0RGMkQ1QzlDOEZEQzlDRkNGQzJEOEEyQjJCQkQzRUI4MTQ0RDhBNEIzRjM4MTQ1RDdBOEM3RDJEOEE3Q0FDMDgxNDZDN0YwQjFGQkQyQjVCNEQ0QjZBQkNCQkZEOEE5ODE0NzgxNDg4MTQ5QjZBQTgxNEFDMUJERDFDRjgxNEJDOUE1RDhBRDgxNENCOEY2RDFCRUUzRENENkQwODE0RDgxNEVCN0UxODE0RkI0QUU4MTUwQzFEOTgxNTFEOEJDODE1MkNERThCNUE0Q0VBQUQ2Rjc4MTUzQzBGNkJFRDlEOEFGODE1NDgxNTU4MTU2QzRDQjgxNTdCRUMzODE1OEQ4QjFDM0I0RDJFNTgxNTlENkFFQ0VEQUQ1QTdCQUY1QjdBNkMwRDY4MTVBQzZCOUM1RDJDN0M3ODE1QkI5RDQ4MTVDQjNDQkQyRDI4MTVEODE1RUQ4QkZCRUM1QzZGMkQyQjJDRkIwQ0ZFNzgxNUY4MTYwODE2MTgxNjJDQUU5ODE2MzgxNjREOEMwODE2NTgxNjY4MTY3ODE2ODgxNjk4MTZBQzJGMkMyRDI4MTZCQzhFOTgxNkM4MTZEODE2RTgxNkY4MTcwODE3MTgxNzI4MTczODE3NDgxNzVDN0FDODE3NjgxNzc4MTc4ODE3OTgxN0E4MTdCODE3Q0MxQ0I4MTdERDNFOEQ1Rjk4MTdFQ0FDMkI2RkVEOEExRDNEQUJGRjc4MTgwRDRDNkJCQTVEOEMxQ0VFNUJFQUU4MTgxODE4MkQ4QTg4MTgzRDFDN0QwQTk4MTg0ODE4NTgxODZEOEJERDlFRkNERjZCRkJBODE4N0JEQkJCQUE1RDJFMEIyRkFCQUUwQzRCNjgxODhDRkVEQkVBOUNEQTRDMUMxODE4OTgxOEE4MThCQzdEN0Q5RjE4MThDRDlGNDgxOEQ4MThFODE4RjgxOTBDOENCRDhFOTgxOTE4MTkyODE5M0QyREFDQUIyQzhDQUQ4RUNEOEVBRDhDNkJERjZDNkNEQjNGMDgxOTREOEVCQkRGMUJERTk4MTk1QzhENEI0RDM4MTk2ODE5N0MyRDg4MTk4QjJENkQ3RDBDQUNCQ0JGQkQ1Q0NCOEI2Q0ZDOTgxOTk4MTlBODE5QkQ5REFEOEYwQzdBQTgxOUNEOEVFODE5REI0RkFDMUVFRDJENDgxOUU4MTlGRDhFRDgxQTBEMkM3RDhFRkMzQzc4MUExODFBMjgxQTNEMUY2ODFBNEQ2RDlEOEYyODFBNUQ4RjVCQ0ZFQkNEQjgxQTY4MUE3ODFBOEM4Q0U4MUE5QjdERDgxQUFCN0MyODFBQkM2RjM4MUFDODFBRDgxQUU4MUFGODFCMDgxQjE4MUIyRDhGOEQyQzE4MUIzODFCNENFRTlCQ0JGQjdGQ0I3QTVEMEREODFCNTgxQjY4MUI3ODFCODgxQjlENkRBRDNDNUJCRUZCQkUxRDhGMTgxQkE4MUJCQzlBMUNFQjBCNEFCODFCQ0Q4RjM4MUJEQzlDQkQ4RjZDMkQ3RDhGNzgxQkU4MUJGQ0VCMUQ4Rjk4MUMwODFDMTgxQzJCMkFFQjlDMDgxQzNEOUEzODFDNEIwRTk4MUM1QzFFNjgxQzZDOUVDODFDN0NCQzU4MUM4Q0JDNkQ5QTQ4MUM5ODFDQTgxQ0I4MUNDODFDREI1RTg4MUNFODFDRkI1QUI4MUQwODFEMTgxRDI4MUQzODFENDgxRDVDRUJCQjVDREQ3QTFEN0Y0RDNEMzgxRDZDQ0U1ODFEN0JBQ0U4MUQ4RDlBMkQ5RENEM0UwRDhGREI3RjBEN0Y3RDhGRUQ4RkFEOUExQzRFMzgxRDk4MURBRDNCNkQ4RjREOUREODFEQkQ4RkI4MURDQzVFNTgxREQ4MURFQzBEMDgxREY4MUUwRDFGMEIwREI4MUUxODFFMkJDRDFEOUE2ODFFM0Q5QTU4MUU0ODFFNTgxRTY4MUU3RDlBQ0Q5QUU4MUU4RDlBQkNBQjk4MUU5ODFFQTgxRUJEOUE5RDZCNjgxRUM4MUVEODFFRUIzREVEOUE4ODFFRkMwRkQ4MUYwQ0FDQzgxRjFEOUFBODFGMkQ5QTc4MUYzODFGNEQ5QjA4MUY1ODFGNkI2QjE4MUY3ODFGODgxRjlCOUE5ODFGQUQyQzA4MUZCODFGQ0NGQzA4MUZEODFGRUMyQzI4MjQwQkRDNEQ1RUNCMkUwQzdDOEJGRUJEOUFEODI0MUQ5QUY4MjQyQ0VFQUJBRUU4MjQzODI0NDgyNDU4MjQ2ODI0N0M3RDY4MjQ4ODI0OTgyNEE4MjRCODI0QzgyNEQ4MjRFODI0RjgyNTBCMUUzODI1MTgyNTI4MjUzQjREOUI2RUREOUI0ODI1NDgyNTU4MjU2ODI1N0JGQTE4MjU4ODI1OTgyNUFEOURFQzdDRUMwRkVEOUI4ODI1QjgyNUM4MjVEODI1RTgyNUZDQkQ3QjdGRDgyNjBEOUI1ODI2MUQ5QjdCMUEzRDNFMUQ5Qjk4MjYyRDBDNTgyNjNEOUI2ODI2NDgyNjVEOUIxODI2NkQ5QjJDMUE5RDlCMzgyNjc4MjY4QkNGM0QwREVCOEE5ODI2OUJFRTM4MjZBRDlCRDgyNkI4MjZDODI2RDgyNkVEOUJBODI2RkIwQjM4MjcwODI3MTgyNzJEOUMyODI3MzgyNzQ4Mjc1ODI3NjgyNzc4Mjc4ODI3OTgyN0E4MjdCODI3QzgyN0Q4MjdFODI4MEQ5QzRCMUI2ODI4MUQ5QkY4MjgyODI4M0I1Qjk4Mjg0QkVGMzgyODU4Mjg2ODI4N0NDQzhCQUYyRDJEMDgyODhEOUMzODI4OTgyOEFCREU4ODI4QkIzQUI4MjhDODI4RDgyOEVEOUM1QkVFQjgyOEZEOUM2RDlCQkM0REY4MjkwRDlCRUQ5QzFEOUMwODI5MTgyOTI4MjkzODI5NDgyOTU4Mjk2ODI5NzgyOTg4Mjk5ODI5QTgyOUJENUFFODI5Q0Q2QjU4MjlEQzdFMzgyOUU4MjlGODJBMDgyQTFEOUM4ODJBMjgyQTM4MkE0QkNEOUQ5Q0E4MkE1ODJBNjgyQTdEOUJDODJBOEQ5Q0JDNkFCODJBOTgyQUE4MkFCODJBQzgyQUREOUM5ODJBRTgyQUY4MkIwODJCMUQ3RjY4MkIyQ0RBMzgyQjM4MkI0ODJCNTgyQjY4MkI3ODJCODgyQjk4MkJBQkRBMTgyQkI4MkJDODJCRDgyQkU4MkJGODJDMEQ5Q0M4MkMxODJDMjgyQzM4MkM0ODJDNTgyQzY4MkM3ODJDODgyQzlDNUJDQ0RCNTgyQ0E4MkNCODJDQ0Q5Q0Q4MkNEODJDRUQ5QzdCM0E1QkZGRTgyQ0Y4MkQwODJEMTgyRDJCOEI1ODJEMzgyRDRDMEZDODJENTgyRDY4MkQ3ODJEOEIwRjg4MkQ5ODJEQTgyREI4MkRDODJERDgyREU4MkRGODJFMDgyRTE4MkUyODJFMzgyRTQ4MkU1ODJFNjgyRTc4MkU4ODJFOTgyRUE4MkVCODJFQzgyRURCNEY2ODJFRUQ5Q0U4MkVGRDlDRkI0QTJEOUQwODJGMDgyRjFCNERGODJGMjgyRjM4MkY0ODJGNTgyRjZCMEMxODJGNzgyRjg4MkY5ODJGQTgyRkI4MkZDODJGREQ5RDFDOUI1ODJGRTgzNDA4MzQxODM0MjgzNDM4MzQ0ODM0NTgzNDY4MzQ3ODM0ODgzNDk4MzRBODM0QjgzNEM4MzREODM0RTgzNEY4MzUwODM1MUNGRjE4MzUyODM1MzgzNTQ4MzU1ODM1NjgzNTdEOUQyODM1ODgzNTk4MzVBQzFDNTgzNUI4MzVDODM1RDgzNUU4MzVGODM2MDgzNjE4MzYyODM2MzgzNjQ4MzY1RDlENkM5QUU4MzY2ODM2NzgzNjg4MzY5RDlENUQ5RDREOUQ3ODM2QTgzNkI4MzZDODM2RENCREI4MzZFQkRBOTgzNkY4MzcwODM3MTgzNzI4MzczQzZBNzgzNzQ4Mzc1ODM3NjgzNzc4Mzc4ODM3OTgzN0E4MzdCODM3QzgzN0REOUQzRDlEODgzN0U4MzgwODM4MUQ5RDk4MzgyODM4MzgzODQ4Mzg1ODM4NjgzODdDOEU1ODM4ODgzODk4MzhBODM4QjgzOEM4MzhEODM4RTgzOEY4MzkwODM5MTgzOTI4MzkzODM5NDgzOTVDMERDODM5NjgzOTc4Mzk4ODM5OTgzOUE4MzlCODM5QzgzOUQ4MzlFODM5RjgzQTA4M0ExODNBMjgzQTM4M0E0ODNBNTgzQTY4M0E3ODNBODgzQTk4M0FBODNBQjgzQUM4M0FEODNBRTgzQUY4M0IwODNCMTgzQjJCNkY5RDhBM0Q0Q0E4M0IzRDRBQUQwRDZCM0U0RDVENzgzQjRDRkM4QjlFMjgzQjVCRkNCODNCNkMzRTI4M0I3ODNCODgzQjlCNkQyODNCQTgzQkJDREMzRDlFRUQ5RjA4M0JDODNCRDgzQkVCNUIzODNCRkI2QjU4M0MwODNDMTgzQzI4M0MzODNDNEJFQTQ4M0M1ODNDNkM4RUI4M0M3ODNDOEM4QUI4M0M5ODNDQUIwQ0JCOUFCQzFGOUQ5RTI4M0NCQzBCQ0I5QjI4M0NDQjlEOEQwQ0JCMUY4QzZFNEJFREZCNUU0RDdDODgzQ0REMUY4QkNFNkNBREU4M0NFODNDRkJDQkREOUU2RDhFNzgzRDA4M0QxQzREQTgzRDI4M0QzQjhENEM4QkQ4M0Q0ODNENUIyRTFENEQ5ODNENjgzRDc4M0Q4ODNEOUMzQjA4M0RBODNEQkMzRTFEQUEyQzhERjgzRENEMEI0ODNEREJFRkNDNUE5ODNERTgzREY4M0UwQjlEQTgzRTFEQUEzODNFMkQ0QTlEQUE0ODNFMzgzRTQ4M0U1ODNFNjgzRTdEOUZCQjZBQzgzRTg4M0U5QjdFQkIxRjlEOUZDQjNFNUJFRjY4M0VBQkZGNkQyQjFDMEU0ODNFQjgzRUM4M0VEQjZCM0Q5RkVEOUZEODNFRTgzRUZCRUJCODNGMDgzRjE4M0YyQzZFMDgzRjNEN0JDREFBMTgzRjRDMUI5ODNGNUI1RjJDMUU4ODNGNjgzRjdCQ0Y1ODNGOEI0RDU4M0Y5ODNGQTgzRkI4M0ZDODNGRDgzRkU4NDQwODQ0MTg0NDJDMUREODQ0M0M0RkQ4NDQ0ODQ0NUJDQjhCN0IyODQ0Njg0NDdCN0VGODQ0ODg0NDk4NDRBODQ0Qjg0NEM4NDRERDlFQzg0NEVDNkJFODQ0RkJGQURCQkNCODQ1MDg0NTFCNUNBODQ1MkRCQzlEMEQ3ODQ1M0NEQjlCMEJDQjNGNkJCRjdEQkNBQkFBRjg0NTRENEU0QjVCNkI1RjNEOEQ2QzhEMDg0NTU4NDU2QjdENkM3RDBEOEQ3ODQ1N0JGQUY4NDU4ODQ1OURCQkJEOEQ4ODQ1QTg0NUJEMENDQkJBRTg0NUM4NDVEODQ1RUVCQkVDMUQwQzFGNUQ0RjJCOEQ1QjRCNDg0NUZCM0Y1ODQ2MDg0NjFDOUJFODQ2Mjg0NjM4NDY0QzVEMDg0NjU4NDY2ODQ2N0M1RDlDMEZCODQ2OEIxRjA4NDY5RDhEOUI5Q0U4NDZBQjVCRDg0NkI4NDZDRDhEQTg0NkQ4NDZFRDZDNkNCQTJDOEFGQzlCMkI0Q0NCRkNDODQ2RkI5RjQ4NDcwRDhEQkQ4RENCNkU3QkNDMUNDRUE4NDcxODQ3Mjg0NzM4NDc0ODQ3NTg0NzZDRkY3ODQ3N0Q4RERDN0IwODQ3ODg0NzlCOUQwQkRBMzg0N0E4NDdCQ0NERTg0N0NDNkNBODQ3RDg0N0U4NDgwODQ4MTg0ODJEOEUwODQ4M0Q4REU4NDg0ODQ4NUQ4REY4NDg2ODQ4Nzg0ODhCMEZFODQ4OUJFRTc4NDhBQ0FBM0JDRjQ4NDhCODQ4Qzg0OEQ4NDhFQjhCMTg0OEY4NDkwQjhFRTg0OTE4NDkyODQ5Mzg0OTQ4NDk1ODQ5Njg0OTc4NDk4ODQ5OTg0OUFEOEUyODQ5QkJEQ0I4NDlDRDhFNEQ4RTM4NDlEODQ5RTg0OUY4NEEwODRBMUM1RkM4NEEyODRBMzg0QTQ4NEE1ODRBNjg0QTc4NEE4RDhFNTg0QTk4NEFBRDhFNjg0QUI4NEFDODRBRDg0QUU4NEFGODRCMDg0QjFDMUE2ODRCMkM4QjBCMEVDQjlBNkJDRDNDRUYxREJCREMxRDM4NEIzODRCNDg0QjU4NEI2QjZBRkQ2RkFDNUFDQkREOURCQkVEQkJGODRCNzg0Qjg4NEI5QzBGOEJFQTJDMENEODRCQTg0QkI4NEJDODRCRDg0QkU4NEJGODRDMDg0QzE4NEMyODRDM0RCQzBDQUM2ODRDNDg0QzU4NEM2QjJBQTg0Qzc4NEM4ODRDOUQzQzI4NENBQzNFMzg0Q0JEMUFCODRDQzg0Q0Q4NENFODRDRkRCQzI4NEQwQzBENTg0RDE4NEQyODREM0RCQzM4NEQ0QkZCMTg0RDU4NEQ2ODRENzg0RDg4NEQ5ODREQUM0QkM4NERCODREQzg0REQ4NERFQzdEQTg0REY4NEUwODRFMTg0RTI4NEUzODRFNDg0RTU4NEU2ODRFNzg0RTg4NEU5REJDNDg0RUE4NEVCODRFQzg0RUQ4NEVFODRFRjg0RjA4NEYxRDlFOEM5RDc4NEYyODRGMzg0RjRCOUI0Q0VGMEQ0Qzg4NEY1ODRGNjg0Rjc4NEY4QjBGQ0I0RDI4NEY5RDBEOTg0RkE4NEZCODRGQzg0RkREOUU5ODRGRURFQ0JEOUVCODU0MDg1NDE4NTQyODU0M0Q4QjBCQkFGQjFCMTg1NDRCM0Q3RDhDRTg1NDU4NTQ2RDREMTg1NDc4NTQ4QkRCM0JGRUY4NTQ5Q0ZCQjg1NEE4NTRCRDhEMDg1NEM4NTREODU0RUI3Q0I4NTRGODU1MDg1NTFEOEQxODU1Mjg1NTM4NTU0ODU1NTg1NTY4NTU3ODU1ODg1NTk4NTVBODU1QkM2QTVDN0Y4RDJCRDg1NUM4NTVERDhEMkM0RTQ4NTVFQ0FBRTg1NUZDN0E3ODU2MEQ4QTY4NTYxQzlGRENFRTdCQkRDQjBFQjg1NjI4NTYzODU2NEJCQUFEMEFEODU2NUIxQjBEN0U0RDdCRjg1NjZCNUE1QzJGNEM0Q0Y4NTY3ODU2OEIyQTk4NTY5QjJCNzg1NkFCMUU1REZCMkQ1QkNCRkE4QzJBQ0Q4RDVDMkIxODU2QkQ4RDRDRUQ0ODU2Q0RBRTA4NTZEQ0VDMDg1NkU4NTZGRDhCNEMzQUVEM0ExQ0VBMzg1NzBCQ0I0QzhCNEMyRDE4NTcxQkVFREQwQjY4NTcyREFFMTg1NzM4NTc0ODU3NTg1NzZDN0U0ODU3Nzg1NzhCM0E3ODU3OUI2RjJDQ0ZDQzBGQTg1N0E4NTdCQzBGNzg1N0NEMUI5RDFFMUQ4Qzc4NTdEODU3RTg1ODA4NTgxODU4Mjg1ODM4NTg0QjJERTg1ODU4NTg2QzBFNTg1ODdCQUYxODU4ODg1ODlEOEM4ODU4QUQ0QUQ4NThCODU4Q0NGRTFEOEM5ODU4REQ4Q0FDRkMzODU4RUIzRjhCRUM3ODU4Rjg1OTA4NTkxODU5MkQ4Q0I4NTkzODU5NDg1OTU4NTk2ODU5Nzg1OTg4NTk5REJDQzg1OUE4NTlCODU5Qzg1OURDOEE1ODU5RTg1OUY4NUEwQ0ZEODg1QTFDOEZFQjJDRTg1QTI4NUEzODVBNDg1QTU4NUE2RDNENkIyRTZCQ0IwRDNEMUNCQUJCN0I0ODVBNzg1QTg4NUE5QjdBMjg1QUE4NUFCQ0FFNTg1QUNDOEExQ0FEQ0IxRTREMEYwODVBREM1RDE4NUFFODVBRjg1QjBEQkM1QjVGRTg1QjE4NUIyQkZEQUI5QzVCRUU0QzFFRDg1QjNERkI2REZCNUQ2QkJCREQwRDVEOUIwQzhCNkEzQkZDOUNDQThERkIzQ0FCN0QzRDI4NUI0RDhDRkQyQjZCQUM1Q0JCRUNDQkU4NUI1REZCN0I1RjBERkI0ODVCNjg1Qjc4NUI4RDNGNTg1QjlCM0Q0QjhGNzg1QkFERkJBODVCQkJBQ0ZCQ0FBQjVGNTg1QkNDREFDQzNGQkJBRjNDMEY0Q0RDMkNGRjJERkI4Q0ZDNTg1QkRDMkMwREZCOUMyRjA4NUJFODVCRjg1QzBCRUZEODVDMUMxREZDRENDRDJGN0I3Q0RERkMxODVDMkRGQzQ4NUMzODVDNEI3RjFCMEM5QjZENkI3RDQ4NUM1QkFBQ0NDRkRCRkQ0Q0JCMUM2RjQ4NUM2RDZBOERGQzU4NUM3Q0VFMkIzQjM4NUM4ODVDOUNFRkNCNEI1ODVDQUNFQzdCQUYwODVDQkNFRTE4NUNDRDFCRDg1Q0Q4NUNFREZDMDg1Q0Y4NUQwQjRGNDg1RDFCM0NBODVEMkI4RTZERkJCODVEMzg1RDQ4NUQ1ODVENkM0QzU4NUQ3REZCQ0RGQkRERkJFQzVCQkRGQkZERkMyRDRCMURGQzM4NUQ4QzdCQUNFRDg4NUQ5ODVEQTg1REI4NURDODVEREM0RDg4NURFREZDQTg1REZERkNGODVFMEQ2REM4NUUxODVFMjg1RTM4NUU0ODVFNTg1RTY4NUU3ODVFOERGQzlERkRBQ0VCNjg1RTlCQUM3REZDRURGQzhDNURFODVFQTg1RUJDOUVCQkFGNEMzRkM4NUVDODVFREJFRDc4NUVFREZDNjg1RUZERkNEODVGMEM1RDg4NUYxODVGMjg1RjM4NUY0RDVBNkJBQ0Q4NUY1QkVDQ0QzQkRCOEMwODVGNkQ2RTQ4NUY3REZDN0I5QkVCRkE3ODVGODg1RjlDMUZDREZDQkRGQ0M4NUZBREZEMDg1RkI4NUZDODVGRDg1RkU4NjQwREZEQkRGRTU4NjQxREZEN0RGRDZEN0M5REZFM0RGRTRFNUVCRDJBN0RGRDI4NjQyQkZBOTg2NDNENERCODY0NEJGQzhERkQ0ODY0NTg2NDY4NjQ3Q0ZDQzg2NDg4NjQ5REZERDg2NEFEMUNBODY0QkRGREVCMEE3QzZCN0RGRDM4NjRDQkFFNTg2NERCNkRGQ0REQkI5RkVENEQ1ODY0RTg2NEZERkRGQ0ZFQ0IwQTVERkU3REZEMUQxQzZERkQ1REZEOERGRDlERkRDODY1MEJCQTk4NjUxREZFMERGRTE4NjUyREZFMkRGRTZERkU4RDNCNDg2NTM4NjU0ODY1NTg2NTY4NjU3QjhFN0M1QjZERkVBQzlEQUMxQThDNEM0ODY1ODg2NTlCRkRFQ0ZGODg2NUE4NjVCODY1Q0Q1RENERkVFODY1RDg2NUU4NjVGODY2MDg2NjE4NjYyQjJCODg2NjNCQURGREZFQzg2NjREQkMxODY2NUQxRTQ4NjY2ODY2Nzg2Njg4NjY5Q0JGNEI0QkQ4NjZBQjBBNjg2NkI4NjZDODY2RDg2NkU4NjZGREZGMUNDQzZERkYyODY3MDg2NzFERkVEODY3Mjg2NzM4Njc0ODY3NTg2NzY4Njc3REZFOTg2Nzg4Njc5ODY3QTg2N0JERkVCODY3Q0RGRUZERkYwQkJCRDg2N0Q4NjdFREZGMzg2ODA4NjgxREZGNDg2ODJCQkEzODY4M0NBREJDRUE4RTBBN0IzQUE4Njg0RTBBNjg2ODU4Njg2ODY4N0UwQTE4Njg4ODY4OTg2OEE4NjhCREZGRTg2OENDREQ5REZGQzg2OERERkZBODY4RUJGRDBEN0M0ODY4RkM5Q0M4NjkwODY5MURGRjhCMEExODY5Mjg2OTM4Njk0ODY5NTg2OTZERkZEODY5Nzg2OTg4Njk5ODY5QURGRkJFMEEyODY5Qjg2OUM4NjlEODY5RTg2OUZFMEE4ODZBMDg2QTE4NkEyODZBM0I3Qzg4NkE0ODZBNUM2QTFDOUI2QzBCMkRGRjU4NkE2ODZBN0M1QkU4NkE4RDhDNERGRjlDNEY2ODZBOTg2QUE4NkFCODZBQzg2QUQ4NkFFRTBBM0UwQTRFMEE1RDBBNTg2QUY4NkIwRTBCNENDRTQ4NkIxRTBCMTg2QjJCRkE2RTBBRkNFQjlFMEFCQzlDNjg2QjM4NkI0QzBBRUUwQUVCQUVEQkFCMEUwQTk4NkI1ODZCNjg2QjdERkY2ODZCOEUwQjM4NkI5ODZCQUUwQjg4NkJCODZCQzg2QkRCNEFERTBCOTg2QkU4NkJGQ0ZCMkJBQzg4NkMwRTBCMDg2QzE4NkMyODZDMzg2QzQ4NkM1ODZDNjg2QzdEMEZBODZDODg2Qzk4NkNBODZDQjg2Q0M4NkNEODZDRTg2Q0Y4NkQwRTBBQzg2RDFENEZCODZEMkRGRjc4NkQzQzVFNzg2RDRFMEFEODZENUQzRjc4NkQ2RTBCNkUwQjc4NkQ3ODZEODg2RDk4NkRBODZEQkUwQzREMEUxODZEQzg2REQ4NkRFRTBCQzg2REY4NkUwRTBDOUUwQ0E4NkUxODZFMjg2RTNFMEJFRTBBQUM5QTRFMEMxODZFNEUwQjI4NkU1ODZFNjg2RTc4NkU4ODZFOUNBQzhFMEMzODZFQUUwQjU4NkVCQ0VDQjg2RUNDQkMzRTBDREUwQzZFMEMyODZFREUwQ0I4NkVFRTBCQUUwQkZFMEMwODZFRjg2RjBFMEM1ODZGMTg2RjJFMEM3RTBDODg2RjNFMENDODZGNEUwQkI4NkY1ODZGNjg2Rjc4NkY4ODZGOUNCRDRFMEQ1ODZGQUUwRDZFMEQyODZGQjg2RkM4NkZEODZGRTg3NDA4NzQxRTBEMEJDQ0U4NzQyODc0M0UwRDE4NzQ0QjhDMkQ4QzU4NzQ1ODc0Njg3NDc4NzQ4ODc0OTg3NEE4NzRCODc0Q0QwRUE4NzREODc0RUMyRUY4NzRGODc1MEUwQ0ZFMEJEODc1MTg3NTI4NzUzRTBENEUwRDM4NzU0ODc1NUUwRDc4NzU2ODc1Nzg3NTg4NzU5RTBEQ0UwRDg4NzVBODc1Qjg3NUNENkY2QjNCMDg3NUREN0VDODc1RUNCQkI4NzVGODc2MEUwREE4NzYxQ0VGQjg3NjI4NzYzODc2NEJBRDk4NzY1ODc2Njg3Njc4NzY4ODc2OTg3NkE4NzZCODc2Qzg3NkQ4NzZFODc2Rjg3NzBFMEUxRTBEREQyQUQ4NzcxODc3Mjg3NzM4Nzc0ODc3NUUwRTI4Nzc2ODc3N0UwREJFMEQ5RTBERjg3Nzg4Nzc5RTBFMDg3N0E4NzdCODc3Qzg3N0Q4NzdFRTBERTg3ODBFMEU0ODc4MTg3ODI4NzgzQzZGN0Q4QUNENEVCRTBFNkNBQzk4Nzg0ODc4NTg3ODY4Nzg3RTBFNTg3ODg4Nzg5ODc4QTg3OEJCOEMxODc4Qzg3OEQ4NzhFODc4RkUwRTdFMEU4ODc5MDg3OTE4NzkyODc5Mzg3OTQ4Nzk1ODc5Njg3OTdFMEU5RTBFMzg3OTg4Nzk5ODc5QTg3OUI4NzlDODc5RDg3OUVCQUJGQ0NFNzg3OUY4N0EwODdBMUUwRUE4N0EyODdBMzg3QTQ4N0E1ODdBNjg3QTc4N0E4ODdBOTg3QUE4N0FCODdBQzg3QUQ4N0FFODdBRjg3QjBDRkY5ODdCMTg3QjI4N0IzODdCNDg3QjU4N0I2ODdCNzg3Qjg4N0I5ODdCQTg3QkJFMEVCODdCQzg3QkQ4N0JFODdCRjg3QzA4N0MxODdDMkM4QzI4N0MzODdDNDg3QzU4N0M2QkRDMDg3Qzc4N0M4ODdDOTg3Q0E4N0NCODdDQzg3Q0Q4N0NFODdDRjg3RDA4N0QxODdEMjg3RDNDNEQyODdENDg3RDU4N0Q2ODdENzg3RDg4N0Q5ODdEQTg3REI4N0RDRTBFQzg3REQ4N0RFRTBFRDg3REY4N0UwQzdGNENCQzQ4N0UxRTBFRUJCRDhEOEI2RDJGMkUwRUZDREM1ODdFMkI2REE4N0UzODdFNDg3RTU4N0U2ODdFNzg3RThFMEYxODdFOUQ0QjA4N0VBODdFQkMwQTdCNEQxODdFQzg3RURDRUE3RTBGMDg3RUU4N0VGODdGMEUwRjJCOUNDODdGMTg3RjJCOUZBQ0RCQ0UwRjM4N0YzODdGNDg3RjVDNkQ0RTBGNDg3RjZENEIyODdGN0M4QTZFMEY2RTBGNTg3Rjg4N0Y5ODdGQTg3RkI4N0ZDODdGRDg3RkU4ODQwODg0MTg4NDI4ODQzODg0NDg4NDU4ODQ2ODg0Nzg4NDg4ODQ5RTBGNzg4NEE4ODRCQ0RDMTg4NEM4ODREODg0RUNBQTU4ODRGODg1MDg4NTE4ODUyRDREQURCRDdEQkQ5ODg1M0RCRDhCOUU3REJEQ0RCRERCNUQ4ODg1NDg4NTVEQkRBODg1Njg4NTc4ODU4ODg1OTg4NUFEQkRCQjNBMURCREY4ODVCODg1Q0JCRjg4ODVERDZCNzg4NUVEQkUwODg1Rjg4NjA4ODYxODg2MkJFRjk4ODYzODg2NEI3QkI4ODY1REJEMENDQUVCRkIyQkJCNUQ3RjhCRkQzODg2Njg4Njc4ODY4ODg2OTg4NkFCRkU5ODg2Qjg4NkNCQ0UxQ0NCM0RCREVCMEQzQ0VFQkI3RDhEN0I5QzZDMjg4NkQ4ODZFQzBBNDg4NkZDQ0I5ODg3MERCRTdEQkUxQzZCQURCRTM4ODcxREJFODg4NzJDNUY3ODg3Mzg4NzQ4ODc1REJFQTg4NzY4ODc3REJFOUJGQzA4ODc4ODg3OTg4N0FEQkU2REJFNTg4N0I4ODdDODg3RDg4N0U4ODgwQjRCOUMwQUNDMkEyREJFMkRCRTQ4ODgxODg4Mjg4ODM4ODg0RDBDRERCRUQ4ODg1ODg4Njg4ODc4ODg4ODg4OUMwREREQkYyODg4QTg4OEI4ODhDODg4RDg4OEU4ODhGODg5MEI2RTI4ODkxODg5Mjg4OTM4ODk0REJGM0RCRDJCOUI4RDRBQkRCRUM4ODk1QkZEMURCRjA4ODk2REJEMTg4OTdCNUU2ODg5OERCRUJCRkU1ODg5OTg4OUE4ODlCREJFRTg4OUNEQkYxODg5RDg4OUU4ODlGREJGOTg4QTA4OEExODhBMjg4QTM4OEE0ODhBNTg4QTY4OEE3ODhBOEI5QTFCMEEzODhBOTg4QUE4OEFCODhBQzg4QUQ4OEFFODhBRkMyRjE4OEIwODhCMUIzQzdEQkVGODhCMjg4QjNEQkY4ODhCNEM2RDJEQkY0ODhCNTg4QjZEQkY1REJGN0RCRjY4OEI3ODhCOERCRkU4OEI5RDNGMkIyQkE4OEJBODhCQjg4QkNEQkZEODhCRDg4QkU4OEJGODhDMDg4QzE4OEMyODhDMzg4QzREQ0E0ODhDNURCRkI4OEM2ODhDNzg4Qzg4OEM5REJGQTg4Q0E4OENCODhDQ0RCRkNDNUUwQkJGOTg4Q0Q4OENFRENBMzg4Q0Y4OEQwRENBNTg4RDFDQ0MzODhEMjg4RDM4OEQ0QjZEMUREQzA4OEQ1ODhENjg4RDdEQ0ExODhEOERDQTI4OEQ5ODhEQTg4REJDN0I1ODhEQzg4REQ4OERFQjZFOTg4REY4OEUwODhFMURDQTc4OEUyODhFMzg4RTQ4OEU1RENBNjg4RTZEQ0E5QjFBNDg4RTc4OEU4QjVDQzg4RTk4OEVBODhFQjg4RUM4OEVEQkZCMDg4RUU4OEVGODhGMDg4RjE4OEYyRDFERjg4RjM4OEY0ODhGNTg4RjZCNkMyODhGNzg4Rjg4OEY5ODhGQTg4RkI4OEZDODhGRDg4RkU4OTQwODk0MTg5NDI4OTQzODk0NDg5NDVEQ0E4ODk0Njg5NDc4OTQ4ODk0OTg5NEE4OTRCODk0Q0NCRkFFQkYzODk0RDg5NEU4OTRGQ0JEQzg5NTA4OTUxQ0JGRTg5NTI4OTUzODk1NENDQzE4OTU1ODk1Njg5NTc4OTU4ODk1OUM4RkI4OTVBODk1Qjg5NUM4OTVEODk1RTg5NUZEQ0FBODk2MDg5NjE4OTYyODk2Mzg5NjRDQ0VFRENBQjg5NjU4OTY2ODk2Nzg5Njg4OTY5ODk2QTg5NkI4OTZDODk2RDg5NkU4OTZGODk3MDg5NzE4OTcyODk3Mzg5NzQ4OTc1REJEMzg5NzZEQ0FGRENBQzg5NzdCRUIzODk3OENBRkI4OTc5ODk3QTg5N0JEQ0FEODk3Qzg5N0Q4OTdFODk4MDg5ODE4OTgyODk4Mzg5ODRDOUNBQzRCOTg5ODU4OTg2ODk4Nzg5ODg4OTg5QzdCRERDQUU4OThBODk4Qjg5OENENEY2RDBFNjg5OEQ4OThFODk4Rjg5OTA4OTkxODk5Mjg5OTM4OTk0QzRBQkI2RDU4OTk1ODk5Njg5OTc4OTk4ODk5OTg5OUE4OTlCODk5Qzg5OUQ4OTlFODk5Rjg5QTA4OUExODlBMjg5QTM4OUE0ODlBNTg5QTZEQkQ0ODlBNzg5QTg4OUE5ODlBQUIxREE4OUFCODlBQzg5QUREQkQ1ODlBRTg5QUY4OUIwODlCMTg5QjI4OUIzODlCNDg5QjU4OUI2ODlCNzg5QjhEQkQ2ODlCOTg5QkE4OUJCQkFCRTg5QkM4OUJEODlCRTg5QkY4OUMwODlDMTg5QzI4OUMzODlDNDg5QzU4OUM2ODlDNzg5Qzg4OUM5QzhDMDg5Q0E4OUNCODlDQzg5Q0Q4OUNFODlDRkNBQkZDOEM5ODlEMEQ3QjM4OUQxQzlGOTg5RDI4OUQzQkZDNzg5RDQ4OUQ1QkFGODg5RDY4OUQ3RDJCQzg5RDg4OUQ5ODlEQTg5REI4OURDODlERDg5REU4OURGRTJCQTg5RTBCNEE2ODlFMTg5RTJCMUI4ODlFMzg5RTQ4OUU1ODlFNjg5RTdCOEI0ODlFOENGQzQ4OUU5ODlFQTg5RUI4OUVDRDlFN0NGQTZDREUyODlFRDg5RUVEOUVEQjZFMDg5RUZEMkI5ODlGMDg5RjFCOUJCODlGMjg5RjM4OUY0ODlGNUUyQjlFMkI3ODlGNkI0RjM4OUY3Q0NFQ0NDQUJCN0YyODlGOEQ4QjJEMUVCQkFCQjg5RjlDQUE3ODlGQTg5RkJDREI3ODlGQzg5RkREMkM0QkZFNEJDRDBCNkUxODlGRURFQzU4QTQwOEE0MThBNDI4QTQzREVDNkRCQkM4QTQ0RDFEOThBNDU4QTQ2QzZFNkM0Q0VCN0VFOEE0N0I3REM4QTQ4OEE0OUJGRkNEN0UwOEE0QUM2RjU4QTRCOEE0Q0IxQkNERUM4QkRCMUNDRDdERUNBOEE0RERFQzk4QTRFOEE0RjhBNTA4QTUxOEE1MkI1RUM4QTUzQzlERDhBNTQ4QTU1QjBDMjhBNTY4QTU3OEE1ODhBNTk4QTVBOEE1QjhBNUM4QTVEOEE1RThBNUY4QTYwOEE2MThBNjJDNUFFQzVBQjhBNjNDNENDOEE2NEJDRTlDQkZEOEE2NThBNjY4QTY3QkFDMzhBNjg4QTY5OEE2QUU1RjlDOEU3RTVGQUNERkQ4QTZCRDdCMUI4QkVDMkU4OEE2Q0M4RDE4QTZEOEE2RUU1RkI4QTZGOEE3MDhBNzE4QTcyQjZDQUJDQ0I4QTczOEE3NEQxRkRFNkExOEE3NUMzRUU4QTc2OEE3NzhBNzg4QTc5RTZBNDhBN0E4QTdCOEE3QzhBN0RFNUZFRTZBNUNERDc4QTdFOEE4MEI3QzFFNUZDRTVGREU2QTM4QTgxOEE4MkM0RERFNkE4OEE4MzhBODRFNkE3OEE4NThBODY4QTg3OEE4ODhBODk4QThBQzNDMzhBOEJDNkRFOEE4QzhBOERFNkFBOEE4RThBOEY4QTkwOEE5MThBOTI4QTkzOEE5NEM0Qjc4QTk1OEE5NjhBOTdFNkEyQ0FCQzhBOTg4QTk5OEE5QThBOUJCREUzQjlDM0U2QTZEMEQ1Q0VBRjhBOUM4QTlERTZBOUU2QjA4QTlFRDJBNjhBOUZCREFBRTZBRDhBQTA4QUExOEFBMjhBQTM4QUE0RTZBRjhBQTVDMEQxOEFBNjhBQTdEMkNDOEFBODhBQTk4QUFBQkNBNzhBQUI4QUFDOEFBRDhBQUU4QUFGOEFCMDhBQjE4QUIyOEFCMzhBQjQ4QUI1OEFCNkU2QjE4QUI3RDJGNjhBQjg4QUI5OEFCQUQ3Q0I4QUJCQ0RGRThBQkNDRERFQzJBNkU2QUJFNkFDQkRCRkU2QUVFNkIzOEFCRDhBQkVFNkIyOEFCRjhBQzA4QUMxOEFDMkU2QjY4QUMzRTZCODhBQzQ4QUM1OEFDNjhBQzdDNEVGOEFDODhBQzk4QUNBQzRDODhBQ0I4QUNDQkVFQUM5RUY4QUNEOEFDRUU2Qjc4QUNGQjZGMDhBRDA4QUQxOEFEMkMzRTQ4QUQzOEFENDhBRDU4QUQ2OEFENzhBRDg4QUQ5RDNFOUU2QjQ4QURBRTZCNThBREJDOEEyOEFEQzhBREQ4QURFOEFERjhBRTBFNkJEOEFFMThBRTI4QUUzRTZCOThBRTQ4QUU1OEFFNjhBRTc4QUU4QzZDNThBRTk4QUVBQ0RGMUU2QkI4QUVCOEFFQzhBRUQ4QUVFOEFFRjhBRjA4QUYxOEFGMjhBRjM4QUY0RTZCQzhBRjU4QUY2OEFGNzhBRjhCQkU5OEFGOThBRkE4QUZCOEFGQzhBRkQ4QUZFOEI0MEU2QkU4QjQxOEI0MjhCNDM4QjQ0RTZCQThCNDU4QjQ2QzBCNzhCNDc4QjQ4OEI0OThCNEE4QjRCOEI0QzhCNEQ4QjRFOEI0RkQzQTRFNkJGQzlGNEU2QzM4QjUwOEI1MUU2QzQ4QjUyOEI1MzhCNTQ4QjU1RDBGNjhCNTY4QjU3OEI1ODhCNTk4QjVBOEI1QjhCNUM4QjVEOEI1RThCNUY4QjYwOEI2MThCNjI4QjYzOEI2NDhCNjU4QjY2OEI2N0MzQkQ4QjY4OEI2OThCNkE4QjZCOEI2QzhCNkQ4QjZFQzNDNEU2QzI4QjZGOEI3MDhCNzE4QjcyOEI3MzhCNzQ4Qjc1OEI3NjhCNzc4Qjc4OEI3OThCN0E4QjdCOEI3Q0U2QzE4QjdEOEI3RThCODA4QjgxOEI4MjhCODM4Qjg0RTZDN0NGQjE4Qjg1RUJGNDhCODY4Qjg3RTZDQThCODg4Qjg5OEI4QThCOEI4QjhDRTZDNThCOEQ4QjhFQkNERUM5QTk4QjhGOEI5MDhCOTE4QjkyOEI5MzhCOTRCQ0I1OEI5NThCOTZDRkQzOEI5NzhCOTg4Qjk5OEI5QThCOUJFNkM4OEI5Q0U2Qzk4QjlERTZDRThCOUVFNkQwOEI5RjhCQTA4QkExRTZEMThCQTI4QkEzOEJBNEU2Q0JCNUQ1OEJBNUU2Q0M4QkE2OEJBN0U2Q0Y4QkE4OEJBOUM0REI4QkFBRTZDNjhCQUI4QkFDOEJBRDhCQUU4QkFGRTZDRDhCQjA4QkIxOEJCMjhCQjM4QkI0OEJCNThCQjY4QkI3OEJCODhCQjk4QkJBOEJCQjhCQkM4QkJEOEJCRThCQkY4QkMwOEJDMThCQzI4QkMzOEJDNDhCQzU4QkM2RTZEMjhCQzc4QkM4OEJDOThCQ0E4QkNCOEJDQzhCQ0Q4QkNFOEJDRjhCRDA4QkQxOEJEMkU2RDRFNkQzOEJEMzhCRDQ4QkQ1OEJENjhCRDc4QkQ4OEJEOThCREE4QkRCOEJEQzhCREQ4QkRFOEJERjhCRTA4QkUxOEJFMjhCRTM4QkU0OEJFNThCRTY4QkU3OEJFODhCRTk4QkVBOEJFQjhCRUNFNkQ1OEJFREQ5Rjg4QkVFOEJFRkU2RDY4QkYwOEJGMThCRjI4QkYzOEJGNDhCRjU4QkY2OEJGN0U2RDc4QkY4OEJGOThCRkE4QkZCOEJGQzhCRkQ4QkZFOEM0MDhDNDE4QzQyOEM0MzhDNDQ4QzQ1OEM0NjhDNDdEN0QzRTZERDhDNDhFNkRFQkZEN0Q0RDA4QzQ5RDdENkI0RTZDQkVGRTZEQUQ4QzNEN0NFRDBBMjhDNEFDM0NGOEM0QjhDNENFNkRGQkNCRUI5QzJFNkRCRDFBNzhDNEQ4QzRFQkFBMkMyQ0Y4QzRGRDhBQjhDNTA4QzUxOEM1MkNBRUJFNUVFOEM1M0U2REM4QzU0QjdGNThDNTU4QzU2OEM1NzhDNThDOEU2OEM1OThDNUFDNEY1OEM1QjhDNUNFNUIyQzRGRThDNURDQkZDRTVCM0Q1QUM4QzVFRDNFRUNBRDhCMEIyOEM1RkNCQ0VDREVBOEM2MDhDNjFCQUVBOEM2MjhDNjM4QzY0RTVCNThDNjVFNUI0OEM2NkQ3REFCOUQ5RDZFNkI2QThDREYwRDJDQkIxQTZDQUI1OEM2N0IzRThDOUYzQkZDREQwRkJDQUQyRTVCNkJCQzI4QzY4OEM2OThDNkFDRkRDQjlBQzhDNkI4QzZDOEM2RDhDNkVENEQ3OEM2RjhDNzBCQUE2RDFFN0NGRkNCQ0QyOEM3MUU1QjdDOEREOEM3MjhDNzM4Qzc0QkZFREIxRjZDQkRFOEM3NThDNzZCQ0M1OEM3N0JDQzREMkZBQzNEQ0JGREM4Qzc4OEM3OThDN0E4QzdCQjhCQjhDN0M4QzdEOEM3RUMzQzI4QzgwQkFBRUQ0QTI4QzgxOEM4MjhDODM4Qzg0OEM4NThDODY4Qzg3OEM4ODhDODlDN0RFQzRBRkIyRUM4QzhBQjlEMThDOEI4QzhDRTVCQkMxQzg4QzhEOEM4RUQ1QUY4QzhGOEM5MDhDOTE4QzkyOEM5M0U1QkM4Qzk0RTVCRThDOTU4Qzk2OEM5NzhDOTg4Qzk5OEM5QThDOUJCNEU3QjZENENCQzJEMUIwQjVCQzhDOUM4QzlEQ0FEOThDOUVCN0UyOEM5RjhDQTBDOUU0OENBMUJEQUI4Q0EyOENBM0NFQkVEN0YwOENBNDhDQTU4Q0E2OENBN0QwQTE4Q0E4QzlEOThDQTk4Q0FBQjZGQkU2RDhCQ0UyOENBQkIzQkU4Q0FDQzlEMDhDQURFNkQ5QjNBMjhDQUU4Q0FGOENCMDhDQjFERUNDOENCMkQzQzhERUNEOENCM0QyQTI4Q0I0OENCNThDQjY4Q0I3REVDRThDQjg4Q0I5OENCQThDQkJCRUNEOENCQzhDQkRERUNGOENCRThDQkY4Q0MwQ0FBQ0QyRkNCM0RGRTVFQUM0RTFCRUExQ0VCMkM0RjJCRUQ2QzZBOEIyRTM4Q0MxOENDMkJFRDM4Q0MzOENDNEM3RkNDQ0VCQkRFQ0NFREQ4Q0M1OENDNkNBQkFDNkMxRTVFQ0QwQkM4Q0M3OENDODhDQzlENUI5OENDQThDQ0I4Q0NDRTVFRDhDQ0Q4Q0NFOENDRjhDRDBDQUY0OENEMUNEQzBDMkM1OENEMkU1RUY4Q0QzQzJDNEU1RjA4Q0Q0OENENThDRDY4Q0Q3OENEODhDRDk4Q0RBRTVGOENEQ0Q4Q0RCQzlCRDhDREM4Q0REOENERThDREY4Q0UwOENFMThDRTJEMkQ5RTFBODhDRTM4Q0U0OENFNThDRTZEM0VDOENFN0NCRUFDNkYxOENFODhDRTk4Q0VBOENFQjhDRUNFMUFDOENFRDhDRUU4Q0VGRTFBN0UxQTk4Q0YwOENGMUUxQUFFMUFGOENGMjhDRjNCMkVEOENGNEUxQUJCOERBRTFBREUxQUVFMUIwQjVCQUUxQjE4Q0Y1OENGNjhDRjc4Q0Y4OENGOUUxQjNFMUI4OENGQThDRkI4Q0ZDOENGRDhDRkVEMUQyOEQ0MEUxQjZFMUI1QzFFQjhENDE4RDQyOEQ0M0UxQjc4RDQ0RDRDMDhENDVFMUIyOEQ0NkUxQkFCMEI2OEQ0NzhENDg4RDQ5OEQ0QUUxQjQ4RDRCQkZGOThENENFMUI5OEQ0RDhENEVFMUJCOEQ0RjhENTA4RDUxOEQ1MjhENTM4RDU0RTFCRThENTU4RDU2OEQ1NzhENTg4RDU5OEQ1QUUxQkM4RDVCOEQ1QzhENUQ4RDVFOEQ1RjhENjBENkM1OEQ2MThENjI4RDYzOEQ2NDhENjU4RDY2OEQ2N0NGQkY4RDY4OEQ2OUUxQkRFMUJGQzJDRDhENkFCNkVCOEQ2QkQzRjg4RDZDOEQ2REM3Q0Q4RDZFOEQ2RkI3RTU4RDcwOEQ3MThENzI4RDczOEQ3NDhENzU4RDc2OEQ3NzhENzg4RDc5QkVGRThEN0E4RDdCOEQ3QzhEN0Q4RDdFOEQ4MEUxQzBFMUMxOEQ4MThEODJFMUM3QjNFNzhEODM4RDg0OEQ4NThEODY4RDg3OEQ4OEM2RTk4RDg5OEQ4QThEOEI4RDhDOEQ4REI0REU4RDhFRDFDMjhEOEY4RDkwOEQ5MThEOTJFMUM4OEQ5MzhEOTRFMUM2OEQ5NThEOTY4RDk3OEQ5ODhEOTlFMUM1OEQ5QUUxQzNFMUMyOEQ5QkIxQzA4RDlDOEQ5RDhEOUVENUI4RTFDNDhEOUY4REEwOERBMThEQTI4REEzRTFDQjhEQTQ4REE1OERBNjhEQTc4REE4OERBOThEQUE4REFCRTFDQ0UxQ0E4REFDOERBRDhEQUU4REFGOERCMDhEQjE4REIyOERCM0VGRkE4REI0OERCNUUxRDNFMUQyQzdCNjhEQjY4REI3OERCODhEQjk4REJBOERCQjhEQkM4REJEOERCRThEQkY4REMwRTFDOThEQzE4REMyRTFDRThEQzNFMUQwOERDNDhEQzU4REM2OERDNzhEQzg4REM5OERDQThEQ0I4RENDOERDRDhEQ0VFMUQ0OERDRkUxRDFFMUNEOEREMDhERDFFMUNGOEREMjhERDM4REQ0OERENUUxRDU4REQ2OERENzhERDg4REQ5OEREQThEREI4RERDOERERDhEREU4RERGOERFMDhERTE4REUyRTFENjhERTM4REU0OERFNThERTY4REU3OERFODhERTk4REVBOERFQjhERUM4REVEOERFRThERUY4REYwOERGMThERjI4REYzOERGNDhERjU4REY2OERGNzhERjhFMUQ3OERGOThERkE4REZCRTFEODhERkM4REZEOERGRThFNDA4RTQxOEU0MjhFNDM4RTQ0OEU0NThFNDY4RTQ3OEU0ODhFNDk4RTRBOEU0QjhFNEM4RTREOEU0RThFNEY4RTUwOEU1MThFNTI4RTUzOEU1NDhFNTVFMURBOEU1NjhFNTc4RTU4OEU1OThFNUE4RTVCOEU1QzhFNUQ4RTVFOEU1RjhFNjA4RTYxOEU2MkUxREI4RTYzOEU2NDhFNjU4RTY2OEU2NzhFNjg4RTY5Q0VBMThFNkE4RTZCOEU2QzhFNkQ4RTZFOEU2RjhFNzA4RTcxOEU3MjhFNzM4RTc0OEU3NThFNzZFN0REOEU3N0I0QThENkREOEU3ODhFNzlEMUIyQjNCMjhFN0E4RTdCQjlBNEQ3RjNDN0M5QkVERUI5QUU4RTdDQ0VENzhFN0Q4RTdFQjJFRURCQ0Y4RTgwQkNCQUQyRDFDQkM4QjBDRDhFODE4RTgyQ0ZFRjhFODM4RTg0OEU4NThFODY4RTg3RDlFM0JERUQ4RTg4OEU4OUIxRDJDQUQwQjJCQzhFOEFDQkE3QjdBQjhFOEJDQUE2OEU4QzhFOEQ4RThFQ0ZBMzhFOEY4RTkwRTBGOEQ1Q0FFMEZCOEU5MThFOTJFMEZBQzVDMUNDRkI4RTkzQzFCMUUwRjlENkUzQjJBRkQ2QzRCNURCOEU5NDhFOTU4RTk2OEU5NzhFOTg4RTk5OEU5QThFOUJCNEY4RDZBMThFOUM4RTlEOEU5RThFOUY4RUEwQ0ZBRkIwRUY4RUExOEVBMkUwRkM4RUEzOEVBNDhFQTU4RUE2OEVBN0UxQTFCM0EzOEVBODhFQTlFMEZERTBGRUMzQjE4RUFBOEVBQjhFQUM4RUFEQzNERDhFQUVFMUEyQjdGOThFQUY4RUIwOEVCMThFQjI4RUIzOEVCNEJCQ0Y4RUI1OEVCNjhFQjc4RUI4OEVCOThFQkE4RUJCRTFBM0M0QkI4RUJDOEVCRDhFQkU4RUJGOEVDMEUxQTQ4RUMxOEVDMkUxQTU4RUMzOEVDNEUxQTZCNEIxOEVDNThFQzY4RUM3OEVDODhFQzk4RUNBOEVDQjhFQ0M4RUNEOEVDRThFQ0Y4RUQwOEVEMThFRDI4RUQzQjhDOUM2QkRDNEVBOEVENEIyQTI4RUQ1RDBEMjhFRDZFN0RCQkJDM0QzRDdEM0M0OEVEN0I5RTNFMkNGOEVEODhFRDk4RURBRDdBRjhFREJDN0VDQjFEMzhFREM4RUREQjRCMkUyRDE4RURFOEVERjhFRTBEMEYyQzJBRUUyRDA4RUUxQkZFMkQzQTZCNUQ3RTJEMkI1RUE4RUUyQzNFREI4RkQ4RUUzQjhBRThFRTRDNUQzQjdDRkUyRDQ4RUU1OEVFNjhFRTc4RUU4RTJEM0I2QzhEN0Y5OEVFOThFRUE4RUVCOEVFQzhFRURDREE1OEVFRThFRUY4RUYwOEVGMThFRjJFMkQ4OEVGM0UyRDZDQUZDQkZCNUQzQjlFMkQ1OEVGNDhFRjU4RUY2OEVGN0UyRDc4RUY4OEVGOThFRkE4RUZCOEVGQzhFRkQ4RUZFOEY0MDhGNDE4RjQyQzFBRUMwQzg4RjQzOEY0NDhGNDU4RjQ2OEY0NzhGNDhFMkRCRTJEQUMwQUE4RjQ5OEY0QUMxQ0U4RjRCOEY0QzhGNEQ4RjRFRTJEQzhGNEY4RjUwOEY1MThGNTI4RjUzOEY1NDhGNTU4RjU2OEY1NzhGNTg4RjU5OEY1QUUyREQ4RjVCRTJERThGNUM4RjVEOEY1RThGNUY4RjYwOEY2MThGNjI4RjYzOEY2NERCQzg4RjY1RDFEM0NEQTI4RjY2OEY2N0JEQTg4RjY4OEY2OThGNkFERUMzRDhBNUJGQUFEQkNERDJFQ0M2RkFDNUFBOEY2QjhGNkM4RjZEREVDNDhGNkVCMUQ3REZBRThGNkY4RjcwOEY3MUNBQkQ4RjcyREZCMThGNzNCOUFEOEY3NEQyRkQ4Rjc1QjhBNUJBRUI4Rjc2OEY3N0IzREE4Rjc4OEY3OThGN0FCNURDRDVDNThGN0I4RjdDOEY3RDhGN0VDM0Q2Q0ZEMkJCQTE4RjgwRTVGM0U1RjI4RjgxOEY4MkU1RjQ4RjgzQ0RFNDhGODRDOEY1OEY4NThGODY4Rjg3OEY4ODhGODk4RjhBOEY4QkI1QUZDN0JGOEY4Q0U1RjY4RjhEOEY4RThGOEZFQ0IwOEY5MDhGOTE4RjkyOEY5MzhGOTQ4Rjk1OEY5NjhGOTc4Rjk4OEY5OThGOUE4RjlCOEY5QzhGOUQ4RjlFRTVFNjhGOUZCOUU5QjVCMThGQTBDMkJDRTVFOEU1RTdFNUU5OEZBMThGQTI4RkEzOEZBNEQyQ0Q4RkE1OEZBNjhGQTdFMUVBRDBDRThGQThDREFFOEZBOUQxRTU4RkFBOEZBQkIyQ0FCMUVCOEZBQ0IxRjJDNUVEOEZBRDhGQUVENUMzRDNCMDhGQUZFMURDOEZCMDhGQjE4RkIyRTFERDhGQjNEMkRCOEZCNEIzQjlCMUNCOEZCNThGQjY4RkI3Q0RGOUQ1RjdFMURFOEZCOEJFQjZCNEZEOEZCOUUxREZCQURDRTFFMEJCQjJDMkM5RTFFMThGQkE4RkJCOEZCQ0QwRUM4RkJEQ0RCRDhGQkU4RkJGRTFFMjhGQzBCNUMzQzVDN0UxRTM4RkMxOEZDMkUxRTQ4RkMzOEZDNDhGQzU4RkM2RDNGOThGQzc4RkM4OEZDOThGQ0E4RkNCOEZDQ0UxRTU4RkNERDFBRDhGQ0U4RkNGRTFFNkNFQTI4RkQwOEZEMThGRDI4RkQzOEZENDhGRDVFMUU3OEZENkI1QzI4RkQ3OEZEODhGRDk4RkRBRTFFOEJCRDU4RkRCOEZEQzhGREQ4RkRFOEZERkQwQzRFMkUwQjFEOEQyRTQ4RkUwOEZFMUUyRTE4RkUyOEZFM0JDQzlDOENDOEZFNEUyRTNFQ0ZFRUNGRERGQUY4RkU1OEZFNjhGRTdFMkUyRDZCRUNERkNDM0E2OEZFODhGRTk4RkVBRTNDMzhGRUI4RkVDRDZEMkUyRTc4RkVEOEZFRUUyRTg4RkVGOEZGMEQzQzc4RkYxOEZGMkUyRUNCRkVDOEZGM0UyRURFMkU1OEZGNDhGRjVCM0MwOEZGNjhGRjc4RkY4QzRFRThGRjk4RkZBRTJFRThGRkI4RkZDRDBDMzhGRkRCQUY2RTJFOUI3REVCQkIzQ0NBQ0NCQ0JFMkU0RTJFNkUyRUFFMkVCOEZGRTkwNDA5MDQxRTJGNzkwNDI5MDQzRTJGNEQ0RjVFMkYzOTA0NDkwNDVDNUFEOTA0NkQ1RkFDNUMyQjJDMDkwNDc5MDQ4RTJFRjkwNDlFMkYyQzFBRkNCQkM5MDRBOTA0QkI1QTFFMkY5OTA0QzkwNEQ5MDRFQkNCMUUyRjFEMEQ0RDRCOUUyRjVCOUQ2RTJGNjkwNEY5MDUwOTA1MUM3RDM5MDUyOTA1MzkwNTQ5MDU1OTA1NkUyRjA5MDU3OTA1ODkwNTk5MDVBOTA1QkQ3RENFREExOTA1QzkwNURFMkY4OTA1RUVEQTVFMkZFQ0FEMTkwNUY5MDYwOTA2MTkwNjI5MDYzOTA2NDkwNjVDMUI1OTA2NkJCRDA5MDY3OTA2OEJGRDY5MDY5QkFFMzkwNkE5MDZCQ0JBMTkwNkM5MDZEOTA2RUVEQTZFREEzOTA2RjkwNzBFREEyOTA3MTkwNzI5MDczOTA3NEJCRDZFREE3RDBGNDkwNzU5MDc2RURBNEJBREVCNkY3RTNBMUI2QjJDQ0YxQjlBNzkwNzdDRkEyQzdBMTkwNzg5MDc5QkZEMjkwN0E5MDdCQjZGMTkwN0NFMkZBRTJGQkUyRkRFMkZDQzRENUUzQTI5MDdERDNDMTkwN0U5MDgwOTA4MUUzQTdDN0M0OTA4MjkwODM5MDg0OTA4NUNGQTQ5MDg2OTA4N0UzQTlCQUI3OTA4ODkwODk5MDhBOTA4QkUzQTg5MDhDQkJEQTkwOERFM0EzOTA4RTkwOEY5MDkwRTNBNEUzQUE5MDkxRTNBNjkwOTJDRUYyRDNDNjkwOTM5MDk0QkJCQzkwOTU5MDk2RDRDMzkwOTdDNEZBOTA5ODkwOTlFREE4RDBGQ0UzQTU5MDlBQzNGNTkwOUJFM0FEQjFBRjkwOUNFM0IyOTA5RDkwOUU5MDlGQkNDMjkwQTA5MEExRTNBQ0I1QkY5MEEyOTBBMzkwQTQ5MEE1OTBBNjkwQTc5MEE4OTBBOUM3RTlFM0IwOTBBQTkwQUI5MEFDQkVBQUNERUY5MEFEOTBBRTkwQUY5MEIwOTBCMUJCRjM5MEIyOTBCMzkwQjRDQ0U4OTBCNTkwQjZFM0FGOTBCN0UzQjE5MEI4Q0ZBN0UzQUU5MEI5Q0VBOUJCREQ5MEJBOTBCQjkwQkM5MEJEOTBCRUI1RUJCRUU1QjJEMkIzQ0Q5MEJGQjFCOUUzQUJCMkQxQjVBQ0I5REZCNkU4OTBDMDkwQzFDRkVCRTNCNzkwQzJCQkNDOTBDMzkwQzRDOEM3RDBDQTkwQzU5MEM2OTBDNzkwQzg5MEM5RTNCOEIzRUU5MENBOTBDQjkwQ0M5MENERURBOTkwQ0VEM0ZBRDNFNDkwQ0Y5MEQwOTBEMUVEQUFFM0I5RDJFMjkwRDI5MEQzOTBENDkwRDU5MEQ2RTNCNTkwRDc5MEQ4OTBEOTkwREFEM0RFOTBEQjkwREM5MEREOTBERUI4RDBFM0IzOTBERjkwRTBFM0I2QjdERjkwRTFFM0I0QzBBMjkwRTI5MEUzOTBFNEUzQkE5MEU1OTBFNjkwRTc5MEU4OTBFOTkwRUE5MEVCOTBFQzkwRUQ5MEVFOTBFRjkwRjA5MEYxOTBGMjkwRjM5MEY0OTBGNTkwRjY5MEY3RDRCODkwRjg5MEY5OTBGQTkwRkI5MEZDOTBGRDkwRkU5MTQwQjRDODkxNDFFM0JCOTE0MkJCQzU5MTQzQzlGNzkxNDQ5MTQ1QzlFNTkxNDY5MTQ3OTE0OEM0QkQ5MTQ5OTE0QTkxNEI5MTRDOTE0RDkxNEU5MTRGRURBQjkxNTA5MTUxOTE1MjkxNTNDMkZEOTE1NDkxNTU5MTU2OTE1N0JCREJCRkFFOTE1ODkxNTk5MTVBOTE1QjkxNUM5MTVEOTE1RUNFQkY5MTVGOTE2MDkxNjE5MTYyRTNCQzkxNjNCRkI2OTE2NDkxNjU5MTY2OTE2NzkxNjg5MTY5OTE2QTkxNkI5MTZDOTE2RDkxNkU5MTZGOTE3MDkxNzE5MTcyOTE3MzkxNzQ5MTc1OTE3NkIxRUY5MTc3OTE3OEQ0Rjc5MTc5OTE3QTkxN0I5MTdDOTE3REUzQkU5MTdFOTE4MDkxODE5MTgyOTE4MzkxODQ5MTg1OTE4NkVEQUQ5MTg3OTE4ODkxODk5MThBOTE4QjkxOEM5MThEOTE4RTkxOEZFM0JGQkFBOUVEQUM5MTkwOTE5MUUzQkQ5MTkyOTE5MzkxOTQ5MTk1OTE5NjkxOTc5MTk4OTE5OTkxOUE5MTlCRTNDMDkxOUM5MTlEOTE5RTkxOUY5MUEwOTFBMUJBQjY5MUEyOTFBMzkxQTRCNkFFOTFBNTkxQTY5MUE3OTFBODkxQTlEMEI4OTFBQUIwQzNFREFFOTFBQjkxQUM5MUFEOTFBRTkxQUZFREFGQzBDMTkxQjBFM0MxOTFCMTkxQjI5MUIzOTFCNDkxQjU5MUI2OTFCNzkxQjg5MUI5OTFCQTkxQkI5MUJDOTFCRDkxQkU5MUJGOTFDMDkxQzFDNUIzOTFDMjkxQzM5MUM0OTFDNTkxQzY5MUM3OTFDODkxQzk5MUNBOTFDQjkxQ0M5MUNEOTFDRTkxQ0ZFM0MyOTFEMDkxRDE5MUQyOTFEMzkxRDQ5MUQ1OTFENjkxRDc5MUQ4RENCMjkxRDk5MURBOTFEQjkxREM5MUREOTFERUVEQjA5MURGQjhFQTkxRTBDRUVDRUFBN0QwRTdDQUY5QzhENkNGQjdCM0M5Q0VEMkJERTQ5MUUxOTFFMkUzREVCQkYyRUFBOEQ1QkQ5MUUzQzZEREVBQTk5MUU0OTFFNTkxRTZFQUFBOTFFN0VBQUNFQUFCOTFFOEVBQUVFQUFEOTFFOTkxRUE5MUVCOTFFQ0JERDg5MUVERUFBRjkxRUVDMkJFOTFFRjkxRjA5MUYxOTFGMkI0QzFCNEY3OTFGMzkxRjRCQkE3OTFGNTkxRjY5MUY3OTFGODkxRjlFQ0U2RUNFNUI3QkZDQkY5QjFFMjkxRkFFQ0U3OTFGQjkxRkM5MUZEQzlDOEVDRThFQ0U5OTFGRUNBRDZERUQwQjJDNUQ0RkE5MjQwOTI0MUM2Q0JCMEM3QjRGMkM4RDM5MjQyOTI0MzkyNDRDREQwOTI0NTkyNDZCRkI4OTI0NzkyNDg5MjQ5OTI0QTkyNEI5MjRDOTI0REJGREI5MjRFOTI0RkM3QTRENkI0OTI1MEMwQTlERUQxQzlBOEQxRUZDNUE0QjBFN0IzQjZDOEM1OTI1MTkyNTJCMEUyOTI1MzkyNTRCN0Y2OTI1NTkyNTZDNUZBOTI1NzkyNThCNkYzOTI1OUQ1RDJCM0QwQkNCQzkyNUE5MjVCOTI1Q0IzQUQ5MjVEOTI1RTkyNUY5MjYwQkVGMUIwRDE5MjYxOTI2MjkyNjM5MjY0OTI2NTkyNjZEMkQ2Q0FFM0Q3QTU5MjY3Q0RCNkI2QjZCRkI5RDVEQjkyNjhCOEE3QzVENzkyNjk5MjZBOTI2QkRFRDJCRkQ5QzJENUM3QzA5MjZDQkJBNEIxQTg5MjZEOTI2RUM1RUE5MjZGOTI3MEM1RkJDQ0E3OTI3MTkyNzI5MjczOTI3NEIxQTc5Mjc1OTI3NjkyNzdCNUQ2OTI3ODkyNzk5MjdBQzRBODkyN0JERUQzRDFCQUIzRTk5MjdDQzNGMjkyN0Q5MjdFQjdGNzkyODBENkY0QjVBM0IyRjBDNEI0QzRFOUMwQURERUQ0OTI4MUIwRThDNUM0QzFFMDkyODJCOUQ1OTI4M0JFRENDREQ4QjBDRTkyODRDRENGREVENkJFRDBEN0JFREVENUQ1RDBCMEREOTI4NTkyODZDNEUyOTI4NzkyODhDMkEzQkNGMDkyODlEM0I1QzBCOUM1QTFCMkE2RDRGMTkyOEE5MjhCQzBBOENBQzNERUQ3RDVGQzkyOENCOUIwOTI4REM4QURDQkE5OTI4RURFRDlCRkJEOTI4RjkyOTA5MjkxOTI5MkM2QjREN0E3Q0FCMEM0QzM5MjkzQjNENkI5RDI5Mjk0OTI5NTkyOTY5Mjk3RDZCOEVBRkNCMEI0OTI5ODkyOTk5MjlBOTI5QkJGRTY5MjlDOTI5RENDRjQ5MjlFOTI5RjkyQTA5MkExQ0REQTkyQTI5MkEzOTJBNEQ2QkZDMkNFOTJBNUNFQ0VDQ0EyRDBBRUM0RDNCNUIyREVEOEQ1RjVCQ0I3QkJEMzkyQTY5MkE3QjBBNDkyQThDNUIyQjRFQzkyQTk5MkFBOTJBQkQ1RjE5MkFDOTJBREVBRkQ5MkFFOTJBRjkyQjA5MkIxOTJCMjkyQjNERURBQ0RBNjkyQjQ5MkI1Q0RFQzkyQjY5MkI3OTJCODkyQjlDRUU2REVEQzkyQkFDREIxQzBBNjkyQkI5MkJDRDdCRDkyQkRERURCQjBDNkJBQjRDOUQzQzRGM0JFRTg5MkJFOTJCRjkyQzA5MkMxQjJCNjkyQzI5MkMzOTJDNDkyQzU5MkM2OTJDNzkyQzg5MkM5QzBDQ0NCRjA5MkNBQkNGMUJCQkJCNUI3OTJDQjkyQ0M5MkNEQzVGNTkyQ0VERUU2OTJDRjkyRDA5MkQxREVFM0JFREQ5MkQyOTJEM0RFREY5MkQ0OTJENTkyRDY5MkQ3QjRCN0JEREQ5MkQ4OTJEOURFRTBDNEVEOTJEQTkyREI5MkRDOTJERENGQzY5MkRFQjVFMDkyREY5MkUwOTJFMTkyRTJCNkRFQ0FEQUI1RjRERUU1OTJFM0Q1QzY5MkU0REVFMUNDQ0RDNkZFOTJFNUM1QzU5MkU2OTJFNzkyRThEMkI0OTJFOUJFRjI5MkVBOTJFQjkyRUM5MkVEOTJFRTkyRUY5MkYwQzJEMzkyRjFDQ0JEQjNCODkyRjJCREQzOTJGM0JGRDhDREM2RDFEQUI0RUI5MkY0REVFNERFRERERUU3OTJGNUVBRkU5MkY2OTJGN0MyQjBERUUyOTJGODkyRjlENkMwQjVBNzkyRkFCMkY0OTJGQkRFRTg5MkZDREVGMjkyRkQ5MkZFOTM0MDkzNDE5MzQyREVFRDkzNDNERUYxOTM0NDkzNDVDOEUwOTM0NjkzNDc5MzQ4RDdFMURFRUZDM0U4Q0NFMTkzNDlCMkU1OTM0QTkzNEI5MzRDRDJCRTkzNEQ5MzRFOTM0RjkzNTA5MzUxOTM1MjkzNTNERUVFOTM1NERFRUJDRUQ1OTM1NUI0QTc5MzU2OTM1NzkzNTg5MzU5OTM1QUJGQUJCRUJFOTM1QjkzNUNCREQyOTM1RDkzNUU5MzVGOTM2MERFRTk5MzYxRDRBRTkzNjJERURFOTM2M0RFRUE5MzY0OTM2NTkzNjY5MzY3QzBCRjkzNjhERUVDQjJGM0I4RTlDMkE3OTM2OTkzNkFCREMxOTM2QjkzNkM5MzZEOTM2RTkzNkZERUY1REVGODkzNzA5MzcxQjJBQkI0QTQ5MzcyOTM3M0I0RUFDOUE2OTM3NDkzNzU5Mzc2OTM3NzkzNzg5Mzc5REVGNkNCRDE5MzdBQjhFMzkzN0JERUY3REVGQTkzN0M5MzdEOTM3RTkzODBERUY5OTM4MTkzODI5MzgzQ0NDMjkzODRCMEUxQjRFRTkzODU5Mzg2OTM4NzkzODg5Mzg5OTM4QUU1QkE5MzhCOTM4QzkzOEQ5MzhFOTM4RkQwQUY5MzkwOTM5MUIyRUI5MzkyRUJBMTkzOTNERUY0OTM5NDkzOTVDOUUzREVGM0IwREFEMkExQjFGNzkzOTZDQ0FGOTM5NzkzOTg5Mzk5OTM5QTkzOUI5MzlDOTM5RERFRjA5MzlFQ0JBNDkzOUY5M0EwOTNBMUQ1QUE5M0EyOTNBMzkzQTQ5M0E1OTNBNkRFRkI5M0E3OTNBODkzQTk5M0FBOTNBQjkzQUM5M0FEOTNBRUI0REQ5M0FGQzRBNjkzQjA5M0IxOTNCMkRFRkQ5M0IzOTNCNDkzQjU5M0I2OTNCNzkzQjg5M0I5OTNCQTkzQkI5M0JDQzNGRUM0QTFERkExOTNCRDkzQkU5M0JGOTNDMDkzQzE5M0MyOTNDM0MxQ0M5M0M0REVGQ0JFRUY5M0M1QzZCMjkzQzY5M0M3OTNDODkzQzk5M0NBOTNDQjkzQ0M5M0NEOTNDRUIzQzVDOEY2OTNDRjkzRDBDQkJBREVGRTkzRDE5M0QyREZBNDkzRDM5M0Q0OTNENTkzRDZEN0IyOTNENzkzRDg5M0Q5OTNEQTkzREJCM0I3OTNEQzkzREQ5M0RFOTNERkMxQzM5M0UwOTNFMUM3Q0JCMkE1QjRFOTkzRTJEN0FCOTNFMzkzRTQ5M0U1OTNFNkM0RUM5M0U3REZBMkRGQTM5M0U4REZBNTkzRTlCQUIzOTNFQTkzRUI5M0VDREZBNjkzRURDMERFOTNFRTkzRUZDOUMzOTNGMDkzRjE5M0YyOTNGMzkzRjQ5M0Y1OTNGNkIyRDlDN0U2OTNGN0RGQTc5M0Y4QzdEQzkzRjk5M0ZBOTNGQjkzRkNERkE4RUJBMjkzRkQ5M0ZFOTQ0MDk0NDE5NDQyQ0JEMzk0NDM5NDQ0OTQ0NURGQUE5NDQ2REZBOTk0NDdCMkMxOTQ0ODk0NDk5NDRBOTQ0Qjk0NEM5NDREOTQ0RTk0NEY5NDUwOTQ1MTk0NTI5NDUzOTQ1NDk0NTU5NDU2OTQ1Nzk0NTg5NDU5OTQ1QTk0NUI5NDVDOTQ1RDk0NUU5NDVGOTQ2MEM1Q0E5NDYxOTQ2Mjk0NjM5NDY0OTQ2NTk0NjY5NDY3OTQ2OERGQUI5NDY5OTQ2QTk0NkI5NDZDOTQ2RDk0NkU5NDZGOTQ3MEQ0REM5NDcxOTQ3Mjk0NzM5NDc0OTQ3NUM4QzE5NDc2OTQ3Nzk0Nzg5NDc5OTQ3QTk0N0I5NDdDOTQ3RDk0N0U5NDgwOTQ4MTk0ODJERkFDOTQ4Mzk0ODQ5NDg1OTQ4Njk0ODdCRUYwOTQ4ODk0ODlERkFERDZBNzk0OEE5NDhCOTQ4Qzk0OERFQUI3RUJCNkNBRDU5NDhFRDhGQ0I4QzQ5NDhGQjlBNTk0OTA5NDkxQjdDNUQ1RkU5NDkyOTQ5Mzk0OTQ5NDk1OTQ5NkI5Q0E5NDk3OTQ5OEQwQTdGNENEOTQ5OTk0OUFCNUQwOTQ5Qjk0OUNDM0Y0OTQ5REJFQzg5NDlFOTQ5Rjk0QTBFQkI3QjBCRDk0QTE5NEEyQkRDQzk0QTNDMUIyOTRBNEIxRDZCM0E4OTRBNTk0QTY5NEE3QjhEMkM5QTI5NEE4OTRBOUI2RDg5NEFBOTRBQjk0QUM5NEFERUJCOEJFQjQ5NEFFOTRBRjk0QjBDQUZEOTRCMUM3QzM5NEIyRDVGQjk0QjM5NEI0QjdGMzk0QjU5NEI2OTRCNzk0Qjg5NEI5OTRCQTk0QkI5NEJDOTRCRDk0QkU5NEJGOTRDMDk0QzE5NEMyOTRDM0NFQzQ5NEM0OTRDNTk0QzZENUFCQjFGMzk0Qzc5NEM4OTRDOUVDQjNCMERGOTRDQUVDQjU5NENCOTRDQzk0Q0RCNkI3OTRDRUMxQ0Y5NENGRjVGQUQwQjE5NEQwOTREMUQ1RTU5NEQyQ0VEMzk0RDM5NEQ0QkRFRkIzRTI5NEQ1QjhBQjk0RDZENUI2OTREN0VEQkQ5NEQ4QjZDRjk0RDlDQkI5RDBDMjk0REE5NERCOTREQzk0REQ5NERFOTRERjk0RTA5NEUxQjdCRDk0RTI5NEUzRUNCNkNBQTk5NEU0OTRFNTk0RTZDNUQ0OTRFN0VDQjlFQ0I4QzJDM0VDQjc5NEU4OTRFOTk0RUE5NEVCRDBGREVDQkE5NEVDRUNCQkQ3RTU5NEVEOTRFRUVDQkM5NEVGOTRGMDk0RjFFQ0JEQzZFQzk0RjI5NEYzOTRGNDk0RjU5NEY2OTRGNzk0Rjg5NEY5Q0VERTk0RkFCQ0M4OTRGQjk0RkNDOEQ1QjVBOUJFQzlENkJDRDRFNzk0RkQ5NEZFRDFBRUQwRjFFQUI4RUFCOUVBQkFCQUI1OTU0MDk1NDE5NTQyOTU0M0NBQjFCRkY1OTU0NDk1NDVDREZBOTU0Njk1NDc5NTQ4OTU0OTk1NEFFQUMwOTU0QkIwQkFFQUJFOTU0Qzk1NERDMEE1OTU0RTk1NEY5NTUwRUFCQjk1NTFCMkZEOTU1MkMzRjdCQkU4OTU1Mzk1NTQ5NTU1RDJEN0NFRjRFQUJGOTU1Njk1NTc5NTU4RUFCQzk1NTk5NTVBOTU1QkVBQzM5NTVDRDBDN0QzQjM5NTVEOTU1RTk1NUY5NTYwQjRCQTk1NjFDM0MxRDdGMjk1NjI5NTYzOTU2NDk1NjVENUQxOTU2NkNBQzc5NTY3RUFDNTk1Njg5NTY5RUFDNEVBQzdFQUM2OTU2QTk1NkI5NTZDOTU2RDk1NkVENkU3OTU2RkNGRDQ5NTcwOTU3MUVBQ0I5NTcyQkJDRTk1NzM5NTc0OTU3NTk1NzY5NTc3OTU3ODk1NzlCREZBQzlDRTk1N0E5NTdCRUFDQzk1N0M5NTdEQzlCOUNGRkVFQUNBRDRDRUVBQ0RFQUNGOTU3RTk1ODBDREVEOTU4MTk1ODI5NTgzOTU4NEVBQzk5NTg1RUFDRTk1ODY5NTg3Q0VFRTk1ODhCQkRFOTU4OUIzQkY5NThBOTU4Qjk1OEM5NThEOTU4RUM2RDVCRUIwQ0VGQTk1OEY5NTkwOTU5MUM3RTc5NTkyQkVBN0VBRDA5NTkzOTU5NEQ2Qzc5NTk1OTU5Njk1OTdDMUMwOTU5ODk1OTk5NTlBRDRERDk1OUJFQUQxOTU5Qzk1OURDRkJFOTU5RTk1OUY5NUEwOTVBMUVBRDI5NUEyOTVBMzk1QTQ5NUE1Q0FFRTk1QTY5NUE3OTVBODk1QTlDNUFGQjBCNTk1QUE5NUFCOTVBQzk1QUQ5NUFFRUFENDk1QUY5NUIwOTVCMTk1QjI5NUIzOTVCNDk1QjU5NUI2OTVCN0VBRDNGNERGOTVCODk1Qjk5NUJBOTVCQjk1QkNDNEJBOTVCRDk1QkU5NUJGOTVDMDk1QzFCMUE5OTVDMjk1QzM5NUM0OTVDNUU1REY5NUM2OTVDNzk1Qzg5NUM5RUFENTk1Q0E5NUNCOTVDQzk1Q0Q5NUNFOTVDRjk1RDA5NUQxOTVEMjk1RDM5NUQ0OTVENTk1RDY5NUQ3OTVEODk1RDk5NURBOTVEQjk1REM5NUREOTVERTk1REY5NUUwOTVFMTk1RTI5NUUzQ0FFRjk1RTRFQUQ2RUFEN0M2RDg5NUU1OTVFNjk1RTc5NUU4OTVFOTk1RUE5NUVCOTVFQ0VBRDg5NUVEOTVFRUVBRDk5NUVGOTVGMDk1RjE5NUYyOTVGMzk1RjRENEJCOTVGNUM3RkFEMkI3QjhGQzk1RjY5NUY3RUFDMjk1RjhCMkRDOTVGOTk1RkFDMkZDOTVGQkQ0RjhDQ0U2RDdFRTk1RkM5NUZEOTVGRTk2NDA5NjQxOTY0Mjk2NDNENEMyRDNEMEVCQzNDNUYzOTY0NEI3RkU5NjQ1OTY0NkVCRDQ5NjQ3OTY0ODk2NDlDQkI3RUJERTk2NEFDMENBOTY0Qjk2NEM5NjREQ0RGQjk2NEVCM0FGOTY0RkM2REE5NjUwOTY1MTk2NTI5NjUzOTY1NDk2NTVFQkZDOTY1NkM0QkU5NjU3Q0VCNEM0QTlCMUJFRDRGRDk2NThDQUY1OTY1OUQ2RUM5NjVBOTY1QkM2RDNCNkU0OTY1Qzk2NUQ5NjVFOTY1RkJCRkE5NjYwOTY2MUQwRTA5NjYyOTY2M0M5QjE5NjY0RDREM0M4QTg5NjY1OTY2NkI4Q0I5NjY3RThCRUM5QkM5NjY4OTY2OUU4QkI5NjZBQzBFRUQwRDNCMkM0QjRFNTk2NkJFOEJDOTY2Qzk2NkRENUM4OTY2RTk2NkY5NjcwOTY3MTk2NzJCNkM1OTY3M0U4QkRDQUY4QjhEQ0NDRjU5Njc0OTY3NTk2NzZDMEI0OTY3Nzk2NzhEMUVFRThCRkU4QzI5Njc5OTY3QUJBQkM5NjdCQjFBREJEREM5NjdDRUFCREU4QzM5NjdERThDNjk2N0VFOENCOTY4MDk2ODE5NjgyOTY4M0U4Q0M5Njg0Q0JDOUIwRTU5Njg1QkNBQjk2ODY5Njg3QjlCOTk2ODg5Njg5RThDMTk2OEFDREY3OTY4QkU4Q0E5NjhDOTY4RDk2OEU5NjhGQ0VGNjk2OTA5NjkxOTY5Mjk2OTNENUVEOTY5NEMxRDZFOEM0OTY5NUMzQjY5Njk2QjlGQkQ2QTZFOEM4OTY5Nzk2OTg5Njk5Q0FFMEQ0RTY5NjlBRThDMDk2OUJFOEM1RThDNzk2OUNDN0I5QjdFMzk2OURFOEM5OTY5RUJGRERFOEQyOTY5Rjk2QTBFOEQ3OTZBMUU4RDVCQ0RDQkNDRkU4REI5NkEyOTZBMzk2QTQ5NkE1OTZBNjk2QTc5NkE4OTZBOUU4REU5NkFBRThEQUIxRkE5NkFCOTZBQzk2QUQ5NkFFOTZBRjk2QjA5NkIxOTZCMjk2QjM5NkI0QjBEOEM0QjNCOENDQzZFMkM4QkVDOEUxOTZCNTk2QjY5NkI3RThDRkU4RDRFOEQ2OTZCOEI5RjFFOEQ4RDdGNTk2QjlDNEZCOTZCQUU4REM5NkJCOTZCQ0IyRTk5NkJEOTZCRTk2QkZFOEQxOTZDMDk2QzFCQ0VEOTZDMjk2QzNCRkMyRThDREQ2Rjk5NkM0QzFGOEIyRjE5NkM1OTZDNjk2Qzc5NkM4OTZDOTk2Q0E5NkNCOTZDQ0U4REY5NkNEQ0FDMUU4RDk5NkNFOTZDRjk2RDA5NkQxRDVBNDk2RDJCMUVBRDVCQkU4Q0VFOEQwQjZCMEU4RDM5NkQzRThEREMwQjg5NkQ0Q0FGNzk2RDVDQkE4OTZENjk2RDdDNkRDQzBGNTk2RDg5NkQ5OTZEQTk2REI5NkRDRThFOTk2REQ5NkRFOTZERkQwQTM5NkUwOTZFMTk2RTI5NkUzOTZFNDk2RTU5NkU2RThGMkQ2RUE5NkU3OTZFODk2RTk5NkVBOTZFQjk2RUM5NkVERThFMEU4RTE5NkVFOTZFRjk2RjBEMUY5QkFDQkI4Rjk5NkYxOTZGMkI4RjFENEQ0RThFRjk2RjNFOEVFRThFQ0I5RjBDQ0QyRThFNkNFQTZCRkYyOTZGNEIwQjhFOEYxRThGMDk2RjVEN0MwOTZGNkU4RTQ5NkY3Q0RBOUM5QTM5NkY4QkJCOEJEREJFOEVBOTZGOTk2RkE5NkZCOTZGQzk2RkQ5NkZFOTc0MDk3NDE5NzQyOTc0M0U4RTJFOEUzRThFNUI1QjVFOEU3QzdDNUU4RUJFOEVEQkRCMEQ3QUU5NzQ0RThGODk3NDU5NzQ2OTc0Nzk3NDg5NzQ5OTc0QTk3NEI5NzRDRThGNTk3NERDREIwRThGNjk3NEU5NzRGOTc1MDk3NTE5NzUyOTc1Mzk3NTQ5NzU1OTc1NkMxQkE5NzU3RThFODk3NThDM0I3QjBGMDk3NTk5NzVBOTc1Qjk3NUM5NzVEOTc1RTk3NUY5NzYwRThGNDk3NjE5NzYyOTc2M0U4Rjc5NzY0OTc2NTk3NjZCOUEzOTc2Nzk3Njg5NzY5OTc2QTk3NkI5NzZDOTc2RDk3NkU5NzZGOTc3MEM5RDI5NzcxOTc3Mjk3NzNDM0NFQ0VFMEMwRTY5Nzc0OTc3NTk3NzY5Nzc3Q0JGMzk3NzhDQ0RERDBCNTk3Nzk5NzdBQ0FFMTk3N0JFOEYzOTc3Qzk3N0Q5NzdFOTc4MDk3ODE5NzgyOTc4Mzk3ODQ5Nzg1OTc4NkJDRUM5Nzg3RThGOTk3ODg5Nzg5OTc4QTk3OEI5NzhDOTc4REMzREU5NzhFQzZFNTk3OEZCOUY3OTc5MDk3OTE5NzkyOTc5M0IwRjQ5Nzk0OTc5NUQ3RDg5Nzk2OTc5N0JDQUM5Nzk4QzVFRjk3OTk5NzlBOTc5Qjk3OUM5NzlEQ0NDNDk3OUU5NzlGRTlBNjk3QTA5N0ExOTdBMjk3QTM5N0E0OTdBNTk3QTY5N0E3OTdBODk3QTlDOUFEOTdBQUU5QTJDMEUyOTdBQjk3QUM5N0FEQkZDMzk3QUU5N0FGOTdCMEU4RkVCOUQ3OTdCMUU4RkI5N0IyOTdCMzk3QjQ5N0I1RTlBNDk3QjY5N0I3OTdCOEQyQ0U5N0I5OTdCQTk3QkI5N0JDOTdCREU5QTM5N0JFRDZCMkQ3QjU5N0JGRTlBNzk3QzBCREI3OTdDMTk3QzI5N0MzOTdDNDk3QzU5N0M2OTdDNzk3Qzg5N0M5OTdDQTk3Q0I5N0NDRThGQ0U4RkQ5N0NEOTdDRTk3Q0ZFOUExOTdEMDk3RDE5N0QyOTdEMzk3RDQ5N0Q1OTdENjk3RDdDREQ2OTdEODk3RDlEMkFDOTdEQTk3REI5N0RDRTlCMjk3REQ5N0RFOTdERjk3RTBFOUE5OTdFMTk3RTI5N0UzQjRBQTk3RTRCNEJCOTdFNTk3RTZFOUFCOTdFNzk3RTg5N0U5OTdFQTk3RUI5N0VDOTdFRDk3RUU5N0VGOTdGMDk3RjE5N0YyOTdGMzk3RjQ5N0Y1OTdGNjk3RjdEMEE4OTdGODk3RjlFOUE1OTdGQTk3RkJCM0ZFOTdGQzk3RkRFOUFDQzBFMzk3RkVFOUFBOTg0MDk4NDFFOUI5OTg0Mjk4NDNFOUI4OTg0NDk4NDU5ODQ2OTg0N0U5QUU5ODQ4OTg0OUU4RkE5ODRBOTg0QkU5QTg5ODRDOTg0RDk4NEU5ODRGOTg1MEJGQUNFOUIxRTlCQTk4NTE5ODUyQzJBNTk4NTM5ODU0OTg1NUU5QUY5ODU2QjhDNTk4NTdFOUFEOTg1OEQzRENFOUI0RTlCNUU5Qjc5ODU5OTg1QTk4NUJFOUM3OTg1Qzk4NUQ5ODVFOTg1Rjk4NjA5ODYxQzBDNkU5QzU5ODYyOTg2M0U5QjA5ODY0OTg2NUU5QkJCMEYxOTg2Njk4Njc5ODY4OTg2OTk4NkE5ODZCOTg2Qzk4NkQ5ODZFOTg2RkU5QkNENUE1OTg3MDk4NzFFOUJFOTg3MkU5QkY5ODczOTg3NDk4NzVFOUMxOTg3Njk4NzdDMUYxOTg3ODk4NzlDOEI2OTg3QTk4N0I5ODdDRTlCRDk4N0Q5ODdFOTg4MDk4ODE5ODgyRTlDMjk4ODM5ODg0OTg4NTk4ODY5ODg3OTg4ODk4ODk5ODhBRTlDMzk4OEJFOUIzOTg4Q0U5QjY5ODhEQkJCMTk4OEU5ODhGOTg5MEU5QzA5ODkxOTg5Mjk4OTM5ODk0OTg5NTk4OTZCQ0Y3OTg5Nzk4OTg5ODk5RTlDNEU5QzY5ODlBOTg5Qjk4OUM5ODlEOTg5RTk4OUY5OEEwOThBMTk4QTI5OEEzOThBNDk4QTVFOUNBOThBNjk4QTc5OEE4OThBOUU5Q0U5OEFBOThBQjk4QUM5OEFEOThBRTk4QUY5OEIwOThCMTk4QjI5OEIzQjJEQjk4QjRFOUM4OThCNTk4QjY5OEI3OThCODk4Qjk5OEJBOThCQjk4QkM5OEJEOThCRUI3QUU5OEJGOThDMDk4QzE5OEMyOThDMzk4QzQ5OEM1OThDNjk4Qzc5OEM4OThDOTk4Q0FFOUNCRTlDQzk4Q0I5OENDOThDRDk4Q0U5OENGOThEMEQ1QzE5OEQxQzRBMzk4RDI5OEQzOThENDk4RDU5OEQ2OThEN0U5RDg5OEQ4QkFFMTk4RDk5OERBOThEQjk4RENFOUM5OThEREQzQTM5OERFOThERjk4RTBFOUQ0OThFMTk4RTI5OEUzOThFNDk4RTU5OEU2OThFN0U5RDdFOUQwOThFODk4RTk5OEVBOThFQjk4RUNFOUNGOThFRDk4RUVDN0MxOThFRjk4RjA5OEYxOThGMjk4RjM5OEY0OThGNTk4RjZFOUQyOThGNzk4Rjg5OEY5OThGQTk4RkI5OEZDOThGREU5RDlCM0M4OThGRUU5RDM5OTQwOTk0MTk5NDI5OTQzOTk0NENGRjA5OTQ1OTk0Njk5NDdFOUNEOTk0ODk5NDk5OTRBOTk0Qjk5NEM5OTREOTk0RTk5NEY5OTUwOTk1MTk5NTJCM0Y3OTk1Mzk5NTQ5OTU1OTk1Njk5NTc5OTU4OTk1OUU5RDY5OTVBOTk1QkU5REE5OTVDOTk1RDk5NUVDQ0I0OTk1Rjk5NjA5OTYxQ0ZBRDk5NjI5OTYzOTk2NDk5NjU5OTY2OTk2Nzk5Njg5OTY5OTk2QUU5RDU5OTZCRTlEQ0U5REI5OTZDOTk2RDk5NkU5OTZGOTk3MEU5REU5OTcxOTk3Mjk5NzM5OTc0OTk3NTk5NzY5OTc3OTk3OEU5RDE5OTc5OTk3QTk5N0I5OTdDOTk3RDk5N0U5OTgwOTk4MUU5REQ5OTgyRTlERkMzQ0E5OTgzOTk4NDk5ODU5OTg2OTk4Nzk5ODg5OTg5OTk4QTk5OEI5OThDOTk4RDk5OEU5OThGOTk5MDk5OTE5OTkyOTk5Mzk5OTQ5OTk1OTk5Njk5OTc5OTk4OTk5OTk5OUE5OTlCOTk5Qzk5OUQ5OTlFOTk5Rjk5QTA5OUExOTlBMjk5QTM5OUE0OTlBNTk5QTY5OUE3OTlBODk5QTk5OUFBOTlBQjk5QUM5OUFEOTlBRTk5QUY5OUIwOTlCMTk5QjI5OUIzOTlCNDk5QjU5OUI2OTlCNzk5Qjg5OUI5OTlCQTk5QkI5OUJDOTlCRDk5QkU5OUJGOTlDMDk5QzE5OUMyOTlDMzk5QzQ5OUM1OTlDNjk5Qzc5OUM4OTlDOTk5Q0E5OUNCOTlDQzk5Q0Q5OUNFOTlDRjk5RDA5OUQxOTlEMjk5RDM5OUQ0OTlENTk5RDY5OUQ3OTlEODk5RDk5OURBOTlEQjk5REM5OUREOTlERTk5REY5OUUwOTlFMTk5RTI5OUUzOTlFNDk5RTU5OUU2OTlFNzk5RTg5OUU5OTlFQTk5RUI5OUVDOTlFRDk5RUU5OUVGOTlGMDk5RjE5OUYyOTlGMzk5RjQ5OUY1QzdCN0I0Q0VCQkI2RDBDMEVDQTM5OUY2OTlGN0M1Qjc5OUY4OTlGOTk5RkE5OUZCOTlGQzk5RkQ5OUZFOUE0MDlBNDE5QTQyRDNGQjlBNDM5QTQ0OUE0NTlBNDZFQ0E0OUE0N0VDQTVDNkRCOUE0ODlBNDk5QTRBQkZFRTlBNEI5QTRDOUE0RDlBNEVFQ0E2OUE0RjlBNTBFQ0E3RDBBQTlBNTFDN0I4OUE1MjlBNTNCOEU4OUE1NDlBNTU5QTU2OUE1NzlBNTg5QTU5OUE1QTlBNUI5QTVDOUE1RDlBNUU5QTVGRUNBODlBNjA5QTYxOUE2MjlBNjM5QTY0OUE2NTlBNjY5QTY3RDZCOUQ1RkRCNENCQjJCRENFRTRDNkU3OUE2ODlBNjlDREUxOUE2QTlBNkI5QTZDOUE2RDlBNkU5QTZGOUE3MDlBNzE5QTcyOUE3MzlBNzQ5QTc1OUE3NjlBNzdCNEY1OUE3OENCQzBCQ0RGOUE3OTlBN0E5QTdCOUE3Q0U5RTJFOUUzRDFFQUU5RTU5QTdEQjRGOUU5RTQ5QTdFRDFCM0NBRTJCMkQwOUE4MEU5RTg5QTgxOUE4MjlBODM5QTg0RTlFNkU5RTc5QTg1OUE4NkQ2QjM5QTg3OUE4ODlBODlFOUU5RTlFQTlBOEE5QThCOUE4QzlBOEQ5QThFRTlFQjlBOEY5QTkwOUE5MTlBOTI5QTkzOUE5NDlBOTU5QTk2RTlFQzlBOTc5QTk4OUE5OTlBOUE5QTlCOUE5QzlBOUQ5QTlFRUNBRkM1QjlCNkNFOUE5RkQyRjM5QUEwOUFBMTlBQTI5QUEzOUFBNDlBQTU5QUE2QjVFRTlBQTdCQkQ5RUNCMTlBQTg5QUE5RDJFMzlBQUE5QUFCOUFBQzlBQUQ5QUFFQ0VFMzlBQUZDNEI4OUFCMEMzQkY5QUIxOUFCMkI2QkVEOEI5QjFDOEIxQ0ZCMUQxQzVGRTlBQjNCMUQwOUFCNEMzQUI5QUI1OUFCNjlBQjc5QUI4OUFCOUQ1QjE5QUJBOUFCQjlBQkM5QUJEOUFCRTlBQkY5QUMwOUFDMUVCQTRCQUMxOUFDMjlBQzM5QUM0Q0NCQTlBQzU5QUM2OUFDN0VCQTU5QUM4RUJBNzlBQzk5QUNBOUFDQkVCQTg5QUNDOUFDRDlBQ0VFQkE2OUFDRjlBRDA5QUQxOUFEMjlBRDM5QUQ0OUFENUVCQTlFQkFCRUJBQTlBRDY5QUQ3OUFEODlBRDk5QURBRUJBQzlBREJDQUNGRDhCNUMzRjE5QURDQzNBNUM2RjhFQkFEQzRDQTlBRERFQkFFRUJBRkVCQjBCN0Q1OUFERTlBREY5QUUwQjdGQTlBRTFFQkIxQzdFMjlBRTJFQkIzOUFFM0JBQTREMUY1QjBCMUVCQjJFQkI0OUFFNDlBRTU5QUU2QjVBQUMyQzhDN0U4OUFFN0VCQjU5QUU4Q0JBRUUzREY5QUU5OUFFQUQzQzA5QUVCOUFFQzlBRUQ5QUVFRDlEQjlBRUY5QUYwQ0RBMUQ2QURDN0YzOUFGMTlBRjI5QUYzRDlFMEJCRTM5QUY0QkFCQUUzRTI5QUY1OUFGNjlBRjc5QUY4OUFGOUNGQUI5QUZBOUFGQjlBRkNFM0UwQzlDNzlBRkRCQUI5OUFGRTlCNDA5QjQxRDFCNEUzRTFDOEVBQjlBRkJEQURCM0Q4Q0VEQjlCNDI5QjQzQ0NDMDlCNDQ5QjQ1OUI0NkUzRThFM0U5Q0RGNDlCNDc5QjQ4OUI0OTlCNEE5QjRCQ0NBRDlCNENCQ0IzOUI0REUzRUE5QjRFRTNFQjlCNEY5QjUwRDBEQTlCNTE5QjUyOUI1M0M2RkJCN0RBOUI1NDlCNTVDN0RGRDJDQUNFRDY5QjU2RTNFNEUzRUM5QjU3QzlGMkIzQzE5QjU4OUI1OUUzRTc5QjVBOUI1QkM2RTNFM0U1OUI1QzlCNURFREIzRTNFNjlCNUU5QjVGOUI2MDlCNjFDOUIzOUI2MkM1RTY5QjYzOUI2NDlCNjVCOUI1OUI2NkMzQkI5QjY3RTNFM0M1QkRDMUE0QzJEOUIyRDc5QjY4RTNFREJCQTZDNEFEOUI2OUUzRjBCRURBOUI2QTlCNkJFM0ZCRTNGNUJBRDM5QjZDOUI2RDlCNkU5QjZGQjdEMEQzQ0Q5QjcwRDZDRUQ1RDNCOUMxRDVCNEQxRDg5QjcxOUI3MjlCNzM5Qjc0RDBCOUM3RjY5Qjc1OUI3NjlCNzdDOEFBQjJCNDlCNzhDM0RBOUI3OTlCN0E5QjdCRTNFRTlCN0M5QjdERTNGQ0UzRUZCN0E4RTNGN0UzRjQ5QjdFOUI4MDlCODFCN0JBOUI4MjlCODNDNUEyOUI4NEUzRjZDNUREQjJBOEM2RkM5Qjg1QzRFMDlCODY5Qjg3RDdBMjlCODhDMEUxRTNGOTlCODk5QjhBRTNGQUUzRkRDQ0E5RTNGMzlCOEJEM0JFOUI4Q0IxQzNFREI0RTNGMUUzRjI5QjhERTNGOEQwQkFDNkMzRDRGM0UzRkU5QjhFOUI4RkJERTA5QjkwOUI5MUU0QTc5QjkyOUI5M0U0QTY5Qjk0OUI5NTlCOTZEMUYzRTRBMzlCOTdFNEE5OUI5ODlCOTk5QjlBQzhGNzlCOUI5QjlDOUI5RDlCOUVDRkI0OUI5RkU0QThFNEFFQzJFNTlCQTA5QkExQjZCNDlCQTI5QkEzOUJBNDlCQTU5QkE2OUJBN0JERjI5QkE4RTRBMjlCQTk5QkFBQkFFOUU0QUE5QkFCOUJBQ0U0QUM5QkFEOUJBRUI2RkRENkRFRTRCMjlCQUZFNEFEOUJCMDlCQjE5QkIyRTRBMTlCQjNCQkVFQ0REREM3QTJDNUM5OUJCNDlCQjVDMUY3OUJCNkU0QTQ5QkI3QzdCM0JEQUNCREJERTRBNTlCQjhEN0M3QjJFMjlCQjlFNEFCQkNDM0U0QUY5QkJBQkJFQkU0QjBDNUE4RTRCMTlCQkI5QkJDOUJCRDlCQkVENUUzQkZBMzlCQkZFNEJBOUJDMEU0Qjc5QkMxRTRCQjlCQzI5QkMzRTRCRDlCQzQ5QkM1QzZENjlCQzY5QkM3QkFDNkMwQ0I5QkM4OUJDOTlCQ0FCOEExRTRCNDlCQ0I5QkNDOUJDRDlCQ0VENEExOUJDRjlCRDBCQUEzQkRGRTlCRDE5QkQyOUJEM0U0QkM5QkQ0OUJENTlCRDY5QkQ3OUJEOENEQkY5QkQ5OUJEQUM0Rjk5QkRCOUJEQ0NGRkJDOUU2OUJERDlCREVEM0JGOUJERkNGRDE5QkUwOUJFMUU0QjM5QkUyRTRCOEU0QjlDQ0U5OUJFMzlCRTQ5QkU1OUJFNjlCRTdDQ0NFOUJFOEMwRDRFNEI1QzFCMEU0QjZDRUQwOUJFOUJCQzFCNUQzOUJFQUM4RjNCREE3RDVDN0M5QUNCOEEyRTRDQTlCRUI5QkVDRTRDQ0QxQzQ5QkVEOUJFRUQyQkE5QkVGOUJGMEJBQUQ5QkYxOUJGMkJBRDQ5QkYzOUJGNDlCRjU5QkY2OUJGNzlCRjhFNEMzQjVFRDlCRjk5QkZBOUJGQkQ3Q0RFNEMwQ0ZGREU0QkY5QkZDOUJGRDlCRkVDMURDQ0NDQTlDNDA5QzQxOUM0MjlDNDNDQUU3OUM0NDlDNDU5QzQ2OUM0N0M0RDc5QzQ4Q0NENEU0Qzg5QzQ5OUM0QTlDNEJFNEM3RTRDMTlDNENFNEM0QjVBRDlDNEQ5QzRFRDNEOTlDNEZFNEM2OUM1MDlDNTE5QzUyOUM1M0QyRjlCNEUzOUM1NEJCQjQ5QzU1OUM1NkM5RUU5QzU3QjRCRTlDNTg5QzU5OUM1QUJCRUM5QzVCRDFDRDlDNUNDQ0VERURCNTlDNUQ5QzVFOUM1RjlDNjA5QzYxOUM2MjlDNjM5QzY0QzdFNTlDNjU5QzY2OUM2NzlDNjhENEE4OUM2OUU0Q0JEN0Q1RTRDMjlDNkFCREE1RTRDNTlDNkI5QzZDRDNFNjlDNkRFNEM5QzlGODlDNkU5QzZGRTRCRTlDNzA5QzcxRDNFNTlDNzI5QzczQzdGRUI2Qzk5Qzc0RDRGQ0IyQjNFNEQ3OUM3NTlDNzY5Qzc3Q0VDMjlDNzhFNENEOUM3OUNFQkM5QzdBQjhEQjlDN0I5QzdDRTRENjlDN0RCRkNBOUM3RTlDODA5QzgxRDNDRTlDODJDM0VDOUM4MzlDODQ5Qzg1OUM4NjlDODc5Qzg4OUM4OTlDOEFDNUM4RTREODlDOEI5QzhDOUM4RDlDOEU5QzhGOUM5MDlDOTE5QzkyQ0RDNEU0Q0Y5QzkzOUM5NDlDOTU5Qzk2RTRENEU0RDU5Qzk3QkFGRTlDOThDRkU2OUM5OTlDOUFENUJGOUM5QjlDOUM5QzlERTREMjlDOUU5QzlGOUNBMDlDQTE5Q0EyOUNBMzlDQTQ5Q0E1OUNBNjlDQTc5Q0E4RTREMDlDQTk5Q0FBRTRDRTlDQUI5Q0FDOUNBRDlDQUU5Q0FGOUNCMDlDQjE5Q0IyOUNCMzlDQjQ5Q0I1OUNCNjlDQjc5Q0I4OUNCOUNERTVDQUFBOUNCQTlDQkI5Q0JDQzBBMzlDQkRCREE2RTREMzlDQkU5Q0JGQjhDODlDQzA5Q0MxOUNDMjlDQzM5Q0M0RTRFN0Q0QjQ5Q0M1OUNDNjlDQzc5Q0M4OUNDOTlDQ0E5Q0NCRTREQjlDQ0M5Q0NEOUNDRUMxRUY5Q0NGOUNEMEU0RTk5Q0QxOUNEMkQyRTc5Q0QzOUNENEU0REY5Q0Q1RTRFMDlDRDY5Q0Q3Q0ZBQTlDRDg5Q0Q5OUNEQTlDREJDQkREOUNEQ0U0REFFNEQxOUNEREU0RTU5Q0RFQzhEQ0U0RTM5Q0RGOUNFMEM0RTdFNEUyOUNFMUU0RTE5Q0UyOUNFMzlDRTRCM0ZDRTRFODlDRTU5Q0U2OUNFNzlDRThCNUUxOUNFOTlDRUE5Q0VCRDdDQzlDRUM5Q0VEOUNFRUU0RTY5Q0VGQkJBQzlDRjBEN0QyQ0NDRkVCRjg5Q0YxRTRFNDlDRjI5Q0YzQjlGNjlDRjQ5Q0Y1OUNGNkQ2Q0RFNEQ5RTREQ0MyRkFFNERFOUNGN0MyQ0JDMEM0QzJEMDlDRjhCMUY1Q0NCMjlDRjk5Q0ZBOUNGQjlDRkM5Q0ZEOUNGRTlENDA5RDQxOUQ0MjlENDNCNUNFOUQ0NDlENDU5RDQ2OUQ0N0U0RUY5RDQ4OUQ0OTlENEE5RDRCOUQ0QzlENEQ5RDRFOUQ0RkM2QUY5RDUwOUQ1MTlENTJDNkUxOUQ1MzlENTRFNEY1OUQ1NTlENTY5RDU3OUQ1ODlENTlDMkE5OUQ1QTlENUI5RDVDQzBFQ0QxRERFNEVFOUQ1RDlENUU5RDVGOUQ2MDlENjE5RDYyOUQ2MzlENjQ5RDY1OUQ2NkM0QUU5RDY3OUQ2ODlENjlFNEVEOUQ2QTlENkI5RDZDOUQ2REU0RjZFNEY0QzJGRTlENkVFNEREOUQ2RkU0RjA5RDcwQ0FGRTlENzFENUM0OUQ3MjlENzNFNEYxOUQ3NDlENzU5RDc2OUQ3NzlENzg5RDc5OUQ3QUQxRkE5RDdCOUQ3QzlEN0Q5RDdFOUQ4MDlEODE5RDgyRTRFQkU0RUM5RDgzOUQ4NDlEODVFNEYyOUQ4NkNFQUI5RDg3OUQ4ODlEODk5RDhBOUQ4QjlEOEM5RDhEOUQ4RTlEOEY5RDkwQzVDQjlEOTE5RDkyOUQ5M0M3QjE5RDk0QzJCQTlEOTU5RDk2OUQ5N0U0RUE5RDk4OUQ5OTlEOUFDMUNBOUQ5QjlEOUM5RDlEOUQ5RTlEOUY5REEwQ0NCNkIzQjE5REExOURBMjlEQTNFNEZCOURBNEU0RjM5REE1OURBNjlEQTdFNEZBOURBOEU0RkQ5REE5RTRGQzlEQUE5REFCOURBQzlEQUQ5REFFOURBRjlEQjBCM0NFOURCMTlEQjI5REIzQjNCQUU0Rjc5REI0OURCNUU0RjlFNEY4QzVFQzlEQjY5REI3OURCODlEQjk5REJBOURCQjlEQkM5REJEOURCRTlEQkY5REMwOURDMTlEQzJDMEJEOURDMzlEQzQ5REM1OURDNkQ0RTg5REM3OURDODlEQzk5RENBOURDQkU1QTI5RENDOURDRDlEQ0U5RENGOUREMDlERDE5REQyOUREMzlERDQ5REQ1OURENkIwQzQ5REQ3OUREOEU1QTQ5REQ5OUREQUU1QTM5RERCOUREQzlEREQ5RERFOURERjlERTBCQ0E0OURFMUU1QTU5REUyOURFMzlERTQ5REU1OURFNjlERTdFNUExOURFODlERTk5REVBOURFQjlERUM5REVEOURFRUU0RkVCMUY0OURFRjlERjA5REYxOURGMjlERjM5REY0OURGNTlERjY5REY3OURGODlERjlFNUE4OURGQUU1QTlFNUE2OURGQjlERkM5REZEOURGRTlFNDA5RTQxOUU0MjlFNDM5RTQ0OUU0NTlFNDY5RTQ3RTVBN0U1QUE5RTQ4OUU0OTlFNEE5RTRCOUU0QzlFNEQ5RTRFOUU0RjlFNTA5RTUxOUU1MjlFNTM5RTU0OUU1NTlFNTY5RTU3OUU1ODlFNTk5RTVBOUU1QjlFNUM5RTVEOUU1RTlFNUY5RTYwOUU2MTlFNjI5RTYzOUU2NDlFNjU5RTY2OUU2NzlFNjhDNkQ5OUU2OTlFNkE5RTZCOUU2QzlFNkQ5RTZFOUU2RjlFNzBFNUFCRTVBRDlFNzE5RTcyOUU3MzlFNzQ5RTc1OUU3NjlFNzdFNUFDOUU3ODlFNzk5RTdBOUU3QjlFN0M5RTdEOUU3RTlFODA5RTgxOUU4MjlFODM5RTg0OUU4NTlFODY5RTg3OUU4ODlFODlFNUFGOUU4QTlFOEI5RThDRTVBRTlFOEQ5RThFOUU4RjlFOTA5RTkxOUU5MjlFOTM5RTk0OUU5NTlFOTY5RTk3OUU5ODlFOTk5RTlBOUU5QjlFOUM5RTlEOUU5RUI5RTA5RTlGOUVBMEU1QjA5RUExOUVBMjlFQTM5RUE0OUVBNTlFQTY5RUE3OUVBODlFQTk5RUFBOUVBQjlFQUM5RUFEOUVBRUU1QjE5RUFGOUVCMDlFQjE5RUIyOUVCMzlFQjQ5RUI1OUVCNjlFQjc5RUI4OUVCOTlFQkFCQkYwRUNFMUMzRjA5RUJCQjVDNkJCRDI5RUJDOUVCRDlFQkU5RUJGQzFFOUQ0RUU5RUMwQkVDNDlFQzE5RUMyOUVDM0Q3QzY5RUM0RDRENkIyRDNFQ0JFOUVDNTlFQzY5RUM3OUVDOEVBQzE5RUM5OUVDQTlFQ0JDMkFGQjRCNjlFQ0M5RUNEOUVDRUQxRDc5RUNGOUVEMDlFRDFCM0I0OUVEMkM4QjJCRkJCRUNDMDlFRDM5RUQ0RDZDQjlFRDU5RUQ2RUNCRkVDQzE5RUQ3OUVEODlFRDk5RURBOUVEQjlFREM5RUREOUVERTlFREY5RUUwOUVFMTlFRTI5RUUzRUNDNUJFRTZDQ0JGQzVEQUJFQkM5RUU0RUNDNjlFRTVCMUZFOUVFNjlFRTc5RUU4RUNDNEQ1QThCNUUzOUVFOUVDQzJDMUI2QjNFMzlFRUE5RUVCRUNDM0NCQjhDMEMzQ0NGRTlFRUM5RUVEOUVFRTlFRUZDMUQyOUVGMEVDQzg5RUYxOUVGMjlFRjM5RUY0OUVGNTlFRjY5RUY3OUVGODlFRjk5RUZBOUVGQjlFRkM5RUZEQkFFNkMwRDM5RUZFRDZGMjlGNDA5RjQxOUY0MkQxQ0M5RjQzOUY0NDlGNDU5RjQ2QkZCRTlGNDdCN0IzQzlENUVDQzdCQkUyOUY0OENDQ0NCREZEQzhDODlGNDlDRkE5OUY0QTlGNEI5RjRDOUY0RDlGNEU5RjRGOUY1MENERTk5RjUxQzVFQjlGNTI5RjUzOUY1NEI3RTk5RjU1OUY1NjlGNTc5RjU4OUY1OTlGNUE5RjVCOUY1QzlGNUQ5RjVFOUY1RkQxQzlCQUI4OUY2MDlGNjE5RjYyOUY2MzlGNjRFQ0M5OUY2NTlGNjZFQ0NBOUY2N0JCQzBFQ0NCOUY2OEVDRTJCMUJBQjdEOTlGNjk5RjZBOUY2QjlGNkM5RjZEOUY2RTlGNkY5RjcwOUY3MTlGNzI5RjczQkRCOTlGNzQ5Rjc1OUY3NjlGNzc5Rjc4OUY3OTlGN0E5RjdCRUNDQ0QxRTZFQ0NEOUY3QzlGN0Q5RjdFOUY4MEM4QkI5RjgxOUY4MjlGODM5Rjg0OUY4NTlGODY5Rjg3OUY4ODlGODk5RjhBOUY4QjlGOEM5RjhEOUY4RUVDRDE5RjhGOUY5MDlGOTE5RjkyRUNEMzlGOTNCQkNEOUY5NEJDRTU5Rjk1OUY5NjlGOTc5Rjk4OUY5OTlGOUE5RjlCOUY5QzlGOUQ5RjlFOUY5RjlGQTA5RkExRUNDRjlGQTJDOUI3OUZBMzlGQTQ5RkE1OUZBNjlGQTdDM0JBOUZBOEVDRTNENUQ1RUNEMDlGQTk5RkFBOUZBQjlGQUM5RkFERDZGMzlGQUU5RkFGOUZCMEVDRDJFQ0NFOUZCMTlGQjI5RkIzOUZCNEVDRDQ5RkI1RUNENTlGQjY5RkI3QzlCRjlGQjg5RkI5OUZCQTlGQkI5RkJDOUZCRENGQTg5RkJFOUZCRjlGQzA5RkMxOUZDMkQwREM5RkMzOUZDNDlGQzU5RkM2RDFBQzlGQzc5RkM4OUZDOTlGQ0FDOERCOUZDQjlGQ0M5RkNERUNENkNFRjU5RkNFOUZDRjlGRDA5RkQxOUZEMkNBRUNFQ0RBOUZEMzlGRDQ5RkQ1OUZENjlGRDc5RkQ4OUZEOUVDRDk5RkRBOUZEQjlGRENCMEJFOUZERDlGREU5RkRGOUZFMDlGRTE5RkUyRUNENzlGRTNFQ0Q4OUZFNDlGRTU5RkU2RUNFNDlGRTc5RkU4OUZFOTlGRUE5RkVCOUZFQzlGRUQ5RkVFOUZFRkM4QkM5RkYwOUZGMTlGRjI5RkYzOUZGNDlGRjU5RkY2OUZGNzlGRjg5RkY5QzFDNzlGRkE5RkZCOUZGQzlGRkQ5RkZFRUNEQ0QxRTBBMDQwQTA0MUEwNDJBMDQzQTA0NEEwNDVBMDQ2QTA0N0EwNDhBMDQ5RUNEQkEwNEFBMDRCQTA0Q0EwNERENEVGQTA0RUVDRERBMDRGQTA1MEEwNTFBMDUyQTA1M0EwNTREQkM2QTA1NUEwNTZBMDU3QTA1OEEwNTlBMDVBQTA1QkEwNUNBMDVEQTA1RUVDREVBMDVGQTA2MEEwNjFBMDYyQTA2M0EwNjRBMDY1QTA2NkEwNjdBMDY4QTA2OUEwNkFCMUFDQTA2QkEwNkNBMDZEQTA2RUEwNkZBMDcwQTA3MUEwNzJBMDczQTA3NEEwNzVBMDc2QTA3N0EwNzhBMDc5QTA3QUEwN0JBMDdDQTA3REEwN0VBMDgwQTA4MUVDREZBMDgyQTA4M0EwODRBMDg1QTA4NkEwODdBMDg4QTA4OUEwOEFBMDhCRUNFMEEwOENEN0E2QTA4REM1QzBBMDhFQTA4RkEwOTBFQkJDQjBBRUEwOTFBMDkyQTA5M0JFRjRCOEI4RDJBRkIwRDZCNUY5QTA5NEQ4QjNBMDk1Q0JBQ0EwOTZFM0REQTA5N0EwOThBMDk5QTA5QUEwOUJBMDlDQTA5REM2QUNCMEU2QTA5RUEwOUZBMEEwQzVDNkVCQjlBMEExQTBBMkEwQTNBMEE0RUJCQUEwQTVBMEE2QTBBN0VCQkJBMEE4QTBBOUQxQzBBMEFBQzVBM0EwQUJFQUYyQTBBQ0M0QjJBMEFEQzRCNUMwQ0VBMEFFQTBBRkEwQjBFQUYzQzRDMUEwQjFDRUVGQTBCMkEwQjNBMEI0QTBCNUVBRjBFQUY0QTBCNkEwQjdDOUZDQTBCOEEwQjlDN0EzQTBCQUEwQkJBMEJDQ0NEOENFRkVBMEJEQTBCRUEwQkZFQUY1RUFGNkNGQUNDMEU3QTBDMEEwQzFFQUY3QTBDMkEwQzNBMEM0QTBDNUEwQzZCNkJGRUFGOEEwQzdFQUY5QTBDOEVBRkFBMEM5QTBDQUVBRkJBMENCQTBDQ0EwQ0RBMENFQTBDRkEwRDBBMEQxQTBEMkEwRDNBMEQ0QTBENUEwRDZFQUYxQTBEN0EwRDhBMEQ5QTBEQUEwREJBMERDQTBEREEwREVBMERGQTBFMEEwRTFBMEUyQzhBRUUxRUJBMEUzQjdCOEUxRUNBMEU0QTBFNUEwRTZFMUVEQTBFN0Q3QjRFMUVFRTFFRkQzQ0NBMEU4QTBFOUEwRUFBMEVCQTBFQ0EwRURBMEVFRTFGMUJGRjFFMUYwQjVEMkEwRUZBMEYwQTBGMUIxQjdBMEYyQTBGM0EwRjRBMEY1RTFGM0UxRjJBMEY2QkFGQ0EwRjdFMUY0QTBGOEEwRjlBMEZBQTBGQkI5QjdBMEZDQkVEMUEwRkRBMEZFQUE0MEFBNDFDNEZDQUE0MkJBRERCREM2QUE0M0FBNDRBQTQ1QUE0NkFBNDdBQTQ4RTFGNUUxRjdBQTQ5QUE0QUI2QzBDRkMxQ0FBOEUxRjZENUY4RDNGQ0UxRjhFMUZDRTFGOUFBNEJBQTRDRTFGQUMwRUFBQTRERTFGRUUyQTFDMEM3QUE0RUFBNEZBQTUwQUE1MUUxRkJBQTUyRTFGREFBNTNBQTU0QUE1NUFBNTZBQTU3QUE1OEUyQTVBQTU5QUE1QUFBNUJDMUQ0QUE1Q0FBNURBQTVFQUE1RkUyQTNBQTYwRTJBOEIyRkVFMkEyQUE2MUFBNjJBQTYzQzNDREIyQzJFMkE3RTJBNkFBNjRBQTY1RTJBNEUyQTlBQTY2QUE2N0UyQUJBQTY4QUE2OUFBNkFEMEM5RDZFREMzQThFMkFDQUE2QkNGRDdBQTZDQUE2REUyQUVBQTZFQUE2RkJBRUZBQTcwQUE3MUU5RTBFMkFERTJBQUFBNzJBQTczQUE3NEFBNzVCQkFCRDRCM0FBNzZBQTc3QUE3OEFBNzlBQTdBQUE3QkFBN0NBQTdEQUE3RUFBODBBQTgxQUE4MkFBODNFMkIwQUE4NEFBODVFMkFGQUE4NkU5RTFBQTg3QUE4OEFBODlBQThBRTJCMUFBOEJBQThDQUE4REFBOEVBQThGQUE5MEFBOTFBQTkyRTJCMkFBOTNBQTk0QUE5NUFBOTZBQTk3QUE5OEFBOTlBQTlBQUE5QkFBOUNBQTlERTJCM0NDQTFBQTlFRTJCNEFBOUZBQUEwQUI0MEFCNDFBQjQyQUI0M0FCNDRBQjQ1QUI0NkFCNDdBQjQ4QUI0OUFCNEFBQjRCRTJCNUFCNENBQjREQUI0RUFCNEZBQjUwRDBGRUFCNTFBQjUyQzJDQUFCNTNEM0YxQUI1NENERjVBQjU1QUI1NkU3RTBBQjU3QUI1OEU3RTFBQjU5QUI1QUFCNUJBQjVDQkVDMUFCNURBQjVFQUI1RkFCNjBDMkVBQUI2MUFCNjJBQjYzRTdFNEFCNjRBQjY1RTdFM0FCNjZBQjY3QUI2OEFCNjlBQjZBQUI2QkNERTZBQjZDQzNCNUFCNkRBQjZFRTdFMkJCQjdDRkQ2QUI2RkMxRTFFN0U5QUI3MEFCNzFBQjcyRTdFOEFCNzNBQjc0RTdGNEIyQTNBQjc1QUI3NkFCNzdBQjc4RTdFQUFCNzlFN0U2QUI3QUFCN0JBQjdDQUI3REFCN0VFN0VDRTdFQkM5QkFBQjgwQUI4MUQ1RTRBQjgyRTdFNUI3QTlFN0U3QUI4M0FCODRBQjg1QUI4NkFCODdBQjg4QUI4OUU3RUVBQjhBQUI4QkFCOENBQjhERTdGM0FCOEVENkU5QUI4RkFCOTBBQjkxQUI5MkU3RURBQjkzRTdGMkFCOTRFN0YxQUI5NUFCOTZBQjk3QjBFMEFCOThBQjk5QUI5QUFCOUJFN0Y1QUI5Q0FCOURBQjlFQUI5RkFCQTBBQzQwQUM0MUFDNDJBQzQzQUM0NEFDNDVBQzQ2QUM0N0FDNDhBQzQ5QUM0QUM3RjJBQzRCQzBDNUMwRURBQzRDQUM0REMxRjBFN0YwQUM0RUFDNEZBQzUwQUM1MUU3RjZDQkY2QUM1MkFDNTNBQzU0QUM1NUFDNTZBQzU3QUM1OEFDNTlBQzVBRThBMkU4QTFBQzVCQUM1Q0FDNURBQzVFQUM1RkFDNjBEN0MxQUM2MUFDNjJFN0ZBRTdGOUFDNjNFN0ZCQUM2NEU3RjdBQzY1RTdGRUFDNjZFN0ZEQUM2N0U3RkNBQzY4QUM2OUMxRDVDN0Q5QzVGREM1QzNBQzZBQUM2QkFDNkNBQzZEQUM2RUM3RURBQzZGQUM3MEFDNzFBQzcyRThBM0FDNzNBQzc0QUM3NUFDNzZBQzc3QUM3OEFDNzlBQzdBQUM3QkFDN0NBQzdEQUM3RUFDODBBQzgxQUM4MkFDODNBQzg0QUM4NUFDODZFOEE2QUM4N0U4QTVBQzg4RThBN0JBRjdFN0Y4RThBNEFDODlDOEYwQzlBQUFDOEFBQzhCQUM4Q0FDOERBQzhFQUM4RkFDOTBBQzkxQUM5MkFDOTNBQzk0QUM5NUFDOTZFOEE5QUM5N0FDOThCOUU1QUM5OUFDOUFBQzlCQUM5Q0FDOUREMUZFRThBOEFDOUVBQzlGQUNBMEFENDBBRDQxQUQ0MkU4QUFBRDQzRThBREU4QUVBRDQ0QzFBN0FENDVBRDQ2QUQ0N0U4QUZBRDQ4QUQ0OUFENEFFOEIwQUQ0QkFENENFOEFDQUQ0REU4QjRBRDRFQUQ0RkFENTBBRDUxQUQ1MkFENTNBRDU0QUQ1NUFENTZBRDU3QUQ1OEU4QUJBRDU5RThCMUFENUFBRDVCQUQ1Q0FENURBRDVFQUQ1RkFENjBBRDYxRThCNUU4QjJFOEIzQUQ2MkFENjNBRDY0QUQ2NUFENjZBRDY3QUQ2OEFENjlBRDZBQUQ2QkFENkNBRDZEQUQ2RUFENkZBRDcwQUQ3MUU4QjdBRDcyQUQ3M0FENzRBRDc1QUQ3NkFENzdBRDc4QUQ3OUFEN0FBRDdCQUQ3Q0FEN0RBRDdFQUQ4MEFEODFBRDgyQUQ4M0FEODRBRDg1QUQ4NkFEODdBRDg4QUQ4OUU4QjZBRDhBQUQ4QkFEOENBRDhEQUQ4RUFEOEZBRDkwQUQ5MUFEOTJCOUNGQUQ5M0YwQUNBRDk0RjBBREFEOTVDNkIwQjBFQUM4QkZBRDk2Q0RERkFEOTdBRDk4QUQ5OUFEOUFBRDlCQUQ5Q0FEOURDRUNERUFCMUFEOUVBRDlGQURBMEFFNDBFQUIyQUU0MUM2QkZCNEM5QUU0MkFFNDNBRTQ0QUU0NUFFNDZBRTQ3QUU0OEVBQjNBRTQ5QUU0QUFFNEJBRTRDRDVFN0FFNERBRTRFQUU0RkFFNTBBRTUxQUU1MkFFNTNBRTU0RERGOUFFNTVFQUI0QUU1NkVBQjVBRTU3RUFCNkFFNThBRTU5QUU1QUFFNUJCOENBREZCMEM5RjVBRTVDQ0NGMEFFNURBRTVFQzlGQUFFNUZBRTYwQUU2MUFFNjJBRTYzQzlGQkFFNjRBRTY1RDNDM0NCQTZBRTY2QjhBNkYwQUVCMUMyQUU2N0U1QjhDQ0VGRDNDOUJDRDdDOUVBQUU2OEI1RTdBRTY5QzREMEI1RTlBRTZBRUVBRUJCQURBRTZCQUU2Q0U3REVBRTZERUVBRkFFNkVBRTZGQUU3MEFFNzFCM0E5QUU3MkFFNzNFRUIyQUU3NEFFNzVFRUIxQkRFN0FFNzZFRUIwQ0VCN0FFNzdBRTc4QUU3OUFFN0FDNUNGQUU3QkFFN0NBRTdEQUU3RUMxRjREQkNFRUVCM0QwRjNBRTgwQUU4MUFFODJBRTgzQUU4NEFFODVBRTg2QUU4N0MyRDRDNkU4QUU4OEFFODlBRThBQjdBQ0FFOEJBRThDQUU4REFFOEVBRThGQUU5MEFFOTFFRUI0QUU5MkIzRUJBRTkzQUU5NEFFOTVCQkZCRUVCNUFFOTZBRTk3QUU5OEFFOTlBRTlBRTdEQ0FFOUJBRTlDQUU5REVFQjZBRTlFQUU5RkJEQUVBRUEwQUY0MEFGNDFBRjQyRjFFMkFGNDNBRjQ0QUY0NUNBRThBRjQ2RDJDOUYwREFBRjQ3RjBEQkFGNDhGMERDQzFDNkFGNDlCOEVEQkVDRUFGNEFBRjRCRjBERUFGNENDNUIxRjBEREQxRjFBRjRERjBFMEIwQ0NCREVBQUY0RUFGNEZBRjUwQUY1MUFGNTJEMkRGRjBERkFGNTNCNEFGQjdFOEYwRTZGMEU1QzZBM0YwRTFGMEUyQjRDM0FGNTRBRjU1RjBFM0Q1RUVBRjU2QUY1N0NDREJCRUQyQkNCMkFGNThBRjU5QUY1QUYwRThGMEU3RjBFNEIyQTFBRjVCRDZBMkQzQjhCRUI3QzhBQ0FGNUNBRjVERjBFQUFGNUVBRjVGQUY2MEFGNjFEMUY3QUY2MkQ2Q0NCQURCRjBFOUFGNjNCNkJCQUY2NEFGNjVDREI0QUY2NkFGNjdDNkE2QUY2OEFGNjlBRjZBQzFBMUYwRUJGMEVFQUY2QkYwRURGMEYwRjBFQ0FGNkNCQkJFRjBFRkFGNkRBRjZFQUY2RkFGNzBDQ0I1RjBGMkFGNzFBRjcyQjNENUFGNzNBRjc0QUY3NUFGNzZCMUQ0QUY3N0FGNzhGMEYzQUY3OUFGN0FGMEY0RjBGNkI0RTFBRjdCRjBGMUFGN0NGMEY3QUY3REFGN0VBRjgwQUY4MUYwRkFBRjgyRjBGOEFGODNBRjg0QUY4NUYwRjVBRjg2QUY4N0FGODhBRjg5RjBGREFGOEFGMEY5RjBGQ0YwRkVBRjhCRjFBMUFGOENBRjhEQUY4RUNFQzFGMUE0QUY4RkYxQTNBRjkwQzFGNkYwRkJDQUREQUY5MUFGOTJCNEYxQjFGMUNDQjFBRjkzRjFBNkFGOTRBRjk1RjFBN0FGOTZBRjk3RjFBQ0Q1Q0VGMUE5QUY5OEFGOTlDOEIzQUY5QUFGOUJBRjlDRjFBMkFGOURGMUFCRjFBOEYxQTVBRjlFQUY5RkYxQUFBRkEwQjA0MEIwNDFCMDQyQjA0M0IwNDRCMDQ1QjA0NkIwQTlGMUFEQjA0N0IwNDhCMDQ5QjA0QUIwNEJCMDRDRjFBRkIwNERGMUIxQjA0RUIwNEZCMDUwQjA1MUIwNTJGMUIwQjA1M0YxQUVCMDU0QjA1NUIwNTZCMDU3RDFBMkIwNThCMDU5QjA1QUIwNUJCMDVDQjA1REIwNUVGMUIyQjA1RkIwNjBCMDYxRjFCM0IwNjJCMDYzQjA2NEIwNjVCMDY2QjA2N0IwNjhCMDY5QjlFRkIwNkFCMDZCQjVDN0IwNkNCMEQ3QjBEOUIwNkRCMDZFQjA2RkQ0RURCMDcwQjVDNEIwNzFCREQ0QkJDQUYwQTdCMDcyQjA3M0I4REVCMDc0QjA3NUYwQThCMDc2QjA3N0IwQThCMDc4RjBBOUIwNzlCMDdBQ0RFRUIwN0JCMDdDRjBBQUIwN0RCMDdFQjA4MEIwODFCMDgyQjA4M0IwODRCMDg1QjA4NkIwODdGMEFCQjA4OEIwODlCMDhBQjA4QkIwOENCMDhEQjA4RUIwOEZCMDkwQzZBNEIwOTFCMDkyRDZFNUYxRTRCMDkzRjFFNUIwOTRCMDk1QjA5NkIwOTdCMDk4QjA5OUIwOUFCMDlCQjA5Q0IwOURDM0YzQjA5RUIwOUZEM0RCQjBBMEIxNDBENkQxQzVFOEIxNDFEM0FGQjE0MkQyRTZCMTQzQjE0NEVFQzFCMEJCRDVCNUQxQ0VCQ0UwQkFEMEIxNDVCRkY4QjE0NkI4QzdCNUMxQzVDQ0IxNDdCMTQ4Q0FBMkIxNDlCMTRBQjE0QkMzQ0JCMTRDQjE0REIxNEVCMTRGQjE1MEVFQzJCMTUxQjE1MkIxNTNCMTU0QjE1NUIxNTZCMTU3QjE1OEM0QkZCNkEyQjE1OUVERUNDM0E0QjE1QUQ2QjFCMTVCQjE1Q0IxNURDRkUwRURFRkIxNUVCMTVGQzVDRUIxNjBCNkRDQjE2MUIxNjJDQUExQjE2M0IxNjRFREVEQjE2NUIxNjZFREYwRURGMUMzQkNCMTY3QkZCNEIxNjhFREVFQjE2OUIxNkFCMTZCQjE2Q0IxNkRCMTZFQjE2RkIxNzBCMTcxQjE3MkIxNzNFREY0RURGMkIxNzRCMTc1QjE3NkIxNzdENUU2QzNERkIxNzhFREYzQjE3OUIxN0FCMTdCRURGNkIxN0NENUEzRDFBM0IxN0RCMTdFQjE4MEVERjVCMTgxQzNEMEIxODJCMTgzQjE4NEIxODVCMTg2RURGN0JGRjRCRUVDRURGOEIxODdDQ0Y3QjE4OEQxREJCMTg5QjE4QUIxOEJEN0M1RDVGNkIxOENFREZDQjE4REIxOEVCMThGRURGQkIxOTBCMTkxQjE5MkIxOTNCMTk0QjE5NUIxOTZCMTk3RURGOUVERkFCMTk4QjE5OUIxOUFCMTlCQjE5Q0IxOURCMTlFQjE5RkVERkRCRUE2QjFBMEIyNDBCMjQxQjI0MkIyNDNDQkFGRUVBMUI2QkRCMjQ0RUVBMkM0QzBCMjQ1RURGRUIyNDZCMjQ3QkRERUIyQzdCMjQ4QjI0OUIyNEFCMjRCQjI0Q0IyNERCMjRFQjI0RkIyNTBCMjUxQjI1MkIyNTNCNkMzQjI1NEIyNTVCMjU2RUVBNUQ4QkFFRUEzRUVBNkIyNTdCMjU4QjI1OUMzRTlCM0YyQjI1QUIyNUJCMjVDQjI1REIyNUVCMjVGRUVBN0VFQTRDRkI5QjI2MEIyNjFFRUE4QzJGN0IyNjJCMjYzQjI2NEIyNjVCMjY2QjI2N0IyNjhCMjY5QjI2QUIyNkJCMjZDQjI2REVFQTlFRUFBQjI2RURFQUJCMjZGQjI3MEM2QjNCMjcxQzdDNkIyNzJENkY1QjVDOUIyNzNDQkIyQjI3NEIyNzVCMjc2RUVBQkIyNzdCMjc4Q0RBQkIyNzlFRUFDQjI3QUIyN0JCMjdDQjI3REIyN0VENUIwQjI4MEVFQURCMjgxRjZDNEIyODJCMjgzQjI4NEIyODVCMjg2QjI4N0IyODhCMjg5QjI4QUIyOEJCMjhDQjI4REIyOEVEQkM3QjI4RkIyOTBCMjkxQjI5MkIyOTNCMjk0QjI5NUIyOTZCMjk3QjRBM0IyOThCMjk5QjI5QUMzQUNGMUU2QjI5QkIyOUNCMjlEQjI5RUIyOUZDQUI4RDJEM0IyQTBENkFBQjM0MEVGRjJCMzQxQkVEOEIzNDJCREMzRUZGM0I2Q0NCMEFCQjM0M0IzNDRCMzQ1QjM0NkNBQUZCMzQ3QjM0OEVEQjZCMzQ5RURCN0IzNEFCMzRCQjM0Q0IzNERDRUY5QjdBRkJGRjNFREI4QzJFQkM5QjBCMzRFQjM0RkIzNTBCMzUxQjM1MkIzNTNFREI5QjM1NEIzNTVDNkY2QkZCM0IzNTZCMzU3QjM1OEVEQkNDNUY4QjM1OUQxRDBCMzVBRDdBOUVEQkFFREJCQjM1QkQxRTJCMzVDRURCRkVEQzBCMzVERURDNEIzNUVCMzVGQjM2MEVEQzhCMzYxRURDNkVEQ0VENUU4QjM2MkVEQzlCMzYzQjM2NEVEQzdFREJFQjM2NUIzNjZDNUU5QjM2N0IzNjhCMzY5QzZDNkIzNkFCMzZCQzlFOUQ0RDJFREMxRURDMkVEQzNFREM1QjM2Q0MwRjlCMzZEQjRBMUIzNkVCMzZGQjM3MEIzNzFCOUU4QjM3MkVERDBCMzczQjM3NEIzNzVCMzc2RUREMUIzNzdFRENBQjM3OEVEQ0ZCMzc5Q0VGOEIzN0FCMzdCQ0JCNkVEQ0NFRENEQjM3Q0IzN0RCMzdFQjM4MEIzODFDRkY1QjM4MkIzODNCMzg0QjM4NUIzODZCMzg3QjM4OEIzODlCMzhBQjM4QkIzOENCMzhERUREMkMxRjJEM0IyRURDQkM4QjdCMzhFQjM4RkIzOTBCMzkxQjM5MkIzOTNCMzk0QjM5NUJDRUZCMzk2QjM5N0IzOThCMzk5QzVGMEIzOUFCMzlCQjM5Q0IzOURCMzlFQjM5RkIzQTBCNDQwQjQ0MUI0NDJFREQ2QjQ0M0I1RUZCNDQ0QjQ0NUMyQjVCMEFEQ0JFOUI0NDZCNDQ3QjFBRUI0NDhFREQ0QjQ0OUI0NEFCNDRCQ0RFQkI1RTJCNDRDRURENUVERDNFREQ3QjQ0REI0NEVCNUZBQjQ0RkVERDhCNDUwRUREOUI0NTFFRERDQjQ1MkIxQ0NCNDUzQjQ1NEI0NTVCNDU2QjQ1N0I0NThCNDU5QjQ1QUM1RjZCQ0VFRUREQUNDQkNCMkVBQjQ1QkI0NUNCNDVEQjQ1RUVEREJCNDVGQjQ2MEI0NjFCNDYyQzRFQkI0NjNCNDY0QjRDNUI0NjVCNDY2QjQ2N0IwRjVCNDY4QjQ2OUI0NkFFRERGQzBEQUI0RThCNDZCQjQ2Q0I0NkRCNDZFQzVDREI0NkZCNDcwQjQ3MUVERERCRkM0QjQ3MkI0NzNCNDc0RURERUI0NzVCNDc2QjQ3N0I0NzhCNDc5QjQ3QUI0N0JCNDdDQjQ3REI0N0VCNDgwQjQ4MUI0ODJCNDgzQzRBNUI0ODRCNDg1QjQ4NkVERTBCNDg3QjQ4OEI0ODlCNDhBQjQ4QkVERTFCNDhDRURFM0I0OERCNDhFQzFEN0I0OEZCNDkwQkJDN0I0OTFCNDkyQjQ5M0I0OTRCNDk1QjQ5NkJEQjhCNDk3QjQ5OEI0OTlFREUyQjQ5QUI0OUJCNDlDQjQ5REI0OUVCNDlGQjRBMEI1NDBCNTQxQjU0MkI1NDNCNTQ0QjU0NUVERTRCNTQ2QjU0N0I1NDhCNTQ5QjU0QUI1NEJCNTRDQjU0REI1NEVCNTRGRURFNkI1NTBCNTUxQjU1MkI1NTNCNTU0RURFNUI1NTVCNTU2QjU1N0I1NThCNTU5QjU1QUI1NUJCNTVDQjU1REI1NUVCNTVGQjU2MEI1NjFCNTYyQjU2M0VERTdCNTY0QjU2NUI1NjZCNTY3QjU2OENBQkVFQ0VBQzBGMUI1NjlDOUU3QjU2QUVDRUJDNkVFQjU2QkI1NkNCNTZEQjU2RUVDRUNCNTZGQzZFREVDRURCNTcwQjU3MUI1NzJCNTczQjU3NEI1NzVCNTc2QjU3N0I1NzhFQ0YwQjU3OUI1N0FEN0U2RUNGM0I1N0JCNTdDRUNGMUVDRUVFQ0VGRDdBM0M5RjFDQkVFRUNGNEI1N0RFQ0YyQjU3RUI1ODBDRkU5QjU4MUVDRjZDNkIxQjU4MkI1ODNCNTg0QjU4NUJDQzBCNTg2RUNGNUI1ODdCNTg4QjU4OUI1OEFCNThCQjU4Q0I1OERCNUJCQkJGNkI1OEVFQ0Y3QjU4RkI1OTBCNTkxQjU5MkI1OTNEOUY3QkRGQkI1OTRCNTk1QzJCQkVDRjhCNTk2QjU5N0I1OThCNTk5RUNGOUI1OUFCNTlCQjU5Q0I1OURCOEEzQjU5RUI1OUZCNUEwQjY0MEI2NDFCNjQyQjY0M0I2NDRCNjQ1QjY0NkVDRkFCNjQ3QjY0OEI2NDlCNjRBQjY0QkI2NENCNjREQjY0RUI2NEZCNjUwQjY1MUI2NTJFQ0ZCQjY1M0I2NTRCNjU1QjY1NkI2NTdCNjU4QjY1OUI2NUFCNjVCQjY1Q0I2NURFQ0ZDQjY1RUI2NUZCNjYwQjY2MUI2NjJEM0VERDhBRUMwRUJCNjYzQzdEREJBQ0NCNjY0RDBFM0NCQkRCNjY1Q0RCQUI2NjZCNjY3QjhEMUI2NjhCNjY5QjFGQ0I2NkFDN0VGQjY2QkQ2RDZCNjZDQjY2REI2NkVCRkM2QzNFQkI2NkZCNjcwRUZGNUI2NzFCNjcyQzNEOEI2NzNCNjc0QjY3NUI2NzZCNjc3QjY3OEQ3RTJCNjc5QjY3QUI2N0JFRkY3QjNEM0I2N0NDN0Q4RDFFREI2N0RENkM4QjY3RUVGRjhCNjgwRUZGNkI2ODFCQkZEQjNDNkI2ODJCNjgzQjY4NEI2ODVCNjg2QjY4N0I2ODhCREQ1QjY4OUI2OEFEMkM2QjY4QkJCRTBCNjhDQjY4RENGQTFCNjhFRUZGQ0VGRkJCNjhGQjY5MEVGRjlCNjkxQjY5MkI2OTNCNjk0QjNDQ0I2OTVDOUQ0Q0JCMEI2OTZCNjk3QjY5OEI2OTlCNjlBRUZGRUI2OUJCNjlDQjBERUI2OURCNjlFRDZDOUI2OUZCNkEwQjc0MEVGRkRCNzQxQjNFREI3NDJCNzQzRjZENUI3NDRCNzQ1Qjc0NkI3NDdCNzQ4Qjc0OUI3NEFCNzRCQjc0Q0I3NERCNzRFQjc0RkI3NTBCNzUxQjc1MkNFQzhCNzUzQjc1NEI3NTVGMEEyQjc1NkYwQTFCNzU3QjVCRUJDREFCQkZDQjc1OEI4RTVCNzU5Qjc1QUI3NUJCNzVDQjc1REI3NUVDNEMyQjc1RkI3NjBCNzYxQjc2MkI3NjNCNzY0Qjc2NUI3NjZCNzY3Qjc2OEYwQTNCNzY5Qjc2QUI3NkJCNzZDQjc2RENCRUJCNzZFQjc2RkI3NzBCNzcxQjc3MkI3NzNCNzc0Qjc3NUI3NzZCNzc3Qjc3OEI3NzlCNzdBQjc3QkI3N0NCNzdEQjc3RUI3ODBCNzgxQjc4MkI3ODNCNzg0Qjc4NUI3ODZGMEE2Qjc4N0I3ODhCNzg5RDFBOEI3OEFCRUJGQzdFRUYxQjZGMUI3QkZENUI3OEJCNzhDQjc4REI3OEVCNEE5RjFCOENEQkJCNzhGQzdENEQ1QURCNzkwRjFCOUI3OTFGMUJBQjc5MkI3OTNCNzk0Qjc5NUM3Q0ZCNzk2Qjc5N0I3OThEMkE0RDZDRkI3OTlCNzlBRjFCQkJERDFCNEIwQkVCREI3OUJCNzlDQjc5REI0RENDRUQxQjc5RUJGREZGMUJEQjc5RkI3QTBCODQwQjg0MUJGRkFGMUJDQjg0MkYxQkZCODQzQjg0NEI4NDVGMUJFRjFDMEI4NDZCODQ3Qjg0OEI4NDlCODRBRjFDMUI4NEJCODRDQjg0REI4NEVCODRGQjg1MEI4NTFCODUyQjg1M0I4NTRCODU1QzFGRUI4NTZCODU3Qjg1OEI4NTlCODVBQjg1QkI4NUNCODVEQjg1RUI4NUZCODYwQzFBMkI4NjFCODYyQjg2M0I4NjRCODY1Qjg2NkI4NjdCODY4Qjg2OUI4NkFDQUZBQjg2QkI4NkNENUJFQjg2REI4NkVCODZGQjg3MEJFQkFCRUI5RDVDMkI4NzFCODcyQkZBMkI4NzNDREFGRjFCNUI4NzRCODc1Qjg3NkI4NzdCODc4Qjg3OUJEREZCODdBQjZDQkI4N0JCODdDQjg3REI4N0VCODgwQjg4MUI4ODJCODgzQjg4NEQ2RjFGM0MzQjg4NUI4ODZGM0M0Qjg4N0I4Q0RCODg4Qjg4OUI4OEFGM0M2RjNDN0I4OEJCMENBQjg4Q0YzQzVCODhERjNDOUNCRjFCODhFQjg4RkI4OTBGM0NCQjg5MUQwQTZCODkyQjg5M0IxQ0FGM0M4Qjg5NEI4OTVCODk2RjNDRkI4OTdCNUQxQjg5OEI4OTlGM0Q3Qjg5QUYzRDJCODlCQjg5Q0I4OURGM0Q0RjNEM0I3RkJCODlFQjFCRkI4OUZGM0NFRjNDQUI1REFCOEEwRjNEMEI5NDBCOTQxRjNEMUI5NDJGM0Q1Qjk0M0I5NDRCOTQ1Qjk0NkYzQ0RCOTQ3QkNFM0I5NDhDMUZEQjk0OUYzRDZCOTRBQjk0QkI5NENCOTREQjk0RUI5NEZGM0RBQjk1MEYzQ0NCOTUxQjVDOEI5NTJCREVFRjNEQ0I5NTNCOTU0QjdBNEJGRjBENkZFQ0RCMkI5NTVCNEYwQjk1NkIyREZCOTU3RjNEOEI5NThGM0Q5QzlCOEI5NTlGM0REQjk1QUI5NUJGM0RFQjk1Q0YzRTFCOTVEQjk1RUI5NUZCOTYwQjk2MUI5NjJCOTYzQjk2NEI5NjVCOTY2Qjk2N0YzREZCOTY4Qjk2OUYzRTNGM0UyQjk2QUI5NkJGM0RCQjk2Q0JGRUFCOTZEQjNFRkI5NkVGM0UwQjk2RkI5NzBDN0E5Qjk3MUJDRjJCOTcyQjk3M0I5NzRCOTc1RjNFQkI5NzZCOTc3Qjk3OEI5NzlCOTdBQjk3QkI5N0NCOUJGQjk3REI5N0VGM0U0Qjk4MEI5ODFCOTgyQjJBREJCRkVCOTgzQ0JFM0I5ODRCOTg1Qjk4NkI5ODdGM0VERjNFOUI5ODhCOTg5Qjk4QUI5RENGM0VFQjk4QkI5OENCOThERjNFNUYzRTZGM0VBQzJFMUYzRUNGM0VGRjNFOEJDRkRCOThFQjk4RkI5OTBDRkU0Qjk5MUI5OTJGM0YwQjk5M0I5OTRCOTk1RjNFN0I5OTZCOTk3Qjk5OEI5OTlCOTlBQjk5QkI5OUNCOTlERjNGMkI5OUVCOTlGQjlBMEJBNDBEN0FEQzZBQUJBNDFCQTQyQkE0M0JBNDRGM0YzQkE0NUJBNDZCQTQ3QkE0OEYzRjFCQTQ5QzJBOEJBNEFCQTRCQkE0Q0JBNERCQTRFQjhEREYzRjVCQTRGQkE1MEYzRjRCQTUxQkE1MkJBNTNCNERCQkE1NEJBNTVCQTU2RjNGNkYzRjdCQTU3QkE1OEJBNTlGM0Y4QkE1QUJBNUJCQTVDQzBCQUJBNURCQTVFQzBFOUJBNUZCQTYwQkE2MUJBNjJCQTYzQzVGMUJBNjRCQTY1QkE2NkJBNjdGM0ZCQkE2OEYzRkFCQTY5QkE2QUJBNkJCQTZDQkE2REJBNkVCQTZGQkE3MEI0RDhCQTcxQkE3MkJBNzNGM0ZFRjNGOUJBNzRCQTc1RjNGQ0JBNzZCQTc3QkE3OEJBNzlCQTdBQkE3QkYzRkRCQTdDQkE3REJBN0VCQTgwQkE4MUJBODJCQTgzQkE4NEY0QTFCQTg1QkE4NkJBODdCQTg4QkE4OUJBOEFGNEEzQkJDOUJBOEJCQThDRjRBMkJBOERCQThFQkE4RkJBOTBCQTkxQkE5MkJBOTNCQTk0QkE5NUJBOTZCQTk3QkE5OEJBOTlGNEE0QkE5QUJBOUJCQTlDQkE5REJBOUVCQTlGQjJCRUY0QTZGNEE1QkFBMEJCNDBCQjQxQkI0MkJCNDNCQjQ0QkI0NUJCNDZCQjQ3QkI0OEJCNDlCQ0FFQkI0QUJCNEJCQjRDQkI0REJCNEVCQjRGQkI1MEJCNTFCQjUyQkI1M0JCNTRCQjU1QkI1NkJCNTdCQjU4QkI1OUJCNUFCQjVCQkI1Q0JCNURCQjVFQkI1RkJCNjBCQjYxQkI2MkJCNjNCQjY0QkI2NUJCNjZCQjY3QkI2OEJCNjlCQjZBQkI2QkJCNkNCQjZEQkI2RUMzRDdEOUUxQkI2RkJCNzBCQjcxQkI3MkJCNzNCQjc0QzBFMEY0Q0NEN0QxQkI3NUJCNzZCQjc3QkI3OEJCNzlCQjdBQkI3QkJCN0NCQjdEQkI3RUJCODBCN0RCQkI4MUJCODJCQjgzQkI4NEJCODVCQjg2QkI4N0Y0Q0VDMUEzQkI4OEJCODlDNkM5QkI4QUI0RDZENUIzQkI4QkJCOENCQjhERjREMEY0Q0ZGNEQxQ0JEQUJCOEVCQjhGRjREMkJCOTBENEMxRDZFMEJCOTFCQjkyQkI5M0JCOTRCN0UwQkI5NUJCOTZCQjk3QzFCOEJCOThCQjk5QzFCQkY0RDNCRUFDQkI5QUJCOUJCQjlDQkI5REJCOUVCNEUyQkI5RkJCQTBGNEQ0RjRENUJFQUJCQzQwQkM0MUY0RDZCQzQyQkM0M0JDNDRGNERCQkM0NUY0RDdGNERBQkM0NkJBRkRCQzQ3RjREOEY0RDlCQzQ4QkM0OUJDNEFCQzRCQkM0Q0JDNERCQzRFQjhFMkNDQzdGNERDQkM0RkIyREFCQzUwQkM1MUMzRDNCQzUyQkM1M0Q0RTNCRkI3QkM1NEJDNTVCQzU2QkM1N0JDNThCQzU5QkM1QUY0RERCQzVCQkM1Q0JDNURCQzVFQkM1RkJDNjBDNUI0QkM2MUJDNjJCQzYzQkM2NEJDNjVCQzY2QkM2N0JDNjhGNEU5QkM2OUJDNkFDRkI1QkM2QkJDNkNCQzZEQkM2RUJDNkZCQzcwQkM3MUJDNzJCQzczQkM3NEJDNzVCQzc2QkM3N0JDNzhDRUM5QkM3OUJDN0FCQzdCQkM3Q0JDN0RCQzdFQkM4MEJDODFCQzgyQkM4M0JDODRCQzg1QkM4NkJDODdCQzg4QkM4OUJDOEFCQzhCQkM4Q0JDOERCQzhFQ0JEOEJDOEZDQkY3QkM5MEJDOTFCQzkyQkM5M0JERjRCQzk0QkM5NUJDOTZEN0NGQkM5N0JDOThCQzk5QzBEQkJDOUFCQzlCQkM5Q0JDOURCQzlFQkM5RkJDQTBCRDQwQkQ0MUJENDJCRDQzQkQ0NEJENDVCRDQ2QkQ0N0JENDhCRDQ5QkQ0QUJENEJCRDRDQkQ0REJENEVCRDRGQkQ1MEJENTFCRDUyQkQ1M0JENTRCRDU1QkQ1NkJENTdCRDU4QkQ1OUJENUFCRDVCQkQ1Q0JENURCRDVFQkQ1RkJENjBCRDYxQkQ2MkJENjNCRDY0QkQ2NUJENjZCRDY3QkQ2OEJENjlCRDZBQkQ2QkJENkNCRDZEQkQ2RUJENkZCRDcwQkQ3MUJENzJCRDczQkQ3NEJENzVCRDc2RDBGNUJENzdCRDc4QkQ3OUJEN0FCRDdCQkQ3Q0JEN0RCRDdFRjRFQUJEODBCRDgxQkQ4MkJEODNCRDg0QkQ4NUJEODZCRDg3QkQ4OEJEODlCRDhBQkQ4QkJEOENCRDhEQkQ4RUJEOEZCRDkwQkQ5MUJEOTJCRDkzQkQ5NEJEOTVCRDk2QkQ5N0JEOThCRDk5QkQ5QUJEOUJCRDlDQkQ5REJEOUVCRDlGQkRBMEJFNDBCRTQxQkU0MkJFNDNCRTQ0QkU0NUJFNDZCRTQ3QkU0OEJFNDlCRTRBQkU0QkJFNENGNEVCQkU0REJFNEVCRTRGQkU1MEJFNTFCRTUyQkU1M0Y0RUNCRTU0QkU1NUJFNTZCRTU3QkU1OEJFNTlCRTVBQkU1QkJFNUNCRTVEQkU1RUJFNUZCRTYwQkU2MUJFNjJCRTYzQkU2NEJFNjVCRTY2QkU2N0JFNjhCRTY5QkU2QUJFNkJCRTZDQkU2REJFNkVCRTZGQkU3MEJFNzFCRTcyQkU3M0JFNzRCRTc1QkU3NkJFNzdCRTc4QkU3OUJFN0FCRTdCQkU3Q0JFN0RCRTdFQkU4MEJFODFCRTgyQkU4M0JFODRCRTg1QkU4NkJFODdCRTg4QkU4OUJFOEFCRThCQkU4Q0JFOERCRThFQkU4RkJFOTBCRTkxQkU5MkJFOTNCRTk0QkU5NUJFOTZCRTk3QkU5OEJFOTlCRTlBQkU5QkJFOUNCRTlEQkU5RUJFOUZCRUEwQkY0MEJGNDFCRjQyQkY0M0JGNDRCRjQ1QkY0NkJGNDdCRjQ4QkY0OUJGNEFCRjRCQkY0Q0JGNERCRjRFQkY0RkJGNTBCRjUxQkY1MkJGNTNCRjU0QkY1NUJGNTZCRjU3QkY1OEJGNTlCRjVBQkY1QkJGNUNCRjVEQkY1RUJGNUZCRjYwQkY2MUJGNjJCRjYzQkY2NEJGNjVCRjY2QkY2N0JGNjhCRjY5QkY2QUJGNkJCRjZDQkY2REJGNkVCRjZGQkY3MEJGNzFCRjcyQkY3M0JGNzRCRjc1QkY3NkJGNzdCRjc4QkY3OUJGN0FCRjdCQkY3Q0JGN0RCRjdFQkY4MEY3RTNCRjgxQkY4MkJGODNCRjg0QkY4NUI3QjFCRjg2QkY4N0JGODhCRjg5QkY4QUY0RURCRjhCQkY4Q0JGOERCRjhFQkY4RkJGOTBCRjkxQkY5MkJGOTNCRjk0QkY5NUJGOTZCRjk3QkY5OEJGOTlCRjlBQkY5QkJGOUNCRjlEQkY5RUJGOUZCRkEwQzA0MEMwNDFDMDQyQzA0M0MwNDRDMDQ1QzA0NkMwNDdDMDQ4QzA0OUMwNEFDMDRCQzA0Q0MwNERDMDRFQzA0RkMwNTBDMDUxQzA1MkMwNTNDMDU0QzA1NUMwNTZDMDU3QzA1OEMwNTlDMDVBQzA1QkMwNUNDMDVEQzA1RUMwNUZDMDYwQzA2MUMwNjJDMDYzRDdFQkMwNjRDMDY1QzA2NkMwNjdDMDY4QzA2OUMwNkFDMDZCQzA2Q0MwNkRDMDZFQzA2RkMwNzBDMDcxQzA3MkMwNzNDMDc0QzA3NUMwNzZDMDc3QzA3OEMwNzlDMDdBQzA3QkY0RUVDMDdDQzA3REMwN0VFNkY5QkVDMEU2RkFCQUVDRTZGQkNGQ0JFNkZDRDRCQ0JDQjZFNkZERTZGRUJDQ0RDOEQyQ0VCM0U3QTFDMDgwQjRCRkU3QTJDOUI0QjhEOUM0QzlDMDgxRDdEREMyREFCN0Q3RDZCRENFQzZCN0M0QzA4MkMwODNDNUE2RTdBM0NGREZFN0E0RTdBNUU3QTZDMUI3RDdFOUM5RjBDRkI4RDZBRkQ2RDVFN0E3QjBFREU3QThFN0E5QzlEQ0QyRUZCRUFERTdBQUIwRjNDOERFQkRFMUU3QUJDOEM2QzA4NEU3QUNCQkU2QjhGOEQxQTRFN0FEQzJFN0JFRjhCRENBQ0RCM0U3QUVFN0FGQkVFRUQwRTVDMDg1Q0JFN0NDRDBCQ0NDRTdCMEJDQThEMEY3RTdCMUMwODZEMEY4RTdCMkU3QjNCNEMyRTdCNEU3QjVDOUZFQ0VBQ0MzRTBFN0I3QjFDMUIzRjFDMDg3RTdCOEU3QjlEN0RCRDVDMEU3QkFDMkNDRDdCQUU3QkJFN0JDRTdCREJDRUFDM0U1QzBDMkU3QkVFN0JGQkNBOUMwODhFN0MwRTdDMUU3QjZCNkQwRTdDMkMwODlFN0MzRTdDNEJCQkFCNURFQzJDNkIxRTBFN0M1RDRCNUU3QzZCOEJGRTdDOEU3QzdCN0VDQzA4QUU3QzlCMkY4RTdDQUU3Q0JFN0NDRTdDREU3Q0VFN0NGRTdEMEQzQTdDQkY1RTdEMUU3RDJFN0QzRTdENEM5QzlFN0Q1RTdENkU3RDdFN0Q4RTdEOUJEQzlFN0RBRjNCRUMwOEJCOEQ3QzA4Q0M4QjFDMDhEQzA4RUMwOEZDMDkwQzA5MUMwOTJDMDkzRjNCRkMwOTRGM0MwRjNDMUMwOTVDMDk2QzA5N0MwOThDMDk5QzA5QUMwOUJDMDlDQzA5REMwOUVCOURFQ0RGOEMwOUZDMEEwRDhFOEJBQjFDMTQwQzJERUVFQjdDMTQxQjdBM0MxNDJDMTQzQzE0NEMxNDVFRUI5QzE0NkVFQjhCMEQ1QzE0N0MxNDhDMTQ5QzE0QUMxNEJFRUJCRDVENkQ3RUZDMTRDQzE0REMxNEVENkMzQzE0RkMxNTBFRUJEQ0FGMEMxNTFFRUJDQzE1MkMxNTNDMTU0QzE1NUVFQkVDMTU2QzE1N0MxNThDMTU5RUVDMEMxNUFDMTVCRUVCRkMxNUNDMTVEQzE1RUMxNUZDMTYwQzE2MUMxNjJDMTYzRDFGMkMxNjRDN0JDQzE2NUMzQzBDMTY2QzE2N0MxNjhDMTY5QzE2QUI4RTFDMTZCQzE2Q0MxNkRDMTZFQzE2RkMxRTdDMTcwQzE3MUY0QzZEMERGRjRDN0MxNzJDRkRCQzE3M0MxNzRDOEJBQzE3NUMxNzZGNEM4QzE3N0MxNzhDMTc5QzE3QUMxN0JDMTdDQzE3REY0QzlGNENBQzE3RUY0Q0JDMTgwQzE4MUMxODJDMTgzQzE4NEQ5RkFCOEZFQzE4NUMxODZFNUYxRDNGMEMxODdGNEUwQzE4OENFQ0NDMTg5QzE4QUMxOEJCM0UxQzE4Q0MxOERDMThFQzE4RkYxQjRDMTkwRDJFRUMxOTFGNEUxQzE5MkMxOTNDMTk0QzE5NUMxOTZDRkU4RjRFMkMxOTdDMTk4QzdDQ0MxOTlDMTlBQzE5QkMxOUNDMTlEQzE5RUI1RDRCNEU0RjRFNEMxOUZDMUEwQzI0MEY0RTNGNEU1QzI0MUMyNDJGNEU2QzI0M0MyNDRDMjQ1QzI0NkY0RTdDMjQ3QkFCMkIwQkZDMjQ4RjRFOEMyNDlDMjRBQzI0QkMyNENDMjREQzI0RUMyNEZCN0FERDJFREMyNTBDMjUxQzI1MkQyQUJDMENGQzI1M0JGQkNFQkEzRDVERkVBQzhDMjU0QzI1NUMyNTZDMjU3RjFGM0I2RjhDQkEzQzI1OEMyNTlDNENEQzI1QUYxRTdDMjVCRjFFOEI4RkJGMUU5QkFDNEQ0QzVCMEQyQzI1Q0MyNURGMUVBQzI1RUMyNUZDMjYwRjFFQkMyNjFGMUVDQzI2MkMyNjNGMUVERjFFRUYxRUZGMUYxRjFGMEM1RDVDMjY0QzI2NUMyNjZDMjY3QzI2OEMyNjlGMUYyQzI2QUI2RkFDMjZCRjFGNEQyQUVERUM3Q0JDQUMyNkNDMjZEQjNEQ0MyNkVCNUEyQzI2RkI5QTJDMjcwQzI3MUM0RjRGMUY1QzI3MkMyNzNGMUY2QzI3NEMyNzVDMjc2QzFDNEMxRkJENkIwRjFGN0MyNzdDMjc4QzI3OUMyN0FGMUY4QzI3QkMxQUFDMjdDQzI3REMyN0VDNkI4QzI4MEJFREJDMjgxQzI4MkMyODNDMjg0QzI4NUMyODZDMjg3QzI4OEMyODlDMjhBQzI4QkMyOENDMjhEQzI4RUYxRjlCNENGQzI4RkMyOTBDMjkxQzI5MkMyOTNDMjk0RjFGQUMyOTVDMjk2QzI5N0MyOThDMjk5QzI5QUMyOUJDMjlDQzI5REMyOUVDMjlGQzJBMEMzNDBFREIyRURCMUMzNDFDMzQyQ0JFMEQyREVDMzQzQ0JDMUQ1RDhDMzQ0QzhFMkMzNDVDMERGQkNBMUMzNDZDMzQ3QzM0OEMzNDlDMzRBQzM0QkVCQzFDMzRDQzM0REQwQTRDMzRFRDZFMkMzNEZCNkM3QjhEOEVCQzBCOENFQzM1MEVCQkZCM0E2QjlDOUQ2QUJDMzUxQjdGNEI3Q0FDMzUyQzM1M0MzNTRCQ0U3QjdCRUVCQzZDMzU1RUJDN0IwQjlCRkNGQzM1NkVCQzVEM0ZEQzM1N0VCQzhDMzU4QzM1OUVCQzlDMzVBQzM1QkI3Q0VDMzVDRUJDMkVCQzRDOUY2RDZEN0Q1Q0REMEIyRUJDRkNFQjhFQkQwQzM1REI1QThDMzVFQzM1RkMzNjBDMzYxQzM2MkIxQjNFQkQyQ0NBNUMzNjNDMzY0QzM2NUMzNjZDMzY3QzM2OEMzNjlDNUQ2RUJEM0MzNkFFQkQxQzVERkVCQ0VDQUE0RUJENUIwRkJDMzZCQzM2Q0JBRkFDMzZEQzM2RUQ4QjdGMUUzQzM2RkVCQ0FFQkNCRUJDQ0VCQ0RFQkQ2RTZDMEVCRDlDMzcwQkZFOEQyQzhFQkQ3RUJEQ0I4RUNFQkQ4QzM3MUJEQkFDMzcyRDBEOEMzNzNCMEI3QzM3NEVCRERDNERDQzM3NUMzNzZDMzc3QzM3OEQ2QUNDMzc5QzM3QUMzN0JCNEUwQzM3Q0MzN0RDMkY2QkNCOUMzN0VDMzgwRUJEQUVCREJENEUwQzZFQUM0RDRFQkRGQzVBN0Q5RjVDMzgxQjJCMUMzODJFQkU0QzM4M0JEQzVDMzg0QzM4NUMzODZFQkUyQzM4N0MzODhDMzg5QzM4QUMzOEJDMzhDQzM4REMzOEVDMzhGQzM5MEMzOTFDMzkyQzM5M0VCRTNDMzk0QzM5NUI4QUNDMzk2Q0REMUVCRTVDMzk3QzM5OEMzOTlFQkUxQzM5QUMxQjNDMzlCQzM5Q0MzOURDMzlFQzM5RkM2QTJDM0EwQzQ0MEM0NDFDNDQyQzQ0M0M0NDRDNDQ1Q0NGM0M0NDZFQkU2QzQ0N0MwQjBEMkI4RUJFN0M0NDhDNDQ5QzQ0QUI4QUZCOEFEQzQ0QkVCRThDN0JCQ0RGM0M0NENDNDREQzQ0RUVCRUFFQkVCQzQ0RkM0NTBDNDUxQzQ1MkM0NTNFQkVEQzQ1NEM0NTVDNDU2QzQ1N0QwQzhDNDU4RUJGMkM0NTlFQkVFQzQ1QUM0NUJDNDVDRUJGMUM4RjlDNDVERDFGQ0VCRUNDNDVFQzQ1RkVCRTlDNDYwQzQ2MUM0NjJDNDYzQjhCOUNGRDlDNEU1RUJFRkVCRjBDQ0RBQ0RDOEIwRjJDNDY0RUJGNkM0NjVDNDY2QzQ2N0M0NjhDNDY5RUJGNUM0NkFCMkIyQzQ2QkM0NkNDNDZEQzQ2RUI4RTBDNDZGRUJGN0M0NzBDNDcxQzQ3MkM0NzNDNDc0QzQ3NUIxRUNDNDc2QzQ3N0NDQzVDNEE0Q0ZBNUM0NzhDNDc5QzQ3QUM0N0JDNDdDRUJGOUM0N0RDNDdFRUNBMkM0ODBDNUYyQzQ4MUVCRkFDNDgyQzQ4M0M0ODRDNDg1QzQ4NkM0ODdDNDg4QzQ4OUM5QzVDNDhBQzQ4QkM0OENDNDhEQzQ4RUM0OEZFMkRGRUJGRUM0OTBDNDkxQzQ5MkM0OTNDRENFRUNBMUIxREJEM0I3QzQ5NEM0OTVEMkRDQzQ5NkM0OTdDNDk4RUJGREM0OTlFQkZCQzQ5QUM0OUJDNDlDQzQ5REM0OUVDNDlGQzRBMEM1NDBDNTQxQzU0MkM1NDNDNTQ0QzU0NUM1NDZDNTQ3QzU0OEM1NDlDNTRBQzU0QkM1NENDNTREQzU0RUIzQkNDNTRGQzU1MEM1NTFFQUIwQzU1MkM1NTNEN0Q0QzU1NEY0QUJCM0Y0QzU1NUM1NTZDNTU3QzU1OEM1NTlENkMxRDZDMkM1NUFDNTVCQzU1Q0M1NURDNTVFQzU1RkQ1RTlCRUNBQzU2MEY0QTdDNTYxRDJBOEY0QThGNEE5QzU2MkY0QUFCRUNCRDNERkM1NjNDNTY0QzU2NUM1NjZDNTY3QzlFMEM5RTFDNTY4QzU2OUYzQzJDNTZBQ0FFNkM1NkJDQ0YyQzU2Q0M1NkRDNTZFQzU2RkM1NzBDNTcxRTJCNkNCQjRDNTcyQ0VFOEQ2REJDNTczRjRBREY0QUVGNEFGQzU3NEM1NzVDNTc2QzU3N0Y0QjJDNTc4QkFCREY0QjNCMEUzRjRCMEM1NzlGNEIxQkRBMkIyRDVDNTdBRjRCNkY0QjdCNkU2QjJCMENGQ0ZGNEI0QjRBQ0M1N0JGNEI1QzU3Q0M1N0RGNEI4QzU3RUM1ODBDNTgxQzU4MkM1ODNGNEI5QzU4NEM1ODVDREE3QzU4NkY0QkFDNTg3RjRCQkM1ODhDNTg5QzU4QUY0QkNDNThCQzU4Q0M1OERDNThFQzU4RkM1OTBDNTkxQzU5MkNCRDJDNTkzRjRCREM1OTRDNTk1QzU5NkM1OTdGNEJFQzU5OEM1OTlDNTlBQzU5QkM1OUNDNTlEQzU5RUM1OUZGNEJGQzVBMEM2NDBDNjQxQzY0MkM2NDNGNERFQzFCQ0JDRThDNjQ0QzlBQkQxREVFNUY1QzY0NUM2NDZDNjQ3QzY0OERDQjNEMkQ1QzY0OUM2NEFEQ0I0QjBBQ0RDQjVDNjRCQzY0Q0JEREFDNjRERENCOUM2NEVDNjRGQzY1MEQ4QzJDNjUxRENCN0QzRjNDNjUyQzlENkRDQkFEQ0I2QzY1M0RDQkJDM0EyQzY1NEM2NTVDNjU2QzY1N0RDQkNEQ0M1RENCREM2NThDNjU5Q0VERkQ2QTVDNjVBRENDRkM2NUJEQ0NEQzY1Q0M2NUREQ0QyQkRFNkMyQUJDNjVFRENCOERDQ0JEQ0NFRENCRUI3RDJCMEM1RENDN0QwQkVEQ0MxQkJBOEM2NUZCN0JDRENDQ0M2NjBDNjYxRENDNkRDQkZDN0RCQzY2MkM2NjNDNjY0RDFCRkRDQzBDNjY1QzY2NkRDQ0FDNjY3QzY2OERDRDBDNjY5QzY2QUNFQUREQ0MyQzY2QkRDQzNEQ0M4RENDOUIyRDREQ0QxQ0JENUM2NkNENEI3RENEQkRDREZDQ0E2RENFNkM2NkRDM0U3RENEQ0M2NkVDNjZGQkZDMURDRDlDNjcwQjBGQUI5QjZEQ0U1RENEM0M2NzFEQ0M0RENENkM4RjRCRkUwQzY3MkM2NzNDNjc0QzY3NUM5QkJDNjc2QzY3N0M2NzhCMUJEQzY3OUQzQTJDNjdBQzY3QkRDREFDNjdDQzY3RERDRDVDNjdFQzZCQkM2ODBEQ0RFQzY4MUM2ODJDNjgzQzY4NEM2ODVEN0MyQzNBRkI3QjZDN0QxQzNBOURDRTJEQ0Q4RENFQkRDRDRDNjg2QzY4N0RDRERDNjg4QkVBNURDRDdDNjg5RENFMEM2OEFDNjhCRENFM0RDRTRDNjhDRENGOEM2OERDNjhFRENFMUREQTJEQ0U3QzY4RkM2OTBDNjkxQzY5MkM2OTNDNjk0QzY5NUM2OTZDNjk3QzY5OEJDRUJCNEM0QzY5OUM2OUFDM0EzQjJFN0RDRkFDNjlCRENGMkM2OUNEQ0VGQzY5RERDRkNEQ0VFRDJGMEIyRThDNjlFQzhEN0M4RTNEQ0ZCQzY5RkRDRURDNkEwQzc0MEM3NDFEQ0Y3Qzc0MkM3NDNEQ0Y1Qzc0NEM3NDVCRUEzRENGNEM3NDZCMkREQzc0N0M3NDhDNzQ5Qzc0QUM3NEJEQ0YzQkNGNkRDRThCQkM0Qzc0Q0MwRjNDNzREQzc0RUM3NEZDNzUwQzc1MUJDRDREQ0U5RENFQUM3NTJEQ0YxRENGNkRDRjlCNUI0Qzc1M0M4RDlCQkU3RENGRURDRkREM0FCRERBMUREQTNEREE1RDJGMUREQTREREE2RERBN0QyQTlDNzU0Qzc1NUM3NTZDNzU3Qzc1OEM3NTlDNzVBQkFDOUREQTlDNzVCQzc1Q0REQjZEREIxRERCNEM3NURDNzVFQzc1RkM3NjBDNzYxQzc2MkM3NjNEREIwQzZDRUM3NjRDNzY1QzBGMkM3NjZDNzY3Qzc2OEM3NjlDOUFGQzc2QUM3NkJDNzZDRENFQ0REQUVDNzZEQzc2RUM3NkZDNzcwRERCN0M3NzFDNzcyRENGMEREQUZDNzczRERCOEM3NzREREFDQzc3NUM3NzZDNzc3Qzc3OEM3NzlDNzdBQzc3QkREQjlEREIzRERBREM0QUFDNzdDQzc3REM3N0VDNzgwRERBOEMwQjNDMUFCRERBQUREQUJDNzgxRERCMkJCRjFEREI1RDNBOEREQkFDNzgyRERCQkMzQTdDNzgzQzc4NERERDJEREJDQzc4NUM3ODZDNzg3REREMUM3ODhCOUJEQzc4OUM3OEFCRUQ1Qzc4QkJFRkFDNzhDQzc4REJBQ0FDNzhFQzc4RkM3OTBDNzkxRERDQUM3OTJEREM1Qzc5M0REQkZDNzk0Qzc5NUM3OTZCMkNCRERDM0M3OTdERENCQjJBNERERDVDNzk4Qzc5OUM3OUFEREJFQzc5QkM3OUNDNzlEQzZEMERERDBDNzlFQzc5RkM3QTBDODQwQzg0MURERDRDMUUyQjdDNkM4NDJDODQzQzg0NEM4NDVDODQ2RERDRUREQ0ZDODQ3Qzg0OEM4NDlEREM0Qzg0QUM4NEJDODRDRERCREM4NERERENEQ0NEMUM4NEVEREM5Qzg0RkM4NTBDODUxQzg1MkREQzJDM0M4QzZCQ0NFQUVERENDQzg1M0REQzhDODU0Qzg1NUM4NTZDODU3Qzg1OEM4NTlEREMxQzg1QUM4NUJDODVDRERDNkMyRENDODVEQzg1RUM4NUZDODYwQzg2MUM4NjJEM0E5RDNBQURERDNDRkY0QzhGOEM4NjNDODY0Qzg2NUM4NjZDODY3Qzg2OEM4NjlDODZBRERFNkM4NkJDODZDQzg2REM4NkVDODZGQzg3MEREQzdDODcxQzg3MkM4NzNEREUwQzJFNEM4NzRDODc1Qzg3NkM4NzdDODc4Qzg3OUM4N0FDODdCRERFMUM4N0NDODdEQzg3RUM4ODBDODgxQzg4MkM4ODNDODg0Qzg4NUM4ODZEREQ3Qzg4N0M4ODhDODg5Qzg4QUM4OEJENkY4Qzg4Q0RERDlEREQ4QjhGMERERDZDODhEQzg4RUM4OEZDODkwQzZDRkM4OTFCNkFEQzg5MkM4OTNDODk0Qzg5NUM4OTZEREUyQzg5N0JBRjlENEUxRERFN0M4OThDODk5Qzg5QUI0RDBDODlCREREQUM4OUNCRkZCRERFM0M4OURERERGQzg5RURERERDODlGQzhBMEM5NDBDOTQxQzk0MkM5NDNDOTQ0QjVEOUM5NDVDOTQ2Qzk0N0M5NDhERERCREREQ0REREVDOTQ5QkRBRkRERTRDOTRBRERFNUM5NEJDOTRDQzk0REM5NEVDOTRGQzk1MEM5NTFDOTUyRERGNUM5NTNDM0M5Qzk1NEM5NTVDQkUyQzk1NkM5NTdDOTU4Qzk1OURERjJDOTVBQzk1QkM5NUNDOTVEQzk1RUM5NUZDOTYwQzk2MUM5NjJDOTYzQzk2NEM5NjVDOTY2RDhFMUM5NjdDOTY4QzZEMUM5NjlEREY0Qzk2QUM5NkJDOTZDRDVGNERERjNEREYwQzk2REM5NkVEREVDQzk2RkRERUZDOTcwRERFOEM5NzFDOTcyRDBFRUM5NzNDOTc0Qzk3NUM5NzZDOEQ4RERFRUM5NzdDOTc4RERFOUM5NzlDOTdBRERFQUNCRjJDOTdCRERFREM5N0NDOTdEQjFDREM5N0VDOTgwQzk4MUM5ODJDOTgzQzk4NEMwQjZDOTg1QkNCQkRERjFDOTg2Qzk4N0RERjdDOTg4RERGNkRERUJDOTg5Qzk4QUM5OEJDOThDQzk4REM1RUVDOThFQzk4RkM5OTBEREZCQzk5MUM5OTJDOTkzQzk5NEM5OTVDOTk2Qzk5N0M5OThDOTk5Qzk5QUM5OUJERUE0Qzk5Q0M5OURERUEzQzk5RUM5OUZDOUEwQ0E0MENBNDFDQTQyQ0E0M0NBNDRDQTQ1Q0E0NkNBNDdDQTQ4RERGOENBNDlDQTRBQ0E0QkNBNENDM0VGQ0E0REMyRkJDQTRFQ0E0RkNBNTBENUUxQ0E1MUNBNTJDRUI1Q0E1M0NBNTRDQTU1Q0E1NkRERkRDQTU3QjJDQ0NBNThDQTU5Q0E1QUNBNUJDQTVDQ0E1RENBNUVDQTVGQ0E2MEM0RThDQURGQ0E2MUNBNjJDQTYzQ0E2NENBNjVDQTY2Q0E2N0NBNjhDQTY5Q0E2QUM3QkVEREZBRERGQ0RERkVERUEyQjBBQUIxQ0VDQTZCQ0E2Q0NBNkRDQTZFQ0E2RkRFQUNDQTcwQ0E3MUNBNzJDQTczREVBNkJEQjZDOEVGQ0E3NENBNzVDQTc2Q0E3N0NBNzhDQTc5Q0E3QUNBN0JDQTdDQ0E3RENBN0VERUExQ0E4MENBODFERUE1Q0E4MkNBODNDQTg0Q0E4NURFQTlDQTg2Q0E4N0NBODhDQTg5Q0E4QURFQThDQThCQ0E4Q0NBOERERUE3Q0E4RUNBOEZDQTkwQ0E5MUNBOTJDQTkzQ0E5NENBOTVDQTk2REVBRENBOTdENENDQ0E5OENBOTlDQTlBQ0E5QkRFQjNERUFBREVBRUNBOUNDQTlEQzBEOUNBOUVDQTlGQ0FBMENCNDBDQjQxQjFBMURFQjZDQjQyREVCMUNCNDNDQjQ0Q0I0NUNCNDZDQjQ3Q0I0OENCNDlERUIyQ0I0QUNCNEJDQjRDQ0I0RENCNEVDQjRGQ0I1MENCNTFDQjUyQ0I1M0NCNTREMUE2REVCNUNCNTVDQjU2Q0I1N0NCNThDQjU5Q0I1QUNCNUJERUFGQ0I1Q0NCNURDQjVFREVCMENCNUZEMEJEQ0I2MENCNjFDQjYyREVCNENBRURERUI5Q0I2M0NCNjRDQjY1Q0I2NkNCNjdDQjY4REVCOENCNjlERUI3Q0I2QUNCNkJDQjZDQ0I2RENCNkVDQjZGQ0I3MERFQkJDQjcxQ0I3MkNCNzNDQjc0Q0I3NUNCNzZDQjc3QkRFNUNCNzhDQjc5Q0I3QUNCN0JDQjdDQjJEOEMzRUFDQjdEQ0I3RURFQkFDQjgwQzVCQUNCODFDQjgyQ0I4M0NCODRDQjg1Q0I4NkRFQkNDQjg3Q0I4OENCODlDQjhBQ0I4QkNCOENDQjhEQ0NEOUNCOEVDQjhGQ0I5MENCOTFCN0FBQ0I5MkNCOTNDQjk0Q0I5NUNCOTZDQjk3Q0I5OENCOTlDQjlBQ0I5QkNCOUNDQjlEQ0I5RUNCOUZDQkEwQ0M0MENDNDFENEU1Q0M0MkNDNDNDQzQ0REVCRENDNDVDQzQ2Q0M0N0NDNDhDQzQ5REVCRkNDNEFDQzRCQ0M0Q0NDNERDQzRFQ0M0RkNDNTBDQzUxQ0M1MkNDNTNDQzU0QzRBMkNDNTVDQzU2Q0M1N0NDNThERUMxQ0M1OUNDNUFDQzVCQ0M1Q0NDNURDQzVFQ0M1RkNDNjBDQzYxQ0M2MkNDNjNDQzY0Q0M2NUNDNjZDQzY3Q0M2OERFQkVDQzY5REVDMENDNkFDQzZCQ0M2Q0NDNkRDQzZFQ0M2RkNDNzBDQzcxQ0M3MkNDNzNDQzc0Q0M3NUNDNzZDQzc3RDVCQUNDNzhDQzc5Q0M3QURFQzJDQzdCQ0M3Q0NDN0RDQzdFQ0M4MENDODFDQzgyQ0M4M0NDODRDQzg1Q0M4NkNDODdDQzg4Q0M4OUNDOEFDQzhCRjJBRUJCQTJDMkIyQzVCMEMyQzdDQzhDQ0M4REYyQUZDQzhFQ0M4RkNDOTBDQzkxQ0M5MkQwRTlDQzkzQ0M5NENDOTVEM0REQ0M5NkNDOTdDQzk4RUJCRENDOTlDQzlBQ0M5QkNDOUNDQzlEQ0M5RUNDOUZDQ0EwQjNFNkYyQjBDRDQwRjJCMUNENDFDRDQyQ0FBRENENDNDRDQ0Q0Q0NUNENDZDRDQ3Q0Q0OENENDlCQUU3RjJCM0YyQjVGMkI0Q0JFNENGQkFGMkIyQ0FCNEQyQ0ZDMkVDQ0Q0QUNENEJDRDRDQ0Q0RENENEVDRDRGQ0Q1MENFQzNGMkI4QjBGNkYyQjdDRDUxQ0Q1MkNENTNDRDU0Q0Q1NUYyQkVDRDU2QjJDRkNENTdDRDU4Q0Q1OUNENUFDRDVCQ0Q1Q0QxQzFGMkJBQ0Q1RENENUVDRDVGQ0Q2MENENjFGMkJDRDRFOUNENjJDRDYzRjJCQkYyQjZGMkJGRjJCRENENjRGMkI5Q0Q2NUNENjZGMkM3RjJDNEYyQzZDRDY3Q0Q2OEYyQ0FGMkMyRjJDMENENjlDRDZBQ0Q2QkYyQzVDRDZDQ0Q2RENENkVDRDZGQ0Q3MEQ2RkJDRDcxQ0Q3MkNENzNGMkMxQ0Q3NEM3RjlDOURGQ0Q3NUYyQzhCOUM2QjVCMENENzZDRDc3RjJDM0YyQzlGMkQwRjJENkNENzhDRDc5QkJEN0NEN0FDRDdCQ0Q3Q0YyRDVDRERDQ0Q3REQ2RUJDRDdFQ0Q4MEYyRDJGMkQ0Q0Q4MUNEODJDRDgzQ0Q4NEI4RjJDRDg1Q0Q4NkNEODdDRDg4RjJDQkNEODlDRDhBQ0Q4QkYyQ0VDMkY5Q0Q4Q0Q1RERGMkNDRjJDREYyQ0ZGMkQzQ0Q4RENEOEVDRDhGRjJEOUQzQkNDRDkwQ0Q5MUNEOTJDRDkzQjZFQUNEOTRDQUYxQ0Q5NUI3RTRGMkQ3Q0Q5NkNEOTdDRDk4RjJEOEYyREFGMkRERjJEQkNEOTlDRDlBRjJEQ0NEOUJDRDlDQ0Q5RENEOUVEMUQxRjJEMUNEOUZDREM5Q0RBMENFQ0ZENkE5Q0U0MEYyRTNDRTQxQzNEQkNFNDJGMkUwQ0U0M0NFNDRDMEFGRjJFQ0YyREVDRTQ1RjJFMUNFNDZDRTQ3Q0U0OEYyRThDRTQ5Q0U0QUNFNEJDRTRDRjJFMkNFNERDRTRFRjJFN0NFNEZDRTUwRjJFNkNFNTFDRTUyRjJFOUNFNTNDRTU0Q0U1NUYyREZDRTU2Q0U1N0YyRTRGMkVBQ0U1OENFNTlDRTVBQ0U1QkNFNUNDRTVEQ0U1RUQzQUNGMkU1QjJGNUNFNUZDRTYwRjJGMkNFNjFEMEFCQ0U2MkNFNjNDRTY0Q0U2NUYyRjVDRTY2Q0U2N0NFNjhCQkM4Q0U2OUYyRjlDRTZBQ0U2QkNFNkNDRTZEQ0U2RUNFNkZGMkYwQ0U3MENFNzFGMkY2RjJGOEYyRkFDRTcyQ0U3M0NFNzRDRTc1Q0U3NkNFNzdDRTc4Q0U3OUYyRjNDRTdBRjJGMUNFN0JDRTdDQ0U3REJBRkJDRTdFQjVGQkNFODBDRTgxQ0U4MkNFODNGMkVGRjJGN0YyRURGMkVFQ0U4NENFODVDRTg2RjJFQkYzQTZDRTg3RjNBM0NFODhDRTg5RjNBMkNFOEFDRThCRjJGNENFOENDOERBQ0U4RENFOEVDRThGQ0U5MENFOTFGMkZCQ0U5MkNFOTNDRTk0RjNBNUNFOTVDRTk2Q0U5N0NFOThDRTk5Q0U5QUNFOUJDM0Y4Q0U5Q0NFOURDRTlFQ0U5RkNFQTBDRjQwQ0Y0MUNGNDJGMkZEQ0Y0M0NGNDRGM0E3RjNBOUYzQTRDRjQ1RjJGQ0NGNDZDRjQ3Q0Y0OEYzQUJDRjQ5RjNBQUNGNEFDRjRCQ0Y0Q0NGNERDMkREQ0Y0RUNGNEZGM0FFQ0Y1MENGNTFGM0IwQ0Y1MkNGNTNDRjU0Q0Y1NUNGNTZGM0ExQ0Y1N0NGNThDRjU5RjNCMUYzQUNDRjVBQ0Y1QkNGNUNDRjVEQ0Y1RUYzQUZGMkZFRjNBRENGNUZDRjYwQ0Y2MUNGNjJDRjYzQ0Y2NENGNjVGM0IyQ0Y2NkNGNjdDRjY4Q0Y2OUYzQjRDRjZBQ0Y2QkNGNkNDRjZERjNBOENGNkVDRjZGQ0Y3MENGNzFGM0IzQ0Y3MkNGNzNDRjc0RjNCNUNGNzVDRjc2Q0Y3N0NGNzhDRjc5Q0Y3QUNGN0JDRjdDQ0Y3RENGN0VEMEI3Q0Y4MENGODFDRjgyQ0Y4M0YzQjhDRjg0Q0Y4NUNGODZDRjg3RDlGOUNGODhDRjg5Q0Y4QUNGOEJDRjhDQ0Y4REYzQjlDRjhFQ0Y4RkNGOTBDRjkxQ0Y5MkNGOTNDRjk0Q0Y5NUYzQjdDRjk2QzhFNEYzQjZDRjk3Q0Y5OENGOTlDRjlBRjNCQUNGOUJDRjlDQ0Y5RENGOUVDRjlGRjNCQkI0QzBDRkEwRDA0MEQwNDFEMDQyRDA0M0QwNDREMDQ1RDA0NkQwNDdEMDQ4RDA0OUQwNEFEMDRCRDA0Q0QwNERFRUMzRDA0RUQwNEZEMDUwRDA1MUQwNTJEMDUzRjNCQ0QwNTREMDU1RjNCREQwNTZEMDU3RDA1OEQxQUFEMDU5RDA1QUQwNUJGNEFDRDBDNkQwNUNEMDVERDA1RUQwNUZEMDYwRDA2MUQwRDBEMURDRDA2MkQwNjNEMDY0RDA2NUQwNjZEMDY3Q0ZDRUQwNjhEMDY5QkRENkQwNkFEMUMzRDA2QkQwNkNEMDZERDA2RUQwNkZEMDcwRDA3MUJBRTJFMUU5RDJDMkYxQzJCMkI5RDA3MkQwNzNCMUVERjFDM0QwNzRDOUMwQjNDNEQwNzVEOUYyRDA3NkNCQTVEMDc3RjFDNEQwNzhEMDc5RDA3QUQwN0JENkQ0RDA3Q0QwN0REMDdFRDA4MEQwODFGMUM1RjRDMEYxQzZEMDgyRDRBQ0YxQzdEMDgzQjBDMEY0QzFEMDg0RDA4NUY0QzJEMDg2RDA4N0I0RkNEMDg4QzVEQkQwODlEMDhBRDA4QkQwOENDQ0JCRDA4REQwOEVEMDhGRDBFNEQwOTBEMDkxRDA5MkQwOTNEMDk0Q0RFMEQwOTVEMDk2RDA5N0QwOThEMDk5RjFDOEQwOUFEOUYzRDA5QkQwOUNEMDlERDA5RUQwOUZEMEEwQjFCQkQxNDBDRkFFRDE0MUQxNDJEMTQzQjhBNEQxNDREMTQ1RDE0NkQxNDdEMTQ4RjFDQUQxNDlEMTRBRDE0QkQxNENGMUNCRDE0REQxNEVEMTRGRDE1MEIyQzNDMUQxRDE1MUQxNTJEN0IwRjFDOUQxNTNEMTU0RjFDQ0QxNTVEMTU2RDE1N0QxNThGMUNFRDE1OUQxNUFEMTVCRDlGNkQxNUNEMkUxRDRBM0QxNUREMTVFRjRDM0M4QjlEMTVGRDE2MEQxNjFEMTYyRDE2M0Y0QzREMTY0RDE2NUYxQ0RGMUNGQkZFM0YxRDBEMTY2RDE2N0YxRDREMTY4RDE2OUQxNkFEMTZCRDE2Q0QxNkREMTZFRjFENkYxRDFEMTZGQzlEMUM1RTFEMTcwRDE3MUQxNzJDMkUzQjlGQ0QxNzNEMTc0RjFEM0QxNzVGMUQ1RDE3NkQxNzdEMTc4QjlEM0QxNzlEMTdBRDE3QkQxN0NEMTdERDE3RUQxODBGMURCRDE4MUQxODJEMTgzRDE4NEQxODVCQUQ2RDE4NkIwRkRGMUQ5RDE4N0QxODhEMTg5RDE4QUQxOEJGMUQ4RjFEMkYxREFEMThDRDE4REQxOEVEMThGRDE5MEYxRDdEMTkxRDE5MkQxOTNDOEVDRDE5NEQxOTVEMTk2RDE5N0NEQ0FGMURERDE5OEQxOTlEMTlBRDE5QkU1QkREMTlDRDE5REQxOUVGMURDRDE5RkYxREVEMUEwRDI0MEQyNDFEMjQyRDI0M0QyNDREMjQ1RDI0NkQyNDdEMjQ4RjFERkQyNDlEMjRBQ0ZFNUQyNEJEMjRDRDI0REQyNEVEMjRGRDI1MEQyNTFEMjUyRDI1M0QyNTREMjU1RDI1NkQyNTdEMjU4RDI1OUQyNUFEMjVCRDI1Q0QyNUREMjVFRDI1RkQyNjBEMjYxRDI2MkQyNjNGNEM1QkRGM0QyNjREMjY1RDI2NkQyNjdEMjY4RDI2OUYxRTBEMjZBRDI2QkQyNkNEMjZERDI2RUQyNkZEMjcwRDI3MUQyNzJEMjczRDI3NEQyNzVEMjc2RDI3N0QyNzhEMjc5RDI3QUQyN0JEMjdDRDI3REYxRTFEMjdFRDI4MEQyODFDRUY3RDI4MkQyQUFEMjgzRjFGQkQyODREMjg1QjhCMkQyODZEMjg3RDI4OEQyODlEMjhBRDI4QkQyOENEMjhERDI4RUQyOEZEMjkwRDI5MUQyOTJEMjkzRDI5NEQyOTVEMjk2RDI5N0QyOThEMjk5RDI5QUQyOUJEMjlDRDI5REQyOUVEMjlGRDJBMEQzNDBEMzQxRDM0MkQzNDNEMzQ0RDM0NUQzNDZEMzQ3RDM0OEQzNDlEMzRBRDM0QkQzNENEMzRERDM0RUQzNEZEMzUwRDM1MUQzNTJEMzUzRDM1NEQzNTVEMzU2RDM1N0QzNThEMzU5RDM1QUQzNUJEMzVDRDM1REQzNUVCQ0ZCQjlEQkQzNUZCOUU2QzNEOUNBRDNFQUU4QzBDMEJFRjVFQUU5RUFFQUVBRUJEMzYwRUFFQ0VBRURFQUVFRUFFRkJEQzdEMzYxRDM2MkQzNjNGNUZCRDM2NEQzNjVEMzY2RjVGREQzNjdGNUZFRDM2OEY1RkNEMzY5RDM2QUQzNkJEMzZDQkRFMkQzNkRGNkExQjRBNUQzNkVEMzZGRDM3MEQzNzFGNkEyRDM3MkQzNzNEMzc0RjZBM0QzNzVEMzc2RDM3N0VDQjJEMzc4RDM3OUQzN0FEMzdCRDM3Q0QzN0REMzdFRDM4MEQzODFEMzgyRDM4M0QzODREMUQ0RDM4NUQzODZEMzg3RDM4OEQzODlEMzhBRDlFQUQzOEJEMzhDRDM4REQzOEVEMzhGRDM5MEQzOTFEMzkyRDM5M0QzOTREMzk1RDM5NkQzOTdEMzk4RDM5OUQzOUFEMzlCRDM5Q0QzOUREMzlFRDM5RkQzQTBENDQwRDQ0MUQ0NDJENDQzRDQ0NEQ0NDVENDQ2RDQ0N0Q0NDhENDQ5RDQ0QUQ0NEJENDRDRDQ0REQ0NEVENDRGRDQ1MEQ0NTFENDUyRDQ1M0Q0NTRENDU1RDQ1NkQ0NTdENDU4RDQ1OUQ0NUFENDVCRDQ1Q0Q0NURENDVFRDQ1RkY2QTRENDYwRDQ2MUQ0NjJENDYzRDQ2NEQ0NjVENDY2RDQ2N0Q0NjhFRUJBRDQ2OUQ0NkFENDZCRDQ2Q0Q0NkRENDZFRDQ2RkQ0NzBENDcxRDQ3MkQ0NzNENDc0RDQ3NUQ0NzZENDc3RDQ3OEQ0NzlENDdBRDQ3QkQ0N0NENDdERDQ3RUQ0ODBENDgxRDQ4MkQ0ODNENDg0RDQ4NUQ0ODZENDg3RDQ4OEQ0ODlENDhBRDQ4QkQ0OENENDhERDQ4RUQ0OEZENDkwRDQ5MUQ0OTJENDkzRDQ5NEQ0OTVENDk2RDQ5N0Q0OThENDk5RDVCMkQ0OUFENDlCRDQ5Q0Q0OURENDlFRDQ5RkQ0QTBENTQwRDU0MUQ1NDJENTQzRDU0NEQ1NDVENTQ2RDU0N0QzRkVDQ0RDRDU0OEQ1NDlENTRBRDU0QkQ1NENENTRERDU0RUQ1NEZDQUM0RDU1MEQ1NTFENTUyRDU1M0Q1NTRENTU1RDU1NkQ1NTdENTU4RDU1OUQ1NUFENTVCRDU1Q0Q1NURENTVFRDU1RkQ1NjBENTYxRDU2MkQ1NjNENTY0RDU2NUQ1NjZENTY3RDU2OEQ1NjlENTZBRDU2QkQ1NkNENTZERDU2RUQ1NkZENTcwRDU3MUQ1NzJENTczRDU3NEQ1NzVENTc2RDU3N0Q1NzhENTc5RDU3QUQ1N0JENTdDRDU3REQ1N0VENTgwRDU4MUQ1ODJENTgzRDU4NEQ1ODVENTg2RDU4N0Q1ODhENTg5RDU4QUQ1OEJENThDRDU4REQ1OEVENThGRDU5MEQ1OTFENTkyRDU5M0Q1OTRENTk1RDU5NkQ1OTdENTk4RDU5OUQ1OUFENTlCRDU5Q0Q1OURENTlFRDU5RkQ1QTBENjQwRDY0MUQ2NDJENjQzRDY0NEQ2NDVENjQ2RDY0N0Q2NDhENjQ5RDY0QUQ2NEJENjRDRDY0REQ2NEVENjRGRDY1MEQ2NTFENjUyRDY1M0Q2NTRENjU1RDY1NkQ2NTdENjU4RDY1OUQ2NUFENjVCRDY1Q0Q2NURENjVFRDY1RkQ2NjBENjYxRDY2MkU1QzBENjYzRDY2NEQ2NjVENjY2RDY2N0Q2NjhENjY5RDY2QUQ2NkJENjZDRDY2REQ2NkVENjZGRDY3MEQ2NzFENjcyRDY3M0Q2NzRENjc1RDY3NkQ2NzdENjc4RDY3OUQ2N0FENjdCRDY3Q0Q2N0RENjdFRDY4MEQ2ODFGNkE1RDY4MkQ2ODNENjg0RDY4NUQ2ODZENjg3RDY4OEQ2ODlENjhBRDY4QkQ2OENENjhERDY4RUQ2OEZENjkwRDY5MUQ2OTJENjkzRDY5NEQ2OTVENjk2RDY5N0Q2OThENjk5RDY5QUQ2OUJENjlDRDY5REQ2OUVENjlGRDZBMEQ3NDBENzQxRDc0MkQ3NDNENzQ0RDc0NUQ3NDZENzQ3RDc0OEQ3NDlENzRBRDc0QkQ3NENENzRERDc0RUQ3NEZENzUwRDc1MUQ3NTJENzUzRDc1NEQ3NTVENzU2RDc1N0Q3NThENzU5RDc1QUQ3NUJENzVDRDc1REQ3NUVENzVGQkVBRkQ3NjBENzYxRDc2MkQ3NjNENzY0QzZBOUQ3NjVENzY2RDc2N0Q3NjhENzY5RDc2QUQ3NkJENzZDRDc2REQ3NkVENzZGRDc3MEQ3NzFENzcyRDc3M0Q3NzRENzc1RDc3NkQ3NzdENzc4RDc3OUQ3N0FENzdCRDc3Q0Q3N0RENzdFRDc4MEQ3ODFENzgyRDc4M0Q3ODRENzg1RDc4NkQ3ODdENzg4RDc4OUQ3OEFENzhCRDc4Q0Q3OERENzhFRDc4RkQ3OTBENzkxRDc5MkQ3OTNENzk0RDc5NUQ3OTZENzk3RDc5OERBQTVCQ0M2QjZBOUI4QkNDOENGQkNBNURBQTZEQUE3Q0NENkM4QzNEQUE4QzZGREQ3OTlEMUI1RDJFOUQxQjZCQ0M3RDc5QUJEQjJCQkU0REFBOURBQUFEMUM4REFBQkQwRURCNkVGQzJEQkQ3OUJDQkNGQjdFREM5RThCN0MzQkVGN0Q2QTREQUFDREFBREM2QzBEN0U3Q0FCNkQ3OUNENUE5Q0JERkQ1RUZEQUFFRDZERkI0Q0FEQUIwREFBRkQ3OUREMkVCREFCMURBQjJEQUIzQ0FENERBQjRDQUFCREFCNURBQjZCM0NGRDZFRkRBQjdCQkIwQjVBRURBQjhEQUI5QjlFRUQxQUZEMkU4REFCQUI4QzNDRkVBQjJFRkRBQkJEQUJDRDc5RUJERUJDRURDRDNFRkRBQkRDRUYzREFCRUQzRDVCQkU1REFCRkNCQjVDQkQwREFDMEM3RUJENkVFREFDMUM1QjVCNkMxREFDMkI3Q0NCRkNFREFDM0RBQzRDQkFEREFDNUI1RjdEQUM2QzFDMkQ3QkJEQUM3Q0NCOEQ3OUZEMkVBQzRCMURBQzhCNUZEQkJEMURBQzlEMEIzREFDQURBQ0JDRUJEREFDQ0RBQ0REQUNFQjJGN0RBRDFEQUNGRDFFOERBRDBDM0Q1REFEMkQ3QTBEQUQzREFENERBRDVEMEJCRDJBNUIwRjlEQUQ2QzdBQkRBRDdCREY3QzNBMURBRDhEQUQ5QzNGRENDQjdEQURBREFEQkMwQkVDNkQ3REFEQ0RBRERDN0I0REFERURBREZCOUM4RDg0MEQ4NDFEODQyRDg0M0Q4NDREODQ1RDg0NkQ4NDdEODQ4QkJFREQ4NDlEODRBRDg0QkQ4NENCNkI5RjRGOEQ4NERGNEY5RDg0RUQ4NEZDREUzRDg1MEQ4NTFEODUyRDg1M0Q4NTREODU1RDg1NkQ4NTdGNUI5RDg1OEQ4NTlEODVBRDg1QkVCRTBEODVDRDg1REQ4NUVEODVGRDg2MEQ4NjFDRkYzQkJCRkQ4NjJEODYzRDg2NEQ4NjVEODY2RDg2N0Q4NjhCQUMwRDRBNUQ4NjlEODZBRDg2QkQ4NkNEODZERDg2RUQ4NkZFMUQ5RDg3MEQ4NzFEODcyRDg3M0Y1RjRCMUFBQjJGMkQ4NzREODc1RDg3NkQ4NzdEODc4RDg3OUQ4N0FGNUY1RDg3QkQ4N0NGNUY3RDg3REQ4N0VEODgwQkFEMUY1RjZEODgxQzNCMkQ4ODJEODgzRDg4NEQ4ODVEODg2RDg4N0Q4ODhGNUY5RDg4OUQ4OEFEODhCRjVGOEQ4OENEODhERDg4RUQ4OEZEODkwRDg5MUQ4OTJEODkzRDg5NEQ4OTVEODk2RDg5N0Q4OThEODk5RDg5QUQ4OUJEODlDRDg5REQ4OUVEODlGRDhBMEQ5NDBEOTQxRDk0MkQ5NDNEOTQ0RDk0NUQ5NDZEOTQ3RDk0OEQ5NDlEOTRBRDk0QkQ5NENEOTRERDk0RUQ5NEZEOTUwRDk1MUQ5NTJEOTUzRDk1NEQ5NTVEOTU2RDk1N0Q5NThEOTU5RDk1QUQ5NUJEOTVDRDk1REQ5NUVEOTVGRDk2MEQ5NjFEOTYyRDk2M0Q5NjREOTY1RDk2NkQ5NjdEOTY4RDk2OUQ5NkFEOTZCRDk2Q0Q5NkREOTZFRDk2RkQ5NzBEOTcxRDk3MkQ5NzNEOTc0RDk3NUQ5NzZEOTc3RDk3OEQ5NzlEOTdBRDk3QkQ5N0NEOTdERDk3RUQ5ODBEOTgxRDk4MkQ5ODNEOTg0RDk4NUQ5ODZEOTg3RDk4OEQ5ODlEOThBRDk4QkQ5OENEOThERDk4RUQ5OEZEOTkwRDk5MUQ5OTJEOTkzRDk5NEQ5OTVEOTk2RDk5N0Q5OThEOTk5RDk5QUQ5OUJEOTlDRDk5REQ5OUVEOTlGRDlBMERBNDBEQTQxREE0MkRBNDNEQTQ0REE0NURBNDZEQTQ3REE0OERBNDlEQTRBREE0QkRBNENEQTREREE0RUIxQjRENUVBQjhCQURBNEZCOUIxQjJDNkQ0RjBDRkNEQjBEQ0Q1Q0JCQkY1RDZDQUI3QjdDQ0IwQzZCNkIxRTFCOUJBRDZGQ0I5RTFCN0ExQkNGQUVBREFFQURCQ0NGOUI5RjNFQURDQjRGQkMzQjNCN0QxQkFEOEVBRERENEY0RUFERUJDRDZCQkRGRUFERkMxREVDMkI4RDRERkQ3Q0FFQUUwRUFFMUVBRTRFQUUyRUFFM0M5REVCOEIzQjZDNEVBRTVDQUVBQzlDREI0Q0REQTUwREE1MUUyRDlDNUUyRUFFNkMwQjVEQTUyRDdCOEVBRTdEN0FDQzhGQ0Q4RDNEOENERDRERURBNTNENEY5QzlDNEQzQUVCOEQzQjNFMERBNTRDOUUyRjRGNkRBNTVEQTU2REE1N0JBRDVEQTU4RjRGN0RBNTlEQTVBRDdERkRBNUJEQTVDRjRGMUI4QjBENUQ0QjhDRkM2RjBEQTVEREE1RURBNUZEQTYwREE2MURBNjJEQTYzREE2NERBNjVCM0MzREE2NkRBNjdGNEYyQjNBQ0RBNjhEQTY5REE2QURBNkJENEJEQzdGN0RBNkNEQTZEREE2RURBNkZEQTcwRjRGNERBNzFEQTcyRjRGM0RBNzNEQTc0REE3NURBNzZEQTc3REE3OERBNzlEQTdBREE3QkRBN0NDQ0NCREE3RERBN0VEQTgwQzhBNERBODFEQTgyREE4M0RBODREQTg1REE4NkRBODdEQTg4REE4OURBOEFEQThCREE4Q0RBOERGNEY1REE4RUQ3RTNDNUJGRjVDMERBOEZEQTkwRjVCQkRBOTFGNUMzREE5MkY1QzJEQTkzRDZCQUY1QzFEQTk0REE5NURBOTZENEJFRjVDNERBOTdGNUNDREE5OERBOTlEQTlBREE5QkIwQ0ZCNUY4REE5Q0Y1QzlGNUNBREE5REM1RENEQTlFREE5RkRBQTBEQjQwRjVDNUY1QzZEQjQxREI0MkY1QzdGNUNCREI0M0JFRTBGNUM4QjhGQURCNDREQjQ1REI0NkY1RDBGNUQzREI0N0RCNDhEQjQ5QkZFN0RCNEFCOUYyRjVCQ0Y1Q0REQjRCREI0Q0MyQjdEQjREREI0RURCNEZDQ0Y4REI1MEJDRjlEQjUxRjVDRUY1Q0ZGNUQxQjZFNUY1RDJEQjUyRjVENURCNTNEQjU0REI1NURCNTZEQjU3REI1OERCNTlGNUJEREI1QURCNUJEQjVDRjVENEQzQkJEQjVEQjNFQ0RCNUVEQjVGQ0NBNERCNjBEQjYxREI2MkRCNjNGNUQ2REI2NERCNjVEQjY2REI2N0RCNjhEQjY5REI2QURCNkJGNUQ3QkVFMUY1RDhEQjZDREI2RENDREZGNURCREI2RURCNkZEQjcwREI3MURCNzJCMkM4RDdEOURCNzNGNUQ5REI3NEY1REFGNURDREI3NUY1RTJEQjc2REI3N0RCNzhGNUUwREI3OURCN0FEQjdCRjVERkY1REREQjdDREI3REY1RTFEQjdFREI4MEY1REVGNUU0RjVFNURCODFDQ0UzREI4MkRCODNFNUJGQjVCOEY1RTNGNUU4Q0NBM0RCODREQjg1REI4NkRCODdEQjg4RjVFNkY1RTdEQjg5REI4QURCOEJEQjhDREI4RERCOEVGNUJFREI4RkRCOTBEQjkxREI5MkRCOTNEQjk0REI5NURCOTZEQjk3REI5OERCOTlEQjlBQjFDNERCOUJEQjlDRjVCRkRCOUREQjlFQjVDNUIyRTREQjlGRjVFQ0Y1RTlEQkEwQjZEN0RDNDBGNUVEREM0MUY1RUFEQzQyREM0M0RDNDREQzQ1REM0NkY1RUJEQzQ3REM0OEI0REFEQzQ5RDRFQURDNEFEQzRCREM0Q0Y1RUVEQzREQjNGOURDNEVEQzRGREM1MERDNTFEQzUyREM1M0RDNTRGNUVGRjVGMURDNTVEQzU2REM1N0Y1RjBEQzU4REM1OURDNUFEQzVCREM1Q0RDNUREQzVFRjVGMkRDNUZGNUYzREM2MERDNjFEQzYyREM2M0RDNjREQzY1REM2NkRDNjdEQzY4REM2OURDNkFEQzZCQzlFREI5QUFEQzZDREM2REM3RkJEQzZFREM2RkI2RTNEQzcwREM3MURDNzJEQzczREM3NERDNzVEQzc2Q0NDOURDNzdEQzc4REM3OURDN0FEQzdCREM3Q0RDN0REQzdFREM4MERDODFEQzgyREM4M0RDODREQzg1REM4NkRDODdEQzg4REM4OURDOEFFQUE2REM4QkRDOENEQzhEREM4RURDOEZEQzkwREM5MURDOTJEQzkzREM5NERDOTVEQzk2REM5N0RDOThEQzk5REM5QURDOUJEQzlDREM5RERDOUVEQzlGRENBMERENDBERDQxREQ0MkRENDNERDQ0REQ0NURENDZERDQ3REQ0OERENDlERDRBREQ0QkRENENERDREREQ0RURENEZERDUwREQ1MURENTJERDUzREQ1NERENTVERDU2REQ1N0RENThERDU5REQ1QURENUJERDVDREQ1RERENUVERDVGREQ2MERENjFERDYyREQ2M0RENjRERDY1REQ2NkRENjdERDY4REQ2OURENkFERDZCREQ2Q0RENkRERDZFREQ2RkRENzBERDcxREQ3MkRENzNERDc0REQ3NURENzZERDc3REQ3OERENzlERDdBREQ3QkREN0NERDdEREQ3RUREODBERDgxREQ4MkREODNERDg0REQ4NUREODZERDg3REQ4OEREODlERDhBREQ4QkREOENERDhEREQ4RUREOEZERDkwREQ5MUREOTJERDkzREQ5NEREOTVERDk2REQ5N0REOThERDk5REQ5QUREOUJERDlDREQ5REREOUVERDlGRERBMERFNDBERTQxREU0MkRFNDNERTQ0REU0NURFNDZERTQ3REU0OERFNDlERTRBREU0QkRFNENERTREREU0RURFNEZERTUwREU1MURFNTJERTUzREU1NERFNTVERTU2REU1N0RFNThERTU5REU1QURFNUJERTVDREU1RERFNUVERTVGREU2MEIzQjVENEZFQjlFQ0QwRjlERTYxRTlFREQ3QUFFOUVFQzJENkM4RURCQUU0RTlFRkU5RjBFOUYxRDZFMUU5RjJFOUYzRTlGNUU5RjRFOUY2RTlGN0M3RTFFOUY4RDREOEU5RjlCRENFREU2MkU5RkFFOUZCQkRDRkU5RkNCOEE4QzFCRUU5RkRCMUIyQkJENEI5RjVFOUZFREU2M0VBQTFFQUEyRUFBM0I3RjhCQ0FEREU2NENBRTRFMENFRDRBRkNGQkRENUI3RUFBNEQ1REVFQUE1RDBDMUI5QkNERTY1QjRDN0IxRDlERTY2REU2N0RFNjhDMEIxREU2OURFNkFERTZCREU2Q0IxRTZCMUU3REU2REIxRThERTZFREU2RkRFNzBERTcxQjNCREM4RThERTcyREU3M0RFNzRERTc1RTVDMURFNzZERTc3QjFERkRFNzhERTc5REU3QUMxQzlCNEVGREU3QkRFN0NDN0E4RDNEOERFN0RDNkY5RDFCOERFN0VCOUZEQzJGNURFODBERTgxREU4MkRFODNERTg0RDNBRERFODVENENCQkRGQ0RFODZFNUMyQjdCNUU1QzNERTg3REU4OEJCQjlENUUyREU4OUJERjhENEI2Q0VBNUMxQUNCM0Q5REU4QURFOEJDQ0Y2REU4Q0U1QzZFNUM0RTVDOERFOERFNUNBRTVDN0I1Q0ZDNkM4REU4RUI1RkNFNUM1REU4RkNBRjZERTkwREU5MUU1QzlERTkyREU5M0RFOTRDM0Q0QjFDNUJDQTNERTk1REU5NkRFOTdEN0I3REU5OERFOTlDRENCQ0JDRENBQ0FDQ0QzRTVDQ0U1Q0JDNEU2REU5QURFOUJEMUExRDFCN0U1Q0RERTlDRTVEMERFOURDREI4RDZGMEU1Q0ZCNUREREU5RUNEQkVERTlGRTVEMUI2QkFERUEwREY0MENEQThCOUU0REY0MUNBQzVCM0QxQ0JEOUQ0RUNFNUQyQjdFQURGNDJERjQzREY0NEU1Q0VERjQ1REY0NkRGNDdERjQ4REY0OURGNEFFNUQ1QjRGRUU1RDZERjRCREY0Q0RGNERERjRFREY0RkU1RDNFNUQ0REY1MEQyRERERjUxREY1MkMyREZCMUM2REY1M0QzRTJERjU0REY1NUI2RERDQkVDREY1NkU1RDdERjU3REY1OEQzRjZERjU5REY1QURGNUJERjVDREY1REIxRTlERjVFQjZGNEU1REFFNUQ4RTVEOUI1QzBERjVGREY2MERGNjFEMkM1RTVEQ0RGNjJERjYzRTVERURGNjRERjY1REY2NkRGNjdERjY4REY2OUU1RERDN0IyREY2QUQyQTNERjZCREY2Q0U1REJERjZEREY2RURGNkZERjcwRDRFMkQ1REFERjcxREY3MkRGNzNERjc0REY3NUU1RTBEN0YxREY3NkRGNzdERjc4REY3OURGN0FERjdCREY3Q0U1RTFERjdEQjFEQ0QxRkJERjdFRTVFMkU1RTRERjgwREY4MURGODJERjgzRTVFM0RGODRERjg1RTVFNURGODZERjg3REY4OERGODlERjhBRDJEOERGOEJCNUNCREY4Q0U3REZERjhEREFGNURGOEVEQUY4REY4RkRBRjZERjkwREFGN0RGOTFERjkyREY5M0RBRkFEMENGQzRDN0RGOTRERjk1QjBFRURGOTZERjk3REY5OEQwQjBERjk5REFGOURGOUFEM0NBQkFBQURCQTJDN0YxREY5QkRBRkNEQUZCQzlEQkRBRkRERjlDREJBMUQ3REVEQUZFQzFEQURGOURERjlFREJBNURGOUZERkEwRDNGNEUwNDBFMDQxREJBN0RCQTRFMDQyREJBOEUwNDNFMDQ0QkRCQ0UwNDVFMDQ2RTA0N0MwQzlEQkEzREJBNkQ2QTNFMDQ4REJBOUUwNDlFMDRBRTA0QkRCQURFMDRDRTA0REUwNEVEQkFFREJBQ0JBQzJFMDRGRTA1MEUwNTFCRkE0REJBQkUwNTJFMDUzRTA1NERCQUFENEM3QjJCRkUwNTVFMDU2REJBRkUwNTdCOUY5RTA1OERCQjBFMDU5RTA1QUUwNUJFMDVDQjNCQkUwNURFMDVFRTA1RkI1QTZFMDYwRTA2MUUwNjJFMDYzQjZCQ0RCQjFFMDY0RTA2NUUwNjZCNkY1RTA2N0RCQjJFMDY4RTA2OUUwNkFFMDZCRTA2Q0UwNkRFMDZFRTA2RkUwNzBFMDcxRTA3MkUwNzNFMDc0RTA3NUUwNzZFMDc3RTA3OEUwNzlFMDdBRTA3QkIxQzlFMDdDRTA3REUwN0VFMDgwREJCNEUwODFFMDgyRTA4M0RCQjNEQkI1RTA4NEUwODVFMDg2RTA4N0UwODhFMDg5RTA4QUUwOEJFMDhDRTA4REUwOEVEQkI3RTA4RkRCQjZFMDkwRTA5MUUwOTJFMDkzRTA5NEUwOTVFMDk2REJCOEUwOTdFMDk4RTA5OUUwOUFFMDlCRTA5Q0UwOURFMDlFRTA5RkRCQjlFMEEwRTE0MERCQkFFMTQxRTE0MkQzQ0ZGNEZBQzdGNUQ3QzNDNUU0RjRGQ0Y0RkRGNEZCRTE0M0JFQzZFMTQ0RTE0NUUxNDZFMTQ3RDBFRkUxNDhFMTQ5QjdEM0UxNEFFMTRCRDRDRENDQUFFMTRDRTE0REY1QTJGNUExQkFBOEY0RkVDQkQ2RTE0RUUxNEZFMTUwRjVBNEMwRDJFMTUxQjNFQUUxNTJDREFBRjVBNUY1QTNCREI0RjVBOEUxNTNGNUE5QkRDREMzQjhCRkUxQ0JFMUY1QUFFMTU0RTE1NUUxNTZGNUE2RjVBN0M0RjBFMTU3RTE1OEUxNTlFMTVBRTE1QkY1QUNFMTVDQjRCQ0UxNUREN0VERTE1RUI0RDdGNUFCRjVBRUUxNUZFMTYwRjVBREY1QUZEMEQxRTE2MUUxNjJFMTYzRTE2NEUxNjVFMTY2RTE2N0MzRDFDOEE5RTE2OEUxNjlFMTZBRTE2QkUxNkNFMTZERjVCMEY1QjFFMTZFRTE2RkUxNzBFMTcxRTE3MkUxNzNGNUIyRTE3NEUxNzVGNUIzRjVCNEY1QjVFMTc2RTE3N0UxNzhFMTc5RjVCN0Y1QjZFMTdBRTE3QkUxN0NFMTdERjVCOEUxN0VFMTgwRTE4MUUxODJFMTgzRTE4NEUxODVFMTg2RTE4N0UxODhFMTg5RTE4QUIyQzlFMThCRDNENENBQ0RFMThDQzBFRkQ2RDhEMkIwQzFCRkUxOERCREYwRTE4RUUxOEZFMTkwRTE5MUUxOTJFMTkzRTE5NEUxOTVFMTk2RTE5N0I4QUFFMTk4RTE5OUUxOUFFMTlCRTE5Q0UxOURFMTlFRTE5RkUxQTBFMjQwRTI0MUUyNDJFMjQzRTI0NEUyNDVFMjQ2RTI0N0UyNDhFMjQ5RTI0QUUyNEJFMjRDRTI0REUyNEVFMjRGRTI1MEUyNTFFMjUyRTI1M0UyNTRFMjU1RTI1NkUyNTdFMjU4RTI1OUUyNUFFMjVCRTI1Q0UyNURFMjVFRTI1RkUyNjBFMjYxRTI2MkUyNjNFMjY0RTI2NUUyNjZFMjY3RTI2OEUyNjlFMjZBRTI2QkUyNkNFMjZERTI2RUUyNkZFMjcwRTI3MUUyNzJFMjczRTI3NEUyNzVFMjc2RTI3N0UyNzhFMjc5RTI3QUUyN0JFMjdDRTI3REUyN0VFMjgwRTI4MUUyODJFMjgzRTI4NEUyODVFMjg2RTI4N0UyODhFMjg5RTI4QUUyOEJFMjhDRTI4REUyOEVFMjhGRTI5MEUyOTFFMjkyRTI5M0UyOTRFMjk1RTI5NkUyOTdFMjk4RTI5OUUyOUFFMjlCRTI5Q0UyOURFMjlFRTI5RkUyQTBFMzQwRTM0MUUzNDJFMzQzRTM0NEUzNDVFMzQ2RTM0N0UzNDhFMzQ5RTM0QUUzNEJFMzRDRTM0REUzNEVFMzRGRTM1MEUzNTFFMzUyRTM1M0UzNTRFMzU1RTM1NkUzNTdFMzU4RTM1OUUzNUFFMzVCRTM1Q0UzNURFMzVFRTM1RkUzNjBFMzYxRTM2MkUzNjNFMzY0RTM2NUUzNjZFMzY3RTM2OEUzNjlFMzZBRTM2QkUzNkNFMzZEQkNGOEUzNkVFMzZGRTM3MEUzNzFFMzcyRTM3M0UzNzRFMzc1RTM3NkUzNzdFMzc4RTM3OUUzN0FFMzdCRTM3Q0UzN0RFMzdFRTM4MEUzODFFMzgyRTM4M0UzODRFMzg1RTM4NkUzODdGNkM2RTM4OEUzODlFMzhBRTM4QkUzOENFMzhERTM4RUUzOEZFMzkwRTM5MUUzOTJFMzkzRTM5NEUzOTVFMzk2RTM5N0UzOThFMzk5RTM5QUUzOUJFMzlDRTM5REUzOUVFMzlGRTNBMEU0NDBFNDQxRTQ0MkU0NDNFNDQ0RTQ0NUY2QzdFNDQ2RTQ0N0U0NDhFNDQ5RTQ0QUU0NEJFNDRDRTQ0REU0NEVFNDRGRTQ1MEU0NTFFNDUyRTQ1M0U0NTRFNDU1RTQ1NkU0NTdFNDU4RTQ1OUU0NUFFNDVCRTQ1Q0U0NURFNDVFRjZDOEU0NUZFNDYwRTQ2MUU0NjJFNDYzRTQ2NEU0NjVFNDY2RTQ2N0U0NjhFNDY5RTQ2QUU0NkJFNDZDRTQ2REU0NkVFNDZGRTQ3MEU0NzFFNDcyRTQ3M0U0NzRFNDc1RTQ3NkU0NzdFNDc4RTQ3OUU0N0FFNDdCRTQ3Q0U0N0RFNDdFRTQ4MEU0ODFFNDgyRTQ4M0U0ODRFNDg1RTQ4NkU0ODdFNDg4RTQ4OUU0OEFFNDhCRTQ4Q0U0OERFNDhFRTQ4RkU0OTBFNDkxRTQ5MkU0OTNFNDk0RTQ5NUU0OTZFNDk3RTQ5OEU0OTlFNDlBRTQ5QkU0OUNFNDlERTQ5RUU0OUZFNEEwRTU0MEU1NDFFNTQyRTU0M0U1NDRFNTQ1RTU0NkU1NDdFNTQ4RTU0OUU1NEFFNTRCRTU0Q0U1NERFNTRFRTU0RkU1NTBFNTUxRTU1MkU1NTNFNTU0RTU1NUU1NTZFNTU3RTU1OEU1NTlFNTVBRTU1QkU1NUNFNTVERTU1RUU1NUZFNTYwRTU2MUU1NjJFNTYzRTU2NEU1NjVFNTY2RTU2N0U1NjhFNTY5RTU2QUU1NkJFNTZDRTU2REU1NkVFNTZGRTU3MEU1NzFFNTcyRTU3M0Y2QzlFNTc0RTU3NUU1NzZFNTc3RTU3OEU1NzlFNTdBRTU3QkU1N0NFNTdERTU3RUU1ODBFNTgxRTU4MkU1ODNFNTg0RTU4NUU1ODZFNTg3RTU4OEU1ODlFNThBRTU4QkU1OENFNThERTU4RUU1OEZFNTkwRTU5MUU1OTJFNTkzRTU5NEU1OTVFNTk2RTU5N0U1OThFNTk5RTU5QUU1OUJFNTlDRTU5REU1OUVFNTlGRjZDQUU1QTBFNjQwRTY0MUU2NDJFNjQzRTY0NEU2NDVFNjQ2RTY0N0U2NDhFNjQ5RTY0QUU2NEJFNjRDRTY0REU2NEVFNjRGRTY1MEU2NTFFNjUyRTY1M0U2NTRFNjU1RTY1NkU2NTdFNjU4RTY1OUU2NUFFNjVCRTY1Q0U2NURFNjVFRTY1RkU2NjBFNjYxRTY2MkY2Q0NFNjYzRTY2NEU2NjVFNjY2RTY2N0U2NjhFNjY5RTY2QUU2NkJFNjZDRTY2REU2NkVFNjZGRTY3MEU2NzFFNjcyRTY3M0U2NzRFNjc1RTY3NkU2NzdFNjc4RTY3OUU2N0FFNjdCRTY3Q0U2N0RFNjdFRTY4MEU2ODFFNjgyRTY4M0U2ODRFNjg1RTY4NkU2ODdFNjg4RTY4OUU2OEFFNjhCRTY4Q0U2OERFNjhFRTY4RkU2OTBFNjkxRTY5MkU2OTNFNjk0RTY5NUU2OTZFNjk3RTY5OEU2OTlFNjlBRTY5QkU2OUNFNjlERjZDQkU2OUVFNjlGRTZBMEU3NDBFNzQxRTc0MkU3NDNFNzQ0RTc0NUU3NDZFNzQ3RjdFOUU3NDhFNzQ5RTc0QUU3NEJFNzRDRTc0REU3NEVFNzRGRTc1MEU3NTFFNzUyRTc1M0U3NTRFNzU1RTc1NkU3NTdFNzU4RTc1OUU3NUFFNzVCRTc1Q0U3NURFNzVFRTc1RkU3NjBFNzYxRTc2MkU3NjNFNzY0RTc2NUU3NjZFNzY3RTc2OEU3NjlFNzZBRTc2QkU3NkNFNzZERTc2RUU3NkZFNzcwRTc3MUU3NzJFNzczRTc3NEU3NzVFNzc2RTc3N0U3NzhFNzc5RTc3QUU3N0JFNzdDRTc3REU3N0VFNzgwRTc4MUU3ODJFNzgzRTc4NEU3ODVFNzg2RTc4N0U3ODhFNzg5RTc4QUU3OEJFNzhDRTc4REU3OEVFNzhGRTc5MEU3OTFFNzkyRTc5M0U3OTRFNzk1RTc5NkU3OTdFNzk4RTc5OUU3OUFFNzlCRTc5Q0U3OURFNzlFRTc5RkU3QTBFODQwRTg0MUU4NDJFODQzRTg0NEU4NDVFODQ2RTg0N0U4NDhFODQ5RTg0QUU4NEJFODRDRTg0REU4NEVGNkNERTg0RkU4NTBFODUxRTg1MkU4NTNFODU0RTg1NUU4NTZFODU3RTg1OEU4NTlFODVBRTg1QkU4NUNFODVERTg1RUU4NUZFODYwRTg2MUU4NjJFODYzRTg2NEU4NjVFODY2RTg2N0U4NjhFODY5RTg2QUU4NkJFODZDRTg2REU4NkVFODZGRTg3MEU4NzFFODcyRTg3M0U4NzRFODc1RTg3NkU4NzdFODc4RTg3OUU4N0FGNkNFRTg3QkU4N0NFODdERTg3RUU4ODBFODgxRTg4MkU4ODNFODg0RTg4NUU4ODZFODg3RTg4OEU4ODlFODhBRTg4QkU4OENFODhERTg4RUU4OEZFODkwRTg5MUU4OTJFODkzRTg5NEVFQzRFRUM1RUVDNkQ1RUJCNkE0RUVDOEVFQzdFRUM5RUVDQUM3QTVFRUNCRUVDQ0U4OTVCN0IwQjVGNkVFQ0RFRUNGRTg5NkVFQ0VFODk3QjhDNkVFRDBFRUQxRUVEMkI2REJCM0FFRDZEM0M0QzZCMUI1QjhENkVFRDNFRUQ0RDRCRkM3RDVCRUZCQ0VEOUI5QjNFRUQ2RUVENUVFRDhFRUQ3QzVBNUVFRDlFRURBQzdBRUVFREJDN0FGRUVEQ0IyQTdFRURERUVERUVFREZFRUUwRUVFMUQ3RUFFRUUyRUVFM0JDRDhFRUU0RDNDQkNDRkFCMkFDQzFFNUVFRTVDN0E2QzNBREU4OThFRUU2RUVFN0VFRThFRUU5RUVFQUVFRUJFRUVDRTg5OUVFRURFRUVFRUVFRkU4OUFFODlCRUVGMEVFRjFFRUYyRUVGNEVFRjNFODlDRUVGNUNEQURDMkMxRUVGNkVFRjdFRUY4RDVBMUVFRjlDRkIzRUVGQUVFRkJFODlERUVGQ0VFRkRFRkExRUVGRUVGQTJCOEY1QzNGQUVGQTNFRkE0QkRDMkQyQkZCMkY5RUZBNUVGQTZFRkE3RDJGOEVGQThENkZERUZBOUM2Q0NFODlFRUZBQUVGQUJDMUI0RUZBQ0NGRkFDQkY4RUZBRUVGQURCM0ZBQjlGOEVGQUZFRkIwRDBFMkVGQjFFRkIyQjdFNkQwQkZFRkIzRUZCNEVGQjVDOEYxQ0NFMEVGQjZFRkI3RUZCOEVGQjlFRkJBRDVFMEVGQkJCNEVEQzNBQUVGQkNFODlGRUZCREVGQkVFRkJGRThBMENFRkRFRkMwQzJFMEI0QjhEN0I2QkRGNUU5NDBDRkM3RUZDM0VGQzFFRkMyRUZDNEI2QTdCQ0ZDQkVFMkMzQ0NFRkM1RUZDNkU5NDFFRkM3RUZDRkVGQzhFRkM5RUZDQUM3QzJFRkYxQjZDREVGQ0JFOTQyRUZDQ0VGQ0RCNkM2QzNCRUVGQ0VFOTQzRUZEMEVGRDFFRkQyRDVGMkU5NDRFRkQzQzRGN0U5NDVFRkQ0QzRGOEVGRDVFRkQ2QjhFNEIwRjdFRkQ3RUZEOEVGRDlFOTQ2RUZEQUVGREJFRkRDRUZEREU5NDdFRkRFQkVCNUVGRTFFRkRGRUZFMEU5NDhFRkUyRUZFM0MxQ0RFRkU0RUZFNUVGRTZFRkU3RUZFOEVGRTlFRkVBRUZFQkVGRUNDMEQ4RTk0OUVGRURDMUFERUZFRUVGRUZFRkYwRTk0QUU5NEJDRkUyRTk0Q0U5NERFOTRFRTk0RkU5NTBFOTUxRTk1MkU5NTNCM0E0RTk1NEU5NTVFOTU2RTk1N0U5NThFOTU5RTk1QUU5NUJFOTVDRTk1REU5NUVFOTVGRTk2MEU5NjFFOTYyRTk2M0U5NjRFOTY1RTk2NkU5NjdFOTY4RTk2OUU5NkFFOTZCRTk2Q0U5NkRFOTZFRTk2RkU5NzBFOTcxRTk3MkU5NzNFOTc0RTk3NUU5NzZFOTc3RTk3OEU5NzlFOTdBRTk3QkU5N0NFOTdERTk3RUU5ODBFOTgxRTk4MkU5ODNFOTg0RTk4NUU5ODZFOTg3RTk4OEU5ODlFOThBRTk4QkU5OENFOThERTk4RUU5OEZFOTkwRTk5MUU5OTJFOTkzRTk5NEU5OTVFOTk2RTk5N0U5OThFOTk5RTk5QUU5OUJFOTlDRTk5REU5OUVFOTlGRTlBMEVBNDBFQTQxRUE0MkVBNDNFQTQ0RUE0NUVBNDZFQTQ3RUE0OEVBNDlFQTRBRUE0QkVBNENFQTRERUE0RUVBNEZFQTUwRUE1MUVBNTJFQTUzRUE1NEVBNTVFQTU2RUE1N0VBNThFQTU5RUE1QUVBNUJDM0M1RTNDNUM5QzFFM0M2RUE1Q0IxRDVDRUNBQjRCM0M4RjJFM0M3Q0ZEMEUzQzhCQ0U0RTNDOUUzQ0FDM0M2RDVBMkM0RDZCOUVCQ0VDNUUzQ0JDM0Y2RTNDQ0VBNURCN0E3QjhGM0JBRDJFM0NERTNDRUQ0QzRFM0NGRUE1RUUzRDBEMUNCRTNEMUUzRDJFM0QzRTNENEQxRDZFM0Q1QjJGQkMwQkJFM0Q2RUE1RkMwQUJFM0Q3RTNEOEUzRDlFQTYwRTNEQUUzREJFQTYxQjhCN0RBRTJFQTYyQjZEM0VBNjNEQUU0REFFM0VBNjRFQTY1RUE2NkVBNjdFQTY4RUE2OUVBNkFEQUU2RUE2QkVBNkNFQTZEQzhFRUVBNkVFQTZGREFFNUI3QzBEMUY0RDJGNUQ1RjNCREQ3RUE3MEVBNzFFQTcyRUE3M0Q3RThEQUU4REFFN0VBNzRCMEEyQ0REM0VBNzVEQUU5RUE3NkI4QkRCQ0NBQzJCREMyQTRCM0MyREFFQUVBNzdDMkFBQzRCMEJEQjVFQTc4RUE3OUNGREVFQTdBRUE3QkVBN0NEQUVCQzlDMkVBN0RFQTdFRUE4MEVBODFFQTgyQjFEREVBODNFQTg0RUE4NURBRUNFQTg2QjZCOEQ0QkFFQTg3QjNGREVBODhFQTg5REFFREQ0QzlDRkQ1QzVFM0VBOEFEQUVFRUE4QkVBOENFQThERUE4RUVBOEZEQUVGRUE5MERBRjBDMUVBQ0NENUNGRERFQTkxRUE5MkVBOTNFQTk0RUE5NUVBOTZFQTk3RUE5OEVBOTlFQTlBRUE5QkVBOUNFQTlERDNFN0MyQTFFQTlFREFGMUVBOUZFQUEwQ0JFNUVCNDBEQUYyRUI0MUNCRTZEMkZFRUI0MkVCNDNFQjQ0QjhGNEVCNDVFQjQ2REFGM0IwQUZDRkI2RUI0N0VCNDhENUNGRUI0OUVCNEFFQjRCRUI0Q0VCNERFQjRFRUI0RkVCNTBFQjUxRUI1MkNCRURFQjUzRUI1NEVCNTVFQjU2RUI1N0VCNThFQjU5RUI1QURBRjRFQjVCRUI1Q0UzQzRFQjVERUI1RUMxQTVFQjVGRUI2MEY2QkZFQjYxRUI2MkY2QzBGNkMxQzREMUVCNjNDOEI4RDFFM0VCNjRFQjY1RDBEQkQxQzVCQ0FGQjlDREVCNjZFRkY0RUI2N0VCNjhCNEM2RDNCQUY2QzJCM0ZCRUI2OUVCNkFGNkMzRUI2QkVCNkNCNUYxRUI2REVCNkVFQjZGRUI3MEVCNzFFQjcyRUI3M0VCNzRFQjc1RUI3NkY2QzVFQjc3RUI3OEVCNzlFQjdBRUI3QkVCN0NFQjdERDNFQUY2QTdEMUE5RUI3RUVCODBFQjgxRUI4MkY2QTlFQjgzRUI4NEVCODVGNkE4RUI4NkVCODdDMUUzQzBEN0VCODhCMUEyRUI4OUVCOEFFQjhCRUI4Q0NFRURFQjhERDBFOEY2QUJFQjhFRUI4RkNGRjZFQjkwRjZBQUQ1RjBGNkFDQzNCOUVCOTFFQjkyRUI5M0JCRjRGNkFFRjZBREVCOTRFQjk1RUI5NkM0REVFQjk3RUI5OEMxRDhFQjk5RUI5QUVCOUJFQjlDRUI5RENCQUFFQjlFQ0ZCQ0VCOUZFQkEwRUM0MEVDNDFFQzQyRUM0M0VDNDRFQzQ1RUM0NkVDNDdFQzQ4RjZBRkVDNDlFQzRBRjZCMEVDNEJFQzRDRjZCMUVDNERDMkI2RUM0RUVDNEZFQzUwRUM1MUVDNTJCMEQ0QzVGOUVDNTNFQzU0RUM1NUVDNTZGNkIyRUM1N0VDNThFQzU5RUM1QUVDNUJFQzVDRUM1REVDNUVFQzVGRUM2MEVDNjFFQzYyRUM2M0VDNjRFQzY1RUM2NkVDNjdFQzY4RUM2OUM3RTBGNkE2RUM2QUVDNkJCRUI4RUM2Q0VDNkRCRUIyRUM2RUI1RTVFQzZGRUM3MEI3QzdFQzcxQkZCRkMzRDJDM0U2RUM3MkVDNzNEOENDRUM3NEVDNzVFQzc2QjhFRkVDNzdFQzc4RUM3OUVDN0FFQzdCRUM3Q0VDN0RFQzdFRUM4MEJERjlEMUE1RUM4MUIwRDBFQzgyRUM4M0VDODRFQzg1RUM4NkY3QjBFQzg3RUM4OEVDODlFQzhBRUM4QkVDOENFQzhERUM4RUY3QjFFQzhGRUM5MEVDOTFFQzkyRUM5M0QwQUNFQzk0QjBCMEVDOTVFQzk2RUM5N0Y3QjJGN0IzRUM5OEY3QjRFQzk5RUM5QUVDOUJDN0NBRUM5Q0VDOURFQzlFRUM5RkVDQTBFRDQwRUQ0MUJFQ0ZFRDQyRUQ0M0Y3QjdFRDQ0RUQ0NUVENDZFRDQ3RUQ0OEVENDlFRDRBRjdCNkVENEJCMURFRUQ0Q0Y3QjVFRDRERUQ0RUY3QjhFRDRGRjdCOUVENTBFRDUxRUQ1MkVENTNFRDU0RUQ1NUVENTZFRDU3RUQ1OEVENTlFRDVBRUQ1QkVENUNFRDVERUQ1RUVENUZFRDYwRUQ2MUVENjJFRDYzRUQ2NEVENjVFRDY2RUQ2N0VENjhFRDY5RUQ2QUVENkJFRDZDRUQ2REVENkVFRDZGRUQ3MEVENzFFRDcyRUQ3M0VENzRFRDc1RUQ3NkVENzdFRDc4RUQ3OUVEN0FFRDdCRUQ3Q0VEN0RFRDdFRUQ4MEVEODFDRUE0QzhDREVEODJCQUFCRThCOEU4QjlFOEJBQkVDMkVEODNFRDg0RUQ4NUVEODZFRDg3RDJGNEVEODhENENGQzlEOEVEODlFRDhBRUQ4QkVEOENFRDhERUQ4RUVEOEZFRDkwRUQ5MUVEOTJFRDkzRUQ5NEVEOTVFRDk2RUQ5N0VEOThFRDk5RUQ5QUVEOUJFRDlDRUQ5REVEOUVFRDlGRURBMEVFNDBFRTQxRUU0MkVFNDNFRTQ0RUU0NUVFNDZFRTQ3RUU0OEVFNDlFRTRBRUU0QkVFNENFRTRERUU0RUVFNEZFRTUwRUU1MUVFNTJFRTUzRUU1NEVFNTVFRTU2RUU1N0VFNThFRTU5RUU1QUVFNUJFRTVDRUU1REVFNUVFRTVGRUU2MEVFNjFFRTYyRUU2M0VFNjRFRTY1RUU2NkVFNjdFRTY4RUU2OUVFNkFFRTZCRUU2Q0VFNkRFRTZFRUU2RkVFNzBFRTcxRUU3MkVFNzNFRTc0RUU3NUVFNzZFRTc3RUU3OEVFNzlFRTdBRUU3QkVFN0NFRTdERUU3RUVFODBFRTgxRUU4MkVFODNFRTg0RUU4NUVFODZFRTg3RUU4OEVFODlFRThBRUU4QkVFOENFRThERUU4RUVFOEZFRTkwRUU5MUVFOTJFRTkzRUU5NEVFOTVFRTk2RUU5N0VFOThFRTk5RUU5QUVFOUJFRTlDRUU5REVFOUVFRTlGRUVBMEVGNDBFRjQxRUY0MkVGNDNFRjQ0RUY0NUQyQjNCNkE1QzdFQUYxRkNDRkVFQ0JCM0QwRUJFN0VGQ0RFN0I5Q0JCNkQ5RjFGREIwRTRDQkNDRjFGRUQ0QTRDMkFEQzFFQ0M2QzRCRUIxRjJBMUJDRDVFRjQ2RjJBMkYyQTNFRjQ3RjJBNEQyQzNDNkI1RUY0OENEQzdGMkE1RUY0OUQzQjFCRkM1Q0NFMkVGNEFGMkE2RjJBN0QxRDVCNkVFRjJBOEYyQTlCNURGRjJBQUYyQUJFRjRCQjJGQ0YyQUNGMkFEQzhBN0VGNENFRjRERUY0RUVGNEZFRjUwRUY1MUVGNTJFRjUzRUY1NEVGNTVFRjU2RUY1N0VGNThFRjU5RUY1QUVGNUJFRjVDRUY1REVGNUVFRjVGRUY2MEVGNjFFRjYyRUY2M0VGNjRFRjY1RUY2NkVGNjdFRjY4RUY2OUVGNkFFRjZCRUY2Q0VGNkRFRjZFRUY2RkVGNzBFRjcxQjdFN0VGNzJFRjczRUNBOUVDQUFFQ0FCRUY3NEVDQUNFRjc1RUY3NkM2QUVFQ0FERUNBRUVGNzdFRjc4RUY3OUI3QzlDQUIzRUY3QUVGN0JFRjdDRUY3REVGN0VFRjgwRUY4MUUyQjhGN0NGRUY4MkVGODNFRjg0RUY4NUVGODZFRjg3RUY4OEVGODlFRjhBRUY4QkVGOENFRjhERUY4RUVGOEZFRjkwRUY5MUVGOTJFRjkzRUY5NEVGOTVFRjk2RUY5N0VGOThFRjk5RUY5QUVGOUJFRjlDRUY5REVGOUVFRjlGRUZBMEYwNDBGMDQxRjA0MkYwNDNGMDQ0RjdEMEYwNDVGMDQ2QjJDREYwNDdGMDQ4RjA0OUYwNEFGMDRCRjA0Q0YwNERGMDRFRjA0RkYwNTBGMDUxRjA1MkYwNTNGMDU0RjA1NUYwNTZGMDU3RjA1OEYwNTlGMDVBRjA1QkYwNUNGMDVERjA1RUYwNUZGMDYwRjA2MUYwNjJGMDYzRjdEMUYwNjRGMDY1RjA2NkYwNjdGMDY4RjA2OUYwNkFGMDZCRjA2Q0YwNkRGMDZFRjA2RkYwNzBGMDcxRjA3MkYwNzNGMDc0RjA3NUYwNzZGMDc3RjA3OEYwNzlGMDdBRjA3QkYwN0NGMDdERjA3RUYwODBGMDgxRjA4MkYwODNGMDg0RjA4NUYwODZGMDg3RjA4OEYwODlGN0QzRjdEMkYwOEFGMDhCRjA4Q0YwOERGMDhFRjA4RkYwOTBGMDkxRjA5MkYwOTNGMDk0RjA5NUYwOTZFMkJCRjA5N0JDQTJGMDk4RTJCQ0UyQkRFMkJFRTJCRkUyQzBFMkMxQjdCOUQyRkJCREE0Q0FDRUIxQTVDQkM3RjA5OUUyQzJCNkZDQzhDNEUyQzNGMDlBRjA5QkJEQzhGMDlDQjFGREUyQzRGMDlEQjZGNkUyQzVDNEQ5RjA5RUYwOUZFMkM2Q0ZEQUI5RERFMkM3QzBBMUYwQTBFMkM4QjJGNkYxNDBFMkM5RjE0MUMxRjNFMkNBRTJDQkMyRjhFMkNDRTJDREUyQ0VDQUQ3RDhCOEQ5RTVDRkUzRjE0MkYxNDNGMTQ0RjE0NUYxNDZGMTQ3RjE0OEYxNDlGMTRBRjE0QkYxNENGMEE1RjE0REYxNEVEQ0IwRjE0RkYxNTBGMTUxRjE1MkYxNTNGMTU0RjE1NUYxNTZGMTU3RjE1OEYxNTlGMTVBRjE1QkYxNUNGMTVERjE1RUYxNUZGMTYwRjE2MUYxNjJGMTYzRjE2NEYxNjVGMTY2RjE2N0YxNjhGMTY5RjE2QUYxNkJGMTZDRjE2REYxNkVGMTZGRjE3MEYxNzFGMTcyRjE3M0YxNzRGMTc1RjE3NkYxNzdGMTc4RjE3OUYxN0FGMTdCRjE3Q0YxN0RGMTdFRjE4MEYxODFGMTgyRjE4M0YxODRGMTg1RjE4NkYxODdGMTg4RjE4OUYxOEFGMThCRjE4Q0YxOERGMThFRjE4RkYxOTBGMTkxRjE5MkYxOTNGMTk0RjE5NUYxOTZGMTk3RjE5OEYxOTlGMTlBRjE5QkYxOUNGMTlERjE5RUYxOUZGMUEwRjI0MEYyNDFGMjQyRjI0M0YyNDRGMjQ1RjI0NkYyNDdGMjQ4RjI0OUYyNEFGMjRCRjI0Q0YyNERGMjRFRjI0RkYyNTBGMjUxRjI1MkYyNTNGMjU0RjI1NUYyNTZGMjU3RjI1OEYyNTlGMjVBRjI1QkYyNUNGMjVERjI1RUYyNUZGMjYwRjI2MUYyNjJGMjYzRjI2NEYyNjVGMjY2RjI2N0YyNjhGMjY5RjI2QUYyNkJGMjZDRjI2REYyNkVGMjZGRjI3MEYyNzFGMjcyRjI3M0YyNzRGMjc1RjI3NkYyNzdGMjc4RjI3OUYyN0FGMjdCRjI3Q0YyN0RGMjdFRjI4MEYyODFGMjgyRjI4M0YyODRGMjg1RjI4NkYyODdGMjg4RjI4OUYyOEFGMjhCRjI4Q0YyOERGMjhFRjI4RkYyOTBGMjkxRjI5MkYyOTNGMjk0RjI5NUYyOTZGMjk3RjI5OEYyOTlGMjlBRjI5QkYyOUNGMjlERjI5RUYyOUZGMkEwRjM0MEYzNDFGMzQyRjM0M0YzNDRGMzQ1RjM0NkYzNDdGMzQ4RjM0OUYzNEFGMzRCRjM0Q0YzNERGMzRFRjM0RkYzNTBGMzUxQzJFREQ0QTZDREQ0RDFCMUIzREJDN0ZERjM1MkIyQjVDMkJGRTZFMENBQkJFNkUxRTZFMkJFRDRFNkUzRDdBNENERDVFNkU1QkNEREU2RTRFNkU2RTZFN0MyRUVGMzUzQkRCRUU2RThDMkU2QkFBN0U2RTlGMzU0RTZFQUIzRDJEMUU5RjM1NUYzNTZCRkE1RTZFQkM2RUZFNkVDRTZFREYzNTdGMzU4RTZFRUM2QURFNkVGRjM1OUM5QTdFNkYwRTZGMUU2RjJFNUI5RTZGM0U2RjRDMkUyRTZGNUU2RjZENkU4RTZGN0YzNUFFNkY4QjlDN0YzNUJGMzVDRjM1REYzNUVGMzVGRjM2MEYzNjFGN0JCRjdCQUYzNjJGMzYzRjM2NEYzNjVGN0JFRjdCQ0JBQTFGMzY2RjdCRkYzNjdGN0MwRjM2OEYzNjlGMzZBRjdDMkY3QzFGN0M0RjM2QkYzNkNGN0MzRjM2REYzNkVGMzZGRjM3MEYzNzFGN0M1RjdDNkYzNzJGMzczRjM3NEYzNzVGN0M3RjM3NkNCRThGMzc3RjM3OEYzNzlGMzdBQjhERkYzN0JGMzdDRjM3REYzN0VGMzgwRjM4MUY3RDRGMzgyRjdENUYzODNGMzg0RjM4NUYzODZGN0Q2RjM4N0YzODhGMzg5RjM4QUY3RDhGMzhCRjdEQUYzOENGN0Q3RjM4REYzOEVGMzhGRjM5MEYzOTFGMzkyRjM5M0YzOTRGMzk1RjdEQkYzOTZGN0Q5RjM5N0YzOThGMzk5RjM5QUYzOUJGMzlDRjM5REQ3RDdGMzlFRjM5RkYzQTBGNDQwRjdEQ0Y0NDFGNDQyRjQ0M0Y0NDRGNDQ1RjQ0NkY3RERGNDQ3RjQ0OEY0NDlGN0RFRjQ0QUY0NEJGNDRDRjQ0REY0NEVGNDRGRjQ1MEY0NTFGNDUyRjQ1M0Y0NTRGN0RGRjQ1NUY0NTZGNDU3RjdFMEY0NThGNDU5RjQ1QUY0NUJGNDVDRjQ1REY0NUVGNDVGRjQ2MEY0NjFGNDYyREJDQkY0NjNGNDY0RDhBQUY0NjVGNDY2RjQ2N0Y0NjhGNDY5RjQ2QUY0NkJGNDZDRTVGN0I5RURGNDZERjQ2RUY0NkZGNDcwQkZGREJCRUFGN0M5QzZDN0Y3QzhGNDcxRjdDQUY3Q0NGN0NCRjQ3MkY0NzNGNDc0RjdDREY0NzVDRUJBRjQ3NkY3Q0VGNDc3RjQ3OEM0QTdGNDc5RjQ3QUY0N0JGNDdDRjQ3REY0N0VGNDgwRjQ4MUY0ODJGNDgzRjQ4NEY0ODVGNDg2RjQ4N0Y0ODhGNDg5RjQ4QUY0OEJGNDhDRjQ4REY0OEVGNDhGRjQ5MEY0OTFGNDkyRjQ5M0Y0OTRGNDk1RjQ5NkY0OTdGNDk4RjQ5OUY0OUFGNDlCRjQ5Q0Y0OURGNDlFRjQ5RkY0QTBGNTQwRjU0MUY1NDJGNTQzRjU0NEY1NDVGNTQ2RjU0N0Y1NDhGNTQ5RjU0QUY1NEJGNTRDRjU0REY1NEVGNTRGRjU1MEY1NTFGNTUyRjU1M0Y1NTRGNTU1RjU1NkY1NTdGNTU4RjU1OUY1NUFGNTVCRjU1Q0Y1NURGNTVFRjU1RkY1NjBGNTYxRjU2MkY1NjNGNTY0RjU2NUY1NjZGNTY3RjU2OEY1NjlGNTZBRjU2QkY1NkNGNTZERjU2RUY1NkZGNTcwRjU3MUY1NzJGNTczRjU3NEY1NzVGNTc2RjU3N0Y1NzhGNTc5RjU3QUY1N0JGNTdDRjU3REY1N0VGNTgwRjU4MUY1ODJGNTgzRjU4NEY1ODVGNTg2RjU4N0Y1ODhGNTg5RjU4QUY1OEJGNThDRjU4REY1OEVGNThGRjU5MEY1OTFGNTkyRjU5M0Y1OTRGNTk1RjU5NkY1OTdGNTk4RjU5OUY1OUFGNTlCRjU5Q0Y1OURGNTlFRjU5RkY1QTBGNjQwRjY0MUY2NDJGNjQzRjY0NEY2NDVGNjQ2RjY0N0Y2NDhGNjQ5RjY0QUY2NEJGNjRDRjY0REY2NEVGNjRGRjY1MEY2NTFGNjUyRjY1M0Y2NTRGNjU1RjY1NkY2NTdGNjU4RjY1OUY2NUFGNjVCRjY1Q0Y2NURGNjVFRjY1RkY2NjBGNjYxRjY2MkY2NjNGNjY0RjY2NUY2NjZGNjY3RjY2OEY2NjlGNjZBRjY2QkY2NkNGNjZERjY2RUY2NkZGNjcwRjY3MUY2NzJGNjczRjY3NEY2NzVGNjc2RjY3N0Y2NzhGNjc5RjY3QUY2N0JGNjdDRjY3REY2N0VGNjgwRjY4MUY2ODJGNjgzRjY4NEY2ODVGNjg2RjY4N0Y2ODhGNjg5RjY4QUY2OEJGNjhDRjY4REY2OEVGNjhGRjY5MEY2OTFGNjkyRjY5M0Y2OTRGNjk1RjY5NkY2OTdGNjk4RjY5OUY2OUFGNjlCRjY5Q0Y2OURGNjlFRjY5RkY2QTBGNzQwRjc0MUY3NDJGNzQzRjc0NEY3NDVGNzQ2Rjc0N0Y3NDhGNzQ5Rjc0QUY3NEJGNzRDRjc0REY3NEVGNzRGRjc1MEY3NTFGNzUyRjc1M0Y3NTRGNzU1Rjc1NkY3NTdGNzU4Rjc1OUY3NUFGNzVCRjc1Q0Y3NURGNzVFRjc1RkY3NjBGNzYxRjc2MkY3NjNGNzY0Rjc2NUY3NjZGNzY3Rjc2OEY3NjlGNzZBRjc2QkY3NkNGNzZERjc2RUY3NkZGNzcwRjc3MUY3NzJGNzczRjc3NEY3NzVGNzc2Rjc3N0Y3NzhGNzc5Rjc3QUY3N0JGNzdDRjc3REY3N0VGNzgwRDNFM0Y3ODFGNzgyRjZDRkY3ODNDMkIzRjZEMEY3ODRGNzg1RjZEMUY2RDJGNkQzRjZENEY3ODZGNzg3RjZENkY3ODhCMUFCRjZEN0Y3ODlGNkQ4RjZEOUY2REFGNzhBRjZEQkY2RENGNzhCRjc4Q0Y3OERGNzhFRjZEREY2REVDRkNBRjc4RkY2REZGNkUwRjZFMUY2RTJGNkUzRjZFNEMwRjBGNkU1RjZFNkY2RTdGNkU4RjZFOUY3OTBGNkVBRjc5MUY2RUJGNkVDRjc5MkY2RURGNkVFRjZFRkY2RjBGNkYxRjZGMkY2RjNGNkY0QkVBOEY3OTNGNkY1RjZGNkY2RjdGNkY4Rjc5NEY3OTVGNzk2Rjc5N0Y3OThDOEZBRjZGOUY2RkFGNkZCRjZGQ0Y3OTlGNzlBRjZGREY2RkVGN0ExRjdBMkY3QTNGN0E0RjdBNUY3OUJGNzlDRjdBNkY3QTdGN0E4QjFFRUY3QTlGN0FBRjdBQkY3OURGNzlFRjdBQ0Y3QURDMURCRjdBRUY3OUZGN0EwRjdBRkY4NDBGODQxRjg0MkY4NDNGODQ0Rjg0NUY4NDZGODQ3Rjg0OEY4NDlGODRBRjg0QkY4NENGODRERjg0RUY4NEZGODUwRjg1MUY4NTJGODUzRjg1NEY4NTVGODU2Rjg1N0Y4NThGODU5Rjg1QUY4NUJGODVDRjg1REY4NUVGODVGRjg2MEY4NjFGODYyRjg2M0Y4NjRGODY1Rjg2NkY4NjdGODY4Rjg2OUY4NkFGODZCRjg2Q0Y4NkRGODZFRjg2RkY4NzBGODcxRjg3MkY4NzNGODc0Rjg3NUY4NzZGODc3Rjg3OEY4NzlGODdBRjg3QkY4N0NGODdERjg3RUY4ODBGODgxRjg4MkY4ODNGODg0Rjg4NUY4ODZGODg3Rjg4OEY4ODlGODhBRjg4QkY4OENGODhERjg4RUY4OEZGODkwRjg5MUY4OTJGODkzRjg5NEY4OTVGODk2Rjg5N0Y4OThGODk5Rjg5QUY4OUJGODlDRjg5REY4OUVGODlGRjhBMEY5NDBGOTQxRjk0MkY5NDNGOTQ0Rjk0NUY5NDZGOTQ3Rjk0OEY5NDlGOTRBRjk0QkY5NENGOTRERjk0RUY5NEZGOTUwRjk1MUY5NTJGOTUzRjk1NEY5NTVGOTU2Rjk1N0Y5NThGOTU5Rjk1QUY5NUJGOTVDRjk1REY5NUVGOTVGRjk2MEY5NjFGOTYyRjk2M0Y5NjRGOTY1Rjk2NkY5NjdGOTY4Rjk2OUY5NkFGOTZCRjk2Q0Y5NkRGOTZFRjk2RkY5NzBGOTcxRjk3MkY5NzNGOTc0Rjk3NUY5NzZGOTc3Rjk3OEY5NzlGOTdBRjk3QkY5N0NGOTdERjk3RUY5ODBGOTgxRjk4MkY5ODNGOTg0Rjk4NUY5ODZGOTg3Rjk4OEY5ODlGOThBRjk4QkY5OENGOThERjk4RUY5OEZGOTkwRjk5MUY5OTJGOTkzRjk5NEY5OTVGOTk2Rjk5N0Y5OThGOTk5Rjk5QUY5OUJGOTlDRjk5REY5OUVGOTlGRjlBMEZBNDBGQTQxRkE0MkZBNDNGQTQ0RkE0NUZBNDZGQTQ3RkE0OEZBNDlGQTRBRkE0QkZBNENGQTRERkE0RUZBNEZGQTUwRkE1MUZBNTJGQTUzRkE1NEZBNTVGQTU2RkE1N0ZBNThGQTU5RkE1QUZBNUJGQTVDRkE1REZBNUVGQTVGRkE2MEZBNjFGQTYyRkE2M0ZBNjRGQTY1RkE2NkZBNjdGQTY4RkE2OUZBNkFGQTZCRkE2Q0ZBNkRGQTZFRkE2RkZBNzBGQTcxRkE3MkZBNzNGQTc0RkE3NUZBNzZGQTc3RkE3OEZBNzlGQTdBRkE3QkZBN0NGQTdERkE3RUZBODBGQTgxRkE4MkZBODNGQTg0RkE4NUZBODZGQTg3RkE4OEZBODlGQThBRkE4QkZBOENGQThERkE4RUZBOEZGQTkwRkE5MUZBOTJGQTkzRkE5NEZBOTVGQTk2RkE5N0ZBOThGQTk5RkE5QUZBOUJGQTlDRkE5REZBOUVGQTlGRkFBMEZCNDBGQjQxRkI0MkZCNDNGQjQ0RkI0NUZCNDZGQjQ3RkI0OEZCNDlGQjRBRkI0QkZCNENGQjRERkI0RUZCNEZGQjUwRkI1MUZCNTJGQjUzRkI1NEZCNTVGQjU2RkI1N0ZCNThGQjU5RkI1QUZCNUJDNEYxRjBBRkJDQTZGMEIwQzNGOUZCNUNDNUI4RDFCQkZCNURGMEIxRjBCMkYwQjNGMEI0RjBCNUQxQkNGQjVFRDFFQ0ZCNUZGMEI3RjBCNkQ0QTdGQjYwQ0REMkYwQjhGMEJBRjBCOUYwQkJGMEJDRkI2MUZCNjJCOEVCRjBCREJBRThGQjYzRjBCRUYwQkZCRUU5RjBDMEI2RUNGMEMxRjBDMkYwQzNGMEM0QzhCNUYwQzVGMEM2RkI2NEYwQzdDNUY0RkI2NUYwQzhGQjY2RkI2N0ZCNjhGMEM5RkI2OUYwQ0FGN0JERkI2QUYwQ0JGMENDRjBDREZCNkJGMENFRkI2Q0ZCNkRGQjZFRkI2RkYwQ0ZCQUQ3RkI3MEYwRDBGMEQxRjBEMkYwRDNGMEQ0RjBENUYwRDZGMEQ4RkI3MUZCNzJEM0E1RjBEN0ZCNzNGMEQ5RkI3NEZCNzVGQjc2RkI3N0ZCNzhGQjc5RkI3QUZCN0JGQjdDRkI3REY1QkFDMkI5RkI3RUZCODBGN0U0RkI4MUZCODJGQjgzRkI4NEY3RTVGN0U2RkI4NUZCODZGN0U3RkI4N0ZCODhGQjg5RkI4QUZCOEJGQjhDRjdFOEMyQjRGQjhERkI4RUZCOEZGQjkwRkI5MUZCOTJGQjkzRkI5NEZCOTVGN0VBRkI5NkY3RUJGQjk3RkI5OEZCOTlGQjlBRkI5QkZCOUNDMkYzRkI5REZCOUVGQjlGRkJBMEZDNDBGQzQxRkM0MkZDNDNGQzQ0RkM0NUZDNDZGQzQ3RkM0OEY0RjBGQzQ5RkM0QUZDNEJGNEVGRkM0Q0ZDNERDMkU5RkM0RUY3RTFGN0UyRkM0RkZDNTBGQzUxRkM1MkZDNTNCQkM2RkM1NEZDNTVGQzU2RkM1N0Q5RTRGQzU4RkM1OUZDNUFDQUYyQzBFOEYwQTRGQzVCQkFEQUZDNUNGQzVEQzdBREZDNUVGQzVGRkM2MEM0QUNGQzYxRkM2MkY3RUNGN0VERjdFRUZDNjNGN0YwRjdFRkZDNjRGN0YxRkM2NUZDNjZGN0Y0RkM2N0Y3RjNGQzY4RjdGMkY3RjVGQzY5RkM2QUZDNkJGQzZDRjdGNkZDNkRGQzZFRkM2RkZDNzBGQzcxRkM3MkZDNzNGQzc0RkM3NUVERTlGQzc2RURFQUVERUJGQzc3RjZCQ0ZDNzhGQzc5RkM3QUZDN0JGQzdDRkM3REZDN0VGQzgwRkM4MUZDODJGQzgzRkM4NEY2QkRGQzg1RjZCRUI2QTZGQzg2RDhCRUZDODdGQzg4QjlDNEZDODlGQzhBRkM4QkQ4QkJGQzhDRENCMUZDOERGQzhFRkM4RkZDOTBGQzkxRkM5MkNBRjNGQzkzRjdGN0ZDOTRGQzk1RkM5NkZDOTdGQzk4RkM5OUZDOUFGQzlCRkM5Q0Y3RjhGQzlERkM5RUY3RjlGQzlGRkNBMEZENDBGRDQxRkQ0MkZENDNGRDQ0RjdGQkZENDVGN0ZBRkQ0NkIxQzdGRDQ3RjdGQ0Y3RkRGRDQ4RkQ0OUZENEFGRDRCRkQ0Q0Y3RkVGRDRERkQ0RUZENEZGRDUwRkQ1MUZENTJGRDUzRkQ1NEZENTVGRDU2RkQ1N0M2RUJFQ0I0RkQ1OEZENTlGRDVBRkQ1QkZENUNGRDVERkQ1RUZENUZGRDYwRkQ2MUZENjJGRDYzRkQ2NEZENjVGRDY2RkQ2N0ZENjhGRDY5RkQ2QUZENkJGRDZDRkQ2REZENkVGRDZGRkQ3MEZENzFGRDcyRkQ3M0ZENzRGRDc1RkQ3NkZENzdGRDc4RkQ3OUZEN0FGRDdCRkQ3Q0ZEN0RGRDdFRkQ4MEZEODFGRDgyRkQ4M0ZEODRGRDg1QjNEREY2QjNGRDg2RkQ4N0Y2QjRDMUU0RjZCNUY2QjZGNkI3RjZCOEY2QjlGNkJBQzhBM0Y2QkJGRDg4RkQ4OUZEOEFGRDhCRkQ4Q0ZEOERGRDhFRkQ4RkZEOTBGRDkxRkQ5MkZEOTNDMUZBQjlBOEVERThGRDk0RkQ5NUZEOTZCOUVBRDlERkZEOTdGRDk4RkQ5OUZEOUFGRDknOw0KfSkoKTsNCg==</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\link\link.asp' crc32='3129F1D7'  dt:dt='bin.base64'>PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiINCiAgICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDx0aXRsZT48L3RpdGxlPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgiLz4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9pbnRlcm5hbC5qcyI+PC9zY3JpcHQ+DQogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCiAgICAgICAgKnttYXJnaW46MDtwYWRkaW5nOjA7Y29sb3I6ICM4MzgzODM7fQ0KICAgICAgICB0YWJsZXtmb250LXNpemU6IDEycHg7bWFyZ2luOiAxMHB4O2xpbmUtaGVpZ2h0OiAzMHB4fQ0KICAgICAgICAudHh0e3dpZHRoOjMwMHB4O2hlaWdodDoyMXB4O2xpbmUtaGVpZ2h0OjIxcHg7Ym9yZGVyOjFweCBzb2xpZCAjZDdkN2Q3O30NCiAgICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQogICAgPHRhYmxlPg0KICAgICAgICA8dHI+DQogICAgICAgICAgICA8dGQ+PGxhYmVsIGZvcj0idGV4dCI+IDx2YXIgaWQ9ImxhbmdfaW5wdXRfdGV4dCI+PC92YXI+PC9sYWJlbD48L3RkPg0KICAgICAgICAgICAgPHRkPjxpbnB1dCBjbGFzcz0idHh0IiBpZD0idGV4dCIgdHlwZT0idGV4dCIgZGlzYWJsZWQ9InRydWUiLz48L3RkPg0KICAgICAgICA8L3RyPg0KICAgICAgICA8dHI+DQogICAgICAgICAgICA8dGQ+PGxhYmVsIGZvcj0iaHJlZiI+IDx2YXIgaWQ9ImxhbmdfaW5wdXRfdXJsIj48L3Zhcj48L2xhYmVsPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGlucHV0IGNsYXNzPSJ0eHQiIGlkPSJocmVmIiB0eXBlPSJ0ZXh0IiAvPjwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgICAgIDx0cj4NCiAgICAgICAgICAgIDx0ZD48bGFiZWwgZm9yPSJ0aXRsZSI+IDx2YXIgaWQ9ImxhbmdfaW5wdXRfdGl0bGUiPjwvdmFyPjwvbGFiZWw+PC90ZD4NCiAgICAgICAgICAgIDx0ZD48aW5wdXQgY2xhc3M9InR4dCIgaWQ9InRpdGxlIiB0eXBlPSJ0ZXh0Ii8+PC90ZD4NCiAgICAgICAgPC90cj4NCiAgICAgICAgPHRyPg0KICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSIyIj4NCiAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj0idGFyZ2V0Ij48dmFyIGlkPSJsYW5nX2lucHV0X3RhcmdldCI+PC92YXI+PC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJ0YXJnZXQiIHR5cGU9ImNoZWNrYm94Ii8+DQogICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgPC90cj4NCiAgICAgICAgPHRyPg0KICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiIGlkPSJtc2ciPjwvdGQ+DQogICAgICAgIDwvdHI+DQogICAgPC90YWJsZT4NCjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCiAgICB2YXIgcmFuZ2UgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCksDQogICAgICAgIGxpbmsgPSByYW5nZS5jb2xsYXBzZWQgPyBlZGl0b3IucXVlcnlDb21tYW5kVmFsdWUoICJsaW5rIiApIDogZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpLA0KICAgICAgICB1cmwsDQogICAgICAgIHRleHQgPSAkRygndGV4dCcpLA0KICAgICAgICByYW5nZUxpbmsgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHJhbmdlLmdldENvbW1vbkFuY2VzdG9yKCksJ2EnLHRydWUpLA0KICAgICAgICBvcmdUZXh0Ow0KICAgIGxpbmsgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKCBsaW5rLCAiYSIsIHRydWUgKTsNCiAgICBpZihsaW5rKXsNCiAgICAgICAgdXJsID0gdXRpbHMuaHRtbChsaW5rLmdldEF0dHJpYnV0ZSggJ19ocmVmJyApIHx8IGxpbmsuZ2V0QXR0cmlidXRlKCAnaHJlZicsIDIgKSk7DQoNCiAgICAgICAgaWYocmFuZ2VMaW5rID09PSBsaW5rICYmICFsaW5rLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbWcnKS5sZW5ndGgpew0KICAgICAgICAgICAgdGV4dC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7DQogICAgICAgICAgICBvcmdUZXh0ID0gdGV4dC52YWx1ZSA9IGxpbmtbYnJvd3Nlci5pZSA/ICdpbm5lclRleHQnOid0ZXh0Q29udGVudCddOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIHRleHQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsJ3RydWUnKTsNCiAgICAgICAgICAgIHRleHQudmFsdWUgPSBsYW5nLnZhbGlkTGluazsNCiAgICAgICAgfQ0KDQogICAgfWVsc2V7DQogICAgICAgIGlmKHJhbmdlLmNvbGxhcHNlZCl7DQogICAgICAgICAgICB0ZXh0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgIHRleHQudmFsdWUgPSAnJzsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB0ZXh0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCd0cnVlJyk7DQogICAgICAgICAgICB0ZXh0LnZhbHVlID0gbGFuZy52YWxpZExpbms7DQogICAgICAgIH0NCg0KICAgIH0NCiAgICAkRygidGl0bGUiKS52YWx1ZSA9IHVybCA/IGxpbmsudGl0bGUgOiAiIjsNCiAgICAkRygiaHJlZiIpLnZhbHVlID0gdXJsID8gdXJsOiAnJzsNCiAgICAkRygidGFyZ2V0IikuY2hlY2tlZCA9IHVybCAmJiBsaW5rLnRhcmdldCA9PSAiX2JsYW5rIiA/IHRydWUgOiAgZmFsc2U7DQogICAgJGZvY3VzKCRHKCJocmVmIikpOw0KDQogICAgZnVuY3Rpb24gaGFuZGxlRGlhbG9nT2soKXsNCiAgICAgICAgdmFyIGhyZWYgPSRHKCdocmVmJykudmFsdWUucmVwbGFjZSgvXlxzK3xccyskL2csICcnKTsNCiAgICAgICAgaWYoaHJlZil7DQogICAgICAgICAgICBpZighaHJlZlN0YXJ0V2l0aChocmVmLFsiaHR0cCIsIi8iLCJmdHA6Ly8iXSkpIHsNCiAgICAgICAgICAgICAgICBocmVmICA9ICJodHRwOi8vIiArIGhyZWY7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgb2JqID0gew0KICAgICAgICAgICAgICAgICdocmVmJyA6IGhyZWYsDQogICAgICAgICAgICAgICAgJ3RhcmdldCcgOiAkRygidGFyZ2V0IikuY2hlY2tlZCA/ICJfYmxhbmsiIDogJ19zZWxmJywNCiAgICAgICAgICAgICAgICAndGl0bGUnIDogJEcoInRpdGxlIikudmFsdWUucmVwbGFjZSgvXlxzK3xccyskL2csICcnKSwNCiAgICAgICAgICAgICAgICAnX2hyZWYnOmhyZWYNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvL+S/ruaUuemTvuaOpeWGheWuueeahOaDheWGteWkqueJueauiuS6hu+8jOaJgOS7peWFiOWBmuWIsOi/memHjOS6hg0KICAgICAgICAgICAgLy90b2RvOuaDheWGteWkmueahOaXtuWAme+8jOWBmuWIsGNvbW1hbmTph4wNCiAgICAgICAgICAgIGlmKG9yZ1RleHQgJiYgdGV4dC52YWx1ZSAhPSBvcmdUZXh0KXsNCiAgICAgICAgICAgICAgICBsaW5rW2Jyb3dzZXIuaWUgPyAnaW5uZXJUZXh0JyA6ICd0ZXh0Q29udGVudCddID0gIG9iai50ZXh0VmFsdWUgPSB0ZXh0LnZhbHVlOw0KICAgICAgICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGUobGluaykuc2VsZWN0KCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHJhbmdlLmNvbGxhcHNlZCl7DQogICAgICAgICAgICAgICAgb2JqLnRleHRWYWx1ZSA9IHRleHQudmFsdWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2xpbmsnLHV0aWxzLmNsZWFyRW1wdHlBdHRycyhvYmopICk7DQogICAgICAgICAgICBkaWFsb2cuY2xvc2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBkaWFsb2cub25vayA9IGhhbmRsZURpYWxvZ09rOw0KICAgICRHKCdocmVmJykub25rZXlkb3duID0gJEcoJ3RpdGxlJykub25rZXlkb3duID0gZnVuY3Rpb24oZXZ0KXsNCiAgICAgICAgZXZ0ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDsNCiAgICAgICAgaWYgKGV2dC5rZXlDb2RlID09IDEzKSB7DQogICAgICAgICAgICBoYW5kbGVEaWFsb2dPaygpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgfTsNCiAgICAkRygnaHJlZicpLm9uYmx1ciA9IGZ1bmN0aW9uKCl7DQogICAgICAgIGlmKCFocmVmU3RhcnRXaXRoKHRoaXMudmFsdWUsWyJodHRwIiwiLyIsImZ0cDovLyJdKSl7DQogICAgICAgICAgICAkRygibXNnIikuaW5uZXJIVE1MID0gIjxzcGFuIHN0eWxlPSdjb2xvcjogcmVkJz4iK2xhbmcuaHR0cFByb21wdCsiPC9zcGFuPiI7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgJEcoIm1zZyIpLmlubmVySFRNTCA9ICIiOw0KICAgICAgICB9DQogICAgfTsNCg0KICAgIGZ1bmN0aW9uIGhyZWZTdGFydFdpdGgoaHJlZixhcnIpew0KICAgICAgICBocmVmID0gaHJlZi5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpOw0KICAgICAgICBmb3IodmFyIGk9MCxhaTthaT1hcnJbaSsrXTspew0KICAgICAgICAgICAgaWYoaHJlZi5pbmRleE9mKGFpKT09MCl7DQogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCg0KDQo8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4NCg==</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\map\map.asp' crc32='B83A4864'  dt:dt='bin.base64'>PCFET0NUWVBFIGh0bWw+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiAvPg0KICAgIDx0aXRsZT48L3RpdGxlPg0KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL2ludGVybmFsLmpzIj48L3NjcmlwdD4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vYXBpP3Y9MS4xJnNlcnZpY2VzPXRydWUiPjwvc2NyaXB0Pg0KICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICAgICAgIC5jb250ZW50e3dpZHRoOjUzMHB4OyBoZWlnaHQ6IDM1MHB4O21hcmdpbjogMTBweCBhdXRvO30NCiAgICAgICAgLmNvbnRlbnQgdGFibGV7d2lkdGg6IDEwMCV9DQogICAgICAgIC5jb250ZW50IHRhYmxlIHRke3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7fQ0KICAgICAgICAjY2l0eSwjYWRkcmVzc3toZWlnaHQ6MjFweDtiYWNrZ3JvdW5kOiAjRkZGO2JvcmRlcjoxcHggc29saWQgI2Q3ZDdkNzsgbGluZS1oZWlnaHQ6IDIxcHg7fQ0KICAgICAgICAjY2l0eXt3aWR0aDo2MHB4fQ0KICAgICAgICAjYWRkcmVzc3t3aWR0aDoxMzBweH0NCiAgICAgICAgI2lzX2R5bmFtaWNfbGFiZWwgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWFyZ2luOiAzcHggMHB4IDNweCAzcHg7fQ0KICAgICAgICAjaXNfZHluYW1pY19sYWJlbCBpbnB1dHt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7bWFyZ2luOiAzcHggM3B4IDNweCA1MHB4O30NCiAgICA8L3N0eWxlPg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGNsYXNzPSJjb250ZW50Ij4NCiAgICA8dGFibGU+DQogICAgICAgIDx0cj4NCiAgICAgICAgICAgIDx0ZD48dmFyIGlkPSJsYW5nX2NpdHkiPjwvdmFyPjo8L3RkPg0KICAgICAgICAgICAgPHRkPjxpbnB1dCBpZD0iY2l0eSIgdHlwZT0idGV4dCIgLz48L3RkPg0KICAgICAgICAgICAgPHRkPjx2YXIgaWQ9ImxhbmdfYWRkcmVzcyI+PC92YXI+OjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGlucHV0IGlkPSJhZGRyZXNzIiB0eXBlPSJ0ZXh0IiB2YWx1ZT0iIiAvPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGEgaHJlZj0iamF2YXNjcmlwdDpkb1NlYXJjaCgpIiBjbGFzcz0iYnV0dG9uIj48dmFyIGlkPSJsYW5nX3NlYXJjaCI+PC92YXI+PC9hPjwvdGQ+DQogICAgICAgICAgICA8dGQ+PGxhYmVsIGlkPSJpc19keW5hbWljX2xhYmVsIiBmb3I9ImlzX2R5bmFtaWMiPjxpbnB1dCBpZD0iaXNfZHluYW1pYyIgdHlwZT0iY2hlY2tib3giIG5hbWU9ImlzX2R5bmFtaWMiIC8+PHNwYW4+PHZhciBpZD0ibGFuZ19keW5hbWljbWFwIj48L3Zhcj48L3NwYW4+PC9sYWJlbD48L3RkPg0KICAgICAgICA8L3RyPg0KICAgIDwvdGFibGU+DQogICAgPGRpdiBzdHlsZT0id2lkdGg6MTAwJTtoZWlnaHQ6MzQwcHg7bWFyZ2luOjVweCBhdXRvO2JvcmRlcjoxcHggc29saWQgZ3JheSIgaWQ9ImNvbnRhaW5lciI+PC9kaXY+DQoNCjwvZGl2Pg0KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgIHZhciBtYXAgPSBuZXcgQk1hcC5NYXAoImNvbnRhaW5lciIpLG1hcmtlcixwb2ludCxzdHlsZVN0cjsNCiAgICBtYXAuZW5hYmxlU2Nyb2xsV2hlZWxab29tKCk7DQogICAgbWFwLmVuYWJsZUNvbnRpbnVvdXNab29tKCk7DQogICAgZnVuY3Rpb24gZG9TZWFyY2goKXsNCiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0eScpLnZhbHVlKSB7DQogICAgICAgICAgICBhbGVydChsYW5nLmNpdHlNc2cpOw0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciBzZWFyY2ggPSBuZXcgQk1hcC5Mb2NhbFNlYXJjaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0eScpLnZhbHVlLCB7DQogICAgICAgICAgICBvblNlYXJjaENvbXBsZXRlOiBmdW5jdGlvbiAocmVzdWx0cyl7DQogICAgICAgICAgICAgICAgaWYgKHJlc3VsdHMgJiYgcmVzdWx0cy5nZXROdW1Qb2lzKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHBvaW50cyA9IFtdOw0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cmVzdWx0cy5nZXRDdXJyZW50TnVtUG9pcygpOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHJlc3VsdHMuZ2V0UG9pKGkpLnBvaW50KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnRzLmxlbmd0aCA+IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG1hcC5zZXRWaWV3cG9ydChwb2ludHMpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgbWFwLmNlbnRlckFuZFpvb20ocG9pbnRzWzBdLCAxMyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcG9pbnQgPSBtYXAuZ2V0Q2VudGVyKCk7DQogICAgICAgICAgICAgICAgICAgIG1hcmtlci5zZXRQb2ludChwb2ludCk7DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQobGFuZy5lcnJvck1zZyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgc2VhcmNoLnNlYXJjaChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkcmVzcycpLnZhbHVlIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaXR5JykudmFsdWUpOw0KICAgIH0NCiAgICAvL+iOt+W+l+WPguaVsA0KICAgIGZ1bmN0aW9uIGdldFBhcnMoc3RyLHBhcil7DQogICAgICAgIHZhciByZWcgPSBuZXcgUmVnRXhwKHBhcisiPSgoXFxkK3xbLixdKSopIiwiZyIpOw0KICAgICAgICByZXR1cm4gcmVnLmV4ZWMoc3RyKVsxXTsNCiAgICB9DQogICAgZnVuY3Rpb24gaW5pdCgpew0KICAgICAgICB2YXIgbWFwTm9kZSA9IGVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5nZXRDbG9zZWROb2RlKCksDQogICAgICAgICAgICBpc01hcEltZyA9IG1hcE5vZGUgJiYgL2FwaVsuXW1hcFsuXWJhaWR1Wy5dY29tL2lnLnRlc3QobWFwTm9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpKSwNCiAgICAgICAgICAgIGlzTWFwSWZyYW1lID0gbWFwTm9kZSAmJiBkb21VdGlscy5oYXNDbGFzcyhtYXBOb2RlLCAndWVkaXRvcl9iYWlkdW1hcCcpOw0KICAgICAgICBpZihpc01hcEltZyB8fCBpc01hcElmcmFtZSl7DQogICAgICAgICAgICB2YXIgdXJsLCBjZW50ZXJQb3MsIG1hcmtlclBvczsNCiAgICAgICAgICAgIGlmKGlzTWFwSWZyYW1lKSB7DQogICAgICAgICAgICAgICAgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hcE5vZGUuZ2V0QXR0cmlidXRlKCJzcmMiKSk7DQogICAgICAgICAgICAgICAgJEcoJ2lzX2R5bmFtaWMnKS5jaGVja2VkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBzdHlsZVN0ciA9IG1hcE5vZGUuc3R5bGUuY3NzVGV4dDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdXJsID0gbWFwTm9kZS5nZXRBdHRyaWJ1dGUoInNyYyIpOw0KICAgICAgICAgICAgICAgIHN0eWxlU3RyID0gbWFwTm9kZS5zdHlsZS5jc3NUZXh0Ow0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBjZW50ZXJQb3MgPSBnZXRQYXJzKHVybCwiY2VudGVyIikuc3BsaXQoIiwiKTsNCiAgICAgICAgICAgIG1hcmtlclBvcyA9IGdldFBhcnModXJsLCAibWFya2VycyIpLnNwbGl0KCIsIik7DQogICAgICAgICAgICBwb2ludCA9IG5ldyBCTWFwLlBvaW50KE51bWJlcihjZW50ZXJQb3NbMF0pLE51bWJlcihjZW50ZXJQb3NbMV0pKTsNCiAgICAgICAgICAgIG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihuZXcgQk1hcC5Qb2ludChOdW1iZXIobWFya2VyUG9zWzBdKSwgTnVtYmVyKG1hcmtlclBvc1sxXSkpKTsNCiAgICAgICAgICAgIG1hcC5hZGRDb250cm9sKG5ldyBCTWFwLk5hdmlnYXRpb25Db250cm9sKCkpOw0KICAgICAgICAgICAgbWFwLmNlbnRlckFuZFpvb20ocG9pbnQsIE51bWJlcihnZXRQYXJzKHVybCwiem9vbSIpKSk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCgxMTYuNDA0LCAzOS45MTUpOyAgICAvLyDliJvlu7rngrnlnZDmoIcNCiAgICAgICAgICAgIG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihwb2ludCk7DQogICAgICAgICAgICBtYXAuYWRkQ29udHJvbChuZXcgQk1hcC5OYXZpZ2F0aW9uQ29udHJvbCgpKTsNCiAgICAgICAgICAgIG1hcC5jZW50ZXJBbmRab29tKHBvaW50LCAxMCk7ICAgICAgICAgICAgICAgICAgICAgLy8g5Yid5aeL5YyW5Zyw5Zu+LOiuvue9ruS4reW/g+eCueWdkOagh+WSjOWcsOWbvue6p+WIq+OAgg0KICAgICAgICB9DQogICAgICAgIG1hcmtlci5lbmFibGVEcmFnZ2luZygpOw0KICAgICAgICBtYXAuYWRkT3ZlcmxheShtYXJrZXIpOw0KICAgIH0NCiAgICBpbml0KCk7DQogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZHJlc3MnKS5vbmtleWRvd24gPSBmdW5jdGlvbiAoZXZ0KXsNCiAgICAgICAgZXZ0ID0gZXZ0IHx8IGV2ZW50Ow0KICAgICAgICBpZiAoZXZ0LmtleUNvZGUgPT0gMTMpIHsNCiAgICAgICAgICAgIGRvU2VhcmNoKCk7DQogICAgICAgIH0NCiAgICB9Ow0KICAgIGRpYWxvZy5vbm9rID0gZnVuY3Rpb24gKCl7DQogICAgICAgIHZhciBjZW50ZXIgPSBtYXAuZ2V0Q2VudGVyKCk7DQogICAgICAgIHZhciB6b29tID0gbWFwLnpvb21MZXZlbDsNCiAgICAgICAgdmFyIHNpemUgPSBtYXAuZ2V0U2l6ZSgpOw0KICAgICAgICB2YXIgbWFwV2lkdGggPSBzaXplLndpZHRoOw0KICAgICAgICB2YXIgbWFwSGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7DQogICAgICAgIHZhciBwb2ludCA9IG1hcmtlci5nZXRQb2ludCgpOw0KDQogICAgICAgIGlmKCRHKCdpc19keW5hbWljJykuY2hlY2tlZCkgew0KICAgICAgICAgICAgdmFyIFVSTCA9IGVkaXRvci5vcHRpb25zLlVFRElUT1JfSE9NRV9VUkwsDQogICAgICAgICAgICAgICAgdXJsID0gW1VSTCArICgvXC8kLy50ZXN0KFVSTCkgPyAnJzonLycpICsgImRpYWxvZ3MvbWFwL3Nob3cuYXNwIiArDQogICAgICAgICAgICAgICAgICAgICcjY2VudGVyPScgKyBjZW50ZXIubG5nICsgJywnICsgY2VudGVyLmxhdCwNCiAgICAgICAgICAgICAgICAgICAgJyZ6b29tPScgKyB6b29tLA0KICAgICAgICAgICAgICAgICAgICAnJndpZHRoPScgKyBtYXBXaWR0aCwNCiAgICAgICAgICAgICAgICAgICAgJyZoZWlnaHQ9JyArIG1hcEhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgJyZtYXJrZXJzPScgKyBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQsDQogICAgICAgICAgICAgICAgICAgICcmbWFya2VyU3R5bGVzPScgKyAnbCxBJ10uam9pbignJyk7DQogICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2luc2VydGh0bWwnLCAnPGlmcmFtZSBjbGFzcz0idWVkaXRvcl9iYWlkdW1hcCIgc3JjPSInICsgdXJsICsgJyInICsgKHN0eWxlU3RyID8gJyBzdHlsZT0iJyArIHN0eWxlU3RyICsgJyInIDonJykgKyAnIGZyYW1lYm9yZGVyPSIwIiB3aWR0aD0iJyArIChtYXBXaWR0aCs0KSArICciIGhlaWdodD0iJyArIChtYXBIZWlnaHQrNCkgKyAnIj48L2lmcmFtZT4nKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSAiaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL3N0YXRpY2ltYWdlP2NlbnRlcj0iICsgY2VudGVyLmxuZyArICcsJyArIGNlbnRlci5sYXQgKw0KICAgICAgICAgICAgICAgICAgICAiJnpvb209IiArIHpvb20gKyAiJndpZHRoPSIgKyBzaXplLndpZHRoICsgJyZoZWlnaHQ9JyArIHNpemUuaGVpZ2h0ICsgIiZtYXJrZXJzPSIgKyBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQ7DQogICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoJ2luc2VydGh0bWwnLCAnPGltZyB3aWR0aD0iJysgc2l6ZS53aWR0aCArJyJoZWlnaHQ9IicrIHNpemUuaGVpZ2h0ICsnIiBzcmM9IicgKyB1cmwgKyAnIicgKyAoc3R5bGVTdHIgPyAnIHN0eWxlPSInICsgc3R5bGVTdHIgKyAnIicgOicnKSArICcvPicpOw0KICAgICAgICB9DQogICAgfTsNCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkcmVzcyIpLmZvY3VzKCk7DQo8L3NjcmlwdD4NCg0KDQo8L2JvZHk+DQo8L2h0bWw+DQo=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\map\show.asp' crc32='BEE2FB73'  dt:dt='bin.base64'>PCFET0NUWVBFIGh0bWwgUFVCTElDICItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIKICAgICAgICAiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCI+CjxodG1sIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCIvPgogICAgPG1ldGEgbmFtZT0ia2V5d29yZHMiIGNvbnRlbnQ9IueZvuW6puWcsOWbviznmb7luqblnLDlm75BUEnvvIznmb7luqblnLDlm77oh6rlrprkuYnlt6XlhbfvvIznmb7luqblnLDlm77miYDop4HljbPmiYDlvpflt6XlhbciLz4KICAgIDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSLnmb7luqblnLDlm75BUEnoh6rlrprkuYnlnLDlm77vvIzluK7liqnnlKjmiLflnKjlj6/op4bljJbmk43kvZzkuIvnlJ/miJDnmb7luqblnLDlm74iLz4KICAgIDx0aXRsZT7nmb7luqblnLDlm75BUEnoh6rlrprkuYnlnLDlm748L3RpdGxlPgogICAgPCEtLeW8leeUqOeZvuW6puWcsOWbvkFQSS0tPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICBodG1sLCBib2R5IHsKICAgICAgICAgICAgbWFyZ2luOiAwOwogICAgICAgICAgICBwYWRkaW5nOiAwOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgIH0KICAgIDwvc3R5bGU+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vYXBpP2tleT0mdj0xLjEmc2VydmljZXM9dHJ1ZSI+PC9zY3JpcHQ+CjwvaGVhZD4KCjxib2R5IG9ubG9hZD0iaW5pdE1hcCgpOyI+CjwhLS3nmb7luqblnLDlm77lrrnlmagtLT4KPGRpdiBzdHlsZT0id2lkdGg6Njk3cHg7aGVpZ2h0OjU1MHB4O2JvcmRlcjojY2NjIHNvbGlkIDFweDsiIGlkPSJkaXR1Q29udGVudCI+PC9kaXY+CjwvYm9keT4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgZnVuY3Rpb24gZ2V0UGFyYW0obmFtZSkgewogICAgICAgIHJldHVybiBsb2NhdGlvbi5ocmVmLm1hdGNoKG5ldyBSZWdFeHAoJ1s/IyZdJyArIG5hbWUgKyAnPShbXj8jJl0rKScsICdpJykpID8gUmVnRXhwLiQxIDogJyc7CiAgICB9CiAgICB2YXIgbWFwLCBtYXJrZXI7CiAgICB2YXIgY2VudGVyUGFyYW0gPSBnZXRQYXJhbSgnY2VudGVyJyk7CiAgICB2YXIgem9vbVBhcmFtID0gZ2V0UGFyYW0oJ3pvb20nKTsKICAgIHZhciB3aWR0aFBhcmFtID0gZ2V0UGFyYW0oJ3dpZHRoJyk7CiAgICB2YXIgaGVpZ2h0UGFyYW0gPSBnZXRQYXJhbSgnaGVpZ2h0Jyk7CiAgICB2YXIgbWFya2Vyc1BhcmFtID0gZ2V0UGFyYW0oJ21hcmtlcnMnKTsKICAgIHZhciBtYXJrZXJTdHlsZXNQYXJhbSA9IGdldFBhcmFtKCdtYXJrZXJTdHlsZXMnKTsKCiAgICAvL+WIm+W7uuWSjOWIneWni+WMluWcsOWbvuWHveaVsO+8mgogICAgZnVuY3Rpb24gaW5pdE1hcCgpIHsKICAgICAgICAvLyBbRkZd5YiH5o2i5qih5byP5ZCO5oql6ZSZCiAgICAgICAgaWYgKCF3aW5kb3cuQk1hcCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciBkaXR1Q29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXR1Q29udGVudCcpOwogICAgICAgIGRpdHVDb250ZW50LnN0eWxlLndpZHRoID0gd2lkdGhQYXJhbSArICdweCc7CiAgICAgICAgZGl0dUNvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0UGFyYW0gKyAncHgnOwoKICAgICAgICBjcmVhdGVNYXAoKTsvL+WIm+W7uuWcsOWbvgogICAgICAgIHNldE1hcEV2ZW50KCk7Ly/orr7nva7lnLDlm77kuovku7YKICAgICAgICBhZGRNYXBDb250cm9sKCk7Ly/lkJHlnLDlm77mt7vliqDmjqfku7YKCiAgICAgICAgLy8g5Yib5bu65qCH5rOoCiAgICAgICAgdmFyIG1hcmtlcnNBcnIgPSBtYXJrZXJzUGFyYW0uc3BsaXQoJywnKTsKICAgICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludChtYXJrZXJzQXJyWzBdLCBtYXJrZXJzQXJyWzFdKTsKICAgICAgICBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpOwogICAgICAgIG1hcmtlci5lbmFibGVEcmFnZ2luZygpOwogICAgICAgIG1hcC5hZGRPdmVybGF5KG1hcmtlcik7IC8vIOWwhuagh+azqOa3u+WKoOWIsOWcsOWbvuS4rQoKICAgICAgICBpZihwYXJlbnQuZWRpdG9yICYmIHBhcmVudC5kb2N1bWVudC5ib2R5LmNvbnRlbnRFZGl0YWJsZT09InRydWUiKSB7IC8v5Zyo57yW6L6R54q25oCB5LiLCiAgICAgICAgICAgIHNldE1hcExpc3RlbmVyKCk7Ly/lnLDlm77mlLnlj5jkv67mlLnlpJblsYLnmoRpZnJhbWXmoIfnrb5zcmPlsZ7mgKcKICAgICAgICB9CiAgICB9CgogICAgLy/liJvlu7rlnLDlm77lh73mlbDvvJoKICAgIGZ1bmN0aW9uIGNyZWF0ZU1hcCgpIHsKICAgICAgICBtYXAgPSBuZXcgQk1hcC5NYXAoImRpdHVDb250ZW50Iik7Ly/lnKjnmb7luqblnLDlm77lrrnlmajkuK3liJvlu7rkuIDkuKrlnLDlm74KICAgICAgICB2YXIgY2VudGVyQXJyID0gY2VudGVyUGFyYW0uc3BsaXQoJywnKTsKICAgICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludChwYXJzZUZsb2F0KGNlbnRlckFyclswXSksIHBhcnNlRmxvYXQoY2VudGVyQXJyWzFdKSk7Ly/lrprkuYnkuIDkuKrkuK3lv4PngrnlnZDmoIcKICAgICAgICBtYXAuY2VudGVyQW5kWm9vbShwb2ludCwgcGFyc2VJbnQoem9vbVBhcmFtKSk7Ly/orr7lrprlnLDlm77nmoTkuK3lv4PngrnlkozlnZDmoIflubblsIblnLDlm77mmL7npLrlnKjlnLDlm77lrrnlmajkuK0KICAgIH0KCiAgICAvL+WcsOWbvuS6i+S7tuiuvue9ruWHveaVsO+8mgogICAgZnVuY3Rpb24gc2V0TWFwRXZlbnQoKSB7CiAgICAgICAgbWFwLmVuYWJsZURyYWdnaW5nKCk7Ly/lkK/nlKjlnLDlm77mi5bmi73kuovku7bvvIzpu5jorqTlkK/nlKgo5Y+v5LiN5YaZKQogICAgICAgIG1hcC5lbmFibGVTY3JvbGxXaGVlbFpvb20oKTsvL+WQr+eUqOWcsOWbvua7mui9ruaUvuWkp+e8qeWwjwogICAgICAgIG1hcC5lbmFibGVEb3VibGVDbGlja1pvb20oKTsvL+WQr+eUqOm8oOagh+WPjOWHu+aUvuWkp++8jOm7mOiupOWQr+eUqCjlj6/kuI3lhpkpCiAgICAgICAgbWFwLmVuYWJsZUtleWJvYXJkKCk7Ly/lkK/nlKjplK7nm5jkuIrkuIvlt6blj7PplK7np7vliqjlnLDlm74KICAgIH0KCiAgICAvL+WcsOWbvuaOp+S7tua3u+WKoOWHveaVsO+8mgogICAgZnVuY3Rpb24gYWRkTWFwQ29udHJvbCgpIHsKICAgICAgICAvL+WQkeWcsOWbvuS4rea3u+WKoOe8qeaUvuaOp+S7tgogICAgICAgIHZhciBjdHJsX25hdiA9IG5ldyBCTWFwLk5hdmlnYXRpb25Db250cm9sKHthbmNob3I6IEJNQVBfQU5DSE9SX1RPUF9MRUZULCB0eXBlOiBCTUFQX05BVklHQVRJT05fQ09OVFJPTF9MQVJHRX0pOwogICAgICAgIG1hcC5hZGRDb250cm9sKGN0cmxfbmF2KTsKICAgICAgICAvL+WQkeWcsOWbvuS4rea3u+WKoOe8qeeVpeWbvuaOp+S7tgogICAgICAgIHZhciBjdHJsX292ZSA9IG5ldyBCTWFwLk92ZXJ2aWV3TWFwQ29udHJvbCh7YW5jaG9yOiBCTUFQX0FOQ0hPUl9CT1RUT01fUklHSFQsIGlzT3BlbjogMX0pOwogICAgICAgIG1hcC5hZGRDb250cm9sKGN0cmxfb3ZlKTsKICAgICAgICAvL+WQkeWcsOWbvuS4rea3u+WKoOavlOS+i+WwuuaOp+S7tgogICAgICAgIHZhciBjdHJsX3NjYSA9IG5ldyBCTWFwLlNjYWxlQ29udHJvbCh7YW5jaG9yOiBCTUFQX0FOQ0hPUl9CT1RUT01fTEVGVH0pOwogICAgICAgIG1hcC5hZGRDb250cm9sKGN0cmxfc2NhKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzZXRNYXBMaXN0ZW5lcigpIHsKICAgICAgICB2YXIgZWRpdG9yID0gcGFyZW50LmVkaXRvciwgY29udGFpbmVySWZyYW1lLAogICAgICAgICAgICBpZnJhbWVzID0gcGFyZW50LmRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpZnJhbWUnKTsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gaWZyYW1lcykgewogICAgICAgICAgICBpZiAoaWZyYW1lc1trZXldLmNvbnRlbnRXaW5kb3cgPT0gd2luZG93KSB7CiAgICAgICAgICAgICAgICBjb250YWluZXJJZnJhbWUgPSBpZnJhbWVzW2tleV07CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoY29udGFpbmVySWZyYW1lKSB7CiAgICAgICAgICAgIG1hcC5hZGRFdmVudExpc3RlbmVyKCdtb3ZlZW5kJywgbWFwTGlzdGVuZXJIYW5kbGVyKTsKICAgICAgICAgICAgbWFwLmFkZEV2ZW50TGlzdGVuZXIoJ3pvb21lbmQnLCBtYXBMaXN0ZW5lckhhbmRsZXIpOwogICAgICAgICAgICBtYXJrZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIG1hcExpc3RlbmVySGFuZGxlcik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBtYXBMaXN0ZW5lckhhbmRsZXIoKSB7CiAgICAgICAgICAgIHZhciB6b29tID0gbWFwLmdldFpvb20oKSwKICAgICAgICAgICAgICAgIGNlbnRlciA9IG1hcC5nZXRDZW50ZXIoKSwKICAgICAgICAgICAgICAgIG1hcmtlciA9IHdpbmRvdy5tYXJrZXIuZ2V0UG9pbnQoKTsKICAgICAgICAgICAgY29udGFpbmVySWZyYW1lLnNyYyA9IGNvbnRhaW5lcklmcmFtZS5zcmMuCiAgICAgICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAoJyhbPyMmXSljZW50ZXI9KFtePyMmXSspJywgJ2knKSwgJyQxY2VudGVyPScgKyBjZW50ZXIubG5nICsgJywnICsgY2VudGVyLmxhdCkuCiAgICAgICAgICAgICAgICByZXBsYWNlKG5ldyBSZWdFeHAoJyhbPyMmXSltYXJrZXJzPShbXj8jJl0rKScsICdpJyksICckMW1hcmtlcnM9JyArIG1hcmtlci5sbmcgKyAnLCcgKyBtYXJrZXIubGF0KS4KICAgICAgICAgICAgICAgIHJlcGxhY2UobmV3IFJlZ0V4cCgnKFs/IyZdKXpvb209KFtePyMmXSspJywgJ2knKSwgJyQxem9vbT0nICsgem9vbSk7CiAgICAgICAgICAgIGVkaXRvci5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOwogICAgICAgIH0KICAgIH0KPC9zY3JpcHQ+CjwvaHRtbD4=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\music\music.js' crc32='84B8A373'  dt:dt='bin.base64'>ZnVuY3Rpb24gTXVzaWMoKSB7DQogICAgdGhpcy5pbml0KCk7DQp9DQooZnVuY3Rpb24gKCkgew0KICAgIHZhciBwYWdlcyA9IFtdLA0KICAgICAgICBwYW5lbHMgPSBbXSwNCiAgICAgICAgc2VsZWN0ZWRJdGVtID0gbnVsbDsNCiAgICBNdXNpYy5wcm90b3R5cGUgPSB7DQogICAgICAgIHRvdGFsOjcwLA0KICAgICAgICBwYWdlU2l6ZToxMCwNCiAgICAgICAgZGF0YVVybDoiaHR0cDovL3RpbmdhcGkudGluZy5iYWlkdS5jb20vdjEvcmVzdHNlcnZlci90aW5nP21ldGhvZD1iYWlkdS50aW5nLnNlYXJjaC5jb21tb24iLA0KICAgICAgICBwbGF5ZXJVcmw6Imh0dHA6Ly9ib3guYmFpZHUuY29tL3dpZGdldC9mbGFzaC9iZHNwYWNlc29uZy5zd2YiLA0KDQogICAgICAgIGluaXQ6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCgkgICAgc3dpdGNoVGFiKCJtdXNpY1RhYiIpOw0KICAgICAgICAgICAgZG9tVXRpbHMub24oJEcoIkpfc2VhcmNoTmFtZSIpLCAia2V5dXAiLCBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgICAgICAgICAgICAgICB2YXIgZSA9IHdpbmRvdy5ldmVudCB8fCBldmVudDsNCiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKSB7DQogICAgICAgICAgICAgICAgICAgIG1lLmRvc2VhcmNoKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBkb21VdGlscy5vbigkRygiSl9zZWFyY2hCdG4iKSwgImNsaWNrIiwgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIG1lLmRvc2VhcmNoKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgY2FsbGJhY2s6ZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBtZS5kYXRhID0gZGF0YS5zb25nX2xpc3Q7DQogICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAkRygnSl9yZXN1bHRCYXInKS5pbm5lckhUTUwgPSBtZS5fcmVuZGVyVGVtcGxhdGUoZGF0YS5zb25nX2xpc3QpOw0KICAgICAgICAgICAgfSwgMzAwKTsNCiAgICAgICAgfSwNCiAgICAgICAgZG9zZWFyY2g6ZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHNlbGVjdGVkSXRlbSA9IG51bGw7DQogICAgICAgICAgICB2YXIga2V5ID0gJEcoJ0pfc2VhcmNoTmFtZScpLnZhbHVlOw0KICAgICAgICAgICAgaWYgKHV0aWxzLnRyaW0oa2V5KSA9PSAiIilyZXR1cm4gZmFsc2U7DQogICAgICAgICAgICBrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoa2V5KTsNCiAgICAgICAgICAgIG1lLl9zZW50KGtleSk7DQogICAgICAgIH0sDQogICAgICAgIGRvc2VsZWN0OmZ1bmN0aW9uIChpKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKHR5cGVvZiBpID09ICdvYmplY3QnKSB7DQogICAgICAgICAgICAgICAgc2VsZWN0ZWRJdGVtID0gaTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGkgPT0gJ251bWJlcicpIHsNCiAgICAgICAgICAgICAgICBzZWxlY3RlZEl0ZW0gPSBtZS5kYXRhW2ldOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBvbnBhZ2VjbGljazpmdW5jdGlvbiAoaWQpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgJEcocGFnZXNbaV0pLmNsYXNzTmFtZSA9ICdwYWdlb2ZmJzsNCiAgICAgICAgICAgICAgICAkRyhwYW5lbHNbaV0pLmNsYXNzTmFtZSA9ICdwYW5lbG9mZic7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkRygncGFnZScgKyBpZCkuY2xhc3NOYW1lID0gJ3BhZ2Vvbic7DQogICAgICAgICAgICAkRygncGFuZWwnICsgaWQpLmNsYXNzTmFtZSA9ICdwYW5lbG9uJzsNCiAgICAgICAgfSwNCiAgICAgICAgbGlzdGVuVGVzdDpmdW5jdGlvbiAoZWxlbSkgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpcywNCiAgICAgICAgICAgICAgICB2aWV3ID0gJEcoJ0pfcHJldmlldycpLA0KICAgICAgICAgICAgICAgIGlzX3BsYXlfYWN0aW9uID0gKGVsZW0uY2xhc3NOYW1lID09ICdtLXRyeScpLA0KICAgICAgICAgICAgICAgIG9sZF90cnlpbmcgPSBtZS5fZ2V0VHJ5aW5nRWxlbSgpOw0KDQogICAgICAgICAgICBpZiAob2xkX3RyeWluZykgew0KICAgICAgICAgICAgICAgIG9sZF90cnlpbmcuY2xhc3NOYW1lID0gJ20tdHJ5JzsNCiAgICAgICAgICAgICAgICB2aWV3LmlubmVySFRNTCA9ICcnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGlzX3BsYXlfYWN0aW9uKSB7DQogICAgICAgICAgICAgICAgZWxlbS5jbGFzc05hbWUgPSAnbS10cnlpbmcnOw0KICAgICAgICAgICAgICAgIHZpZXcuaW5uZXJIVE1MID0gbWUuX2J1aWxkTXVzaWNIdG1sKG1lLl9nZXRVcmwodHJ1ZSkpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBfc2VudDpmdW5jdGlvbiAocGFyYW0pIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICAkRygnSl9yZXN1bHRCYXInKS5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz0ibG9hZGluZyI+PC9kaXY+JzsNCg0KICAgICAgICAgICAgdXRpbHMubG9hZEZpbGUoZG9jdW1lbnQsIHsNCiAgICAgICAgICAgICAgICBzcmM6bWUuZGF0YVVybCArICcmcXVlcnk9JyArIHBhcmFtICsgJyZwYWdlX3NpemU9JyArIG1lLnRvdGFsICsgJyZjYWxsYmFjaz1tdXNpYy5jYWxsYmFjayYucj0nICsgTWF0aC5yYW5kb20oKSwNCiAgICAgICAgICAgICAgICB0YWc6InNjcmlwdCIsDQogICAgICAgICAgICAgICAgdHlwZToidGV4dC9qYXZhc2NyaXB0IiwNCiAgICAgICAgICAgICAgICBkZWZlcjoiZGVmZXIiDQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgX3JlbW92ZUh0bWw6ZnVuY3Rpb24gKHN0cikgew0KICAgICAgICAgICAgdmFyIHJlZyA9IC88XHMqXC8/XHMqW14+XSpccyo+L2dpOw0KICAgICAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZywgIiIpOw0KICAgICAgICB9LA0KICAgICAgICBfZ2V0VXJsOmZ1bmN0aW9uIChpc1RyeUxpc3Rlbikgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHZhciBwYXJhbSA9ICdmcm9tPXRpZWJhc29uZ3dpZGdldCZ1cmw9Jm5hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChtZS5fcmVtb3ZlSHRtbChzZWxlY3RlZEl0ZW0udGl0bGUpKSArICcmYXJ0aXN0PScNCiAgICAgICAgICAgICAgICArIGVuY29kZVVSSUNvbXBvbmVudChtZS5fcmVtb3ZlSHRtbChzZWxlY3RlZEl0ZW0uYXV0aG9yKSkgKyAnJmV4dHJhPScNCiAgICAgICAgICAgICAgICArIGVuY29kZVVSSUNvbXBvbmVudChtZS5fcmVtb3ZlSHRtbChzZWxlY3RlZEl0ZW0uYWxidW1fdGl0bGUpKQ0KICAgICAgICAgICAgICAgICsgJyZhdXRvUGxheT0nK2lzVHJ5TGlzdGVuKyAnJmxvb3A9dHJ1ZSc7DQogICAgICAgICAgICByZXR1cm4gIG1lLnBsYXllclVybCArICI/IiArIHBhcmFtOw0KICAgICAgICB9LA0KCQlfZ2V0VXJsMjpmdW5jdGlvbihqc29uLGlzVHJ5TGlzdGVuKXsNCgkJCXZhciBtZT10aGlzOw0KICAgICAgICAgICAgdmFyIHBhcmFtID0gJ2Zyb209dGllYmFzb25nd2lkZ2V0JnVybD0nDQoJCQkJKyBlbmNvZGVVUklDb21wb25lbnQobWUuX3JlbW92ZUh0bWwoanNvbi51cmwpKSArICcmbmFtZT0nIA0KCQkJCSsgZW5jb2RlVVJJQ29tcG9uZW50KG1lLl9yZW1vdmVIdG1sKGpzb24udGl0bGUpKSArICcmYXJ0aXN0PScNCiAgICAgICAgICAgICAgICArIGVuY29kZVVSSUNvbXBvbmVudChtZS5fcmVtb3ZlSHRtbChqc29uLmF1dGhvcikpICsgJyZleHRyYT0nDQogICAgICAgICAgICAgICAgKyBlbmNvZGVVUklDb21wb25lbnQobWUuX3JlbW92ZUh0bWwoanNvbi5hbGJ1bV90aXRsZSkpDQogICAgICAgICAgICAgICAgKyAnJmF1dG9QbGF5PScraXNUcnlMaXN0ZW4rICcmbG9vcD10cnVlJzsNCgkJCXJldHVybiAgbWUucGxheWVyVXJsICsgIj8iICsgcGFyYW07DQoJCX0sDQogICAgICAgIF9nZXRUcnlpbmdFbGVtOmZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBzID0gJEcoJ0pfbGlzdFBhbmVsJykuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NwYW4nKTsNCg0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICAgICAgaWYgKHNbaV0uY2xhc3NOYW1lID09ICdtLXRyeWluZycpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBzW2ldOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIG51bGw7DQogICAgICAgIH0sDQogICAgICAgIF9idWlsZE11c2ljSHRtbDpmdW5jdGlvbiAocGxheWVyVXJsKSB7DQogICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZW1iZWQgY2xhc3M9IkJERV90cnlfTXVzaWMiIGFsbG93ZnVsbHNjcmVlbj0iZmFsc2UiIHBsdWdpbnNwYWdlPSJodHRwOi8vd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyIic7DQogICAgICAgICAgICBodG1sICs9ICcgc3JjPSInICsgcGxheWVyVXJsICsgJyInOw0KICAgICAgICAgICAgaHRtbCArPSAnIHdpZHRoPSIxIiBoZWlnaHQ9IjEiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi0yMDAwcHg7Iic7DQogICAgICAgICAgICBodG1sICs9ICcgdHlwZT0iYXBwbGljYXRpb24veC1zaG9ja3dhdmUtZmxhc2giIHdtb2RlPSJ0cmFuc3BhcmVudCIgcGxheT0idHJ1ZSIgbG9vcD0iZmFsc2UiJzsNCiAgICAgICAgICAgIGh0bWwgKz0gJyBtZW51PSJmYWxzZSIgYWxsb3dzY3JpcHRhY2Nlc3M9Im5ldmVyIiBzY2FsZT0ibm9ib3JkZXIiPic7DQogICAgICAgICAgICByZXR1cm4gaHRtbDsNCiAgICAgICAgfSwNCiAgICAgICAgX2J1aWxkTXVzaWNIdG1sUHJldmlldzpmdW5jdGlvbiAocGxheWVyVXJsKSB7DQogICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZW1iZWQgY2xhc3M9IkJERV90cnlfTXVzaWMiIGFsbG93ZnVsbHNjcmVlbj0iZmFsc2UiIHBsdWdpbnNwYWdlPSJodHRwOi8vd3d3Lm1hY3JvbWVkaWEuY29tL2dvL2dldGZsYXNocGxheWVyIic7DQogICAgICAgICAgICBodG1sICs9ICcgc3JjPSInICsgcGxheWVyVXJsICsgJyInOw0KICAgICAgICAgICAgaHRtbCArPSAnIHN0eWxlPSJ3aWR0aDoxMDAlIiAnOw0KICAgICAgICAgICAgaHRtbCArPSAnIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiB3bW9kZT0idHJhbnNwYXJlbnQiIHBsYXk9InRydWUiIGxvb3A9ImZhbHNlIic7DQogICAgICAgICAgICBodG1sICs9ICcgbWVudT0iZmFsc2UiIGFsbG93c2NyaXB0YWNjZXNzPSJuZXZlciIgc2NhbGU9Im5vYm9yZGVyIj4nOw0KICAgICAgICAgICAgcmV0dXJuIGh0bWw7DQogICAgICAgIH0sDQogICAgICAgIF9ieXRlTGVuZ3RoOmZ1bmN0aW9uIChzdHIpIHsNCiAgICAgICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvW15cdTAwMDAtXHUwMDdmXS9nLCAiXHUwMDYxXHUwMDYxIikubGVuZ3RoOw0KICAgICAgICB9LA0KICAgICAgICBfZ2V0TWF4VGV4dDpmdW5jdGlvbiAocykgew0KICAgICAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgICAgIHMgPSBtZS5fcmVtb3ZlSHRtbChzKTsNCiAgICAgICAgICAgIGlmIChtZS5fYnl0ZUxlbmd0aChzKSA+IDEyKQ0KICAgICAgICAgICAgICAgIHJldHVybiBzLnN1YnN0cmluZygwLCA1KSArICcuLi4nOw0KICAgICAgICAgICAgaWYgKCFzKSBzID0gIiZuYnNwOyI7DQogICAgICAgICAgICByZXR1cm4gczsNCiAgICAgICAgfSwNCiAgICAgICAgX3JlYnVpbGREYXRhOmZ1bmN0aW9uIChkYXRhKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzLA0KICAgICAgICAgICAgICAgIG5ld0RhdGEgPSBbXSwNCiAgICAgICAgICAgICAgICBkID0gbWUucGFnZVNpemUsDQogICAgICAgICAgICAgICAgaXRlbWJveDsNCiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgIGlmICgoaSArIGQpICUgZCA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW1ib3ggPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGl0ZW1ib3gpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGl0ZW1ib3gucHVzaChkYXRhW2ldKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiBuZXdEYXRhOw0KICAgICAgICB9LA0KICAgICAgICBfcmVuZGVyVGVtcGxhdGU6ZnVuY3Rpb24gKGRhdGEpIHsNCiAgICAgICAgICAgIHZhciBtZSA9IHRoaXM7DQogICAgICAgICAgICBpZiAoZGF0YS5sZW5ndGggPT0gMClyZXR1cm4gJzxkaXYgY2xhc3M9ImVtcHR5Ij4nICsgbGFuZy5lbXB0eVR4dCArICc8L2Rpdj4nOw0KICAgICAgICAgICAgZGF0YSA9IG1lLl9yZWJ1aWxkRGF0YShkYXRhKTsNCiAgICAgICAgICAgIHZhciBzID0gW10sIHAgPSBbXSwgdCA9IFtdOw0KICAgICAgICAgICAgcy5wdXNoKCc8ZGl2IGlkPSJKX2xpc3RQYW5lbCIgY2xhc3M9Imxpc3RQYW5lbCI+Jyk7DQogICAgICAgICAgICBwLnB1c2goJzxkaXYgY2xhc3M9InBhZ2UiPicpOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHRtcExpc3Q7IHRtcExpc3QgPSBkYXRhW2krK107KSB7DQogICAgICAgICAgICAgICAgcGFuZWxzLnB1c2goJ3BhbmVsJyArIGkpOw0KICAgICAgICAgICAgICAgIHBhZ2VzLnB1c2goJ3BhZ2UnICsgaSk7DQogICAgICAgICAgICAgICAgaWYgKGkgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICBzLnB1c2goJzxkaXYgaWQ9InBhbmVsJyArIGkgKyAnIiBjbGFzcz0icGFuZWxvbiI+Jyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCAhPSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0LnB1c2goJzxkaXYgaWQ9InBhZ2UnICsgaSArICciIG9uY2xpY2s9Im11c2ljLm9ucGFnZWNsaWNrKCcgKyBpICsgJykiIGNsYXNzPSJwYWdlb24iPicgKyAoaSApICsgJzwvZGl2PicpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgcy5wdXNoKCc8ZGl2IGlkPSJwYW5lbCcgKyBpICsgJyIgY2xhc3M9InBhbmVsb2ZmIj4nKTsNCiAgICAgICAgICAgICAgICAgICAgdC5wdXNoKCc8ZGl2IGlkPSJwYWdlJyArIGkgKyAnIiBvbmNsaWNrPSJtdXNpYy5vbnBhZ2VjbGljaygnICsgaSArICcpIiBjbGFzcz0icGFnZW9mZiI+JyArIChpICkgKyAnPC9kaXY+Jyk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHMucHVzaCgnPGRpdiBjbGFzcz0ibS1ib3giPicpOw0KICAgICAgICAgICAgICAgIHMucHVzaCgnPGRpdiBjbGFzcz0ibS1oIj48c3BhbiBjbGFzcz0ibS10Ij4nICsgbGFuZy5jaGFwdGVyICsgJzwvc3Bhbj48c3BhbiBjbGFzcz0ibS1zIj4nICsgbGFuZy5zaW5nZXINCiAgICAgICAgICAgICAgICAgICAgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPSJtLXoiPicgKyBsYW5nLnNwZWNpYWwgKyAnPC9zcGFuPjxzcGFuIGNsYXNzPSJtLXRyeS10Ij4nICsgbGFuZy5saXN0ZW5UZXN0ICsgJzwvc3Bhbj48L2Rpdj4nKTsNCiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgdG1wT2JqOyB0bXBPYmogPSB0bXBMaXN0W2orK107KSB7DQogICAgICAgICAgICAgICAgICAgIHMucHVzaCgnPGxhYmVsIGZvcj0icmFkaW8tJyArIGkgKyAnLScgKyBqICsgJyIgY2xhc3M9Im0tbSI+Jyk7DQogICAgICAgICAgICAgICAgICAgIHMucHVzaCgnPGlucHV0IHR5cGU9InJhZGlvIiBpZD0icmFkaW8tJyArIGkgKyAnLScgKyBqICsgJyIgbmFtZT0ibXVzaWNJZCIgY2xhc3M9Im0tbCIgb25jbGljaz0ibXVzaWMuZG9zZWxlY3QoJyArIChtZS5wYWdlU2l6ZSAqIChpLTEpICsgKGotMSkpICsgJykiLz4nKTsNCiAgICAgICAgICAgICAgICAgICAgcy5wdXNoKCc8c3BhbiBjbGFzcz0ibS10Ij4nICsgbWUuX2dldE1heFRleHQodG1wT2JqLnRpdGxlKSArICc8L3NwYW4+Jyk7DQogICAgICAgICAgICAgICAgICAgIHMucHVzaCgnPHNwYW4gY2xhc3M9Im0tcyI+JyArIG1lLl9nZXRNYXhUZXh0KHRtcE9iai5hdXRob3IpICsgJzwvc3Bhbj4nKTsNCiAgICAgICAgICAgICAgICAgICAgcy5wdXNoKCc8c3BhbiBjbGFzcz0ibS16Ij4nICsgbWUuX2dldE1heFRleHQodG1wT2JqLmFsYnVtX3RpdGxlKSArICc8L3NwYW4+Jyk7DQogICAgICAgICAgICAgICAgICAgIHMucHVzaCgnPHNwYW4gY2xhc3M9Im0tdHJ5IiBvbmNsaWNrPSJtdXNpYy5kb3NlbGVjdCgnICsgKG1lLnBhZ2VTaXplICogKGktMSkgKyAoai0xKSkgKyAnKTttdXNpYy5saXN0ZW5UZXN0KHRoaXMpIj48L3NwYW4+Jyk7DQogICAgICAgICAgICAgICAgICAgIHMucHVzaCgnPC9sYWJlbD4nKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcy5wdXNoKCc8L2Rpdj4nKTsNCiAgICAgICAgICAgICAgICBzLnB1c2goJzwvZGl2PicpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdC5yZXZlcnNlKCk7DQogICAgICAgICAgICBwLnB1c2godC5qb2luKCcnKSk7DQogICAgICAgICAgICBzLnB1c2goJzwvZGl2PicpOw0KICAgICAgICAgICAgcC5wdXNoKCc8L2Rpdj4nKTsNCiAgICAgICAgICAgIHJldHVybiBzLmpvaW4oJycpICsgcC5qb2luKCcnKTsNCiAgICAgICAgfSwNCiAgICAgICAgZXhlYzpmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgbWUgPSB0aGlzOw0KCQkJdmFyIG89JEcoImxvY2FsXyIpLmNsYXNzTmFtZT09ImZvY3VzIjsNCgkJCXZhciB1cmwycGFyYW09ew0KCQkJCXVybDokRygic29uZ3VybCIpLnZhbHVlLA0KCQkJCXRpdGxlOiRHKCJzb25nbmFtZSIpLnZhbHVlLA0KCQkJCWF1dGhvcjokRygiYXV0aG9ybmFtZSIpLnZhbHVlLA0KCQkJCWFsYnVtX3RpdGxlOiRHKCJzb25nYWxidW0iKS52YWx1ZQ0KCQkJfTsNCgkJCQ0KICAgICAgICAgICAgaWYgKCghbykmJnNlbGVjdGVkSXRlbSA9PSBudWxsKSAgIHJldHVybjsNCiAgICAgICAgICAgICRHKCdKX3ByZXZpZXcnKS5pbm5lckhUTUwgPSAiIjsNCgkgICAgJEcoIkpfcHJldmlldzIiKS5pbm5lckhUTUwgPSIiOw0KICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdtdXNpYycsIHsNCiAgICAgICAgICAgICAgICB1cmw6KG8/bWUuX2dldFVybDIodXJsMnBhcmFtLGZhbHNlKTptZS5fZ2V0VXJsKGZhbHNlKSksDQogICAgICAgICAgICAgICAgd2lkdGg6NDAwLA0KICAgICAgICAgICAgICAgIGhlaWdodDo5NQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9Ow0KfSkoKTsNCg0KDQogICAgLyoqDQogICAgICogdGFiw4fDkMK7wrsNCiAgICAgKiBAcGFyYW0gdGFiUGFyZW50SWQNCiAgICAgKiBAcGFyYW0ga2VlcEZvY3VzICAgwrXCscK0w4vDlsK1w47CqsOVw6bDisKxwqPCrMOHw5DCu8K7wrDCtMOFwqXDicOPwrvDocKxwqPDgcO0Zm9jdXPCtcOEw5HDucOKwr0NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzd2l0Y2hUYWIoIHRhYlBhcmVudElkLGtlZXBGb2N1cyApIHsNCiAgICAgICAgdmFyIHRhYkVsZW1lbnRzID0gJEcoIHRhYlBhcmVudElkICkuY2hpbGRyZW4sDQogICAgICAgICAgICAgICAgdGFiSGVhZHMgPSB0YWJFbGVtZW50c1swXS5jaGlsZHJlbiwNCiAgICAgICAgICAgICAgICB0YWJCb2R5cyA9IHRhYkVsZW1lbnRzWzFdLmNoaWxkcmVuOw0KICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGxlbmd0aCA9IHRhYkhlYWRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrICkgew0KICAgICAgICAgICAgdmFyIGhlYWQgPSB0YWJIZWFkc1tpXTsNCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKCBoZWFkLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgLy9oZWFkw5HDucOKwr3CuMO8wrjDhA0KICAgICAgICAgICAgICAgIGZvciAoIHZhciBrID0gMCwgbGVuID0gdGFiSGVhZHMubGVuZ3RoOyBrIDwgbGVuOyBrKysgKSB7DQogICAgICAgICAgICAgICAgICAgIGlmKCFrZWVwRm9jdXMpdGFiSGVhZHNba10uY2xhc3NOYW1lID0gIiI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gImZvY3VzIjsNCiAgICAgICAgICAgICAgICAvL2JvZHnDj8OUw5LDvg0KICAgICAgICAgICAgICAgIHZhciB0YWJTcmMgPSB0aGlzLmdldEF0dHJpYnV0ZSggInRhYlNyYyIgKTsNCiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaiA9IDAsIGxlbmd0aCA9IHRhYkJvZHlzLmxlbmd0aDsgaiA8IGxlbmd0aDsgaisrICkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IHRhYkJvZHlzW2pdLA0KICAgICAgICAgICAgICAgICAgICAgICAgaWQgPSBib2R5LmdldEF0dHJpYnV0ZSggImlkIiApOw0KDQogICAgICAgICAgICAgICAgICAgIGlmICggaWQgPT0gdGFiU3JjICkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICAvKmlmKGlkPT0idmlkZW9TZWFyY2giKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RUeHQoJEcoInZpZGVvU2VhcmNoVHh0IikpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoaWQ9PSJ2aWRlbyIpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFR4dCgkRygidmlkZW9VcmwiKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9Ki8NCg0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgYm9keS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSApOw0KICAgICAgICB9DQogICAgfQ0KDQo=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\searchreplace\searchreplace.asp' crc32='28816C15'  dt:dt='bin.base64'>PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiINCiAgICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDx0aXRsZT48L3RpdGxlPg0KICAgIDxtZXRhIGNvbnRlbnQ9InRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIi8+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLi4vaW50ZXJuYWwuanMiPjwvc2NyaXB0Pg0KICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICAgICAgIC53YXJwcGVyeyBwb3NpdGlvbjpyZWxhdGl2ZTt3aWR0aDogMzgwcHg7IGhlaWdodDogMTAwJTsgbWFyZ2luOiAxMHB4IGF1dG87fQ0KICAgICAgICAudGFiYm9keXtoZWlnaHQ6IDE2MHB4O30NCiAgICAgICAgLnRhYmJvZHkgdGFibGV7d2lkdGg6MTAwJTtib3JkZXItY29sbGFwc2U6IHNlcGFyYXRlO2JvcmRlci1zcGFjaW5nOiAzcHg7fQ0KICAgICAgICAudGFiYm9keSAucGFuZWx7d2lkdGg6MzczcHg7aGVpZ2h0OjEwMCU7cGFkZGluZy1sZWZ0OiA1cHg7cG9zaXRpb246IGFic29sdXRlO2JhY2tncm91bmQtY29sb3I6ICNmZmY7fQ0KICAgICAgICAudGFiYm9keSBpbnB1dC5pbnR7IHdpZHRoOjE5MHB4O2hlaWdodDoyMXB4O2JvcmRlcjoxcHggc29saWQgI2Q3ZDdkNztsaW5lLWhlaWdodDoyMXB4O30NCiAgICAgICAgLnRhYmJvZHkgaW5wdXQuYnRue3BhZGRpbmc6IDAgNXB4OyB0ZXh0LWFsaWduOmNlbnRlcjtsaW5lLWhlaWdodDoyNHB4OyB0ZXh0LWRlY29yYXRpb246IG5vbmU7aGVpZ2h0OjI0cHg7YmFja2dyb3VuZDp1cmwoIi4uLy4uL3RoZW1lcy9kZWZhdWx0L2ltYWdlcy9kaWFsb2ctdGl0bGUtYmcucG5nIikgcmVwZWF0LXg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjOyB9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KPGRpdiBjbGFzcz0id2FycHBlciIgaWQ9InNlYXJjaHRhYiI+DQogICAgPGRpdiBpZD0iaGVhZCIgY2xhc3M9InRhYmhlYWQiPg0KICAgICAgICA8c3BhbiAgdGFic3JjPSJmaW5kIiBjbGFzcz0iZm9jdXMiPjx2YXIgaWQ9ImxhbmdfdGFiX3NlYXJjaCI+PC92YXI+PC9zcGFuPg0KICAgICAgICA8c3BhbiAgdGFic3JjPSJyZXBsYWNlIiA+PHZhciBpZD0ibGFuZ190YWJfcmVwbGFjZSI+PC92YXI+PC9zcGFuPg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9InRhYmJvZHkiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJwYW5lbCIgaWQ9ImZpbmQiPg0KICAgICAgICAgICAgPHRhYmxlPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRkIHdpZHRoPSI4MCI+PHZhciBpZD0ibGFuZ19zZWFyY2gxIj48L3Zhcj46IDwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD48aW5wdXQgaWQ9ImZpbmR0eHQiIHR5cGU9InRleHQiIGNsYXNzPSJpbnQiIC8+PC90ZD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwhLS08dHI+LS0+DQoNCiAgICAgICAgICAgICAgICAgICAgPCEtLTx0ZCBjb2xzcGFuPSIyIj48c3BhbiBzdHlsZT0iY29sb3I6cmVkIj48dmFyIGlkPSJsYW5nX3NlYXJjaFJlZyI+PC92YXI+PC9zcGFuPjwvdGQ+LS0+DQogICAgICAgICAgICAgICAgPCEtLTwvdHI+LS0+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PHZhciBpZD0ibGFuZ19jYXNlX3NlbnNpdGl2ZTEiPjwvdmFyPjwvdGQ+DQogICAgICAgICAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0ibWF0Y2hDYXNlIiB0eXBlPSJjaGVja2JveCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJuZXh0RmluZEJ0biIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJwcmVGaW5kQnRuIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4iIC8+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPSIyIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICZuYnNwOw0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMiI+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBpZD0ic2VhcmNoLW1zZyIgc3R5bGU9ImNvbG9yOnJlZCI+PC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0icGFuZWwiIGlkPSJyZXBsYWNlIj4NCiAgICAgICAgICAgIDx0YWJsZT4NCiAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgIDx0ZCB3aWR0aD0iODAiPjx2YXIgaWQ9Imxhbmdfc2VhcmNoMiI+PC92YXI+OiA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IGlkPSJmaW5kdHh0MSIgdHlwZT0idGV4dCIgY2xhc3M9ImludCIgIC8+PC90ZD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDwhLS08dHI+LS0+DQoNCiAgICAgICAgICAgICAgICAgICAgPCEtLTx0ZCBjb2xzcGFuPSIyIj48c3BhbiBzdHlsZT0iY29sb3I6cmVkIj48dmFyIGlkPSJsYW5nX3NlYXJjaFJlZzEiPjwvdmFyPjwvc3Bhbj48L3RkPi0tPg0KICAgICAgICAgICAgICAgIDwhLS08L3RyPi0tPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRkPjx2YXIgaWQ9ImxhbmdfcmVwbGFjZSI+PC92YXI+OiA8L3RkPg0KICAgICAgICAgICAgICAgICAgICA8dGQ+PGlucHV0IGlkPSJyZXBsYWNldHh0IiB0eXBlPSJ0ZXh0IiBjbGFzcz0iaW50IiAvPjwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgICAgICA8dHI+DQogICAgICAgICAgICAgICAgICAgIDx0ZD48dmFyIGlkPSJsYW5nX2Nhc2Vfc2Vuc2l0aXZlMiI+PC92YXI+PC90ZD4NCiAgICAgICAgICAgICAgICAgICAgPHRkPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJtYXRjaENhc2UxIiB0eXBlPSJjaGVja2JveCIgLz4NCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJuZXh0UmVwbGFjZUJ0biIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIiAvPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGlkPSJwcmVSZXBsYWNlQnRuIiB0eXBlPSJidXR0b24iIGNsYXNzPSJidG4iIC8+DQogICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgaWQ9InJlcGFsY2VCdG4iIHR5cGU9ImJ1dHRvbiIgY2xhc3M9ImJ0biIgLz4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD0icmVwYWxjZUFsbEJ0biIgdHlwZT0iYnV0dG9uIiBjbGFzcz0iYnRuIiAvPg0KICAgICAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDwvdHI+DQogICAgICAgICAgICAgICAgPHRyPg0KICAgICAgICAgICAgICAgICAgICA8dGQgY29sc3Bhbj0iMiI+DQogICAgICAgICAgICAgICAgICAgICAgICAmbmJzcDsNCiAgICAgICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICA8L3RyPg0KICAgICAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICAgICAgPHRkIGNvbHNwYW49IjIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9InJlcGxhY2UtbXNnIiBzdHlsZT0iY29sb3I6cmVkIj48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICAgICAgPC90cj4NCiAgICAgICAgICAgIDwvdGFibGU+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJzZWFyY2hyZXBsYWNlLmpzIj48L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\searchreplace\searchreplace.js' crc32='D8F16880'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIHdpdGggSmV0QnJhaW5zIFBocFN0b3JtLg0KICogVXNlcjogeHVoZW5nDQogKiBEYXRlOiAxMi05LTI2DQogKiBUaW1lOiDkuIvljYgxMjoyOQ0KICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUgdXNlIEZpbGUgfCBTZXR0aW5ncyB8IEZpbGUgVGVtcGxhdGVzLg0KICovDQoNCi8v5riF56m65LiK5qyh5p+l6YCJ55qE55eV6L+5DQplZGl0b3IuZmlyc3RGb3JTUiA9IDA7DQplZGl0b3IuY3VycmVudFJhbmdlRm9yU1IgPSBudWxsOw0KLy/nu5l0YWLms6jlhozliIfmjaLkuovku7YNCi8qKg0KICogdGFi54K55Ye75aSE55CG5LqL5Lu2DQogKiBAcGFyYW0gdGFiSGVhZHMNCiAqIEBwYXJhbSB0YWJCb2R5cw0KICogQHBhcmFtIG9iag0KICovDQpmdW5jdGlvbiBjbGlja0hhbmRsZXIoIHRhYkhlYWRzLHRhYkJvZHlzLG9iaiApIHsNCiAgICAvL2hlYWTmoLflvI/mm7TmlLkNCiAgICBmb3IgKCB2YXIgayA9IDAsIGxlbiA9IHRhYkhlYWRzLmxlbmd0aDsgayA8IGxlbjsgaysrICkgew0KICAgICAgICB0YWJIZWFkc1trXS5jbGFzc05hbWUgPSAiIjsNCiAgICB9DQogICAgb2JqLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQogICAgLy9ib2R55pi+6ZqQDQogICAgdmFyIHRhYlNyYyA9IG9iai5nZXRBdHRyaWJ1dGUoICJ0YWJTcmMiICk7DQogICAgZm9yICggdmFyIGogPSAwLCBsZW5ndGggPSB0YWJCb2R5cy5sZW5ndGg7IGogPCBsZW5ndGg7IGorKyApIHsNCiAgICAgICAgdmFyIGJvZHkgPSB0YWJCb2R5c1tqXSwNCiAgICAgICAgICAgIGlkID0gYm9keS5nZXRBdHRyaWJ1dGUoICJpZCIgKTsNCiAgICAgICAgaWYgKCBpZCAhPSB0YWJTcmMgKSB7DQogICAgICAgICAgICBib2R5LnN0eWxlLnpJbmRleCA9IDE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBib2R5LnN0eWxlLnpJbmRleCA9IDIwMDsNCiAgICAgICAgfQ0KICAgIH0NCg0KfQ0KDQovKioNCiAqIFRBQuWIh+aNog0KICogQHBhcmFtIHRhYlBhcmVudElkICB0YWLnmoTniLboioLngrlJROaIluiAheWvueixoeacrOi6qw0KICovDQpmdW5jdGlvbiBzd2l0Y2hUYWIoIHRhYlBhcmVudElkICkgew0KICAgIHZhciB0YWJFbGVtZW50cyA9ICRHKCB0YWJQYXJlbnRJZCApLmNoaWxkcmVuLA0KICAgICAgICB0YWJIZWFkcyA9IHRhYkVsZW1lbnRzWzBdLmNoaWxkcmVuLA0KICAgICAgICB0YWJCb2R5cyA9IHRhYkVsZW1lbnRzWzFdLmNoaWxkcmVuOw0KDQogICAgZm9yICggdmFyIGkgPSAwLCBsZW5ndGggPSB0YWJIZWFkcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKyApIHsNCiAgICAgICAgdmFyIGhlYWQgPSB0YWJIZWFkc1tpXTsNCiAgICAgICAgaWYgKCBoZWFkLmNsYXNzTmFtZSA9PT0gImZvY3VzIiApY2xpY2tIYW5kbGVyKHRhYkhlYWRzLHRhYkJvZHlzLCBoZWFkICk7DQogICAgICAgIGhlYWQub25jbGljayA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGNsaWNrSGFuZGxlcih0YWJIZWFkcyx0YWJCb2R5cyx0aGlzKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCiRHKCdzZWFyY2h0YWInKS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCl7DQogICAgJEcoJ3NlYXJjaC1tc2cnKS5pbm5lckhUTUwgPSAnJzsNCiAgICAkRygncmVwbGFjZS1tc2cnKS5pbm5lckhUTUwgPSAnJw0KfQ0KLy/mmK/lkKbljLrliIblpKflsI/lhpkNCmZ1bmN0aW9uIGdldE1hdGNoQ2FzZShpZCkgew0KICAgIHJldHVybiAkRyhpZCkuY2hlY2tlZCA/IHRydWUgOiBmYWxzZTsNCn0NCi8v5p+l5om+DQokRygibmV4dEZpbmRCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKHR4dCwgZGlyLCBtY2FzZSkgew0KICAgIHZhciBmaW5kdHh0ID0gJEcoImZpbmR0eHQiKS52YWx1ZSwgb2JqOw0KICAgIGlmICghZmluZHR4dCkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIG9iaiA9IHsNCiAgICAgICAgc2VhcmNoU3RyOmZpbmR0eHQsDQogICAgICAgIGRpcjoxLA0KICAgICAgICBjYXNlc2Vuc2l0aXZlOmdldE1hdGNoQ2FzZSgibWF0Y2hDYXNlIikNCiAgICB9Ow0KICAgIGlmICghZnJDb21tb25kKG9iaikpIHsNCiAgICAgICAgdmFyIGJrID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmNyZWF0ZUJvb2ttYXJrKCk7DQogICAgICAgICRHKCdzZWFyY2gtbXNnJykuaW5uZXJIVE1MID0gbGFuZy5nZXRFbmQ7DQogICAgICAgIGVkaXRvci5zZWxlY3Rpb24uZ2V0UmFuZ2UoKS5tb3ZlVG9Cb29rbWFyayhiaykuc2VsZWN0KCk7DQoNCg0KICAgIH0NCn07DQokRygibmV4dFJlcGxhY2VCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKHR4dCwgZGlyLCBtY2FzZSkgew0KICAgIHZhciBmaW5kdHh0ID0gJEcoImZpbmR0eHQxIikudmFsdWUsIG9iajsNCiAgICBpZiAoIWZpbmR0eHQpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBvYmogPSB7DQogICAgICAgIHNlYXJjaFN0cjpmaW5kdHh0LA0KICAgICAgICBkaXI6MSwNCiAgICAgICAgY2FzZXNlbnNpdGl2ZTpnZXRNYXRjaENhc2UoIm1hdGNoQ2FzZTEiKQ0KICAgIH07DQogICAgZnJDb21tb25kKG9iaik7DQp9Ow0KJEcoInByZUZpbmRCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKHR4dCwgZGlyLCBtY2FzZSkgew0KICAgIHZhciBmaW5kdHh0ID0gJEcoImZpbmR0eHQiKS52YWx1ZSwgb2JqOw0KICAgIGlmICghZmluZHR4dCkgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KICAgIG9iaiA9IHsNCiAgICAgICAgc2VhcmNoU3RyOmZpbmR0eHQsDQogICAgICAgIGRpcjotMSwNCiAgICAgICAgY2FzZXNlbnNpdGl2ZTpnZXRNYXRjaENhc2UoIm1hdGNoQ2FzZSIpDQogICAgfTsNCiAgICBpZiAoIWZyQ29tbW9uZChvYmopKSB7DQogICAgICAgICRHKCdzZWFyY2gtbXNnJykuaW5uZXJIVE1MID0gbGFuZy5nZXRTdGFydDsNCiAgICB9DQp9Ow0KJEcoInByZVJlcGxhY2VCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKHR4dCwgZGlyLCBtY2FzZSkgew0KICAgIHZhciBmaW5kdHh0ID0gJEcoImZpbmR0eHQxIikudmFsdWUsIG9iajsNCiAgICBpZiAoIWZpbmR0eHQpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBvYmogPSB7DQogICAgICAgIHNlYXJjaFN0cjpmaW5kdHh0LA0KICAgICAgICBkaXI6LTEsDQogICAgICAgIGNhc2VzZW5zaXRpdmU6Z2V0TWF0Y2hDYXNlKCJtYXRjaENhc2UxIikNCiAgICB9Ow0KICAgIGZyQ29tbW9uZChvYmopOw0KfTsNCi8v5pu/5o2iDQokRygicmVwYWxjZUJ0biIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7DQogICAgdmFyIGZpbmR0eHQgPSAkRygiZmluZHR4dDEiKS52YWx1ZS5yZXBsYWNlKC9eXHN8XHMkL2csICIiKSwgb2JqLA0KICAgICAgICByZXBsYWNldHh0ID0gJEcoInJlcGxhY2V0eHQiKS52YWx1ZS5yZXBsYWNlKC9eXHN8XHMkL2csICIiKTsNCiAgICBpZiAoIWZpbmR0eHQpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBpZiAoZmluZHR4dCA9PSByZXBsYWNldHh0IHx8ICghZ2V0TWF0Y2hDYXNlKCJtYXRjaENhc2UxIikgJiYgZmluZHR4dC50b0xvd2VyQ2FzZSgpID09IHJlcGxhY2V0eHQudG9Mb3dlckNhc2UoKSkpIHsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBvYmogPSB7DQogICAgICAgIHNlYXJjaFN0cjpmaW5kdHh0LA0KICAgICAgICBkaXI6MSwNCiAgICAgICAgY2FzZXNlbnNpdGl2ZTpnZXRNYXRjaENhc2UoIm1hdGNoQ2FzZTEiKSwNCiAgICAgICAgcmVwbGFjZVN0cjpyZXBsYWNldHh0DQogICAgfTsNCiAgICBmckNvbW1vbmQob2JqKTsNCn07DQovL+WFqOmDqOabv+aNog0KJEcoInJlcGFsY2VBbGxCdG4iKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgew0KICAgIHZhciBmaW5kdHh0ID0gJEcoImZpbmR0eHQxIikudmFsdWUucmVwbGFjZSgvXlxzfFxzJC9nLCAiIiksIG9iaiwNCiAgICAgICAgcmVwbGFjZXR4dCA9ICRHKCJyZXBsYWNldHh0IikudmFsdWUucmVwbGFjZSgvXlxzfFxzJC9nLCAiIik7DQogICAgaWYgKCFmaW5kdHh0KSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgaWYgKGZpbmR0eHQgPT0gcmVwbGFjZXR4dCB8fCAoIWdldE1hdGNoQ2FzZSgibWF0Y2hDYXNlMSIpICYmIGZpbmR0eHQudG9Mb3dlckNhc2UoKSA9PSByZXBsYWNldHh0LnRvTG93ZXJDYXNlKCkpKSB7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9DQogICAgb2JqID0gew0KICAgICAgICBzZWFyY2hTdHI6ZmluZHR4dCwNCiAgICAgICAgY2FzZXNlbnNpdGl2ZTpnZXRNYXRjaENhc2UoIm1hdGNoQ2FzZTEiKSwNCiAgICAgICAgcmVwbGFjZVN0cjpyZXBsYWNldHh0LA0KICAgICAgICBhbGw6dHJ1ZQ0KICAgIH07DQogICAgdmFyIG51bSA9IGZyQ29tbW9uZChvYmopOw0KICAgIGlmIChudW0pIHsNCiAgICAgICAgJEcoJ3JlcGxhY2UtbXNnJykuaW5uZXJIVE1MID0gbGFuZy5jb3VudE1zZy5yZXBsYWNlKCJ7I2NvdW50fSIsIG51bSk7DQogICAgfQ0KfTsNCi8v5omn6KGMDQp2YXIgZnJDb21tb25kID0gZnVuY3Rpb24gKG9iaikgew0KICAgIHJldHVybiBlZGl0b3IuZXhlY0NvbW1hbmQoInNlYXJjaHJlcGxhY2UiLCBvYmopOw0KfTsNCnN3aXRjaFRhYigic2VhcmNodGFiIik7</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\spechars\spechars.js' crc32='8A88C346'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIHdpdGggSmV0QnJhaW5zIFBocFN0b3JtLg0KICogVXNlcjogeHVoZW5nDQogKiBEYXRlOiAxMi05LTI2DQogKiBUaW1lOiDkuIvljYgxOjA5DQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCnZhciBjaGFyc0NvbnRlbnQgPSBbDQogICAgeyBuYW1lOiJ0c2ZoIiwgdGl0bGU6bGFuZy50c2ZoLCBjb250ZW50OnRvQXJyYXkoIuOAgSzjgIIswrcsy4ksy4cswqgs44CDLOOAhSzigJQs772eLOKAlizigKYs4oCYLOKAmSzigJws4oCdLOOAlCzjgJUs44CILOOAiSzjgIos44CLLOOAjCzjgI0s44COLOOAjyzjgJYs44CXLOOAkCzjgJEswrEsw5csw7cs4oi2LOKIpyziiKgs4oiRLOKIjyziiKos4oipLOKIiCziiLcs4oiaLOKKpSziiKUs4oigLOKMkiziipks4oirLOKIriziiaEs4omMLOKJiCziiL0s4oidLOKJoCziia4s4omvLOKJpCziiaUs4oieLOKItSziiLQs4pmCLOKZgCzCsCzigLIs4oCzLOKEgyzvvIQswqQs77+gLO+/oSzigLAswqcs4oSWLOKYhizimIUs4peLLOKXjyzil44s4peHLOKXhizilqEs4pagLOKWsyzilrIs4oC7LOKGkizihpAs4oaRLOKGkyzjgJMs44ChLOOAoizjgKMs44CkLOOApSzjgKYs44CnLOOAqCzjgKks44qjLOOOjizjjo8s446cLOOOnSzjjp4s446hLOOPhCzjj44s44+RLOOPkizjj5Us77iwLO+/oizvv6Qs4oShLMuKLMuLLMuZLOKAkyzigJUs4oClLOKAtSzihIUs4oSJLOKGlizihpcs4oaYLOKGmSziiJUs4oifLOKIoyziiZIs4ommLOKJpyziir8s4pWQLOKVkSzilZIs4pWTLOKVlCzilZUs4pWWLOKVlyzilZgs4pWZLOKVmizilZss4pWcLOKVnSzilZ4s4pWfLOKVoCzilaEs4pWiLOKVoyzilaQs4pWlLOKVpizilacs4pWoLOKVqSzilaos4pWrLOKVrCzila0s4pWuLOKVryzilbAs4pWxLOKVsizilbMs4paBLOKWgiziloMs4paELOKWhSziloYs4paHLO+/vX8s4paILOKWiSziloos4paLLOKWjCzilo0s4paOLOKWjyzilpMs4paULOKWlSzilrws4pa9LOKXoizil6Ms4pekLOKXpSzimIks4oqVLOOAkizjgJ0s44CeIil9LA0KICAgIHsgbmFtZToibG1zeiIsIHRpdGxlOmxhbmcubG1zeiwgY29udGVudDp0b0FycmF5KCLihbAs4oWxLOKFsizihbMs4oW0LOKFtSzihbYs4oW3LOKFuCzihbks4oWgLOKFoSzihaIs4oWjLOKFpCzihaUs4oWmLOKFpyzihags4oWpLOKFqizihasiKX0sDQogICAgeyBuYW1lOiJzemZoIiwgdGl0bGU6bGFuZy5zemZoLCBjb250ZW50OnRvQXJyYXkoIuKSiCzikoks4pKKLOKSiyzikows4pKNLOKSjiziko8s4pKQLOKSkSzikpIs4pKTLOKSlCzikpUs4pKWLOKSlyzikpgs4pKZLOKSmizikpss4pG0LOKRtSzikbYs4pG3LOKRuCzikbks4pG6LOKRuyzikbws4pG9LOKRvizikb8s4pKALOKSgSzikoIs4pKDLOKShCzikoUs4pKGLOKShyzikaAs4pGhLOKRoizikaMs4pGkLOKRpSzikaYs4pGnLOKRqCzikaks44igLOOIoSzjiKIs44ijLOOIpCzjiKUs44imLOOIpyzjiKgs44ipIil9LA0KICAgIHsgbmFtZToicndmaCIsIHRpdGxlOmxhbmcucndmaCwgY29udGVudDp0b0FycmF5KCLjgYEs44GCLOOBgyzjgYQs44GFLOOBhizjgYcs44GILOOBiSzjgYos44GLLOOBjCzjgY0s44GOLOOBjyzjgZAs44GRLOOBkizjgZMs44GULOOBlSzjgZYs44GXLOOBmCzjgZks44GaLOOBmyzjgZws44GdLOOBnizjgZ8s44GgLOOBoSzjgaIs44GjLOOBpCzjgaUs44GmLOOBpyzjgags44GpLOOBqizjgass44GsLOOBrSzjga4s44GvLOOBsCzjgbEs44GyLOOBsyzjgbQs44G1LOOBtizjgbcs44G4LOOBuSzjgbos44G7LOOBvCzjgb0s44G+LOOBvyzjgoAs44KBLOOCgizjgoMs44KELOOChSzjgoYs44KHLOOCiCzjgoks44KKLOOCiyzjgows44KNLOOCjizjgo8s44KQLOOCkSzjgpIs44KTLOOCoSzjgqIs44KjLOOCpCzjgqUs44KmLOOCpyzjgqgs44KpLOOCqizjgqss44KsLOOCrSzjgq4s44KvLOOCsCzjgrEs44KyLOOCsyzjgrQs44K1LOOCtizjgrcs44K4LOOCuSzjgros44K7LOOCvCzjgr0s44K+LOOCvyzjg4As44OBLOODgizjg4Ms44OELOODhSzjg4Ys44OHLOODiCzjg4ks44OKLOODiyzjg4ws44ONLOODjizjg48s44OQLOODkSzjg5Is44OTLOODlCzjg5Us44OWLOODlyzjg5gs44OZLOODmizjg5ss44OcLOODnSzjg54s44OfLOODoCzjg6Es44OiLOODoyzjg6Qs44OlLOODpizjg6cs44OoLOODqSzjg6os44OrLOODrCzjg60s44OuLOODryzjg7As44OxLOODsizjg7Ms44O0LOODtSzjg7YiKX0sDQogICAgeyBuYW1lOiJ4bHptIiwgdGl0bGU6bGFuZy54bHptLCBjb250ZW50OnRvQXJyYXkoIs6RLM6SLM6TLM6ULM6VLM6WLM6XLM6YLM6ZLM6aLM6bLM6cLM6dLM6eLM6fLM6gLM6hLM6jLM6kLM6lLM6mLM6nLM6oLM6pLM6xLM6yLM6zLM60LM61LM62LM63LM64LM65LM66LM67LM68LM69LM6+LM6/LM+ALM+BLM+DLM+ELM+FLM+GLM+HLM+ILM+JIil9LA0KICAgIHsgbmFtZToiZXd6bSIsIHRpdGxlOmxhbmcuZXd6bSwgY29udGVudDp0b0FycmF5KCLQkCzQkSzQkizQkyzQlCzQlSzQgSzQlizQlyzQmCzQmSzQmizQmyzQnCzQnSzQnizQnyzQoCzQoSzQoizQoyzQpCzQpSzQpizQpyzQqCzQqSzQqizQqyzQrCzQrSzQrizQryzQsCzQsSzQsizQsyzQtCzQtSzRkSzQtizQtyzQuCzQuSzQuizQuyzQvCzQvSzQvizQvyzRgCzRgSzRgizRgyzRhCzRhSzRhizRhyzRiCzRiSzRiizRiyzRjCzRjSzRjizRjyIpfSwNCiAgICB7IG5hbWU6InB5em0iLCB0aXRsZTpsYW5nLnB5em0sIGNvbnRlbnQ6dG9BcnJheSgixIEsw6Esx44sw6AsxJMsw6ksxJssw6gsxKssw60sx5Asw6wsxY0sw7Msx5Isw7Isxassw7osx5Qsw7ksx5Ysx5gsx5osx5wsw7wiKX0sDQogICAgeyBuYW1lOiJ5eXliIiwgdGl0bGU6bGFuZy55eXliLCBjb250ZW50OnRvQXJyYXkoImk6LGksZSzDpizKjCzJmTosyZksdTosdSzJlDosyZQsYTosZWksYWksyZRpLMmZdSxhdSxpyZkszrXJmSx1yZkscCx0LGssYixkLGcsZixzLMqDLM64LGgsdix6LMqSLMOwLHTKgyx0cix0cyxkypIsZHIsZHosbSxuLMWLLGwscix3LGosIil9LA0KICAgIHsgbmFtZToienl6ZiIsIHRpdGxlOmxhbmcuenl6ZiwgY29udGVudDp0b0FycmF5KCLjhIUs44SGLOOEhyzjhIgs44SJLOOEiizjhIss44SMLOOEjSzjhI4s44SPLOOEkCzjhJEs44SSLOOEkyzjhJQs44SVLOOElizjhJcs44SYLOOEmSzjhJos44SbLOOEnCzjhJ0s44SeLOOEnyzjhKAs44ShLOOEoizjhKMs44SkLOOEpSzjhKYs44SnLOOEqCIpfQ0KXTsNCihmdW5jdGlvbiBjcmVhdGVUYWIoY29udGVudCkgew0KICAgIGZvciAodmFyIGkgPSAwLCBjaTsgY2kgPSBjb250ZW50W2krK107KSB7DQogICAgICAgIHZhciBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOw0KICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZSgidGFiU3JjIiwgY2kubmFtZSk7DQogICAgICAgIHNwYW4uaW5uZXJIVE1MID0gY2kudGl0bGU7DQogICAgICAgIGlmIChpID09IDEpc3Bhbi5jbGFzc05hbWUgPSAiZm9jdXMiOw0KICAgICAgICBkb21VdGlscy5vbihzcGFuLCAiY2xpY2siLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB2YXIgdG1wcyA9ICRHKCJ0YWJIZWFkcyIpLmNoaWxkcmVuOw0KICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIHNrOyBzayA9IHRtcHNbaysrXTspIHsNCiAgICAgICAgICAgICAgICBzay5jbGFzc05hbWUgPSAiIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRtcHMgPSAkRygidGFiQm9keXMiKS5jaGlsZHJlbjsNCiAgICAgICAgICAgIGZvciAodmFyIGsgPSAwLCBzazsgc2sgPSB0bXBzW2srK107KSB7DQogICAgICAgICAgICAgICAgc2suc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gImZvY3VzIjsNCiAgICAgICAgICAgICRHKHRoaXMuZ2V0QXR0cmlidXRlKCJ0YWJTcmMiKSkuc3R5bGUuZGlzcGxheSA9ICIiOw0KICAgICAgICB9KTsNCiAgICAgICAgJEcoInRhYkhlYWRzIikuYXBwZW5kQ2hpbGQoc3Bhbik7DQogICAgICAgIGRvbVV0aWxzLmluc2VydEFmdGVyKHNwYW4sIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCJcbiIpKTsNCiAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICAgICAgICBkaXYuaWQgPSBjaS5uYW1lOw0KICAgICAgICBkaXYuc3R5bGUuZGlzcGxheSA9IChpID09IDEpID8gIiIgOiAibm9uZSI7DQogICAgICAgIHZhciBjb25zID0gY2kuY29udGVudDsNCiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGNvbjsgY29uID0gY29uc1tqKytdOykgew0KICAgICAgICAgICAgdmFyIGNoYXJTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOw0KICAgICAgICAgICAgY2hhclNwYW4uaW5uZXJIVE1MID0gY29uOw0KICAgICAgICAgICAgZG9tVXRpbHMub24oY2hhclNwYW4sICJjbGljayIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoImluc2VydEhUTUwiLCB0aGlzLmlubmVySFRNTCk7DQogICAgICAgICAgICAgICAgZGlhbG9nLmNsb3NlKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChjaGFyU3Bhbik7DQogICAgICAgIH0NCiAgICAgICAgJEcoInRhYkJvZHlzIikuYXBwZW5kQ2hpbGQoZGl2KTsNCiAgICB9DQp9KShjaGFyc0NvbnRlbnQpOw0KZnVuY3Rpb24gdG9BcnJheShzdHIpIHsNCiAgICByZXR1cm4gc3RyLnNwbGl0KCIsIik7DQp9DQo=</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\table\edittable.asp' crc32='AAB91E8B'  dt:dt='bin.base64'>PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KICAgIDx0aXRsZT48L3RpdGxlPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iLi4vaW50ZXJuYWwuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0iZWRpdHRhYmxlLmNzcyI+CjwvaGVhZD4KPGJvZHk+CjxkaXYgY2xhc3M9IndyYXBwZXIiPgogICAgPGRpdiBjbGFzcz0ibGVmdCI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgIDxoMz48dmFyIGlkPSJsYW5nX3RhYmxlU3R5bGUiPjwvdmFyPjwvaDM+CiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgb25zZWxlY3RzdGFydD0icmV0dXJuIGZhbHNlIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJKX3RpdGxlIiBuYW1lPSJzdHlsZSIvPjx2YXIgaWQ9ImxhbmdfaW5zZXJ0VGl0bGUiPjwvdmFyPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgPGxpPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBvbnNlbGVjdHN0YXJ0PSJyZXR1cm4gZmFsc2UiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IkpfdGl0bGVDb2wiIG5hbWU9InN0eWxlIi8+PHZhciBpZD0ibGFuZ19pbnNlcnRUaXRsZUNvbCI+PC92YXI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgb25zZWxlY3RzdGFydD0icmV0dXJuIGZhbHNlIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJKX2NhcHRpb24iIG5hbWU9InN0eWxlIi8+PHZhciBpZD0ibGFuZ19pbnNlcnRDYXB0aW9uIj48L3Zhcj48L2xhYmVsPgogICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgb25zZWxlY3RzdGFydD0icmV0dXJuIGZhbHNlIj48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJKX3NvcnR0YWJsZSIgbmFtZT0ic3R5bGUiLz48dmFyIGlkPSJsYW5nX29yZGVyYnljb250ZW50Ij48L3Zhcj48L2xhYmVsPgogICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9InNlY3Rpb24iPgogICAgICAgICAgICA8aDM+PHZhciBpZD0ibGFuZ190YWJsZVNpemUiPjwvdmFyPjwvaDM+CiAgICAgICAgICAgIDx1bD4KICAgICAgICAgICAgICAgIDxsaT4KICAgICAgICAgICAgICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9InJhZGlvIiBpZD0iSl9hdXRvU2l6ZUNvbnRlbnQiIG5hbWU9InNpemUiLz48dmFyIGlkPSJsYW5nX2F1dG9TaXplQ29udGVudCI+PC92YXI+PC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJyYWRpbyIgaWQ9IkpfYXV0b1NpemVQYWdlIiBuYW1lPSJzaXplIi8+PHZhciBpZD0ibGFuZ19hdXRvU2l6ZVBhZ2UiPjwvdmFyPjwvbGFiZWw+CiAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgIDxoMz48dmFyIGlkPSJsYW5nX2JvcmRlclN0eWxlIj48L3Zhcj48L2gzPgogICAgICAgICAgICA8dWw+CiAgICAgICAgICAgICAgICA8bGk+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4+PHZhciBpZD0ibGFuZ19jb2xvciI+PC92YXI+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBjbGFzcz0idG9uZSIgaWQ9IkpfdG9uZSIgcmVhZG9ubHk9J3JlYWRvbmx5JyAvPgogICAgICAgICAgICAgICAgPC9saT4KICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJyaWdodCI+CiAgICAgICAgPGRpdiBjbGFzcz0ic2VjdGlvbiI+CiAgICAgICAgICAgIDxoMz48dmFyIGlkPSJsYW5nX2V4YW1wbGUiPjwvdmFyPjwvaDM+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZXZpZXciIGlkPSJKX3ByZXZpZXciPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2Pgo8L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iZWRpdHRhYmxlLmpzIj48L3NjcmlwdD4KPC9ib2R5Pgo8L2h0bWw+</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\table\edittable.css' crc32='93F79463'  dt:dt='bin.base64'>Ym9keXsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB3aWR0aDogNTQwcHg7Cn0KLndyYXBwZXIgewogICAgbWFyZ2luOiAxMHB4IGF1dG8gMDsKICAgIGZvbnQtc2l6ZTogMTJweDsKICAgIG92ZXJmbG93OiBoaWRkZW47CiAgICB3aWR0aDogNTIwcHg7CiAgICBoZWlnaHQ6IDMxNXB4Owp9CgouY2xlYXIgewogICAgY2xlYXI6IGJvdGg7Cn0KCi53cmFwcGVyIC5sZWZ0IHsKICAgIGZsb2F0OiBsZWZ0OwogICAgbWFyZ2luLWxlZnQ6IDEwcHg7Owp9Cgoud3JhcHBlciAucmlnaHQgewogICAgZmxvYXQ6IHJpZ2h0OwogICAgYm9yZGVyLWxlZnQ6IDJweCBkb3R0ZWQgI0VERURFRDsKICAgIHBhZGRpbmctbGVmdDogMTVweDsKfQoKLnNlY3Rpb24gewogICAgbWFyZ2luLWJvdHRvbTogMTVweDsKICAgIHdpZHRoOiAyNDBweDsKICAgIG92ZXJmbG93OiBoaWRkZW47Cn0KCi5zZWN0aW9uIGgzIHsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgcGFkZGluZzogNXB4IDA7CiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFREVERUQ7CiAgICBmb250LXNpemU6IDEycHg7Cn0KCi5zZWN0aW9uIHVsIHsKICAgIGxpc3Qtc3R5bGU6IG5vbmU7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgY2xlYXI6IGJvdGg7Cgp9Cgouc2VjdGlvbiBsaSB7CiAgICBmbG9hdDogbGVmdDsKICAgIHdpZHRoOiAxMjBweDs7Cn0KCi5zZWN0aW9uIC50b25lIHsKICAgIHdpZHRoOiA4MHB4OzsKfQoKLnNlY3Rpb24gLnByZXZpZXcgewogICAgd2lkdGg6IDIyMHB4Owp9Cgouc2VjdGlvbiAucHJldmlldyB0YWJsZSB7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgY29sb3I6ICM2NjY7Cn0KCi5zZWN0aW9uIC5wcmV2aWV3IGNhcHRpb24gewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KCi5zZWN0aW9uIC5wcmV2aWV3IHRkIHsKICAgIGJvcmRlci13aWR0aDogMXB4OwogICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICAgIGhlaWdodDogMjJweDsKfQoKLnNlY3Rpb24gLnByZXZpZXcgdGggewogICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICAgIGJvcmRlci1jb2xvcjogI0RERDsKICAgIGJvcmRlci13aWR0aDogMnB4IDFweCAxcHggMXB4OwogICAgaGVpZ2h0OiAyMnB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGNzsKfQ==</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\table\edittable.js' crc32='1DD84AFA'  dt:dt='bin.base64'>LyoqCiAqIENyZWF0ZWQgd2l0aCBKZXRCcmFpbnMgUGhwU3Rvcm0uCiAqIFVzZXI6IHh1aGVuZwogKiBEYXRlOiAxMi0xMi0xOQogKiBUaW1lOiDkuIvljYg0OjU1CiAqIFRvIGNoYW5nZSB0aGlzIHRlbXBsYXRlIHVzZSBGaWxlIHwgU2V0dGluZ3MgfCBGaWxlIFRlbXBsYXRlcy4KICovCihmdW5jdGlvbiAoKSB7CiAgICB2YXIgdGl0bGUgPSAkRygiSl90aXRsZSIpLAogICAgICAgIHRpdGxlQ29sID0gJEcoIkpfdGl0bGVDb2wiKSwKICAgICAgICBjYXB0aW9uID0gJEcoIkpfY2FwdGlvbiIpLAogICAgICAgIHNvcnR0YWJsZSA9ICRHKCJKX3NvcnR0YWJsZSIpLAogICAgICAgIGF1dG9TaXplQ29udGVudCA9ICRHKCJKX2F1dG9TaXplQ29udGVudCIpLAogICAgICAgIGF1dG9TaXplUGFnZSA9ICRHKCJKX2F1dG9TaXplUGFnZSIpLAogICAgICAgIHRvbmUgPSAkRygiSl90b25lIiksCiAgICAgICAgbWUsCiAgICAgICAgcHJldmlldyA9ICRHKCJKX3ByZXZpZXciKTsKCiAgICB2YXIgZWRpdFRhYmxlID0gZnVuY3Rpb24gKCkgewogICAgICAgIG1lID0gdGhpczsKICAgICAgICBtZS5pbml0KCk7CiAgICB9OwogICAgZWRpdFRhYmxlLnByb3RvdHlwZSA9IHsKICAgICAgICBpbml0OmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGNvbG9yUGlrZXIgPSBuZXcgVUUudWkuQ29sb3JQaWNrZXIoewogICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgY29sb3JQb3AgPSBuZXcgVUUudWkuUG9wdXAoewogICAgICAgICAgICAgICAgICAgIGVkaXRvcjplZGl0b3IsCiAgICAgICAgICAgICAgICAgICAgY29udGVudDpjb2xvclBpa2VyCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRpdGxlLmNoZWNrZWQgPSBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImluc2VydHRpdGxlIikgPT0gLTE7CiAgICAgICAgICAgIHRpdGxlQ29sLmNoZWNrZWQgPSBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoImluc2VydHRpdGxlY29sIikgPT0gLTE7CiAgICAgICAgICAgIGNhcHRpb24uY2hlY2tlZCA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgiaW5zZXJ0Y2FwdGlvbiIpID09IC0xOwogICAgICAgICAgICBzb3J0dGFibGUuY2hlY2tlZCA9IGVkaXRvci5xdWVyeUNvbW1hbmRTdGF0ZSgiZW5hYmxlc29ydCIpID09IDE7CgogICAgICAgICAgICB2YXIgZW5hYmxlc29ydFN0YXRlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJlbmFibGVzb3J0IiksCiAgICAgICAgICAgICAgICBkaXNhYmxlc29ydFN0YXRlID0gZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKCJkaXNhYmxlc29ydCIpOwoKICAgICAgICAgICAgc29ydHRhYmxlLmNoZWNrZWQgPSAhIShlbmFibGVzb3J0U3RhdGUgPCAwICYmIGRpc2FibGVzb3J0U3RhdGUgPj0wKTsKICAgICAgICAgICAgc29ydHRhYmxlLmRpc2FibGVkID0gISEoZW5hYmxlc29ydFN0YXRlIDwgMCAmJiBkaXNhYmxlc29ydFN0YXRlIDwgMCk7CiAgICAgICAgICAgIHNvcnR0YWJsZS50aXRsZSA9IGVuYWJsZXNvcnRTdGF0ZSA8IDAgJiYgZGlzYWJsZXNvcnRTdGF0ZSA8IDAgPyBsYW5nLmVycm9yTXNnOicnOwoKICAgICAgICAgICAgbWUuY3JlYXRlVGFibGUodGl0bGUuY2hlY2tlZCwgdGl0bGVDb2wuY2hlY2tlZCwgY2FwdGlvbi5jaGVja2VkKTsKICAgICAgICAgICAgbWUuc2V0QXV0b1NpemUoKTsKICAgICAgICAgICAgbWUuc2V0Q29sb3IobWUuZ2V0Q29sb3IoKSk7CgogICAgICAgICAgICBkb21VdGlscy5vbih0aXRsZSwgImNsaWNrIiwgbWUudGl0bGVIYW5sZXIpOwogICAgICAgICAgICBkb21VdGlscy5vbih0aXRsZUNvbCwgImNsaWNrIiwgbWUudGl0bGVDb2xIYW5sZXIpOwogICAgICAgICAgICBkb21VdGlscy5vbihjYXB0aW9uLCAiY2xpY2siLCBtZS5jYXB0aW9uSGFubGVyKTsKICAgICAgICAgICAgZG9tVXRpbHMub24oc29ydHRhYmxlLCAiY2xpY2siLCBtZS5zb3J0dGFibGVIYW5sZXIpOwogICAgICAgICAgICBkb21VdGlscy5vbihhdXRvU2l6ZUNvbnRlbnQsICJjbGljayIsIG1lLmF1dG9TaXplQ29udGVudEhhbmxlcik7CiAgICAgICAgICAgIGRvbVV0aWxzLm9uKGF1dG9TaXplUGFnZSwgImNsaWNrIiwgbWUuYXV0b1NpemVQYWdlSGFubGVyKTsKCiAgICAgICAgICAgIGRvbVV0aWxzLm9uKHRvbmUsICJjbGljayIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbG9yUG9wLnNob3dBbmNob3IodG9uZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBkb21VdGlscy5vbihkb2N1bWVudCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGNvbG9yUG9wLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGNvbG9yUGlrZXIuYWRkTGlzdGVuZXIoInBpY2tjb2xvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG1lLnNldENvbG9yKGFyZ3VtZW50c1sxXSk7CiAgICAgICAgICAgICAgICBjb2xvclBvcC5oaWRlKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb2xvclBpa2VyLmFkZExpc3RlbmVyKCJwaWNrbm9jb2xvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIG1lLnNldENvbG9yKCIiKTsKICAgICAgICAgICAgICAgIGNvbG9yUG9wLmhpZGUoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgY3JlYXRlVGFibGU6ZnVuY3Rpb24gKGhhc1RpdGxlLCBoYXNUaXRsZUNvbCwgaGFzQ2FwdGlvbikgewogICAgICAgICAgICB2YXIgYXJyID0gW10sCiAgICAgICAgICAgICAgICBzb3J0U3BhbiA9ICc8c3Bhbj5ePC9zcGFuPic7CiAgICAgICAgICAgIGFyci5wdXNoKCI8dGFibGUgaWQ9J0pfZXhhbXBsZSc+Iik7CiAgICAgICAgICAgIGlmIChoYXNDYXB0aW9uKSB7CiAgICAgICAgICAgICAgICBhcnIucHVzaCgiPGNhcHRpb24+IiArIGxhbmcuY2FwdGlvbk5hbWUgKyAiPC9jYXB0aW9uPiIpCiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGhhc1RpdGxlKSB7CiAgICAgICAgICAgICAgICBhcnIucHVzaCgiPHRyPiIpOwogICAgICAgICAgICAgICAgaWYoaGFzVGl0bGVDb2wpIHsgYXJyLnB1c2goIjx0aD4iICsgbGFuZy50aXRsZU5hbWUgKyAiPC90aD4iKTsgfQogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA1OyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBhcnIucHVzaCgiPHRoPiIgKyBsYW5nLnRpdGxlTmFtZSArICI8L3RoPiIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXJyLnB1c2goIjwvdHI+Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHsKICAgICAgICAgICAgICAgIGFyci5wdXNoKCI8dHI+Iik7CiAgICAgICAgICAgICAgICBpZihoYXNUaXRsZUNvbCkgeyBhcnIucHVzaCgiPHRoPiIgKyBsYW5nLnRpdGxlTmFtZSArICI8L3RoPiIpIH0KICAgICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgNTsgaysrKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goIjx0ZD4iICsgbGFuZy5jZWxsc05hbWUgKyAiPC90ZD4iKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgYXJyLnB1c2goIjwvdHI+Iik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYXJyLnB1c2goIjwvdGFibGU+Iik7CiAgICAgICAgICAgIHByZXZpZXcuaW5uZXJIVE1MID0gYXJyLmpvaW4oIiIpOwogICAgICAgICAgICB0aGlzLnVwZGF0ZVNvcnRTcGFuKCk7CiAgICAgICAgfSwKICAgICAgICB0aXRsZUhhbmxlcjpmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBleGFtcGxlID0gJEcoIkpfZXhhbXBsZSIpLAogICAgICAgICAgICAgICAgZnJnPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwKICAgICAgICAgICAgICAgIGNvbG9yID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShleGFtcGxlLCAidGQiKVswXSwgImJvcmRlci1jb2xvciIpLAogICAgICAgICAgICAgICAgY29sQ291bnQgPSBleGFtcGxlLnJvd3NbMF0uY2hpbGRyZW4ubGVuZ3RoOwoKICAgICAgICAgICAgaWYgKHRpdGxlLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIGV4YW1wbGUuaW5zZXJ0Um93KDApOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IGkgPCBjb2xDb3VudDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoIik7CiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBsYW5nLnRpdGxlTmFtZTsKICAgICAgICAgICAgICAgICAgICBmcmcuYXBwZW5kQ2hpbGQobm9kZSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBleGFtcGxlLnJvd3NbMF0uYXBwZW5kQ2hpbGQoZnJnKTsKCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoZXhhbXBsZS5yb3dzWzBdKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBtZS5zZXRDb2xvcihjb2xvcik7CiAgICAgICAgICAgIG1lLnVwZGF0ZVNvcnRTcGFuKCk7CiAgICAgICAgfSwKICAgICAgICB0aXRsZUNvbEhhbmxlcjpmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBleGFtcGxlID0gJEcoIkpfZXhhbXBsZSIpLAogICAgICAgICAgICAgICAgY29sb3IgPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGV4YW1wbGUsICJ0ZCIpWzBdLCAiYm9yZGVyLWNvbG9yIiksCiAgICAgICAgICAgICAgICBjb2xBcnIgPSBleGFtcGxlLnJvd3MsCiAgICAgICAgICAgICAgICBjb2xDb3VudCA9IGNvbEFyci5sZW5ndGg7CgogICAgICAgICAgICBpZiAodGl0bGVDb2wuY2hlY2tlZCkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIG5vZGU7IGkgPCBjb2xDb3VudDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRoIik7CiAgICAgICAgICAgICAgICAgICAgbm9kZS5pbm5lckhUTUwgPSBsYW5nLnRpdGxlTmFtZTsKICAgICAgICAgICAgICAgICAgICBjb2xBcnJbaV0uaW5zZXJ0QmVmb3JlKG5vZGUsIGNvbEFycltpXS5jaGlsZHJlblswXSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbENvdW50OyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5yZW1vdmUoY29sQXJyW2ldLmNoaWxkcmVuWzBdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBtZS5zZXRDb2xvcihjb2xvcik7CiAgICAgICAgICAgIG1lLnVwZGF0ZVNvcnRTcGFuKCk7CiAgICAgICAgfSwKICAgICAgICBjYXB0aW9uSGFubGVyOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGV4YW1wbGUgPSAkRygiSl9leGFtcGxlIik7CiAgICAgICAgICAgIGlmIChjYXB0aW9uLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIHZhciByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYXB0aW9uJyk7CiAgICAgICAgICAgICAgICByb3cuaW5uZXJIVE1MID0gbGFuZy5jYXB0aW9uTmFtZTsKICAgICAgICAgICAgICAgIGV4YW1wbGUuaW5zZXJ0QmVmb3JlKHJvdywgZXhhbXBsZS5maXJzdENoaWxkKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGRvbVV0aWxzLnJlbW92ZShkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShleGFtcGxlLCAnY2FwdGlvbicpWzBdKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgc29ydHRhYmxlSGFubGVyOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIG1lLnVwZGF0ZVNvcnRTcGFuKCk7CiAgICAgICAgfSwKICAgICAgICBhdXRvU2l6ZUNvbnRlbnRIYW5sZXI6ZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZXhhbXBsZSA9ICRHKCJKX2V4YW1wbGUiKTsKICAgICAgICAgICAgZXhhbXBsZS5yZW1vdmVBdHRyaWJ1dGUoIndpZHRoIik7CiAgICAgICAgfSwKICAgICAgICBhdXRvU2l6ZVBhZ2VIYW5sZXI6ZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZXhhbXBsZSA9ICRHKCJKX2V4YW1wbGUiKTsKICAgICAgICAgICAgdmFyIHRkcyA9IGV4YW1wbGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZXhhbXBsZSwgInRkIik7CiAgICAgICAgICAgIHV0aWxzLmVhY2godGRzLCBmdW5jdGlvbiAodGQpIHsKICAgICAgICAgICAgICAgIHRkLnJlbW92ZUF0dHJpYnV0ZSgid2lkdGgiKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGV4YW1wbGUuc2V0QXR0cmlidXRlKCd3aWR0aCcsICcxMDAlJyk7CiAgICAgICAgfSwKICAgICAgICB1cGRhdGVTb3J0U3BhbjogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIGV4YW1wbGUgPSAkRygiSl9leGFtcGxlIiksCiAgICAgICAgICAgICAgICByb3cgPSBleGFtcGxlLnJvd3NbMF07CgogICAgICAgICAgICB2YXIgc3BhbnMgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShleGFtcGxlLCJzcGFuIik7CiAgICAgICAgICAgIHV0aWxzLmVhY2goc3BhbnMsZnVuY3Rpb24oc3Bhbil7CiAgICAgICAgICAgICAgICBzcGFuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3Bhbik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBpZiAoc29ydHRhYmxlLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgIHV0aWxzLmVhY2gocm93LmNlbGxzLCBmdW5jdGlvbihjZWxsLCBpKXsKICAgICAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICAgICAgICAgICAgICBzcGFuLmlubmVySFRNTCA9ICJeIjsKICAgICAgICAgICAgICAgICAgICBjZWxsLmFwcGVuZENoaWxkKHNwYW4pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdldENvbG9yOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRTdGFydCgpLCBjb2xvciwKICAgICAgICAgICAgICAgIGNlbGwgPSBkb21VdGlscy5maW5kUGFyZW50QnlUYWdOYW1lKHN0YXJ0LCBbInRkIiwgInRoIiwgImNhcHRpb24iXSwgdHJ1ZSk7CiAgICAgICAgICAgIGNvbG9yID0gY2VsbCAmJiBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGNlbGwsICJib3JkZXItY29sb3IiKTsKICAgICAgICAgICAgaWYgKCFjb2xvcikgIGNvbG9yID0gIiNEREREREQiOwogICAgICAgICAgICByZXR1cm4gY29sb3I7CiAgICAgICAgfSwKICAgICAgICBzZXRDb2xvcjpmdW5jdGlvbiAoY29sb3IpIHsKICAgICAgICAgICAgdmFyIGV4YW1wbGUgPSAkRygiSl9leGFtcGxlIiksCiAgICAgICAgICAgICAgICBhcnIgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZShleGFtcGxlLCAidGQiKS5jb25jYXQoCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZXhhbXBsZSwgInRoIiksCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZXhhbXBsZSwgImNhcHRpb24iKQogICAgICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIHRvbmUudmFsdWUgPSBjb2xvcjsKICAgICAgICAgICAgdXRpbHMuZWFjaChhcnIsIGZ1bmN0aW9uIChub2RlKSB7CiAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmJvcmRlckNvbG9yID0gY29sb3I7CiAgICAgICAgICAgIH0pOwoKICAgICAgICB9LAogICAgICAgIHNldEF1dG9TaXplOmZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIG1lID0gdGhpczsKICAgICAgICAgICAgYXV0b1NpemVQYWdlLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgICBtZS5hdXRvU2l6ZVBhZ2VIYW5sZXIoKTsKICAgICAgICB9CiAgICB9OwoKICAgIG5ldyBlZGl0VGFibGU7CgogICAgZGlhbG9nLm9ub2sgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZWRpdG9yLl9faGFzRW50ZXJFeGVjQ29tbWFuZCA9IHRydWU7CgogICAgICAgIHZhciBjaGVja3MgPSB7CiAgICAgICAgICAgIHRpdGxlOiJpbnNlcnR0aXRsZSBkZWxldGV0aXRsZSIsCiAgICAgICAgICAgIHRpdGxlQ29sOiJpbnNlcnR0aXRsZWNvbCBkZWxldGV0aXRsZWNvbCIsCiAgICAgICAgICAgIGNhcHRpb246Imluc2VydGNhcHRpb24gZGVsZXRlY2FwdGlvbiIsCiAgICAgICAgICAgIHNvcnR0YWJsZToiZW5hYmxlc29ydCBkaXNhYmxlc29ydCIKICAgICAgICB9OwogICAgICAgIGVkaXRvci5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOwogICAgICAgIGZvcih2YXIgaSBpbiBjaGVja3MpewogICAgICAgICAgICB2YXIgY21kcyA9IGNoZWNrc1tpXS5zcGxpdCgiICIpLAogICAgICAgICAgICAgICAgaW5wdXQgPSAkRygiSl8iICsgaSk7CiAgICAgICAgICAgIGlmKGlucHV0WyJjaGVja2VkIl0pewogICAgICAgICAgICAgICAgZWRpdG9yLnF1ZXJ5Q29tbWFuZFN0YXRlKGNtZHNbMF0pIT0tMSAmJmVkaXRvci5leGVjQ29tbWFuZChjbWRzWzBdKTsKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICBlZGl0b3IucXVlcnlDb21tYW5kU3RhdGUoY21kc1sxXSkhPS0xICYmZWRpdG9yLmV4ZWNDb21tYW5kKGNtZHNbMV0pOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoImVkaXR0YWJsZSIsIHRvbmUudmFsdWUpOwogICAgICAgIGF1dG9TaXplQ29udGVudC5jaGVja2VkID9lZGl0b3IuZXhlY0NvbW1hbmQoJ2FkYXB0Ynl0ZXh0JykgOiAiIjsKICAgICAgICBhdXRvU2l6ZVBhZ2UuY2hlY2tlZCA/IGVkaXRvci5leGVjQ29tbWFuZCgiYWRhcHRieXdpbmRvdyIpIDogIiI7CiAgICAgICAgZWRpdG9yLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7CgogICAgICAgIGVkaXRvci5fX2hhc0VudGVyRXhlY0NvbW1hbmQgPSBmYWxzZTsKICAgIH07Cn0pKCk7</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\video\video.asp' crc32='FB505075'  dt:dt='bin.base64'>PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiINCiAgICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDx0aXRsZT48L3RpdGxlPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgiLz4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9pbnRlcm5hbC5qcyI+PC9zY3JpcHQ+DQogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiB0eXBlPSJ0ZXh0L2NzcyIgaHJlZj0idmlkZW8uY3NzIiAvPg0KPC9oZWFkPg0KPGJvZHk+DQo8ZGl2IGNsYXNzPSJ3cmFwcGVyIj4NCiAgICA8ZGl2IGlkPSJ2aWRlb1RhYiI+DQogICAgICAgIDxkaXYgaWQ9InRhYkhlYWRzIiBjbGFzcz0idGFiaGVhZCI+DQogICAgICAgICAgICA8c3BhbiB0YWJTcmM9InZpZGVvIiBjbGFzcz0iZm9jdXMiIGRhdGEtY29udGVudC1pZD0idmlkZW8iPjx2YXIgaWQ9ImxhbmdfdGFiX2luc2VydFYiPjwvdmFyPjwvc3Bhbj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDwhLS08c3BhbiB0YWJTcmM9InZpZGVvIiBkYXRhLWNvbnRlbnQtaWQ9InZpZGVvU2VhcmNoIj48dmFyIGlkPSJsYW5nX3RhYl9zZWFyY2hWIj48L3Zhcj48L3NwYW4+LS0+DQogICAgICAgIDxkaXYgaWQ9InRhYkJvZHlzIiBjbGFzcz0idGFiYm9keSI+DQogICAgICAgICAgICA8ZGl2IGlkPSJ2aWRlbyIgY2xhc3M9InBhbmVsIj4NCiAgICAgICAgICAgICAgIDx0YWJsZT48dHI+PHRkPjxsYWJlbCBmb3I9InZpZGVvVXJsIiBjbGFzcz0idXJsIj48dmFyIGlkPSJsYW5nX3ZpZGVvX3VybCI+PC92YXI+PC9sYWJlbD48L3RkPjx0ZD48aW5wdXQgaWQ9InZpZGVvVXJsIiB0eXBlPSJ0ZXh0Ij48L3RkPjwvdHI+PC90YWJsZT4NCiAgICAgICAgICAgICAgIDxkaXYgaWQ9InByZXZpZXciPjwvZGl2Pg0KICAgICAgICAgICAgICAgPGRpdiBpZD0idmlkZW9JbmZvIj4NCiAgICAgICAgICAgICAgICAgICA8ZmllbGRzZXQ+DQogICAgICAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+PHZhciBpZD0ibGFuZ192aWRlb19zaXplIj48L3Zhcj48L2xlZ2VuZD4NCiAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD48bGFiZWwgZm9yPSJ2aWRlb1dpZHRoIj48dmFyIGlkPSJsYW5nX3ZpZGVvVyI+PC92YXI+PC9sYWJlbD48L3RkPjx0ZD48aW5wdXQgY2xhc3M9InR4dCIgaWQ9InZpZGVvV2lkdGgiIHR5cGU9InRleHQiLz48L3RkPjwvdHI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkPjxsYWJlbCBmb3I9InZpZGVvSGVpZ2h0Ij48dmFyIGlkPSJsYW5nX3ZpZGVvSCI+PC92YXI+PC9sYWJlbD48L3RkPjx0ZD48aW5wdXQgY2xhc3M9InR4dCIgaWQ9InZpZGVvSGVpZ2h0IiB0eXBlPSJ0ZXh0Ii8+PC90ZD48L3RyPg0KICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPg0KICAgICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+DQogICAgICAgICAgICAgICAgICAgPGZpZWxkc2V0Pg0KICAgICAgICAgICAgICAgICAgICAgIDxsZWdlbmQ+PHZhciBpZD0ibGFuZ19hbGlnbm1lbnQiPjwvdmFyPjwvbGVnZW5kPg0KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9InZpZGVvRmxvYXQiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgPC9maWVsZHNldD4NCiAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KPC9kaXY+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJ2aWRlby5qcyI+PC9zY3JpcHQ+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQogICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7DQogICAgICAgIHZpZGVvLmluaXQoKTsNCiAgICAgICAgJGZvY3VzKCRHKCJ2aWRlb1VybCIpKTsNCiAgICB9Ow0KPC9zY3JpcHQ+DQo8L2JvZHk+DQo8L2h0bWw+</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\video\video.css' crc32='3CA96CB3'  dt:dt='bin.base64'>QGNoYXJzZXQgInV0Zi04IjsNCi53cmFwcGVyeyB3aWR0aDogNTcwcHg7X3dpZHRoOjU3NXB4O21hcmdpbjogMTBweCBhdXRvOyB6b29tOjE7cG9zaXRpb246IHJlbGF0aXZlfQ0KLnRhYmJvZHl7aGVpZ2h0OjMzNXB4O30NCi5wYW5lbCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTt3aWR0aDoxMDAlOyBoZWlnaHQ6MTAwJTtiYWNrZ3JvdW5kOiAjZmZmO30NCi5wYW5lbCB0YWJsZSB0ZHt2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO30NCiN2aWRlb1VybCB7DQogICAgd2lkdGg6IDQ5MHB4Ow0KICAgIGhlaWdodDogMjFweDsNCiAgICBsaW5lLWhlaWdodDogMjFweDsNCiAgICBtYXJnaW46IDhweCA1cHg7DQogICAgYmFja2dyb3VuZDogI0ZGRjsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjZDdkN2Q3Ow0KfQ0KI3ZpZGVvU2VhcmNoVHh0e21hcmdpbi1sZWZ0OjE1cHg7YmFja2dyb3VuZDogI0ZGRjt3aWR0aDoyMDBweDtoZWlnaHQ6MjFweDtsaW5lLWhlaWdodDoyMXB4O2JvcmRlcjogMXB4IHNvbGlkICNkN2Q3ZDc7fQ0KI3NlYXJjaExpc3R7d2lkdGg6IDU3MHB4O292ZXJmbG93OiBhdXRvO3pvb206MTtoZWlnaHQ6IDI3MHB4O30NCiNzZWFyY2hMaXN0IGRpdntmbG9hdDogbGVmdDt3aWR0aDogMTIwcHg7aGVpZ2h0OiAxMzVweDttYXJnaW46IDVweCAxNXB4O30NCiNzZWFyY2hMaXN0IGltZ3ttYXJnaW46IDJweCA4cHg7Y3Vyc29yOiBwb2ludGVyO2JvcmRlcjogMnB4IHNvbGlkICNmZmZ9IC8q5LiN55So57yp55Wl5Zu+Ki8NCiNzZWFyY2hMaXN0IHB7bWFyZ2luLWxlZnQ6IDEwcHg7fQ0KI3ZpZGVvVHlwZXsNCiAgICB3aWR0aDogNjVweDsNCiAgICBoZWlnaHQ6IDIzcHg7DQogICAgbGluZS1oZWlnaHQ6IDIycHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2Q3ZDdkNzsNCn0NCiN2aWRlb1NlYXJjaEJ0biwjdmlkZW9TZWFyY2hSZXNldHsNCiAgICAvKndpZHRoOiA4MHB4OyovDQogICAgaGVpZ2h0OiAyNXB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyNXB4Ow0KICAgIGJhY2tncm91bmQ6ICNlZWU7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2Q3ZDdkNzsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgcGFkZGluZzogMCA1cHg7DQp9DQoNCg0KDQojcHJldmlld3t3aWR0aDogNDIwcHg7IG1hcmdpbi1sZWZ0OiAxMHB4OyBfbWFyZ2luLWxlZnQ6NXB4OyBoZWlnaHQ6IDI4MHB4O2JhY2tncm91bmQtY29sb3I6ICNkZGQ7ZmxvYXQ6IGxlZnR9DQojdmlkZW9JbmZvIHt3aWR0aDogMTIwcHg7ZmxvYXQ6IGxlZnQ7bWFyZ2luLWxlZnQ6IDEwcHg7X21hcmdpbi1sZWZ0OjdweDt9DQpmaWVsZHNldHsNCiAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAgIHBhZGRpbmctbGVmdDogNXB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogICAgcGFkZGluZy1ib3R0b206IDVweDsNCiAgICB3aWR0aDogMTE1cHg7DQp9DQpmaWVsZHNldCBsZWdlbmR7Zm9udC13ZWlnaHQ6IGJvbGQ7fQ0KZmllbGRzZXQgcHtsaW5lLWhlaWdodDogMzBweDt9DQpmaWVsZHNldCBpbnB1dC50eHR7DQogICAgd2lkdGg6IDY1cHg7DQogICAgaGVpZ2h0OiAyMXB4Ow0KICAgIGxpbmUtaGVpZ2h0OiAyMXB4Ow0KICAgIG1hcmdpbjogOHB4IDVweDsNCiAgICBiYWNrZ3JvdW5kOiAjRkZGOw0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNkN2Q3ZDc7DQp9DQpsYWJlbC51cmx7Zm9udC13ZWlnaHQ6IGJvbGQ7bWFyZ2luLWxlZnQ6IDVweDtjb2xvcjogIzA2Yzt9DQojdmlkZW9GbG9hdCBkaXZ7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTogMC41O2ZpbHRlcjogYWxwaGEob3BhY2l0eSA9IDUwKTttYXJnaW46OXB4O19tYXJnaW46NXB4O3dpZHRoOjM4cHg7aGVpZ2h0OjM2cHg7ZmxvYXQ6bGVmdDt9DQojdmlkZW9GbG9hdCAuZm9jdXN7b3BhY2l0eTogMTtmaWx0ZXI6IGFscGhhKG9wYWNpdHkgPSAxMDApfQ0Kc3Bhbi52aWV3e2Rpc3BsYXk6IGlubGluZS1ibG9jazt3aWR0aDogMzBweDtmbG9hdDogcmlnaHQ7Y3Vyc29yOiBwb2ludGVyO2NvbG9yOiBibHVlfQ0KDQoNCg0KLyogdXBsb2FkIHZpZGVvICovDQojZnNVcGxvYWRQcm9ncmVzc3tmbG9hdDpsZWZ0O30NCiN1cGxvYWRfYWxpZ25tZW50IGRpdntjdXJzb3I6cG9pbnRlcjtvcGFjaXR5OiAwLjU7ZmlsdGVyOiBhbHBoYShvcGFjaXR5ID0gNTApO21hcmdpbjo5cHg7X21hcmdpbjo1cHg7d2lkdGg6MzhweDtoZWlnaHQ6MzZweDtmbG9hdDpsZWZ0O30NCiN1cGxvYWRfYWxpZ25tZW50IC5mb2N1c3tvcGFjaXR5OiAxO2ZpbHRlcjogYWxwaGEob3BhY2l0eSA9IDEwMCl9DQojZnNVcGxvYWRQcm9ncmVzc3ttYXJnaW4tdG9wOjE1cHg7fQ0KI3VwbG9hZF9sZWZ0IHsgd2lkdGg6NDEycHg7IGZsb2F0OmxlZnQ7IHBhZGRpbmctbGVmdDoxMHB4OyB9DQojdXBsb2FkX2xlZnQgLmNvbnRyb2xsZXIgeyBoZWlnaHQ6IDMwcHg7IGNsZWFyOiBib3RoOyB9DQojdXBsb2FkVmlkZW9JbmZve21hcmdpbi10b3A6MjBweDtmbG9hdDpyaWdodDtwYWRkaW5nLXJpZ2h0OjhweDt9DQoNCiNkaXZTdGF0dXMge2Rpc3BsYXk6aW5saW5lLWJsb2NrOyB3aWR0aDozMzZweDtjb2xvcjogI2FhYTtmb250LXNpemU6IDEycHg7IH0NCiN2aWRlb19mb3JtYXRfYWR2aWNle2ZvbnQtc2l6ZTogMTJweDsgY29sb3I6cmVkO2xpbmUtaGVpZ2h0OiAyNHB4O30NCiNzdGFydFVwbG9hZHtjdXJzb3I6IHBvaW50ZXI7ZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMTAwcHg7aGVpZ2h0OiAzMHB4O2Zsb2F0OiByaWdodDt9DQpkaXYuZmllbGRzZXQgew0KICAgIGJvcmRlcjogIDFweCBzb2xpZCAjYWZlMTRjOw0KICAgIHBhZGRpbmc6IDEwcHggMTBweDsNCiAgICB3aWR0aDogMzkwcHg7DQogICAgaGVpZ2h0OiAyNTBweDsNCiAgICBib3JkZXItY29sb3I6ICNDQ0NDQ0M7DQogICAgb3ZlcmZsb3cteTogYXV0bzsNCiAgICBtYXJnaW4tYm90dG9tOiA4cHg7DQp9DQpkaXYuZmllbGRzZXQgc3Bhbi5sZWdlbmR7cG9zaXRpb246IHJlbGF0aXZlO3RvcDotMjBweDt9DQoucHJvZ3Jlc3NXcmFwcGVyIHsgd2lkdGg6IDM4MHB4OyBvdmVyZmxvdzogaGlkZGVuOyB9DQoucHJvZ3Jlc3NDb250YWluZXIgew0KICAgIG1hcmdpbjogMCAwcHggNXB4IDA7DQogICAgbWFyZ2luLWJvdHRvbToxMHB4Ow0KICAgIGJvcmRlcjogc29saWQgMXB4ICNFOEU4RTg7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGNzsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KLm1lc3NhZ2Ugew0KICAgIG1hcmdpbjogMWVtIDA7DQogICAgcGFkZGluZzogMTBweCAyMHB4Ow0KICAgIGJvcmRlcjogc29saWQgMXB4ICNGRkREOTk7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZDQzsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KfQ0KLnJlZCB7DQogICAgYm9yZGVyOiBzb2xpZCAxcHggI0I1MDAwMDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZFQkVCOw0KfQ0KLmdyZWVuIHsNCiAgICBib3JkZXI6IHNvbGlkIDFweCAjRERGMEREOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICNFQkZGRUI7DQp9DQouYmx1ZSB7DQogICAgYm9yZGVyOiBzb2xpZCAxcHggI0NFRTJGMjsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjBGNUZGOw0KfQ0KLnByb2dyZXNzTmFtZSB7DQogICAgZm9udC1zaXplOiAxMHB4Ow0KICAgIGNvbG9yOiAjNTU1Ow0KICAgIHdpZHRoOiAzNjBweDsNCiAgICBoZWlnaHQ6IDE0cHg7DQogICAgdGV4dC1hbGlnbjogbGVmdDsNCiAgICB3aGl0ZS1zcGFjZTogbm93cmFwOw0KICAgIG92ZXJmbG93OiBoaWRkZW47DQp9DQoucHJvZ3Jlc3NCYXJJblByb2dyZXNzLA0KLnByb2dyZXNzQmFyQ29tcGxldGUsDQoucHJvZ3Jlc3NCYXJFcnJvciB7DQogICAgZm9udC1zaXplOiAwOw0KICAgIHdpZHRoOiAwJTsNCiAgICBoZWlnaHQ6IDJweDsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibHVlOw0KICAgIG1hcmdpbi10b3A6IDJweDsNCn0NCi5wcm9ncmVzc0JhckNvbXBsZXRlIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjsNCiAgICB2aXNpYmlsaXR5OiBoaWRkZW47DQp9DQoucHJvZ3Jlc3NCYXJFcnJvciB7DQogICAgd2lkdGg6IDEwMCU7DQogICAgYmFja2dyb3VuZC1jb2xvcjogcmVkOw0KICAgIHZpc2liaWxpdHk6IGhpZGRlbjsNCn0NCmEucHJvZ3Jlc3NDYW5jZWwgew0KICAgIGZvbnQtc2l6ZTogMDsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgICBoZWlnaHQ6IDE0cHg7DQogICAgd2lkdGg6IDE0cHg7DQogICAgYmFja2dyb3VuZDogdXJsKC4uLy4uL3RoZW1lcy9kZWZhdWx0L2ltYWdlcy9jYW5jZWxidXR0b24uZ2lmKSAtMTRweCAwIG5vLXJlcGVhdCA7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KYS5wcm9ncmVzc0NhbmNlbDpob3ZlciB7IGJhY2tncm91bmQtcG9zaXRpb246IDAgMDsgfQ0KLnByb2dyZXNzQmFyU3RhdHVzIHsgbWFyZ2luLXRvcDogMnB4OyB3aWR0aDogMzM3cHg7IGZvbnQtc2l6ZTogN3B0OyB0ZXh0LWFsaWduOiBsZWZ0OyB3aGl0ZS1zcGFjZTogbm93cmFwOyB9DQouc3dmdXBsb2FkIHsgdmVydGljYWwtYWxpZ246IHRvcDsgfQ==</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\video\video.js' crc32='CF899B5E'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIGJ5IEpldEJyYWlucyBQaHBTdG9ybS4NCiAqIFVzZXI6IHRhb3FpbGkNCiAqIERhdGU6IDEyLTItMjANCiAqIFRpbWU6IOS4iuWNiDExOjE5DQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCg0KKGZ1bmN0aW9uKCl7DQoNCiAgICBlZGl0b3Iuc2V0T3B0KHsNCiAgICAgICAgdmlkZW9GaWVsZE5hbWU6InVwZmlsZSINCiAgICB9KTsNCg0KICAgIHZhciB2aWRlbyA9IHt9LA0KICAgICAgICB1cGxvYWRWaWRlb0xpc3QgPSBbXSwNCiAgICAgICAgaXNNb2RpZnlVcGxvYWRWaWRlbyA9IGZhbHNlOw0KDQogICAgd2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCl7DQogICAgICAgICRmb2N1cygkRygidmlkZW9VcmwiKSk7DQogICAgICAgIGluaXRUYWJzKCk7DQogICAgICAgIGluaXRWaWRlbygpOw0KICAgICAgICBpbml0VXBsb2FkKCk7DQogICAgfTsNCg0KICAgIC8qIOWIneWni+WMlnRhYuagh+etviAqLw0KICAgIGZ1bmN0aW9uIGluaXRUYWJzKCl7DQogICAgICAgIHZhciB0YWJzID0gJEcoJ3RhYkhlYWRzJykuY2hpbGRyZW47DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFicy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgZG9tVXRpbHMub24odGFic1tpXSwgImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50Ow0KICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGFicy5sZW5ndGg7IGorKykgew0KICAgICAgICAgICAgICAgICAgICBpZih0YWJzW2pdID09IHRhcmdldCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0YWJzW2pdLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQogICAgICAgICAgICAgICAgICAgICAgICAkRyh0YWJzW2pdLmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50LWlkJykpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0YWJzW2pdLmNsYXNzTmFtZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgJEcodGFic1tqXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29udGVudC1pZCcpKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQoNCiAgICBmdW5jdGlvbiBpbml0VmlkZW8oKXsNCiAgICAgICAgY3JlYXRlQWxpZ25CdXR0b24oIFsidmlkZW9GbG9hdCIsICJ1cGxvYWRfYWxpZ25tZW50Il0gKTsNCiAgICAgICAgYWRkVXJsQ2hhbmdlTGlzdGVuZXIoJEcoInZpZGVvVXJsIikpOw0KICAgICAgICBhZGRPa0xpc3RlbmVyKCk7DQoNCiAgICAgICAgLy/nvJbovpHop4bpopHml7bliJ3lp4vljJbnm7jlhbPkv6Hmga8NCiAgICAgICAgKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICB2YXIgaW1nID0gZWRpdG9yLnNlbGVjdGlvbi5nZXRSYW5nZSgpLmdldENsb3NlZE5vZGUoKSx1cmw7DQogICAgICAgICAgICBpZihpbWcgJiYgaW1nLmNsYXNzTmFtZSl7DQogICAgICAgICAgICAgICAgdmFyIGhhc0Zha2VkQ2xhc3MgPSAoaW1nLmNsYXNzTmFtZSA9PSAiZWR1aS1mYWtlZC12aWRlbyIpLA0KICAgICAgICAgICAgICAgICAgICBoYXNVcGxvYWRDbGFzcyA9IGltZy5jbGFzc05hbWUuaW5kZXhPZigiZWR1aS11cGxvYWQtdmlkZW8iKSE9LTE7DQogICAgICAgICAgICAgICAgaWYoaGFzRmFrZWRDbGFzcyB8fCBoYXNVcGxvYWRDbGFzcykgew0KICAgICAgICAgICAgICAgICAgICAkRygidmlkZW9VcmwiKS52YWx1ZSA9IHVybCA9IGltZy5nZXRBdHRyaWJ1dGUoIl91cmwiKTsNCiAgICAgICAgICAgICAgICAgICAgJEcoInZpZGVvV2lkdGgiKS52YWx1ZSA9IGltZy53aWR0aDsNCiAgICAgICAgICAgICAgICAgICAgJEcoInZpZGVvSGVpZ2h0IikudmFsdWUgPSBpbWcuaGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgYWxpZ24gPSBkb21VdGlscy5nZXRDb21wdXRlZFN0eWxlKGltZywiZmxvYXQiKSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudEFsaWduID0gZG9tVXRpbHMuZ2V0Q29tcHV0ZWRTdHlsZShpbWcucGFyZW50Tm9kZSwidGV4dC1hbGlnbiIpOw0KICAgICAgICAgICAgICAgICAgICB1cGRhdGVBbGlnbkJ1dHRvbihwYXJlbnRBbGlnbj09PSJjZW50ZXIiPyJjZW50ZXIiOmFsaWduKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoaGFzVXBsb2FkQ2xhc3MpIHsNCiAgICAgICAgICAgICAgICAgICAgaXNNb2RpZnlVcGxvYWRWaWRlbyA9IHRydWU7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY3JlYXRlUHJldmlld1ZpZGVvKHVybCk7DQogICAgICAgIH0pKCk7DQogICAgfTsNCiAgICAvKioNCiAgICAgKiDnm5HlkKznoa7orqTlkozlj5bmtojkuKTkuKrmjInpkq7kuovku7bvvIznlKjmiLfmiafooYzmj5LlhaXmiJbogIXmuIXnqbrmraPlnKjmkq3mlL7nmoTop4bpopHlrp7kvovmk43kvZwNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBhZGRPa0xpc3RlbmVyKCl7DQogICAgICAgIGRpYWxvZy5vbm9rID0gZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICRHKCJwcmV2aWV3IikuaW5uZXJIVE1MID0gIiI7DQogICAgICAgICAgICB2YXIgY3VycmVudFRhYiA9ICBmaW5kRm9jdXMoInRhYkhlYWRzIiwidGFiU3JjIik7DQogICAgICAgICAgICBzd2l0Y2goY3VycmVudFRhYil7DQogICAgICAgICAgICAgICAgY2FzZSAidmlkZW8iOg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zZXJ0U2luZ2xlKCk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgIGNhc2UgInZpZGVvU2VhcmNoIjoNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydFNlYXJjaCgic2VhcmNoTGlzdCIpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICJ1cGxvYWQiOg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zZXJ0VXBsb2FkKCk7DQogICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KICAgICAgICBkaWFsb2cub25jYW5jZWwgPSBmdW5jdGlvbigpew0KICAgICAgICAgICAgJEcoInByZXZpZXciKS5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgfTsNCiAgICB9DQoNCiAgICBmdW5jdGlvbiBzZWxlY3RUeHQobm9kZSl7DQogICAgICAgIGlmKG5vZGUuc2VsZWN0KXsNCiAgICAgICAgICAgIG5vZGUuc2VsZWN0KCk7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIHIgPSBub2RlLmNyZWF0ZVRleHRSYW5nZSAmJiBub2RlLmNyZWF0ZVRleHRSYW5nZSgpOw0KICAgICAgICAgICAgci5zZWxlY3QoKTsNCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOS+neaNruS8oOWFpeeahGFsaWdu5YC85pu05paw5oyJ6ZKu5L+h5oGvDQogICAgICogQHBhcmFtIGFsaWduDQogICAgICovDQogICAgZnVuY3Rpb24gdXBkYXRlQWxpZ25CdXR0b24oIGFsaWduICkgew0KICAgICAgICB2YXIgYWxpZ25zID0gJEcoICJ2aWRlb0Zsb2F0IiApLmNoaWxkcmVuOw0KICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGNpOyBjaSA9IGFsaWduc1tpKytdOyApIHsNCiAgICAgICAgICAgIGlmICggY2kuZ2V0QXR0cmlidXRlKCAibmFtZSIgKSA9PSBhbGlnbiApIHsNCiAgICAgICAgICAgICAgICBpZiAoIGNpLmNsYXNzTmFtZSAhPSJmb2N1cyIgKSB7DQogICAgICAgICAgICAgICAgICAgIGNpLmNsYXNzTmFtZSA9ICJmb2N1cyI7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpZiAoIGNpLmNsYXNzTmFtZSA9PSJmb2N1cyIgKSB7DQogICAgICAgICAgICAgICAgICAgIGNpLmNsYXNzTmFtZSA9ICIiOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCg0KICAgIC8qKg0KICAgICAqIOWwhuWNleS4quinhumikeS/oeaBr+aPkuWFpee8lui+keWZqOS4rQ0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGluc2VydFNpbmdsZSgpew0KICAgICAgICB2YXIgd2lkdGggPSAkRygidmlkZW9XaWR0aCIpLA0KICAgICAgICAgICAgaGVpZ2h0ID0gJEcoInZpZGVvSGVpZ2h0IiksDQogICAgICAgICAgICB1cmw9JEcoJ3ZpZGVvVXJsJykudmFsdWUsDQogICAgICAgICAgICBhbGlnbiA9IGZpbmRGb2N1cygidmlkZW9GbG9hdCIsIm5hbWUiKTsNCiAgICAgICAgaWYoIXVybCkgcmV0dXJuIGZhbHNlOw0KICAgICAgICBpZiAoICFjaGVja051bSggW3dpZHRoLCBoZWlnaHRdICkgKSByZXR1cm4gZmFsc2U7DQogICAgICAgIGVkaXRvci5leGVjQ29tbWFuZCgnaW5zZXJ0dmlkZW8nLCB7DQogICAgICAgICAgICB1cmw6IGNvbnZlcnRfdXJsKHVybCksDQogICAgICAgICAgICB3aWR0aDogd2lkdGgudmFsdWUsDQogICAgICAgICAgICBoZWlnaHQ6IGhlaWdodC52YWx1ZSwNCiAgICAgICAgICAgIGFsaWduOiBhbGlnbg0KICAgICAgICB9LCBpc01vZGlmeVVwbG9hZFZpZGVvID8gJ3VwbG9hZCc6bnVsbCk7DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5bCG5YWD57SgaWTkuIvnmoTmiYDmnInku6Pooajop4bpopHnmoTlm77niYfmj5LlhaXnvJbovpHlmajkuK0NCiAgICAgKiBAcGFyYW0gaWQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBpbnNlcnRTZWFyY2goaWQpew0KICAgICAgICB2YXIgaW1ncyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKCRHKGlkKSwiaW1nIiksDQogICAgICAgICAgICB2aWRlb09ianM9W107DQogICAgICAgIGZvcih2YXIgaT0wLGltZzsgaW1nPWltZ3NbaSsrXTspew0KICAgICAgICAgICAgaWYoaW1nLmdldEF0dHJpYnV0ZSgic2VsZWN0ZWQiKSl7DQogICAgICAgICAgICAgICAgdmlkZW9PYmpzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICB1cmw6aW1nLmdldEF0dHJpYnV0ZSgidWVfdmlkZW9fdXJsIiksDQogICAgICAgICAgICAgICAgICAgIHdpZHRoOjQyMCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjI4MCwNCiAgICAgICAgICAgICAgICAgICAgYWxpZ246Im5vbmUiDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKCdpbnNlcnR2aWRlbycsdmlkZW9PYmpzKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmib7liLBpZOS4i+WFt+aciWZvY3Vz57G755qE6IqC54K55bm26L+U5Zue6K+l6IqC54K55LiL55qE5p+Q5Liq5bGe5oCnDQogICAgICogQHBhcmFtIGlkDQogICAgICogQHBhcmFtIHJldHVyblByb3BlcnR5DQogICAgICovDQogICAgZnVuY3Rpb24gZmluZEZvY3VzKCBpZCwgcmV0dXJuUHJvcGVydHkgKSB7DQogICAgICAgIHZhciB0YWJzID0gJEcoIGlkICkuY2hpbGRyZW4sDQogICAgICAgICAgICAgICAgcHJvcGVydHk7DQogICAgICAgIGZvciAoIHZhciBpID0gMCwgY2k7IGNpID0gdGFic1tpKytdOyApIHsNCiAgICAgICAgICAgIGlmICggY2kuY2xhc3NOYW1lPT0iZm9jdXMiICkgew0KICAgICAgICAgICAgICAgIHByb3BlcnR5ID0gY2kuZ2V0QXR0cmlidXRlKCByZXR1cm5Qcm9wZXJ0eSApOw0KICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHJldHVybiBwcm9wZXJ0eTsNCiAgICB9DQogICAgZnVuY3Rpb24gY29udmVydF91cmwocyl7DQogICAgICAgIHJldHVybiBzLnJlcGxhY2UoL2h0dHA6XC9cL3d3d1wudHVkb3VcLmNvbVwvcHJvZ3JhbXNcL3ZpZXdcLyhbXHdcLV0rKVwvPy9pLCJodHRwOi8vd3d3LnR1ZG91LmNvbS92LyQxIikNCiAgICAgICAgICAgIC5yZXBsYWNlKC9odHRwOlwvXC93d3dcLnlvdXR1YmVcLmNvbVwvd2F0Y2hcP3Y9KFtcd1wtXSspL2ksImh0dHA6Ly93d3cueW91dHViZS5jb20vdi8kMSIpDQogICAgICAgICAgICAucmVwbGFjZSgvaHR0cDpcL1wvdlwueW91a3VcLmNvbVwvdl9zaG93XC9pZF8oW1x3XC09XSspXC5odG1sL2ksImh0dHA6Ly9wbGF5ZXIueW91a3UuY29tL3BsYXllci5waHAvc2lkLyQxIikNCiAgICAgICAgICAgIC5yZXBsYWNlKC9odHRwOlwvXC93d3dcLjU2XC5jb21cL3VcZCtcL3ZfKFtcd1wtXSspXC5odG1sL2ksICJodHRwOi8vcGxheWVyLjU2LmNvbS92XyQxLnN3ZiIpDQogICAgICAgICAgICAucmVwbGFjZSgvaHR0cDpcL1wvd3d3LjU2LmNvbVwvd1xkK1wvcGxheV9hbGJ1bVwtYWlkXC1cZCtfdmlkXC0oW14uXSspXC5odG1sL2ksICJodHRwOi8vcGxheWVyLjU2LmNvbS92XyQxLnN3ZiIpDQogICAgICAgICAgICAucmVwbGFjZSgvaHR0cDpcL1wvdlwua3U2XC5jb21cLy4rXC8oW14uXSspXC5odG1sL2ksICJodHRwOi8vcGxheWVyLmt1Ni5jb20vcmVmZXIvJDEvdi5zd2YiKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgICog5qOA5rWL5Lyg5YWl55qE5omA5pyJaW5wdXTmoYbkuK3ovpPlhaXnmoTplb/lrr3mmK/lkKbmmK/mraPmlbANCiAgICAgICogQHBhcmFtIG5vZGVzIGlucHV05qGG6ZuG5ZCI77yMDQogICAgICAqLw0KICAgICBmdW5jdGlvbiBjaGVja051bSggbm9kZXMgKSB7DQogICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGNpOyBjaSA9IG5vZGVzW2krK107ICkgew0KICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNpLnZhbHVlOw0KICAgICAgICAgICAgIGlmICggIWlzTnVtYmVyKCB2YWx1ZSApICYmIHZhbHVlKSB7DQogICAgICAgICAgICAgICAgIGFsZXJ0KCBsYW5nLm51bUVycm9yICk7DQogICAgICAgICAgICAgICAgIGNpLnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgIGNpLmZvY3VzKCk7DQogICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICB9DQogICAgICAgICB9DQogICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgfQ0KDQogICAgLyoqDQogICAgICog5pWw5a2X5Yik5patDQogICAgICogQHBhcmFtIHZhbHVlDQogICAgICovDQogICAgZnVuY3Rpb24gaXNOdW1iZXIoIHZhbHVlICkgew0KICAgICAgICByZXR1cm4gLygwfF5bMS05XVxkKiQpLy50ZXN0KCB2YWx1ZSApOw0KICAgIH0NCg0KICAgIC8qKg0KICAgICAgKiDliJvlu7rlm77niYfmta7liqjpgInmi6nmjInpkq4NCiAgICAgICogQHBhcmFtIGlkcw0KICAgICAgKi8NCiAgICAgZnVuY3Rpb24gY3JlYXRlQWxpZ25CdXR0b24oIGlkcyApIHsNCiAgICAgICAgIGZvciAoIHZhciBpID0gMCwgY2k7IGNpID0gaWRzW2krK107ICkgew0KICAgICAgICAgICAgIHZhciBmbG9hdENvbnRhaW5lciA9ICRHKCBjaSApLA0KICAgICAgICAgICAgICAgICAgICAgbmFtZU1hcHMgPSB7Im5vbmUiOmxhbmdbJ2RlZmF1bHQnXSwgImxlZnQiOmxhbmcuZmxvYXRMZWZ0LCAicmlnaHQiOmxhbmcuZmxvYXRSaWdodCwgImNlbnRlciI6bGFuZy5ibG9ja307DQogICAgICAgICAgICAgZm9yICggdmFyIGogaW4gbmFtZU1hcHMgKSB7DQogICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAiZGl2IiApOw0KICAgICAgICAgICAgICAgICBkaXYuc2V0QXR0cmlidXRlKCAibmFtZSIsIGogKTsNCiAgICAgICAgICAgICAgICAgaWYgKCBqID09ICJub25lIiApIGRpdi5jbGFzc05hbWU9ImZvY3VzIjsNCiAgICAgICAgICAgICAgICAgZGl2LnN0eWxlLmNzc1RleHQgPSAiYmFja2dyb3VuZDp1cmwoaW1hZ2VzLyIgKyBqICsgIl9mb2N1cy5qcGcpOyI7DQogICAgICAgICAgICAgICAgIGRpdi5zZXRBdHRyaWJ1dGUoICJ0aXRsZSIsIG5hbWVNYXBzW2pdICk7DQogICAgICAgICAgICAgICAgIGZsb2F0Q29udGFpbmVyLmFwcGVuZENoaWxkKCBkaXYgKTsNCiAgICAgICAgICAgICB9DQogICAgICAgICAgICAgc3dpdGNoU2VsZWN0KCBjaSApOw0KICAgICAgICAgfQ0KICAgICB9DQoNCiAgICAvKioNCiAgICAgKiDpgInmi6nliIfmjaINCiAgICAgKiBAcGFyYW0gc2VsZWN0UGFyZW50SWQNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzd2l0Y2hTZWxlY3QoIHNlbGVjdFBhcmVudElkICkgew0KICAgICAgICB2YXIgc2VsZWN0cyA9ICRHKCBzZWxlY3RQYXJlbnRJZCApLmNoaWxkcmVuOw0KICAgICAgICBmb3IgKCB2YXIgaSA9IDAsIGNpOyBjaSA9IHNlbGVjdHNbaSsrXTsgKSB7DQogICAgICAgICAgICBkb21VdGlscy5vbiggY2ksICJjbGljayIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaiA9IDAsIGNqOyBjaiA9IHNlbGVjdHNbaisrXTsgKSB7DQogICAgICAgICAgICAgICAgICAgIGNqLmNsYXNzTmFtZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICBjai5yZW1vdmVBdHRyaWJ1dGUgJiYgY2oucmVtb3ZlQXR0cmlidXRlKCAiY2xhc3MiICk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gImZvY3VzIjsNCiAgICAgICAgICAgIH0gKQ0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog55uR5ZCsdXJs5pS55Y+Y5LqL5Lu2DQogICAgICogQHBhcmFtIHVybA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGFkZFVybENoYW5nZUxpc3RlbmVyKHVybCl7DQogICAgICAgIGlmIChicm93c2VyLmllKSB7DQogICAgICAgICAgICB1cmwub25wcm9wZXJ0eWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICBjcmVhdGVQcmV2aWV3VmlkZW8oIHRoaXMudmFsdWUgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHVybC5hZGRFdmVudExpc3RlbmVyKCAiaW5wdXQiLCBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgY3JlYXRlUHJldmlld1ZpZGVvKCB0aGlzLnZhbHVlICk7DQogICAgICAgICAgICB9LCBmYWxzZSApOw0KICAgICAgICB9DQogICAgfQ0KDQogICAgLyoqDQogICAgICog5qC55o2udXJs55Sf5oiQ6KeG6aKR6aKE6KeIDQogICAgICogQHBhcmFtIHVybA0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGNyZWF0ZVByZXZpZXdWaWRlbyh1cmwpew0KDQogICAgICAgIGlmICggIXVybCApcmV0dXJuOw0KCQl2YXIgbWF0Y2hlcyA9IHVybC5tYXRjaCgveW91dHUuYmVcLyhcdyspJC8pIHx8IHVybC5tYXRjaCgveW91dHViZVwuY29tXC93YXRjaFw/dj0oXHcrKS8pIHx8IHVybC5tYXRjaCgveW91dHViZS5jb21cL3ZcLyhcdyspLyksDQogICAgICAgICAgICB5b3VrdSA9IHVybC5tYXRjaCgveW91a3VcLmNvbVwvdl9zaG93XC9pZF8oXHcrKS8pLA0KICAgICAgICAgICAgeW91a3VQbGF5ID0gL3BsYXllclwueW91a3VcLmNvbS9pZy50ZXN0KHVybCk7DQogICAgICAgIGlmKCF5b3VrdVBsYXkpew0KICAgICAgICAgICAgaWYgKG1hdGNoZXMpew0KICAgICAgICAgICAgICAgIHVybCA9ICJodHRwczovL3d3dy55b3V0dWJlLmNvbS92LyIgKyBtYXRjaGVzWzFdICsgIj92ZXJzaW9uPTMmZmVhdHVyZT1wbGF5ZXJfZW1iZWRkZWQiOw0KICAgICAgICAgICAgfWVsc2UgaWYoeW91a3Upew0KICAgICAgICAgICAgICAgIHVybCA9ICJodHRwOi8vcGxheWVyLnlvdWt1LmNvbS9wbGF5ZXIucGhwL3NpZC8iK3lvdWt1WzFdKyIvdi5zd2YiDQogICAgICAgICAgICB9ZWxzZSBpZighZW5kV2l0aCh1cmwsWyIuc3dmIiwiLmZsdiIsIi53bXYiXSkpew0KICAgICAgICAgICAgICAgICRHKCJwcmV2aWV3IikuaW5uZXJIVE1MID0gbGFuZy51cmxFcnJvcjsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoL1w/Zj0uKi8sIiIpOw0KICAgICAgICB9DQogICAgICAgICRHKCJwcmV2aWV3IikuaW5uZXJIVE1MID0gJzxlbWJlZCB0eXBlPSJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIgcGx1Z2luc3BhZ2U9Imh0dHA6Ly93d3cubWFjcm9tZWRpYS5jb20vZ28vZ2V0Zmxhc2hwbGF5ZXIiJyArDQogICAgICAgICcgc3JjPSInICsgdXJsICsgJyInICsNCiAgICAgICAgJyB3aWR0aD0iJyArIDQyMCAgKyAnIicgKw0KICAgICAgICAnIGhlaWdodD0iJyArIDI4MCAgKyAnIicgKw0KICAgICAgICAnIHdtb2RlPSJ0cmFuc3BhcmVudCIgcGxheT0idHJ1ZSIgbG9vcD0iZmFsc2UiIG1lbnU9ImZhbHNlIiBhbGxvd3NjcmlwdGFjY2Vzcz0ibmV2ZXIiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSIgPjwvZW1iZWQ+JzsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmnKvlsL7lrZfnrKbmo4DmtYsNCiAgICAgKiBAcGFyYW0gc3RyDQogICAgICogQHBhcmFtIGVuZFN0ckFycg0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGVuZFdpdGgoc3RyLGVuZFN0ckFycil7DQogICAgICAgIGZvcih2YXIgaT0wLGxlbiA9IGVuZFN0ckFyci5sZW5ndGg7aTxsZW47aSsrKXsNCiAgICAgICAgICAgIHZhciB0bXAgPSBlbmRTdHJBcnJbaV07DQogICAgICAgICAgICBpZihzdHIubGVuZ3RoIC0gdG1wLmxlbmd0aDwwKSByZXR1cm4gZmFsc2U7DQoNCiAgICAgICAgICAgIGlmKHN0ci5zdWJzdHJpbmcoc3RyLmxlbmd0aC10bXAubGVuZ3RoKT09dG1wKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgfQ0KDQogICAgLyoqDQogICAgICogYWpheOiOt+WPluinhumikeS/oeaBrw0KICAgICAqLw0KICAgIGZ1bmN0aW9uIGdldE1vdmllKCl7DQogICAgICAgIHZhciBrZXl3b3JkSW5wdXQgPSAgJEcoInZpZGVvU2VhcmNoVHh0Iik7DQogICAgICAgIGlmKCFrZXl3b3JkSW5wdXQuZ2V0QXR0cmlidXRlKCJoYXNDbGljayIpIHx8IWtleXdvcmRJbnB1dC52YWx1ZSl7DQogICAgICAgICAgICBzZWxlY3RUeHQoa2V5d29yZElucHV0KTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICAkRyggInNlYXJjaExpc3QiICkuaW5uZXJIVE1MID0gbGFuZy5sb2FkaW5nOw0KICAgICAgICB2YXIga2V5d29yZCA9IGtleXdvcmRJbnB1dC52YWx1ZSwNCiAgICAgICAgICAgICAgICB0eXBlID0gJEcoInZpZGVvVHlwZSIpLnZhbHVlLA0KICAgICAgICAgICAgc3RyPSIiOw0KICAgICAgICBhamF4LnJlcXVlc3QoZWRpdG9yLm9wdGlvbnMuZ2V0TW92aWVVcmwsew0KICAgICAgICAgICAgc2VhcmNoS2V5OmtleXdvcmQsDQogICAgICAgICAgICB2aWRlb1R5cGU6dHlwZSwNCiAgICAgICAgICAgIG9uc3VjY2VzczpmdW5jdGlvbih4aHIpew0KICAgICAgICAgICAgICAgIHRyeXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluZm8gPSBldmFsKCIoIit4aHIucmVzcG9uc2VUZXh0KyIpIik7DQogICAgICAgICAgICAgICAgfWNhdGNoKGUpew0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgdmFyIHZpZGVvcyA9IGluZm8ubXVsdGlQYWdlUmVzdWx0LnJlc3VsdHM7DQogICAgICAgICAgICAgICAgdmFyIGh0bWw9WyI8dGFibGUgd2lkdGg9JzUzMCc+Il07DQogICAgICAgICAgICAgICAgZm9yKHZhciBpPTAsY2k7Y2kgPSB2aWRlb3NbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goDQogICAgICAgICAgICAgICAgICAgICAgICAiPHRyPiIgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8dGQ+PGltZyB0aXRsZT0nIitsYW5nLmNsaWNrVG9TZWxlY3QrIicgdWVfdmlkZW9fdXJsPSciK2NpLm91dGVyUGxheWVyVXJsKyInIGFsdD0nIitjaS50YWdzKyInIHdpZHRoPScxMDYnIGhlaWdodD0nODAnIHNyYz0nIitjaS5waWNVcmwrIicgLz4gPC90ZD4iICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPHRkPiIgKw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPHA+PGEgdGFyZ2V0PSdfYmxhbmsnIHRpdGxlPSciK2xhbmcuZ29Ub1NvdXJjZSsiJyBocmVmPSciK2NpLml0ZW1VcmwrIic+IitjaS50aXRsZS5zdWJzdHIoMCwzMCkrIjwvYT48L3A+IiArDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICI8cCBzdHlsZT0naGVpZ2h0OiA2MnB4O2xpbmUtaGVpZ2h0OiAyMHB4JyB0aXRsZT0nIitjaS5kZXNjcmlwdGlvbisiJz4gIisgY2kuZGVzY3JpcHRpb24uc3Vic3RyKDAsOTUpICsiIDwvcD4iICsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiPC90ZD4iICsNCiAgICAgICAgICAgICAgICAgICAgICAgIjwvdHI+Ig0KICAgICAgICAgICAgICAgICAgICApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBodG1sLnB1c2goIjwvdGFibGU+Iik7DQogICAgICAgICAgICAgICAgJEcoInNlYXJjaExpc3QiKS5pbm5lckhUTUwgPSBzdHIgPSBodG1sLmxlbmd0aCA9PTIgP2xhbmcubm9WaWRlbyA6IGh0bWwuam9pbigiIik7DQogICAgICAgICAgICAgICAgdmFyIGltZ3MgPSBkb21VdGlscy5nZXRFbGVtZW50c0J5VGFnTmFtZSgkRygic2VhcmNoTGlzdCIpLCJpbWciKTsNCiAgICAgICAgICAgICAgICBpZighaW1ncylyZXR1cm47DQogICAgICAgICAgICAgICAgZm9yKHZhciBpPTAsaW1nO2ltZyA9IGltZ3NbaSsrXTspew0KICAgICAgICAgICAgICAgICAgICBkb21VdGlscy5vbihpbWcsImNsaWNrIixmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiDmlLnlj5jlr7nosaFv55qE6YCJ5Lit54q25oCBDQogICAgICogQHBhcmFtIG8NCiAgICAgKi8NCiAgICBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZChvKXsNCiAgICAgICAgaWYgKCBvLmdldEF0dHJpYnV0ZSggInNlbGVjdGVkIiApICkgew0KICAgICAgICAgICAgby5yZW1vdmVBdHRyaWJ1dGUoICJzZWxlY3RlZCIgKTsNCiAgICAgICAgICAgIG8uc3R5bGUuY3NzVGV4dCA9ICJmaWx0ZXI6YWxwaGEoT3BhY2l0eT0xMDApOy1tb3otb3BhY2l0eToxO29wYWNpdHk6IDE7Ym9yZGVyOiAycHggc29saWQgI2ZmZiI7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBvLnNldEF0dHJpYnV0ZSggInNlbGVjdGVkIiwgInRydWUiICk7DQogICAgICAgICAgICBvLnN0eWxlLmNzc1RleHQgPSAiZmlsdGVyOmFscGhhKE9wYWNpdHk9NTApOy1tb3otb3BhY2l0eTowLjU7b3BhY2l0eTogMC41O2JvcmRlcjoycHggc29saWQgYmx1ZTsiOw0KICAgICAgICB9DQogICAgfQ0KDQoNCn0pKCk7</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\wordimage\wordimage.asp' crc32='C520F12E'  dt:dt='bin.base64'>PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiINCiAgICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+DQo8aHRtbD4NCjxoZWFkPg0KICAgIDx0aXRsZT48L3RpdGxlPg0KICAgIDxtZXRhIGh0dHAtZXF1aXY9IkNvbnRlbnQtVHlwZSIgY29udGVudD0idGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgiLz4NCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9pbnRlcm5hbC5qcyI+PC9zY3JpcHQ+DQogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4NCiAgICAgICAgLndyYXBwZXJ7d2lkdGg6IDYwMHB4O3BhZGRpbmc6IDEwcHg7aGVpZ2h0OiAzNTJweDtvdmVyZmxvdzogaGlkZGVuO3Bvc2l0aW9uOiByZWxhdGl2ZTtib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Q3ZDdkN30NCiAgICAgICAgLmxvY2FsUGF0aCBpbnB1dHtmbG9hdDogbGVmdDt3aWR0aDogMzUwcHg7bGluZS1oZWlnaHQ6IDIwcHg7aGVpZ2h0OiAyMHB4O30NCiAgICAgICAgI2NsaXBib2FyZHtmbG9hdDpsZWZ0O3dpZHRoOiA3MHB4O2hlaWdodDogMzBweDsgfQ0KICAgICAgICAuZGVzY3JpcHRpb257IGNvbG9yOiAjMDA2NmNjOyBtYXJnaW4tdG9wOiAycHg7IHdpZHRoOiA0NTBweDsgaGVpZ2h0OiA0NXB4O2Zsb2F0OiBsZWZ0O2xpbmUtaGVpZ2h0OiAyMnB4fQ0KICAgICAgICAjdXBsb2Fke3dpZHRoOiAxMDBweDtoZWlnaHQ6IDMwcHg7ZmxvYXQ6IHJpZ2h0OyBtYXJnaW46MTBweCAycHggMCAwO2N1cnNvcjogcG9pbnRlcjt9DQogICAgICAgICNtc2d7IHdpZHRoOiAxNDBweDsgaGVpZ2h0OiAzMHB4OyBsaW5lLWhlaWdodDoyNXB4O2Zsb2F0OiBsZWZ0O2NvbG9yOiByZWR9DQogICAgPC9zdHlsZT4NCjwvaGVhZD4NCjxib2R5Pg0KICAgIDxkaXYgY2xhc3M9IndyYXBwZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJsb2NhbFBhdGgiPg0KICAgICAgICAgICAgPGlucHV0IGlkPSJsb2NhbFBhdGgiIHR5cGU9InRleHQiIHJlYWRvbmx5IC8+DQogICAgICAgICAgICA8ZGl2IGlkPSJjbGlwYm9hcmQiPjwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBpZD0ibXNnIj48L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXYgaWQ9ImZsYXNoQ29udGFpbmVyIj48L2Rpdj4NCiAgICAgICAgPGRpdj4NCiAgICAgICAgICAgIDxkaXYgaWQ9InVwbG9hZCIgc3R5bGU9ImRpc3BsYXk6IG5vbmUiID48aW1nIGlkPSJ1cGxvYWRCdG4iPjwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZGVzY3JpcHRpb24iPg0KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPSJjb2xvcjogcmVkIj48dmFyIGlkPSJsYW5nX3Jlc2F2ZSI+PC92YXI+OiA8L3NwYW4+PHZhciBpZD0ibGFuZ19zdGVwIj48L3Zhcj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgIDwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL3RhbmdyYW0uanMiPjwvc2NyaXB0Pg0KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IndvcmRpbWFnZS5qcyI+PC9zY3JpcHQ+DQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KICAgICAgICAgICAgLy/lhajlsYDlj5jph48NCiAgICAgICAgdmFyIGltYWdlVXJscyA9IFtdLCAgICAgICAgICAvL+eUqOS6juS/neWtmOS7juacjeWKoeWZqOi/lOWbnueahOWbvueJh+S/oeaBr+aVsOe7hA0KICAgICAgICAgICAgc2VsZWN0ZWRJbWFnZUNvdW50ID0gMCwgIC8v5b2T5YmN5bey6YCJ5oup55qE5L2G5pyq5LiK5Lyg55qE5Zu+54mH5pWw6YePDQogICAgICAgICAgICBwYXJhbXMgPSBiYWlkdS5qc29uLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgImZpbGVOYW1lRm9ybWF0IjplZGl0b3Iub3B0aW9ucy5maWxlTmFtZUZvcm1hdA0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgZWRpdG9yLnNldE9wdCh7DQogICAgICAgICAgICB3b3JkSW1hZ2VGaWVsZE5hbWU6InVwZmlsZSIsDQogICAgICAgICAgICBjb21wcmVzc1NpZGU6MCwNCiAgICAgICAgICAgIG1heEltYWdlU2lkZUxlbmd0aDo5MDANCiAgICAgICAgfSk7DQogICAgICAgIHV0aWxzLmRvbVJlYWR5KGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAvL+WIm+W7ukZsYXNo55u45YWz55qE5Y+C5pWw6ZuG5ZCIDQogICAgICAgICAgICB2YXIgZmxhc2hPcHRpb25zID0gew0KICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoiZmxhc2hDb250YWluZXIiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZsYXNo5a655ZmoaWQNCiAgICAgICAgICAgICAgICB1cmw6ZWRpdG9yLm9wdGlvbnMud29yZEltYWdlVXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDkuIrkvKDlpITnkIbpobXpnaLnmoR1cmzlnLDlnYANCiAgICAgICAgICAgICAgICBleHQ6cGFyYW1zLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Y+v5ZCR5pyN5Yqh5Zmo5o+Q5Lqk55qE6Ieq5a6a5LmJ5Y+C5pWw5YiX6KGoDQogICAgICAgICAgICAgICAgZmlsZVR5cGU6J3siZGVzY3JpcHRpb24iOiInK2xhbmcuZmlsZVR5cGUrJyIsICJleHRlbnNpb24iOiIqLmdpZjsqLmpwZWc7Ki5wbmc7Ki5qcGcifScsICAgICAvL+S4iuS8oOaWh+S7tuagvOW8j+mZkOWItg0KICAgICAgICAgICAgICAgIGZsYXNoVXJsOidpbWFnZVVwbG9hZGVyLnN3ZicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+S4iuS8oOeUqOeahGZsYXNo57uE5Lu25Zyw5Z2ADQogICAgICAgICAgICAgICAgd2lkdGg6NjAwLCAgICAgICAgICAvL2ZsYXNo55qE5a695bqmDQogICAgICAgICAgICAgICAgaGVpZ2h0OjI3MiwgICAgICAgICAvL2ZsYXNo55qE6auY5bqmDQogICAgICAgICAgICAgICAgZ3JpZFdpZHRoOjEyMCwgICAgIC8vIOavj+S4gOS4qumihOiniOWbvueJh+aJgOWNoOeahOWuveW6pg0KICAgICAgICAgICAgICAgIGdyaWRIZWlnaHQ6MTIwLCAgICAvLyDmr4/kuIDkuKrpooTop4jlm77niYfmiYDljaDnmoTpq5jluqYNCiAgICAgICAgICAgICAgICBwaWNXaWR0aDoxMDAsICAgICAgLy8g5Y2V5byg6aKE6KeI5Zu+54mH55qE5a695bqmDQogICAgICAgICAgICAgICAgcGljSGVpZ2h0OjEwMCwgICAgIC8vIOWNleW8oOmihOiniOWbvueJh+eahOmrmOW6pg0KICAgICAgICAgICAgICAgIHVwbG9hZERhdGFGaWVsZE5hbWU6ZWRpdG9yLm9wdGlvbnMud29yZEltYWdlRmllbGROYW1lLCAgICAvLyBQT1NU6K+35rGC5Lit5Zu+54mH5pWw5o2u55qEa2V5DQogICAgICAgICAgICAgICAgcGljRGVzY0ZpZWxkTmFtZToncGljdGl0bGUnLCAgICAgIC8vIFBPU1Tor7fmsYLkuK3lm77niYfmj4/ov7DnmoRrZXkNCiAgICAgICAgICAgICAgICBtYXhTaXplOjIsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaWh+S7tueahOacgOWkp+S9k+enryzljZXkvY1NDQogICAgICAgICAgICAgICAgY29tcHJlc3NTaXplOjEsICAgICAgICAgICAgICAgICAgIC8vIOS4iuS8oOWJjeWmguaenOWbvueJh+S9k+enr+i2hei/h+ivpeWAvO+8jOS8muWFiOWOi+e8qSzljZXkvY1NDQogICAgICAgICAgICAgICAgbWF4TnVtOjMyLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyDljZXmrKHmnIDlpKflj6/kuIrkvKDlpJrlsJHkuKrmlofku7YNCiAgICAgICAgICAgICAgICBjb21wcmVzc1NpZGU6ZWRpdG9yLm9wdGlvbnMuY29tcHJlc3NTaWRlLCAgICAgICAgICAgICAgICAgLy/nrYnmr5TljovnvKnnmoTln7rlh4bvvIww5Li65oyJ54Wn5pyA6ZW/6L6577yMMeS4uuaMieeFp+WuveW6pu+8jDLkuLrmjInnhafpq5jluqYNCiAgICAgICAgICAgICAgICBjb21wcmVzc0xlbmd0aDplZGl0b3Iub3B0aW9ucy5tYXhJbWFnZVNpZGVMZW5ndGggICAgICAgIC8v6IO95o6l5Y+X55qE5pyA5aSn6L656ZW/77yM6LaF6L+H6K+l5YC8Rmxhc2jkvJroh6rliqjnrYnmr5TljovnvKkNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvL+Wbnuiwg+WHveaVsOmbhuWQiO+8jOaUr+aMgeS8oOmAkuWHveaVsOWQjeeahOWtl+espuS4suOAgeWHveaVsOWPpeafhOS7peWPiuWHveaVsOacrOi6q+S4ieenjeexu+Weiw0KICAgICAgICAgICAgdmFyIGNhbGxiYWNrcz17DQogICAgICAgICAgICAgICAgc2VsZWN0RmlsZUNhbGxiYWNrOiBmdW5jdGlvbihzZWxlY3RGaWxlcyl7ICAgICAgICAgICAgICAgIC8vIOmAieaLqeaWh+S7tueahOWbnuiwgw0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlQ291bnQgKz0gc2VsZWN0RmlsZXMubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RlZEltYWdlQ291bnQpIGJhaWR1LmcoInVwbG9hZCIpLnN0eWxlLmRpc3BsYXkgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgZGlhbG9nLmJ1dHRvbnNbMF0uc2V0RGlzYWJsZWQodHJ1ZSk7IC8v5Yid5aeL5YyW5pe2572u54Gw56Gu5a6a5oyJ6ZKuDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkZWxldGVGaWxlQ2FsbGJhY2s6IGZ1bmN0aW9uKGRlbEZpbGVzKXsgICAgICAgICAgICAgICAgIC8vIOWIoOmZpOaWh+S7tueahOWbnuiwgw0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlQ291bnQgLT0gZGVsRmlsZXMubGVuZ3RoOw0KICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkSW1hZ2VDb3VudCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgYmFpZHUuZygidXBsb2FkIikuc3R5bGUuZGlzcGxheSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZy5idXR0b25zWzBdLnNldERpc2FibGVkKGZhbHNlKTsgICAgICAgICAvL+ayoeaciemAieaLqeWbvueJh+aXtumHjeaWsOeCueS6ruaMiemSrg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB1cGxvYWRDb21wbGV0ZUNhbGxiYWNrOiBmdW5jdGlvbihkYXRhKXsgICAgICAgICAgICAgICAvLyDljZXkuKrmlofku7bkuIrkvKDlrozmiJDnmoTlm57osIMNCiAgICAgICAgICAgICAgICAgICAgdHJ5e3ZhciBpbmZvID0gZXZhbCgiKCIgKyBkYXRhLmluZm8gKyAiKSIpOw0KICAgICAgICAgICAgICAgICAgICBpbmZvICYmIGltYWdlVXJscy5wdXNoKGluZm8pOw0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEltYWdlQ291bnQtLTsNCiAgICAgICAgICAgICAgICAgICAgfWNhdGNoKGUpe30NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHVwbG9hZEVycm9yQ2FsbGJhY2s6IGZ1bmN0aW9uIChkYXRhKXsgICAgICAgICAvLyDljZXkuKrmlofku7bkuIrkvKDlpLHotKXnmoTlm57osIMsDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUgJiYgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBhbGxDb21wbGV0ZUNhbGxiYWNrOiBmdW5jdGlvbigpeyAgICAgICAgICAgICAgLy8g5YWo6YOo5LiK5Lyg5a6M5oiQ5pe255qE5Zue6LCDDQogICAgICAgICAgICAgICAgICAgIGRpYWxvZy5idXR0b25zWzBdLnNldERpc2FibGVkKGZhbHNlKTsgICAgLy/kuIrkvKDlrozmr5XlkI7ngrnkuq7mjInpkq4NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgLy9leGNlZWRGaWxlQ2FsbGJhY2s6ICdleGNlZWRGaWxlQ2FsbGJhY2snLCAgIC8vIOaWh+S7tui2heWHuumZkOWItueahOacgOWkp+S9k+enr+aXtueahOWbnuiwgw0KICAgICAgICAgICAgICAgIC8vc3RhcnRVcGxvYWRDYWxsYmFjazogc3RhcnRVcGxvYWRDYWxsYmFjayAgICAvLyDlvIDlp4vkuIrkvKDmn5DkuKrmlofku7bml7bnmoTlm57osIMNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB3b3JkSW1hZ2UuaW5pdChmbGFzaE9wdGlvbnMsY2FsbGJhY2tzKTsNCiAgICAgICAgfSk7DQoNCiAgICA8L3NjcmlwdD4NCg0KPC9ib2R5Pg0KPC9odG1sPg==</file>
	<file name='zb_system\ADMIN\ueditor\dialogs\wordimage\wordimage.js' crc32='F2EBC74'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIGJ5IEpldEJyYWlucyBQaHBTdG9ybS4NCiAqIFVzZXI6IHRhb3FpbGkNCiAqIERhdGU6IDEyLTEtMzANCiAqIFRpbWU6IOS4i+WNiDEyOjUwDQogKiBUbyBjaGFuZ2UgdGhpcyB0ZW1wbGF0ZSB1c2UgRmlsZSB8IFNldHRpbmdzIHwgRmlsZSBUZW1wbGF0ZXMuDQogKi8NCg0KDQoNCnZhciB3b3JkSW1hZ2UgPSB7fTsNCi8vKGZ1bmN0aW9uKCl7DQp2YXIgZyA9IGJhaWR1LmcsDQoJZmxhc2hPYmosZmxhc2hDb250YWluZXI7DQoNCndvcmRJbWFnZS5pbml0ID0gZnVuY3Rpb24ob3B0LCBjYWxsYmFja3MpIHsNCglzaG93TG9jYWxQYXRoKCJsb2NhbFBhdGgiKTsNCgkvL2NyZWF0ZUNvcHlCdXR0b24oImNsaXBib2FyZCIsImxvY2FsUGF0aCIpOw0KCWNyZWF0ZUZsYXNoVXBsb2FkZXIob3B0LCBjYWxsYmFja3MpOw0KCWFkZFVwbG9hZExpc3RlbmVyKCk7DQoJYWRkT2tMaXN0ZW5lcigpOw0KfTsNCg0KZnVuY3Rpb24gaGlkZUZsYXNoKCl7DQogICAgZmxhc2hPYmogPSBudWxsOw0KICAgIGZsYXNoQ29udGFpbmVyLmlubmVySFRNTCA9ICIiOw0KfQ0KZnVuY3Rpb24gYWRkT2tMaXN0ZW5lcigpIHsNCglkaWFsb2cub25vayA9IGZ1bmN0aW9uKCkgew0KCQlpZiAoIWltYWdlVXJscy5sZW5ndGgpIHJldHVybjsNCgkJdmFyIGltYWdlcyA9IGRvbVV0aWxzLmdldEVsZW1lbnRzQnlUYWdOYW1lKGVkaXRvci5kb2N1bWVudCwiaW1nIik7DQogICAgICAgIGVkaXRvci5maXJlRXZlbnQoJ3NhdmVTY2VuZScpOw0KCQlmb3IgKHZhciBpID0gMCxpbWc7IGltZyA9IGltYWdlc1tpKytdOykgew0KCQkJdmFyIHNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoIndvcmRfaW1nIik7DQoJCQlpZiAoIXNyYykgY29udGludWU7DQoJCQlmb3IgKHZhciBqID0gMCx1cmw7IHVybCA9IGltYWdlVXJsc1tqKytdOykgew0KCQkJCWlmIChzcmMuaW5kZXhPZih1cmwub3JpZ2luYWwucmVwbGFjZSgiICIsIiIpKSAhPSAtMSkgew0KCQkJCQlpbWcuc3JjID0gZWRpdG9yLm9wdGlvbnMud29yZEltYWdlUGF0aCArIHVybC51cmw7DQoJCQkJCWltZy5zZXRBdHRyaWJ1dGUoIl9zcmMiLCBlZGl0b3Iub3B0aW9ucy53b3JkSW1hZ2VQYXRoICsgdXJsLnVybCk7ICAvL+WQjOaXtuS/ruaUuSJfc3JjIuWxnuaApw0KCQkJCQlpbWcuc2V0QXR0cmlidXRlKCJ0aXRsZSIsdXJsLnRpdGxlKTsNCiAgICAgICAgICAgICAgICAgICAgZG9tVXRpbHMucmVtb3ZlQXR0cmlidXRlcyhpbWcsIFsid29yZF9pbWciLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0Il0pOw0KCQkJCQllZGl0b3IuZmlyZUV2ZW50KCJzZWxlY3Rpb25jaGFuZ2UiKTsNCgkJCQkJYnJlYWs7DQoJCQkJfQ0KCQkJfQ0KDQoJCX0NCiAgICAgICAgZWRpdG9yLmZpcmVFdmVudCgnc2F2ZVNjZW5lJyk7DQogICAgICAgIGhpZGVGbGFzaCgpOw0KCX07DQogICAgZGlhbG9nLm9uY2FuY2VsID0gZnVuY3Rpb24oKXsNCiAgICAgICAgaGlkZUZsYXNoKCk7DQogICAgfQ0KfQ0KDQovKioNCiAqIOe7keWumuW8gOWni+S4iuS8oOS6i+S7tg0KICovDQpmdW5jdGlvbiBhZGRVcGxvYWRMaXN0ZW5lcigpIHsNCglnKCJ1cGxvYWQiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgew0KCQlmbGFzaE9iai51cGxvYWQoKTsNCgkJdGhpcy5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCX07DQp9DQoNCmZ1bmN0aW9uIHNob3dMb2NhbFBhdGgoaWQpIHsNCiAgICAvL+WNleW8oOe8lui+kQ0KICAgIHZhciBpbWcgPSBlZGl0b3Iuc2VsZWN0aW9uLmdldFJhbmdlKCkuZ2V0Q2xvc2VkTm9kZSgpOw0KICAgIHZhciBpbWFnZXMgPSBlZGl0b3IuZXhlY0NvbW1hbmQoJ3dvcmRpbWFnZScpOw0KICAgIGlmKGltYWdlcy5sZW5ndGg9PTEgfHwgaW1nICYmIGltZy50YWdOYW1lID09ICdJTUcnKXsNCiAgICAgICAgZyhpZCkudmFsdWUgPSBpbWFnZXNbMF07DQogICAgICAgIHJldHVybjsNCiAgICB9DQoJdmFyIHBhdGggPSBpbWFnZXNbMF07DQogICAgdmFyIGxlZnRTbGFzaEluZGV4ICA9IHBhdGgubGFzdEluZGV4T2YoIi8iKXx8MCwgIC8v5LiN5ZCM54mI5pys55qEZG9j5ZKM5rWP6KeI5Zmo6YO95Y+v6IO95b2x5ZON5Yiw6L+Z5Liq56ym5Y+377yM5pWF55u05o6l5Yik5pat5Lik56eNDQogICAgICAgIHJpZ2h0U2xhc2hJbmRleCA9IHBhdGgubGFzdEluZGV4T2YoIlxcIil8fDAsDQogICAgICAgIHNlcGFyYXRlciA9IGxlZnRTbGFzaEluZGV4ID4gcmlnaHRTbGFzaEluZGV4ID8gIi8iOiJcXCIgOw0KDQoJcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGFzdEluZGV4T2Yoc2VwYXJhdGVyKSsxKTsNCglnKGlkKS52YWx1ZSA9IHBhdGg7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUZsYXNoVXBsb2FkZXIob3B0LCBjYWxsYmFja3MpIHsNCiAgICAvL+eUseS6jmxhbmcuZmxhc2hJMThu5piv6Z2Z5oCB5bGe5oCn77yM5LiN5Y+v5Lul55u05o6l6L+b6KGM5L+u5pS577yM5ZCm5YiZ5Lya5b2x5ZON5Yiw5ZCO57ut5YaF5a65DQogICAgdmFyIGkxOG4gPSB1dGlscy5leHRlbmQoe30sbGFuZy5mbGFzaEkxOG4pOw0KICAgIC8v5aSE55CG5Zu+54mH6LWE5rqQ5Zyw5Z2A55qE57yW56CB77yM6KGl5YWo562J6Zeu6aKYDQogICAgZm9yKHZhciBpIGluIGkxOG4pew0KICAgICAgICBpZighKGkgaW4geyJsYW5nIjoxLCJ1cGxvYWRpbmdURiI6MSwiaW1hZ2VURiI6MSwidGV4dEVuY29kaW5nIjoxfSkgJiYgaTE4bltpXSl7DQogICAgICAgICAgICBpMThuW2ldID0gZW5jb2RlVVJJQ29tcG9uZW50KGVkaXRvci5vcHRpb25zLmxhbmdQYXRoICsgZWRpdG9yLm9wdGlvbnMubGFuZyArICIvaW1hZ2VzLyIgKyBpMThuW2ldKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBvcHQgPSB1dGlscy5leHRlbmQob3B0LGkxOG4sZmFsc2UpOw0KCXZhciBvcHRpb24gPSB7DQoJCWNyZWF0ZU9wdGlvbnM6ew0KCQkJaWQ6J2ZsYXNoJywNCgkJCXVybDpvcHQuZmxhc2hVcmwsDQoJCQl3aWR0aDpvcHQud2lkdGgsDQoJCQloZWlnaHQ6b3B0LmhlaWdodCwNCgkJCWVycm9yTWVzc2FnZTpsYW5nLmZsYXNoRXJyb3IsDQoJCQl3bW9kZTpicm93c2VyLnNhZmFyaSA/ICd0cmFuc3BhcmVudCcgOiAnd2luZG93JywNCgkJCXZlcjonMTAuMC4wJywNCgkJCXZhcnM6b3B0LA0KCQkJY29udGFpbmVyOm9wdC5jb250YWluZXINCgkJfQ0KCX07DQoNCglvcHRpb24gPSBleHRlbmRQcm9wZXJ0eShjYWxsYmFja3MsIG9wdGlvbik7DQoJZmxhc2hPYmogPSBuZXcgYmFpZHUuZmxhc2guaW1hZ2VVcGxvYWRlcihvcHRpb24pOw0KICAgIGZsYXNoQ29udGFpbmVyID0gJEcob3B0LmNvbnRhaW5lcik7DQp9DQoNCmZ1bmN0aW9uIGV4dGVuZFByb3BlcnR5KGZyb21PYmosIHRvT2JqKSB7DQoJZm9yICh2YXIgaSBpbiBmcm9tT2JqKSB7DQoJCWlmICghdG9PYmpbaV0pIHsNCgkJCXRvT2JqW2ldID0gZnJvbU9ialtpXTsNCgkJfQ0KCX0NCglyZXR1cm4gdG9PYmo7DQp9DQoNCi8vfSkoKTsNCg0KZnVuY3Rpb24gZ2V0UGFzdGVEYXRhKGlkKSB7DQoJYmFpZHUuZygibXNnIikuaW5uZXJIVE1MID0gbGFuZy5jb3B5U3VjY2VzcyArICI8L2JyPiI7DQoJc2V0VGltZW91dChmdW5jdGlvbigpIHsNCgkJYmFpZHUuZygibXNnIikuaW5uZXJIVE1MID0gIiI7DQoJfSwgNTAwMCk7DQoJcmV0dXJuIGJhaWR1LmcoaWQpLnZhbHVlOw0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVDb3B5QnV0dG9uKGlkLCBkYXRhRnJvbSkgew0KCWJhaWR1LnN3Zi5jcmVhdGUoew0KCQkJaWQ6ImNvcHlGbGFzaCIsDQoJCQl1cmw6ImZDbGlwYm9hcmRfdWVkaXRvci5zd2YiLA0KCQkJd2lkdGg6IjU4IiwNCgkJCWhlaWdodDoiMjUiLA0KCQkJZXJyb3JNZXNzYWdlOiIiLA0KCQkJYmdDb2xvcjoiI0NCQ0JDQiIsDQoJCQl3bW9kZToidHJhbnNwYXJlbnQiLA0KCQkJdmVyOiIxMC4wLjAiLA0KCQkJdmFyczp7DQoJCQkJdGlkOmRhdGFGcm9tDQoJCQl9DQoJCX0sIGlkDQoJKTsNCg0KCXZhciBjbGlwYm9hcmQgPSBiYWlkdS5zd2YuZ2V0TW92aWUoImNvcHlGbGFzaCIpOw0KCXZhciBjbGlwaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsNCgkJaWYgKGNsaXBib2FyZCAmJiBjbGlwYm9hcmQuZmxhc2hJbml0KSB7DQoJCQljbGVhckludGVydmFsKGNsaXBpbnRlcnZhbCk7DQoJCQljbGlwYm9hcmQuc2V0SGFuZEN1cnNvcih0cnVlKTsNCgkJCWNsaXBib2FyZC5zZXRDb250ZW50RnVuY05hbWUoImdldFBhc3RlRGF0YSIpOw0KCQkJLy9jbGlwYm9hcmQuc2V0TUVGdW5jTmFtZSgibW91c2VFdmVudEhhbmRsZXIiKTsNCgkJfQ0KDQoJfSwgNTAwKTsNCn0NCmNyZWF0ZUNvcHlCdXR0b24oImNsaXBib2FyZCIsICJsb2NhbFBhdGgiKTs=</file>
	<file name='zb_system\ADMIN\ueditor\third-party\SyntaxHighlighter\shCore.pack.js' crc32='B7ECD0AD'  dt:dt='bin.base64'>dmFyIFhSZWdFeHA7aWYoWFJlZ0V4cCl7dGhyb3cgRXJyb3IoImNhbid0IGxvYWQgWFJlZ0V4cCB0d2ljZSBpbiB0aGUgc2FtZSBmcmFtZSIpfShmdW5jdGlvbihkKXtYUmVnRXhwPWZ1bmN0aW9uKHcscil7dmFyIHE9W10sdT1YUmVnRXhwLk9VVFNJREVfQ0xBU1MseD0wLHAscyx2LHQseTtpZihYUmVnRXhwLmlzUmVnRXhwKHcpKXtpZihyIT09ZCl7dGhyb3cgVHlwZUVycm9yKCJjYW4ndCBzdXBwbHkgZmxhZ3Mgd2hlbiBjb25zdHJ1Y3Rpbmcgb25lIFJlZ0V4cCBmcm9tIGFub3RoZXIiKX1yZXR1cm4gaih3KX1pZihnKXt0aHJvdyBFcnJvcigiY2FuJ3QgY2FsbCB0aGUgWFJlZ0V4cCBjb25zdHJ1Y3RvciB3aXRoaW4gdG9rZW4gZGVmaW5pdGlvbiBmdW5jdGlvbnMiKX1yPXJ8fCIiO3A9e2hhc05hbWVkQ2FwdHVyZTpmYWxzZSxjYXB0dXJlTmFtZXM6W10saGFzRmxhZzpmdW5jdGlvbih6KXtyZXR1cm4gci5pbmRleE9mKHopPi0xfSxzZXRGbGFnOmZ1bmN0aW9uKHope3IrPXp9fTt3aGlsZSh4PHcubGVuZ3RoKXtzPW8odyx4LHUscCk7aWYocyl7cS5wdXNoKHMub3V0cHV0KTt4Kz0ocy5tYXRjaFswXS5sZW5ndGh8fDEpfWVsc2V7aWYodj1sLmV4ZWMuY2FsbChpW3VdLHcuc2xpY2UoeCkpKXtxLnB1c2godlswXSk7eCs9dlswXS5sZW5ndGh9ZWxzZXt0PXcuY2hhckF0KHgpO2lmKHQ9PT0iWyIpe3U9WFJlZ0V4cC5JTlNJREVfQ0xBU1N9ZWxzZXtpZih0PT09Il0iKXt1PVhSZWdFeHAuT1VUU0lERV9DTEFTU319cS5wdXNoKHQpO3grK319fXk9UmVnRXhwKHEuam9pbigiIiksbC5yZXBsYWNlLmNhbGwocixoLCIiKSk7eS5feHJlZ2V4cD17c291cmNlOncsY2FwdHVyZU5hbWVzOnAuaGFzTmFtZWRDYXB0dXJlP3AuY2FwdHVyZU5hbWVzOm51bGx9O3JldHVybiB5fTtYUmVnRXhwLnZlcnNpb249IjEuNS4xIjtYUmVnRXhwLklOU0lERV9DTEFTUz0xO1hSZWdFeHAuT1VUU0lERV9DTEFTUz0yO3ZhciBjPS9cJCg/OihcZFxkP3xbJCZgJ10pfHsoWyRcd10rKX0pL2csaD0vW15naW15XSt8KFtcc1xTXSkoPz1bXHNcU10qXDEpL2csbj0vXig/Ols/KitdfHtcZCsoPzosXGQqKT99KVw/Py8sZz1mYWxzZSxrPVtdLGw9e2V4ZWM6UmVnRXhwLnByb3RvdHlwZS5leGVjLHRlc3Q6UmVnRXhwLnByb3RvdHlwZS50ZXN0LG1hdGNoOlN0cmluZy5wcm90b3R5cGUubWF0Y2gscmVwbGFjZTpTdHJpbmcucHJvdG90eXBlLnJlcGxhY2Usc3BsaXQ6U3RyaW5nLnByb3RvdHlwZS5zcGxpdH0sYT1sLmV4ZWMuY2FsbCgvKCk/Py8sIiIpWzFdPT09ZCxmPWZ1bmN0aW9uKCl7dmFyIHA9L14vZztsLnRlc3QuY2FsbChwLCIiKTtyZXR1cm4gIXAubGFzdEluZGV4fSgpLGI9UmVnRXhwLnByb3RvdHlwZS5zdGlja3khPT1kLGk9e307aVtYUmVnRXhwLklOU0lERV9DTEFTU109L14oPzpcXCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddP3x4W1xkQS1GYS1mXXsyfXx1W1xkQS1GYS1mXXs0fXxjW0EtWmEtel18W1xzXFNdKSkvO2lbWFJlZ0V4cC5PVVRTSURFX0NMQVNTXT0vXig/OlxcKD86MCg/OlswLTNdWzAtN117MCwyfXxbNC03XVswLTddPyk/fFsxLTldXGQqfHhbXGRBLUZhLWZdezJ9fHVbXGRBLUZhLWZdezR9fGNbQS1aYS16XXxbXHNcU10pfFwoXD9bOj0hXXxbPyorXVw/fHtcZCsoPzosXGQqKT99XD8/KS87WFJlZ0V4cC5hZGRUb2tlbj1mdW5jdGlvbihzLHIscSxwKXtrLnB1c2goe3BhdHRlcm46aihzLCJnIisoYj8ieSI6IiIpKSxoYW5kbGVyOnIsc2NvcGU6cXx8WFJlZ0V4cC5PVVRTSURFX0NMQVNTLHRyaWdnZXI6cHx8bnVsbH0pfTtYUmVnRXhwLmNhY2hlPWZ1bmN0aW9uKHIscCl7dmFyIHE9cisiLyIrKHB8fCIiKTtyZXR1cm4gWFJlZ0V4cC5jYWNoZVtxXXx8KFhSZWdFeHAuY2FjaGVbcV09WFJlZ0V4cChyLHApKX07WFJlZ0V4cC5jb3B5QXNHbG9iYWw9ZnVuY3Rpb24ocCl7cmV0dXJuIGoocCwiZyIpfTtYUmVnRXhwLmVzY2FwZT1mdW5jdGlvbihwKXtyZXR1cm4gcC5yZXBsYWNlKC9bLVtcXXt9KCkqKz8uLFxcXiR8I1xzXS9nLCJcXCQmIil9O1hSZWdFeHAuZXhlY0F0PWZ1bmN0aW9uKHQscyx1LHIpe3ZhciBwPWoocywiZyIrKChyJiZiKT8ieSI6IiIpKSxxO3AubGFzdEluZGV4PXU9dXx8MDtxPXAuZXhlYyh0KTtpZihyJiZxJiZxLmluZGV4IT09dSl7cT1udWxsfWlmKHMuZ2xvYmFsKXtzLmxhc3RJbmRleD1xP3AubGFzdEluZGV4OjB9cmV0dXJuIHF9O1hSZWdFeHAuZnJlZXplVG9rZW5zPWZ1bmN0aW9uKCl7WFJlZ0V4cC5hZGRUb2tlbj1mdW5jdGlvbigpe3Rocm93IEVycm9yKCJjYW4ndCBydW4gYWRkVG9rZW4gYWZ0ZXIgZnJlZXplVG9rZW5zIil9fTtYUmVnRXhwLmlzUmVnRXhwPWZ1bmN0aW9uKHApe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocCk9PT0iW29iamVjdCBSZWdFeHBdIn07WFJlZ0V4cC5pdGVyYXRlPWZ1bmN0aW9uKHUsdCx2LHMpe3ZhciBwPWoodCwiZyIpLHI9LTEscTt3aGlsZShxPXAuZXhlYyh1KSl7aWYodC5nbG9iYWwpe3QubGFzdEluZGV4PXAubGFzdEluZGV4fXYuY2FsbChzLHEsKytyLHUsdCk7aWYocC5sYXN0SW5kZXg9PT1xLmluZGV4KXtwLmxhc3RJbmRleCsrfX1pZih0Lmdsb2JhbCl7dC5sYXN0SW5kZXg9MH19O1hSZWdFeHAubWF0Y2hDaGFpbj1mdW5jdGlvbihxLHApe3JldHVybiBmdW5jdGlvbiByKHMseCl7dmFyIHY9cFt4XS5yZWdleD9wW3hdOntyZWdleDpwW3hdfSx1PWoodi5yZWdleCwiZyIpLHc9W10sdDtmb3IodD0wO3Q8cy5sZW5ndGg7dCsrKXtYUmVnRXhwLml0ZXJhdGUoc1t0XSx1LGZ1bmN0aW9uKHkpe3cucHVzaCh2LmJhY2tyZWY/KHlbdi5iYWNrcmVmXXx8IiIpOnlbMF0pfSl9cmV0dXJuKCh4PT09cC5sZW5ndGgtMSl8fCF3Lmxlbmd0aCk/dzpyKHcseCsxKX0oW3FdLDApfTtSZWdFeHAucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHEscCl7cmV0dXJuIHRoaXMuZXhlYyhwWzBdKX07UmVnRXhwLnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHAscSl7cmV0dXJuIHRoaXMuZXhlYyhxKX07UmVnRXhwLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHUpe3ZhciBzLHIscSxwO2lmKCF0aGlzLmdsb2JhbCl7cD10aGlzLmxhc3RJbmRleH1zPWwuZXhlYy5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYocyl7aWYoIWEmJnMubGVuZ3RoPjEmJm0ocywiIik+LTEpe3E9UmVnRXhwKHRoaXMuc291cmNlLGwucmVwbGFjZS5jYWxsKGUodGhpcyksImciLCIiKSk7bC5yZXBsYWNlLmNhbGwoKHUrIiIpLnNsaWNlKHMuaW5kZXgpLHEsZnVuY3Rpb24oKXtmb3IodmFyIHY9MTt2PGFyZ3VtZW50cy5sZW5ndGgtMjt2Kyspe2lmKGFyZ3VtZW50c1t2XT09PWQpe3Nbdl09ZH19fSl9aWYodGhpcy5feHJlZ2V4cCYmdGhpcy5feHJlZ2V4cC5jYXB0dXJlTmFtZXMpe2Zvcih2YXIgdD0xO3Q8cy5sZW5ndGg7dCsrKXtyPXRoaXMuX3hyZWdleHAuY2FwdHVyZU5hbWVzW3QtMV07aWYocil7c1tyXT1zW3RdfX19aWYoIWYmJnRoaXMuZ2xvYmFsJiYhc1swXS5sZW5ndGgmJih0aGlzLmxhc3RJbmRleD5zLmluZGV4KSl7dGhpcy5sYXN0SW5kZXgtLX19aWYoIXRoaXMuZ2xvYmFsKXt0aGlzLmxhc3RJbmRleD1wfXJldHVybiBzfTtSZWdFeHAucHJvdG90eXBlLnRlc3Q9ZnVuY3Rpb24ocil7dmFyIHEscDtpZighdGhpcy5nbG9iYWwpe3A9dGhpcy5sYXN0SW5kZXh9cT1sLmV4ZWMuY2FsbCh0aGlzLHIpO2lmKHEmJiFmJiZ0aGlzLmdsb2JhbCYmIXFbMF0ubGVuZ3RoJiYodGhpcy5sYXN0SW5kZXg+cS5pbmRleCkpe3RoaXMubGFzdEluZGV4LS19aWYoIXRoaXMuZ2xvYmFsKXt0aGlzLmxhc3RJbmRleD1wfXJldHVybiAhIXF9O1N0cmluZy5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24ocSl7aWYoIVhSZWdFeHAuaXNSZWdFeHAocSkpe3E9UmVnRXhwKHEpfWlmKHEuZ2xvYmFsKXt2YXIgcD1sLm1hdGNoLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtxLmxhc3RJbmRleD0wO3JldHVybiBwfXJldHVybiBxLmV4ZWModGhpcyl9O1N0cmluZy5wcm90b3R5cGUucmVwbGFjZT1mdW5jdGlvbihzLHQpe3ZhciB1PVhSZWdFeHAuaXNSZWdFeHAocykscixxLHYscDtpZih1KXtpZihzLl94cmVnZXhwKXtyPXMuX3hyZWdleHAuY2FwdHVyZU5hbWVzfWlmKCFzLmdsb2JhbCl7cD1zLmxhc3RJbmRleH19ZWxzZXtzPXMrIiJ9aWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09IltvYmplY3QgRnVuY3Rpb25dIil7cT1sLnJlcGxhY2UuY2FsbCh0aGlzKyIiLHMsZnVuY3Rpb24oKXtpZihyKXthcmd1bWVudHNbMF09bmV3IFN0cmluZyhhcmd1bWVudHNbMF0pO2Zvcih2YXIgdz0wO3c8ci5sZW5ndGg7dysrKXtpZihyW3ddKXthcmd1bWVudHNbMF1bclt3XV09YXJndW1lbnRzW3crMV19fX1pZih1JiZzLmdsb2JhbCl7cy5sYXN0SW5kZXg9YXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGgtMl0rYXJndW1lbnRzWzBdLmxlbmd0aH1yZXR1cm4gdC5hcHBseShudWxsLGFyZ3VtZW50cyl9KX1lbHNle3Y9dGhpcysiIjtxPWwucmVwbGFjZS5jYWxsKHYscyxmdW5jdGlvbigpe3ZhciB3PWFyZ3VtZW50cztyZXR1cm4gbC5yZXBsYWNlLmNhbGwodCsiIixjLGZ1bmN0aW9uKHkseCxCKXtpZih4KXtzd2l0Y2goeCl7Y2FzZSIkIjpyZXR1cm4iJCI7Y2FzZSImIjpyZXR1cm4gd1swXTtjYXNlImAiOnJldHVybiB3W3cubGVuZ3RoLTFdLnNsaWNlKDAsd1t3Lmxlbmd0aC0yXSk7Y2FzZSInIjpyZXR1cm4gd1t3Lmxlbmd0aC0xXS5zbGljZSh3W3cubGVuZ3RoLTJdK3dbMF0ubGVuZ3RoKTtkZWZhdWx0OnZhciB6PSIiO3g9K3g7aWYoIXgpe3JldHVybiB5fXdoaWxlKHg+dy5sZW5ndGgtMyl7ej1TdHJpbmcucHJvdG90eXBlLnNsaWNlLmNhbGwoeCwtMSkrejt4PU1hdGguZmxvb3IoeC8xMCl9cmV0dXJuKHg/d1t4XXx8IiI6IiQiKSt6fX1lbHNle3ZhciBBPStCO2lmKEE8PXcubGVuZ3RoLTMpe3JldHVybiB3W0FdfUE9cj9tKHIsQik6LTE7cmV0dXJuIEE+LTE/d1tBKzFdOnl9fSl9KX1pZih1KXtpZihzLmdsb2JhbCl7cy5sYXN0SW5kZXg9MH1lbHNle3MubGFzdEluZGV4PXB9fXJldHVybiBxfTtTdHJpbmcucHJvdG90eXBlLnNwbGl0PWZ1bmN0aW9uKHUscCl7aWYoIVhSZWdFeHAuaXNSZWdFeHAodSkpe3JldHVybiBsLnNwbGl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdz10aGlzKyIiLHI9W10sdj0wLHQscTtpZihwPT09ZHx8K3A8MCl7cD1JbmZpbml0eX1lbHNle3A9TWF0aC5mbG9vcigrcCk7aWYoIXApe3JldHVybltdfX11PVhSZWdFeHAuY29weUFzR2xvYmFsKHUpO3doaWxlKHQ9dS5leGVjKHcpKXtpZih1Lmxhc3RJbmRleD52KXtyLnB1c2gody5zbGljZSh2LHQuaW5kZXgpKTtpZih0Lmxlbmd0aD4xJiZ0LmluZGV4PHcubGVuZ3RoKXtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShyLHQuc2xpY2UoMSkpfXE9dFswXS5sZW5ndGg7dj11Lmxhc3RJbmRleDtpZihyLmxlbmd0aD49cCl7YnJlYWt9fWlmKHUubGFzdEluZGV4PT09dC5pbmRleCl7dS5sYXN0SW5kZXgrK319aWYodj09PXcubGVuZ3RoKXtpZighbC50ZXN0LmNhbGwodSwiIil8fHEpe3IucHVzaCgiIil9fWVsc2V7ci5wdXNoKHcuc2xpY2UodikpfXJldHVybiByLmxlbmd0aD5wP3Iuc2xpY2UoMCxwKTpyfTtmdW5jdGlvbiBqKHIscSl7aWYoIVhSZWdFeHAuaXNSZWdFeHAocikpe3Rocm93IFR5cGVFcnJvcigidHlwZSBSZWdFeHAgZXhwZWN0ZWQiKX12YXIgcD1yLl94cmVnZXhwO3I9WFJlZ0V4cChyLnNvdXJjZSxlKHIpKyhxfHwiIikpO2lmKHApe3IuX3hyZWdleHA9e3NvdXJjZTpwLnNvdXJjZSxjYXB0dXJlTmFtZXM6cC5jYXB0dXJlTmFtZXM/cC5jYXB0dXJlTmFtZXMuc2xpY2UoMCk6bnVsbH19cmV0dXJuIHJ9ZnVuY3Rpb24gZShwKXtyZXR1cm4ocC5nbG9iYWw/ImciOiIiKSsocC5pZ25vcmVDYXNlPyJpIjoiIikrKHAubXVsdGlsaW5lPyJtIjoiIikrKHAuZXh0ZW5kZWQ/IngiOiIiKSsocC5zdGlja3k/InkiOiIiKX1mdW5jdGlvbiBvKHYsdSx3LHApe3ZhciByPWsubGVuZ3RoLHkscyx4O2c9dHJ1ZTt0cnl7d2hpbGUoci0tKXt4PWtbcl07aWYoKHcmeC5zY29wZSkmJigheC50cmlnZ2VyfHx4LnRyaWdnZXIuY2FsbChwKSkpe3gucGF0dGVybi5sYXN0SW5kZXg9dTtzPXgucGF0dGVybi5leGVjKHYpO2lmKHMmJnMuaW5kZXg9PT11KXt5PXtvdXRwdXQ6eC5oYW5kbGVyLmNhbGwocCxzLHcpLG1hdGNoOnN9O2JyZWFrfX19fWNhdGNoKHEpe3Rocm93IHF9ZmluYWxseXtnPWZhbHNlfXJldHVybiB5fWZ1bmN0aW9uIG0ocyxxLHIpe2lmKEFycmF5LnByb3RvdHlwZS5pbmRleE9mKXtyZXR1cm4gcy5pbmRleE9mKHEscil9Zm9yKHZhciBwPXJ8fDA7cDxzLmxlbmd0aDtwKyspe2lmKHNbcF09PT1xKXtyZXR1cm4gcH19cmV0dXJuIC0xfVhSZWdFeHAuYWRkVG9rZW4oL1woXD8jW14pXSpcKS8sZnVuY3Rpb24ocCl7cmV0dXJuIGwudGVzdC5jYWxsKG4scC5pbnB1dC5zbGljZShwLmluZGV4K3BbMF0ubGVuZ3RoKSk/IiI6Iig/OikifSk7WFJlZ0V4cC5hZGRUb2tlbigvXCgoPyFcPykvLGZ1bmN0aW9uKCl7dGhpcy5jYXB0dXJlTmFtZXMucHVzaChudWxsKTtyZXR1cm4iKCJ9KTtYUmVnRXhwLmFkZFRva2VuKC9cKFw/PChbJFx3XSspPi8sZnVuY3Rpb24ocCl7dGhpcy5jYXB0dXJlTmFtZXMucHVzaChwWzFdKTt0aGlzLmhhc05hbWVkQ2FwdHVyZT10cnVlO3JldHVybiIoIn0pO1hSZWdFeHAuYWRkVG9rZW4oL1xcazwoW1x3JF0rKT4vLGZ1bmN0aW9uKHEpe3ZhciBwPW0odGhpcy5jYXB0dXJlTmFtZXMscVsxXSk7cmV0dXJuIHA+LTE/IlxcIisocCsxKSsoaXNOYU4ocS5pbnB1dC5jaGFyQXQocS5pbmRleCtxWzBdLmxlbmd0aCkpPyIiOiIoPzopIik6cVswXX0pO1hSZWdFeHAuYWRkVG9rZW4oL1xbXF4/XS8sZnVuY3Rpb24ocCl7cmV0dXJuIHBbMF09PT0iW10iPyJcXGJcXEIiOiJbXFxzXFxTXSJ9KTtYUmVnRXhwLmFkZFRva2VuKC9eXChcPyhbaW1zeF0rKVwpLyxmdW5jdGlvbihwKXt0aGlzLnNldEZsYWcocFsxXSk7cmV0dXJuIiJ9KTtYUmVnRXhwLmFkZFRva2VuKC8oPzpccyt8Iy4qKSsvLGZ1bmN0aW9uKHApe3JldHVybiBsLnRlc3QuY2FsbChuLHAuaW5wdXQuc2xpY2UocC5pbmRleCtwWzBdLmxlbmd0aCkpPyIiOiIoPzopIn0sWFJlZ0V4cC5PVVRTSURFX0NMQVNTLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRmxhZygieCIpfSk7WFJlZ0V4cC5hZGRUb2tlbigvXC4vLGZ1bmN0aW9uKCl7cmV0dXJuIltcXHNcXFNdIn0sWFJlZ0V4cC5PVVRTSURFX0NMQVNTLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzRmxhZygicyIpfSl9KSgpO2lmKHR5cGVvZihTeW50YXhIaWdobGlnaHRlcik9PSJ1bmRlZmluZWQiKXt2YXIgU3ludGF4SGlnaGxpZ2h0ZXI9ZnVuY3Rpb24oKXtpZih0eXBlb2YocmVxdWlyZSkhPSJ1bmRlZmluZWQiJiZ0eXBlb2YoWFJlZ0V4cCk9PSJ1bmRlZmluZWQiKXtYUmVnRXhwPXJlcXVpcmUoIlhSZWdFeHAiKS5YUmVnRXhwfXZhciBsPXtkZWZhdWx0czp7ImNsYXNzLW5hbWUiOiIiLCJmaXJzdC1saW5lIjoxLCJwYWQtbGluZS1udW1iZXJzIjpmYWxzZSxoaWdobGlnaHQ6ZmFsc2UsdGl0bGU6bnVsbCwic21hcnQtdGFicyI6dHJ1ZSwidGFiLXNpemUiOjQsZ3V0dGVyOnRydWUsdG9vbGJhcjp0cnVlLCJxdWljay1jb2RlIjp0cnVlLGNvbGxhcHNlOmZhbHNlLCJhdXRvLWxpbmtzIjpmYWxzZSxsaWdodDpmYWxzZSx1bmluZGVudDp0cnVlLCJodG1sLXNjcmlwdCI6ZmFsc2V9LGNvbmZpZzp7c3BhY2U6IiZuYnNwOyIsdXNlU2NyaXB0VGFnczp0cnVlLGJsb2dnZXJNb2RlOmZhbHNlLHN0cmlwQnJzOmZhbHNlLHRhZ05hbWU6InByZSIsc3RyaW5nczp7ZXhwYW5kU291cmNlOiJleHBhbmQgc291cmNlIixoZWxwOiI/IixhbGVydDoiU3ludGF4SGlnaGxpZ2h0ZXJcblxuIixub0JydXNoOiJDYW4ndCBmaW5kIGJydXNoIGZvcjogIixicnVzaE5vdEh0bWxTY3JpcHQ6IkJydXNoIHdhc24ndCBjb25maWd1cmVkIGZvciBodG1sLXNjcmlwdCBvcHRpb246ICIsYWJvdXREaWFsb2c6IkBBQk9VVEAifX0sdmFyczp7ZGlzY292ZXJlZEJydXNoZXM6bnVsbCxoaWdobGlnaHRlcnM6e319LGJydXNoZXM6e30scmVnZXhMaWI6e211bHRpTGluZUNDb21tZW50czovXC9cKltcc1xTXSo/XCpcLy9nbSxzaW5nbGVMaW5lQ0NvbW1lbnRzOi9cL1wvLiokL2dtLHNpbmdsZUxpbmVQZXJsQ29tbWVudHM6LyMuKiQvZ20sZG91YmxlUXVvdGVkU3RyaW5nOi8iKFteXFwiXG5dfFxcLikqIi9nLHNpbmdsZVF1b3RlZFN0cmluZzovJyhbXlxcJ1xuXXxcXC4pKicvZyxtdWx0aUxpbmVEb3VibGVRdW90ZWRTdHJpbmc6bmV3IFhSZWdFeHAoJyIoW15cXFxcIl18XFxcXC4pKiInLCJncyIpLG11bHRpTGluZVNpbmdsZVF1b3RlZFN0cmluZzpuZXcgWFJlZ0V4cCgiJyhbXlxcXFwnXXxcXFxcLikqJyIsImdzIikseG1sQ29tbWVudHM6LygmbHQ7fDwpIS0tW1xzXFNdKj8tLSgmZ3Q7fD4pL2dtLHVybDovXHcrOlwvXC9bXHctLlwvPyUmPTpAOyNdKi9nLHBocFNjcmlwdFRhZ3M6e2xlZnQ6LygmbHQ7fDwpXD8oPzo9fHBocCk/L2cscmlnaHQ6L1w/KCZndDt8PikvZyxlb2Y6dHJ1ZX0sYXNwU2NyaXB0VGFnczp7bGVmdDovKCZsdDt8PCklPT8vZyxyaWdodDovJSgmZ3Q7fD4pL2d9LHNjcmlwdFNjcmlwdFRhZ3M6e2xlZnQ6LygmbHQ7fDwpXHMqc2NyaXB0Lio/KCZndDt8PikvZ2kscmlnaHQ6LygmbHQ7fDwpXC9ccypzY3JpcHRccyooJmd0O3w+KS9naX19LHRvb2xiYXI6e2dldEh0bWw6ZnVuY3Rpb24oTCl7dmFyIE49JzxkaXYgY2xhc3M9InRvb2xiYXIiPicsSz1sLnRvb2xiYXIuaXRlbXMsUD1LLmxpc3Q7ZnVuY3Rpb24gTyhSLFEpe3JldHVybiBsLnRvb2xiYXIuZ2V0QnV0dG9uSHRtbChSLFEsbC5jb25maWcuc3RyaW5nc1tRXSl9Zm9yKHZhciBNPTA7TTxQLmxlbmd0aDtNKyspe04rPShLW1BbTV1dLmdldEh0bWx8fE8pKEwsUFtNXSl9Tis9IjwvZGl2PiI7cmV0dXJuIE59LGdldEJ1dHRvbkh0bWw6ZnVuY3Rpb24oTCxNLEspe3JldHVybic8c3Bhbj48YSBocmVmPSIjIiBjbGFzcz0idG9vbGJhcl9pdGVtIGNvbW1hbmRfJytNKyIgIitNKyciPicrSysiPC9hPjwvc3Bhbj4ifSxoYW5kbGVyOmZ1bmN0aW9uKFApe3ZhciBPPVAudGFyZ2V0LE49Ty5jbGFzc05hbWV8fCIiO2Z1bmN0aW9uIEsoUil7dmFyIFM9bmV3IFJlZ0V4cChSKyJfKFxcdyspIiksUT1TLmV4ZWMoTik7cmV0dXJuIFE/UVsxXTpudWxsfXZhciBMPXMoQihPLCIuc3ludGF4aGlnaGxpZ2h0ZXIiKS5pZCksTT1LKCJjb21tYW5kIik7aWYoTCYmTSl7bC50b29sYmFyLml0ZW1zW01dLmV4ZWN1dGUoTCl9UC5wcmV2ZW50RGVmYXVsdCgpfSxpdGVtczp7bGlzdDpbImV4cGFuZFNvdXJjZSIsImhlbHAiXSxleHBhbmRTb3VyY2U6e2dldEh0bWw6ZnVuY3Rpb24oSyl7aWYoSy5nZXRQYXJhbSgiY29sbGFwc2UiKSE9dHJ1ZSl7cmV0dXJuIiJ9dmFyIEw9Sy5nZXRQYXJhbSgidGl0bGUiKTtyZXR1cm4gbC50b29sYmFyLmdldEJ1dHRvbkh0bWwoSywiZXhwYW5kU291cmNlIixMP0w6bC5jb25maWcuc3RyaW5ncy5leHBhbmRTb3VyY2UpfSxleGVjdXRlOmZ1bmN0aW9uKEspe3ZhciBMPUkoSy5pZCk7aihMLCJjb2xsYXBzZWQiKX19LGhlbHA6e2V4ZWN1dGU6ZnVuY3Rpb24oSyl7dmFyIEw9dygiIiwiX2JsYW5rIiw1MDAsMjUwLCJzY3JvbGxiYXJzPTAiKSxNPUwuZG9jdW1lbnQ7TS53cml0ZShsLmNvbmZpZy5zdHJpbmdzLmFib3V0RGlhbG9nKTtNLmNsb3NlKCk7TC5mb2N1cygpfX19fSxmaW5kRWxlbWVudHM6ZnVuY3Rpb24oTyxOKXt2YXIgUT1OP1tOXTpyKGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKGwuY29uZmlnLnRhZ05hbWUpKSxMPWwuY29uZmlnLEs9W107aWYoTC51c2VTY3JpcHRUYWdzKXtRPVEuY29uY2F0KEooKSl9aWYoUS5sZW5ndGg9PT0wKXtyZXR1cm4gS31mb3IodmFyIE09MDtNPFEubGVuZ3RoO00rKyl7dmFyIFA9e3RhcmdldDpRW01dLHBhcmFtczpBKE8sbyhRW01dLmNsYXNzTmFtZSkpfTtpZihQLnBhcmFtcy5icnVzaD09bnVsbCl7Y29udGludWV9Sy5wdXNoKFApfXJldHVybiBLfSxoaWdobGlnaHQ6ZnVuY3Rpb24oUSxPKXt2YXIgSz10aGlzLmZpbmRFbGVtZW50cyhRLE8pLFI9ImlubmVySFRNTCIsVj1udWxsLFQ9bC5jb25maWc7aWYoSy5sZW5ndGg9PT0wKXtyZXR1cm59Zm9yKHZhciBQPTA7UDxLLmxlbmd0aDtQKyspe3ZhciBPPUtbUF0sUz1PLnRhcmdldCxNPU8ucGFyYW1zLFc9TS5icnVzaCxMO2lmKFc9PW51bGwpe2NvbnRpbnVlfWlmKE1bImh0bWwtc2NyaXB0Il09PSJ0cnVlInx8bC5kZWZhdWx0c1siaHRtbC1zY3JpcHQiXT09dHJ1ZSl7Vj1uZXcgbC5IdG1sU2NyaXB0KFcpO1c9Imh0bWxzY3JpcHQifWVsc2V7dmFyIFU9ZyhXKTtpZihVKXtWPW5ldyBVKCl9ZWxzZXtjb250aW51ZX19TD1TW1JdO2lmKFQudXNlU2NyaXB0VGFncyl7TD1DKEwpfWlmKChTLnRpdGxlfHwiIikhPSIiKXtNLnRpdGxlPVMudGl0bGV9TS5icnVzaD1XO1YuaW5pdChNKTtPPVYuZ2V0RGl2KEwpO2lmKChTLmlkfHwiIikhPSIiKXtPLmlkPVMuaWR9dmFyIE49Ty5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7Ti5jbGFzc05hbWU9Ty5maXJzdENoaWxkLmNsYXNzTmFtZTtTLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKE4sUyl9fSxhbGw6ZnVuY3Rpb24oSyl7Zih3aW5kb3csImxvYWQiLGZ1bmN0aW9uKCl7bC5oaWdobGlnaHQoSyl9KX19O2Z1bmN0aW9uIEQoTCxLKXtyZXR1cm4gTC5jbGFzc05hbWUuaW5kZXhPZihLKSE9LTF9ZnVuY3Rpb24gdChMLEspe2lmKCFEKEwsSykpe0wuY2xhc3NOYW1lKz0iICIrS319ZnVuY3Rpb24gaihMLEspe0wuY2xhc3NOYW1lPUwuY2xhc3NOYW1lLnJlcGxhY2UoSywiIil9ZnVuY3Rpb24gcihNKXt2YXIgSz1bXTtmb3IodmFyIEw9MDtMPE0ubGVuZ3RoO0wrKyl7Sy5wdXNoKE1bTF0pfXJldHVybiBLfWZ1bmN0aW9uIHYoSyl7cmV0dXJuIEsuc3BsaXQoL1xyP1xuLyl9ZnVuY3Rpb24gRShMKXt2YXIgSz0iaGlnaGxpZ2h0ZXJfIjtyZXR1cm4gTC5pbmRleE9mKEspPT0wP0w6SytMfWZ1bmN0aW9uIHMoSyl7cmV0dXJuIGwudmFycy5oaWdobGlnaHRlcnNbRShLKV19ZnVuY3Rpb24gSShLKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoRShLKSl9ZnVuY3Rpb24gbihLKXtsLnZhcnMuaGlnaGxpZ2h0ZXJzW0UoSy5pZCldPUt9ZnVuY3Rpb24gaChSLE8sTSl7aWYoUj09bnVsbCl7cmV0dXJuIG51bGx9dmFyIEw9TSE9dHJ1ZT9SLmNoaWxkTm9kZXM6W1IucGFyZW50Tm9kZV0sUD17IiMiOiJpZCIsIi4iOiJjbGFzc05hbWUifVtPLnN1YnN0cigwLDEpXXx8Im5vZGVOYW1lIixLLFE7Sz1QIT0ibm9kZU5hbWUiP08uc3Vic3RyKDEpOk8udG9VcHBlckNhc2UoKTtpZigoUltQXXx8IiIpLmluZGV4T2YoSykhPS0xKXtyZXR1cm4gUn1mb3IodmFyIE49MDtMJiZOPEwubGVuZ3RoJiZRPT1udWxsO04rKyl7UT1oKExbTl0sTyxNKX1yZXR1cm4gUX1mdW5jdGlvbiBCKEwsSyl7cmV0dXJuIGgoTCxLLHRydWUpfWZ1bmN0aW9uIGsoTixLLE0pe009TWF0aC5tYXgoTXx8MCwwKTtmb3IodmFyIEw9TTtMPE4ubGVuZ3RoO0wrKyl7aWYoTltMXT09Syl7cmV0dXJuIEx9fXJldHVybiAtMX1mdW5jdGlvbiBwKEspe3JldHVybihLfHwiIikrTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKjEwMDAwMDApLnRvU3RyaW5nKCl9ZnVuY3Rpb24gQShOLE0pe3ZhciBLPXt9LEw7Zm9yKEwgaW4gTil7S1tMXT1OW0xdfWZvcihMIGluIE0pe0tbTF09TVtMXX1yZXR1cm4gS31mdW5jdGlvbiBkKEwpe3ZhciBLPXsidHJ1ZSI6dHJ1ZSwiZmFsc2UiOmZhbHNlfVtMXTtyZXR1cm4gSz09bnVsbD9MOkt9ZnVuY3Rpb24gdyhPLE4sUCxMLE0pe3ZhciBLPShzY3JlZW4ud2lkdGgtUCkvMixSPShzY3JlZW4uaGVpZ2h0LUwpLzI7TSs9IiwgbGVmdD0iK0srIiwgdG9wPSIrUisiLCB3aWR0aD0iK1ArIiwgaGVpZ2h0PSIrTDtNPU0ucmVwbGFjZSgvXiwvLCIiKTt2YXIgUT13aW5kb3cub3BlbihPLE4sTSk7US5mb2N1cygpO3JldHVybiBRfWZ1bmN0aW9uIGYoTyxNLE4sTCl7ZnVuY3Rpb24gSyhQKXtQPVB8fHdpbmRvdy5ldmVudDtpZighUC50YXJnZXQpe1AudGFyZ2V0PVAuc3JjRWxlbWVudDtQLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7dGhpcy5yZXR1cm5WYWx1ZT1mYWxzZX19Ti5jYWxsKEx8fHdpbmRvdyxQKX1pZihPLmF0dGFjaEV2ZW50KXtPLmF0dGFjaEV2ZW50KCJvbiIrTSxLKX1lbHNle08uYWRkRXZlbnRMaXN0ZW5lcihNLEssZmFsc2UpfX1mdW5jdGlvbiB5KEspe3dpbmRvdy5hbGVydChsLmNvbmZpZy5zdHJpbmdzLmFsZXJ0K0spfWZ1bmN0aW9uIGcoTyxRKXt2YXIgUD1sLnZhcnMuZGlzY292ZXJlZEJydXNoZXMsSz1udWxsO2lmKFA9PW51bGwpe1A9e307Zm9yKHZhciBNIGluIGwuYnJ1c2hlcyl7dmFyIFI9bC5icnVzaGVzW01dLEw9Ui5hbGlhc2VzO2lmKEw9PW51bGwpe2NvbnRpbnVlfVIuYnJ1c2hOYW1lPU0udG9Mb3dlckNhc2UoKTtmb3IodmFyIE49MDtOPEwubGVuZ3RoO04rKyl7UFtMW05dXT1NfX1sLnZhcnMuZGlzY292ZXJlZEJydXNoZXM9UH1LPWwuYnJ1c2hlc1tQW09dXTtpZihLPT1udWxsJiZRKXt5KGwuY29uZmlnLnN0cmluZ3Mubm9CcnVzaCtPKX1yZXR1cm4gS31mdW5jdGlvbiBIKE0sTil7dmFyIEs9dihNKTtmb3IodmFyIEw9MDtMPEsubGVuZ3RoO0wrKyl7S1tMXT1OKEtbTF0sTCl9cmV0dXJuIEsuam9pbigiXHJcbiIpfWZ1bmN0aW9uIEcoSyl7cmV0dXJuIEsucmVwbGFjZSgvXlsgXSpbXG5dK3xbXG5dKlsgXSokL2csIiIpfWZ1bmN0aW9uIG8oUSl7dmFyIE0sTD17fSxOPW5ldyBYUmVnRXhwKCJeXFxbKD88dmFsdWVzPiguKj8pKVxcXSQiKSxPPW5ldyBYUmVnRXhwKCIoPzxuYW1lPltcXHctXSspXFxzKjpcXHMqKD88dmFsdWU+W1xcdy0lI10rfFxcWy4qP1xcXXxcIi4qP1wifCcuKj8nKVxccyo7PyIsImciKTt3aGlsZSgoTT1PLmV4ZWMoUSkpIT1udWxsKXt2YXIgUD1NLnZhbHVlLnJlcGxhY2UoL15bJyJdfFsnIl0kL2csIiIpO2lmKFAhPW51bGwmJk4udGVzdChQKSl7dmFyIEs9Ti5leGVjKFApO1A9Sy52YWx1ZXMubGVuZ3RoPjA/Sy52YWx1ZXMuc3BsaXQoL1xzKixccyovKTpbXX1MW00ubmFtZV09UH1yZXR1cm4gTH1mdW5jdGlvbiB4KEwsSyl7aWYoTD09bnVsbHx8TC5sZW5ndGg9PTB8fEw9PSJcbiIpe3JldHVybiBMfUw9TC5yZXBsYWNlKC88L2csIiZsdDsiKTtMPUwucmVwbGFjZSgvIHsyLH0vZyxmdW5jdGlvbihNKXt2YXIgTj0iIjtmb3IodmFyIE89MDtPPE0ubGVuZ3RoLTE7TysrKXtOKz1sLmNvbmZpZy5zcGFjZX1yZXR1cm4gTisiICJ9KTtpZihLIT1udWxsKXtMPUgoTCxmdW5jdGlvbihNKXtpZihNLmxlbmd0aD09MCl7cmV0dXJuIiJ9dmFyIE49IiI7TT1NLnJlcGxhY2UoL14oJm5ic3A7fCApKy8sZnVuY3Rpb24oTyl7Tj1PO3JldHVybiIifSk7aWYoTS5sZW5ndGg9PTApe3JldHVybiBOfXJldHVybiBOKyc8Y29kZSBjbGFzcz0iJytLKyciPicrTSsiPC9jb2RlPiJ9KX1yZXR1cm4gTH1mdW5jdGlvbiBjKE0sTCl7dmFyIEs9TS50b1N0cmluZygpO3doaWxlKEsubGVuZ3RoPEwpe0s9IjAiK0t9cmV0dXJuIEt9ZnVuY3Rpb24gRihNLE4pe3ZhciBMPSIiO2Zvcih2YXIgSz0wO0s8TjtLKyspe0wrPSIgIn1yZXR1cm4gTS5yZXBsYWNlKC9cdC9nLEwpfWZ1bmN0aW9uIHUoTyxQKXt2YXIgSz12KE8pLE49Ilx0IixMPSIiO2Zvcih2YXIgTT0wO008NTA7TSsrKXtMKz0iICAgICAgICAgICAgICAgICAgICAifWZ1bmN0aW9uIFEoUixULFMpe3JldHVybiBSLnN1YnN0cigwLFQpK0wuc3Vic3RyKDAsUykrUi5zdWJzdHIoVCsxLFIubGVuZ3RoKX1PPUgoTyxmdW5jdGlvbihSKXtpZihSLmluZGV4T2YoTik9PS0xKXtyZXR1cm4gUn12YXIgVD0wO3doaWxlKChUPVIuaW5kZXhPZihOKSkhPS0xKXt2YXIgUz1QLVQlUDtSPVEoUixULFMpfXJldHVybiBSfSk7cmV0dXJuIE99ZnVuY3Rpb24gaShMKXt2YXIgSz0vPGJyXHMqXC8/PnwmbHQ7YnJccypcLz8mZ3Q7L2dpO2lmKGwuY29uZmlnLmJsb2dnZXJNb2RlPT10cnVlKXtMPUwucmVwbGFjZShLLCJcbiIpfWlmKGwuY29uZmlnLnN0cmlwQnJzPT10cnVlKXtMPUwucmVwbGFjZShLLCIiKX1yZXR1cm4gTH1mdW5jdGlvbiBhKEspe3JldHVybiBLLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKX1mdW5jdGlvbiB6KFIpe3ZhciBMPXYoaShSKSksUT1uZXcgQXJyYXkoKSxPPS9eXHMqLyxOPTEwMDA7Zm9yKHZhciBNPTA7TTxMLmxlbmd0aCYmTj4wO00rKyl7dmFyIEs9TFtNXTtpZihhKEspLmxlbmd0aD09MCl7Y29udGludWV9dmFyIFA9Ty5leGVjKEspO2lmKFA9PW51bGwpe3JldHVybiBSfU49TWF0aC5taW4oUFswXS5sZW5ndGgsTil9aWYoTj4wKXtmb3IodmFyIE09MDtNPEwubGVuZ3RoO00rKyl7TFtNXT1MW01dLnN1YnN0cihOKX19cmV0dXJuIEwuam9pbigiXG4iKX1mdW5jdGlvbiBtKEwsSyl7aWYoTC5pbmRleDxLLmluZGV4KXtyZXR1cm4gLTF9ZWxzZXtpZihMLmluZGV4PksuaW5kZXgpe3JldHVybiAxfWVsc2V7aWYoTC5sZW5ndGg8Sy5sZW5ndGgpe3JldHVybiAtMX1lbHNle2lmKEwubGVuZ3RoPksubGVuZ3RoKXtyZXR1cm4gMX19fX1yZXR1cm4gMH1mdW5jdGlvbiBxKE8sUSl7ZnVuY3Rpb24gUihTLFQpe3JldHVybiBTWzBdfXZhciBNPTAsTD1udWxsLFA9W10sTj1RLmZ1bmM/US5mdW5jOlI7d2hpbGUoKEw9US5yZWdleC5leGVjKE8pKSE9bnVsbCl7dmFyIEs9TihMLFEpO2lmKHR5cGVvZihLKT09InN0cmluZyIpe0s9W25ldyBsLk1hdGNoKEssTC5pbmRleCxRLmNzcyldfVA9UC5jb25jYXQoSyl9cmV0dXJuIFB9ZnVuY3Rpb24gYihMKXt2YXIgSz0vKC4qKSgoJmd0O3wmbHQ7KS4qKS87cmV0dXJuIEwucmVwbGFjZShsLnJlZ2V4TGliLnVybCxmdW5jdGlvbihNKXt2YXIgTz0iIixOPW51bGw7aWYoTj1LLmV4ZWMoTSkpe009TlsxXTtPPU5bMl19cmV0dXJuJzxhIGhyZWY9IicrTSsnIj4nK00rIjwvYT4iK099KX1mdW5jdGlvbiBKKCl7dmFyIEw9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLEs9W107Zm9yKHZhciBNPTA7TTxMLmxlbmd0aDtNKyspe2lmKExbTV0udHlwZT09InN5bnRheGhpZ2hsaWdodGVyIil7Sy5wdXNoKExbTV0pfX1yZXR1cm4gS31mdW5jdGlvbiBDKE4pe3ZhciBQPSI8IVtDREFUQVsiLE09Il1dPiIsUj1hKE4pLFE9ZmFsc2UsTD1QLmxlbmd0aCxPPU0ubGVuZ3RoO2lmKFIuaW5kZXhPZihQKT09MCl7Uj1SLnN1YnN0cmluZyhMKTtRPXRydWV9dmFyIEs9Ui5sZW5ndGg7aWYoUi5pbmRleE9mKE0pPT1LLU8pe1I9Ui5zdWJzdHJpbmcoMCxLLU8pO1E9dHJ1ZX1yZXR1cm4gUT9SOk59ZnVuY3Rpb24gZShPKXt2YXIgUD1PLnRhcmdldCxOPUIoUCwiLnN5bnRheGhpZ2hsaWdodGVyIiksSz1CKFAsIi5jb250YWluZXIiKSxSPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIiksUTtpZighS3x8IU58fGgoSywidGV4dGFyZWEiKSl7cmV0dXJufVE9cyhOLmlkKTt0KE4sInNvdXJjZSIpO3ZhciBTPUsuY2hpbGROb2RlcyxMPVtdO2Zvcih2YXIgTT0wO008Uy5sZW5ndGg7TSsrKXtMLnB1c2goU1tNXS5pbm5lclRleHR8fFNbTV0udGV4dENvbnRlbnQpfUw9TC5qb2luKCJcciIpO0w9TC5yZXBsYWNlKC9cdTAwYTAvZywiICIpO1IuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoTCkpO0suYXBwZW5kQ2hpbGQoUik7Ui5mb2N1cygpO1Iuc2VsZWN0KCk7ZihSLCJibHVyIixmdW5jdGlvbihUKXtSLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoUik7aihOLCJzb3VyY2UiKX0pfWwuTWF0Y2g9ZnVuY3Rpb24oTSxLLEwpe3RoaXMudmFsdWU9TTt0aGlzLmluZGV4PUs7dGhpcy5sZW5ndGg9TS5sZW5ndGg7dGhpcy5jc3M9TDt0aGlzLmJydXNoTmFtZT1udWxsfTtsLk1hdGNoLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfTtsLkh0bWxTY3JpcHQ9ZnVuY3Rpb24oTyl7dmFyIFM9ZyhPKSxSLEs9bmV3IGwuYnJ1c2hlcy5YbWwoKSxRPW51bGwsTT10aGlzLE49ImdldERpdiBnZXRIdG1sIGluaXQiLnNwbGl0KCIgIik7aWYoUz09bnVsbCl7cmV0dXJufVI9bmV3IFMoKTtmb3IodmFyIFA9MDtQPE4ubGVuZ3RoO1ArKyl7KGZ1bmN0aW9uKCl7dmFyIFU9TltQXTtNW1VdPWZ1bmN0aW9uKCl7cmV0dXJuIEtbVV0uYXBwbHkoSyxhcmd1bWVudHMpfX0pKCl9aWYoUi5odG1sU2NyaXB0PT1udWxsKXt5KGwuY29uZmlnLnN0cmluZ3MuYnJ1c2hOb3RIdG1sU2NyaXB0K08pO3JldHVybn1LLnJlZ2V4TGlzdC5wdXNoKHtyZWdleDpSLmh0bWxTY3JpcHQuY29kZSxmdW5jOkx9KTtmdW5jdGlvbiBUKFYsVyl7Zm9yKHZhciBVPTA7VTxWLmxlbmd0aDtVKyspe1ZbVV0uaW5kZXgrPVd9fWZ1bmN0aW9uIEwoYWIsVil7dmFyIFU9YWIuY29kZSxhYT1bXSxaPVIucmVnZXhMaXN0LFg9YWIuaW5kZXgrYWIubGVmdC5sZW5ndGgsYWM9Ui5odG1sU2NyaXB0LGFkO2Zvcih2YXIgWT0wO1k8Wi5sZW5ndGg7WSsrKXthZD1xKFUsWltZXSk7VChhZCxYKTthYT1hYS5jb25jYXQoYWQpfWlmKGFjLmxlZnQhPW51bGwmJmFiLmxlZnQhPW51bGwpe2FkPXEoYWIubGVmdCxhYy5sZWZ0KTtUKGFkLGFiLmluZGV4KTthYT1hYS5jb25jYXQoYWQpfWlmKGFjLnJpZ2h0IT1udWxsJiZhYi5yaWdodCE9bnVsbCl7YWQ9cShhYi5yaWdodCxhYy5yaWdodCk7VChhZCxhYi5pbmRleCthYlswXS5sYXN0SW5kZXhPZihhYi5yaWdodCkpO2FhPWFhLmNvbmNhdChhZCl9Zm9yKHZhciBXPTA7VzxhYS5sZW5ndGg7VysrKXthYVtXXS5icnVzaE5hbWU9Uy5icnVzaE5hbWV9cmV0dXJuIGFhfX07bC5IaWdobGlnaHRlcj1mdW5jdGlvbigpe307bC5IaWdobGlnaHRlci5wcm90b3R5cGU9e2dldFBhcmFtOmZ1bmN0aW9uKE0sTCl7dmFyIEs9dGhpcy5wYXJhbXNbTV07cmV0dXJuIGQoSz09bnVsbD9MOkspfSxjcmVhdGU6ZnVuY3Rpb24oSyl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoSyl9LGZpbmRNYXRjaGVzOmZ1bmN0aW9uKE4sTSl7dmFyIEs9W107aWYoTiE9bnVsbCl7Zm9yKHZhciBMPTA7TDxOLmxlbmd0aDtMKyspe2lmKHR5cGVvZihOW0xdKT09Im9iamVjdCIpe0s9Sy5jb25jYXQocShNLE5bTF0pKX19fXJldHVybiB0aGlzLnJlbW92ZU5lc3RlZE1hdGNoZXMoSy5zb3J0KG0pKX0scmVtb3ZlTmVzdGVkTWF0Y2hlczpmdW5jdGlvbihPKXtmb3IodmFyIE49MDtOPE8ubGVuZ3RoO04rKyl7aWYoT1tOXT09PW51bGwpe2NvbnRpbnVlfXZhciBLPU9bTl0sTT1LLmluZGV4K0subGVuZ3RoO2Zvcih2YXIgTD1OKzE7TDxPLmxlbmd0aCYmT1tOXSE9PW51bGw7TCsrKXt2YXIgUD1PW0xdO2lmKFA9PT1udWxsKXtjb250aW51ZX1lbHNle2lmKFAuaW5kZXg+TSl7YnJlYWt9ZWxzZXtpZihQLmluZGV4PT1LLmluZGV4JiZQLmxlbmd0aD5LLmxlbmd0aCl7T1tOXT1udWxsfWVsc2V7aWYoUC5pbmRleD49Sy5pbmRleCYmUC5pbmRleDxNKXtPW0xdPW51bGx9fX19fX1yZXR1cm4gT30sZmlndXJlT3V0TGluZU51bWJlcnM6ZnVuY3Rpb24oTSl7dmFyIEs9W10sTD1wYXJzZUludCh0aGlzLmdldFBhcmFtKCJmaXJzdC1saW5lIikpO0goTSxmdW5jdGlvbihOLE8pe0sucHVzaChPK0wpfSk7cmV0dXJuIEt9LGlzTGluZUhpZ2hsaWdodGVkOmZ1bmN0aW9uKEspe3ZhciBMPXRoaXMuZ2V0UGFyYW0oImhpZ2hsaWdodCIsW10pO2lmKHR5cGVvZihMKSE9Im9iamVjdCImJkwucHVzaD09bnVsbCl7TD1bTF19cmV0dXJuIGsoTCxLLnRvU3RyaW5nKCkpIT0tMX0sZ2V0TGluZUh0bWw6ZnVuY3Rpb24oTixLLE0pe3ZhciBMPVsibGluZSIsIm51bWJlciIrSywiaW5kZXgiK04sImFsdCIrKEslMj09MD8xOjIpLnRvU3RyaW5nKCldO2lmKHRoaXMuaXNMaW5lSGlnaGxpZ2h0ZWQoSykpe0wucHVzaCgiaGlnaGxpZ2h0ZWQiKX1pZihLPT0wKXtMLnB1c2goImJyZWFrIil9cmV0dXJuJzxkaXYgY2xhc3M9IicrTC5qb2luKCIgIikrJyI+JytNKyI8L2Rpdj4ifSxnZXRMaW5lTnVtYmVyc0h0bWw6ZnVuY3Rpb24oUSxMKXt2YXIgTz0iIixQPXYoUSkubGVuZ3RoLE09cGFyc2VJbnQodGhpcy5nZXRQYXJhbSgiZmlyc3QtbGluZSIpKSxSPXRoaXMuZ2V0UGFyYW0oInBhZC1saW5lLW51bWJlcnMiKTtpZihSPT10cnVlKXtSPShNK1AtMSkudG9TdHJpbmcoKS5sZW5ndGh9ZWxzZXtpZihpc05hTihSKT09dHJ1ZSl7Uj0wfX1mb3IodmFyIE49MDtOPFA7TisrKXt2YXIgSz1MP0xbTl06TStOLFE9Sz09MD9sLmNvbmZpZy5zcGFjZTpjKEssUik7Tys9dGhpcy5nZXRMaW5lSHRtbChOLEssUSl9cmV0dXJuIE99LGdldENvZGVMaW5lc0h0bWw6ZnVuY3Rpb24oTixSKXtOPWEoTik7dmFyIFQ9dihOKSxPPXRoaXMuZ2V0UGFyYW0oInBhZC1saW5lLW51bWJlcnMiKSxRPXBhcnNlSW50KHRoaXMuZ2V0UGFyYW0oImZpcnN0LWxpbmUiKSksTj0iIixTPXRoaXMuZ2V0UGFyYW0oImJydXNoIik7Zm9yKHZhciBNPTA7TTxULmxlbmd0aDtNKyspe3ZhciBVPVRbTV0sSz0vXigmbmJzcDt8XHMpKy8uZXhlYyhVKSxQPW51bGwsTD1SP1JbTV06UStNO2lmKEshPW51bGwpe1A9S1swXS50b1N0cmluZygpO1U9VS5zdWJzdHIoUC5sZW5ndGgpO1A9UC5yZXBsYWNlKCIgIixsLmNvbmZpZy5zcGFjZSl9VT1hKFUpO2lmKFUubGVuZ3RoPT0wKXtVPWwuY29uZmlnLnNwYWNlfU4rPXRoaXMuZ2V0TGluZUh0bWwoTSxMLChQIT1udWxsPyc8Y29kZSBjbGFzcz0iJytTKycgc3BhY2VzIj4nK1ArIjwvY29kZT4iOiIiKStVKX1yZXR1cm4gTn0sZ2V0VGl0bGVIdG1sOmZ1bmN0aW9uKEspe3JldHVybiBLPyI8Y2FwdGlvbj4iK0srIjwvY2FwdGlvbj4iOiIifSxnZXRNYXRjaGVzSHRtbDpmdW5jdGlvbihLLE8pe3ZhciBRPTAsUz0iIixSPXRoaXMuZ2V0UGFyYW0oImJydXNoIiwiIik7ZnVuY3Rpb24gTShVKXt2YXIgVD1VPyhVLmJydXNoTmFtZXx8Uik6UjtyZXR1cm4gVD9UKyIgIjoiIn1mb3IodmFyIE49MDtOPE8ubGVuZ3RoO04rKyl7dmFyIFA9T1tOXSxMO2lmKFA9PT1udWxsfHxQLmxlbmd0aD09PTApe2NvbnRpbnVlfUw9TShQKTtTKz14KEsuc3Vic3RyKFEsUC5pbmRleC1RKSxMKyJwbGFpbiIpK3goUC52YWx1ZSxMK1AuY3NzKTtRPVAuaW5kZXgrUC5sZW5ndGgrKFAub2Zmc2V0fHwwKX1TKz14KEsuc3Vic3RyKFEpLE0oKSsicGxhaW4iKTtyZXR1cm4gU30sZ2V0SHRtbDpmdW5jdGlvbihOKXt2YXIgTT0iIixMPVsic3ludGF4aGlnaGxpZ2h0ZXIiXSxQLE8sSztpZih0aGlzLmdldFBhcmFtKCJsaWdodCIpPT10cnVlKXt0aGlzLnBhcmFtcy50b29sYmFyPXRoaXMucGFyYW1zLmd1dHRlcj1mYWxzZX1jbGFzc05hbWU9InN5bnRheGhpZ2hsaWdodGVyIjtpZih0aGlzLmdldFBhcmFtKCJjb2xsYXBzZSIpPT10cnVlKXtMLnB1c2goImNvbGxhcHNlZCIpfWlmKChndXR0ZXI9dGhpcy5nZXRQYXJhbSgiZ3V0dGVyIikpPT1mYWxzZSl7TC5wdXNoKCJub2d1dHRlciIpfUwucHVzaCh0aGlzLmdldFBhcmFtKCJjbGFzcy1uYW1lIikpO0wucHVzaCh0aGlzLmdldFBhcmFtKCJicnVzaCIpKTtOPUcoTikucmVwbGFjZSgvXHIvZywiICIpO1A9dGhpcy5nZXRQYXJhbSgidGFiLXNpemUiKTtOPXRoaXMuZ2V0UGFyYW0oInNtYXJ0LXRhYnMiKT09dHJ1ZT91KE4sUCk6RihOLFApO2lmKHRoaXMuZ2V0UGFyYW0oInVuaW5kZW50Iikpe049eihOKX1pZihndXR0ZXIpe0s9dGhpcy5maWd1cmVPdXRMaW5lTnVtYmVycyhOKX1PPXRoaXMuZmluZE1hdGNoZXModGhpcy5yZWdleExpc3QsTik7TT10aGlzLmdldE1hdGNoZXNIdG1sKE4sTyk7TT10aGlzLmdldENvZGVMaW5lc0h0bWwoTSxLKTtpZih0aGlzLmdldFBhcmFtKCJhdXRvLWxpbmtzIikpe009YihNKX1pZih0eXBlb2YobmF2aWdhdG9yKSE9InVuZGVmaW5lZCImJm5hdmlnYXRvci51c2VyQWdlbnQmJm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01TSUUvKSl7TC5wdXNoKCJpZSIpfU09JzxkaXYgaWQ9IicrRSh0aGlzLmlkKSsnIiBjbGFzcz0iJytMLmpvaW4oIiAiKSsnIj4nKyh0aGlzLmdldFBhcmFtKCJ0b29sYmFyIik/bC50b29sYmFyLmdldEh0bWwodGhpcyk6IiIpKyc8dGFibGUgYm9yZGVyPSIwIiBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiPicrdGhpcy5nZXRUaXRsZUh0bWwodGhpcy5nZXRQYXJhbSgidGl0bGUiKSkrIjx0Ym9keT48dHI+IisoZ3V0dGVyPyc8dGQgY2xhc3M9Imd1dHRlciI+Jyt0aGlzLmdldExpbmVOdW1iZXJzSHRtbChOKSsiPC90ZD4iOiIiKSsnPHRkIGNsYXNzPSJjb2RlIj48ZGl2IGNsYXNzPSJjb250YWluZXIiPicrTSsiPC9kaXY+PC90ZD48L3RyPjwvdGJvZHk+PC90YWJsZT48L2Rpdj4iO3JldHVybiBNfSxnZXREaXY6ZnVuY3Rpb24oSyl7aWYoSz09PW51bGwpe0s9IiJ9dGhpcy5jb2RlPUs7dmFyIEw9dGhpcy5jcmVhdGUoImRpdiIpO0wuaW5uZXJIVE1MPXRoaXMuZ2V0SHRtbChLKTtpZih0aGlzLmdldFBhcmFtKCJ0b29sYmFyIikpe2YoaChMLCIudG9vbGJhciIpLCJjbGljayIsbC50b29sYmFyLmhhbmRsZXIpfWlmKHRoaXMuZ2V0UGFyYW0oInF1aWNrLWNvZGUiKSl7ZihoKEwsIi5jb2RlIiksImRibGNsaWNrIixlKX1yZXR1cm4gTH0saW5pdDpmdW5jdGlvbihLKXt0aGlzLmlkPXAoKTtuKHRoaXMpO3RoaXMucGFyYW1zPUEobC5kZWZhdWx0cyxLfHx7fSk7aWYodGhpcy5nZXRQYXJhbSgibGlnaHQiKT09dHJ1ZSl7dGhpcy5wYXJhbXMudG9vbGJhcj10aGlzLnBhcmFtcy5ndXR0ZXI9ZmFsc2V9fSxnZXRLZXl3b3JkczpmdW5jdGlvbihLKXtLPUsucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLnJlcGxhY2UoL1xzKy9nLCJ8Iik7cmV0dXJuIlxcYig/OiIrSysiKVxcYiJ9LGZvckh0bWxTY3JpcHQ6ZnVuY3Rpb24oSyl7dmFyIEw9e2VuZDpLLnJpZ2h0LnNvdXJjZX07aWYoSy5lb2Ype0wuZW5kPSIoPzooPzoiK0wuZW5kKyIpfCQpIn10aGlzLmh0bWxTY3JpcHQ9e2xlZnQ6e3JlZ2V4OksubGVmdCxjc3M6InNjcmlwdCJ9LHJpZ2h0OntyZWdleDpLLnJpZ2h0LGNzczoic2NyaXB0In0sY29kZTpuZXcgWFJlZ0V4cCgiKD88bGVmdD4iK0subGVmdC5zb3VyY2UrIikoPzxjb2RlPi4qPykoPzxyaWdodD4iK0wuZW5kKyIpIiwic2dpIil9fX07cmV0dXJuIGx9KCl9dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLlN5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyOm51bGw7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYz0iY2xhc3MgaW50ZXJmYWNlIGZ1bmN0aW9uIHBhY2thZ2UiO3ZhciBiPSItSW5maW5pdHkgLi4ucmVzdCBBcnJheSBhcyBBUzMgQm9vbGVhbiBicmVhayBjYXNlIGNhdGNoIGNvbnN0IGNvbnRpbnVlIERhdGUgZGVjb2RlVVJJIGRlY29kZVVSSUNvbXBvbmVudCBkZWZhdWx0IGRlbGV0ZSBkbyBkeW5hbWljIGVhY2ggZWxzZSBlbmNvZGVVUkkgZW5jb2RlVVJJQ29tcG9uZW50IGVzY2FwZSBleHRlbmRzIGZhbHNlIGZpbmFsIGZpbmFsbHkgZmxhc2hfcHJveHkgZm9yIGdldCBpZiBpbXBsZW1lbnRzIGltcG9ydCBpbiBpbmNsdWRlIEluZmluaXR5IGluc3RhbmNlb2YgaW50IGludGVybmFsIGlzIGlzRmluaXRlIGlzTmFOIGlzWE1MTmFtZSBsYWJlbCBuYW1lc3BhY2UgTmFOIG5hdGl2ZSBuZXcgbnVsbCBOdWxsIE51bWJlciBPYmplY3Qgb2JqZWN0X3Byb3h5IG92ZXJyaWRlIHBhcnNlRmxvYXQgcGFyc2VJbnQgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJldHVybiBzZXQgc3RhdGljIFN0cmluZyBzdXBlciBzd2l0Y2ggdGhpcyB0aHJvdyB0cnVlIHRyeSB0eXBlb2YgdWludCB1bmRlZmluZWQgdW5lc2NhcGUgdXNlIHZvaWQgd2hpbGUgd2l0aCI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVMaW5lQ0NvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIubXVsdGlMaW5lQ0NvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXGIoW1xkXSsoXC5bXGRdKyk/fDB4W2EtZjAtOV0rKVxiL2dpLGNzczoidmFsdWUifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGMpLCJnbSIpLGNzczoiY29sb3IzIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ20iKSxjc3M6ImtleXdvcmQifSx7cmVnZXg6bmV3IFJlZ0V4cCgidmFyIiwiZ20iKSxjc3M6InZhcmlhYmxlIn0se3JlZ2V4Om5ldyBSZWdFeHAoInRyYWNlIiwiZ20iKSxjc3M6ImNvbG9yMSJ9XTt0aGlzLmZvckh0bWxTY3JpcHQoU3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2NyaXB0U2NyaXB0VGFncyl9YS5wcm90b3R5cGU9bmV3IFN5bnRheEhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyKCk7YS5hbGlhc2VzPVsiYWN0aW9uc2NyaXB0MyIsImFzMyJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuQVMzPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYz0iYWZ0ZXIgYmVmb3JlIGJlZ2lubmluZyBjb250aW51ZSBjb3B5IGVhY2ggZW5kIGV2ZXJ5IGZyb20gcmV0dXJuIGdldCBnbG9iYWwgaW4gbG9jYWwgbmFtZWQgb2Ygc2V0IHNvbWUgdGhhdCB0aGUgdGhlbiB0aW1lcyB0byB3aGVyZSB3aG9zZSB3aXRoIHdpdGhvdXQiO3ZhciBkPSJmaXJzdCBzZWNvbmQgdGhpcmQgZm91cnRoIGZpZnRoIHNpeHRoIHNldmVudGggZWlnaHRoIG5pbnRoIHRlbnRoIGxhc3QgZnJvbnQgYmFjayBtaWRkbGUiO3ZhciBiPSJhY3RpdmF0ZSBhZGQgYWxpYXMgQXBwbGVTY3JpcHQgYXNrIGF0dGFjaG1lbnQgYm9vbGVhbiBjbGFzcyBjb25zdGFudCBkZWxldGUgZHVwbGljYXRlIGVtcHR5IGV4aXN0cyBmYWxzZSBpZCBpbnRlZ2VyIGxpc3QgbWFrZSBtZXNzYWdlIG1vZGFsIG1vZGlmaWVkIG5ldyBubyBwYXJhZ3JhcGggcGkgcHJvcGVydGllcyBxdWl0IHJlYWwgcmVjb3JkIHJlbW92ZSByZXN0IHJlc3VsdCByZXZlYWwgcmV2ZXJzZSBydW4gcnVubmluZyBzYXZlIHN0cmluZyB0cnVlIHdvcmQgeWVzIjt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4Oi8oLS18IykuKiQvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDovXChcKig/Oltcc1xTXSo/XChcKltcc1xTXSo/XCpcKSkqW1xzXFNdKj9cKlwpL2dtLGNzczoiY29tbWVudHMifSx7cmVnZXg6LyJbXHNcU10qPyIvZ20sY3NzOiJzdHJpbmcifSx7cmVnZXg6Lyg/Oix8OnzCrHwnc1xifFwofFwpfFx7fFx9fMKrfFxiXHcqwrspL2csY3NzOiJjb2xvcjEifSx7cmVnZXg6LygtKT8oXGQpKyhcLihcZCk/KT8oRVwrKFxkKSspPy9nLGNzczoiY29sb3IxIn0se3JlZ2V4Oi8oPzomKGFtcDt8Z3Q7fGx0Oyk/fD1877+9IHw+fDx84omlfD49fOKJpHw8PXxcKnxcK3wtfFwvfMO3fFxeKS9nLGNzczoiY29sb3IyIn0se3JlZ2V4Oi9cYig/OmFuZHxhc3xkaXZ8bW9kfG5vdHxvcnxyZXR1cm4oPyFccyYpKGluZyk/fGVxdWFsc3woaXMobid0fCBub3QpPyApP2VxdWFsKCB0byk/fGRvZXMobid0fCBub3QpIGVxdWFsfChpcyhuJ3R8IG5vdCk/ICk/KGdyZWF0ZXJ8bGVzcykgdGhhbiggb3IgZXF1YWwoIHRvKT8pP3woY29tZXN8ZG9lcyhuJ3R8IG5vdCkgY29tZSkgKGFmdGVyfGJlZm9yZSl8aXMobid0fCBub3QpPyggaW4pPyAoYmFja3xmcm9udCkgb2Z8aXMobid0fCBub3QpPyBiZWhpbmR8aXMobid0fCBub3QpPyggKGlufGNvbnRhaW5lZCBieSkpP3xkb2VzKG4ndHwgbm90KSBjb250YWlufGNvbnRhaW4ocyk/fChzdGFydHxiZWdpbnxlbmQpKHMpPyB3aXRofCgoYnV0fGVuZCkgKT8oY29uc2lkZXJ8aWdub3IpaW5nfHByb3AoZXJ0eSk/fChhICk/cmVmKGVyZW5jZSk/KCB0byk/fHJlcGVhdCAodW50aWx8d2hpbGV8d2l0aCl8KChlbmR8ZXhpdCkgKT9yZXBlYXR8KChlbHNlfGVuZCkgKT9pZnxlbHNlfChlbmQgKT8oc2NyaXB0fHRlbGx8dHJ5KXwob24gKT9lcnJvcnwocHV0ICk/aW50b3wob2YgKT8oaXR8bWUpfGl0c3xteXx3aXRoICh0aW1lb3V0KCBvZik/fHRyYW5zYWN0aW9uKXxlbmQgKHRpbWVvdXR8dHJhbnNhY3Rpb24pKVxiL2csY3NzOiJrZXl3b3JkIn0se3JlZ2V4Oi9cYlxkKyhzdHxuZHxyZHx0aClcYi9nLGNzczoia2V5d29yZCJ9LHtyZWdleDovXGIoPzphYm91dHxhYm92ZXxhZ2FpbnN0fGFyb3VuZHxhdHxiZWxvd3xiZW5lYXRofGJlc2lkZXxiZXR3ZWVufGJ5fChhcGFydHxhc2lkZSkgZnJvbXwoaW5zdGVhZHxvdXQpIG9mfGludG98b24odG8pP3xvdmVyfHNpbmNlfHRocihvdWdofHUpfHVuZGVyKVxiL2csY3NzOiJjb2xvcjMifSx7cmVnZXg6L1xiKD86YWRkaW5nIGZvbGRlciBpdGVtcyB0b3xhZnRlciByZWNlaXZpbmd8Y2hvb3NlKCAoKHJlbW90ZSApP2FwcGxpY2F0aW9ufGNvbG9yfGZvbGRlcnxmcm9tIGxpc3R8VVJMKSk/fGNsaXBib2FyZCBpbmZvfHNldCB0aGUgY2xpcGJvYXJkIHRvfCh0aGUgKT9jbGlwYm9hcmR8ZW50aXJlIGNvbnRlbnRzfGRpc3BsYXkoaW5nfCAoYWxlcnR8ZGlhbG9nfG1vZGUpKT98ZG9jdW1lbnQoIChlZGl0ZWR8ZmlsZXxuaWIgbmFtZSkpP3xmaWxlKCAobmFtZXx0eXBlKSk/fChpbmZvICk/Zm9yfGdpdmluZyB1cCBhZnRlcnwobmFtZSApP2V4dGVuc2lvbnxxdW90ZWQgZm9ybXxyZXR1cm4oZWQpP3xzZWNvbmQoPyEgaXRlbSkocyk/fGxpc3QgKGRpc2tzfGZvbGRlcil8dGV4dCBpdGVtKHN8IGRlbGltaXRlcnMpP3woVW5pY29kZSApP3RleHR8KGRpc2sgKT9pdGVtKHMpP3woKGN1cnJlbnR8bGlzdCkgKT92aWV3fCgoY29udGFpbmVyfGtleSkgKT93aW5kb3d8d2l0aCAoZGF0YXxpY29uKCAoY2F1dGlvbnxub3RlfHN0b3ApKT98cGFyYW1ldGVyKHMpP3xwcm9tcHR8cHJvcGVydGllc3xzZWVkfHRpdGxlKXxjYXNlfGRpYWNyaXRpY2Fsc3xoeXBoZW5zfG51bWVyaWMgc3RyaW5nc3xwdW5jdHVhdGlvbnx3aGl0ZSBzcGFjZXxmb2xkZXIgY3JlYXRpb258YXBwbGljYXRpb24ocyggZm9sZGVyKT98IChwcm9jZXNzZXN8c2NyaXB0cyBwb3NpdGlvbnxzdXBwb3J0KSk/fCgoZGVza3RvcCApPyhwaWN0dXJlcyApP3woZG9jdW1lbnRzfGRvd25sb2Fkc3xmYXZvcml0ZXN8aG9tZXxrZXljaGFpbnxsaWJyYXJ5fG1vdmllc3xtdXNpY3xwdWJsaWN8c2NyaXB0c3xzaXRlc3xzeXN0ZW18dXNlcnN8dXRpbGl0aWVzfHdvcmtmbG93cykgKWZvbGRlcnxkZXNrdG9wfEZvbGRlciBBY3Rpb24gc2NyaXB0c3xmb250KHN8IHBhbmVsKT98aGVscHxpbnRlcm5ldCBwbHVnaW5zfG1vZGVtIHNjcmlwdHN8KHN5c3RlbSApP3ByZWZlcmVuY2VzfHByaW50ZXIgZGVzY3JpcHRpb25zfHNjcmlwdGluZyAoYWRkaXRpb25zfGNvbXBvbmVudHMpfHNoYXJlZCAoZG9jdW1lbnRzfGxpYnJhcmllcyl8c3RhcnR1cCAoZGlza3xpdGVtcyl8dGVtcG9yYXJ5IGl0ZW1zfHRyYXNofG9uIHNlcnZlcnxpbiBBcHBsZVRhbGsgem9uZXwoKGFzfGxvbmd8c2hvcnQpICk/dXNlciBuYW1lfHVzZXIgKElEfGxvY2FsZSl8KHdpdGggKT9wYXNzd29yZHxpbiAoYnVuZGxlKCB3aXRoIGlkZW50aWZpZXIpP3xkaXJlY3RvcnkpfChjbG9zZXxvcGVuIGZvcikgYWNjZXNzfHJlYWR8d3JpdGUoIHBlcm1pc3Npb24pP3woZ3xzKWV0IGVvZnx1c2luZyggZGVsaW1pdGVycyk/fHN0YXJ0aW5nIGF0fGRlZmF1bHQgKGFuc3dlcnxidXR0b258Y29sb3J8Y291bnRyeSBjb2RlfGVudHIoeXxpZXMpfGlkZW50aWZpZXJzfGl0ZW1zfG5hbWV8bG9jYXRpb258c2NyaXB0IGVkaXRvcil8aGlkZGVuKCBhbnN3ZXIpP3xvcGVuKGVkfCAobG9jYXRpb258dW50aXRsZWQpKT98ZXJyb3IgKGhhbmRsaW5nfHJlcG9ydGluZyl8KGRvKCBzaGVsbCk/fGxvYWR8cnVufHN0b3JlKSBzY3JpcHR8YWRtaW5pc3RyYXRvciBwcml2aWxlZ2VzfGFsdGVyaW5nIGxpbmUgZW5kaW5nc3xnZXQgdm9sdW1lIHNldHRpbmdzfChhbGVydHxib290fGlucHV0fG1vdW50fG91dHB1dHxzZXQpIHZvbHVtZXxvdXRwdXQgbXV0ZWR8KGZheHxyYW5kb20gKT9udW1iZXJ8cm91bmQoaW5nKT98dXB8ZG93bnx0b3dhcmQgemVyb3x0byBuZWFyZXN0fGFzIHRhdWdodCBpbiBzY2hvb2x8c3lzdGVtIChhdHRyaWJ1dGV8aW5mbyl8KChBcHBsZVNjcmlwdCggU3R1ZGlvKT98c3lzdGVtKSApP3ZlcnNpb258KGhvbWUgKT9kaXJlY3Rvcnl8KElQdjR8cHJpbWFyeSBFdGhlcm5ldCkgYWRkcmVzc3xDUFUgKHR5cGV8c3BlZWQpfHBoeXNpY2FsIG1lbW9yeXx0aW1lIChzdGFtcHx0byBHTVQpfHJlcGxhY2luZ3xBU0NJSSAoY2hhcmFjdGVyfG51bWJlcil8bG9jYWxpemVkIHN0cmluZ3xmcm9tIHRhYmxlfG9mZnNldHxzdW1tYXJpemV8YmVlcHxkZWxheXxzYXl8KGVtcHR5fG11bHRpcGxlKSBzZWxlY3Rpb25zIGFsbG93ZWR8KG9mfHByZWZlcnJlZCkgdHlwZXxpbnZpc2libGVzfHNob3dpbmcoIHBhY2thZ2UgY29udGVudHMpP3xlZGl0YWJsZSBVUkx8KEZpbGV8RlRQfE5ld3N8TWVkaWF8V2ViKSBbU3NdZXJ2ZXJzfFRlbG5ldCBob3N0c3xEaXJlY3Rvcnkgc2VydmljZXN8UmVtb3RlIGFwcGxpY2F0aW9uc3x3YWl0aW5nIHVudGlsIGNvbXBsZXRpb258c2F2aW5nKCAoaW58dG8pKT98cGF0aCAoZm9yfHRvKCAoKChjdXJyZW50fGZyb250bW9zdCkgKT9hcHBsaWNhdGlvbnxyZXNvdXJjZSkpPyl8UE9TSVggKGZpbGV8cGF0aCl8KGJhY2tncm91bmR8UkdCKSBjb2xvcnwoT0t8Y2FuY2VsKSBidXR0b24gbmFtZXxjYW5jZWwgYnV0dG9ufGJ1dHRvbihzKT98Y3ViaWMgKChjZW50aSk/bWV0KHJlfGVyKXN8eWFyZHN8ZmVldHxpbmNoZXMpfHNxdWFyZSAoKGtpbG8pP21ldChyZXxlcilzfG1pbGVzfHlhcmRzfGZlZXQpfChjZW50aXxraWxvKT9tZXQocmV8ZXIpc3xtaWxlc3x5YXJkc3xmZWV0fGluY2hlc3xsaXQocmV8ZXIpc3xnYWxsb25zfHF1YXJ0c3woa2lsbyk/Z3JhbXN8b3VuY2VzfHBvdW5kc3xkZWdyZWVzIChDZWxzaXVzfEZhaHJlbmhlaXR8S2VsdmluKXxwcmludCggKGRpYWxvZ3xzZXR0aW5ncykpP3xjbG9zKGUoYWJsZSk/fGluZyl8KGRlKT9taW5pYXR1cml6ZWR8bWluaWF0dXJpemFibGV8em9vbShlZHxhYmxlKXxhdHRyaWJ1dGUgcnVufGFjdGlvbiAobWV0aG9kfHByb3BlcnR5fHRpdGxlKXxwaG9uZXxlbWFpbHwoKHN0YXJ0fGVuZClpbmd8aG9tZSkgcGFnZXwoKGJpcnRofGNyZWF0aW9ufGN1cnJlbnR8Y3VzdG9tfG1vZGlmaWNhdGlvbikgKT9kYXRlfCgoKChwaG9uZXRpYyApPyhmaXJzdHxsYXN0fG1pZGRsZSkpfGNvbXB1dGVyfGhvc3R8bWFpZGVufHJlbGF0ZWQpIHxuaWNrKT9uYW1lfGFpbXxpY3F8amFiYmVyfG1zbnx5YWhvb3xhZGRyZXNzKGVzKT98c2F2ZSBhZGRyZXNzYm9va3xzaG91bGQgZW5hYmxlIGFjdGlvbnxjaXR5fGNvdW50cnkoIGNvZGUpP3xmb3JtYXR0ZShyfGQgYWRkcmVzcyl8KHBhbGV0dGUgKT9sYWJlbHxzdGF0ZXxzdHJlZXR8emlwfEFJTSBbSGhdYW5kbGUocyk/fG15IGNhcmR8c2VsZWN0KGlvbnwgYWxsKT98dW5zYXZlZHwoYWxwaGEgKT92YWx1ZXxlbnRyKHl8aWVzKXxncm91cHwoSUNRfEphYmJlcnxNU04pIGhhbmRsZXxwZXJzb258cGVvcGxlfGNvbXBhbnl8ZGVwYXJ0bWVudHxpY29uIGltYWdlfGpvYiB0aXRsZXxub3RlfG9yZ2FuaXphdGlvbnxzdWZmaXh8dmNhcmR8dXJsfGNvcGllc3xjb2xsYXRpbmd8cGFnZXMgKGFjcm9zc3xkb3duKXxyZXF1ZXN0IHByaW50IHRpbWV8dGFyZ2V0KCBwcmludGVyKT98KChHVUkgU2NyaXB0aW5nfFNjcmlwdCBtZW51KSApP2VuYWJsZWR8c2hvdyBDb21wdXRlciBzY3JpcHRzfChkZSk/YWN0aXZhdGVkfGF3YWtlIGZyb20gbmlifGJlY2FtZSAoa2V5fG1haW4pfGNhbGwgbWV0aG9kfG9mIChjbGFzc3xvYmplY3QpfGNlbnRlcnxjbGlja2VkIHRvb2xiYXIgaXRlbXxjbG9zZWR8Zm9yIGRvY3VtZW50fGV4cG9zZWR8KGNhbiApP2hpZGV8aWRsZXxrZXlib2FyZCAoZG93bnx1cCl8ZXZlbnQoIChudW1iZXJ8dHlwZSkpP3xsYXVuY2goZWQpP3xsb2FkIChpbWFnZXxtb3ZpZXxuaWJ8c291bmQpfG93bmVyfGxvZ3xtb3VzZSAoZG93bnxkcmFnZ2VkfGVudGVyZWR8ZXhpdGVkfG1vdmVkfHVwKXxtb3ZlfGNvbHVtbnxsb2NhbGl6YXRpb258cmVzb3VyY2V8c2NyaXB0fHJlZ2lzdGVyfGRyYWcgKGluZm98dHlwZXMpfHJlc2lnbmVkIChhY3RpdmV8a2V5fG1haW4pfHJlc2l6KGUoZCk/fGFibGUpfHJpZ2h0IG1vdXNlIChkb3dufGRyYWdnZWR8dXApfHNjcm9sbCB3aGVlbHwoYXQgKT9pbmRleHxzaG91bGQgKGNsb3NlfG9wZW4oIHVudGl0bGVkKT98cXVpdCggYWZ0ZXIgbGFzdCB3aW5kb3cgY2xvc2VkKT98em9vbSl8KChwcm9wb3NlZHxzY3JlZW4pICk/Ym91bmRzfHNob3cobik/fGJlaGluZHxpbiBmcm9udCBvZnxzaXplIChtb2RlfHRvIGZpdCl8dXBkYXRlKGR8IHRvb2xiYXIgaXRlbSk/fHdhcyAoaGlkZGVufG1pbmlhdHVyaXplZCl8d2lsbCAoYmVjb21lIGFjdGl2ZXxjbG9zZXxmaW5pc2ggbGF1bmNoaW5nfGhpZGV8bWluaWF0dXJpemV8bW92ZXxvcGVufHF1aXR8KHJlc2lnbiApP2FjdGl2ZXwoKG1heGltdW18bWluaW11bXxwcm9wb3NlZCkgKT9zaXplfHNob3d8em9vbSl8YnVuZGxlfGRhdGEgc291cmNlfG1vdmllfHBhc3RlYm9hcmR8c291bmR8dG9vbChiYXJ8IHRpcCl8KGNvbG9yfG9wZW58c2F2ZSkgcGFuZWx8Y29vcmRpbmF0ZSBzeXN0ZW18ZnJvbnRtb3N0fG1haW4oIChidW5kbGV8bWVudXx3aW5kb3cpKT98KChzZXJ2aWNlc3woZXhjbHVkZWQgZnJvbSApP3dpbmRvd3MpICk/bWVudXwoKGV4ZWN1dGFibGV8ZnJhbWV3b3Jrc3xyZXNvdXJjZXxzY3JpcHRzfHNoYXJlZCAoZnJhbWV3b3Jrc3xzdXBwb3J0KSkgKT9wYXRofChzZWxlY3RlZCBpdGVtICk/aWRlbnRpZmllcnxkYXRhfGNvbnRlbnQoc3wgdmlldyk/fGNoYXJhY3RlcihzKT98Y2xpY2sgY291bnR8KGNvbW1hbmR8Y29udHJvbHxvcHRpb258c2hpZnQpIGtleSBkb3dufGNvbnRleHR8ZGVsdGEgKHh8eXx6KXxrZXkoIGNvZGUpP3xsb2NhdGlvbnxwcmVzc3VyZXx1bm1vZGlmaWVkIGNoYXJhY3RlcnN8dHlwZXN8KGZpcnN0ICk/cmVzcG9uZGVyfHBsYXlpbmd8KGFsbG93ZWR8c2VsZWN0YWJsZSkgaWRlbnRpZmllcnN8YWxsb3dzIGN1c3RvbWl6YXRpb258KGF1dG8gc2F2ZXMgKT9jb25maWd1cmF0aW9ufHZpc2libGV8aW1hZ2UoIG5hbWUpP3xtZW51IGZvcm0gcmVwcmVzZW50YXRpb258dGFnfHVzZXIoLXwgKWRlZmF1bHRzfGFzc29jaWF0ZWQgZmlsZSBuYW1lfChhdXRvfG5lZWRzKSBkaXNwbGF5fGN1cnJlbnQgZmllbGQgZWRpdG9yfGZsb2F0aW5nfGhhcyAocmVzaXplIGluZGljYXRvcnxzaGFkb3cpfGhpZGVzIHdoZW4gZGVhY3RpdmF0ZWR8bGV2ZWx8bWluaW1pemVkIChpbWFnZXx0aXRsZSl8b3BhcXVlfHBvc2l0aW9ufHJlbGVhc2Ugd2hlbiBjbG9zZWR8c2hlZXR8dGl0bGUoZCk/KVxiL2csY3NzOiJjb2xvcjMifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbSIpLGNzczoiY29sb3IzIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhjKSwiZ20iKSxjc3M6ImtleXdvcmQifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGQpLCJnbSIpLGNzczoia2V5d29yZCJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJhcHBsZXNjcmlwdCJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuQXBwbGVTY3JpcHQ9YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBjPSJpZiBmaSB0aGVuIGVsaWYgZWxzZSBmb3IgZG8gZG9uZSB1bnRpbCB3aGlsZSBicmVhayBjb250aW51ZSBjYXNlIGVzYWMgZnVuY3Rpb24gcmV0dXJuIGluIGVxIG5lIGdlIGxlIjt2YXIgYj0iYWxpYXMgYXByb3BvcyBhd2sgYmFzZW5hbWUgYmFzaCBiYyBiZyBidWlsdGluIGJ6aXAyIGNhbCBjYXQgY2QgY2ZkaXNrIGNoZ3JwIGNobW9kIGNob3duIGNocm9vdGNrc3VtIGNsZWFyIGNtcCBjb21tIGNvbW1hbmQgY3AgY3JvbiBjcm9udGFiIGNzcGxpdCBjdXQgZGF0ZSBkYyBkZCBkZHJlc2N1ZSBkZWNsYXJlIGRmIGRpZmYgZGlmZjMgZGlnIGRpciBkaXJjb2xvcnMgZGlybmFtZSBkaXJzIGR1IGVjaG8gZWdyZXAgZWplY3QgZW5hYmxlIGVudiBldGh0b29sIGV2YWwgZXhlYyBleGl0IGV4cGFuZCBleHBvcnQgZXhwciBmYWxzZSBmZGZvcm1hdCBmZGlzayBmZyBmZ3JlcCBmaWxlIGZpbmQgZm10IGZvbGQgZm9ybWF0IGZyZWUgZnNjayBmdHAgZ2F3ayBnZXRvcHRzIGdyZXAgZ3JvdXBzIGd6aXAgaGFzaCBoZWFkIGhpc3RvcnkgaG9zdG5hbWUgaWQgaWZjb25maWcgaW1wb3J0IGluc3RhbGwgam9pbiBraWxsIGxlc3MgbGV0IGxuIGxvY2FsIGxvY2F0ZSBsb2duYW1lIGxvZ291dCBsb29rIGxwYyBscHIgbHByaW50IGxwcmludGQgbHByaW50cSBscHJtIGxzIGxzb2YgbWFrZSBtYW4gbWtkaXIgbWtmaWZvIG1raXNvZnMgbWtub2QgbW9yZSBtb3VudCBtdG9vbHMgbXYgbmV0c3RhdCBuaWNlIG5sIG5vaHVwIG5zbG9va3VwIG9wZW4gb3AgcGFzc3dkIHBhc3RlIHBhdGhjaGsgcGluZyBwb3BkIHByIHByaW50Y2FwIHByaW50ZW52IHByaW50ZiBwcyBwdXNoZCBwd2QgcXVvdGEgcXVvdGFjaGVjayBxdW90YWN0bCByYW0gcmNwIHJlYWQgcmVhZG9ubHkgcmVuaWNlIHJlbXN5bmMgcm0gcm1kaXIgcnN5bmMgc2NyZWVuIHNjcCBzZGlmZiBzZWQgc2VsZWN0IHNlcSBzZXQgc2Z0cCBzaGlmdCBzaG9wdCBzaHV0ZG93biBzbGVlcCBzb3J0IHNvdXJjZSBzcGxpdCBzc2ggc3RyYWNlIHN1IHN1ZG8gc3VtIHN5bWxpbmsgc3luYyB0YWlsIHRhciB0ZWUgdGVzdCB0aW1lIHRpbWVzIHRvdWNoIHRvcCB0cmFjZXJvdXRlIHRyYXAgdHIgdHJ1ZSB0c29ydCB0dHkgdHlwZSB1bGltaXQgdW1hc2sgdW1vdW50IHVuYWxpYXMgdW5hbWUgdW5leHBhbmQgdW5pcSB1bml0cyB1bnNldCB1bnNoYXIgdXNlcmFkZCB1c2VybW9kIHVzZXJzIHV1ZW5jb2RlIHV1ZGVjb2RlIHYgdmRpciB2aSB3YXRjaCB3YyB3aGVyZWlzIHdoaWNoIHdobyB3aG9hbWkgV2dldCB4YXJncyB5ZXMiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6L14jIS4qJC9nbSxjc3M6InByZXByb2Nlc3NvciBib2xkIn0se3JlZ2V4Oi9cL1tcdy1cL10rL2dtLGNzczoicGxhaW4ifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlTGluZVBlcmxDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmRvdWJsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGMpLCJnbSIpLGNzczoia2V5d29yZCJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYiksImdtIiksY3NzOiJmdW5jdGlvbnMifV19YS5wcm90b3R5cGU9bmV3IFN5bnRheEhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyKCk7YS5hbGlhc2VzPVsiYmFzaCIsInNoZWxsIiwic2giXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkJhc2g9YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBjPSJBYnMgQUNvcyBBZGRTT0FQUmVxdWVzdEhlYWRlciBBZGRTT0FQUmVzcG9uc2VIZWFkZXIgQWpheExpbmsgQWpheE9uTG9hZCBBcnJheUFwcGVuZCBBcnJheUF2ZyBBcnJheUNsZWFyIEFycmF5RGVsZXRlQXQgQXJyYXlJbnNlcnRBdCBBcnJheUlzRGVmaW5lZCBBcnJheUlzRW1wdHkgQXJyYXlMZW4gQXJyYXlNYXggQXJyYXlNaW4gQXJyYXlTZXQgQXJyYXlTb3J0IEFycmF5U3VtIEFycmF5U3dhcCBBcnJheVRvTGlzdCBBc2MgQVNpbiBBdG4gQmluYXJ5RGVjb2RlIEJpbmFyeUVuY29kZSBCaXRBbmQgQml0TWFza0NsZWFyIEJpdE1hc2tSZWFkIEJpdE1hc2tTZXQgQml0Tm90IEJpdE9yIEJpdFNITE4gQml0U0hSTiBCaXRYb3IgQ2VpbGluZyBDaGFyc2V0RGVjb2RlIENoYXJzZXRFbmNvZGUgQ2hyIENKdXN0aWZ5IENvbXBhcmUgQ29tcGFyZU5vQ2FzZSBDb3MgQ3JlYXRlRGF0ZSBDcmVhdGVEYXRlVGltZSBDcmVhdGVPYmplY3QgQ3JlYXRlT0RCQ0RhdGUgQ3JlYXRlT0RCQ0RhdGVUaW1lIENyZWF0ZU9EQkNUaW1lIENyZWF0ZVRpbWUgQ3JlYXRlVGltZVNwYW4gQ3JlYXRlVVVJRCBEYXRlQWRkIERhdGVDb21wYXJlIERhdGVDb252ZXJ0IERhdGVEaWZmIERhdGVGb3JtYXQgRGF0ZVBhcnQgRGF5IERheU9mV2VlayBEYXlPZldlZWtBc1N0cmluZyBEYXlPZlllYXIgRGF5c0luTW9udGggRGF5c0luWWVhciBERSBEZWNpbWFsRm9ybWF0IERlY3JlbWVudFZhbHVlIERlY3J5cHQgRGVjcnlwdEJpbmFyeSBEZWxldGVDbGllbnRWYXJpYWJsZSBEZXNlcmlhbGl6ZUpTT04gRGlyZWN0b3J5RXhpc3RzIERvbGxhckZvcm1hdCBEb3ROZXRUb0NGVHlwZSBEdXBsaWNhdGUgRW5jcnlwdCBFbmNyeXB0QmluYXJ5IEV2YWx1YXRlIEV4cCBFeHBhbmRQYXRoIEZpbGVDbG9zZSBGaWxlQ29weSBGaWxlRGVsZXRlIEZpbGVFeGlzdHMgRmlsZUlzRU9GIEZpbGVNb3ZlIEZpbGVPcGVuIEZpbGVSZWFkIEZpbGVSZWFkQmluYXJ5IEZpbGVSZWFkTGluZSBGaWxlU2V0QWNjZXNzTW9kZSBGaWxlU2V0QXR0cmlidXRlIEZpbGVTZXRMYXN0TW9kaWZpZWQgRmlsZVdyaXRlIEZpbmQgRmluZE5vQ2FzZSBGaW5kT25lT2YgRmlyc3REYXlPZk1vbnRoIEZpeCBGb3JtYXRCYXNlTiBHZW5lcmF0ZVNlY3JldEtleSBHZXRBdXRoVXNlciBHZXRCYXNlVGFnRGF0YSBHZXRCYXNlVGFnTGlzdCBHZXRCYXNlVGVtcGxhdGVQYXRoIEdldENsaWVudFZhcmlhYmxlc0xpc3QgR2V0Q29tcG9uZW50TWV0YURhdGEgR2V0Q29udGV4dFJvb3QgR2V0Q3VycmVudFRlbXBsYXRlUGF0aCBHZXREaXJlY3RvcnlGcm9tUGF0aCBHZXRFbmNvZGluZyBHZXRFeGNlcHRpb24gR2V0RmlsZUZyb21QYXRoIEdldEZpbGVJbmZvIEdldEZ1bmN0aW9uTGlzdCBHZXRHYXRld2F5SGVscGVyIEdldEh0dHBSZXF1ZXN0RGF0YSBHZXRIdHRwVGltZVN0cmluZyBHZXRLMlNlcnZlckRvY0NvdW50IEdldEsyU2VydmVyRG9jQ291bnRMaW1pdCBHZXRMb2NhbGUgR2V0TG9jYWxlRGlzcGxheU5hbWUgR2V0TG9jYWxIb3N0SVAgR2V0TWV0YURhdGEgR2V0TWV0cmljRGF0YSBHZXRQYWdlQ29udGV4dCBHZXRQcmludGVySW5mbyBHZXRQcm9maWxlU2VjdGlvbnMgR2V0UHJvZmlsZVN0cmluZyBHZXRSZWFkYWJsZUltYWdlRm9ybWF0cyBHZXRTT0FQUmVxdWVzdCBHZXRTT0FQUmVxdWVzdEhlYWRlciBHZXRTT0FQUmVzcG9uc2UgR2V0U09BUFJlc3BvbnNlSGVhZGVyIEdldFRlbXBEaXJlY3RvcnkgR2V0VGVtcEZpbGUgR2V0VGVtcGxhdGVQYXRoIEdldFRpY2tDb3VudCBHZXRUaW1lWm9uZUluZm8gR2V0VG9rZW4gR2V0VXNlclJvbGVzIEdldFdyaXRlYWJsZUltYWdlRm9ybWF0cyBIYXNoIEhvdXIgSFRNTENvZGVGb3JtYXQgSFRNTEVkaXRGb3JtYXQgSUlmIEltYWdlQWRkQm9yZGVyIEltYWdlQmx1ciBJbWFnZUNsZWFyUmVjdCBJbWFnZUNvcHkgSW1hZ2VDcm9wIEltYWdlRHJhd0FyYyBJbWFnZURyYXdCZXZlbGVkUmVjdCBJbWFnZURyYXdDdWJpY0N1cnZlIEltYWdlRHJhd0xpbmUgSW1hZ2VEcmF3TGluZXMgSW1hZ2VEcmF3T3ZhbCBJbWFnZURyYXdQb2ludCBJbWFnZURyYXdRdWFkcmF0aWNDdXJ2ZSBJbWFnZURyYXdSZWN0IEltYWdlRHJhd1JvdW5kUmVjdCBJbWFnZURyYXdUZXh0IEltYWdlRmxpcCBJbWFnZUdldEJsb2IgSW1hZ2VHZXRCdWZmZXJlZEltYWdlIEltYWdlR2V0RVhJRlRhZyBJbWFnZUdldEhlaWdodCBJbWFnZUdldElQVENUYWcgSW1hZ2VHZXRXaWR0aCBJbWFnZUdyYXlzY2FsZSBJbWFnZUluZm8gSW1hZ2VOZWdhdGl2ZSBJbWFnZU5ldyBJbWFnZU92ZXJsYXkgSW1hZ2VQYXN0ZSBJbWFnZVJlYWQgSW1hZ2VSZWFkQmFzZTY0IEltYWdlUmVzaXplIEltYWdlUm90YXRlIEltYWdlUm90YXRlRHJhd2luZ0F4aXMgSW1hZ2VTY2FsZVRvRml0IEltYWdlU2V0QW50aWFsaWFzaW5nIEltYWdlU2V0QmFja2dyb3VuZENvbG9yIEltYWdlU2V0RHJhd2luZ0NvbG9yIEltYWdlU2V0RHJhd2luZ1N0cm9rZSBJbWFnZVNldERyYXdpbmdUcmFuc3BhcmVuY3kgSW1hZ2VTaGFycGVuIEltYWdlU2hlYXIgSW1hZ2VTaGVhckRyYXdpbmdBeGlzIEltYWdlVHJhbnNsYXRlIEltYWdlVHJhbnNsYXRlRHJhd2luZ0F4aXMgSW1hZ2VXcml0ZSBJbWFnZVdyaXRlQmFzZTY0IEltYWdlWE9SRHJhd2luZ01vZGUgSW5jcmVtZW50VmFsdWUgSW5wdXRCYXNlTiBJbnNlcnQgSW50IElzQXJyYXkgSXNCaW5hcnkgSXNCb29sZWFuIElzQ3VzdG9tRnVuY3Rpb24gSXNEYXRlIElzRERYIElzRGVidWdNb2RlIElzRGVmaW5lZCBJc0ltYWdlIElzSW1hZ2VGaWxlIElzSW5zdGFuY2VPZiBJc0pTT04gSXNMZWFwWWVhciBJc0xvY2FsSG9zdCBJc051bWVyaWMgSXNOdW1lcmljRGF0ZSBJc09iamVjdCBJc1BERkZpbGUgSXNQREZPYmplY3QgSXNRdWVyeSBJc1NpbXBsZVZhbHVlIElzU09BUFJlcXVlc3QgSXNTdHJ1Y3QgSXNVc2VySW5BbnlSb2xlIElzVXNlckluUm9sZSBJc1VzZXJMb2dnZWRJbiBJc1ZhbGlkIElzV0REWCBJc1hNTCBJc1htbEF0dHJpYnV0ZSBJc1htbERvYyBJc1htbEVsZW0gSXNYbWxOb2RlIElzWG1sUm9vdCBKYXZhQ2FzdCBKU1N0cmluZ0Zvcm1hdCBMQ2FzZSBMZWZ0IExlbiBMaXN0QXBwZW5kIExpc3RDaGFuZ2VEZWxpbXMgTGlzdENvbnRhaW5zIExpc3RDb250YWluc05vQ2FzZSBMaXN0RGVsZXRlQXQgTGlzdEZpbmQgTGlzdEZpbmROb0Nhc2UgTGlzdEZpcnN0IExpc3RHZXRBdCBMaXN0SW5zZXJ0QXQgTGlzdExhc3QgTGlzdExlbiBMaXN0UHJlcGVuZCBMaXN0UXVhbGlmeSBMaXN0UmVzdCBMaXN0U2V0QXQgTGlzdFNvcnQgTGlzdFRvQXJyYXkgTGlzdFZhbHVlQ291bnQgTGlzdFZhbHVlQ291bnROb0Nhc2UgTEp1c3RpZnkgTG9nIExvZzEwIExTQ3VycmVuY3lGb3JtYXQgTFNEYXRlRm9ybWF0IExTRXVyb0N1cnJlbmN5Rm9ybWF0IExTSXNDdXJyZW5jeSBMU0lzRGF0ZSBMU0lzTnVtZXJpYyBMU051bWJlckZvcm1hdCBMU1BhcnNlQ3VycmVuY3kgTFNQYXJzZURhdGVUaW1lIExTUGFyc2VFdXJvQ3VycmVuY3kgTFNQYXJzZU51bWJlciBMU1RpbWVGb3JtYXQgTFRyaW0gTWF4IE1pZCBNaW4gTWludXRlIE1vbnRoIE1vbnRoQXNTdHJpbmcgTm93IE51bWJlckZvcm1hdCBQYXJhZ3JhcGhGb3JtYXQgUGFyc2VEYXRlVGltZSBQaSBQcmVjaXNpb25FdmFsdWF0ZSBQcmVzZXJ2ZVNpbmdsZVF1b3RlcyBRdWFydGVyIFF1ZXJ5QWRkQ29sdW1uIFF1ZXJ5QWRkUm93IFF1ZXJ5Q29udmVydEZvckdyaWQgUXVlcnlOZXcgUXVlcnlTZXRDZWxsIFF1b3RlZFZhbHVlTGlzdCBSYW5kIFJhbmRvbWl6ZSBSYW5kUmFuZ2UgUkVGaW5kIFJFRmluZE5vQ2FzZSBSZWxlYXNlQ29tT2JqZWN0IFJFTWF0Y2ggUkVNYXRjaE5vQ2FzZSBSZW1vdmVDaGFycyBSZXBlYXRTdHJpbmcgUmVwbGFjZSBSZXBsYWNlTGlzdCBSZXBsYWNlTm9DYXNlIFJFUmVwbGFjZSBSRVJlcGxhY2VOb0Nhc2UgUmV2ZXJzZSBSaWdodCBSSnVzdGlmeSBSb3VuZCBSVHJpbSBTZWNvbmQgU2VuZEdhdGV3YXlNZXNzYWdlIFNlcmlhbGl6ZUpTT04gU2V0RW5jb2RpbmcgU2V0TG9jYWxlIFNldFByb2ZpbGVTdHJpbmcgU2V0VmFyaWFibGUgU2duIFNpbiBTbGVlcCBTcGFuRXhjbHVkaW5nIFNwYW5JbmNsdWRpbmcgU3FyIFN0cmlwQ1IgU3RydWN0QXBwZW5kIFN0cnVjdENsZWFyIFN0cnVjdENvcHkgU3RydWN0Q291bnQgU3RydWN0RGVsZXRlIFN0cnVjdEZpbmQgU3RydWN0RmluZEtleSBTdHJ1Y3RGaW5kVmFsdWUgU3RydWN0R2V0IFN0cnVjdEluc2VydCBTdHJ1Y3RJc0VtcHR5IFN0cnVjdEtleUFycmF5IFN0cnVjdEtleUV4aXN0cyBTdHJ1Y3RLZXlMaXN0IFN0cnVjdEtleUxpc3QgU3RydWN0TmV3IFN0cnVjdFNvcnQgU3RydWN0VXBkYXRlIFRhbiBUaW1lRm9ybWF0IFRvQmFzZTY0IFRvQmluYXJ5IFRvU2NyaXB0IFRvU3RyaW5nIFRyaW0gVUNhc2UgVVJMRGVjb2RlIFVSTEVuY29kZWRGb3JtYXQgVVJMU2Vzc2lvbkZvcm1hdCBWYWwgVmFsdWVMaXN0IFZlcmlmeUNsaWVudCBXZWVrIFdyYXAgV3JhcCBXcml0ZU91dHB1dCBYbWxDaGlsZFBvcyBYbWxFbGVtTmV3IFhtbEZvcm1hdCBYbWxHZXROb2RlVHlwZSBYbWxOZXcgWG1sUGFyc2UgWG1sU2VhcmNoIFhtbFRyYW5zZm9ybSBYbWxWYWxpZGF0ZSBZZWFyIFllc05vRm9ybWF0Ijt2YXIgZD0iY2ZhYm9ydCBjZmFqYXhpbXBvcnQgY2ZhamF4cHJveHkgY2ZhcHBsZXQgY2ZhcHBsaWNhdGlvbiBjZmFyZ3VtZW50IGNmYXNzb2NpYXRlIGNmYnJlYWsgY2ZjYWNoZSBjZmNhbGVuZGFyIGNmY2FzZSBjZmNhdGNoIGNmY2hhcnQgY2ZjaGFydGRhdGEgY2ZjaGFydHNlcmllcyBjZmNvbCBjZmNvbGxlY3Rpb24gY2Zjb21wb25lbnQgY2Zjb250ZW50IGNmY29va2llIGNmZGJpbmZvIGNmZGVmYXVsdGNhc2UgY2ZkaXJlY3RvcnkgY2ZkaXYgY2Zkb2N1bWVudCBjZmRvY3VtZW50aXRlbSBjZmRvY3VtZW50c2VjdGlvbiBjZmR1bXAgY2ZlbHNlIGNmZWxzZWlmIGNmZXJyb3IgY2ZleGNoYW5nZWNhbGVuZGFyIGNmZXhjaGFuZ2Vjb25uZWN0aW9uIGNmZXhjaGFuZ2Vjb250YWN0IGNmZXhjaGFuZ2VmaWx0ZXIgY2ZleGNoYW5nZW1haWwgY2ZleGNoYW5nZXRhc2sgY2ZleGVjdXRlIGNmZXhpdCBjZmZlZWQgY2ZmaWxlIGNmZmx1c2ggY2Zmb3JtIGNmZm9ybWdyb3VwIGNmZm9ybWl0ZW0gY2ZmdHAgY2ZmdW5jdGlvbiBjZmdyaWQgY2ZncmlkY29sdW1uIGNmZ3JpZHJvdyBjZmdyaWR1cGRhdGUgY2ZoZWFkZXIgY2ZodG1saGVhZCBjZmh0dHAgY2ZodHRwcGFyYW0gY2ZpZiBjZmltYWdlIGNmaW1wb3J0IGNmaW5jbHVkZSBjZmluZGV4IGNmaW5wdXQgY2ZpbnNlcnQgY2ZpbnRlcmZhY2UgY2ZpbnZva2UgY2ZpbnZva2Vhcmd1bWVudCBjZmxheW91dCBjZmxheW91dGFyZWEgY2ZsZGFwIGNmbG9jYXRpb24gY2Zsb2NrIGNmbG9nIGNmbG9naW4gY2Zsb2dpbnVzZXIgY2Zsb2dvdXQgY2Zsb29wIGNmbWFpbCBjZm1haWxwYXJhbSBjZm1haWxwYXJ0IGNmbWVudSBjZm1lbnVpdGVtIGNmbW9kdWxlIGNmTlRhdXRoZW50aWNhdGUgY2ZvYmplY3QgY2ZvYmplY3RjYWNoZSBjZm91dHB1dCBjZnBhcmFtIGNmcGRmIGNmcGRmZm9ybSBjZnBkZmZvcm1wYXJhbSBjZnBkZnBhcmFtIGNmcGRmc3ViZm9ybSBjZnBvZCBjZnBvcCBjZnByZXNlbnRhdGlvbiBjZnByZXNlbnRhdGlvbnNsaWRlIGNmcHJlc2VudGVyIGNmcHJpbnQgY2Zwcm9jZXNzaW5nZGlyZWN0aXZlIGNmcHJvY3BhcmFtIGNmcHJvY3Jlc3VsdCBjZnByb3BlcnR5IGNmcXVlcnkgY2ZxdWVyeXBhcmFtIGNmcmVnaXN0cnkgY2ZyZXBvcnQgY2ZyZXBvcnRwYXJhbSBjZnJldGhyb3cgY2ZyZXR1cm4gY2ZzYXZlY29udGVudCBjZnNjaGVkdWxlIGNmc2NyaXB0IGNmc2VhcmNoIGNmc2VsZWN0IGNmc2V0IGNmc2V0dGluZyBjZnNpbGVudCBjZnNsaWRlciBjZnNwcnlkYXRhc2V0IGNmc3RvcmVkcHJvYyBjZnN3aXRjaCBjZnRhYmxlIGNmdGV4dGFyZWEgY2Z0aHJlYWQgY2Z0aHJvdyBjZnRpbWVyIGNmdG9vbHRpcCBjZnRyYWNlIGNmdHJhbnNhY3Rpb24gY2Z0cmVlIGNmdHJlZWl0ZW0gY2Z0cnkgY2Z1cGRhdGUgY2Z3ZGR4IGNmd2luZG93IGNmeG1sIGNmemlwIGNmemlwcGFyYW0iO3ZhciBiPSJhbGwgYW5kIGFueSBiZXR3ZWVuIGNyb3NzIGluIGpvaW4gbGlrZSBub3QgbnVsbCBvciBvdXRlciBzb21lIjt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4Om5ldyBSZWdFeHAoIi0tKC4qKSQiLCJnbSIpLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIueG1sQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhjKSwiZ21pIiksY3NzOiJmdW5jdGlvbnMifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbWkiKSxjc3M6ImNvbG9yMSJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoZCksImdtaSIpLGNzczoia2V5d29yZCJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJjb2xkZnVzaW9uIiwiY2YiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkNvbGRGdXNpb249YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBkPSJBVE9NIEJPT0wgQk9PTEVBTiBCWVRFIENIQVIgQ09MT1JSRUYgRFdPUkQgRFdPUkRMT05HIERXT1JEX1BUUiBEV09SRDMyIERXT1JENjQgRkxPQVQgSEFDQ0VMIEhBTEZfUFRSIEhBTkRMRSBIQklUTUFQIEhCUlVTSCBIQ09MT1JTUEFDRSBIQ09OViBIQ09OVkxJU1QgSENVUlNPUiBIREMgSERERURBVEEgSERFU0sgSERST1AgSERXUCBIRU5ITUVUQUZJTEUgSEZJTEUgSEZPTlQgSEdESU9CSiBIR0xPQkFMIEhIT09LIEhJQ09OIEhJTlNUQU5DRSBIS0VZIEhLTCBITE9DQUwgSE1FTlUgSE1FVEFGSUxFIEhNT0RVTEUgSE1PTklUT1IgSFBBTEVUVEUgSFBFTiBIUkVTVUxUIEhSR04gSFJTUkMgSFNaIEhXSU5TVEEgSFdORCBJTlQgSU5UX1BUUiBJTlQzMiBJTlQ2NCBMQU5HSUQgTENJRCBMQ1RZUEUgTEdSUElEIExPTkcgTE9OR0xPTkcgTE9OR19QVFIgTE9ORzMyIExPTkc2NCBMUEFSQU0gTFBCT09MIExQQllURSBMUENPTE9SUkVGIExQQ1NUUiBMUENUU1RSIExQQ1ZPSUQgTFBDV1NUUiBMUERXT1JEIExQSEFORExFIExQSU5UIExQTE9ORyBMUFNUUiBMUFRTVFIgTFBWT0lEIExQV09SRCBMUFdTVFIgTFJFU1VMVCBQQk9PTCBQQk9PTEVBTiBQQllURSBQQ0hBUiBQQ1NUUiBQQ1RTVFIgUENXU1RSIFBEV09SRExPTkcgUERXT1JEX1BUUiBQRFdPUkQzMiBQRFdPUkQ2NCBQRkxPQVQgUEhBTEZfUFRSIFBIQU5ETEUgUEhLRVkgUElOVCBQSU5UX1BUUiBQSU5UMzIgUElOVDY0IFBMQ0lEIFBMT05HIFBMT05HTE9ORyBQTE9OR19QVFIgUExPTkczMiBQTE9ORzY0IFBPSU5URVJfMzIgUE9JTlRFUl82NCBQU0hPUlQgUFNJWkVfVCBQU1NJWkVfVCBQU1RSIFBUQllURSBQVENIQVIgUFRTVFIgUFVDSEFSIFBVSEFMRl9QVFIgUFVJTlQgUFVJTlRfUFRSIFBVSU5UMzIgUFVJTlQ2NCBQVUxPTkcgUFVMT05HTE9ORyBQVUxPTkdfUFRSIFBVTE9ORzMyIFBVTE9ORzY0IFBVU0hPUlQgUFZPSUQgUFdDSEFSIFBXT1JEIFBXU1RSIFNDX0hBTkRMRSBTQ19MT0NLIFNFUlZJQ0VfU1RBVFVTX0hBTkRMRSBTSE9SVCBTSVpFX1QgU1NJWkVfVCBUQllURSBUQ0hBUiBVQ0hBUiBVSEFMRl9QVFIgVUlOVCBVSU5UX1BUUiBVSU5UMzIgVUlOVDY0IFVMT05HIFVMT05HTE9ORyBVTE9OR19QVFIgVUxPTkczMiBVTE9ORzY0IFVTSE9SVCBVU04gVk9JRCBXQ0hBUiBXT1JEIFdQQVJBTSBXUEFSQU0gV1BBUkFNIGNoYXIgYm9vbCBzaG9ydCBpbnQgX19pbnQzMiBfX2ludDY0IF9faW50OCBfX2ludDE2IGxvbmcgZmxvYXQgZG91YmxlIF9fd2NoYXJfdCBjbG9ja190IF9jb21wbGV4IF9kZXZfdCBfZGlza2ZyZWVfdCBkaXZfdCBsZGl2X3QgX2V4Y2VwdGlvbiBfRVhDRVBUSU9OX1BPSU5URVJTIEZJTEUgX2ZpbmRkYXRhX3QgX2ZpbmRkYXRhaTY0X3QgX3dmaW5kZGF0YV90IF93ZmluZGRhdGFpNjRfdCBfX2ZpbmRkYXRhNjRfdCBfX3dmaW5kZGF0YTY0X3QgX0ZQSUVFRV9SRUNPUkQgZnBvc190IF9IRUFQSU5GTyBfSEZJTEUgbGNvbnYgaW50cHRyX3Qgam1wX2J1ZiBtYnN0YXRlX3QgX29mZl90IF9vbmV4aXRfdCBfUE5IIHB0cmRpZmZfdCBfcHVyZWNhbGxfaGFuZGxlciBzaWdfYXRvbWljX3Qgc2l6ZV90IF9zdGF0IF9fc3RhdDY0IF9zdGF0aTY0IHRlcm1pbmF0ZV9mdW5jdGlvbiB0aW1lX3QgX190aW1lNjRfdCBfdGltZWIgX190aW1lYjY0IHRtIHVpbnRwdHJfdCBfdXRpbWJ1ZiB2YV9saXN0IHdjaGFyX3Qgd2N0cmFuc190IHdjdHlwZV90IHdpbnRfdCBzaWduZWQiO3ZhciBiPSJhdXRvIGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29uc3QgZGVjbHR5cGUgX19maW5hbGx5IF9fZXhjZXB0aW9uIF9fdHJ5IGNvbnN0X2Nhc3QgY29udGludWUgcHJpdmF0ZSBwdWJsaWMgcHJvdGVjdGVkIF9fZGVjbHNwZWMgZGVmYXVsdCBkZWxldGUgZGVwcmVjYXRlZCBkbGxleHBvcnQgZGxsaW1wb3J0IGRvIGR5bmFtaWNfY2FzdCBlbHNlIGVudW0gZXhwbGljaXQgZXh0ZXJuIGlmIGZvciBmcmllbmQgZ290byBpbmxpbmUgbXV0YWJsZSBuYWtlZCBuYW1lc3BhY2UgbmV3IG5vaW5saW5lIG5vcmV0dXJuIG5vdGhyb3cgcmVnaXN0ZXIgcmVpbnRlcnByZXRfY2FzdCByZXR1cm4gc2VsZWN0YW55IHNpemVvZiBzdGF0aWMgc3RhdGljX2Nhc3Qgc3RydWN0IHN3aXRjaCB0ZW1wbGF0ZSB0aGlzIHRocmVhZCB0aHJvdyB0cnVlIGZhbHNlIHRyeSB0eXBlZGVmIHR5cGVpZCB0eXBlbmFtZSB1bmlvbiB1c2luZyB1dWlkIHZpcnR1YWwgdm9pZCB2b2xhdGlsZSB3aGNhcl90IHdoaWxlIjt2YXIgYz0iYXNzZXJ0IGlzYWxudW0gaXNhbHBoYSBpc2NudHJsIGlzZGlnaXQgaXNncmFwaCBpc2xvd2VyIGlzcHJpbnRpc3B1bmN0IGlzc3BhY2UgaXN1cHBlciBpc3hkaWdpdCB0b2xvd2VyIHRvdXBwZXIgZXJybm8gbG9jYWxlY29udiBzZXRsb2NhbGUgYWNvcyBhc2luIGF0YW4gYXRhbjIgY2VpbCBjb3MgY29zaCBleHAgZmFicyBmbG9vciBmbW9kIGZyZXhwIGxkZXhwIGxvZyBsb2cxMCBtb2RmIHBvdyBzaW4gc2luaCBzcXJ0IHRhbiB0YW5oIGptcF9idWYgbG9uZ2ptcCBzZXRqbXAgcmFpc2Ugc2lnbmFsIHNpZ19hdG9taWNfdCB2YV9hcmcgdmFfZW5kIHZhX3N0YXJ0IGNsZWFyZXJyIGZjbG9zZSBmZW9mIGZlcnJvciBmZmx1c2ggZmdldGMgZmdldHBvcyBmZ2V0cyBmb3BlbiBmcHJpbnRmIGZwdXRjIGZwdXRzIGZyZWFkIGZyZW9wZW4gZnNjYW5mIGZzZWVrIGZzZXRwb3MgZnRlbGwgZndyaXRlIGdldGMgZ2V0Y2hhciBnZXRzIHBlcnJvciBwcmludGYgcHV0YyBwdXRjaGFyIHB1dHMgcmVtb3ZlIHJlbmFtZSByZXdpbmQgc2NhbmYgc2V0YnVmIHNldHZidWYgc3ByaW50ZiBzc2NhbmYgdG1wZmlsZSB0bXBuYW0gdW5nZXRjIHZmcHJpbnRmIHZwcmludGYgdnNwcmludGYgYWJvcnQgYWJzIGF0ZXhpdCBhdG9mIGF0b2kgYXRvbCBic2VhcmNoIGNhbGxvYyBkaXYgZXhpdCBmcmVlIGdldGVudiBsYWJzIGxkaXYgbWFsbG9jIG1ibGVuIG1ic3Rvd2NzIG1idG93YyBxc29ydCByYW5kIHJlYWxsb2Mgc3JhbmQgc3RydG9kIHN0cnRvbCBzdHJ0b3VsIHN5c3RlbSB3Y3N0b21icyB3Y3RvbWIgbWVtY2hyIG1lbWNtcCBtZW1jcHkgbWVtbW92ZSBtZW1zZXQgc3RyY2F0IHN0cmNociBzdHJjbXAgc3RyY29sbCBzdHJjcHkgc3RyY3NwbiBzdHJlcnJvciBzdHJsZW4gc3RybmNhdCBzdHJuY21wIHN0cm5jcHkgc3RycGJyayBzdHJyY2hyIHN0cnNwbiBzdHJzdHIgc3RydG9rIHN0cnhmcm0gYXNjdGltZSBjbG9jayBjdGltZSBkaWZmdGltZSBnbXRpbWUgbG9jYWx0aW1lIG1rdGltZSBzdHJmdGltZSB0aW1lIjt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4Oi9eICojLiovZ20sY3NzOiJwcmVwcm9jZXNzb3IifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGQpLCJnbSIpLGNzczoiY29sb3IxIGJvbGQifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGMpLCJnbSIpLGNzczoiZnVuY3Rpb25zIGJvbGQifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbSIpLGNzczoia2V5d29yZCBib2xkIn1dfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bImNwcCIsImMiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkNwcD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7dmFyIGM9ImFic3RyYWN0IGFzIGJhc2UgYm9vbCBicmVhayBieXRlIGNhc2UgY2F0Y2ggY2hhciBjaGVja2VkIGNsYXNzIGNvbnN0IGNvbnRpbnVlIGRlY2ltYWwgZGVmYXVsdCBkZWxlZ2F0ZSBkbyBkb3VibGUgZWxzZSBlbnVtIGV2ZW50IGV4cGxpY2l0IHZvbGF0aWxlIGV4dGVybiBmYWxzZSBmaW5hbGx5IGZpeGVkIGZsb2F0IGZvciBmb3JlYWNoIGdldCBnb3RvIGlmIGltcGxpY2l0IGluIGludCBpbnRlcmZhY2UgaW50ZXJuYWwgaXMgbG9jayBsb25nIG5hbWVzcGFjZSBuZXcgbnVsbCBvYmplY3Qgb3BlcmF0b3Igb3V0IG92ZXJyaWRlIHBhcmFtcyBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgcmVhZG9ubHkgcmVmIHJldHVybiBzYnl0ZSBzZWFsZWQgc2V0IHNob3J0IHNpemVvZiBzdGFja2FsbG9jIHN0YXRpYyBzdHJpbmcgc3RydWN0IHN3aXRjaCB0aGlzIHRocm93IHRydWUgdHJ5IHR5cGVvZiB1aW50IHVsb25nIHVuY2hlY2tlZCB1bnNhZmUgdXNob3J0IHVzaW5nIHZpcnR1YWwgdm9pZCB3aGlsZSB2YXIgZnJvbSBncm91cCBieSBpbnRvIHNlbGVjdCBsZXQgd2hlcmUgb3JkZXJieSBqb2luIG9uIGVxdWFscyBhc2NlbmRpbmcgZGVzY2VuZGluZyI7ZnVuY3Rpb24gYihkLGYpe3ZhciBlPShkWzBdLmluZGV4T2YoIi8vLyIpPT0wKT8iY29sb3IxIjoiY29tbWVudHMiO3JldHVybltuZXcgU3ludGF4SGlnaGxpZ2h0ZXIuTWF0Y2goZFswXSxkLmluZGV4LGUpXX10aGlzLnJlZ2V4TGlzdD1be3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsZnVuYzpifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIubXVsdGlMaW5lQ0NvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6L0AiKD86W14iXXwiIikqIi9nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmRvdWJsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6L15ccyojLiovZ20sY3NzOiJwcmVwcm9jZXNzb3IifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGMpLCJnbSIpLGNzczoia2V5d29yZCJ9LHtyZWdleDovXGJwYXJ0aWFsKD89XHMrKD86Y2xhc3N8aW50ZXJmYWNlfHN0cnVjdClcYikvZyxjc3M6ImtleXdvcmQifSx7cmVnZXg6L1xieWllbGQoPz1ccysoPzpyZXR1cm58YnJlYWspXGIpL2csY3NzOiJrZXl3b3JkIn1dO3RoaXMuZm9ySHRtbFNjcmlwdChTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5hc3BTY3JpcHRUYWdzKX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJjIyIsImMtc2hhcnAiLCJjc2hhcnAiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkNTaGFycD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7ZnVuY3Rpb24gYihnKXtyZXR1cm4iXFxiKFthLXpfXXwpIitnLnJlcGxhY2UoLyAvZywiKD89OilcXGJ8XFxiKFthLXpfXFwqXXxcXCp8KSIpKyIoPz06KVxcYiJ9ZnVuY3Rpb24gZChnKXtyZXR1cm4iXFxiIitnLnJlcGxhY2UoLyAvZywiKD8hLSkoPyE6KVxcYnxcXGIoKSIpKyI6XFxiIn12YXIgZT0iYXNjZW50IGF6aW11dGggYmFja2dyb3VuZC1hdHRhY2htZW50IGJhY2tncm91bmQtY29sb3IgYmFja2dyb3VuZC1pbWFnZSBiYWNrZ3JvdW5kLXBvc2l0aW9uIGJhY2tncm91bmQtcmVwZWF0IGJhY2tncm91bmQgYmFzZWxpbmUgYmJveCBib3JkZXItY29sbGFwc2UgYm9yZGVyLWNvbG9yIGJvcmRlci1zcGFjaW5nIGJvcmRlci1zdHlsZSBib3JkZXItdG9wIGJvcmRlci1yaWdodCBib3JkZXItYm90dG9tIGJvcmRlci1sZWZ0IGJvcmRlci10b3AtY29sb3IgYm9yZGVyLXJpZ2h0LWNvbG9yIGJvcmRlci1ib3R0b20tY29sb3IgYm9yZGVyLWxlZnQtY29sb3IgYm9yZGVyLXRvcC1zdHlsZSBib3JkZXItcmlnaHQtc3R5bGUgYm9yZGVyLWJvdHRvbS1zdHlsZSBib3JkZXItbGVmdC1zdHlsZSBib3JkZXItdG9wLXdpZHRoIGJvcmRlci1yaWdodC13aWR0aCBib3JkZXItYm90dG9tLXdpZHRoIGJvcmRlci1sZWZ0LXdpZHRoIGJvcmRlci13aWR0aCBib3JkZXIgYm90dG9tIGNhcC1oZWlnaHQgY2FwdGlvbi1zaWRlIGNlbnRlcmxpbmUgY2xlYXIgY2xpcCBjb2xvciBjb250ZW50IGNvdW50ZXItaW5jcmVtZW50IGNvdW50ZXItcmVzZXQgY3VlLWFmdGVyIGN1ZS1iZWZvcmUgY3VlIGN1cnNvciBkZWZpbml0aW9uLXNyYyBkZXNjZW50IGRpcmVjdGlvbiBkaXNwbGF5IGVsZXZhdGlvbiBlbXB0eS1jZWxscyBmbG9hdCBmb250LXNpemUtYWRqdXN0IGZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXN0cmV0Y2ggZm9udC1zdHlsZSBmb250LXZhcmlhbnQgZm9udC13ZWlnaHQgZm9udCBoZWlnaHQgbGVmdCBsZXR0ZXItc3BhY2luZyBsaW5lLWhlaWdodCBsaXN0LXN0eWxlLWltYWdlIGxpc3Qtc3R5bGUtcG9zaXRpb24gbGlzdC1zdHlsZS10eXBlIGxpc3Qtc3R5bGUgbWFyZ2luLXRvcCBtYXJnaW4tcmlnaHQgbWFyZ2luLWJvdHRvbSBtYXJnaW4tbGVmdCBtYXJnaW4gbWFya2VyLW9mZnNldCBtYXJrcyBtYXRobGluZSBtYXgtaGVpZ2h0IG1heC13aWR0aCBtaW4taGVpZ2h0IG1pbi13aWR0aCBvcnBoYW5zIG91dGxpbmUtY29sb3Igb3V0bGluZS1zdHlsZSBvdXRsaW5lLXdpZHRoIG91dGxpbmUgb3ZlcmZsb3cgcGFkZGluZy10b3AgcGFkZGluZy1yaWdodCBwYWRkaW5nLWJvdHRvbSBwYWRkaW5nLWxlZnQgcGFkZGluZyBwYWdlIHBhZ2UtYnJlYWstYWZ0ZXIgcGFnZS1icmVhay1iZWZvcmUgcGFnZS1icmVhay1pbnNpZGUgcGF1c2UgcGF1c2UtYWZ0ZXIgcGF1c2UtYmVmb3JlIHBpdGNoIHBpdGNoLXJhbmdlIHBsYXktZHVyaW5nIHBvc2l0aW9uIHF1b3RlcyByaWdodCByaWNobmVzcyBzaXplIHNsb3BlIHNyYyBzcGVhay1oZWFkZXIgc3BlYWstbnVtZXJhbCBzcGVhay1wdW5jdHVhdGlvbiBzcGVhayBzcGVlY2gtcmF0ZSBzdGVtaCBzdGVtdiBzdHJlc3MgdGFibGUtbGF5b3V0IHRleHQtYWxpZ24gdG9wIHRleHQtZGVjb3JhdGlvbiB0ZXh0LWluZGVudCB0ZXh0LXNoYWRvdyB0ZXh0LXRyYW5zZm9ybSB1bmljb2RlLWJpZGkgdW5pY29kZS1yYW5nZSB1bml0cy1wZXItZW0gdmVydGljYWwtYWxpZ24gdmlzaWJpbGl0eSB2b2ljZS1mYW1pbHkgdm9sdW1lIHdoaXRlLXNwYWNlIHdpZG93cyB3aWR0aCB3aWR0aHMgd29yZC1zcGFjaW5nIHgtaGVpZ2h0IHotaW5kZXgiO3ZhciBjPSJhYm92ZSBhYnNvbHV0ZSBhbGwgYWx3YXlzIGFxdWEgYXJtZW5pYW4gYXR0ciBhdXJhbCBhdXRvIGF2b2lkIGJhc2VsaW5lIGJlaGluZCBiZWxvdyBiaWRpLW92ZXJyaWRlIGJsYWNrIGJsaW5rIGJsb2NrIGJsdWUgYm9sZCBib2xkZXIgYm90aCBib3R0b20gYnJhaWxsZSBjYXBpdGFsaXplIGNhcHRpb24gY2VudGVyIGNlbnRlci1sZWZ0IGNlbnRlci1yaWdodCBjaXJjbGUgY2xvc2UtcXVvdGUgY29kZSBjb2xsYXBzZSBjb21wYWN0IGNvbmRlbnNlZCBjb250aW51b3VzIGNvdW50ZXIgY291bnRlcnMgY3JvcCBjcm9zcyBjcm9zc2hhaXIgY3Vyc2l2ZSBkYXNoZWQgZGVjaW1hbCBkZWNpbWFsLWxlYWRpbmctemVybyBkZWZhdWx0IGRpZ2l0cyBkaXNjIGRvdHRlZCBkb3VibGUgZW1iZWQgZW1ib3NzZWQgZS1yZXNpemUgZXhwYW5kZWQgZXh0cmEtY29uZGVuc2VkIGV4dHJhLWV4cGFuZGVkIGZhbnRhc3kgZmFyLWxlZnQgZmFyLXJpZ2h0IGZhc3QgZmFzdGVyIGZpeGVkIGZvcm1hdCBmdWNoc2lhIGdyYXkgZ3JlZW4gZ3Jvb3ZlIGhhbmRoZWxkIGhlYnJldyBoZWxwIGhpZGRlbiBoaWRlIGhpZ2ggaGlnaGVyIGljb24gaW5saW5lLXRhYmxlIGlubGluZSBpbnNldCBpbnNpZGUgaW52ZXJ0IGl0YWxpYyBqdXN0aWZ5IGxhbmRzY2FwZSBsYXJnZSBsYXJnZXIgbGVmdC1zaWRlIGxlZnQgbGVmdHdhcmRzIGxldmVsIGxpZ2h0ZXIgbGltZSBsaW5lLXRocm91Z2ggbGlzdC1pdGVtIGxvY2FsIGxvdWQgbG93ZXItYWxwaGEgbG93ZXJjYXNlIGxvd2VyLWdyZWVrIGxvd2VyLWxhdGluIGxvd2VyLXJvbWFuIGxvd2VyIGxvdyBsdHIgbWFya2VyIG1hcm9vbiBtZWRpdW0gbWVzc2FnZS1ib3ggbWlkZGxlIG1peCBtb3ZlIG5hcnJvd2VyIG5hdnkgbmUtcmVzaXplIG5vLWNsb3NlLXF1b3RlIG5vbmUgbm8tb3Blbi1xdW90ZSBuby1yZXBlYXQgbm9ybWFsIG5vd3JhcCBuLXJlc2l6ZSBudy1yZXNpemUgb2JsaXF1ZSBvbGl2ZSBvbmNlIG9wZW4tcXVvdGUgb3V0c2V0IG91dHNpZGUgb3ZlcmxpbmUgcG9pbnRlciBwb3J0cmFpdCBwcmUgcHJpbnQgcHJvamVjdGlvbiBwdXJwbGUgcmVkIHJlbGF0aXZlIHJlcGVhdCByZXBlYXQteCByZXBlYXQteSByZ2IgcmlkZ2UgcmlnaHQgcmlnaHQtc2lkZSByaWdodHdhcmRzIHJ0bCBydW4taW4gc2NyZWVuIHNjcm9sbCBzZW1pLWNvbmRlbnNlZCBzZW1pLWV4cGFuZGVkIHNlcGFyYXRlIHNlLXJlc2l6ZSBzaG93IHNpbGVudCBzaWx2ZXIgc2xvd2VyIHNsb3cgc21hbGwgc21hbGwtY2FwcyBzbWFsbC1jYXB0aW9uIHNtYWxsZXIgc29mdCBzb2xpZCBzcGVlY2ggc3BlbGwtb3V0IHNxdWFyZSBzLXJlc2l6ZSBzdGF0aWMgc3RhdHVzLWJhciBzdWIgc3VwZXIgc3ctcmVzaXplIHRhYmxlLWNhcHRpb24gdGFibGUtY2VsbCB0YWJsZS1jb2x1bW4gdGFibGUtY29sdW1uLWdyb3VwIHRhYmxlLWZvb3Rlci1ncm91cCB0YWJsZS1oZWFkZXItZ3JvdXAgdGFibGUtcm93IHRhYmxlLXJvdy1ncm91cCB0ZWFsIHRleHQtYm90dG9tIHRleHQtdG9wIHRoaWNrIHRoaW4gdG9wIHRyYW5zcGFyZW50IHR0eSB0diB1bHRyYS1jb25kZW5zZWQgdWx0cmEtZXhwYW5kZWQgdW5kZXJsaW5lIHVwcGVyLWFscGhhIHVwcGVyY2FzZSB1cHBlci1sYXRpbiB1cHBlci1yb21hbiB1cmwgdmlzaWJsZSB3YWl0IHdoaXRlIHdpZGVyIHctcmVzaXplIHgtZmFzdCB4LWhpZ2ggeC1sYXJnZSB4LWxvdWQgeC1sb3cgeC1zbG93IHgtc21hbGwgeC1zb2Z0IHh4LWxhcmdlIHh4LXNtYWxsIHllbGxvdyI7dmFyIGY9IlttTV1vbm9zcGFjZSBbdFRdYWhvbWEgW3ZWXWVyZGFuYSBbYUFdcmlhbCBbaEhdZWx2ZXRpY2EgW3NTXWFucy1zZXJpZiBbc1NdZXJpZiBbY0Ndb3VyaWVyIG1vbm8gc2FucyBzZXJpZiI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4Oi9cI1thLWZBLUYwLTldezMsNn0vZyxjc3M6InZhbHVlIn0se3JlZ2V4Oi8oLT9cZCspKFwuXGQrKT8ocHh8ZW18cHR8XDp8XCV8KS9nLGNzczoidmFsdWUifSx7cmVnZXg6LyFpbXBvcnRhbnQvZyxjc3M6ImNvbG9yMyJ9LHtyZWdleDpuZXcgUmVnRXhwKGIoZSksImdtIiksY3NzOiJrZXl3b3JkIn0se3JlZ2V4Om5ldyBSZWdFeHAoZChjKSwiZyIpLGNzczoidmFsdWUifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGYpLCJnIiksY3NzOiJjb2xvcjEifV07dGhpcy5mb3JIdG1sU2NyaXB0KHtsZWZ0Oi8oJmx0O3w8KVxzKnN0eWxlLio/KCZndDt8PikvZ2kscmlnaHQ6LygmbHQ7fDwpXC9ccypzdHlsZVxzKigmZ3Q7fD4pL2dpfSl9YS5wcm90b3R5cGU9bmV3IFN5bnRheEhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyKCk7YS5hbGlhc2VzPVsiY3NzIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5DU1M9YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBiPSJhYnMgYWRkciBhbmQgYW5zaWNoYXIgYW5zaXN0cmluZyBhcnJheSBhcyBhc20gYmVnaW4gYm9vbGVhbiBieXRlIGNhcmRpbmFsIGNhc2UgY2hhciBjbGFzcyBjb21wIGNvbnN0IGNvbnN0cnVjdG9yIGN1cnJlbmN5IGRlc3RydWN0b3IgZGl2IGRvIGRvdWJsZSBkb3dudG8gZWxzZSBlbmQgZXhjZXB0IGV4cG9ydHMgZXh0ZW5kZWQgZmFsc2UgZmlsZSBmaW5hbGl6YXRpb24gZmluYWxseSBmb3IgZnVuY3Rpb24gZ290byBpZiBpbXBsZW1lbnRhdGlvbiBpbiBpbmhlcml0ZWQgaW50NjQgaW5pdGlhbGl6YXRpb24gaW50ZWdlciBpbnRlcmZhY2UgaXMgbGFiZWwgbGlicmFyeSBsb25naW50IGxvbmd3b3JkIG1vZCBuaWwgbm90IG9iamVjdCBvZiBvbiBvciBwYWNrZWQgcGFuc2ljaGFyIHBhbnNpc3RyaW5nIHBjaGFyIHBjdXJyZW5jeSBwZGF0ZXRpbWUgcGV4dGVuZGVkIHBpbnQ2NCBwb2ludGVyIHByaXZhdGUgcHJvY2VkdXJlIHByb2dyYW0gcHJvcGVydHkgcHNob3J0c3RyaW5nIHBzdHJpbmcgcHZhcmlhbnQgcHdpZGVjaGFyIHB3aWRlc3RyaW5nIHByb3RlY3RlZCBwdWJsaWMgcHVibGlzaGVkIHJhaXNlIHJlYWwgcmVhbDQ4IHJlY29yZCByZXBlYXQgc2V0IHNobCBzaG9ydGludCBzaG9ydHN0cmluZyBzaHIgc2luZ2xlIHNtYWxsaW50IHN0cmluZyB0aGVuIHRocmVhZHZhciB0byB0cnVlIHRyeSB0eXBlIHVuaXQgdW50aWwgdXNlcyB2YWwgdmFyIHZhcmlybnQgd2hpbGUgd2lkZWNoYXIgd2lkZXN0cmluZyB3aXRoIHdvcmQgd3JpdGUgd3JpdGVsbiB4b3IiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6L1woXCpbXHNcU10qP1wqXCkvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDoveyg/IVwkKVtcc1xTXSo/fS9nbSxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6L1x7XCRbYS16QS1aXSsgLitcfS9nLGNzczoiY29sb3IxIn0se3JlZ2V4Oi9cYltcZFwuXStcYi9nLGNzczoidmFsdWUifSx7cmVnZXg6L1wkW2EtekEtWjAtOV0rXGIvZyxjc3M6InZhbHVlIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ21pIiksY3NzOiJrZXl3b3JkIn1dfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bImRlbHBoaSIsInBhc2NhbCIsInBhcyJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuRGVscGhpPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4Oi9eXCtcK1wrIC4qJC9nbSxjc3M6ImNvbG9yMiJ9LHtyZWdleDovXlwtXC1cLSAuKiQvZ20sY3NzOiJjb2xvcjIifSx7cmVnZXg6L15ccy4qJC9nbSxjc3M6ImNvbG9yMSJ9LHtyZWdleDovXkBALipAQC4qJC9nbSxjc3M6InZhcmlhYmxlIn0se3JlZ2V4Oi9eXCsuKiQvZ20sY3NzOiJzdHJpbmcifSx7cmVnZXg6L15cLS4qJC9nbSxjc3M6ImNvbG9yMyJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJkaWZmIiwicGF0Y2giXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkRpZmY9YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBiPSJhZnRlciBhbmQgYW5kYWxzbyBiYW5kIGJlZ2luIGJub3QgYm9yIGJzbCBic3IgYnhvciBjYXNlIGNhdGNoIGNvbmQgZGl2IGVuZCBmdW4gaWYgbGV0IG5vdCBvZiBvciBvcmVsc2UgcXVlcnkgcmVjZWl2ZSByZW0gdHJ5IHdoZW4geG9yIG1vZHVsZSBleHBvcnQgaW1wb3J0IGRlZmluZSI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpuZXcgUmVnRXhwKCJbQS1aXVtBLVphLXowLTlfXSsiLCJnIiksY3NzOiJjb25zdGFudHMifSx7cmVnZXg6bmV3IFJlZ0V4cCgiXFwlLisiLCJnbSIpLGNzczoiY29tbWVudHMifSx7cmVnZXg6bmV3IFJlZ0V4cCgiXFw/W0EtWmEtejAtOV9dKyIsImciKSxjc3M6InByZXByb2Nlc3NvciJ9LHtyZWdleDpuZXcgUmVnRXhwKCJbYS16MC05X10rOlthLXowLTlfXSsiLCJnIiksY3NzOiJmdW5jdGlvbnMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYiksImdtIiksY3NzOiJrZXl3b3JkIn1dfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bImVybCIsImVybGFuZyJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuRXJsYW5kPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgZT0iYXMgYXNzZXJ0IGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29udGludWUgZGVmIGRlZmF1bHQgZG8gZWxzZSBleHRlbmRzIGZpbmFsbHkgaWYgaW4gaW1wbGVtZW50cyBpbXBvcnQgaW5zdGFuY2VvZiBpbnRlcmZhY2UgbmV3IHBhY2thZ2UgcHJvcGVydHkgcmV0dXJuIHN3aXRjaCB0aHJvdyB0aHJvd3MgdHJ5IHdoaWxlIHB1YmxpYyBwcm90ZWN0ZWQgcHJpdmF0ZSBzdGF0aWMiO3ZhciBkPSJ2b2lkIGJvb2xlYW4gYnl0ZSBjaGFyIHNob3J0IGludCBsb25nIGZsb2F0IGRvdWJsZSI7dmFyIGM9Im51bGwiO3ZhciBiPSJhbGxQcm9wZXJ0aWVzIGNvdW50IGdldCBzaXplIGNvbGxlY3QgZWFjaCBlYWNoUHJvcGVydHkgZWFjaFByb3BlcnR5TmFtZSBlYWNoV2l0aEluZGV4IGZpbmQgZmluZEFsbCBmaW5kSW5kZXhPZiBncmVwIGluamVjdCBtYXggbWluIHJldmVyc2VFYWNoIHNvcnQgYXNJbW11dGFibGUgYXNTeW5jaHJvbml6ZWQgZmxhdHRlbiBpbnRlcnNlY3Qgam9pbiBwb3AgcmV2ZXJzZSBzdWJNYXAgdG9MaXN0IHBhZFJpZ2h0IHBhZExlZnQgY29udGFpbnMgZWFjaE1hdGNoIHRvQ2hhcmFjdGVyIHRvTG9uZyB0b1VybCB0b2tlbml6ZSBlYWNoRmlsZSBlYWNoRmlsZVJlY3Vyc2UgZWFjaEIgeXRlIGVhY2hMaW5lIHJlYWRCeXRlcyByZWFkTGluZSBnZXRUZXh0IHNwbGl0RWFjaExpbmUgd2l0aFJlYWRlciBhcHBlbmQgZW5jb2RlQmFzZTY0IGRlY29kZUJhc2U2NCBmaWx0ZXJMaW5lIHRyYW5zZm9ybUNoYXIgdHJhbnNmb3JtTGluZSB3aXRoT3V0cHV0U3RyZWFtIHdpdGhQcmludFdyaXRlciB3aXRoU3RyZWFtIHdpdGhTdHJlYW1zIHdpdGhXcml0ZXIgd2l0aFdyaXRlckFwcGVuZCB3cml0ZSB3cml0ZUxpbmUgZHVtcCBpbnNwZWN0IGludm9rZU1ldGhvZCBwcmludCBwcmludGxuIHN0ZXAgdGltZXMgdXB0byB1c2Ugd2FpdEZvck9yS2lsbCBnZXRUZXh0Ijt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4Oi8iIiIuKiIiIi9nLGNzczoic3RyaW5nIn0se3JlZ2V4Om5ldyBSZWdFeHAoIlxcYihbXFxkXSsoXFwuW1xcZF0rKT98MHhbYS1mMC05XSspXFxiIiwiZ2kiKSxjc3M6InZhbHVlIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhlKSwiZ20iKSxjc3M6ImtleXdvcmQifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGQpLCJnbSIpLGNzczoiY29sb3IxIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhjKSwiZ20iKSxjc3M6ImNvbnN0YW50cyJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYiksImdtIiksY3NzOiJmdW5jdGlvbnMifV07dGhpcy5mb3JIdG1sU2NyaXB0KFN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmFzcFNjcmlwdFRhZ3MpfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bImdyb292eSJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuR3Jvb3Z5PWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYj0iYWJzdHJhY3QgYXNzZXJ0IGJvb2xlYW4gYnJlYWsgYnl0ZSBjYXNlIGNhdGNoIGNoYXIgY2xhc3MgY29uc3QgY29udGludWUgZGVmYXVsdCBkbyBkb3VibGUgZWxzZSBlbnVtIGV4dGVuZHMgZmFsc2UgZmluYWwgZmluYWxseSBmbG9hdCBmb3IgZ290byBpZiBpbXBsZW1lbnRzIGltcG9ydCBpbnN0YW5jZW9mIGludCBpbnRlcmZhY2UgbG9uZyBuYXRpdmUgbmV3IG51bGwgcGFja2FnZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgcmV0dXJuIHNob3J0IHN0YXRpYyBzdHJpY3RmcCBzdXBlciBzd2l0Y2ggc3luY2hyb25pemVkIHRoaXMgdGhyb3cgdGhyb3dzIHRydWUgdHJhbnNpZW50IHRyeSB2b2lkIHZvbGF0aWxlIHdoaWxlIjt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDovXC9cKihbXlwqXVtcc1xTXSopP1wqXC8vZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDovXC9cKig/IVwqXC8pXCpbXHNcU10qP1wqXC8vZ20sY3NzOiJwcmVwcm9jZXNzb3IifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXGIoW1xkXSsoXC5bXGRdKyk/fDB4W2EtZjAtOV0rKVxiL2dpLGNzczoidmFsdWUifSx7cmVnZXg6Lyg/IVxAaW50ZXJmYWNlXGIpXEBbXCRcd10rXGIvZyxjc3M6ImNvbG9yMSJ9LHtyZWdleDovXEBpbnRlcmZhY2VcYi9nLGNzczoiY29sb3IyIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ20iKSxjc3M6ImtleXdvcmQifV07dGhpcy5mb3JIdG1sU2NyaXB0KHtsZWZ0Oi8oJmx0O3w8KSVbQCE9XT8vZyxyaWdodDovJSgmZ3Q7fD4pL2d9KX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJqYXZhIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5KYXZhPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYz0iQm9vbGVhbiBCeXRlIENoYXJhY3RlciBEb3VibGUgRHVyYXRpb24gRmxvYXQgSW50ZWdlciBMb25nIE51bWJlciBTaG9ydCBTdHJpbmcgVm9pZCI7dmFyIGI9ImFic3RyYWN0IGFmdGVyIGFuZCBhcyBhc3NlcnQgYXQgYmVmb3JlIGJpbmQgYm91bmQgYnJlYWsgY2F0Y2ggY2xhc3MgY29udGludWUgZGVmIGRlbGV0ZSBlbHNlIGV4Y2x1c2l2ZSBleHRlbmRzIGZhbHNlIGZpbmFsbHkgZmlyc3QgZm9yIGZyb20gZnVuY3Rpb24gaWYgaW1wb3J0IGluIGluZGV4b2YgaW5pdCBpbnNlcnQgaW5zdGFuY2VvZiBpbnRvIGludmVyc2UgbGFzdCBsYXp5IG1peGluIG1vZCBuYXRpdmVhcnJheSBuZXcgbm90IG51bGwgb24gb3Igb3ZlcnJpZGUgcGFja2FnZSBwb3N0aW5pdCBwcm90ZWN0ZWQgcHVibGljIHB1YmxpYy1pbml0IHB1YmxpYy1yZWFkIHJlcGxhY2UgcmV0dXJuIHJldmVyc2Ugc2l6ZW9mIHN0ZXAgc3VwZXIgdGhlbiB0aGlzIHRocm93IHRydWUgdHJ5IHR3ZWVuIHR5cGVvZiB2YXIgd2hlcmUgd2hpbGUgd2l0aCBhdHRyaWJ1dGUgbGV0IHByaXZhdGUgcmVhZG9ubHkgc3RhdGljIHRyaWdnZXIiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlTGluZUNDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLm11bHRpTGluZUNDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6LygtP1wuPykoXGIoXGQqXC4/XGQrfFxkK1wuP1xkKikoZVsrLV0/XGQrKT98MHhbYS1mXGRdKylcYlwuPy9naSxjc3M6ImNvbG9yMiJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYyksImdtIiksY3NzOiJ2YXJpYWJsZSJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYiksImdtIiksY3NzOiJrZXl3b3JkIn1dO3RoaXMuZm9ySHRtbFNjcmlwdChTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5hc3BTY3JpcHRUYWdzKX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJqZngiLCJqYXZhZngiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLkphdmFGWD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7dmFyIGI9ImJyZWFrIGNhc2UgY2F0Y2ggY29udGludWUgZGVmYXVsdCBkZWxldGUgZG8gZWxzZSBmYWxzZSAgZm9yIGZ1bmN0aW9uIGlmIGluIGluc3RhbmNlb2YgbmV3IG51bGwgcmV0dXJuIHN1cGVyIHN3aXRjaCB0aGlzIHRocm93IHRydWUgdHJ5IHR5cGVvZiB2YXIgd2hpbGUgd2l0aCI7dmFyIGM9U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpjLm11bHRpTGluZURvdWJsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpjLm11bHRpTGluZVNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpjLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpjLm11bHRpTGluZUNDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4Oi9ccyojLiovZ20sY3NzOiJwcmVwcm9jZXNzb3IifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbSIpLGNzczoia2V5d29yZCJ9XTt0aGlzLmZvckh0bWxTY3JpcHQoYy5zY3JpcHRTY3JpcHRUYWdzKX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJqcyIsImpzY3JpcHQiLCJqYXZhc2NyaXB0Il07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5KU2NyaXB0PWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYj0iYWJzIGFjY2VwdCBhbGFybSBhdGFuMiBiaW5kIGJpbm1vZGUgY2hkaXIgY2htb2QgY2hvbXAgY2hvcCBjaG93biBjaHIgY2hyb290IGNsb3NlIGNsb3NlZGlyIGNvbm5lY3QgY29zIGNyeXB0IGRlZmluZWQgZGVsZXRlIGVhY2ggZW5kZ3JlbnQgZW5kaG9zdGVudCBlbmRuZXRlbnQgZW5kcHJvdG9lbnQgZW5kcHdlbnQgZW5kc2VydmVudCBlb2YgZXhlYyBleGlzdHMgZXhwIGZjbnRsIGZpbGVubyBmbG9jayBmb3JrIGZvcm1hdCBmb3JtbGluZSBnZXRjIGdldGdyZW50IGdldGdyZ2lkIGdldGdybmFtIGdldGhvc3RieWFkZHIgZ2V0aG9zdGJ5bmFtZSBnZXRob3N0ZW50IGdldGxvZ2luIGdldG5ldGJ5YWRkciBnZXRuZXRieW5hbWUgZ2V0bmV0ZW50IGdldHBlZXJuYW1lIGdldHBncnAgZ2V0cHBpZCBnZXRwcmlvcml0eSBnZXRwcm90b2J5bmFtZSBnZXRwcm90b2J5bnVtYmVyIGdldHByb3RvZW50IGdldHB3ZW50IGdldHB3bmFtIGdldHB3dWlkIGdldHNlcnZieW5hbWUgZ2V0c2VydmJ5cG9ydCBnZXRzZXJ2ZW50IGdldHNvY2tuYW1lIGdldHNvY2tvcHQgZ2xvYiBnbXRpbWUgZ3JlcCBoZXggaW5kZXggaW50IGlvY3RsIGpvaW4ga2V5cyBraWxsIGxjIGxjZmlyc3QgbGVuZ3RoIGxpbmsgbGlzdGVuIGxvY2FsdGltZSBsb2NrIGxvZyBsc3RhdCBtYXAgbWtkaXIgbXNnY3RsIG1zZ2dldCBtc2dyY3YgbXNnc25kIG9jdCBvcGVuIG9wZW5kaXIgb3JkIHBhY2sgcGlwZSBwb3AgcG9zIHByaW50IHByaW50ZiBwcm90b3R5cGUgcHVzaCBxdW90ZW1ldGEgcmFuZCByZWFkIHJlYWRkaXIgcmVhZGxpbmUgcmVhZGxpbmsgcmVhZHBpcGUgcmVjdiByZW5hbWUgcmVzZXQgcmV2ZXJzZSByZXdpbmRkaXIgcmluZGV4IHJtZGlyIHNjYWxhciBzZWVrIHNlZWtkaXIgc2VsZWN0IHNlbWN0bCBzZW1nZXQgc2Vtb3Agc2VuZCBzZXRncmVudCBzZXRob3N0ZW50IHNldG5ldGVudCBzZXRwZ3JwIHNldHByaW9yaXR5IHNldHByb3RvZW50IHNldHB3ZW50IHNldHNlcnZlbnQgc2V0c29ja29wdCBzaGlmdCBzaG1jdGwgc2htZ2V0IHNobXJlYWQgc2htd3JpdGUgc2h1dGRvd24gc2luIHNsZWVwIHNvY2tldCBzb2NrZXRwYWlyIHNvcnQgc3BsaWNlIHNwbGl0IHNwcmludGYgc3FydCBzcmFuZCBzdGF0IHN0dWR5IHN1YnN0ciBzeW1saW5rIHN5c2NhbGwgc3lzb3BlbiBzeXNyZWFkIHN5c3NlZWsgc3lzdGVtIHN5c3dyaXRlIHRlbGwgdGVsbGRpciB0aW1lIHRpbWVzIHRyIHRydW5jYXRlIHVjIHVjZmlyc3QgdW1hc2sgdW5kZWYgdW5saW5rIHVucGFjayB1bnNoaWZ0IHV0aW1lIHZhbHVlcyB2ZWMgd2FpdCB3YWl0cGlkIHdhcm4gd3JpdGUgc2F5Ijt2YXIgYz0iYmxlc3MgY2FsbGVyIGNvbnRpbnVlIGRibWNsb3NlIGRibW9wZW4gZGllIGRvIGR1bXAgZWxzZSBlbHNpZiBldmFsIGV4aXQgZm9yIGZvcmVhY2ggZ290byBpZiBpbXBvcnQgbGFzdCBsb2NhbCBteSBuZXh0IG5vIG91ciBwYWNrYWdlIHJlZG8gcmVmIHJlcXVpcmUgcmV0dXJuIHN1YiB0aWUgdGllZCB1bmxlc3MgdW50aWUgdW50aWwgdXNlIHdhbnRhcnJheSB3aGlsZSBnaXZlbiB3aGVuIGRlZmF1bHQgdHJ5IGNhdGNoIGZpbmFsbHkgaGFzIGV4dGVuZHMgd2l0aCBiZWZvcmUgYWZ0ZXIgYXJvdW5kIG92ZXJyaWRlIGF1Z21lbnQiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6Lyg8PHwmbHQ7Jmx0OykoKFx3Kyl8KFsnIl0pKC4rPylcNClbXHNcU10rP1xuXDNcNVxuL2csY3NzOiJzdHJpbmcifSx7cmVnZXg6LyMuKiQvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDovXiMhLipcbi9nLGNzczoicHJlcHJvY2Vzc29yIn0se3JlZ2V4Oi8tP1x3Kyg/PVxzKj0oPnwmZ3Q7KSkvZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXGJxW3F3eHJdP1woW1xzXFNdKj9cKS9nLGNzczoic3RyaW5nIn0se3JlZ2V4Oi9cYnFbcXd4cl0/XHtbXHNcU10qP1x9L2csY3NzOiJzdHJpbmcifSx7cmVnZXg6L1xicVtxd3hyXT9cW1tcc1xTXSo/XF0vZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXGJxW3F3eHJdPyg8fCZsdDspW1xzXFNdKj8oPnwmZ3Q7KS9nLGNzczoic3RyaW5nIn0se3JlZ2V4Oi9cYnFbcXd4cl0/KFteXHcoezxbXSlbXHNcU10qP1wxL2csY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovKD86JmFtcDt8WyRAJSpdfFwkIylbYS16QS1aX10oXHcrfDo6KSovZyxjc3M6InZhcmlhYmxlIn0se3JlZ2V4Oi9cYl9fKD86RU5EfERBVEEpX19cYltcc1xTXSokL2csY3NzOiJjb21tZW50cyJ9LHtyZWdleDovKF58XG4pPVx3W1xzXFNdKj8oXG49Y3V0XHMqXG58JCkvZyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ20iKSxjc3M6ImZ1bmN0aW9ucyJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYyksImdtIiksY3NzOiJrZXl3b3JkIn1dO3RoaXMuZm9ySHRtbFNjcmlwdChTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5waHBTY3JpcHRUYWdzKX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJwZXJsIiwiUGVybCIsInBsIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5QZXJsPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYj0iYWJzIGFjb3MgYWNvc2ggYWRkY3NsYXNoZXMgYWRkc2xhc2hlcyBhcnJheV9jaGFuZ2Vfa2V5X2Nhc2UgYXJyYXlfY2h1bmsgYXJyYXlfY29tYmluZSBhcnJheV9jb3VudF92YWx1ZXMgYXJyYXlfZGlmZiBhcnJheV9kaWZmX2Fzc29jIGFycmF5X2RpZmZfa2V5IGFycmF5X2RpZmZfdWFzc29jIGFycmF5X2RpZmZfdWtleSBhcnJheV9maWxsIGFycmF5X2ZpbHRlciBhcnJheV9mbGlwIGFycmF5X2ludGVyc2VjdCBhcnJheV9pbnRlcnNlY3RfYXNzb2MgYXJyYXlfaW50ZXJzZWN0X2tleSBhcnJheV9pbnRlcnNlY3RfdWFzc29jIGFycmF5X2ludGVyc2VjdF91a2V5IGFycmF5X2tleV9leGlzdHMgYXJyYXlfa2V5cyBhcnJheV9tYXAgYXJyYXlfbWVyZ2UgYXJyYXlfbWVyZ2VfcmVjdXJzaXZlIGFycmF5X211bHRpc29ydCBhcnJheV9wYWQgYXJyYXlfcG9wIGFycmF5X3Byb2R1Y3QgYXJyYXlfcHVzaCBhcnJheV9yYW5kIGFycmF5X3JlZHVjZSBhcnJheV9yZXZlcnNlIGFycmF5X3NlYXJjaCBhcnJheV9zaGlmdCBhcnJheV9zbGljZSBhcnJheV9zcGxpY2UgYXJyYXlfc3VtIGFycmF5X3VkaWZmIGFycmF5X3VkaWZmX2Fzc29jIGFycmF5X3VkaWZmX3Vhc3NvYyBhcnJheV91aW50ZXJzZWN0IGFycmF5X3VpbnRlcnNlY3RfYXNzb2MgYXJyYXlfdWludGVyc2VjdF91YXNzb2MgYXJyYXlfdW5pcXVlIGFycmF5X3Vuc2hpZnQgYXJyYXlfdmFsdWVzIGFycmF5X3dhbGsgYXJyYXlfd2Fsa19yZWN1cnNpdmUgYXRhbiBhdGFuMiBhdGFuaCBiYXNlNjRfZGVjb2RlIGJhc2U2NF9lbmNvZGUgYmFzZV9jb252ZXJ0IGJhc2VuYW1lIGJjYWRkIGJjY29tcCBiY2RpdiBiY21vZCBiY211bCBiaW5kZWMgYmluZHRleHRkb21haW4gYnpjbG9zZSBiemNvbXByZXNzIGJ6ZGVjb21wcmVzcyBiemVycm5vIGJ6ZXJyb3IgYnplcnJzdHIgYnpmbHVzaCBiem9wZW4gYnpyZWFkIGJ6d3JpdGUgY2VpbCBjaGRpciBjaGVja2RhdGUgY2hlY2tkbnNyciBjaGdycCBjaG1vZCBjaG9wIGNob3duIGNociBjaHJvb3QgY2h1bmtfc3BsaXQgY2xhc3NfZXhpc3RzIGNsb3NlZGlyIGNsb3NlbG9nIGNvcHkgY29zIGNvc2ggY291bnQgY291bnRfY2hhcnMgZGF0ZSBkZWNiaW4gZGVjaGV4IGRlY29jdCBkZWcycmFkIGRlbGV0ZSBlYmNkaWMyYXNjaWkgZWNobyBlbXB0eSBlbmQgZXJlZyBlcmVnX3JlcGxhY2UgZXJlZ2kgZXJlZ2lfcmVwbGFjZSBlcnJvcl9sb2cgZXJyb3JfcmVwb3J0aW5nIGVzY2FwZXNoZWxsYXJnIGVzY2FwZXNoZWxsY21kIGV2YWwgZXhlYyBleGl0IGV4cCBleHBsb2RlIGV4dGVuc2lvbl9sb2FkZWQgZmVvZiBmZmx1c2ggZmdldGMgZmdldGNzdiBmZ2V0cyBmZ2V0c3MgZmlsZV9leGlzdHMgZmlsZV9nZXRfY29udGVudHMgZmlsZV9wdXRfY29udGVudHMgZmlsZWF0aW1lIGZpbGVjdGltZSBmaWxlZ3JvdXAgZmlsZWlub2RlIGZpbGVtdGltZSBmaWxlb3duZXIgZmlsZXBlcm1zIGZpbGVzaXplIGZpbGV0eXBlIGZsb2F0dmFsIGZsb2NrIGZsb29yIGZsdXNoIGZtb2QgZm5tYXRjaCBmb3BlbiBmcGFzc3RocnUgZnByaW50ZiBmcHV0Y3N2IGZwdXRzIGZyZWFkIGZzY2FuZiBmc2VlayBmc29ja29wZW4gZnN0YXQgZnRlbGwgZnRvayBnZXRhbGxoZWFkZXJzIGdldGN3ZCBnZXRkYXRlIGdldGVudiBnZXRob3N0YnlhZGRyIGdldGhvc3RieW5hbWUgZ2V0aG9zdGJ5bmFtZWwgZ2V0aW1hZ2VzaXplIGdldGxhc3Rtb2QgZ2V0bXhyciBnZXRteWdpZCBnZXRteWlub2RlIGdldG15cGlkIGdldG15dWlkIGdldG9wdCBnZXRwcm90b2J5bmFtZSBnZXRwcm90b2J5bnVtYmVyIGdldHJhbmRtYXggZ2V0cnVzYWdlIGdldHNlcnZieW5hbWUgZ2V0c2VydmJ5cG9ydCBnZXR0ZXh0IGdldHRpbWVvZmRheSBnZXR0eXBlIGdsb2IgZ21kYXRlIGdtbWt0aW1lIGluaV9hbHRlciBpbmlfZ2V0IGluaV9nZXRfYWxsIGluaV9yZXN0b3JlIGluaV9zZXQgaW50ZXJmYWNlX2V4aXN0cyBpbnR2YWwgaXAybG9uZyBpc19hIGlzX2FycmF5IGlzX2Jvb2wgaXNfY2FsbGFibGUgaXNfZGlyIGlzX2RvdWJsZSBpc19leGVjdXRhYmxlIGlzX2ZpbGUgaXNfZmluaXRlIGlzX2Zsb2F0IGlzX2luZmluaXRlIGlzX2ludCBpc19pbnRlZ2VyIGlzX2xpbmsgaXNfbG9uZyBpc19uYW4gaXNfbnVsbCBpc19udW1lcmljIGlzX29iamVjdCBpc19yZWFkYWJsZSBpc19yZWFsIGlzX3Jlc291cmNlIGlzX3NjYWxhciBpc19zb2FwX2ZhdWx0IGlzX3N0cmluZyBpc19zdWJjbGFzc19vZiBpc191cGxvYWRlZF9maWxlIGlzX3dyaXRhYmxlIGlzX3dyaXRlYWJsZSBta2RpciBta3RpbWUgbmwyYnIgcGFyc2VfaW5pX2ZpbGUgcGFyc2Vfc3RyIHBhcnNlX3VybCBwYXNzdGhydSBwYXRoaW5mbyBwcmludCByZWFkbGluayByZWFscGF0aCByZXdpbmQgcmV3aW5kZGlyIHJtZGlyIHJvdW5kIHN0cl9pcmVwbGFjZSBzdHJfcGFkIHN0cl9yZXBlYXQgc3RyX3JlcGxhY2Ugc3RyX3JvdDEzIHN0cl9zaHVmZmxlIHN0cl9zcGxpdCBzdHJfd29yZF9jb3VudCBzdHJjYXNlY21wIHN0cmNociBzdHJjbXAgc3RyY29sbCBzdHJjc3BuIHN0cmZ0aW1lIHN0cmlwX3RhZ3Mgc3RyaXBjc2xhc2hlcyBzdHJpcG9zIHN0cmlwc2xhc2hlcyBzdHJpc3RyIHN0cmxlbiBzdHJuYXRjYXNlY21wIHN0cm5hdGNtcCBzdHJuY2FzZWNtcCBzdHJuY21wIHN0cnBicmsgc3RycG9zIHN0cnB0aW1lIHN0cnJjaHIgc3RycmV2IHN0cnJpcG9zIHN0cnJwb3Mgc3Ryc3BuIHN0cnN0ciBzdHJ0b2sgc3RydG9sb3dlciBzdHJ0b3RpbWUgc3RydG91cHBlciBzdHJ0ciBzdHJ2YWwgc3Vic3RyIHN1YnN0cl9jb21wYXJlIjt2YXIgZD0iYWJzdHJhY3QgYW5kIGFycmF5IGFzIGJyZWFrIGNhc2UgY2F0Y2ggY2Z1bmN0aW9uIGNsYXNzIGNsb25lIGNvbnN0IGNvbnRpbnVlIGRlY2xhcmUgZGVmYXVsdCBkaWUgZG8gZWxzZSBlbHNlaWYgZW5kZGVjbGFyZSBlbmRmb3IgZW5kZm9yZWFjaCBlbmRpZiBlbmRzd2l0Y2ggZW5kd2hpbGUgZXh0ZW5kcyBmaW5hbCBmb3IgZm9yZWFjaCBmdW5jdGlvbiBnbG9iYWwgZ290byBpZiBpbXBsZW1lbnRzIGluY2x1ZGUgaW5jbHVkZV9vbmNlIGludGVyZmFjZSBpbnN0YW5jZW9mIGluc3RlYWRvZiBuYW1lc3BhY2UgbmV3IG9sZF9mdW5jdGlvbiBvciBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgcmV0dXJuIHJlcXVpcmUgcmVxdWlyZV9vbmNlIHN0YXRpYyBzd2l0Y2ggdHJhaXQgdGhyb3cgdHJ5IHVzZSB2YXIgd2hpbGUgeG9yICI7dmFyIGM9Il9fRklMRV9fIF9fTElORV9fIF9fTUVUSE9EX18gX19GVU5DVElPTl9fIF9fQ0xBU1NfXyI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVMaW5lQ0NvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIubXVsdGlMaW5lQ0NvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXCRcdysvZyxjc3M6InZhcmlhYmxlIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ21pIiksY3NzOiJmdW5jdGlvbnMifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGMpLCJnbWkiKSxjc3M6ImNvbnN0YW50cyJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoZCksImdtIiksY3NzOiJrZXl3b3JkIn1dO3RoaXMuZm9ySHRtbFNjcmlwdChTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5waHBTY3JpcHRUYWdzKX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJwaHAiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLlBocD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7fWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bInRleHQiLCJwbGFpbiJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuUGxhaW49YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBkPSJ3aGlsZSB2YWxpZGF0ZXNldCB2YWxpZGF0ZXJhbmdlIHZhbGlkYXRlcGF0dGVybiB2YWxpZGF0ZWxlbmd0aCB2YWxpZGF0ZWNvdW50IHVudGlsIHRyYXAgc3dpdGNoIHJldHVybiByZWYgcHJvY2VzcyBwYXJhbSBwYXJhbWV0ZXIgaW4gaWYgZ2xvYmFsOiBmdW5jdGlvbiBmb3JlYWNoIGZvciBmaW5hbGx5IGZpbHRlciBlbmQgZWxzZWlmIGVsc2UgZHluYW1pY3BhcmFtIGRvIGRlZmF1bHQgY29udGludWUgY21kbGV0YmluZGluZyBicmVhayBiZWdpbiBhbGlhcyBcXD8gJSAjc2NyaXB0ICNwcml2YXRlICNsb2NhbCAjZ2xvYmFsIG1hbmRhdG9yeSBwYXJhbWV0ZXJzZXRuYW1lIHBvc2l0aW9uIHZhbHVlZnJvbXBpcGVsaW5lIHZhbHVlZnJvbXBpcGVsaW5lYnlwcm9wZXJ0eW5hbWUgdmFsdWVmcm9tcmVtYWluaW5nYXJndW1lbnRzIGhlbHBtZXNzYWdlICI7dmFyIGI9IiBhbmQgYXMgYmFuZCBibm90IGJvciBieG9yIGNhc2VzZW5zaXRpdmUgY2NvbnRhaW5zIGNlcSBjZ2UgY2d0IGNsZSBjbGlrZSBjbHQgY21hdGNoIGNuZSBjbm90Y29udGFpbnMgY25vdGxpa2UgY25vdG1hdGNoIGNvbnRhaW5zIGNyZXBsYWNlIGVxIGV4YWN0IGYgZmlsZSBnZSBndCBpY29udGFpbnMgaWVxIGlnZSBpZ3QgaWxlIGlsaWtlIGlsdCBpbWF0Y2ggaW5lIGlub3Rjb250YWlucyBpbm90bGlrZSBpbm90bWF0Y2ggaXJlcGxhY2UgaXMgaXNub3QgbGUgbGlrZSBsdCBtYXRjaCBuZSBub3Qgbm90Y29udGFpbnMgbm90bGlrZSBub3RtYXRjaCBvciByZWdleCByZXBsYWNlIHdpbGRjYXJkIjt2YXIgZT0id3JpdGUgd2hlcmUgd2FpdCB1c2UgdXBkYXRlIHVucmVnaXN0ZXIgdW5kbyB0cmFjZSB0ZXN0IHRlZSB0YWtlIHN1c3BlbmQgc3RvcCBzdGFydCBzcGxpdCBzb3J0IHNraXAgc2hvdyBzZXQgc2VuZCBzZWxlY3Qgc2Nyb2xsIHJlc3VtZSByZXN0b3JlIHJlc3RhcnQgcmVzb2x2ZSByZXNpemUgcmVzZXQgcmVuYW1lIHJlbW92ZSByZWdpc3RlciByZWNlaXZlIHJlYWQgcHVzaCBwb3AgcGluZyBvdXQgbmV3IG1vdmUgbWVhc3VyZSBsaW1pdCBqb2luIGludm9rZSBpbXBvcnQgZ3JvdXAgZ2V0IGZvcm1hdCBmb3JlYWNoIGV4cG9ydCBleHBhbmQgZXhpdCBlbnRlciBlbmFibGUgZGlzY29ubmVjdCBkaXNhYmxlIGRlYnVnIGN4bmV3IGNvcHkgY29udmVydHRvIGNvbnZlcnRmcm9tIGNvbnZlcnQgY29ubmVjdCBjb21wbGV0ZSBjb21wYXJlIGNsZWFyIGNoZWNrcG9pbnQgYWdncmVnYXRlIGFkZCI7dmFyIGM9IiBjb21wb25lbnQgZGVzY3JpcHRpb24gZXhhbXBsZSBleHRlcm5hbGhlbHAgZm9yd2FyZGhlbHBjYXRlZ29yeSBmb3J3YXJkaGVscHRhcmdldG5hbWUgZm9yd2FyZGhlbHB0YXJnZXRuYW1lIGZ1bmN0aW9uYWxpdHkgaW5wdXRzIGxpbmsgbm90ZXMgb3V0cHV0cyBwYXJhbWV0ZXIgcmVtb3RlaGVscHJ1bnNwYWNlIHJvbGUgc3lub3BzaXMiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6bmV3IFJlZ0V4cCgiXlxccyojWyNcXHNdKlxcLigiK3RoaXMuZ2V0S2V5d29yZHMoYykrIikuKiQiLCJnaW0iKSxjc3M6InByZXByb2Nlc3NvciBoZWxwIGJvbGQifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuc2luZ2xlTGluZVBlcmxDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4Oi8oJmx0O3w8KSNbXHNcU10qPyMoJmd0O3w+KS9nbSxjc3M6ImNvbW1lbnRzIGhlcmUifSx7cmVnZXg6bmV3IFJlZ0V4cCgnQCJcXG5bXFxzXFxTXSo/XFxuIkAnLCJnbSIpLGNzczoic2NyaXB0IHN0cmluZyBoZXJlIn0se3JlZ2V4Om5ldyBSZWdFeHAoIkAnXFxuW1xcc1xcU10qP1xcbidAIiwiZ20iKSxjc3M6InNjcmlwdCBzdHJpbmcgc2luZ2xlIGhlcmUifSx7cmVnZXg6bmV3IFJlZ0V4cCgnIig/OlxcJFxcKFteXFwpXSpcXCl8W14iXXxgInwiIikqW15gXSInLCJnIiksY3NzOiJzdHJpbmcifSx7cmVnZXg6bmV3IFJlZ0V4cCgiJyg/OlteJ118JycpKiciLCJnIiksY3NzOiJzdHJpbmcgc2luZ2xlIn0se3JlZ2V4Om5ldyBSZWdFeHAoIltcXCR8QHxAQF0oPzooPzpnbG9iYWx8c2NyaXB0fHByaXZhdGV8ZW52KTopP1tBLVowLTlfXSsiLCJnaSIpLGNzczoidmFyaWFibGUifSx7cmVnZXg6bmV3IFJlZ0V4cCgiKD86XFxiIitlLnJlcGxhY2UoLyAvZywiXFxifFxcYiIpKyIpLVthLXpBLVpfXVthLXpBLVowLTlfXSoiLCJnbWkiKSxjc3M6ImZ1bmN0aW9ucyJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoZCksImdtaSIpLGNzczoia2V5d29yZCJ9LHtyZWdleDpuZXcgUmVnRXhwKCItIit0aGlzLmdldEtleXdvcmRzKGIpLCJnbWkiKSxjc3M6Im9wZXJhdG9yIHZhbHVlIn0se3JlZ2V4Om5ldyBSZWdFeHAoIlxcW1tBLVpfXFxbXVtBLVowLTlfLiBgLFxcW1xcXV0qXFxdIiwiZ2kiKSxjc3M6ImNvbnN0YW50cyJ9LHtyZWdleDpuZXcgUmVnRXhwKCJcXHMrLSg/ISIrdGhpcy5nZXRLZXl3b3JkcyhiKSsiKVthLXpBLVpfXVthLXpBLVowLTlfXSoiLCJnbWkiKSxjc3M6ImNvbG9yMSJ9LF19YS5wcm90b3R5cGU9bmV3IFN5bnRheEhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyKCk7YS5hbGlhc2VzPVsicG93ZXJzaGVsbCIsInBzIiwicG9zaCJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuUG93ZXJTaGVsbD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7dmFyIGQ9ImFuZCBhc3NlcnQgYnJlYWsgY2xhc3MgY29udGludWUgZGVmIGRlbCBlbGlmIGVsc2UgZXhjZXB0IGV4ZWMgZmluYWxseSBmb3IgZnJvbSBnbG9iYWwgaWYgaW1wb3J0IGluIGlzIGxhbWJkYSBub3Qgb3IgcGFzcyBwcmludCByYWlzZSByZXR1cm4gdHJ5IHlpZWxkIHdoaWxlIjt2YXIgYj0iX19pbXBvcnRfXyBhYnMgYWxsIGFueSBhcHBseSBiYXNlc3RyaW5nIGJpbiBib29sIGJ1ZmZlciBjYWxsYWJsZSBjaHIgY2xhc3NtZXRob2QgY21wIGNvZXJjZSBjb21waWxlIGNvbXBsZXggZGVsYXR0ciBkaWN0IGRpciBkaXZtb2QgZW51bWVyYXRlIGV2YWwgZXhlY2ZpbGUgZmlsZSBmaWx0ZXIgZmxvYXQgZm9ybWF0IGZyb3plbnNldCBnZXRhdHRyIGdsb2JhbHMgaGFzYXR0ciBoYXNoIGhlbHAgaGV4IGlkIGlucHV0IGludCBpbnRlcm4gaXNpbnN0YW5jZSBpc3N1YmNsYXNzIGl0ZXIgbGVuIGxpc3QgbG9jYWxzIGxvbmcgbWFwIG1heCBtaW4gbmV4dCBvYmplY3Qgb2N0IG9wZW4gb3JkIHBvdyBwcmludCBwcm9wZXJ0eSByYW5nZSByYXdfaW5wdXQgcmVkdWNlIHJlbG9hZCByZXByIHJldmVyc2VkIHJvdW5kIHNldCBzZXRhdHRyIHNsaWNlIHNvcnRlZCBzdGF0aWNtZXRob2Qgc3RyIHN1bSBzdXBlciB0dXBsZSB0eXBlIHR5cGUgdW5pY2hyIHVuaWNvZGUgdmFycyB4cmFuZ2UgemlwIjt2YXIgYz0iTm9uZSBUcnVlIEZhbHNlIHNlbGYgY2xzIGNsYXNzXyI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVMaW5lUGVybENvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6L15ccypAXHcrL2dtLGNzczoiZGVjb3JhdG9yIn0se3JlZ2V4Oi8oWydcIl17M30pKFteXDFdKSo/XDEvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDovIig/ISIpKD86XC58XFxcInxbXlwiIlxuXSkqIi9nbSxjc3M6InN0cmluZyJ9LHtyZWdleDovJyg/IScpKD86XC58KFxcXCcpfFteXCcnXG5dKSonL2dtLGNzczoic3RyaW5nIn0se3JlZ2V4Oi9cK3xcLXxcKnxcL3xcJXw9fD09L2dtLGNzczoia2V5d29yZCJ9LHtyZWdleDovXGJcZCtcLj9cdyovZyxjc3M6InZhbHVlIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ21pIiksY3NzOiJmdW5jdGlvbnMifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGQpLCJnbSIpLGNzczoia2V5d29yZCJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYyksImdtIiksY3NzOiJjb2xvcjEifV07dGhpcy5mb3JIdG1sU2NyaXB0KFN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmFzcFNjcmlwdFRhZ3MpfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bInB5IiwicHl0aG9uIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5QeXRob249YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTsoZnVuY3Rpb24oKXtTeW50YXhIaWdobGlnaHRlcj1TeW50YXhIaWdobGlnaHRlcnx8KHR5cGVvZiByZXF1aXJlIT09InVuZGVmaW5lZCI/cmVxdWlyZSgic2hDb3JlIikuU3ludGF4SGlnaGxpZ2h0ZXI6bnVsbCk7ZnVuY3Rpb24gYSgpe3ZhciBiPSJhbGlhcyBhbmQgQkVHSU4gYmVnaW4gYnJlYWsgY2FzZSBjbGFzcyBkZWYgZGVmaW5lX21ldGhvZCBkZWZpbmVkIGRvIGVhY2ggZWxzZSBlbHNpZiBFTkQgZW5kIGVuc3VyZSBmYWxzZSBmb3IgaWYgaW4gbW9kdWxlIG5ldyBuZXh0IG5pbCBub3Qgb3IgcmFpc2UgcmVkbyByZXNjdWUgcmV0cnkgcmV0dXJuIHNlbGYgc3VwZXIgdGhlbiB0aHJvdyB0cnVlIHVuZGVmIHVubGVzcyB1bnRpbCB3aGVuIHdoaWxlIHlpZWxkIjt2YXIgYz0iQXJyYXkgQmlnbnVtIEJpbmRpbmcgQ2xhc3MgQ29udGludWF0aW9uIERpciBFeGNlcHRpb24gRmFsc2VDbGFzcyBGaWxlOjpTdGF0IEZpbGUgRml4bnVtIEZsb2FkIEhhc2ggSW50ZWdlciBJTyBNYXRjaERhdGEgTWV0aG9kIE1vZHVsZSBOaWxDbGFzcyBOdW1lcmljIE9iamVjdCBQcm9jIFJhbmdlIFJlZ2V4cCBTdHJpbmcgU3RydWN0OjpUTVMgU3ltYm9sIFRocmVhZEdyb3VwIFRocmVhZCBUaW1lIFRydWVDbGFzcyI7dGhpcy5yZWdleExpc3Q9W3tyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5zaW5nbGVMaW5lUGVybENvbW1lbnRzLGNzczoiY29tbWVudHMifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIuZG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXGJbQS1aMC05X10rXGIvZyxjc3M6ImNvbnN0YW50cyJ9LHtyZWdleDovOlthLXpdW0EtWmEtejAtOV9dKi9nLGNzczoiY29sb3IyIn0se3JlZ2V4Oi8oXCR8QEB8QClcdysvZyxjc3M6InZhcmlhYmxlIGJvbGQifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbSIpLGNzczoia2V5d29yZCJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYyksImdtIiksY3NzOiJjb2xvcjEifV07dGhpcy5mb3JIdG1sU2NyaXB0KFN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmFzcFNjcmlwdFRhZ3MpfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bInJ1YnkiLCJyYWlscyIsInJvciIsInJiIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5SdWJ5PWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXtmdW5jdGlvbiBiKGope3JldHVybiJcXGIoW2Etel9dfCkiK2oucmVwbGFjZSgvIC9nLCIoPz06KVxcYnxcXGIoW2Etel9cXCpdfFxcKnwpIikrIig/PTopXFxiIn1mdW5jdGlvbiBlKGope3JldHVybiJcXGIiK2oucmVwbGFjZSgvIC9nLCIoPyEtKSg/ITopXFxifFxcYigpIikrIjpcXGIifXZhciBnPSJhc2NlbnQgYXppbXV0aCBiYWNrZ3JvdW5kLWF0dGFjaG1lbnQgYmFja2dyb3VuZC1jb2xvciBiYWNrZ3JvdW5kLWltYWdlIGJhY2tncm91bmQtcG9zaXRpb24gYmFja2dyb3VuZC1yZXBlYXQgYmFja2dyb3VuZCBiYXNlbGluZSBiYm94IGJvcmRlci1jb2xsYXBzZSBib3JkZXItY29sb3IgYm9yZGVyLXNwYWNpbmcgYm9yZGVyLXN0eWxlIGJvcmRlci10b3AgYm9yZGVyLXJpZ2h0IGJvcmRlci1ib3R0b20gYm9yZGVyLWxlZnQgYm9yZGVyLXRvcC1jb2xvciBib3JkZXItcmlnaHQtY29sb3IgYm9yZGVyLWJvdHRvbS1jb2xvciBib3JkZXItbGVmdC1jb2xvciBib3JkZXItdG9wLXN0eWxlIGJvcmRlci1yaWdodC1zdHlsZSBib3JkZXItYm90dG9tLXN0eWxlIGJvcmRlci1sZWZ0LXN0eWxlIGJvcmRlci10b3Atd2lkdGggYm9yZGVyLXJpZ2h0LXdpZHRoIGJvcmRlci1ib3R0b20td2lkdGggYm9yZGVyLWxlZnQtd2lkdGggYm9yZGVyLXdpZHRoIGJvcmRlciBib3R0b20gY2FwLWhlaWdodCBjYXB0aW9uLXNpZGUgY2VudGVybGluZSBjbGVhciBjbGlwIGNvbG9yIGNvbnRlbnQgY291bnRlci1pbmNyZW1lbnQgY291bnRlci1yZXNldCBjdWUtYWZ0ZXIgY3VlLWJlZm9yZSBjdWUgY3Vyc29yIGRlZmluaXRpb24tc3JjIGRlc2NlbnQgZGlyZWN0aW9uIGRpc3BsYXkgZWxldmF0aW9uIGVtcHR5LWNlbGxzIGZsb2F0IGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc3RyZXRjaCBmb250LXN0eWxlIGZvbnQtdmFyaWFudCBmb250LXdlaWdodCBmb250IGhlaWdodCBsZWZ0IGxldHRlci1zcGFjaW5nIGxpbmUtaGVpZ2h0IGxpc3Qtc3R5bGUtaW1hZ2UgbGlzdC1zdHlsZS1wb3NpdGlvbiBsaXN0LXN0eWxlLXR5cGUgbGlzdC1zdHlsZSBtYXJnaW4tdG9wIG1hcmdpbi1yaWdodCBtYXJnaW4tYm90dG9tIG1hcmdpbi1sZWZ0IG1hcmdpbiBtYXJrZXItb2Zmc2V0IG1hcmtzIG1hdGhsaW5lIG1heC1oZWlnaHQgbWF4LXdpZHRoIG1pbi1oZWlnaHQgbWluLXdpZHRoIG9ycGhhbnMgb3V0bGluZS1jb2xvciBvdXRsaW5lLXN0eWxlIG91dGxpbmUtd2lkdGggb3V0bGluZSBvdmVyZmxvdyBwYWRkaW5nLXRvcCBwYWRkaW5nLXJpZ2h0IHBhZGRpbmctYm90dG9tIHBhZGRpbmctbGVmdCBwYWRkaW5nIHBhZ2UgcGFnZS1icmVhay1hZnRlciBwYWdlLWJyZWFrLWJlZm9yZSBwYWdlLWJyZWFrLWluc2lkZSBwYXVzZSBwYXVzZS1hZnRlciBwYXVzZS1iZWZvcmUgcGl0Y2ggcGl0Y2gtcmFuZ2UgcGxheS1kdXJpbmcgcG9zaXRpb24gcXVvdGVzIHJpZ2h0IHJpY2huZXNzIHNpemUgc2xvcGUgc3JjIHNwZWFrLWhlYWRlciBzcGVhay1udW1lcmFsIHNwZWFrLXB1bmN0dWF0aW9uIHNwZWFrIHNwZWVjaC1yYXRlIHN0ZW1oIHN0ZW12IHN0cmVzcyB0YWJsZS1sYXlvdXQgdGV4dC1hbGlnbiB0b3AgdGV4dC1kZWNvcmF0aW9uIHRleHQtaW5kZW50IHRleHQtc2hhZG93IHRleHQtdHJhbnNmb3JtIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2ZXJ0aWNhbC1hbGlnbiB2aXNpYmlsaXR5IHZvaWNlLWZhbWlseSB2b2x1bWUgd2hpdGUtc3BhY2Ugd2lkb3dzIHdpZHRoIHdpZHRocyB3b3JkLXNwYWNpbmcgeC1oZWlnaHQgei1pbmRleCI7dmFyIGQ9ImFib3ZlIGFic29sdXRlIGFsbCBhbHdheXMgYXF1YSBhcm1lbmlhbiBhdHRyIGF1cmFsIGF1dG8gYXZvaWQgYmFzZWxpbmUgYmVoaW5kIGJlbG93IGJpZGktb3ZlcnJpZGUgYmxhY2sgYmxpbmsgYmxvY2sgYmx1ZSBib2xkIGJvbGRlciBib3RoIGJvdHRvbSBicmFpbGxlIGNhcGl0YWxpemUgY2FwdGlvbiBjZW50ZXIgY2VudGVyLWxlZnQgY2VudGVyLXJpZ2h0IGNpcmNsZSBjbG9zZS1xdW90ZSBjb2RlIGNvbGxhcHNlIGNvbXBhY3QgY29uZGVuc2VkIGNvbnRpbnVvdXMgY291bnRlciBjb3VudGVycyBjcm9wIGNyb3NzIGNyb3NzaGFpciBjdXJzaXZlIGRhc2hlZCBkZWNpbWFsIGRlY2ltYWwtbGVhZGluZy16ZXJvIGRpZ2l0cyBkaXNjIGRvdHRlZCBkb3VibGUgZW1iZWQgZW1ib3NzZWQgZS1yZXNpemUgZXhwYW5kZWQgZXh0cmEtY29uZGVuc2VkIGV4dHJhLWV4cGFuZGVkIGZhbnRhc3kgZmFyLWxlZnQgZmFyLXJpZ2h0IGZhc3QgZmFzdGVyIGZpeGVkIGZvcm1hdCBmdWNoc2lhIGdyYXkgZ3JlZW4gZ3Jvb3ZlIGhhbmRoZWxkIGhlYnJldyBoZWxwIGhpZGRlbiBoaWRlIGhpZ2ggaGlnaGVyIGljb24gaW5saW5lLXRhYmxlIGlubGluZSBpbnNldCBpbnNpZGUgaW52ZXJ0IGl0YWxpYyBqdXN0aWZ5IGxhbmRzY2FwZSBsYXJnZSBsYXJnZXIgbGVmdC1zaWRlIGxlZnQgbGVmdHdhcmRzIGxldmVsIGxpZ2h0ZXIgbGltZSBsaW5lLXRocm91Z2ggbGlzdC1pdGVtIGxvY2FsIGxvdWQgbG93ZXItYWxwaGEgbG93ZXJjYXNlIGxvd2VyLWdyZWVrIGxvd2VyLWxhdGluIGxvd2VyLXJvbWFuIGxvd2VyIGxvdyBsdHIgbWFya2VyIG1hcm9vbiBtZWRpdW0gbWVzc2FnZS1ib3ggbWlkZGxlIG1peCBtb3ZlIG5hcnJvd2VyIG5hdnkgbmUtcmVzaXplIG5vLWNsb3NlLXF1b3RlIG5vbmUgbm8tb3Blbi1xdW90ZSBuby1yZXBlYXQgbm9ybWFsIG5vd3JhcCBuLXJlc2l6ZSBudy1yZXNpemUgb2JsaXF1ZSBvbGl2ZSBvbmNlIG9wZW4tcXVvdGUgb3V0c2V0IG91dHNpZGUgb3ZlcmxpbmUgcG9pbnRlciBwb3J0cmFpdCBwcmUgcHJpbnQgcHJvamVjdGlvbiBwdXJwbGUgcmVkIHJlbGF0aXZlIHJlcGVhdCByZXBlYXQteCByZXBlYXQteSByZ2IgcmlkZ2UgcmlnaHQgcmlnaHQtc2lkZSByaWdodHdhcmRzIHJ0bCBydW4taW4gc2NyZWVuIHNjcm9sbCBzZW1pLWNvbmRlbnNlZCBzZW1pLWV4cGFuZGVkIHNlcGFyYXRlIHNlLXJlc2l6ZSBzaG93IHNpbGVudCBzaWx2ZXIgc2xvd2VyIHNsb3cgc21hbGwgc21hbGwtY2FwcyBzbWFsbC1jYXB0aW9uIHNtYWxsZXIgc29mdCBzb2xpZCBzcGVlY2ggc3BlbGwtb3V0IHNxdWFyZSBzLXJlc2l6ZSBzdGF0aWMgc3RhdHVzLWJhciBzdWIgc3VwZXIgc3ctcmVzaXplIHRhYmxlLWNhcHRpb24gdGFibGUtY2VsbCB0YWJsZS1jb2x1bW4gdGFibGUtY29sdW1uLWdyb3VwIHRhYmxlLWZvb3Rlci1ncm91cCB0YWJsZS1oZWFkZXItZ3JvdXAgdGFibGUtcm93IHRhYmxlLXJvdy1ncm91cCB0ZWFsIHRleHQtYm90dG9tIHRleHQtdG9wIHRoaWNrIHRoaW4gdG9wIHRyYW5zcGFyZW50IHR0eSB0diB1bHRyYS1jb25kZW5zZWQgdWx0cmEtZXhwYW5kZWQgdW5kZXJsaW5lIHVwcGVyLWFscGhhIHVwcGVyY2FzZSB1cHBlci1sYXRpbiB1cHBlci1yb21hbiB1cmwgdmlzaWJsZSB3YWl0IHdoaXRlIHdpZGVyIHctcmVzaXplIHgtZmFzdCB4LWhpZ2ggeC1sYXJnZSB4LWxvdWQgeC1sb3cgeC1zbG93IHgtc21hbGwgeC1zb2Z0IHh4LWxhcmdlIHh4LXNtYWxsIHllbGxvdyI7dmFyIGk9IlttTV1vbm9zcGFjZSBbdFRdYWhvbWEgW3ZWXWVyZGFuYSBbYUFdcmlhbCBbaEhdZWx2ZXRpY2EgW3NTXWFucy1zZXJpZiBbc1NdZXJpZiBbY0Ndb3VyaWVyIG1vbm8gc2FucyBzZXJpZiI7dmFyIGM9IiFpbXBvcnRhbnQgIWRlZmF1bHQiO3ZhciBmPSJAaW1wb3J0IEBleHRlbmQgQGRlYnVnIEB3YXJuIEBpZiBAZm9yIEB3aGlsZSBAbWl4aW4gQGluY2x1ZGUiO3ZhciBoPVN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6aC5tdWx0aUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpoLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpoLmRvdWJsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDpoLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovXCNbYS1mQS1GMC05XXszLDZ9L2csY3NzOiJ2YWx1ZSJ9LHtyZWdleDovXGIoLT9cZCspKFwuXGQrKT8ocHh8ZW18cHR8XDp8XCV8KVxiL2csY3NzOiJ2YWx1ZSJ9LHtyZWdleDovXCRcdysvZyxjc3M6InZhcmlhYmxlIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhjKSwiZyIpLGNzczoiY29sb3IzIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhmKSwiZyIpLGNzczoicHJlcHJvY2Vzc29yIn0se3JlZ2V4Om5ldyBSZWdFeHAoYihnKSwiZ20iKSxjc3M6ImtleXdvcmQifSx7cmVnZXg6bmV3IFJlZ0V4cChlKGQpLCJnIiksY3NzOiJ2YWx1ZSJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoaSksImciKSxjc3M6ImNvbG9yMSJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJzYXNzIiwic2NzcyJdO1N5bnRheEhpZ2hsaWdodGVyLmJydXNoZXMuU2Fzcz1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7dmFyIGM9InZhbCBzZWFsZWQgY2FzZSBkZWYgdHJ1ZSB0cmFpdCBpbXBsaWNpdCBmb3JTb21lIGltcG9ydCBtYXRjaCBvYmplY3QgbnVsbCBmaW5hbGx5IHN1cGVyIG92ZXJyaWRlIHRyeSBsYXp5IGZvciB2YXIgY2F0Y2ggdGhyb3cgdHlwZSBleHRlbmRzIGNsYXNzIHdoaWxlIHdpdGggbmV3IGZpbmFsIHlpZWxkIGFic3RyYWN0IGVsc2UgZG8gaWYgcmV0dXJuIHByb3RlY3RlZCBwcml2YXRlIHRoaXMgcGFja2FnZSBmYWxzZSI7dmFyIGI9IltfOj0+PCUjQF0rIjt0aGlzLnJlZ2V4TGlzdD1be3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVDQ29tbWVudHMsY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVTaW5nbGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIubXVsdGlMaW5lRG91YmxlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4OlN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLnNpbmdsZVF1b3RlZFN0cmluZyxjc3M6InN0cmluZyJ9LHtyZWdleDovMHhbYS1mMC05XSt8XGQrKFwuXGQrKT8vZ2ksY3NzOiJ2YWx1ZSJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoYyksImdtIiksY3NzOiJrZXl3b3JkIn0se3JlZ2V4Om5ldyBSZWdFeHAoYiwiZ20iKSxjc3M6ImtleXdvcmQifV19YS5wcm90b3R5cGU9bmV3IFN5bnRheEhpZ2hsaWdodGVyLkhpZ2hsaWdodGVyKCk7YS5hbGlhc2VzPVsic2NhbGEiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLlNjYWxhPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXt2YXIgYz0iYWJzIGF2ZyBjYXNlIGNhc3QgY29hbGVzY2UgY29udmVydCBjb3VudCBjdXJyZW50X3RpbWVzdGFtcCBjdXJyZW50X3VzZXIgZGF5IGlzbnVsbCBsZWZ0IGxvd2VyIG1vbnRoIG51bGxpZiByZXBsYWNlIHJpZ2h0IHNlc3Npb25fdXNlciBzcGFjZSBzdWJzdHJpbmcgc3VtIHN5c3RlbV91c2VyIHVwcGVyIHVzZXIgeWVhciI7dmFyIGQ9ImFic29sdXRlIGFjdGlvbiBhZGQgYWZ0ZXIgYWx0ZXIgYXMgYXNjIGF0IGF1dGhvcml6YXRpb24gYmVnaW4gYmlnaW50IGJpbmFyeSBiaXQgYnkgY2FzY2FkZSBjaGFyIGNoYXJhY3RlciBjaGVjayBjaGVja3BvaW50IGNsb3NlIGNvbGxhdGUgY29sdW1uIGNvbW1pdCBjb21taXR0ZWQgY29ubmVjdCBjb25uZWN0aW9uIGNvbnN0cmFpbnQgY29udGFpbnMgY29udGludWUgY3JlYXRlIGN1YmUgY3VycmVudCBjdXJyZW50X2RhdGUgY3VycmVudF90aW1lIGN1cnNvciBkYXRhYmFzZSBkYXRlIGRlYWxsb2NhdGUgZGVjIGRlY2ltYWwgZGVjbGFyZSBkZWZhdWx0IGRlbGV0ZSBkZXNjIGRpc3RpbmN0IGRvdWJsZSBkcm9wIGR5bmFtaWMgZWxzZSBlbmQgZW5kLWV4ZWMgZXNjYXBlIGV4Y2VwdCBleGVjIGV4ZWN1dGUgZmFsc2UgZmV0Y2ggZmlyc3QgZmxvYXQgZm9yIGZvcmNlIGZvcmVpZ24gZm9yd2FyZCBmcmVlIGZyb20gZnVsbCBmdW5jdGlvbiBnbG9iYWwgZ290byBncmFudCBncm91cCBncm91cGluZyBoYXZpbmcgaG91ciBpZ25vcmUgaW5kZXggaW5uZXIgaW5zZW5zaXRpdmUgaW5zZXJ0IGluc3RlYWQgaW50IGludGVnZXIgaW50ZXJzZWN0IGludG8gaXMgaXNvbGF0aW9uIGtleSBsYXN0IGxldmVsIGxvYWQgbG9jYWwgbWF4IG1pbiBtaW51dGUgbW9kaWZ5IG1vdmUgbmFtZSBuYXRpb25hbCBuY2hhciBuZXh0IG5vIG51bWVyaWMgb2Ygb2ZmIG9uIG9ubHkgb3BlbiBvcHRpb24gb3JkZXIgb3V0IG91dHB1dCBwYXJ0aWFsIHBhc3N3b3JkIHByZWNpc2lvbiBwcmVwYXJlIHByaW1hcnkgcHJpb3IgcHJpdmlsZWdlcyBwcm9jZWR1cmUgcHVibGljIHJlYWQgcmVhbCByZWZlcmVuY2VzIHJlbGF0aXZlIHJlcGVhdGFibGUgcmVzdHJpY3QgcmV0dXJuIHJldHVybnMgcmV2b2tlIHJvbGxiYWNrIHJvbGx1cCByb3dzIHJ1bGUgc2NoZW1hIHNjcm9sbCBzZWNvbmQgc2VjdGlvbiBzZWxlY3Qgc2VxdWVuY2Ugc2VyaWFsaXphYmxlIHNldCBzaXplIHNtYWxsaW50IHN0YXRpYyBzdGF0aXN0aWNzIHRhYmxlIHRlbXAgdGVtcG9yYXJ5IHRoZW4gdGltZSB0aW1lc3RhbXAgdG8gdG9wIHRyYW5zYWN0aW9uIHRyYW5zbGF0aW9uIHRyaWdnZXIgdHJ1ZSB0cnVuY2F0ZSB1bmNvbW1pdHRlZCB1bmlvbiB1bmlxdWUgdXBkYXRlIHZhbHVlcyB2YXJjaGFyIHZhcnlpbmcgdmlldyB3aGVuIHdoZXJlIHdpdGggd29yayI7dmFyIGI9ImFsbCBhbmQgYW55IGJldHdlZW4gY3Jvc3MgaW4gam9pbiBsaWtlIG5vdCBudWxsIG9yIG91dGVyIHNvbWUiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6Ly0tKC4qKSQvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5tdWx0aUxpbmVEb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6U3ludGF4SGlnaGxpZ2h0ZXIucmVnZXhMaWIubXVsdGlMaW5lU2luZ2xlUXVvdGVkU3RyaW5nLGNzczoic3RyaW5nIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhjKSwiZ21pIiksY3NzOiJjb2xvcjIifSx7cmVnZXg6bmV3IFJlZ0V4cCh0aGlzLmdldEtleXdvcmRzKGIpLCJnbWkiKSxjc3M6ImNvbG9yMSJ9LHtyZWdleDpuZXcgUmVnRXhwKHRoaXMuZ2V0S2V5d29yZHMoZCksImdtaSIpLGNzczoia2V5d29yZCJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJzcWwiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLlNxbD1hO3R5cGVvZihleHBvcnRzKSE9InVuZGVmaW5lZCI/ZXhwb3J0cy5CcnVzaD1hOm51bGx9KSgpOyhmdW5jdGlvbigpe1N5bnRheEhpZ2hsaWdodGVyPVN5bnRheEhpZ2hsaWdodGVyfHwodHlwZW9mIHJlcXVpcmUhPT0idW5kZWZpbmVkIj9yZXF1aXJlKCJzaENvcmUiKS5TeW50YXhIaWdobGlnaHRlcjpudWxsKTtmdW5jdGlvbiBhKCl7dmFyIGI9IkFkZEhhbmRsZXIgQWRkcmVzc09mIEFuZEFsc28gQWxpYXMgQW5kIEFuc2kgQXMgQXNzZW1ibHkgQXV0byBCb29sZWFuIEJ5UmVmIEJ5dGUgQnlWYWwgQ2FsbCBDYXNlIENhdGNoIENCb29sIENCeXRlIENDaGFyIENEYXRlIENEZWMgQ0RibCBDaGFyIENJbnQgQ2xhc3MgQ0xuZyBDT2JqIENvbnN0IENTaG9ydCBDU25nIENTdHIgQ1R5cGUgRGF0ZSBEZWNpbWFsIERlY2xhcmUgRGVmYXVsdCBEZWxlZ2F0ZSBEaW0gRGlyZWN0Q2FzdCBEbyBEb3VibGUgRWFjaCBFbHNlIEVsc2VJZiBFbmQgRW51bSBFcmFzZSBFcnJvciBFdmVudCBFeGl0IEZhbHNlIEZpbmFsbHkgRm9yIEZyaWVuZCBGdW5jdGlvbiBHZXQgR2V0VHlwZSBHb1N1YiBHb1RvIEhhbmRsZXMgSWYgSW1wbGVtZW50cyBJbXBvcnRzIEluIEluaGVyaXRzIEludGVnZXIgSW50ZXJmYWNlIElzIExldCBMaWIgTGlrZSBMb25nIExvb3AgTWUgTW9kIE1vZHVsZSBNdXN0SW5oZXJpdCBNdXN0T3ZlcnJpZGUgTXlCYXNlIE15Q2xhc3MgTmFtZXNwYWNlIE5ldyBOZXh0IE5vdCBOb3RoaW5nIE5vdEluaGVyaXRhYmxlIE5vdE92ZXJyaWRhYmxlIE9iamVjdCBPbiBPcHRpb24gT3B0aW9uYWwgT3IgT3JFbHNlIE92ZXJsb2FkcyBPdmVycmlkYWJsZSBPdmVycmlkZXMgUGFyYW1BcnJheSBQcmVzZXJ2ZSBQcml2YXRlIFByb3BlcnR5IFByb3RlY3RlZCBQdWJsaWMgUmFpc2VFdmVudCBSZWFkT25seSBSZURpbSBSRU0gUmVtb3ZlSGFuZGxlciBSZXN1bWUgUmV0dXJuIFNlbGVjdCBTZXQgU2hhZG93cyBTaGFyZWQgU2hvcnQgU2luZ2xlIFN0YXRpYyBTdGVwIFN0b3AgU3RyaW5nIFN0cnVjdHVyZSBTdWIgU3luY0xvY2sgVGhlbiBUaHJvdyBUbyBUcnVlIFRyeSBUeXBlT2YgVW5pY29kZSBVbnRpbCBWYXJpYW50IFdoZW4gV2hpbGUgV2l0aCBXaXRoRXZlbnRzIFdyaXRlT25seSBYb3IiO3RoaXMucmVnZXhMaXN0PVt7cmVnZXg6LycuKiQvZ20sY3NzOiJjb21tZW50cyJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi5kb3VibGVRdW90ZWRTdHJpbmcsY3NzOiJzdHJpbmcifSx7cmVnZXg6L15ccyojLiokL2dtLGNzczoicHJlcHJvY2Vzc29yIn0se3JlZ2V4Om5ldyBSZWdFeHAodGhpcy5nZXRLZXl3b3JkcyhiKSwiZ20iKSxjc3M6ImtleXdvcmQifV07dGhpcy5mb3JIdG1sU2NyaXB0KFN5bnRheEhpZ2hsaWdodGVyLnJlZ2V4TGliLmFzcFNjcmlwdFRhZ3MpfWEucHJvdG90eXBlPW5ldyBTeW50YXhIaWdobGlnaHRlci5IaWdobGlnaHRlcigpO2EuYWxpYXNlcz1bInZiIiwidmJuZXQiXTtTeW50YXhIaWdobGlnaHRlci5icnVzaGVzLlZiPWE7dHlwZW9mKGV4cG9ydHMpIT0idW5kZWZpbmVkIj9leHBvcnRzLkJydXNoPWE6bnVsbH0pKCk7KGZ1bmN0aW9uKCl7U3ludGF4SGlnaGxpZ2h0ZXI9U3ludGF4SGlnaGxpZ2h0ZXJ8fCh0eXBlb2YgcmVxdWlyZSE9PSJ1bmRlZmluZWQiP3JlcXVpcmUoInNoQ29yZSIpLlN5bnRheEhpZ2hsaWdodGVyOm51bGwpO2Z1bmN0aW9uIGEoKXtmdW5jdGlvbiBiKGYsail7dmFyIGc9U3ludGF4SGlnaGxpZ2h0ZXIuTWF0Y2gsaT1mWzBdLGQ9bmV3IFhSZWdFeHAoIigmbHQ7fDwpW1xcc1xcL1xcP10qKD88bmFtZT5bOlxcdy1cXC5dKykiLCJ4ZyIpLmV4ZWMoaSksYz1bXTtpZihmLmF0dHJpYnV0ZXMhPW51bGwpe3ZhciBlLGg9bmV3IFhSZWdFeHAoIig/PG5hbWU+IFtcXHc6XFwtXFwuXSspXFxzKj1cXHMqKD88dmFsdWU+IFwiLio/XCJ8Jy4qPyd8XFx3KykiLCJ4ZyIpO3doaWxlKChlPWguZXhlYyhpKSkhPW51bGwpe2MucHVzaChuZXcgZyhlLm5hbWUsZi5pbmRleCtlLmluZGV4LCJjb2xvcjEiKSk7Yy5wdXNoKG5ldyBnKGUudmFsdWUsZi5pbmRleCtlLmluZGV4K2VbMF0uaW5kZXhPZihlLnZhbHVlKSwic3RyaW5nIikpfX1pZihkIT1udWxsKXtjLnB1c2gobmV3IGcoZC5uYW1lLGYuaW5kZXgrZFswXS5pbmRleE9mKGQubmFtZSksImtleXdvcmQiKSl9cmV0dXJuIGN9dGhpcy5yZWdleExpc3Q9W3tyZWdleDpuZXcgWFJlZ0V4cCgiKFxcJmx0O3w8KVxcIVxcW1tcXHdcXHNdKj9cXFsoLnxcXHMpKj9cXF1cXF0oXFwmZ3Q7fD4pIiwiZ20iKSxjc3M6ImNvbG9yMiJ9LHtyZWdleDpTeW50YXhIaWdobGlnaHRlci5yZWdleExpYi54bWxDb21tZW50cyxjc3M6ImNvbW1lbnRzIn0se3JlZ2V4Om5ldyBYUmVnRXhwKCIoJmx0O3w8KVtcXHNcXC9cXD9dKihcXHcrKSg/PGF0dHJpYnV0ZXM+Lio/KVtcXHNcXC9cXD9dKigmZ3Q7fD4pIiwic2ciKSxmdW5jOmJ9XX1hLnByb3RvdHlwZT1uZXcgU3ludGF4SGlnaGxpZ2h0ZXIuSGlnaGxpZ2h0ZXIoKTthLmFsaWFzZXM9WyJ4bWwiLCJ4aHRtbCIsInhzbHQiLCJodG1sIl07U3ludGF4SGlnaGxpZ2h0ZXIuYnJ1c2hlcy5YbWw9YTt0eXBlb2YoZXhwb3J0cykhPSJ1bmRlZmluZWQiP2V4cG9ydHMuQnJ1c2g9YTpudWxsfSkoKTs=</file>
	<file name='zb_system\ADMIN\ueditor\third-party\SyntaxHighlighter\shCoreDefault.pack.css' crc32='DCDCF7CF'  dt:dt='bin.base64'>LnN5bnRheGhpZ2hsaWdodGVyIGEsLnN5bnRheGhpZ2hsaWdodGVyIGRpdiwuc3ludGF4aGlnaGxpZ2h0ZXIgY29kZSwuc3ludGF4aGlnaGxpZ2h0ZXIsLnN5bnRheGhpZ2hsaWdodGVyIHRkLC5zeW50YXhoaWdobGlnaHRlciB0ciwuc3ludGF4aGlnaGxpZ2h0ZXIgdGJvZHksLnN5bnRheGhpZ2hsaWdodGVyIHRoZWFkLC5zeW50YXhoaWdobGlnaHRlciBjYXB0aW9uLC5zeW50YXhoaWdobGlnaHRlciB0ZXh0YXJlYXstbW96LWJvcmRlci1yYWRpdXM6MCAwIDAgMCFpbXBvcnRhbnQ7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjAgMCAwIDAhaW1wb3J0YW50O2JhY2tncm91bmQ6bm9uZSFpbXBvcnRhbnQ7Ym9yZGVyOjAhaW1wb3J0YW50O2JvdHRvbTphdXRvIWltcG9ydGFudDtmbG9hdDpub25lIWltcG9ydGFudDtsZWZ0OmF1dG8haW1wb3J0YW50O2xpbmUtaGVpZ2h0OjEuMWVtIWltcG9ydGFudDttYXJnaW46MCFpbXBvcnRhbnQ7b3V0bGluZTowIWltcG9ydGFudDtvdmVyZmxvdzp2aXNpYmxlIWltcG9ydGFudDtwYWRkaW5nOjAhaW1wb3J0YW50O3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnQ7cmlnaHQ6YXV0byFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpsZWZ0IWltcG9ydGFudDt0b3A6YXV0byFpbXBvcnRhbnQ7dmVydGljYWwtYWxpZ246YmFzZWxpbmUhaW1wb3J0YW50O3dpZHRoOmF1dG8haW1wb3J0YW50O2JveC1zaXppbmc6Y29udGVudC1ib3ghaW1wb3J0YW50O2ZvbnQtZmFtaWx5Ok1vbmFjbyxNZW5sbyxDb25zb2xhcywiQ291cmllciBOZXciLG1vbm9zcGFjZTtmb250LXdlaWdodDpub3JtYWwhaW1wb3J0YW50O2ZvbnQtc3R5bGU6bm9ybWFsIWltcG9ydGFudDttaW4taGVpZ2h0OmluaGVyaXQhaW1wb3J0YW50O21pbi1oZWlnaHQ6YXV0byFpbXBvcnRhbnQ7Zm9udC1zaXplOjEzcHghaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlcnt3aWR0aDoxMDAlIWltcG9ydGFudDttYXJnaW46LjNlbSAwIC4zZW0gMCFpbXBvcnRhbnQ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50O292ZXJmbG93OmF1dG8haW1wb3J0YW50O2JhY2tncm91bmQtY29sb3I6I2Y1ZjVmNSFpbXBvcnRhbnQ7Ym9yZGVyOjFweCBzb2xpZCAjY2NjIWltcG9ydGFudDtib3JkZXItcmFkaXVzOjRweCFpbXBvcnRhbnQ7Ym9yZGVyLWNvbGxhcHNlOnNlcGFyYXRlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIuc291cmNle292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC5ib2xke2ZvbnQtd2VpZ2h0OmJvbGQhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAuaXRhbGlje2ZvbnQtc3R5bGU6aXRhbGljIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmd1dHRlciBkaXZ7d2hpdGUtc3BhY2U6cHJlIWltcG9ydGFudDt3b3JkLXdyYXA6bm9ybWFsfS5zeW50YXhoaWdobGlnaHRlciBjYXB0aW9ue3RleHQtYWxpZ246bGVmdCFpbXBvcnRhbnQ7cGFkZGluZzouNWVtIDAgLjVlbSAxZW0haW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciB0ZC5jb2Rle3dpZHRoOjEwMCUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciB0ZC5jb2RlIC5jb250YWluZXJ7cG9zaXRpb246cmVsYXRpdmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciB0ZC5jb2RlIC5jb250YWluZXIgdGV4dGFyZWF7Ym94LXNpemluZzpib3JkZXItYm94IWltcG9ydGFudDtwb3NpdGlvbjphYnNvbHV0ZSFpbXBvcnRhbnQ7bGVmdDowIWltcG9ydGFudDt0b3A6MCFpbXBvcnRhbnQ7d2lkdGg6MTAwJSFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50O2JhY2tncm91bmQ6d2hpdGUhaW1wb3J0YW50O3BhZGRpbmctbGVmdDoxZW0haW1wb3J0YW50O292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnQ7d2hpdGUtc3BhY2U6cHJlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgdGQuZ3V0dGVyIC5saW5le3RleHQtYWxpZ246cmlnaHQhaW1wb3J0YW50O3BhZGRpbmc6MCAuNWVtIDAgMWVtIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgdGQuY29kZSAubGluZXtwYWRkaW5nOjAgMWVtIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIubm9ndXR0ZXIgdGQuY29kZSAuY29udGFpbmVyIHRleHRhcmVhLC5zeW50YXhoaWdobGlnaHRlci5ub2d1dHRlciB0ZC5jb2RlIC5saW5le3BhZGRpbmctbGVmdDowIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIuc2hvd3tkaXNwbGF5OmJsb2NrIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIuY29sbGFwc2VkIHRhYmxle2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmNvbGxhcHNlZCAudG9vbGJhcntwYWRkaW5nOi4xZW0gLjhlbSAwIC44ZW0haW1wb3J0YW50O2ZvbnQtc2l6ZToxZW0haW1wb3J0YW50O3Bvc2l0aW9uOnN0YXRpYyFpbXBvcnRhbnQ7d2lkdGg6YXV0byFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmNvbGxhcHNlZCAudG9vbGJhciBzcGFue2Rpc3BsYXk6aW5saW5lIWltcG9ydGFudDttYXJnaW4tcmlnaHQ6MWVtIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIuY29sbGFwc2VkIC50b29sYmFyIHNwYW4gYXtwYWRkaW5nOjAhaW1wb3J0YW50O2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmNvbGxhcHNlZCAudG9vbGJhciBzcGFuIGEuZXhwYW5kU291cmNle2Rpc3BsYXk6aW5saW5lIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLnRvb2xiYXJ7cG9zaXRpb246YWJzb2x1dGUhaW1wb3J0YW50O3JpZ2h0OjFweCFpbXBvcnRhbnQ7dG9wOjFweCFpbXBvcnRhbnQ7d2lkdGg6MTFweCFpbXBvcnRhbnQ7aGVpZ2h0OjExcHghaW1wb3J0YW50O2ZvbnQtc2l6ZToxMHB4IWltcG9ydGFudDt6LWluZGV4OjEwIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLnRvb2xiYXIgc3Bhbi50aXRsZXtkaXNwbGF5OmlubGluZSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC50b29sYmFyIGF7ZGlzcGxheTpibG9jayFpbXBvcnRhbnQ7dGV4dC1hbGlnbjpjZW50ZXIhaW1wb3J0YW50O3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudDtwYWRkaW5nLXRvcDoxcHghaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAudG9vbGJhciBhLmV4cGFuZFNvdXJjZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5pZXtmb250LXNpemU6LjllbSFpbXBvcnRhbnQ7cGFkZGluZzoxcHggMCAxcHggMCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmllIC50b29sYmFye2xpbmUtaGVpZ2h0OjhweCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmllIC50b29sYmFyIGF7cGFkZGluZy10b3A6MCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5saW5lLmFsdDEgLmNvbnRlbnQsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5saW5lLmFsdDIgLmNvbnRlbnQsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5saW5lLmhpZ2hsaWdodGVkIC5udW1iZXIsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5saW5lLmhpZ2hsaWdodGVkLmFsdDEgLmNvbnRlbnQsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5saW5lLmhpZ2hsaWdodGVkLmFsdDIgLmNvbnRlbnR7YmFja2dyb3VuZDpub25lIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmxpbmUgLm51bWJlcntjb2xvcjojYmJiIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmxpbmUgLmNvbnRlbnR7Y29sb3I6YmxhY2shaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAudG9vbGJhcntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyBhe3RleHQtZGVjb3JhdGlvbjpub25lIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLnBsYWluLC5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAucGxhaW4gYXtjb2xvcjpibGFjayFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5jb21tZW50cywuc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmNvbW1lbnRzIGF7Y29sb3I6IzAwODIwMCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5zdHJpbmcsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5zdHJpbmcgYXtjb2xvcjpibHVlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmtleXdvcmR7Y29sb3I6I2ZmNzgwMCFpbXBvcnRhbnQ7Zm9udC13ZWlnaHQ6Ym9sZCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5wcmVwcm9jZXNzb3J7Y29sb3I6Z3JheSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC52YXJpYWJsZXtjb2xvcjojYTcwIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLnZhbHVle2NvbG9yOiMwOTAhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAuZnVuY3Rpb25ze2NvbG9yOiNmZjE0OTMhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAuY29uc3RhbnRze2NvbG9yOiMwNmMhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAuc2NyaXB0e2ZvbnQtd2VpZ2h0OmJvbGQhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAuY29sb3IxLC5zeW50YXhoaWdobGlnaHRlci5wcmludGluZyAuY29sb3IxIGF7Y29sb3I6Z3JheSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5jb2xvcjIsLnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5jb2xvcjIgYXtjb2xvcjojZmYxNDkzIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmNvbG9yMywuc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmNvbG9yMyBhe2NvbG9yOnJlZCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLnByaW50aW5nIC5icmVhaywuc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmJyZWFrIGF7Y29sb3I6YmxhY2shaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlcntiYWNrZ3JvdW5kLWNvbG9yOiNmNWY1ZjUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAubGluZS5oaWdobGlnaHRlZC5udW1iZXJ7Y29sb3I6YmxhY2shaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciBjYXB0aW9ue2NvbG9yOmJsYWNrIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmd1dHRlcntjb2xvcjojYWZhZmFmIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3ZjkhaW1wb3J0YW50O2JvcmRlci1yaWdodDoxcHggc29saWQgI2UxZTFlOCFpbXBvcnRhbnQ7cGFkZGluZzo5LjVweCAwIDkuNXB4IDkuNXB4IWltcG9ydGFudDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjRweCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo0cHghaW1wb3J0YW50O3VzZXItc2VsZWN0Om5vbmUhaW1wb3J0YW50Oy1tb3otdXNlci1zZWxlY3Q6bm9uZSFpbXBvcnRhbnQ7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmd1dHRlciAubGluZS5oaWdobGlnaHRlZHtiYWNrZ3JvdW5kLWNvbG9yOiM2Y2UyNmMhaW1wb3J0YW50O2NvbG9yOndoaXRlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIucHJpbnRpbmcgLmxpbmUgLmNvbnRlbnR7Ym9yZGVyOm5vbmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5jb2xsYXBzZWR7b3ZlcmZsb3c6dmlzaWJsZSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyLmNvbGxhcHNlZCAudG9vbGJhcntjb2xvcjpibHVlIWltcG9ydGFudDtiYWNrZ3JvdW5kOndoaXRlIWltcG9ydGFudDtib3JkZXI6MXB4IHNvbGlkICM2Y2UyNmMhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlci5jb2xsYXBzZWQgLnRvb2xiYXIgYXtjb2xvcjpibHVlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIuY29sbGFwc2VkIC50b29sYmFyIGE6aG92ZXJ7Y29sb3I6cmVkIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLnRvb2xiYXJ7Y29sb3I6d2hpdGUhaW1wb3J0YW50O2JhY2tncm91bmQ6IzZjZTI2YyFpbXBvcnRhbnQ7Ym9yZGVyOm5vbmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAudG9vbGJhciBhe2NvbG9yOndoaXRlIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLnRvb2xiYXIgYTpob3Zlcntjb2xvcjpibGFjayFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC5wbGFpbiwuc3ludGF4aGlnaGxpZ2h0ZXIgLnBsYWluIGF7Y29sb3I6YmxhY2shaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAuY29tbWVudHMsLnN5bnRheGhpZ2hsaWdodGVyIC5jb21tZW50cyBhe2NvbG9yOiMwMDgyMDAhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAuc3RyaW5nLC5zeW50YXhoaWdobGlnaHRlciAuc3RyaW5nIGF7Y29sb3I6Ymx1ZSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC5rZXl3b3Jke2NvbG9yOiNmZjc4MDAhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAucHJlcHJvY2Vzc29ye2NvbG9yOmdyYXkhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAudmFyaWFibGV7Y29sb3I6I2E3MCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC52YWx1ZXtjb2xvcjojMDkwIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmZ1bmN0aW9uc3tjb2xvcjojZmYxNDkzIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmNvbnN0YW50c3tjb2xvcjojMDZjIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLnNjcmlwdHtmb250LXdlaWdodDpib2xkIWltcG9ydGFudDtjb2xvcjojZmY3ODAwIWltcG9ydGFudDtiYWNrZ3JvdW5kLWNvbG9yOm5vbmUhaW1wb3J0YW50fS5zeW50YXhoaWdobGlnaHRlciAuY29sb3IxLC5zeW50YXhoaWdobGlnaHRlciAuY29sb3IxIGF7Y29sb3I6Z3JheSFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC5jb2xvcjIsLnN5bnRheGhpZ2hsaWdodGVyIC5jb2xvcjIgYXtjb2xvcjojZmYxNDkzIWltcG9ydGFudH0uc3ludGF4aGlnaGxpZ2h0ZXIgLmNvbG9yMywuc3ludGF4aGlnaGxpZ2h0ZXIgLmNvbG9yMyBhe2NvbG9yOnJlZCFpbXBvcnRhbnR9LnN5bnRheGhpZ2hsaWdodGVyIC5rZXl3b3Jke2ZvbnQtd2VpZ2h0OmJvbGQhaW1wb3J0YW50fQ==</file>
	<file name='zb_system\CSS\admin2.css' crc32='DD1FF108'  dt:dt='bin.base64'>77u/QGNoYXJzZXQgInV0Zi04IjsNCi8qICANCuS9nOiAhe+8muaWsOmynOS6ug0K5Zyw5Z2A77yaaHR0cDovL3d3dy5odG1saXQuY29tLmNuDQrpgq7nrrHvvJp1MmxlaUB5YWhvby5jb20uY24NCiAgICAgeGlueHJAbXNuLmNvbQ0KKi8NCmJvZHl7DQptaW4td2lkdGg6OTgwcHg7DQpwYWRkaW5nOjA7DQptYXJnaW46MDsNCmZvbnQtZmFtaWx5OiLlvq7ova/pm4Xpu5EiLCLlrovkvZMiLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOw0KY29sb3I6IzMzMzMzMzsNCmZvbnQtc2l6ZTogMTRweDsNCmxpbmUtaGVpZ2h0OiAyMHB4Ow0KYmFja2dyb3VuZDojZmZmZmZmIHVybCguLi9pbWFnZS9hZG1pbi9iZy1sZWZ0LmdpZikgcmVwZWF0LXk7fQ0KKiB7IHBhZGRpbmc6MDsgbWFyZ2luOjA7fQ0KDQpkaXYsIGgxLCBoMiwgaDMsIGg0LCBwLCBmb3JtLCB1bCwgbGFiZWwsIGlucHV0LCB0ZXh0YXJlYSwgc2VsZWN0LCBpbWcsIHNwYW57bWFyZ2luOjA7IHBhZGRpbmc6MDt9DQo8ZW0+PC9lbT5pbnB1dCwgdGV4dGFyZWEsIHNlbGVjdHtmb250LWZhbWlseToi5b6u6L2v6ZuF6buRIiwi5a6L5L2TIiwgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjt9Ymxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt9DQphIHsgdGV4dC1kZWNvcmF0aW9uOiBub25lO2NvbG9yOiAjMzMzMzMzO30NCmE6aG92ZXIgeyBjb2xvcjojZDYwMDAwO30NCi5jbGVhciB7IGNsZWFyOiBib3RoO30NCmltZyB7IGJvcmRlcjogbm9uZTt9DQpoMSwNCmgyLA0KaDMsDQpoNCwNCmg1LA0KaDYgew0KCWRpc3BsYXk6IGJsb2NrOw0KCWZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0KDQpoMSB7DQoJZm9udC1zaXplOiAyZW07DQoJbWFyZ2luOiAuNjdlbSAwOw0KfQ0KDQpoMiB7DQoJZm9udC1zaXplOiAxLjVlbTsNCgltYXJnaW46IC44M2VtIDA7DQp9DQoNCmgzIHsNCglmb250LXNpemU6IDEuMTdlbTsNCgltYXJnaW46IDFlbSAwOw0KfQ0KDQpoNCB7DQoJZm9udC1zaXplOiAxZW07DQoJbWFyZ2luOiAxLjMzZW0gMDsNCn0NCg0KaDUgew0KCWZvbnQtc2l6ZTogMC44M2VtOw0KCW1hcmdpbjogMS42N2VtIDA7DQp9DQoNCmg2IHsNCglmb250LXNpemU6IDAuNjdlbTsNCgltYXJnaW46IDIuMzNlbSAwOw0KfQ0KDQp1bCxvbCxkbCB7cGFkZGluZzowO21hcmdpbjowO30NCmRke3BhZGRpbmc6MDttYXJnaW46MDt9DQp1bCB7bGlzdC1zdHlsZTogbm9uZTt9DQpsaSB7bGlzdC1zdHlsZS10eXBlOiBub25lO30NCm9sIHtsaXN0LXN0eWxlLXR5cGU6IGRlY2ltYWw7bWFyZ2luLWxlZnQ6IDJlbTt9DQoNCmxhYmVsew0KCWN1cnNvcjpwb2ludGVyOw0KfQ0KLyoqLw0KdGFibGUgew0KCWJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7DQoJYm9yZGVyOjFweCBzb2xpZCAjRTFFMUUxOw0KCWJhY2tncm91bmQ6I2ZmZmZmZjsNCglsaW5lLWhlaWdodDoxMjAlOw0KfQ0KdGFibGUgbGFiZWx7DQoJLW1zLXRleHQtc2l6ZS1hZGp1c3Q6IDEwMCU7IC8q55So5LqO6Kej5YazSUUxMCBmb3IgV1A45a2X5L2T6L+H5aSn55qE6Zeu6aKYKi8NCn0NCnRkLHRoew0KCWJvcmRlcjoxcHggc29saWQgI0UxRTFFMTsNCgltYXJnaW46MDsNCglwYWRkaW5nOjNweCA1cHg7DQoJdGV4dC1pbmRlbnQ6MC4yZW07DQoJdmVydGljYWwtYWxpZ246bWlkZGxlOw0KfQ0KdHIgaW1new0KCW1hcmdpbi1ib3R0b206LTRweDsNCn0NCnRyLmNvbG9yMXsNCmJhY2tncm91bmQ6I2VkZWRlZDsNCn0NCnRyLmNvbG9yMnsNCmJhY2tncm91bmQ6I0Y0RjRGNDsNCn0NCnRyLmNvbG9yM3sNCmJhY2tncm91bmQ6I2ZmZmZmZjsNCn0NCnRyLmNvbG9yNHsNCmJhY2tncm91bmQ6I2ZmZmZkZDsNCn0NCg0KDQovKiovDQojbWFpbiB7IHdpZHRoOjEwMCU7fQ0KLyrlkI7lj7Dpobbpg6gqLw0KI2hlYWRlciB7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgd2hpdGU7fQ0KI2hlYWRlciAudG9wIHsgaGVpZ2h0Ojg1cHg7IHBhZGRpbmc6MDsgYmFja2dyb3VuZDojM2E2ZWE1OyBwb3NpdGlvbjogcmVsYXRpdmU7fQ0KLyoqLw0KLmxvZ28geyB3aWR0aDoxOTBweDsgaGVpZ2h0OjYycHg7IHBhZGRpbmc6MTBweCAwIDAgMDsgbGVmdDoyMHB4O30NCi8qKi8NCi51c2VyIHsgcG9zaXRpb246IGFic29sdXRlOyByaWdodDoxM3B4OyB0b3A6MTBweDsgd2lkdGg6NDAwcHg7IGhlaWdodDo0MHB4OyB0ZXh0LWFsaWduOnJpZ2h0OyBjb2xvcjojZmZmZmZmO30NCi51c2VyICNhdmF0YXIgeyBmbG9hdDpyaWdodDsgd2lkdGg6NDBweDsgaGVpZ2h0OjQwcHg7IG1hcmdpbi1sZWZ0OjEwcHg7bWFyZ2luLXRvcDowcHg7fQ0KLnVzZXJuYW1lIHsgcGFkZGluZzowO2hlaWdodDoyMHB4OyBsaW5lLWhlaWdodDoyMHB4OyBvdmVyZmxvdzpoaWRkZW47fQ0KLnVzZXJidG4geyBwYWRkaW5nOjA7aGVpZ2h0OjIwcHg7bGluZS1oZWlnaHQ6MjBweDt9DQoudXNlcmJ0biBhIHsgcGFkZGluZzowO21hcmdpbi1sZWZ0OjE1cHg7IGNvbG9yOiNmZmZmZmY7aGVpZ2h0OjIwcHg7bGluZS1oZWlnaHQ6MjBweDt2ZXJ0aWNhbC1hbGlnbjp0b3A7fQ0KLnVzZXJidG4gYS5sb2dvdXQgeyBwYWRkaW5nLWxlZnQ6MjBweDtiYWNrZ3JvdW5kOiB1cmwoLi4vaW1hZ2UvY29tbW9uL3R1aWNfMi5wbmcpIG5vLXJlcGVhdCBsZWZ0IGNlbnRlcjt9DQoudXNlcmJ0biAubG9nb3V0OmhvdmVyIHsgcGFkZGluZy1sZWZ0OjIwcHg7Y29sb3I6IzAwMDAwMDsgYmFja2dyb3VuZDogdXJsKC4uL2ltYWdlL2NvbW1vbi90dWljXzEucG5nKSBuby1yZXBlYXQgbGVmdCBjZW50ZXI7fQ0KLnVzZXJidG4gYS5wcm9maWxlIHsgcGFkZGluZy1sZWZ0OjIwcHg7YmFja2dyb3VuZDogdXJsKC4uL2ltYWdlL2NvbW1vbi9ob21lXzIucG5nKSBuby1yZXBlYXQgbGVmdCBjZW50ZXI7fQ0KLnVzZXJidG4gLnByb2ZpbGU6aG92ZXIgeyBwYWRkaW5nLWxlZnQ6MjBweDtjb2xvcjojMDAwMDAwOyBiYWNrZ3JvdW5kOiB1cmwoLi4vaW1hZ2UvY29tbW9uL2hvbWVfMS5wbmcpIG5vLXJlcGVhdCBsZWZ0IGNlbnRlcjt9DQovKiovDQoubWVudSB7IGhlaWdodDozMHB4OyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OjEwcHg7IGJvdHRvbTowcHg7fQ0KLm1lbnUgdWwge2Zsb2F0OnJpZ2h0O21hcmdpbjowO3BhZGRpbmc6MDt9DQoubWVudSB1bCBsaSB7IGZsb2F0OmxlZnQ7bGluZS1oZWlnaHQ6MzBweDsgcGFkZGluZzowO2hlaWdodDozMHB4OyBtYXJnaW46MCAzcHg7IHRleHQtYWxpZ246Y2VudGVyO30NCi5tZW51IHVsIGxpIGEge2Zsb2F0OmxlZnQ7bGluZS1oZWlnaHQ6MzBweDtoZWlnaHQ6MzBweDsgcGFkZGluZzowcHggMTVweDsgY29sb3I6IzMzMzMzMzsgYmFja2dyb3VuZDojZmZmZmZmO30NCi5tZW51IHVsIGxpIGE6aG92ZXIge2Zsb2F0OmxlZnQ7bGluZS1oZWlnaHQ6MzBweDtoZWlnaHQ6MzBweDsgcGFkZGluZzowcHggMTVweDsgY29sb3I6I2ZmZmZmZjsgYmFja2dyb3VuZDogI2IwY2RlZTt9DQoubWVudSB1bCBsaS5vbiB7IGZvbnQtd2VpZ2h0OmJvbGQ7fQ0KDQoNCi8q5bem6L655a+86IiqKi8NCiNtYWluIC5tYWluX2xlZnQgeyBmbG9hdDpsZWZ0OyB3aWR0aDoxNDBweDsgYmFja2dyb3VuZDojZWRlZGVkOyBwYWRkaW5nOjBweDttYXJnaW46MCAwIDAgMDtwb3NpdGlvbjphYnNvbHV0ZTt9DQojbWFpbiAubWFpbl9sZWZ0ICNsZWZ0bWVudSB7fQ0KI21haW4gLm1haW5fbGVmdCAjbGVmdG1lbnUgbGkgeyBmbG9hdDpsZWZ0OyB3aWR0aDoxNDBweDsgaGVpZ2h0OjMycHg7IG1hcmdpbi1ib3R0b206MDtib3JkZXItYm90dG9tOjVweCBzb2xpZCAjZmZmO2N1cnNvcjpwb2ludGVyO30NCiNtYWluIC5tYWluX2xlZnQgI2xlZnRtZW51IGEgeyBmbG9hdDpsZWZ0OyAgd2lkdGg6MTQwcHg7IGhlaWdodDozMnB4OyBsaW5lLWhlaWdodDozNXB4O2N1cnNvcjpwb2ludGVyO30NCiNtYWluIC5tYWluX2xlZnQgI2xlZnRtZW51IGE6aG92ZXIgeyBjb2xvcjojMDAwMDAwOyBiYWNrZ3JvdW5kOiNiMGNkZWU7fQ0KI21haW4gLm1haW5fbGVmdCAjbGVmdG1lbnUgc3BhbiB7ICBmbG9hdDpsZWZ0O3dpZHRoOjkwcHg7IGhlaWdodDozMnB4OyBsaW5lLWhlaWdodDozMnB4OyBwYWRkaW5nLXJpZ2h0OjUwcHg7IHRleHQtYWxpZ246cmlnaHQ7Y3Vyc29yOnBvaW50ZXI7fQ0KDQovKuWvvOiIqumrmOS6riovDQojbWFpbiAubWFpbl9sZWZ0ICNsZWZ0bWVudSAub24gYSwjbWFpbiAubWFpbl9sZWZ0ICNsZWZ0bWVudSAjb24gYTpob3ZlciB7IGNvbG9yOiNmZmZmZmY7IGJhY2tncm91bmQ6IzMzOTljYzt9DQoNCiNtYWluIC5tYWluX2xlZnQgI2xlZnRtZW51IGxpLnN1YiB7DQoJZmxvYXQ6bGVmdDsgd2lkdGg6MTQwcHg7IGhlaWdodDphdXRvOyBtYXJnaW4tYm90dG9tOjA7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgI2ZmZjtjdXJzb3I6cG9pbnRlcjsNCgliYWNrZ3JvdW5kOndoaXRlOw0KfQ0KI21haW4gLm1haW5fbGVmdCAjbGVmdG1lbnUgbGkuc3ViIHNwYW57DQpoZWlnaHQ6MjVweDsgbGluZS1oZWlnaHQ6MjVweDsNCnRleHQtYWxpZ246bGVmdDsNCndpZHRoOjEwNXB4Ow0KcGFkZGluZy1sZWZ0OjM1cHg7DQpwYWRkaW5nLXJpZ2h0OjBweDsNCmJhY2tncm91bmQ6dXJsKC4uL2ltYWdlL2FkbWluL3BvaW50Z3JheS5naWYpIG5vLXJlcGVhdCAyMHB4IDhweDsNCm92ZXJmbG93OmhpZGRlbjsNCn0NCg0KI21haW4gLm1haW5fbGVmdCAjbGVmdG1lbnUgbGkuc3ViIGF7DQpoZWlnaHQ6MjVweDsgbGluZS1oZWlnaHQ6MjVweDsNCn0NCiNtYWluIC5tYWluX2xlZnQgI2xlZnRtZW51IGxpLnN1YiBhOmhvdmVyew0KYmFja2dyb3VuZDp3aGl0ZTsNCn0NCiNtYWluIC5tYWluX2xlZnQgI2xlZnRtZW51IGxpLnN1YiBzcGFuLm0tbm93ew0KYmFja2dyb3VuZDp1cmwoLi4vaW1hZ2UvYWRtaW4vcG9pbnRibHVlLmdpZikgbm8tcmVwZWF0IDIwcHggOHB4Ow0KZm9udC13ZWlnaHQ6Ym9sZDsNCn0NCg0KLyrlr7zoiKrlm77moIfljLoqLw0KI2xlZnRtZW51IGxpIHNwYW57DQpiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7DQpiYWNrZ3JvdW5kLXBvc2l0aW9uOiAxMDBweCA4cHg7DQpiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL3dpbmRvd18xLnBuZyk7DQp9DQojbGVmdG1lbnUgbGkub24gc3BhbnsNCmJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vd2luZG93XzIucG5nKTsNCn0NCg0KI2xlZnRtZW51ICNuYXZfYnVpbGQgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcmVidWlsZF8xLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfaG9tZSBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9ob21lXzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl9uZXcgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vbmV3XzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl9hcnRpY2xlIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL2FydGljbGVfMS5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3BhZ2Ugc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcGFnZV8xLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfY2F0ZWdvcnkgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vY2F0ZWdvcnlfMS5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3RhZ3Mgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vdGFnc18xLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfY29tbWVudHMgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vY29tbWVudHNfMS5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3F1b3RlZCBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9xdW90ZWRfMS5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X2FjY2Vzc29yaWVzIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL2FjY2Vzc29yaWVzXzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl90aGVtZXMgc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vdGhlbWVzXzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl9wbHVnaW4gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcGx1Z2luXzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl9mdW5jdGlvbiBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9saW5rXzEucG5nKTt9DQojbGVmdG1lbnUgI25hdl91c2VyIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL3VzZXJfMS5wbmcpO30NCg0KLyrpq5jkuq7lr7zoiKrlm77moIfljLoqLw0KI2xlZnRtZW51ICNuYXZfYnVpbGQub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcmVidWlsZF8yLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfaG9tZS5vbiBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9ob21lXzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl9uZXcub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vbmV3XzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl9hcnRpY2xlLm9uIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL2FydGljbGVfMi5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3BhZ2Uub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcGFnZV8yLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfY2F0ZWdvcnkub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vY2F0ZWdvcnlfMi5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3RhZ3Mub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vdGFnc18yLnBuZyk7fQ0KI2xlZnRtZW51ICNuYXZfY29tbWVudHMub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vY29tbWVudHNfMi5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X3F1b3RlZC5vbiBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9xdW90ZWRfMi5wbmcpO30NCiNsZWZ0bWVudSAjbmF2X2FjY2Vzc29yaWVzLm9uIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL2FjY2Vzc29yaWVzXzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl90aGVtZXMub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vdGhlbWVzXzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl9wbHVnaW4ub24gc3BhbiB7IGJhY2tncm91bmQtaW1hZ2U6IHVybCguLi9pbWFnZS9jb21tb24vcGx1Z2luXzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl9mdW5jdGlvbi5vbiBzcGFuIHsgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uL2ltYWdlL2NvbW1vbi9saW5rXzIucG5nKTt9DQojbGVmdG1lbnUgI25hdl91c2VyLm9uIHNwYW4geyBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi4vaW1hZ2UvY29tbW9uL3VzZXJfMi5wbmcpO30NCg0KDQojbGVmdG1lbnUgbGkgc3BhbnsNCmJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDsNCmJhY2tncm91bmQtcG9zaXRpb246IDEwMHB4IDhweDsNCn0NCiNsZWZ0bWVudSBsaS5zcGxpdHsNCmhlaWdodDowcHghaW1wb3J0YW50Ow0KYmFja2dyb3VuZDojZmZmOw0KfQ0KI2xlZnRtZW51IGxpLnNwbGl0IGhyew0KZGlzcGxheTpub25lOw0KfQ0KLyrkuLvopoHlhoXlrrnljLoqLw0KI21haW4gLm1haW5fcmlnaHQge3BhZGRpbmctbGVmdDoxNDBweDt9DQojbWFpbiAubWFpbl9yaWdodCAueXVpIHsgZmxvYXQ6bGVmdDt3aWR0aDoxMDAlO30NCiNtYWluIC5tYWluX3JpZ2h0IC5jb250ZW50IHsgcGFkZGluZzowIDEycHg7fQ0KDQoNCi8q5ZCO5Y+w6aaW6aG1Ki8NCiNkaXZNYWluIHtmbG9hdDpsZWZ0O3dpZHRoOjEwMCU7YmFja2dyb3VuZDojZmZmZmZmO3BhZGRpbmc6MHB4O21hcmdpbjowcHg7fQ0KI2Rpdk1haW4gYSwjZGl2TWFpbjIgYXtjb2xvcjojMWQ0YzdkO30NCiNkaXZNYWluIGE6aG92ZXIsI2Rpdk1haW4yICBhOmhvdmVye2NvbG9yOiNkNjAwMDA7fQ0KI2Rpdk1haW4yIHsgcGFkZGluZzowcHg7bWFyZ2luOjBweDt9DQouZGl2SGVhZGVyIHsgaGVpZ2h0OjEuOGVtOyBsaW5lLWhlaWdodDoxLjhlbTsgZm9udC1zaXplOjEuNWVtOyBwYWRkaW5nOjA7IGJhY2tncm91bmQ6I0ZGRjt9DQouZGl2SGVhZGVyMiB7IGhlaWdodDoxLjhlbTsgbGluZS1oZWlnaHQ6MS44ZW07IGZvbnQtc2l6ZToxLjVlbTsgcGFkZGluZzowOyBiYWNrZ3JvdW5kOiNGRkY7Ym9yZGVyLWJvdHRvbTo1cHggc29saWQgI2UwZTBlMDt9DQoNCg0KDQoNCg0KDQovKuihqCAgIOagvCovDQoudGFibGVCb3JkZXIgew0KCWxpbmUtaGVpZ2h0OjEuOGVtOw0KCW1hcmdpbi1ib3R0b206MC44ZW07DQoJbWFyZ2luLXRvcDowLjJlbTsNCgktbXMtdGV4dC1zaXplLWFkanVzdDogMTAwJTsgLyrnlKjkuo7op6PlhrNJRTEwIGZvciBXUDjlrZfkvZPov4flpKfnmoTpl67popgqLw0KfQ0KDQoudGFibGVCb3JkZXIgdGh7DQoJdGV4dC1hbGlnbjpsZWZ0Ow0KfQ0KDQoudGFibGVCb3JkZXItdGhjZW50ZXIgdGh7DQoJdGV4dC1hbGlnbjpjZW50ZXI7DQp9DQoNCi51aS1zb3J0YWJsZSB0ci5jb2xvcjR7DQoJY3Vyc29yOm1vdmU7DQp9DQoNCi5ub3RlaW5mb3sNCglmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjAuOWVtO2NvbG9yOiM2NjY7Zm9udC1zdHlsZTogaXRhbGljOw0KfQ0KDQovKuihqCAgIOWNlSovDQpmb3JtIHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjBweCBzb2xpZCBibGFjaztwYWRkaW5nOjAuMGVtO21hcmdpbjowLjVlbSAwO30NCg0KZm9ybSBwe3BhZGRpbmc6MC41ZW0gMCAgMC41ZW0gMDtsaW5lLWhlaWdodDoxLjVlbTt9DQoNCg0KDQppbnB1dCB7DQoJcGFkZGluZzogMC4yNWVtIDAuMjVlbSAwLjI1ZW0gMC4yNWVtOw0KCWJvcmRlcjogMXB4IGRvdWJsZSAjYWFhYWFhOw0KCWJhY2tncm91bmQtcG9zaXRpb246IGJvdHRvbTsNCgliYWNrZ3JvdW5kOiNmZmY7DQoJZm9udC1zaXplOjFlbTsNCn0NCmlucHV0W3R5cGU9InJhZGlvIl0gew0KCWJvcmRlcjpub25lOw0KCWJhY2tncm91bmQ6bm9uZTsNCn0NCnNlbGVjdHsNCglwYWRkaW5nOiAwLjE1ZW0gMC4yNWVtIDAuMjBlbSAwLjI1ZW07DQoJYm9yZGVyOiAxcHggZG91YmxlICNhYWFhYWE7DQoJYmFja2dyb3VuZC1wb3NpdGlvbjogYm90dG9tOw0KCWJhY2tncm91bmQ6I2ZmZjsNCglmb250LXNpemU6MS4wZW07DQp9DQoNCnRleHRhcmVhew0KCXBhZGRpbmc6IDAuMTVlbSAwLjI1ZW0gMC4yMGVtIDAuMjVlbTsNCglib3JkZXI6IDFweCBkb3VibGUgI2FhYWFhYTsNCgliYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207DQoJYmFja2dyb3VuZDojZmZmOw0KCWZvbnQtc2l6ZToxZW07DQp9DQoNCmlucHV0LmJ1dHRvbixpbnB1dFt0eXBlPSJzdWJtaXQiXSxpbnB1dFt0eXBlPSJidXR0b24iXSB7IA0KCWNvbG9yOiNmZmZmZmY7IA0KCWZvbnQtc2l6ZToxLjFlbTsgDQoJaGVpZ2h0OjI5cHg7DQoJcGFkZGluZzogMnB4IDE4cHggM3B4IDE4cHg7DQoJbWFyZ2luOjAgMC41ZW07IA0KCWJhY2tncm91bmQ6IzNhNmVhNTsgDQoJYm9yZGVyOjFweCBzb2xpZCAjMzM5OWNjOw0KCWN1cnNvcjogcG9pbnRlcjsNCn0NCmlucHV0LmJ1dHRvbjpob3ZlciB7YmFja2dyb3VuZDogIzMzOTljYzt9DQoNCmlucHV0LmJ1dHRvbjIgeyB3aWR0aDphdXRvO30NCg0KaW5wdXRbZGlzYWJsZWRdLGlucHV0W2Rpc2FibGVkXTpob3ZlcnsNCgliYWNrZ3JvdW5kOiNlZWU7DQoJYm9yZGVyOjFweCBzb2xpZCAjY2NjOw0KfQ0KDQppbnB1dFtyZWFkb25seV0saW5wdXRbcmVhZG9ubHldOmhvdmVyew0KCWJhY2tncm91bmQ6I2VlZTsNCglib3JkZXI6MXB4IHNvbGlkICNjY2M7DQp9DQoNCg0KLyrmj5DnpLpESVYqLw0KZGl2LmhpbnR7DQoJd2lkdGg6MTAwJTsNCgltYXJnaW46MCAwIDAuMmVtIDA7DQp9DQoNCmRpdi5oaW50IHB7DQoJcGFkZGluZzowLjJlbSAwLjVlbSAwLjNlbSAyLjJlbTsNCglsaW5lLWhlaWdodDoxLjVlbTsNCn0NCg0KZGl2LmhpbnQgZm9udHsNCgljb2xvcjpibGFjazsNCn0NCg0KZGl2LmhpbnQgcC5oaW50X2dyZWVuew0KCWJhY2tncm91bmQ6I2Q1ZmZjZSB1cmwoLi4vaW1hZ2UvYWRtaW4vb2sucG5nKSBuby1yZXBlYXQgOHB4IGNlbnRlcjsNCn0NCg0KZGl2LmhpbnQgcC5oaW50X3JlZHsNCgliYWNrZ3JvdW5kOiNmZmNlY2UgdXJsKC4uL2ltYWdlL2FkbWluL2V4Y2xhbWF0aW9uLnBuZykgbm8tcmVwZWF0IDhweCBjZW50ZXI7DQp9DQoNCmRpdi5oaW50IHAuaGludF9ibHVlew0KCWJhY2tncm91bmQ6I2RiZTNmZiB1cmwoLi4vaW1hZ2UvYWRtaW4vaW5mb3JtYXRpb24ucG5nKSBuby1yZXBlYXQgOHB4IGNlbnRlcjsNCn0NCg0KZGl2LmhpbnQgcC5oaW50X3RlYWx7DQoJYmFja2dyb3VuZDojZmZmYmNjIHVybCguLi9pbWFnZS9hZG1pbi9lcnJvci5wbmcpIG5vLXJlcGVhdCA4cHggY2VudGVyOw0KfQ0KDQoNCi8q5ZCO5Y+wKi8NCmZvcm0uc2VhcmNoIHsNCmJhY2tncm91bmQ6I2YwZjBmMDsNCnBhZGRpbmc6MC41ZW07DQotbXMtdGV4dC1zaXplLWFkanVzdDogMTAwJTsgLyrnlKjkuo7op6PlhrNJRTEwIGZvciBXUDjlrZfkvZPov4flpKfnmoTpl67popgqLw0KLyoNCmJhY2tncm91bmQ6I2ZmY2M2NjsNCiovDQp9DQoNCmZvcm0uc2VhcmNoIGlucHV0LmJ1dHRvbnsNCi8qDQpiYWNrZ3JvdW5kOiM3ZTVjMTc7Ym9yZGVyOjFweCBzb2xpZCAjNjQ0NjA5Ow0KKi8NCn0NCg0KaHIge3dpZHRoOjEwMCU7aGVpZ2h0OjFweDtib3JkZXI6bm9uZTtwYWRkaW5nOjA7dmlzaWJpbGl0eTpoaWRkZW47fQ0KDQoNCg0KLyrlkI7lj7DnvJbovpHpobUs5paH56ug57yW6L6R5ZKM6aG16Z2i57yW6L6RKi8NCiNkaXZFZGl0UmlnaHR7DQoJZmxvYXQ6cmlnaHQ7DQoJd2lkdGg6MjIwcHg7DQoJdGV4dC1hbGlnbjpyaWdodDsNCn0NCiNkaXZFZGl0TGVmdHsNCglmbG9hdDpsZWZ0Ow0KCXdpZHRoOjEwMCU7DQoJbWFyZ2luLXJpZ2h0Oi0yMzBweDsNCn0NCg0KI2RpdkVkaXRUaXRsZSwjZGl2Q29udGVudCwjZGl2SW50cm8sI2RpdkVkaXRGb3JtLCNkaXZFZGl0Rm9ybTJ7DQoJcGFkZGluZy1yaWdodDoyMTBweDsNCn0NCiNkaXZJbnRyb3sNCglwYWRkaW5nLWJvdHRvbToyMHB4Ow0KfQ0KI3VsVGFnew0KCW1hcmdpbjowIDNlbTsNCn0NCiNhamF4dGFnc3sNCgliYWNrZ3JvdW5kOiNmOGY4Zjg7DQoJYm94LXNoYWRvdzogMCAwIDEwcHggI2FhYTsNCglwYWRkaW5nOi41ZW07DQp9DQojYWpheHRhZ3MgYXsNCgltYXJnaW4tcmlnaHQ6LjVlbTsNCn0NCiNhamF4dGFncyBhLnNlbGVjdGVkew0KCWNvbG9yOiBibGFjazsNCgliYWNrZ3JvdW5kOiAjRjhGODg5Ow0KfQ0KDQovKuWQjuWPsOS4u+mimOeuoeeQhumhtSovDQpkaXYudGhlbWV7DQoJd2lkdGg6MjA0cHg7DQoJaGVpZ2h0OjMyMHB4Ow0KfQ0KZGl2LnRoZW1lIGltZ3sNCgltYXJnaW4tYm90dG9tOi0zcHg7DQp9DQoNCmRpdi50aGVtZS1ub3d7DQoJZmxvYXQ6bGVmdDsNCgliYWNrZ3JvdW5kOiNiMGNkZWU7DQoJcGFkZGluZzouNmVtIDFlbTsNCgltYXJnaW46MCAxZW0gMWVtIDA7DQp9DQoNCmRpdi50aGVtZS1vdGhlcnsNCglmbG9hdDpsZWZ0Ow0KCWJhY2tncm91bmQ6I2YwZjBmMDsNCglwYWRkaW5nOi42ZW0gMWVtOw0KCW1hcmdpbjowIDFlbSAxZW0gMDsNCn0NCmRpdi50aGVtZS1vdGhlciBhew0KCWN1cnNvcjpwb2ludGVyOw0KfQ0KZGl2LnRoZW1lLW90aGVyIC50aGVtZS1uYW1lIGltZ3tvcGFjaXR5OjAuNTA7fQ0KDQpkaXYudGhlbWUtbm93IC5iZXR0ZXJUaXAgaW1newkNCglib3gtc2hhZG93OiAwIDAgMTBweCAjM2E2ZWE1Ow0KfQ0KZGl2LnRoZW1lLW5vdyAuYmV0dGVyVGlwIGltZyxkaXYudGhlbWUtb3RoZXIgLmJldHRlclRpcCBpbWd7DQoJYm9yZGVyOjJweCBzb2xpZCAjZjZmNmY2Ow0KfQ0KZGl2LnRoZW1lLW90aGVyIC5iZXR0ZXJUaXAgaW1newkNCglib3gtc2hhZG93OiAwIDAgMTBweCAjYWFhOw0KfQ0KZGl2LnRoZW1lLW90aGVyIC5iZXR0ZXJUaXAgaW1nOmhvdmVyew0KCWJvcmRlcjoycHggc29saWQgI2IwY2RlZTsNCglib3gtc2hhZG93OiAwIDAgMTBweCAjMzM5OWNjOw0KfQ0KDQpkaXYudGhlbWUtbm93IGRpdixkaXYudGhlbWUtb3RoZXIgZGl2ew0KCW1heC13aWR0aDoyMjBweDsNCgkvKm92ZXJmbG93OmhpZGRlbjsqLw0KCXBhZGRpbmc6IDAuNWVtIDAgMC41ZW0gMDsNCn0NCg0KDQppbnB1dC50aGVtZS1jb25maWcsaW5wdXQudGhlbWUtYWN0aXZhdGV7DQoJZmxvYXQ6cmlnaHQ7DQoJaGVpZ2h0OjI2cHg7DQoJd2lkdGg6NDZweDsNCgltYXJnaW46MDsNCglwYWRkaW5nOjJweCA1cHggM3B4IDVweDsNCglmb250LXNpemU6MWVtOw0KCW1hcmdpbi10b3A6MnB4Ow0KfQ0KaW5wdXQudGhlbWUtY29uZmlnew0KCW1hcmdpbi10b3A6LTNweDsNCn0NCg0KLmhpZGRlbnsNCglkaXNwbGF5Om5vbmU7DQp9DQoNCnNwYW4uZWRpdGlucHV0bmFtZXsNCnBhZGRpbmc6MCAycHggMCAzcHg7DQpsaW5lLWhlaWdodDoxZW07DQpmb250LXdlaWdodDpib2xkOw0KfQ0KDQoucGFnZWJhciB7DQoJcGFkZGluZzouMjBlbSAwIDFlbSAwOw0KfQ0KDQpzcGFuLnRpdGxlew0KCWZvbnQtd2VpZ2h0OmJvbGQ7DQp9DQpzcGFuLnN0YXJ7DQoJY29sb3I6cmVkOw0KCWZvbnQtc2l6ZTowLjllbTsNCn0NCnNwYW4ubm90ZXsNCglmb250LXNpemU6MC45ZW07DQp9DQoucGFnZWJhciBzcGFuew0KCWNvbG9yOiMzMzM7DQoJZm9udC13ZWlnaHQ6Ym9sZGVyOw0KCXBhZGRpbmc6M3B4IDVweCAycHggNXB4Ow0KCWJvcmRlcjoxcHggc29saWQgIzk5OTsNCgliYWNrZ3JvdW5kOiNhYWE7DQoJbWFyZ2luOjFweDsNCn0NCg0KLnBhZ2ViYXIgYXsNCglib3JkZXI6MXB4IHNvbGlkICM5OTk7DQoJYmFja2dyb3VuZDojZWVlOw0KCXBhZGRpbmc6MnB4Ow0KCXBhZGRpbmc6MnB4IDVweCAycHggNXB4Ow0KCW1hcmdpbjoxcHg7DQp9DQoNCg0KDQovKuato+aWh0RJVuS4i+eahOWvvOiIquadoSovDQouU3ViTWVudXsNCglwYWRkaW5nOjAgMCAwcHggMDsNCgltYXJnaW46MCAwIDVweCAwOw0KCXdpZHRoOjEwMCU7DQoJdGV4dC1hbGlnbjpsZWZ0Ow0KCWZvbnQtc2l6ZToxZW07DQoJaGVpZ2h0OjMwcHg7DQoJbGluZS1oZWlnaHQ6MzBweDsNCglib3JkZXItYm90dG9tOjBweCBzb2xpZCAjMzM5OWNjOw0KCWRpc3BsYXk6bm9uZTsNCn0NCg0KLlN1Yk1lbnUgc3BhbiB7DQoJZmxvYXQ6bGVmdDsNCgltYXJnaW46MCAwIDAgMDsNCgl0ZXh0LWFsaWduOmNlbnRlcjsNCglwYWRkaW5nOjBweCAxMHB4Ow0KCWN1cnNvcjogcG9pbnRlcjsNCgljb2xvcjojMzMzMzMzOw0KfQ0KDQouU3ViTWVudSBzcGFuLm0tbGVmdCwuU3ViTWVudSBzcGFuLm0tcmlnaHR7DQoJZmxvYXQ6bGVmdDsNCn0NCg0KLlN1Yk1lbnUgYTpob3ZlciB7DQoJYmFja2dyb3VuZDojYjBjZGVlOw0KCXRleHQtZGVjb3JhdGlvbiA6IG5vbmU7IA0KCWNvbG9yOmJsYWNrOw0KfQ0KLlN1Yk1lbnUgYXsNCgljb2xvcjpibGFjazsNCgliYWNrZ3JvdW5kOiNlMGUxZTI7IA0KCW1hcmdpbjowIDVweCAwIDA7DQoJZmxvYXQ6bGVmdDsNCn0NCg0KLlN1Yk1lbnUgc3Bhbi5tLW5vd3sNCgliYWNrZ3JvdW5kOiMzMzk5Y2M7DQoJY29sb3I6d2hpdGU7DQp9DQoNCg0KDQovKiDnvZHnq5norr7nva7pobUgKi8NCi5jb250ZW50LWJveCB1bHsNCglwYWRkaW5nOjEwcHggMCAwIDBweDsNCn0NCg0KLmNvbnRlbnQtYm94IGxpew0KCWZsb2F0OmxlZnQ7DQoJcGFkZGluZzowIDAgMCAwOw0KCWhlaWdodDoyZW07DQoJbGluZS1oZWlnaHQ6MmVtOw0KCW1hcmdpbjowOw0KfQ0KDQoNCi5jb250ZW50LWJveCAuY29udGVudC1ib3gtdGFicyBhLmN1cnJlbnR7DQoJYmFja2dyb3VuZDojZWRlZGVkOw0KCXBhZGRpbmc6NXB4IDEwcHg7DQoJbWFyZ2luOjAgOXB4IDAgMDsNCglsaW5lLWhlaWdodDoyZW07DQoJaGVpZ2h0OjJlbTsNCgljb2xvcjpibGFjazsNCglmb250LXdlaWdodDpib2xkZXI7DQp9DQoNCi5jb250ZW50LWJveCAuY29udGVudC1ib3gtdGFicyBhew0KCWJvcmRlcjowcHggc29saWQgIzcxOTBiYTsNCglwYWRkaW5nOjVweCAxMHB4Ow0KCW1hcmdpbjowIDlweCAwIDA7DQoJbGluZS1oZWlnaHQ6MmVtOw0KCWhlaWdodDoyZW07DQp9DQoNCg0KDQoudG90b3JvIHsgcGFkZGluZzoxMHB4O30gDQoudG90b3JvIGRkIHsgbGluZS1oZWlnaHQ6MjhweDsgbWFyZ2luLWJvdHRvbTo1cHg7fQ0KLnRvdG9ybyAudG90b3JvdHh0IHsgZm9udC1zaXplOjEycHg7fQ0KI3RvdG9yb2JveCB0ZXh0YXJlYSB7IGJhY2tncm91bmQ6I2ZmZmZmZjsgcGFkZGluZzoxMHB4IDA7IGJvcmRlcjpub25lO30NCg0KDQoNCg0KLypjaGVja2JveCovDQouaW1nY2hlY2t7DQoJYmFja2dyb3VuZDp1cmwoLi4vSU1BR0UvQURNSU4vY2hlY2tib3gucG5nKSBuby1yZXBlYXQgMCBib3R0b207DQoJd2lkdGg6NDBweDsNCgloZWlnaHQ6MTdweDsNCglkaXNwbGF5OmlubGluZS1ibG9jazsNCi8qCWZsb2F0OmxlZnQ7Ki8NCgljdXJzb3I6IHBvaW50ZXI7DQoJbWFyZ2luLWJvdHRvbTotM3B4Ow0KCW1hcmdpbi1sZWZ0OjVweDsNCn0NCi5pbWdjaGVjay1vbnsNCgliYWNrZ3JvdW5kOnVybCguLi9JTUFHRS9BRE1JTi9jaGVja2JveC5wbmcpIG5vLXJlcGVhdCAwIHRvcDsNCn0NCg0KDQojYmF0Y2ggaWZyYW1le2Zsb2F0OmxlZnQ7bWFyZ2luOjVweCA1cHggMCA4cHg7fQ0KI2JhdGNoIHB7ZmxvYXQ6bGVmdDt9DQojYmF0Y2ggaW1ne2Zsb2F0OmxlZnQ7bWFyZ2luOjdweCA1cHggMCA5cHg7fQ0KI2JhdGNoIGEscC5oaW50IGF7DQoJYmFja2dyb3VuZDp1cmwoLi4vSU1BR0UvQURNSU4vYnVsbGV0X2dvLnBuZykgbm8tcmVwZWF0IDRweCAxcHg7DQoJcGFkZGluZy1sZWZ0OjIwcHg7DQoJZm9udC13ZWlnaHQ6Ym9sZDsNCn0NCg0KDQojYmF0Y2h7DQoJd2lkdGg6MTAwJTsNCgltYXJnaW46MCAwIDVweCAwOw0KCWJhY2tncm91bmQ6I2RiZTNmZjsNCglmbG9hdDpsZWZ0Ow0KCXBhZGRpbmc6MCAwIDAgMDsNCn0NCg0KI2JhdGNoIHB7DQoJcGFkZGluZzowLjNlbSAwLjVlbSAwLjNlbSAwOw0KCWZvbnQtc2l6ZToxLjBlbTsNCn0NCg0KI2RpdkZsb2F0IGlucHV0LmJ1dHRvbnsNCgltYXJnaW46MC4yZW0gMDsNCn0NCg0KLyrmlofnq6DnvJbovpHmj5DkuqTljLrpmo/liqgqLw0KI2RpdkJveCB7IHdpZHRoOjIyMHB4OyBwb3NpdGlvbjpyZWxhdGl2ZTt9DQojZGl2RmxvYXQgeyB3aWR0aDoyMjBweDt9DQouYm94ZmxvYXR7cG9zaXRpb246IGZpeGVkO19wb3NpdGlvbjogYWJzb2x1dGU7dG9wOiAwcHg7ei1pbmRleDogMjk1O30NCg0KYS5idXR0b257DQoJYm9yZGVyLXJhZGl1czoycHg7DQoJcGFkZGluZzoycHggM3B4IDJweCAzcHg7DQoJbGluZS1oZWlnaHQ6IDEuMGVtOw0KCWZvbnQtc2l6ZToxZW07DQp9DQoNCmEuYnV0dG9uOmhvdmVyew0KCWJveC1zaGFkb3c6IDAgMCAxcHggIzAwMDsNCglib3JkZXItcmFkaXVzOjJweDsNCgktbXMtYm9yZGVyLXJhZGl1czoycHg7DQoJcGFkZGluZzoycHggM3B4IDJweCAzcHg7DQp9DQoNCi8q5L6n5qCP566h55CGKi8NCg0KLndpZGdldC1sZWZ0e2Zsb2F0OiBsZWZ0O2NsZWFyOiBsZWZ0O3dpZHRoOiAxMDAlO21hcmdpbi1yaWdodDogLTI5MHB4O292ZXJmbG93OmhpZGRlbjt9DQoud2lkZ2V0LWxpc3R7bWluLXdpZHRoOjUzMHB4O21hcmdpbi1yaWdodDoyOTBweDtib3JkZXI6IDJweCBzb2xpZCAjRUVFO30NCi5zaWRlcmJhci1saXN0e2Zsb2F0OnJpZ2h0O3dpZHRoOjI5MHB4O21hcmdpbi1sZWZ0OjA7fQ0KDQoud2lkZ2V0LWxpc3QtaGVhZGVyLC5zaWRlcmJhci1oZWFkZXIsLnNpZGVyYmFyLW5vdGV7Y2xlYXI6Ym90aDtiYWNrZ3JvdW5kOiNFREVERUQ7cGFkZGluZzo1cHg7Zm9udC1zaXplOiAxLjFlbTtmb250LXdlaWdodDpib2xkO3RleHQtYWxpZ246IGNlbnRlcjttYXJnaW4tYm90dG9tOjNweDt9DQoNCi53aWRnZXR7d2lkdGg6MjUycHg7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO21hcmdpbjozcHggNHB4IDNweCA0cHg7cGFkZGluZzowcHg7ZmxvYXQ6bGVmdDt9DQoud2lkZ2V0IGltZ3ttYXJnaW46M3B4O21hcmdpbi1ib3R0b206IC0zcHg7fQ0KDQoud2lkZ2V0LXRpdGxlIHttYXJnaW46MHB4O3BhZGRpbmc6NnB4O2NvbG9yOiAjMzMzO2N1cnNvcjogbW92ZTt9DQoud2lkZ2V0LXRpdGxlIHNwYW57K2Rpc3BsYXk6aW5saW5lLWJsb2NrO30gDQoud2lkZ2V0X2lzaGlkZGVuX3RydWUgaW1nLm1vcmUtYWN0aW9ue29wYWNpdHk6MC40MDt9DQoud2lkZ2V0LWFjdGlvbntmbG9hdDpyaWdodDsrZmxvYXQ6bm9uZTt9DQoNCi5zaWRlcmJhci1kcm9we2Zsb2F0OiByaWdodDtiYWNrZ3JvdW5kOiNmZWZlZmU7Ym9yZGVyOjJweCBzb2xpZCAjZWVlO21hcmdpbjogMCA1cHggMTBweCAxNXB4O30NCi5zaWRlcmJhci1zb3J0LWxpc3R7ZmxvYXQ6cmlnaHQ7d2lkdGg6MjYycHg7bWluLWhlaWdodDozMHB4O3Bvc2l0aW9uOiByZWxhdGl2ZTt6LWluZGV4OiAwO30NCi5zaWRlcmJhci1oZWFkZXI6aG92ZXIgeyBjdXJzb3I6IHBvaW50ZXI7Y29sb3I6IzAwMDAwMDsgYmFja2dyb3VuZDojYjBjZGVlO30NCi5zaWRlcmJhci1oZWFkZXIgLnVpLWljb257ZmxvYXQ6IHJpZ2h0O30NCg0KLndpZGdldC1saXN0LW5vdGUsLnNpZGVyYmFyLW5vdGV7Y29sb3I6IzY2NjtiYWNrZ3JvdW5kOiNmZmY7bWFyZ2luOjA7cGFkZGluZzowO3RleHQtYWxpZ246IGNlbnRlcjt9DQouc2lkZXJiYXItbm90ZXtwb3NpdGlvbjogYWJzb2x1dGU7ei1pbmRleDogMTt0b3A6IDA7bGVmdDowO21hcmdpbi10b3A6IDNweDt3aWR0aDogMjUycHg7fQ0KLnNpZGVyYmFyLXNvcnQtbGlzdCAud2lkZ2V0e3Bvc2l0aW9uOiByZWxhdGl2ZTt6LWluZGV4OiAyO30NCg0KLndpZGdldF9zb3VyY2Vfc3lzdGVtIC53aWRnZXQtdGl0bGV7YmFja2dyb3VuZDogI2UzZTRlNDt9DQoud2lkZ2V0X3NvdXJjZV91c2VycyAud2lkZ2V0LXRpdGxle2JhY2tncm91bmQ6ICNjNmQ0ZTU7fQ0KLndpZGdldF9zb3VyY2VfdGhlbWUgLndpZGdldC10aXRsZXtiYWNrZ3JvdW5kOiAjZDdlM2JjO30NCi53aWRnZXRfc291cmNlX3BsdWdpbiAud2lkZ2V0LXRpdGxle2JhY2tncm91bmQ6ICNkNGNkZGQ7fQ0KLndpZGdldF9zb3VyY2Vfb3RoZXIgLndpZGdldC10aXRsZXtiYWNrZ3JvdW5kOiAjZGVkOWMwO30NCi8qLmN1c3RvbS1zdGF0ZS1hY3RpdmV7YmFja2dyb3VuZDogI0I1RENGMDt9Ki8NCi5zaWRlcmJhci1saXN0IC5yb2xsIHtkaXNwbGF5Om5vbmU7fQ0KDQoNCi5lZHVpLWRlZmF1bHQgLmVkdWktZWRpdG9yIHsNCgl3aWR0aDoxMDAlIWltcG9ydGFudDsNCn0=</file>
	<file name='zb_system\DEFEND\thanks.html' crc32='8E743E03'  dt:dt='bin.base64'>77u/DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+dmFyIGRhdGE9W3siaWQiOiJ7JVpDX01TRzMwNCV9IiwicGVyc29uIjpbe3VybDoiIixiYnM6OTgyLGlkOiJ6eC5hc2QiLHRpdGxlOiLov5nkuKrlsLHmmK9aLUJsb2fnqIvluo/nmoTkuLvliJssWi1CbG9n55qE54G16a2C5Lq654mpLOS8oOivtOS4reeahOS4jemUiOmSoueMqueMqizku44xLjDkuIDnm7TotbDliLAyLjDml7bku6MsQVNQ54mI5pys55qEWi1CbG9n5bCG5Lya5LiA55u06LWw5LiL5Y6755qELiJ9LHt1cmw6Ind3dy5lc2xveS5jb20iLGJiczowLHRpdGxlOiLlk4jlk4jlkIzlrablkIzmoLfmmK9aLUJsb2fnmoTkvKDlpYfkurrniaks5LuO5ZOI5ZOI5LiK5aSn5a2m5Yiw56CU56m255Sf5q+V5LiaLOS4gOebtOmDveWcqOS4ulotQmxvZ+S7mOWHuixaLUJsb2cgMS445pyJUFPlkoxUU+aPkuS7tuaJjeabtOeyvuW9qSzlnKjlj6/ku6XpooTop4HnmoTlsIbmnaUs5oiR5Lus5L6d54S25Lya5oul5pyJ5ZOI5ZOI5ZCM5a2m55qELOS4jeingeS4jeaVo+WTpi4iLGlkOiJIYXBoaWMifSx7dXJsOiJ3d3cuenN4c29mdC5jb20iLHRpdGxlOiLomb3nhLbov5jmsqHmiJDlubTvvIzpg5HljZrlo6vku47kuIDlh7rlnLrlsLHmmK/kuIDkuKrml6nnhp/lk4Hnp43vvIzlpKnmiY3vvIznnJ/mmK/lpKnmiY3vvIzljYHlhavoiKzmraboibrnsr7pgJrljYHkuIPmoLfjgILlsI/lsI/lubTnuqrvvIzkuI3kvYblrabmoKHph4zmt7fnmoTlpb3vvIzlubTlubTkuLvmjIHmlL7lub/mkq3vvIznvZHnu5zkuIrmm7TmmK/lkIPnmoTlvIDvvIzlhpnnqIvluo/lj5HpgJrlkYrovbvovabnhp/ot6/jgILov5notKfkuI3kvYblpLTohJHngbXmtLvvvIzogIzkuJTnsr7lipvljYHotrPlhYXmspvvvIzlg4/mmK/nu4Pov4fnq6XlrZDlip/vvIzlsIbmnaXnu53lr7nmmK/kuKrlkbzpo47llKTpm6jnmoTop5LoibLllYrvvIEiLGlkOiJaU1giLGJiczowfV19LHsiaWQiOiJ7JVpDX01TRzMwNSV9IiwicGVyc29uIjpbe3VybDoid3d3Lmh0bWxpdC5jb20uY24iLHRpdGxlOiLmlrDpspzkurrnmoTlt6XkvZzlsLHmmK/mr4/lpKnmjqXljZXmjqXljZXlho3mjqXljZUs5YW75a6257OK5Y+jLOWutumHjOeahOmhtuaigeafsSzmnInlhL/mnInlpbPnmoTnlLfkurrkuYvmpbfmqKEuIixiYnM6MCxpZDoi5paw6bKc5Lq6In0se3VybDoiaW1qaWFvLmNvbSIsdGl0bGU6Iue+juS4veWPiOWpiee6pueahOa5mOWmueWtkCzlj6/niLHnmoTlpJbooajkuIvmjqnol4/nnYDlj6Tlhbjnvo7nmoTmsJTotKgsWi1CbG9n5a6Y572R55qE6K6+6K6h6ICFLOeOsOWcqOa3seWcs+WBmuedgOWWnOasoueahOW3peS9nC4iLGlkOiLlqIflqIciLGJiczowfSx7aWQ6IuWQieWFieeJh+e+vSIsdGl0bGU6IuS7luWkqui9u+S6hizlsLHlg4/kuIDniYfnvr3mr5ss6aOO5LiA5ZC55bCx6aOe5LqGLuS4uuS6humBv+WFjeS5semjnizku5bnmoTlhoXlv4PlsLHmuJDmuJDnuqDnu5PotbfmnaXkuoYuIix1cmw6Ind3dy5qZ3B5LmNuIixiYnM6MH1dfSx7ImlkIjoieyVaQ19NU0czMDYlfSIsInBlcnNvbiI6W3t1cmw6IiIsYmJzOjQ0LHRpdGxlOiJaLUJsb2fph4znmoTogIHpu4TniZss55yf5q2j55qE6ICB6buE54mbLOS4jeaEp+aYr+WxnueJm+eahCzmgLvmmK/lnKjpu5jpu5jml6Dpl7vnmoTlpYnnjK7nnYDku5bnmoTkuIDliIcs5ZCD55qE5piv6I2JLOaMpOWHuuadpeeahOaYr+i0tOWtkOWSjOS7o+eggSzorqnmiJHku6zlkJHku5boh7Tmlaws56Wd5pyI5pyo5ZCM5a2m5b+r54K55o+Q5Y2H5LiA5LiL5oqK5aa5562J57qnLOWPjOWuv+WPjOmjnuaKiuWmueW9kiEiLGlkOiLmnIjkuIrkuYvmnKgifSx7dXJsOiJ3d3cud2FzaHVuLmNvbSIsdGl0bGU6IuiogOivreeKgOWIqeeahFdhc2h1buaYr+iuuuWdm+eahOeBtemtgizkuLrkuoZaLUJsb2fnmoTlj5HlsZXlkJDlsL3kuoblkITnp43mp70s57uI5LqO5ZCQ552A5ZCQ552A5ZCQ5LiN5Yqo5LqGLOS9huWlh+i/ueWPkeeUn+S6hizku5bku6XlkI7lho3kuZ/kuI3nlKjlkJDkuoYs5Y+v5Lul5pS55Li65Za35LqGLuelnVdhc2h1buWQjOWtpuiBquaYjuWPr+eIseeahOWls+WEv+WBpeW6t+aIkOmVvyEiLGlkOiJXYXNodW4iLGJiczowfSx7dXJsOiJ3d3cuZWN3b3JrZXIuY29tIix0aXRsZToi5Lyg57ufLOmhvuWutizniLHogIHlqYbmm7TniLHlhL/lrZDnmoTllYbliqHnsr7oi7Es5Yuk5aWL55qESmlt5ZCM5a2m5YOP54mb6Jm75LiA5qC355qE5Y+u552A6YKj5Y+q5oeS54yqLOe7iOS6juaIkOWKn+S6hiwyLjDooqvku5bmi7Hkuoblh7rmnaUs5LuW56uL5Yqf5LqGLOS7lueri+WKn+S6hizku5bkuLpaLUJsb2fnq4vkuobkuIDlpKflip8s5oGt5ZacSmlt5ZCM5a2mISIsaWQ6IuWwj+mjnum+mSIsYmJzOjB9LHt1cmw6ImltemhvdS5jb20iLHRpdGxlOiLnsqXogIHluIjvvIzljZbng6fppbznmoTlpKflj7fnurHluIPnsqXogIHmub/vvIEiLGlkOiLmnKrlr5IiLGJiczowfV19LHsiaWQiOiJ7JVpDX01TRzMwNyV9IixwZXJzb246W3t1cmw6Ind3dy54aDEzMC5jb20iLHRpdGxlOiLmi77lj4HlkIzlrabliJvnq4vkuoZaLUJsb2fnmoTorrrlnZss5LuW5oqKWi1CbG9n5bim5LiK5LqG5byA5pS+55qE6YGT6LevLOi/meWwseaYr1otQmxvZ+iuuuWdm3VpZD0x55qE5Lq654mpIeelneaLvuWPgeWQjOWtpueahOWutuW6ree+jua7oeW5uOemjyzkuovkuJrlhbTml7rlj5Hovr4hISEiLGlkOiLmi77lj4EiLGJiczoxfSx7dXJsOiIiLHRpdGxlOiJNQU/kuLvluK3or7Tov4dDUOaYr+S4quWlveWQjOW/lyEiLGlkOiJDYXB0aWFuIixiYnM6NTI2M30se3VybDoiIix0aXRsZToi5bm06L275pyJ5Li655qE5oqA5pyv6L6+5Lq6LOa0pemXqOWwj+W8uizovazmiJjnp7vliqjlvIDlj5HkuoYuIixpZDoi5piO5pyI5pif5YWJIixiYnM6Nn0se3VybDoid3d3LmRjOS5jbiIsdGl0bGU6IiIsaWQ6IlNpcG8iLGJiczowfSx7dXJsOiJ3d3cud2lsbGlhbWxvbmcuaW5mbyIsdGl0bGU6IiIsaWQ6Ium+meWogeW7iSIsYmJzOjB9LHt1cmw6Ilp4TVlTLkNPTSIsdGl0bGU6IiIsaWQ6Ilp4Lk15cyIsYmJzOjB9LHt1cmw6Ind3dy53aWxmLmNuIix0aXRsZToiIixpZDoi54u855qE5peL5b6LIixiYnM6MH0se3VybDoid3d3Lml6aHUub3JnIix0aXRsZToi5aSn54yqLOWkp+eMqizlpKflpKfnjKoh5Lyg6K+05Lit55qE6YKj5aS05aSn54yqISEhIixpZDoi5aSn54yqIixiYnM6MH0se3VybDoiIix0aXRsZToiIixpZDoi5bu6562R55uS5a2QIixiYnM6ODR9LHt1cmw6Ind3dy5idXNmbHkubmV0Iix0aXRsZToiIixpZDoiQnVzZmx5IixiYnM6MH0se3VybDoid3d3Lmhjb25seS5jb20iLHRpdGxlOiIiLGlkOiLkvZXmsqciLGJiczowfSx7dXJsOiJ4dmRlc2lnbi5jb20iLHRpdGxlOiIiLGlkOiJJdFNlYW4iLGJiczowfSx7dXJsOiJsdXNvbmdzb25nLmNvbSIsdGl0bGU6IiIsaWQ6IuWNouadvuadviIsYmJzOjB9LHt1cmw6IiIsdGl0bGU6IiIsaWQ6IueRnOW7tyIsYmJzOjc1NDg1fSx7dXJsOiJ3d3cuaHVpc2VtLmNvbSIsdGl0bGU6IiIsaWQ6Iua1geW5tCIsYmJzOjB9LHt1cmw6Ind3dy56YmxvZy53cyIsdGl0bGU6IiIsaWQ6IuS/oeW/gyIsYmJzOjB9XX0seyJpZCI6IuebuOWFs+mTvuaOpSIsInBlcnNvbiI6W3t1cmw6Ind3dy5yYWluYm93c29mdC5vcmcvemJsb2ciLHRpdGxlOiIiLGlkOiLnqIvluo/kuIvovb0gIixiYnM6MH0se3VybDoid2lraS5yYWluYm93c29mdC5vcmciLHRpdGxlOiIiLGlkOiJXaWtp5paH5qGjICIsYmJzOjB9LHt1cmw6ImFwcC5yYWluYm93c29mdC5vcmciLHRpdGxlOiIiLGlkOiLlupTnlKjkuK3lv4MgIixiYnM6MH0se3VybDoiYmJzLnJhaW5ib3dzb2Z0Lm9yZyIsdGl0bGU6IiIsaWQ6IlpCbG9nZ2Vy56S+5Yy6ICIsYmJzOjB9LHt1cmw6Ind3dy5kYnNob3N0LmNuIix0aXRsZToiIixpZDoiREJT5Li75py656m66Ze0ICIsYmJzOjB9XX1dO3ZhciBfdGxpc3Q9Jzx0YWJsZSBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCIgYWxpZ249ImNlbnRlciIgd2lkdGg9IjEwMCUiIGNsYXNzPSJ0YWJsZUJvcmRlciIgaWQ9InRoYW5rc2xpc3QiPjx0aGVhZD48dHI+PHRoIGhlaWdodD0iMzIiIGNvbHNwYW49IjIiPiZuYnNwO3slWkNfTVNHMzAzJX08L3RoPjwvdHI+PC90aGVhZD48dGJvZHk+Jztmb3IodmFyIGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7X3RsaXN0Kz0iPHRyPjx0ZCB3aWR0aD0nOCUnPiIrZGF0YVtpXS5pZCsiPC90ZD48dGQ+Ijtmb3IodmFyIGw9MDtsPGRhdGFbaV0ucGVyc29uLmxlbmd0aDtsKyspe190bGlzdCs9IjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSciKyhkYXRhW2ldLnBlcnNvbltsXS51cmw9PSIiPyJodHRwOi8vYmJzLnJhaW5ib3dzb2Z0Lm9yZy9ob21lLnBocD9tb2Q9c3BhY2UmdWlkPSIrZGF0YVtpXS5wZXJzb25bbF0uYmJzKyImZG89cHJvZmlsZSI6Imh0dHA6Ly8iK2RhdGFbaV0ucGVyc29uW2xdLnVybCsiLyIpKyInIHRpdGxlPSciK2RhdGFbaV0ucGVyc29uW2xdLnRpdGxlO190bGlzdCs9Iic+IitkYXRhW2ldLnBlcnNvbltsXS5pZCsiPC9hPiZuYnNwOyJ9X3RsaXN0Kz0oaT09ZGF0YS5sZW5ndGgtMT8ieyVaQ19NU0czMDglfSI6IiIpKyI8L3RkPjwvdHI+In1fdGxpc3QrPSI8L3Rib2R5Pjx0Zm9vdD48L3Rmb290PjwvdGFibGU+Ijtkb2N1bWVudC53cml0ZShfdGxpc3QpOzwvc2NyaXB0Pg==</file>
	<file name='zb_system\FUNCTION\c_admin_js_add.asp' crc32='DE7CEF41'  dt:dt='bin.base64'>77u/PCVAIENPREVQQUdFPTY1MDAxICU+DQo8JQ0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicvLyAgICAgICAgICAgICAgWi1CbG9nDQonLy8g5L2cICAgIOiAhTogICAg5pyx54WKKHp4LmFzZCkNCicvLyDniYjmnYPmiYDmnIk6ICAgIFJhaW5ib3dTb2Z0IFN0dWRpbw0KJy8vIOaKgOacr+aUr+aMgTogICAgcmFpbmJvd3NvZnRAMTYzLmNvbQ0KJy8vIOeoi+W6j+WQjeensDogICAgDQonLy8g56iL5bqP54mI5pysOiAgICANCicvLyDljZXlhYPlkI3np7A6ICAgIGNfYWRtaW5fanMuYXNwDQonLy8g5byA5aeL5pe26Ze0OiAgICANCicvLyDmnIDlkI7kv67mlLk6ICAgIA0KJy8vIOWkhyAgICDms6g6ICAgIA0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCiU+DQo8JSBPcHRpb24gRXhwbGljaXQgJT4NCjwlIE9uIEVycm9yIFJlc3VtZSBOZXh0ICU+DQo8JSBSZXNwb25zZS5DaGFyc2V0PSJVVEYtOCIgJT4NCjwlIFJlc3BvbnNlLkJ1ZmZlcj1UcnVlICU+DQo8JSBSZXNwb25zZS5Db250ZW50VHlwZT0iYXBwbGljYXRpb24veC1qYXZhc2NyaXB0IiAlPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi8uLi96Yl91c2Vycy9jX29wdGlvbi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi9mdW5jdGlvbi9jX2Z1bmN0aW9uLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uL2Z1bmN0aW9uL2Nfc3lzdGVtX2xpYi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi9mdW5jdGlvbi9jX3N5c3RlbV9iYXNlLmFzcCIgLS0+DQo8IS0tICNpbmNsdWRlIGZpbGU9Ii4uL2Z1bmN0aW9uL2Nfc3lzdGVtX3BsdWdpbi5hc3AiIC0tPg0KPCEtLSAjaW5jbHVkZSBmaWxlPSIuLi8uLi96Yl91c2Vycy9wbHVnaW4vcF9jb25maWcuYXNwIiAtLT4NCg0KPCUgUmVzcG9uc2UuQ2xlYXIgJT4NCnZhciBibG9naG9zdD0iPCU9QmxvZ0hvc3QlPiI7DQp2YXIgY29va2llc3BhdGg9IjwlPUNvb2tpZXNQYXRoKCklPiI7DQp2YXIgc3RyMDA9IjwlPUJsb2dIb3N0JT4iOw0KDQoNCg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi8vIOebrueahO+8miAgICDlhajpgIkNCi8vIOi+k+WFpe+8miAgICDml6ANCi8vIOi/lOWbnu+8miAgICDml6ANCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpmdW5jdGlvbiBCYXRjaFNlbGVjdEFsbCgpIHsNCgl2YXIgYXJ5Q2hlY2tzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0Iik7DQoNCglmb3IgKHZhciBpID0gMDsgaSA8IGFyeUNoZWNrcy5sZW5ndGg7IGkrKyl7DQoJCWlmKChhcnlDaGVja3NbaV0udHlwZT09ImNoZWNrYm94IikmJihhcnlDaGVja3NbaV0uaWQuaW5kZXhPZigiZWR0IikhPT0tMSkpew0KCQkJaWYoYXJ5Q2hlY2tzW2ldLmNoZWNrZWQ9PXRydWUpew0KCQkJCWFyeUNoZWNrc1tpXS5jaGVja2VkPWZhbHNlOw0KCQkJfQ0KCQkJZWxzZXsNCgkJCQlhcnlDaGVja3NbaV0uY2hlY2tlZD10cnVlOw0KCQkJfTsNCgkJfQ0KCX0NCn0NCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovLyDnm67nmoTvvJogICAgDQovLyDovpPlhaXvvJogICAg5pegDQovLyDov5Tlm57vvJogICAg5pegDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KZnVuY3Rpb24gQmF0Y2hEZWxldGVBbGwob2JqRWRpdCkgew0KDQoJb2JqRWRpdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChvYmpFZGl0KTsNCglvYmpFZGl0LnZhbHVlPSIiOw0KCXZhciBhcnlDaGVja3MgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsNCglmb3IgKHZhciBpID0gMDsgaSA8IGFyeUNoZWNrcy5sZW5ndGg7IGkrKyl7DQoJCWlmKChhcnlDaGVja3NbaV0udHlwZT09ImNoZWNrYm94IikmJihhcnlDaGVja3NbaV0uaWQuaW5kZXhPZigiZWR0IikhPT0tMSkpew0KCQkJaWYoYXJ5Q2hlY2tzW2ldLmNoZWNrZWQpew0KCQkJCW9iakVkaXQudmFsdWU9YXJ5Q2hlY2tzW2ldLnZhbHVlKyIsIitvYmpFZGl0LnZhbHVlOw0KCQkJfQ0KCQl9DQoJfQ0KDQp9DQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCg0KDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovLyDnm67nmoTvvJogICAgQWN0aXZlTGVmdE1lbnUNCi8vIOi+k+WFpe+8miAgICDml6ANCi8vIOi/lOWbnu+8miAgICDml6ANCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpmdW5jdGlvbiBBY3RpdmVMZWZ0TWVudShuYW1lKXsNCg0KCW5hbWU9IiMiK25hbWU7DQoJJCgiI2xlZnRtZW51IGxpIikucmVtb3ZlQ2xhc3MoIm9uIik7DQoJJChuYW1lKS5wYXJlbnQoKS5hZGRDbGFzcygib24iKTsNCgl2YXIgcz0kKG5hbWUpLmNoaWxkcmVuKCJzcGFuIikuY3NzKCJiYWNrZ3JvdW5kLWltYWdlIik7DQoJaWYocyE9PXVuZGVmaW5lZCl7DQoJCXM9cy5yZXBsYWNlKCIxLnBuZyIsIjIucG5nIik7DQoJCSQobmFtZSkuY2hpbGRyZW4oInNwYW4iKS5jc3MoImJhY2tncm91bmQtaW1hZ2UiLHMpOw0KCX0NCg0KfQ0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi8vIOebrueahO+8miAgICBBY3RpdmVUb3BNZW51DQovLyDovpPlhaXvvJogICAg5pegDQovLyDov5Tlm57vvJogICAg5pegDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KZnVuY3Rpb24gQWN0aXZlVG9wTWVudShuYW1lKXsNCg0KCW5hbWU9IiMiK25hbWU7DQoJJCgiI3RvcG1lbnUgbGkiKS5yZW1vdmVDbGFzcygib24iKTsNCgkkKG5hbWUpLmFkZENsYXNzKCJvbiIpOw0KDQp9DQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovLyDnm67nmoTvvJogICAg6KGo5qC85paR6ams57q/DQovLyDovpPlhaXvvJogICAg5pegDQovLyDov5Tlm57vvJogICAg5pegDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KZnVuY3Rpb24gYm14MnRhYmxlKCl7DQoJdmFyIGNsYXNzXz1uZXcgQXJyYXkoImNvbG9yMiIsImNvbG9yMyIsImNvbG9yNCIpOw0KCXZhciBqPSQoInRhYmxlW2NsYXNzIT0nbm9ibXgnXSB0cjpoYXModGgpIikuYWRkQ2xhc3MoImNvbG9yMSIpOw0KICAgICQoInRhYmxlW2NsYXNzIT0nbm9ibXgnXSIpLmVhY2goZnVuY3Rpb24oKXsNCiAJCWlmKGoubGVuZ3RoPT0wKXtjbGFzc19bMV09ImNvbG9yMiI7Y2xhc3NfWzBdPSJjb2xvcjMiO30gDQoJCSQodGhpcykuZmluZCgidHI6bm90KDpoYXModGgpKTpldmVuIikucmVtb3ZlQ2xhc3MoY2xhc3NfWzBdKS5hZGRDbGFzcyhjbGFzc19bMV0pOw0KCQkkKHRoaXMpLmZpbmQoInRyOm5vdCg6aGFzKHRoKSk6b2RkIikucmVtb3ZlQ2xhc3MoY2xhc3NfWzFdKS5hZGRDbGFzcyhjbGFzc19bMF0pOw0KCX0pDQoJJCgidGFibGVbY2xhc3MhPSdub2JteCddIikuZmluZCgidHI6bm90KDpoYXModGgpKSIpLm1vdXNlb3ZlcihmdW5jdGlvbigpeyQodGhpcykuYWRkQ2xhc3MoY2xhc3NfWzJdKX0pLm1vdXNlb3V0KGZ1bmN0aW9uKCl7JCh0aGlzKS5yZW1vdmVDbGFzcyhjbGFzc19bMl0pfSk7IA0KfTsgDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovLyDnm67nmoTvvJogICAg5om56YeP5pON5L2c5o+Q6YaSDQovLyDovpPlhaXvvJogICAg5pegDQovLyDov5Tlm57vvJogICAg5pegDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KZnVuY3Rpb24gQmF0Y2gyVGlwKHMpeyQoIiNiYXRjaCBwIikuaHRtbChzKX0NCmZ1bmN0aW9uIEJhdGNoQ29udGludWUoKXskKCIjYmF0Y2ggcCIpLmJlZm9yZSgiPGlmcmFtZSBzdHlsZT0nd2lkdGg6MjBweDtoZWlnaHQ6MjBweDsnIGZyYW1lYm9yZGVyPScwJyBzY3JvbGxpbmc9J25vJyBzcmM9JzwlPUJsb2dIb3N0JT56Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9YmF0Y2gnPjwvaWZyYW1lPiIpOyQoIiNiYXRjaCBpbWciKS5yZW1vdmUoKTt9DQpmdW5jdGlvbiBCYXRjaEJlZ2luKCl7fTsNCmZ1bmN0aW9uIEJhdGNoRW5kKCl7fTsNCmZ1bmN0aW9uIEJhdGNoTm90aWZ5KCl7bm90aWZ5KCQoIiNiYXRjaCBwIikuaHRtbCgpKX0NCmZ1bmN0aW9uIEJhdGNoQ2FuY2VsKCl7JCgiI2JhdGNoIGlmcmFtZSIpLnJlbW92ZSgpOyQoIiNiYXRjaCBwIikuYmVmb3JlKCI8aWZyYW1lIHN0eWxlPSd3aWR0aDoyMHB4O2hlaWdodDoyMHB4OycgZnJhbWVib3JkZXI9JzAnIHNjcm9sbGluZz0nbm8nIHNyYz0nPCU9QmxvZ0hvc3QlPnpiX3N5c3RlbS9jbWQuYXNwP2FjdD1iYXRjaCZjYW5jZWw9dHJ1ZSc+PC9pZnJhbWU+Iik7fTsNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQovLyDnm67nmoTvvJogICAgQ2hlY2tCb3gNCi8vIOi+k+WFpe+8miAgICDml6ANCi8vIOi/lOWbnu+8miAgICDml6ANCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpmdW5jdGlvbiBjaGFuZ2VDaGVja1ZhbHVlKG9iail7DQoNCgkkKG9iaikudG9nZ2xlQ2xhc3MoJ2ltZ2NoZWNrLW9uJyk7DQoNCglpZigkKG9iaikuaGFzQ2xhc3MoJ2ltZ2NoZWNrLW9uJykpew0KCQkkKG9iaikucHJldignaW5wdXQnKS52YWwoJ1RydWUnKTsNCgl9ZWxzZXsNCgkJJChvYmopLnByZXYoJ2lucHV0JykudmFsKCdGYWxzZScpOw0KCX0NCg0KfQ0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi8vIOebrueahO+8miAgICBOb3RpZmljYXRpb25zDQovLyDovpPlhaXvvJogICAg5pegDQovLyDov5Tlm57vvJogICAg5pegDQovLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KZnVuY3Rpb24gbm90aWZ5KHMpew0KCWlmICh3aW5kb3cud2Via2l0Tm90aWZpY2F0aW9ucykgew0KCQlpZiAod2luZG93LndlYmtpdE5vdGlmaWNhdGlvbnMuY2hlY2tQZXJtaXNzaW9uKCkgPT0gMCkgew0KCQkJdmFyIHpiX25vdGlmaWNhdGlvbnMgPSB3aW5kb3cud2Via2l0Tm90aWZpY2F0aW9ucy5jcmVhdGVOb3RpZmljYXRpb24oJzwlPUJsb2dIb3N0JT56Yl9zeXN0ZW0vSU1BR0UvQURNSU4vbG9nby0xNi5wbmcnLCAnPCU9WkNfTVNHMjU3JT4nLCBzKTsNCgkJCXpiX25vdGlmaWNhdGlvbnMuc2hvdygpOw0KCQkJemJfbm90aWZpY2F0aW9ucy5vbmNsaWNrID0gZnVuY3Rpb24oKSB7dG9wLmZvY3VzKCksdGhpcy5jYW5jZWwoKTt9DQoJCQl6Yl9ub3RpZmljYXRpb25zLnJlcGxhY2VJZCA9ICdNZXRlb3JpYyc7DQoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7emJfbm90aWZpY2F0aW9ucy5jYW5jZWwoKX0sNTAwMCk7DQoJCX0gZWxzZSB7DQoJCQl3aW5kb3cud2Via2l0Tm90aWZpY2F0aW9ucy5yZXF1ZXN0UGVybWlzc2lvbihub3RpZnkpOw0KCQl9DQoJfSANCn0NCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQpmdW5jdGlvbiBzdGF0aXN0aWMocyl7DQoJJCgiI3N0YXRsb2FkaW5nIikuc2hvdygpOw0KCSQoIiN1cGRhdGF0aW1lIikuaGlkZSgpOw0KCSQuZ2V0KCJjX3N0YXRpc3RpYy5hc3AiK3Mse30sDQoJCWZ1bmN0aW9uKGRhdGEpew0KCQkJJCgiI3RiU3RhdGlzdGljIikuaHRtbChkYXRhKTsNCgkJCWJteDJ0YWJsZSgpOw0KCQkJJCgiI3N0YXRsb2FkaW5nIikuaGlkZSgpOw0KCQkJJCgiI3VwZGF0YXRpbWUiKS5zaG93KCk7DQoJCX0NCgkpOw0KfQ0KDQpmdW5jdGlvbiB1cGRhdGVpbmZvKHMpew0KCSQoIiNpbmZvbG9hZGluZyIpLnNob3coKTsNCgkkLmdldCgiY191cGRhdGVpbmZvLmFzcCIrcyx7fSwNCgkJZnVuY3Rpb24oZGF0YSl7DQoJCQkkKCIjdGRVcGRhdGVJbmZvIikuaHRtbChkYXRhKTsNCgkJCSQoIiNpbmZvbG9hZGluZyIpLmhpZGUoKTsNCgkJfQ0KCSk7DQp9DQoNCg0KDQoNCg0KLy8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCi8vIOebrueahO+8miAgICANCi8vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpeyANCg0KCS8vIENvbnRlbnQgYm94IHRhYnM6DQoJJCgnLmNvbnRlbnQtYm94IC5jb250ZW50LWJveC1jb250ZW50IGRpdi50YWItY29udGVudCcpLmhpZGUoKTsgLy8gSGlkZSB0aGUgY29udGVudCBkaXZzDQoJJCgndWwuY29udGVudC1ib3gtdGFicyBsaSBhLmRlZmF1bHQtdGFiJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKTsgLy8gQWRkIHRoZSBjbGFzcyAiY3VycmVudCIgdG8gdGhlIGRlZmF1bHQgdGFiDQoJJCgnLmNvbnRlbnQtYm94LWNvbnRlbnQgZGl2LmRlZmF1bHQtdGFiJykuc2hvdygpOyAvLyBTaG93IHRoZSBkaXYgd2l0aCBjbGFzcyAiZGVmYXVsdC10YWIiDQoNCgkkKCcuY29udGVudC1ib3ggdWwuY29udGVudC1ib3gtdGFicyBsaSBhJykuY2xpY2soIC8vIFdoZW4gYSB0YWIgaXMgY2xpY2tlZC4uLg0KCQlmdW5jdGlvbigpIHsgDQoJCQkkKHRoaXMpLnBhcmVudCgpLnNpYmxpbmdzKCkuZmluZCgiYSIpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7IC8vIFJlbW92ZSAiY3VycmVudCIgY2xhc3MgZnJvbSBhbGwgdGFicw0KCQkJJCh0aGlzKS5hZGRDbGFzcygnY3VycmVudCcpOyAvLyBBZGQgY2xhc3MgImN1cnJlbnQiIHRvIGNsaWNrZWQgdGFiDQoJCQl2YXIgY3VycmVudFRhYiA9ICQodGhpcykuYXR0cignaHJlZicpOyAvLyBTZXQgdmFyaWFibGUgImN1cnJlbnRUYWIiIHRvIHRoZSB2YWx1ZSBvZiBocmVmIG9mIGNsaWNrZWQgdGFiDQoJCQkkKGN1cnJlbnRUYWIpLnNpYmxpbmdzKCkuaGlkZSgpOyAvLyBIaWRlIGFsbCBjb250ZW50IGRpdnMNCgkJCSQoY3VycmVudFRhYikuc2hvdygpOyAvLyBTaG93IHRoZSBjb250ZW50IGRpdiB3aXRoIHRoZSBpZCBlcXVhbCB0byB0aGUgaWQgb2YgY2xpY2tlZCB0YWINCgkJCXJldHVybiBmYWxzZTsgDQoJCX0NCgkpOw0KDQoJLy/mlpHpqaznur/ljJbooajmoLwNCglibXgydGFibGUoKTsNCg0KCWlmKCQoJy5TdWJNZW51JykuZmluZCgnc3BhbicpLmxlbmd0aD4wKXsNCgkJLy9pZigkKCcjbGVmdG1lbnUnKS5maW5kKCdsaS5vbicpLmxlbmd0aD4wKXsNCgkJLy8JJCgnI2xlZnRtZW51IGxpLm9uJykuYWZ0ZXIoJzxsaSBjbGFzcz0ic3ViIj4nKyQoJy5TdWJNZW51JykuaHRtbCgpKyc8L2xpPicpOw0KCQkvL31lbHNlew0KCQkJJCgnLlN1Yk1lbnUnKS5zaG93KCk7DQoJCS8vfQ0KCX0NCgkNCgkvL2NoZWNrYm94DQoJaWYoISgoJC5icm93c2VyLm1zaWUpJiYoJC5icm93c2VyLnZlcnNpb24pPT0nNi4wJykpew0KCQkkKCdpbnB1dC5jaGVja2JveCcpLmNzcygiZGlzcGxheSIsIm5vbmUiKTsNCgkJJCgnaW5wdXQuY2hlY2tib3hbdmFsdWU9IlRydWUiXScpLmFmdGVyKCc8c3BhbiBjbGFzcz0iaW1nY2hlY2sgaW1nY2hlY2stb24iPjwvc3Bhbj4nKTsNCgkJJCgnaW5wdXQuY2hlY2tib3hbdmFsdWUhPSJUcnVlIl0nKS5hZnRlcignPHNwYW4gY2xhc3M9ImltZ2NoZWNrIj48L3NwYW4+Jyk7DQoJfWVsc2V7DQoJCSQoJ2lucHV0LmNoZWNrYm94JykuYXR0cigncmVhZG9ubHknLCdyZWFkb25seScpOw0KCQkkKCdpbnB1dC5jaGVja2JveCcpLmNzcygnY3Vyc29yJywncG9pbnRlcicpOw0KCQkkKCdpbnB1dC5jaGVja2JveCcpLmNsaWNrKGZ1bmN0aW9uKCl7ICBpZigkKHRoaXMpLnZhbCgpPT0nVHJ1ZScpeyQodGhpcykudmFsKCdGYWxzZScpfWVsc2V7JCh0aGlzKS52YWwoJ1RydWUnKX0gfSkNCgl9DQoNCgkkKCdzcGFuLmltZ2NoZWNrJykuY2xpY2soZnVuY3Rpb24oKXtjaGFuZ2VDaGVja1ZhbHVlKHRoaXMpfSkNCg0KCS8vYmF0Y2gNCgkkKCIjYmF0Y2ggYSIpLmJpbmQoImNsaWNrIiwgZnVuY3Rpb24oKXsgQmF0Y2hDb250aW51ZSgpOyQoIiNiYXRjaCBwIikuaHRtbCgiPCU9WkNfTVNHMTA5JT4uLi4iKTt9KTsNCg0KCSQoIi5TdWJNZW51IHNwYW4ubS1yaWdodCIpLnBhcmVudCgpLmNzcyh7ImZsb2F0IjoicmlnaHQifSk7DQoNCn0pOw0KDQo8JT1SZXNwb25zZV9QbHVnaW5fQWRtaW5fSnNfQWRkJT4=</file>
	<file name='zb_system\FUNCTION\c_system_base.asp' crc32='A7D2545C'  dt:dt='bin.base64'>77u/PCUNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonLy8gICAgICAgICAgICAgIFotQmxvZw0KJy8vIOS9nCAgICDogIU6ICAgIOacseeFiih6eC5hc2QpDQonLy8g54mI5p2D5omA5pyJOiAgICBSYWluYm93U29mdCBTdHVkaW8NCicvLyDmioDmnK/mlK/mjIE6ICAgIHJhaW5ib3dzb2Z0QDE2My5jb20NCicvLyDnqIvluo/lkI3np7A6DQonLy8g56iL5bqP54mI5pysOg0KJy8vIOWNleWFg+WQjeensDogICAgY19zeXN0ZW1fYmFzZS5hc3ANCicvLyDlvIDlp4vml7bpl7Q6ICAgIDIwMDUuMDIuMTENCicvLyDmnIDlkI7kv67mlLk6DQonLy8g5aSHICAgIOazqDoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCiflrprkuYnlhajlsYDlj5jph48NCkRpbSBvYmpDb25uDQoNCkRpbSBCbG9nVGl0bGUNCg0KDQpEaW0gQmxvZ0hvc3QNCkJsb2dIb3N0PUdldEN1cnJlbnRIb3N0KCkNClpDX0JMT0dfSE9TVD1CbG9nSG9zdA0KDQpEaW0gQmxvZ1BhdGgNCkJsb2dQYXRoPUdldFJlYWxseURpcmVjdG9yeSgpDQoNCifooaXkuIpjX29wdGlvbi5hc3DmnKrmm7TmlrDnmoTlj4LmlbANCkNhbGwgQ2hlY2tVbmRlZmluZWQoKQ0KDQoNCkRpbSBCbG9nVmVyc2lvbg0KQmxvZ1ZlcnNpb249R2V0QmxvZ1ZlcnNpb24oKQ0KDQpEaW0gWkNfQkxPR19DTFNJRF9PUklHSU5BTA0KWkNfQkxPR19DTFNJRF9PUklHSU5BTD1aQ19CTE9HX0NMU0lEDQpaQ19CTE9HX0NMU0lEPU1ENShCbG9nUGF0aCAmIFpDX0JMT0dfQ0xTSURfT1JJR0lOQUwpDQoNCkRpbSBTdGFyVGltZQ0KRGltIEVuZFRpbWUNClN0YXJUaW1lID0gVGltZXIoKQ0KDQpEaW0gQmxvZ1VzZXINClNldCBCbG9nVXNlciA9TmV3IFRVc2VyDQoNCkRpbSBDYXRlZ29yeXMoKQ0KRGltIFVzZXJzKCkNCkRpbSBUYWdzKCkNCkRpbSBGdW5jdGlvbnMoKQ0KDQpSZURpbSBDYXRlZ29yeXMoMCkNClJlRGltIFVzZXJzKDApDQpSZURpbSBUYWdzKDApDQpSZURpbSBGdW5jdGlvbnMoMCkNCg0KU2V0IENhdGVnb3J5cygwKT1OZXcgVENhdGVnb3J5DQpTZXQgVXNlcnMoMCk9TmV3IFRVc2VyDQpTZXQgVGFncygwKT1OZXcgVFRhZw0KDQpEaW0gRnVuY3Rpb25NZXRhcw0KU2V0IEZ1bmN0aW9uTWV0YXM9TmV3IFRNZXRhDQoNCkRpbSBDb25maWdNZXRhcw0KU2V0IENvbmZpZ01ldGFzPU5ldyBUTWV0YQ0KDQpEaW0gQmxvZ0NvbmZpZw0KU2V0IEJsb2dDb25maWcgPSBOZXcgVENvbmZpZw0KDQpEaW0gUGx1Z2luTmFtZSgpDQpEaW0gUGx1Z2luQWN0aXZlRnVuY3Rpb24oKQ0KUmVEaW0gUGx1Z2luTmFtZSgwKQ0KUmVEaW0gUGx1Z2luQWN0aXZlRnVuY3Rpb24oMCkNCg0KDQpEaW0gVGVtcGxhdGVEaWMNCkRpbSBUZW1wbGF0ZVRhZ3NEaWMNCg0KU2V0IFRlbXBsYXRlRGljPUNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkRpY3Rpb25hcnkiKQ0KU2V0IFRlbXBsYXRlVGFnc0RpYz1DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KRGltIFpDX0JMT0dfV0VCRURJVA0KWkNfQkxPR19XRUJFRElUPSJ1ZWRpdG9yIg0KDQpEaW0gWkNfVEJfRVhDRVJQVF9NQVgNClpDX1RCX0VYQ0VSUFRfTUFYPTI1MA0KDQpEaW0gWkNfVFJBQ0tCQUNLX1RVUk5PRkYNClpDX1RSQUNLQkFDS19UVVJOT0ZGPVRydWUNCg0KQ29uc3QgWkNfRElTUExBWV9NT0RFX0FMTD0xDQpDb25zdCBaQ19ESVNQTEFZX01PREVfSU5UUk89Mg0KQ29uc3QgWkNfRElTUExBWV9NT0RFX09OVE9QPTMNCkNvbnN0IFpDX0RJU1BMQVlfTU9ERV9TRUFSQ0g9NA0KQ29uc3QgWkNfRElTUExBWV9NT0RFX1NZU1RFTVBBR0U9NQ0KQ29uc3QgWkNfRElTUExBWV9NT0RFX0NPTU1FTlRTPTYNCg0KDQpDb25zdCBaQ19QT1NUX1RZUEVfQVJUSUNMRT0wDQpDb25zdCBaQ19QT1NUX1RZUEVfUEFHRT0xDQoNCg0KQ29uc3QgWkNfREVGQVVMVF9TSURFQkFSPSJjYWxlbmRhcjpjb250cm9scGFuZWw6Y2F0YWxvZzpzZWFyY2hwYW5lbDpjb21tZW50czphcmNoaXZlczpmYXZvcml0ZTpsaW5rOm1pc2MiDQoNCkRpbSBaQ19OQVZCQVJfTUVOVV9JVEVNDQpaQ19OQVZCQVJfTUVOVV9JVEVNPSI8bGkgaWQ9IiJtZW51LSV0eXBlLSVpZCIiPjxhIGhyZWY9IiIldXJsIiI+JW5hbWU8L2E+PC9saT4iDQoNCg0KRGltIFpDX1BBR0VfQU5EX0FSVElDTEVfUFJJVkFURV9SRUdFWA0KWkNfUEFHRV9BTkRfQVJUSUNMRV9QUklWQVRFX1JFR0VYPSJ7JWhvc3QlfS92aWV3LmFzcD9pZD17JWlkJX0iDQoNCg0KRGltIFpDX1BBR0VfQU5EX0FSVElDTEVfRFJBRlRfUkVHRVgNClpDX1BBR0VfQU5EX0FSVElDTEVfRFJBRlRfUkVHRVg9InslaG9zdCV9L3ZpZXcuYXNwP2lkPXslaWQlfSINCg0KJ+WmguaenOi/nuaOpeaVsOaNruW6k+S4uk1TU1FM77yM5YiZ5bqU5Li6J++8jOm7mOiupOi/nuaOpUFjY2Vzc+aVsOaNruW6k+WImeS4uiMNCkRpbSBaQ19TUUxfUE9VTkRfS0VZDQpaQ19TUUxfUE9VTkRfS0VZPSIjIg0KDQpEaW0gWkNfQ09NTUVOVF9WRVJJRllfRU5BQkxFX0lOVEVSTkFMDQpaQ19DT01NRU5UX1ZFUklGWV9FTkFCTEVfSU5URVJOQUw9VHJ1ZQ0KDQpEaW0gWkNfQkxPR19QUk9EVUNUDQpaQ19CTE9HX1BST0RVQ1Q9IlotQmxvZyINCg0KRGltIFpDX0JMT0dfUFJPRFVDVF9GVUxMDQpaQ19CTE9HX1BST0RVQ1RfRlVMTD0iIg0KDQpEaW0gWkNfQkxPR19QUk9EVUNUX0ZVTExIVE1MDQpaQ19CTE9HX1BST0RVQ1RfRlVMTEhUTUw9IiINCg0KRGltIEJsb2dWZXJzaW9ucw0KU2V0IEJsb2dWZXJzaW9ucyA9IE5ldyBUTWV0YQ0KQmxvZ1ZlcnNpb25zLlNldFZhbHVlICIxNDAxMDEiLCJaLUJsb2cgMi4yIFByaXNtIEJ1aWxkIDE0MDEwMSINCkJsb2dWZXJzaW9ucy5TZXRWYWx1ZSAiMTMwODAxIiwiWi1CbG9nIDIuMiBQcmlzbSBCdWlsZCAxMzA4MDEiDQpCbG9nVmVyc2lvbnMuU2V0VmFsdWUgIjEzMDcyMiIsIlotQmxvZyAyLjIgUHJpc20gQnVpbGQgMTMwNzIyIg0KQmxvZ1ZlcnNpb25zLlNldFZhbHVlICIxMzAxMjgiLCJaLUJsb2cgMi4xIFBob2VuaXggQnVpbGQgMTMwMTI4Ig0KQmxvZ1ZlcnNpb25zLlNldFZhbHVlICIxMjEyMjEiLCJaLUJsb2cgMi4wIERvb21zZGF5IEJ1aWxkIDEyMTIyMSINCkJsb2dWZXJzaW9ucy5TZXRWYWx1ZSAiMTIxMDI4IiwiWi1CbG9nIDIuMCBCZXRhMiBCdWlsZCAxMjEwMjgiDQpCbG9nVmVyc2lvbnMuU2V0VmFsdWUgIjEyMTAwMSIsIlotQmxvZyAyLjAgQmV0YSBCdWlsZCAxMjEwMDEiDQoNClpDX0JMT0dfVkVSU0lPTj1SZXBsYWNlKEJsb2dWZXJzaW9ucy5HZXRWYWx1ZShCbG9nVmVyc2lvbnMuTmFtZXMoMSkpLCJaLUJsb2cgIiwiIikNCg0KUmVzcG9uc2UuQWRkSGVhZGVyICJQcm9kdWN0IiwiWi1CbG9nICIgJiBaQ19CTE9HX1ZFUlNJT04NCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgU3lzdGVtIOWIneWni+WMlg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KU3ViIFN5c3RlbV9Jbml0aWFsaXplKCkNCg0KCSdDYWxsIEFjdGl2ZVBsdWdpbigpDQoNCglJZiBPcGVuQ29ubmVjdCgpPUZhbHNlIFRoZW4NCgkJQ2FsbCBTaG93RXJyb3IoNCkNCglFbmQgSWYNCg0KCUNhbGwgR2V0Q29uZmlncygpDQoJQmxvZ0NvbmZpZy5Mb2FkKCJCbG9nIikNCg0KCUJsb2dVc2VyLlZlcmlmeSgpDQoNCglDYWxsIEdldENhdGVnb3J5KCkNCgknQ2FsbCBHZXRVc2VyKCkNCgknQ2FsbCBHZXRUYWdzKCkNCgknQ2FsbCBHZXRLZXlXb3JkcygpDQoJJ0NhbGwgR2V0RnVuY3Rpb24oKQ0KDQoJWkNfQkxPR19QUk9EVUNUX0ZVTEw9WkNfQkxPR19QUk9EVUNUICYgIiAiICYgWkNfQkxPR19WRVJTSU9ODQoJDQoJWkNfQkxPR19QUk9EVUNUX0ZVTExIVE1MPSI8YSBocmVmPSIiaHR0cDovL3d3dy5yYWluYm93c29mdC5vcmcvIiIgdGl0bGU9IiJSYWluYm93U29mdCBaLUJsb2ciIj4iICYgWkNfQkxPR19QUk9EVUNUX0ZVTEwgJiAiPC9hPiINCg0KCVRlbXBsYXRlVGFnc0RpYy5JdGVtKCJaQ19CTE9HX0hPU1QiKT1CbG9nSG9zdA0KDQoJQ2FsbCBMb2FkR2xvYmVDYWNoZSgpDQoJQ2FsbCBDcmVhdGVBZG1pbkxlZnRNZW51KCkNCglDYWxsIENyZWF0ZUFkbWluVG9wTWVudSgpDQoJQ2FsbCBBY3RpdmVQbHVnaW4oKQ0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX1N5c3RlbV9Jbml0aWFsaXplPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemUgaW4gQWN0aW9uX1BsdWdpbl9TeXN0ZW1fSW5pdGlhbGl6ZQ0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9TeXN0ZW1fSW5pdGlhbGl6ZSkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemUpDQoJCUlmIGJBY3Rpb25fUGx1Z2luX1N5c3RlbV9Jbml0aWFsaXplPVRydWUgVGhlbiBFeGl0IFN1Yg0KCU5leHQNCgkNCglJZiBaQ19QT1NUX1NUQVRJQ19NT0RFPD4iU1RBVElDIiBUaGVuDQoJCURpbSBib2xSZWJ1aWxkRmlsZXMNCgkJQXBwbGljYXRpb24uTG9jaw0KCQlib2xSZWJ1aWxkRmlsZXM9QXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJTSUdOQUxfUkVCVUlMREZJTEVTIikNCgkJQXBwbGljYXRpb24uVW5Mb2NrDQoJCUlmIElzRW1wdHkoYm9sUmVidWlsZEZpbGVzKT1GYWxzZSBUaGVuDQoJCQlJZiBib2xSZWJ1aWxkRmlsZXM9VHJ1ZSBUaGVuDQoJCQkJQ2FsbCBTZXRCbG9nSGludChUcnVlLFRydWUsRmFsc2UpDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJRW5kIElmDQoNCgkNCgkNCglEaW0gYm9sUmVidWlsZEluZGV4DQoJQXBwbGljYXRpb24uTG9jaw0KCWJvbFJlYnVpbGRJbmRleD1BcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlNJR05BTF9SRUJVSUxESU5ERVgiKQ0KCUFwcGxpY2F0aW9uLlVuTG9jaw0KCUlmIElzRW1wdHkoYm9sUmVidWlsZEluZGV4KT1GYWxzZSBUaGVuDQoJCUlmIGJvbFJlYnVpbGRJbmRleD1UcnVlIFRoZW4NCgkJCUNhbGwgTWFrZUJsb2dSZUJ1aWxkX0NvcmUoKQ0KCQlFbmQgSWYNCglFbmQgSWYNCg0KDQoJJ+Wwhua/gOa0u+aPkuS7tuWQjuenuw0KCUlmIHNGaWx0ZXJfUGx1Z2luX1ZhbGlkQ29kZV9DaGVjaz0iIiBUaGVuIENhbGwgQWRkX0ZpbHRlcl9QbHVnaW4oIkZpbHRlcl9QbHVnaW5fVmFsaWRDb2RlX0NoZWNrIiwiQ2hlY2tWZXJpZnlOdW1iZXIiKQ0KDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9TeXN0ZW1fSW5pdGlhbGl6ZV9TdWNjZWVkPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemVfU3VjY2VlZCBpbiBBY3Rpb25fUGx1Z2luX1N5c3RlbV9Jbml0aWFsaXplX1N1Y2NlZWQNCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemVfU3VjY2VlZCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemVfU3VjY2VlZCkNCgkJSWYgYkFjdGlvbl9QbHVnaW5fU3lzdGVtX0luaXRpYWxpemVfU3VjY2VlZD1UcnVlIFRoZW4gRXhpdCBTdWINCglOZXh0DQoNCgknSWYgRXJyLk51bWJlcjw+MCBUaGVuIENhbGwgU2hvd0Vycm9yKDEwKQ0KDQpFbmQgU3ViDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFN5c3RlbSDph4rmlL4NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNClN1YiBTeXN0ZW1fVGVybWluYXRlKCkNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX1N5c3RlbV9UZXJtaW5hdGU9RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9TeXN0ZW1fVGVybWluYXRlIGluIEFjdGlvbl9QbHVnaW5fU3lzdGVtX1Rlcm1pbmF0ZQ0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9TeXN0ZW1fVGVybWluYXRlKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9TeXN0ZW1fVGVybWluYXRlKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9TeXN0ZW1fVGVybWluYXRlPVRydWUgVGhlbiBFeGl0IFN1Yg0KCU5leHQNCg0KCVNldCBQdWJsaWNPYmpBZG89Tm90aGluZw0KCVNldCBQdWJsaWNPYmpGU089Tm90aGluZw0KCUNhbGwgQ2xvc2VDb25uZWN0KCkNCg0KRW5kIFN1Yg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmlbDmja7lupPov57mjqUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkRpbSBJc0RCQ29ubmVjdCAn5pWw5o2u5bqT5piv5ZCm5bey6L+e5o6lDQpJc0RCQ29ubmVjdD1GYWxzZQ0KRnVuY3Rpb24gT3BlbkNvbm5lY3QoKQ0KDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCUlmIElzREJDb25uZWN0PVRydWUgVGhlbg0KCQlPcGVuQ29ubmVjdD1UcnVlDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX09wZW5Db25uZWN0PUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fT3BlbkNvbm5lY3QgaW4gQWN0aW9uX1BsdWdpbl9PcGVuQ29ubmVjdA0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9PcGVuQ29ubmVjdCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fT3BlbkNvbm5lY3QpDQoJCUlmIGJBY3Rpb25fUGx1Z2luX09wZW5Db25uZWN0PVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJJ+WIpOWumuaYr+WQpuS4uuWtkOebruW9leiwg+eUqA0KCURpbSBzdHJEYlBhdGgNCg0KCXN0ckRiUGF0aD1CbG9nUGF0aCAmIFpDX0RBVEFCQVNFX1BBVEgNCg0KCVNldCBvYmpDb25uID0gU2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuQ29ubmVjdGlvbiIpDQoJSWYgWkNfTVNTUUxfRU5BQkxFPVRydWUgVGhlbg0KCQlvYmpDb25uLk9wZW4gIlByb3ZpZGVyPVNxbE9MRURCO0RhdGEgU291cmNlPSImWkNfTVNTUUxfU0VSVkVSJiI7SW5pdGlhbCBDYXRhbG9nPSImWkNfTVNTUUxfREFUQUJBU0UmIjtQZXJzaXN0IFNlY3VyaXR5IEluZm89VHJ1ZTtVc2VyIElEPSImWkNfTVNTUUxfVVNFUk5BTUUmIjtQYXNzd29yZD0iJlpDX01TU1FMX1BBU1NXT1JEJiI7Ig0KCQlaQ19TUUxfUE9VTkRfS0VZPSInIg0KCUVsc2UNCgkJb2JqQ29ubi5PcGVuICJQcm92aWRlcj1NaWNyb3NvZnQuSmV0Lk9MRURCLjQuMDtEYXRhIFNvdXJjZT0iICYgc3RyRGJQYXRoDQoJRW5kIElmDQoNCglJZiBFcnIuTnVtYmVyPTAgVGhlbg0KDQoJCUlzREJDb25uZWN0PVRydWUNCgkJT3BlbkNvbm5lY3Q9VHJ1ZQ0KDQoJRWxzZQ0KDQoJCUVyci5DbGVhcg0KCQlFcnIuUmFpc2UgMQ0KDQoJRW5kIElmDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBEQiBEaXNhYmxlIENvbm5lY3QNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENsb3NlQ29ubmVjdCgpDQoNCglJZiBJc0RCQ29ubmVjdD1GYWxzZSBUaGVuDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCg0KCW9iakNvbm4uQ2xvc2UNCglTZXQgb2JqQ29ubj1Ob3RoaW5nDQoNCglJc0RCQ29ubmVjdD1GYWxzZQ0KDQoJQ2xvc2VDb25uZWN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOaXtumXtOiuoemVvw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUnVuVGltZSgpDQoNCglFbmRUaW1lPVRpbWVyKCkNCglSdW5UaW1lID0gQ0xuZyhGb3JtYXROdW1iZXIoKEVuZFRpbWUtU3RhclRpbWUpKjEwMDAsMykpDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDliIbnsbvor7vlj5YNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCidJc1J1bkdldENhdGVnb3J56buY6K6k5Li6ZmFsc2Us5aaC5p6c6L+Q6KGM6L+H5LiA5qyhR2V0Q2F0ZWdvcnnliJnkuLpUcnVlLOS5i+WQjuWGjUdldENhdGVnb3J55YiZ5LiN5omn6KGMDQpEaW0gSXNSdW5HZXRDYXRlZ29yeQ0KSXNSdW5HZXRDYXRlZ29yeT1GYWxzZQ0KRnVuY3Rpb24gR2V0Q2F0ZWdvcnkoKQ0KDQoJSWYgSXNSdW5HZXRDYXRlZ29yeT1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJRGltIGksaixrLGwNCg0KCURpbSBhcnlBbGxEYXRhDQoJRGltIGFyeVNpbmdsZURhdGEoKQ0KDQoJRXJhc2UgQ2F0ZWdvcnlzDQoJUmVEaW0gQ2F0ZWdvcnlzKDApDQoNCglEaW0gb2JqUlMNCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgMSBbY2F0ZV9JRF0gRlJPTSBbYmxvZ19DYXRlZ29yeV0gT1JERVIgQlkgW2NhdGVfSURdIERFU0MiKQ0KCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJaT1vYmpSUygiY2F0ZV9JRCIpDQoJCVJlRGltIENhdGVnb3J5cyhpKQ0KCUVuZCBJZg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbY2F0ZV9JRF0sW2NhdGVfTmFtZV0sW2NhdGVfSW50cm9dLFtjYXRlX09yZGVyXSxbY2F0ZV9Db3VudF0sW2NhdGVfUGFyZW50SURdLFtjYXRlX1VSTF0sW2NhdGVfVGVtcGxhdGVdLFtjYXRlX0xvZ1RlbXBsYXRlXSxbY2F0ZV9GdWxsVXJsXSxbY2F0ZV9NZXRhXSBGUk9NIFtibG9nX0NhdGVnb3J5XSBPUkRFUiBCWSBbY2F0ZV9JRF0gQVNDIikNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJYXJ5QWxsRGF0YT1vYmpSUy5HZXRSb3dzKG9ialJTLlJlY29yZENvdW50KQ0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCWs9VUJvdW5kKGFyeUFsbERhdGEsMSkNCgkJbD1VQm91bmQoYXJ5QWxsRGF0YSwyKQ0KCQlGb3IgaT0wIFRvIGwNCgkJCVNldCBDYXRlZ29yeXMoYXJ5QWxsRGF0YSgwLGkpKT1OZXcgVENhdGVnb3J5DQoJCQlDYXRlZ29yeXMoYXJ5QWxsRGF0YSgwLGkpKS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkoYXJ5QWxsRGF0YSgwLGkpLGFyeUFsbERhdGEoMSxpKSxhcnlBbGxEYXRhKDIsaSksYXJ5QWxsRGF0YSgzLGkpLGFyeUFsbERhdGEoNCxpKSxhcnlBbGxEYXRhKDUsaSksYXJ5QWxsRGF0YSg2LGkpLGFyeUFsbERhdGEoNyxpKSxhcnlBbGxEYXRhKDgsaSksYXJ5QWxsRGF0YSg5LGkpLGFyeUFsbERhdGEoMTAsaSkpKQ0KCQlOZXh0DQoJRW5kIElmDQoNCglTZXQgQ2F0ZWdvcnlzKDApPU5ldyBUQ2F0ZWdvcnkNCglDYWxsIENhdGVnb3J5cygwKS5Mb2FkSW5mb0J5SUQoMCkNCg0KCUlzUnVuR2V0Q2F0ZWdvcnk9VHJ1ZQ0KDQoJR2V0Q2F0ZWdvcnk9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg55So5oi36K+75Y+WDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpEaW0gSXNSdW5HZXRVc2VyDQpJc1J1bkdldFVzZXI9RmFsc2UNCkZ1bmN0aW9uIEdldFVzZXIoKQ0KDQoJSWYgSXNSdW5HZXRVc2VyPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCglEaW0gaSxqLGssbA0KDQoJRGltIGFyeUFsbERhdGENCglEaW0gYXJ5U2luZ2xlRGF0YSgpDQoNCglFcmFzZSBVc2Vycw0KCVJlRGltIFVzZXJzKDApDQoNCglEaW0gb2JqUlMNCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgMSBbbWVtX0lEXSBGUk9NIFtibG9nX01lbWJlcl0gT1JERVIgQlkgW21lbV9JRF0gREVTQyIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQlpPW9ialJTKCJtZW1fSUQiKQ0KCQlSZURpbSBVc2VycyhpKQ0KCUVuZCBJZg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KDQoJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFttZW1fSURdLFttZW1fTmFtZV0sW21lbV9MZXZlbF0sW21lbV9QYXNzd29yZF0sW21lbV9FbWFpbF0sW21lbV9Ib21lUGFnZV0sW21lbV9Qb3N0TG9nc10sW21lbV9VcmxdLFttZW1fVGVtcGxhdGVdLFttZW1fRnVsbFVybF0sW21lbV9JbnRyb10sW21lbV9NZXRhXSBGUk9NIFtibG9nX01lbWJlcl0gT1JERVIgQlkgW21lbV9JRF0gQVNDIikNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJYXJ5QWxsRGF0YT1vYmpSUy5HZXRSb3dzKG9ialJTLlJlY29yZENvdW50KQ0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCWs9VUJvdW5kKGFyeUFsbERhdGEsMSkNCgkJbD1VQm91bmQoYXJ5QWxsRGF0YSwyKQ0KCQlGb3IgaT0wIFRvIGwNCgkJCVNldCBVc2VycyhhcnlBbGxEYXRhKDAsaSkpPU5ldyBUVXNlcg0KCQkJVXNlcnMoYXJ5QWxsRGF0YSgwLGkpKS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkoYXJ5QWxsRGF0YSgwLGkpLGFyeUFsbERhdGEoMSxpKSxhcnlBbGxEYXRhKDIsaSksYXJ5QWxsRGF0YSgzLGkpLGFyeUFsbERhdGEoNCxpKSxhcnlBbGxEYXRhKDUsaSksYXJ5QWxsRGF0YSg2LGkpLGFyeUFsbERhdGEoNyxpKSxhcnlBbGxEYXRhKDgsaSksYXJ5QWxsRGF0YSg5LGkpLGFyeUFsbERhdGEoMTAsaSksYXJ5QWxsRGF0YSgxMSxpKSkpDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoJU2V0IFVzZXJzKDApPU5ldyBUVXNlcg0KDQoJSXNSdW5HZXRVc2VyPVRydWUNCg0KCUdldHVzZXI9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgVGFnc+ivu+WPlg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRGltIElzUnVuR2V0VGFncw0KSXNSdW5HZXRUYWdzPUZhbHNlDQpGdW5jdGlvbiBHZXRUYWdzKCkNCg0KCUlmIElzUnVuR2V0VGFncz1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJRGltIGksaixrLGwNCg0KCURpbSBhcnlBbGxEYXRhDQoJRGltIGFyeVNpbmdsZURhdGEoKQ0KDQoJRXJhc2UgVGFncw0KCVJlRGltIFRhZ3MoMCkNCg0KCURpbSBvYmpSUw0KDQoJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFRPUCAxIFt0YWdfSURdIEZST00gW2Jsb2dfVGFnXSBPUkRFUiBCWSBbdGFnX0lEXSBERVNDIikNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCWk9b2JqUlMoInRhZ19JRCIpDQoJCVJlRGltIFRhZ3MoaSkNCglFbmQgSWYNCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbdGFnX0lEXSxbdGFnX05hbWVdLFt0YWdfSW50cm9dLFt0YWdfT3JkZXJdLFt0YWdfQ291bnRdLFt0YWdfUGFyZW50SURdLFt0YWdfVVJMXSxbdGFnX1RlbXBsYXRlXSxbdGFnX0Z1bGxVcmxdLFt0YWdfTWV0YV0gRlJPTSBbYmxvZ19UYWddIE9SREVSIEJZIFt0YWdfSURdIEFTQyIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCWFyeUFsbERhdGE9b2JqUlMuR2V0Um93cyhvYmpSUy5SZWNvcmRDb3VudCkNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlrPVVCb3VuZChhcnlBbGxEYXRhLDEpDQoJCWw9VUJvdW5kKGFyeUFsbERhdGEsMikNCgkJRm9yIGk9MCBUbyBsDQoJCQlTZXQgVGFncyhhcnlBbGxEYXRhKDAsaSkpPU5ldyBUVGFnDQoJCQlUYWdzKGFyeUFsbERhdGEoMCxpKSkuTG9hZEluZm9CeUFycmF5KEFycmF5KGFyeUFsbERhdGEoMCxpKSxhcnlBbGxEYXRhKDEsaSksYXJ5QWxsRGF0YSgyLGkpLGFyeUFsbERhdGEoMyxpKSxhcnlBbGxEYXRhKDQsaSksYXJ5QWxsRGF0YSg1LGkpLGFyeUFsbERhdGEoNixpKSxhcnlBbGxEYXRhKDcsaSksYXJ5QWxsRGF0YSg4LGkpLGFyeUFsbERhdGEoOSxpKSkpDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoJU2V0IFRhZ3MoMCk9TmV3IFRUYWcNCg0KCUlzUnVuR2V0VGFncz1UcnVlDQoNCglHZXRUYWdzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBDb25maWdz6K+75Y+WDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpEaW0gSXNSdW5Db25maWdzDQpJc1J1bkNvbmZpZ3M9RmFsc2UNCkZ1bmN0aW9uIEdldENvbmZpZ3MoKQ0KDQoJSWYgSXNSdW5Db25maWdzPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCglEaW0gb2JqUlMNCglTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NvbmZfTmFtZV0sW2NvbmZfVmFsdWVdIEZST00gW2Jsb2dfQ29uZmlnXSIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCURvIFdoaWxlIE5vdCBvYmpSUy5lb2YNCgkJCUNhbGwgQ29uZmlnTWV0YXMuU2V0VmFsdWUob2JqUlMoMCksb2JqUlMoMSkpDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQlMb29wDQoNCglFbmQgSWYNCg0KCUlzUnVuQ29uZmlncz1UcnVlDQoNCglHZXRDb25maWdzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEZ1bmN0aW9uc+ivu+WPlg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRGltIElzUnVuRnVuY3Rpb25zDQpJc1J1bkZ1bmN0aW9ucz1GYWxzZQ0KRnVuY3Rpb24gR2V0RnVuY3Rpb24oKQ0KDQoJSWYgSXNSdW5GdW5jdGlvbnM9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCURpbSBpLGosayxsDQoNCglEaW0gYXJ5QWxsRGF0YQ0KCURpbSBhcnlTaW5nbGVEYXRhKCkNCg0KCUVyYXNlIEZ1bmN0aW9ucw0KCVJlRGltIEZ1bmN0aW9ucygwKQ0KDQoJU2V0IEZ1bmN0aW9uTWV0YXM9TmV3IFRNZXRhDQoNCglEaW0gb2JqUlMNCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgMSBbZm5fSURdIEZST00gW2Jsb2dfRnVuY3Rpb25dIE9SREVSIEJZIFtmbl9JRF0gREVTQyIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQlpPW9ialJTKCJmbl9JRCIpDQoJCVJlRGltIEZ1bmN0aW9ucyhpKQ0KCUVuZCBJZg0KDQoJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtmbl9JRF0sW2ZuX05hbWVdLFtmbl9GaWxlTmFtZV0sW2ZuX09yZGVyXSxbZm5fQ29udGVudF0sW2ZuX0lzSGlkZGVuXSxbZm5fU2lkZWJhcklEXSxbZm5fSHRtbElEXSxbZm5fRnR5cGVdLFtmbl9NYXhMaV0sW2ZuX1NvdXJjZV0sW2ZuX1ZpZXdUeXBlXSxbZm5fSXNIaWRlVGl0bGVdLFtmbl9NZXRhXSBGUk9NIFtibG9nX0Z1bmN0aW9uXSBPUkRFUiBCWSBbZm5fSURdIEFTQyIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoNCgkJYXJ5QWxsRGF0YT1vYmpSUy5HZXRSb3dzKG9ialJTLlJlY29yZENvdW50KQ0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCWs9VUJvdW5kKGFyeUFsbERhdGEsMSkNCgkJbD1VQm91bmQoYXJ5QWxsRGF0YSwyKQ0KCQlGb3IgaT0wIFRvIGwNCgkJCVNldCBGdW5jdGlvbnMoYXJ5QWxsRGF0YSgwLGkpKT1OZXcgVEZ1bmN0aW9uDQoJCQlGdW5jdGlvbnMoYXJ5QWxsRGF0YSgwLGkpKS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkoYXJ5QWxsRGF0YSgwLGkpLGFyeUFsbERhdGEoMSxpKSxhcnlBbGxEYXRhKDIsaSksYXJ5QWxsRGF0YSgzLGkpLGFyeUFsbERhdGEoNCxpKSxhcnlBbGxEYXRhKDUsaSksYXJ5QWxsRGF0YSg2LGkpLGFyeUFsbERhdGEoNyxpKSxhcnlBbGxEYXRhKDgsaSksYXJ5QWxsRGF0YSg5LGkpLGFyeUFsbERhdGEoMTAsaSksYXJ5QWxsRGF0YSgxMSxpKSxhcnlBbGxEYXRhKDEyLGkpLGFyeUFsbERhdGEoMTMsaSkpKQ0KCQkJQ2FsbCBGdW5jdGlvbk1ldGFzLlNldFZhbHVlKGFyeUFsbERhdGEoMixpKSxhcnlBbGxEYXRhKDAsaSkpDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoNCglEaW0gYXJ5RmlsZUxpc3QNCg0KCWFyeUZpbGVMaXN0PUxvYWRJbmNsdWRlRmlsZXNPbmx5VHlwZSgiemJfdXNlcnNcSU5DTFVERVwiKQ0KDQoJSWYgSXNBcnJheShhcnlGaWxlTGlzdCkgVGhlbg0KCQlqPVVCb3VuZChhcnlGaWxlTGlzdCkNCg0KCQlJZiBqPjAgVGhlbg0KCQkJRm9yIGk9MSB0byBqDQoJCQkJSWYgUmlnaHQoYXJ5RmlsZUxpc3QoaSksNCk9Ii5hc3AiIFRoZW4NCgkJCQlsPVJlcGxhY2UoYXJ5RmlsZUxpc3QoaSksIi5hc3AiLCIiKQ0KCQkJCUlmIEZ1bmN0aW9uTWV0YXMuRXhpc3RzKGwpID1GYWxzZSBUaGVuDQoNCgkJCQkJaz1VQm91bmQoRnVuY3Rpb25zKSsxDQoNCgkJCQkJUmVEaW0gUHJlc2VydmUgRnVuY3Rpb25zKGspDQoNCgkJCQkJU2V0IEZ1bmN0aW9ucyhrKT1OZXcgVEZ1bmN0aW9uDQoNCgkJCQkJRnVuY3Rpb25zKGspLklEPWsNCgkJCQkJRnVuY3Rpb25zKGspLkZpbGVOYW1lPWwNCgkJCQkJRnVuY3Rpb25zKGspLk5hbWU9bA0KCQkJCQlGdW5jdGlvbnMoaykuU291cmNlPSJvdGhlciINCgkJCQkJRnVuY3Rpb25zKGspLkh0bWxJRD0iZm4iICYgbA0KCQkJCQlGdW5jdGlvbnMoaykuQ29udGVudD1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl91c2Vyc1xJTkNMVURFXCImYXJ5RmlsZUxpc3QoaSksInV0Zi04IikNCgkJCQkJSWYgSW5zdHIoRnVuY3Rpb25zKGspLkNvbnRlbnQsIjwvbGk+Iik+MCBUaGVuDQoJCQkJCQlGdW5jdGlvbnMoaykuRlR5cGU9InVsIg0KCQkJCQlFbHNlDQoJCQkJCQlGdW5jdGlvbnMoaykuRlR5cGU9ImRpdiINCgkJCQkJRW5kIElmDQoJCQkJCUNhbGwgRnVuY3Rpb25NZXRhcy5TZXRWYWx1ZShsLGspDQoJCQkJRW5kIElmDQoJCQkJRW5kIElmDQoJCQlOZXh0DQoJCUVuZCBJZg0KCUVuZCBJZg0KDQoJU2V0IEZ1bmN0aW9ucygwKT1OZXcgVEZ1bmN0aW9uDQoNCglJc1J1bkZ1bmN0aW9ucz1UcnVlDQoNCglHZXRGdW5jdGlvbj1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDor7vlj5bmnYPpmZANCicg5aSH5rOoOiAgICAg5p2D6ZmQ5pyA6auY5Li6MSDmnIDkvY7kuLo1IOS4jeaYr+WImemdnuazlQ0KJyAgICAgICAgICAgIlJvb3Qi5LiA5a6a5Y+q6IO95Li6MQ0KJyAgICAgICAgICAg5p2D6ZmQ6YWN572u5pa55byP5Y+v5Lul5Y+Y6YCaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRSaWdodHMoc3RyQWN0aW9uKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fR2V0UmlnaHRzX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fR2V0UmlnaHRzX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fR2V0UmlnaHRzX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0dldFJpZ2h0c19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fR2V0UmlnaHRzX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9HZXRSaWdodHNfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglTZWxlY3QgQ2FzZSBzdHJBY3Rpb24NCg0KCQlDYXNlICJSb290Ig0KCQkJR2V0UmlnaHRzPTENCgkJQ2FzZSAibG9naW4iDQoJCQlHZXRSaWdodHM9NQ0KCQlDYXNlICJ2ZXJpZnkiDQoJCQlHZXRSaWdodHM9NQ0KCQlDYXNlICJsb2dvdXQiDQoJCQlHZXRSaWdodHM9NQ0KCQlDYXNlICJhZG1pbiINCgkJCUdldFJpZ2h0cz00DQoJCUNhc2UgImNtdCINCgkJCUdldFJpZ2h0cz01DQoJCSdDYXNlICJ0YiINCgkJJwlHZXRSaWdodHM9NQ0KCQlDYXNlICJ2cnMiDQoJCQlHZXRSaWdodHM9NQ0KCQlDYXNlICJyc3MiDQoJCQlHZXRSaWdodHM9NQ0KCQlDYXNlICJiYXRjaCINCgkJCUdldFJpZ2h0cz00DQoJCSdDYXNlICJnZXR0YnVybCINCgkJJwlHZXRSaWdodHM9NQ0KCQlDYXNlICJBcnRpY2xlQWxsIg0KCQkJR2V0UmlnaHRzPTINCgkJQ2FzZSAiQXJ0aWNsZU1uZyINCgkJCUdldFJpZ2h0cz0zDQoJCUNhc2UgIkFydGljbGVFZHQiDQoJCQlHZXRSaWdodHM9Mw0KCQlDYXNlICJBcnRpY2xlUHN0Ig0KCQkJR2V0UmlnaHRzPTMNCgkJQ2FzZSAiQXJ0aWNsZURlbCINCgkJCUdldFJpZ2h0cz0zDQoJCUNhc2UgIkFydGljbGVCdWQiDQoJCQlHZXRSaWdodHM9Mw0KCQlDYXNlICJDYXRlZ29yeU1uZyINCgkJCUdldFJpZ2h0cz0yDQoJCUNhc2UgIkNhdGVnb3J5RWR0Ig0KCQkJR2V0UmlnaHRzPTINCgkJQ2FzZSAiQ2F0ZWdvcnlQc3QiDQoJCQlHZXRSaWdodHM9Mg0KCQlDYXNlICJDYXRlZ29yeURlbCINCgkJCUdldFJpZ2h0cz0yDQoJCUNhc2UgIlRhZ01uZyINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlRhZ0VkdCINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlRhZ1BzdCINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlRhZ0RlbCINCgkJCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJLZXlXb3JkTW5nIg0KCQknCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJLZXlXb3JkRWR0Ig0KCQknCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJLZXlXb3JkUHN0Ig0KCQknCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJLZXlXb3JkRGVsIg0KCQknCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJHdWVzdEJvb2tNbmciDQoJCScJR2V0UmlnaHRzPTINCgkJQ2FzZSAiQ29tbWVudEFsbCINCgkJCUdldFJpZ2h0cz0yDQoJCUNhc2UgIkNvbW1lbnRNbmciDQoJCQlHZXRSaWdodHM9NA0KCQlDYXNlICJDb21tZW50RGVsIg0KCQkJR2V0UmlnaHRzPTQNCgkJQ2FzZSAiQ29tbWVudEVkdCINCgkJCUdldFJpZ2h0cz00DQoJCUNhc2UgIkNvbW1lbnRTYXYiDQoJCQlHZXRSaWdodHM9NA0KCQlDYXNlICJDb21tZW50R2V0Ig0KCQkJR2V0UmlnaHRzPTUNCgkJQ2FzZSAiQ29tbWVudEF1ZGl0Ig0KCQkJR2V0UmlnaHRzPTENCgkJQ2FzZSAiQ29tbWVudERlbEJhdGNoIg0KCQkJR2V0UmlnaHRzPTQNCgkJJ0Nhc2UgIlRyYWNrQmFja01uZyINCgkJJwlHZXRSaWdodHM9Mw0KCQknQ2FzZSAiVHJhY2tCYWNrRGVsIg0KCQknCUdldFJpZ2h0cz0zDQoJCSdDYXNlICJUcmFja0JhY2tEZWxCYXRjaCINCgkJJwlHZXRSaWdodHM9Mw0KCQknQ2FzZSAiVHJhY2tCYWNrU25kIg0KCQknCUdldFJpZ2h0cz0wDQoJCUNhc2UgIlVzZXJNbmciDQoJCQlHZXRSaWdodHM9NA0KCQlDYXNlICJVc2VyRWR0Ig0KCQkJR2V0UmlnaHRzPTQNCgkJQ2FzZSAiVXNlck1vZCINCgkJCUdldFJpZ2h0cz00DQoJCUNhc2UgIlVzZXJEZWwiDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJVc2VyQ3J0Ig0KCQkJR2V0UmlnaHRzPTENCgkJQ2FzZSAiQmxvZ1JlQnVpbGQiDQoJCQlHZXRSaWdodHM9Mw0KCQlDYXNlICJEaXJlY3RvcnlSZUJ1aWxkIg0KCQkJR2V0UmlnaHRzPTMNCgkJQ2FzZSAiRmlsZVJlQnVpbGQiDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJBc2tGaWxlUmVCdWlsZCINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIkZpbGVBbGwiDQoJCQlHZXRSaWdodHM9Mg0KCQlDYXNlICJGaWxlTW5nIg0KCQkJR2V0UmlnaHRzPTINCgkJQ2FzZSAiRmlsZVNuZCINCgkJCUdldFJpZ2h0cz0yDQoJCUNhc2UgIkZpbGVVcGxvYWQiDQoJCQlHZXRSaWdodHM9Mg0KCQlDYXNlICJGaWxlRGVsIg0KCQkJR2V0UmlnaHRzPTINCgkJQ2FzZSAiRmlsZURlbEJhdGNoIg0KCQkJR2V0UmlnaHRzPTINCgkJQ2FzZSAiU2VhcmNoIg0KCQkJR2V0UmlnaHRzPTUNCgkJJ0Nhc2UgIkJsb2dNbmciDQoJCScJR2V0UmlnaHRzPTQNCgkJQ2FzZSAiU2V0dGluZ01uZyINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlNldHRpbmdTYXYiDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJQbHVnSW5NbmciDQoJCQlHZXRSaWdodHM9Mg0KCQlDYXNlICJTaXRlSW5mbyINCgkJCUdldFJpZ2h0cz00DQoJCSdDYXNlICJVcGRhdGUiDQoJCScJR2V0UmlnaHRzPTENCgkJQ2FzZSAiVGhlbWVNbmciDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJUaGVtZVNhdiINCgkJCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJMaW5rTW5nIg0KCQknCUdldFJpZ2h0cz0xDQoJCSdDYXNlICJMaW5rU2F2Ig0KCQknCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlBsdWdJbkFjdGl2ZSINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIlBsdWdJbkRpc2FibGUiDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJGdW5jdGlvbk1uZyINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgIkZ1bmN0aW9uRWR0Ig0KCQkJR2V0UmlnaHRzPTENCgkJQ2FzZSAiRnVuY3Rpb25TYXYiDQoJCQlHZXRSaWdodHM9MQ0KCQlDYXNlICJGdW5jdGlvbkRlbCINCgkJCUdldFJpZ2h0cz0xDQoJCUNhc2UgRWxzZQ0KCQkJR2V0UmlnaHRzPU51bGwNCglFbmQgU2VsZWN0DQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmo4Dmn6XmnYPpmZANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENoZWNrUmlnaHRzKHN0ckFjdGlvbikNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX0NoZWNrUmlnaHRzX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fQ2hlY2tSaWdodHNfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9DaGVja1JpZ2h0c19CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9DaGVja1JpZ2h0c19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fQ2hlY2tSaWdodHNfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0NoZWNrUmlnaHRzX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJSWYgQmxvZ1VzZXIuTGV2ZWw+R2V0UmlnaHRzKHN0ckFjdGlvbikgVGhlbg0KCQlDaGVja1JpZ2h0cz1GYWxzZQ0KCUVsc2UNCgkJQ2hlY2tSaWdodHM9VHJ1ZQ0KCUVuZCBJZg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5qOA5p+l5L2c6ICF5piv5ZCm5a2Y5ZyoDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja0F1dGhvckJ5SUQoaW50QXV0aG9ySWQpDQoNCglDaGVja0F1dGhvckJ5SUQ9Tm90IG9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFttZW1fSURdIEZST00gW2Jsb2dfTWVtYmVyXSBXSEVSRSBbbWVtX0lEXT0iICYgQ0xuZyhpbnRBdXRob3JJZCkgKS5CT0YNCg0KRW5kIEZ1bmN0aW9uDQoNCkZ1bmN0aW9uIEdldEF1dGhvckJ5TmFtZShzdHJOYW1lKQ0KCURpbSBvYmpSUw0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbbWVtX0lEXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9OYW1lXT0nIiZGaWx0ZXJTUUwoc3RyTmFtZSkmIiciICkNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCUdldEF1dGhvckJ5TmFtZT1vYmpSUygwKQ0KCUVsc2UNCgkJR2V0QXV0aG9yQnlOYW1lPTANCglFbmQgSWYNCkVuZCBGdW5jdGlvbg0KDQpGdW5jdGlvbiBHZXRBdXRob3JCeUFsaWFzKHN0ckFsaWFzKQ0KCURpbSBvYmpSUw0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbbWVtX0lEXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9VcmxdPSciJkZpbHRlclNRTChzdHJBbGlhcykmIiciICkNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCUdldEF1dGhvckJ5QWxpYXM9b2JqUlMoMCkNCglFbHNlDQoJCUdldEF1dGhvckJ5QWxpYXM9MA0KCUVuZCBJZg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOajgOafpeWIhuexu+aYr+WQpuWtmOWcqA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQ2hlY2tDYXRlQnlJRChpbnRDYXRlSWQpDQoNCglJZiBDTG5nKGludENhdGVJZCk9MCBUaGVuIENoZWNrQ2F0ZUJ5SUQ9VHJ1ZTpFeGl0IEZ1bmN0aW9uDQoNCglDaGVja0NhdGVCeUlEPU5vdCBvYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbY2F0ZV9JRF0gRlJPTSBbYmxvZ19DYXRlZ29yeV0gV0hFUkUgW2NhdGVfSURdPSIgJiBDTG5nKGludENhdGVJZCkgKS5CT0YNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmoLnmja7liIbnsbvlkI3lvpfliLDliIbnsbtJRA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0Q2F0ZUJ5TmFtZShzdHJOYW1lKQ0KDQoJSWYgc3RyTmFtZT1CbG9nQ29uZmlnLlJlYWQoIlpDX1VOQ0FURUdPUklaRURfTkFNRSIpIFRoZW4NCgkJR2V0Q2F0ZUJ5TmFtZT0wDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCglEaW0gb2JqUlMNCglTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NhdGVfSURdIEZST00gW2Jsb2dfQ2F0ZWdvcnldIFdIRVJFIFtjYXRlX05hbWVdPSciJkZpbHRlclNRTChzdHJOYW1lKSYiJyIgKQ0KCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJR2V0Q2F0ZUJ5TmFtZT1vYmpSUygwKQ0KCUVsc2UNCgkJR2V0Q2F0ZUJ5TmFtZT0tMQ0KCUVuZCBJZg0KRW5kIEZ1bmN0aW9uDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOagueaNruWIhuexu+WIq+WQjeW+l+WIsOWIhuexu0lEDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRDYXRlQnlBbGlhcyhzdHJBbGlhcykNCg0KCUlmIHN0ckFsaWFzPUJsb2dDb25maWcuUmVhZCgiWkNfVU5DQVRFR09SSVpFRF9BTElBUyIpIFRoZW4NCgkJR2V0Q2F0ZUJ5QWxpYXM9MA0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJRGltIG9ialJTDQoJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtjYXRlX0lEXSBGUk9NIFtibG9nX0NhdGVnb3J5XSBXSEVSRSBbY2F0ZV9VcmxdPSciJkZpbHRlclNRTChzdHJBbGlhcykmIiciICkNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCUdldENhdGVCeUFsaWFzPW9ialJTKDApDQoJRWxzZQ0KCQlHZXRDYXRlQnlBbGlhcz0tMQ0KCUVuZCBJZg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOajgOafpVRBR+aYr+WQpuWtmOWcqA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQ2hlY2tUYWdCeUlEKGludFRhZ0lEKQ0KDQoJSWYgaW50VGFnSUQ9IiIgVGhlbiBpbnRUYWdJRD0wDQoJQ2hlY2tUYWdCeUlEPU5vdCBvYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19JRF09IiAmIGludFRhZ0lEICkuQk9GDQoNCkVuZCBGdW5jdGlvbg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmo4Dmn6VUQUfmmK/lkKblrZjlnKgNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENoZWNrVGFnQnlOYW1lKHN0ck5hbWUpDQoNCglDaGVja1RhZ0J5TmFtZT1Ob3Qgb2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3RhZ19JRF0gRlJPTSBbYmxvZ19UYWddIFdIRVJFIFt0YWdfTmFtZV09JyIgJiBGaWx0ZXJTUUwoc3RyTmFtZSkgJiInIiApLkJPRg0KDQpFbmQgRnVuY3Rpb24NCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5qOA5p+lVEFH5piv5ZCm5a2Y5ZyoDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja1RhZ0J5SW50cm8oc3RyTmFtZSkNCg0KCURpbSBzdHJTUUwNCglJZiBaQ19NU1NRTF9FTkFCTEUgVGhlbg0KCQlzdHJTUUw9IlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgQ09OVkVSVChOVkFSQ0hBUigyNTUpLFt0YWdfSW50cm9dKT0nIiAmIEZpbHRlclNRTChzdHJOYW1lKSAmIiciDQoJRWxzZQ0KCQlzdHJTUUw9IlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19JbnRyb109JyIgJiBGaWx0ZXJTUUwoc3RyTmFtZSkgJiInIg0KCUVuZCBJZg0KCUNoZWNrVGFnQnlJbnRybz1Ob3Qgb2JqQ29ubi5FeGVjdXRlKHN0clNRTCkuQk9GDQoNCkVuZCBGdW5jdGlvbg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgIOagueaNrlRBR+WIq+WQjeW+l+WIsFRBRyBJRA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0VGFnQnlJbnRybyhzdHJOYW1lKQ0KCURpbSBvYmpSUyxzdHJTUUwNCglJZiBaQ19NU1NRTF9FTkFCTEUgVGhlbg0KCQlzdHJTUUw9IlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgQ09OVkVSVChOVkFSQ0hBUigyNTUpLFt0YWdfSW50cm9dKT0nIiAmIEZpbHRlclNRTChzdHJOYW1lKSAmIiciDQoJRWxzZQ0KCQlzdHJTUUw9IlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19JbnRyb109JyIgJiBGaWx0ZXJTUUwoc3RyTmFtZSkgJiInIg0KCUVuZCBJZg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoc3RyU1FMKQ0KCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJR2V0VGFnQnlJbnRybz1vYmpSUygwKQ0KCUVsc2UNCgkJR2V0VGFnQnlJbnRybz0wDQoJRW5kIElmDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICDmoLnmja5UQUflkI3lvpfliLBUQUcgSUQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldFRhZ0J5TmFtZShzdHJOYW1lKQ0KCURpbSBvYmpSUw0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbdGFnX0lEXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19OYW1lXT0nIiZGaWx0ZXJTUUwoc3RyTmFtZSkmIiciICkNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCUdldFRhZ0J5TmFtZT1vYmpSUygwKQ0KCUVsc2UNCgkJR2V0VGFnQnlOYW1lPTANCglFbmQgSWYNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBHZXQgQ2F0ZWdvcnkgT3JkZXIg6L6T5Ye65pWw57uELg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0Q2F0ZWdvcnlPcmRlcigpDQoNCglEaW0gaQ0KCURpbSBvYmpSUw0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCURpbSBhcnlDYXRlSW5PcmRlcigpDQoJaT0wDQoJUmVEaW0gUHJlc2VydmUgYXJ5Q2F0ZUluT3JkZXIoMCkNCglhcnlDYXRlSW5PcmRlcigwKT0wDQoNCglvYmpSUy5PcGVuKCJTRUxFQ1QgW2NhdGVfaWRdIEZST00gW2Jsb2dfQ2F0ZWdvcnldIE9SREVSIEJZIFtjYXRlX09yZGVyXSBBU0MsW2NhdGVfSURdIEFTQyIpDQoJRG8gV2hpbGUgTm90IG9ialJTLmVvZg0KCQlpPWkrMQ0KCQlSZURpbSBQcmVzZXJ2ZSBhcnlDYXRlSW5PcmRlcihpKQ0KCQlhcnlDYXRlSW5PcmRlcihpKT1vYmpSUygiY2F0ZV9JRCIpDQoJCW9ialJTLk1vdmVOZXh0DQoJTG9vcA0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUdldENhdGVnb3J5T3JkZXI9YXJ5Q2F0ZUluT3JkZXINCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWPluW+l+aJgOacieWtkOWIhuexu+eahElEIOi+k+WHuuaVsOe7hC4NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldFN1YkNhdGVJRChpbnRDYXRlSWQsYm9sSW5jbHVkZVBhcmUpDQoNCglEaW0gaQ0KCURpbSBDYXRlZ29yeQ0KCURpbSBhcnlTdWJDYXRlSUQoKQ0KCWk9MA0KDQoJSWYgYm9sSW5jbHVkZVBhcmU9VHJ1ZSBUaGVuDQoJCVJlRGltIFByZXNlcnZlIGFyeVN1YkNhdGVJRChpKQ0KCQlhcnlTdWJDYXRlSUQoaSk9aW50Q2F0ZUlkDQoJCWk9aSsxDQoJRW5kIElmDQoNCglGb3IgRWFjaCBDYXRlZ29yeSBJbiBDYXRlZ29yeXMNCgkJSWYgSXNPYmplY3QoQ2F0ZWdvcnkpIFRoZW4NCgkJCUlmIENhdGVnb3J5LlBhcmVudElEPWludENhdGVJZCBUaGVuDQoJCQkJUmVEaW0gUHJlc2VydmUgYXJ5U3ViQ2F0ZUlEKGkpDQoJCQkJYXJ5U3ViQ2F0ZUlEKGkpPUNhdGVnb3J5LklEDQoJCQkJaT1pKzENCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoNCglJZiBpPjAgVGhlbiBHZXRTdWJDYXRlSUQ9YXJ5U3ViQ2F0ZUlEDQoNCglFcmFzZSBhcnlTdWJDYXRlSUQNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIE1ha2VDYWxlbmRhcihkdG1ZZWFyTW9udGgpDQoNCglEaW0gc3RyQ2FsZW5kYXINCg0KCURpbSB5DQoJRGltIG0NCglEaW0gZA0KCURpbSBmaXJ3DQoJRGltIGxhc3cNCglEaW0gbnkNCglEaW0gbm0NCglEaW0gcHkNCglEaW0gcG0NCg0KCURpbSBpDQoJRGltIGoNCglEaW0gaw0KCURpbSBiDQoJRGltIHMNCglEaW0gdA0KDQoJQ2FsbCBDaGVja1BhcmFtZXRlcihkdG1ZZWFyTW9udGgsImR0bSIsRGF0ZSgpKQ0KDQoJeT15ZWFyKGR0bVllYXJNb250aCkNCgltPW1vbnRoKGR0bVllYXJNb250aCkNCglueT15DQoJbm09bSsxDQoJSWYgbT0xMiBUaGVuIG55PW55KzE6bm09MQ0KCXB5PXkNCglwbT1tLTENCglpZiBtPTEgdGhlbiBweT1weS0xOnBtPTEyDQoNCglmaXJ3PVdlZWtkYXkoQ2RhdGUoeSYiLSImbSYiLTEiKSkNCg0KCUZvciBpPTI4IHRvIDMyDQoJCUlmIElzRGF0ZSh5JiItIiZtJiItIiZpKSBUaGVuDQoJCQlsYXN3PVdlZWtkYXkoQ2RhdGUoeSYiLSImbSYiLSImaSkpDQoJCUVsc2UNCgkJCUV4aXQgRm9yDQoJCUVuZCBJZg0KCU5leHQNCg0KCWQ9aS0xDQoJaz0xDQoNCglJZiBmaXJ3PjUgVGhlbiBiPTQyIEVsc2UgYj0zNQ0KCUlmIChkPTI4KSBBbmQgKGZpcnc9MSkgVGhlbiBiPTI4DQoJSWYgKGZpcnc+NSkgQW5kIChkPDMxKSBBbmQgKGQtZmlydzw+MjMpIFRoZW4gYj0zNQ0KDQoNCgknLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KCScJ6YC76L6R5aSE55CGDQoJCURpbSBhcnlEYXRlTGluaygzMikNCgkJRGltIGFyeURhdGVJRCgzMikNCgkJRGltIGFyeURhdGVBcnRpY2xlKDMyKQ0KCQlEaW0gb2JqUlMNCg0KCQlTZXQgb2JqUlM9U2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuUmVjb3Jkc2V0IikNCgkJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCQlvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJCW9ialJTLkFjdGl2ZUNvbm5lY3Rpb249b2JqQ29ubg0KCQlvYmpSUy5Tb3VyY2U9IiINCgkJb2JqUlMuT3Blbigic2VsZWN0IFtsb2dfSURdLFtsb2dfVGFnXSxbbG9nX0NhdGVJRF0sW2xvZ19UaXRsZV0sW2xvZ19JbnRyb10sW2xvZ19Db250ZW50XSxbbG9nX0xldmVsXSxbbG9nX0F1dGhvcklEXSxbbG9nX1Bvc3RUaW1lXSxbbG9nX0NvbW1OdW1zXSxbbG9nX1ZpZXdOdW1zXSxbbG9nX1RyYWNrQmFja051bXNdLFtsb2dfVXJsXSxbbG9nX0lzdG9wXSxbbG9nX1RlbXBsYXRlXSxbbG9nX0Z1bGxVcmxdLFtsb2dfVHlwZV0sW2xvZ19NZXRhXSBmcm9tIFtibG9nX0FydGljbGVdIHdoZXJlIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19MZXZlbF0+MikgQW5kIChbbG9nX1Bvc3RUaW1lXSBCRVRXRUVOICImIFpDX1NRTF9QT1VORF9LRVkgJnkmIi0iJm0mIi0xIiYgWkNfU1FMX1BPVU5EX0tFWSAmIiBBTkQgIiYgWkNfU1FMX1BPVU5EX0tFWSAmbnkmIi0iJm5tJiItMSImIFpDX1NRTF9QT1VORF9LRVkgJiIpIEFORCBsb2dfSUQgaW4oU0VMRUNUIG1heChsb2dfSUQpIGZyb20gW2Jsb2dfQXJ0aWNsZV0gZ3JvdXAgYnkgTW9udGgobG9nX3Bvc3R0aW1lKSxEYXkobG9nX3Bvc3R0aW1lKSkiKQ0KDQoJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJCUZvciBpPTEgVG8gb2JqUlMuUmVjb3JkQ291bnQNCgkJCQlqPUNMbmcoRGF5KENEYXRlKG9ialJTKCJsb2dfUG9zdFRpbWUiKSkpKQ0KCQkJCWFyeURhdGVMaW5rKGopPVRydWUNCgkJCQlhcnlEYXRlSUQoaik9b2JqUlMoImxvZ19JRCIpDQoJCQkJU2V0IGFyeURhdGVBcnRpY2xlKGopPU5ldyBUQXJ0aWNsZQ0KCQkJCWFyeURhdGVBcnRpY2xlKGopLkxvYWRJbmZvYnlBcnJheSBBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSxvYmpSUygxMCksb2JqUlMoMTEpLG9ialJTKDEyKSxvYmpSUygxMyksb2JqUlMoMTQpLG9ialJTKDE1KSxvYmpSUygxNiksb2JqUlMoMTcpKQ0KCQkJCW9ialJTLk1vdmVOZXh0DQoJCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCgkJCU5leHQNCgkJRW5kIElmDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoJJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KCXM9VXJsYnlEYXRlQXV0byh5LG0tMSwiIikNCgl0PVVybGJ5RGF0ZUF1dG8oeSxtKzEsIiIpDQoJSWYgbT0xIFRoZW4gcz1VcmxieURhdGVBdXRvKHktMSwxMiwiIikNCglJZiBtPTEyIFRoZW4gdD1VcmxieURhdGVBdXRvKHkrMSwxLCIiKQ0KDQoJCXN0ckNhbGVuZGFyPSI8dGFibGUgaWQ9IiJ0YkNhbGVuZGFyIiI+PGNhcHRpb24+PGEgaHJlZj0iIiImcyYiIiI+JiMwMDE3MTs8L2E+ICA8YSBocmVmPSIiIiZVcmxieURhdGVBdXRvKHksbSwiIikmIiIiPiImUmVwbGFjZShaQ19NU0cyMzMsIiV5Iix5KSYgIiAiICYgWlZBX01vbnRoX0FiYnIobSkmIjwvYT4gIDxhIGhyZWY9IiIiJnQmIiIiPiYjMDAxODc7PC9hPjwvY2FwdGlvbj4iDQoJCQ0KCSd0aGVhZAkNCgkJc3RyQ2FsZW5kYXI9c3RyQ2FsZW5kYXIgJiAiCTx0aGVhZD4JPHRyPiA8dGggdGl0bGU9IiIiJlpWQV9XZWVrKDEpJiIiIiBzY29wZT0iImNvbCIiIGFiYnI9IiIiJlpWQV9XZWVrKDEpJiIiIj48c21hbGw+IiZaVkFfV2Vla19BYmJyKDEpJiI8L3NtYWxsPjwvdGg+IDx0aCB0aXRsZT0iIiImWlZBX1dlZWsoMikmIiIiIHNjb3BlPSIiY29sIiIgYWJicj0iIiImWlZBX1dlZWsoMikmIiIiPjxzbWFsbD4iJlpWQV9XZWVrX0FiYnIoMikmIjwvc21hbGw+PC90aD4gPHRoIHRpdGxlPSIiIiZaVkFfV2VlaygzKSYiIiIgc2NvcGU9IiJjb2wiIiBhYmJyPSIiIiZaVkFfV2VlaygzKSYiIiI+PHNtYWxsPiImWlZBX1dlZWtfQWJicigzKSYiPC9zbWFsbD48L3RoPgk8dGggdGl0bGU9IiIiJlpWQV9XZWVrKDQpJiIiIiBzY29wZT0iImNvbCIiIGFiYnI9IiIiJlpWQV9XZWVrKDQpJiIiIj48c21hbGw+IiZaVkFfV2Vla19BYmJyKDQpJiI8L3NtYWxsPjwvdGg+IDx0aCB0aXRsZT0iIiImWlZBX1dlZWsoNSkmIiIiIHNjb3BlPSIiY29sIiIgYWJicj0iIiImWlZBX1dlZWsoNSkmIiIiPjxzbWFsbD4iJlpWQV9XZWVrX0FiYnIoNSkmIjwvc21hbGw+PC90aD4JPHRoIHRpdGxlPSIiIiZaVkFfV2Vlayg2KSYiIiIgc2NvcGU9IiJjb2wiIiBhYmJyPSIiIiZaVkFfV2Vlayg2KSYiIiI+PHNtYWxsPiImWlZBX1dlZWtfQWJicig2KSYiPC9zbWFsbD48L3RoPiA8dGggdGl0bGU9IiIiJlpWQV9XZWVrKDcpJiIiIiBzY29wZT0iImNvbCIiIGFiYnI9IiIiJlpWQV9XZWVrKDcpJiIiIj48c21hbGw+IiZaVkFfV2Vla19BYmJyKDcpJiI8L3NtYWxsPjwvdGg+CTwvdHI+CTwvdGhlYWQ+Ig0KCQkNCgkndGZvb3QJDQoJCQ0KCSd0Ym9keQkNCglzdHJDYWxlbmRhcj1zdHJDYWxlbmRhciAmICIJPHRib2R5PiINCgkNCglqPTANCglEaW0gYjEsYjINCglGb3IgaT0xIHRvIGINCg0KCQlJZiAoaiBNb2QgNyk9MCBUaGVuIHN0ckNhbGVuZGFyPXN0ckNhbGVuZGFyICYgIjx0cj4iDQoJCUlmIChqLzcpPD0wIGFuZCBmaXJ3PD4xIHRoZW4gc3RyQ2FsZW5kYXI9c3RyQ2FsZW5kYXIgJiAiPHRkIGNsYXNzPSIicGFkIiIgY29sc3Bhbj0iIiImIChmaXJ3LTEpICYiIiI+IDwvdGQ+Ig0KDQoJCUlmIChqPT5maXJ3LTEpIGFuZCAoaz08ZCkgVGhlbg0KCQkNCgkJCXN0ckNhbGVuZGFyPXN0ckNhbGVuZGFyICYgIjx0ZCAiDQoJCQkNCgkJCUlmIAlDZGF0ZSh5JiItIiZtJiItIiZrKSA9IERhdGUoKSBUaGVuDQoJCQkJc3RyQ2FsZW5kYXI9c3RyQ2FsZW5kYXIgJiAiIGlkID0iInRvZGF5IiIgIg0KCQkJCWIxPSI8Yj4iDQoJCQkJYjI9IjwvYj4iDQoJCQlFbHNlDQoJCQkJYjE9IiINCgkJCQliMj0iIg0KCQkJRW5kIElmDQoJCQkNCgkJCUlmIGFyeURhdGVMaW5rKGspIFRoZW4NCgkJCQlzdHJDYWxlbmRhcj1zdHJDYWxlbmRhciAmICI+PGEgaHJlZj0iIiImIFpDX0JMT0dfSE9TVCAmImNhdGFsb2cuYXNwP2RhdGU9IiZZZWFyKGFyeURhdGVBcnRpY2xlKGspLlBvc3RUaW1lKSYiLSImTW9udGgoYXJ5RGF0ZUFydGljbGUoaykuUG9zdFRpbWUpJiItIiZEYXkoYXJ5RGF0ZUFydGljbGUoaykuUG9zdFRpbWUpJiAiIiI+IiZiMSYoaykmYjImIjwvYT48L3RkPiINCgkJCUVsc2UNCgkJCQlzdHJDYWxlbmRhcj1zdHJDYWxlbmRhciAmIj4iJmIxJihrKSZiMiYiPC90ZD4iDQoJCQlFbmQgSWYNCg0KCQkJaz1rKzENCgkJRW5kIElmDQoJCQkNCgkJaWYgaj1iLTEgQU5EIGxhc3c8PjcgdGhlbiBzdHJDYWxlbmRhcj1zdHJDYWxlbmRhciAmICI8dGQgY2xhc3M9IiJwYWQiIiBjb2xzcGFuPSIiIiYgKDctbGFzdykgJiIiIj4gPC90ZD4iCQkNCg0KCQlJZiAoaiBNb2QgNyk9NiBUaGVuIHN0ckNhbGVuZGFyPXN0ckNhbGVuZGFyICYgIjwvdHI+Ig0KDQoJCWo9aisxDQoJTmV4dA0KDQoJc3RyQ2FsZW5kYXI9c3RyQ2FsZW5kYXIgJiAiCTwvdGJvZHk+PC90YWJsZT4iDQoJTWFrZUNhbGVuZGFyPXN0ckNhbGVuZGFyDQoJDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5Yqg6L296buY6K6k55qE5Li76aKY5qih5p2/DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBMb2FkRGVmYXVsdFRlbXBsYXRlcygpDQoNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFLUlTVE9QIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFLUlTVE9QIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9hcnRpY2xlLWlzdG9wLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9CX0FSVElDTEUtTVVMVEkiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9CX0FSVElDTEUtTVVMVEkiLExvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3N5c3RlbVxkZWZlbmRcZGVmYXVsdFxiX2FydGljbGUtbXVsdGkuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfQVJUSUNMRS1TSU5HTEUiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9CX0FSVElDTEUtU0lOR0xFIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9hcnRpY2xlLXNpbmdsZS5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlQiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVCIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9jb21tZW50Lmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVFBPU1QtVkVSSUZZIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRQT1NULVZFUklGWSIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9jb21tZW50cG9zdC12ZXJpZnkuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UUE9TVCIpPUZhbHNlIFRoZW4gQ2FsbCBUZW1wbGF0ZURpYy5hZGQoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UUE9TVCIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9jb21tZW50cG9zdC5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRfUEFHRUJBUiIpPUZhbHNlIFRoZW4gQ2FsbCBUZW1wbGF0ZURpYy5hZGQoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UX1BBR0VCQVIiLExvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3N5c3RlbVxkZWZlbmRcZGVmYXVsdFxiX2FydGljbGVfY29tbWVudF9wYWdlYmFyLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9CX0FSVElDTEVfTVVUVUFMSVRZIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFX01VVFVBTElUWSIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9tdXR1YWxpdHkuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfQVJUSUNMRV9OQVZCQVJfTCIpPUZhbHNlIFRoZW4gQ2FsbCBUZW1wbGF0ZURpYy5hZGQoIlRFTVBMQVRFX0JfQVJUSUNMRV9OQVZCQVJfTCIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9uYXZiYXJfbC5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFX05BVkJBUl9SIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFX05BVkJBUl9SIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9hcnRpY2xlX25hdmJhcl9yLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9CX0FSVElDTEVfVEFHIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFX1RBRyIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV90YWcuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfRlVOQ1RJT04iKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9CX0ZVTkNUSU9OIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9mdW5jdGlvbi5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9QQUdFQkFSIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9QQUdFQkFSIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9wYWdlYmFyLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9DQVRBTE9HIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQ0FUQUxPRyIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGNhdGFsb2cuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0RFRkFVTFQiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9ERUZBVUxUIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcZGVmYXVsdC5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfRk9PVEVSIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfRk9PVEVSIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcZm9vdGVyLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9IRUFERVIiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9IRUFERVIiLExvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3N5c3RlbVxkZWZlbmRcZGVmYXVsdFxoZWFkZXIuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX1NJREVCQVIiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9TSURFQkFSIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9TSU5HTEUiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9TSU5HTEUiLExvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3N5c3RlbVxkZWZlbmRcZGVmYXVsdFxzaW5nbGUuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfQVJUSUNMRS1TRUFSQ0gtQ09OVEVOVCIpPUZhbHNlIFRoZW4gQ2FsbCBUZW1wbGF0ZURpYy5hZGQoIlRFTVBMQVRFX0JfQVJUSUNMRS1TRUFSQ0gtQ09OVEVOVCIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZS1zZWFyY2gtY29udGVudC5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFLVBBR0UiKT1GYWxzZSBUaGVuIENhbGwgVGVtcGxhdGVEaWMuYWRkKCJURU1QTEFURV9CX0FSVElDTEUtUEFHRSIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZS1wYWdlLmh0bWwiLCJ1dGYtOCIpKQ0KSWYgVGVtcGxhdGVEaWMuRXhpc3RzKCJURU1QTEFURV9QQUdFIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfUEFHRSIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XHBhZ2UuaHRtbCIsInV0Zi04IikpDQpJZiBUZW1wbGF0ZURpYy5FeGlzdHMoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UX1BBR0VCQVJfTCIpPUZhbHNlIFRoZW4gQ2FsbCBUZW1wbGF0ZURpYy5hZGQoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UX1BBR0VCQVJfTCIsTG9hZEZyb21GaWxlKEJsb2dQYXRoICYiemJfc3lzdGVtXGRlZmVuZFxkZWZhdWx0XGJfYXJ0aWNsZV9jb21tZW50X3BhZ2ViYXJfbC5odG1sIiwidXRmLTgiKSkNCklmIFRlbXBsYXRlRGljLkV4aXN0cygiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRfUEFHRUJBUl9SIik9RmFsc2UgVGhlbiBDYWxsIFRlbXBsYXRlRGljLmFkZCgiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRfUEFHRUJBUl9SIixMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiJ6Yl9zeXN0ZW1cZGVmZW5kXGRlZmF1bHRcYl9hcnRpY2xlX2NvbW1lbnRfcGFnZWJhcl9yLmh0bWwiLCJ1dGYtOCIpKQ0KDQon5Li6Mi4y5pS55LqG5qih5p2/55qE6buY6K6k6KGo5Y2VDQpEaW0gcw0Kcz1UZW1wbGF0ZURpYy5JdGVtKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVFBPU1QiKQ0KDQpJZiBJblN0cihzLCJpbnBSZXZJRCIpPTAgVGhlbg0KCUlmIEluU3RyKHMsImlucExvY2F0aW9uIik+MCBUaGVuDQoJCXM9UmVwbGFjZShzLCJpbnBMb2NhdGlvbiIsImlucFJldklEIikNCglFbHNlDQoJCXM9UmVwbGFjZShzLCI8aW5wdXQiLCI8aW5wdXQgdHlwZT0iImhpZGRlbiIiIG5hbWU9IiJpbnBSZXZJRCIiIGlkPSIiaW5wUmV2SUQiIiB2YWx1ZT0iIiIiIC8+PGlucHV0IiwxLDEpDQoJRW5kIElmDQpFbmQgSWYNClRlbXBsYXRlRGljLkl0ZW0oIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UUE9TVCIpPXMNCg0KCURpbSBpLGoNCgkn5Zyo5qih5p2/5paH5Lu25Lit5YWI5pu/5o2i5LiA5qyh5qih5p2/SU5DTFVERemHjOeahOaWh+S7tuagh+etvg0KCUZvciBFYWNoIGkgSW4gVGVtcGxhdGVEaWMuS2V5cw0KCQlGb3IgRWFjaCBqIEluIFRlbXBsYXRlRGljLktleXMNCgkJCVRlbXBsYXRlRGljLkl0ZW0oaik9UmVwbGFjZShUZW1wbGF0ZURpYy5JdGVtKGopLCI8IyIraSsiIz4iLFRlbXBsYXRlRGljLkl0ZW0oaSkpDQoJCU5leHQNCglOZXh0DQoNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWKoOi9veaMh+WumuebruW9leeahOaWh+S7tuWIl+ihqA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gTG9hZEluY2x1ZGVGaWxlcyhzdHJEaXIpDQoNCglEaW0gYXJ5RmlsZUxpc3QoKQ0KCVJlRGltIGFyeUZpbGVMaXN0KC0xKQ0KDQoJRGltIGYsIGYxLCBmYywgcywgaQ0KDQoJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkNCglJZiBQdWJsaWNPYmpGU08uRm9sZGVyRXhpc3RzKEJsb2dQYXRoICYgc3RyRGlyKT1GYWxzZSBUaGVuDQoJCUxvYWRJbmNsdWRlRmlsZXM9QXJyYXkoKQ0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoNCglTZXQgZiA9IFB1YmxpY09iakZTTy5HZXRGb2xkZXIoQmxvZ1BhdGggJiBzdHJEaXIpDQoJU2V0IGZjID0gZi5GaWxlcw0KDQoJaT0wDQoNCglGb3IgRWFjaCBmMSBpbiBmYw0KCQlpPWkrMQ0KCQlSZURpbSBQcmVzZXJ2ZSBhcnlGaWxlTGlzdChpKQ0KCQlhcnlGaWxlTGlzdChpKT1mMS5uYW1lDQoJTmV4dA0KDQoJTG9hZEluY2x1ZGVGaWxlcz1hcnlGaWxlTGlzdA0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWKoOi9veaMh+WumuebruW9leeahOaWh+S7tuWIl+ihqA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gTG9hZEluY2x1ZGVGaWxlc09ubHlUeXBlKHN0ckRpcikNCg0KCURpbSBhcnlGaWxlTGlzdCgpDQoJUmVEaW0gYXJ5RmlsZUxpc3QoLTEpDQoNCglEaW0gZiwgZjEsIGZjLCBzLCBpDQoNCglJZiBOb3QgSXNPYmplY3QoUHVibGljT2JqRlNPKSBUaGVuIFNldCBQdWJsaWNPYmpGU089U2VydmVyLkNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QiKQ0KDQoJSWYgUHVibGljT2JqRlNPLkZvbGRlckV4aXN0cyhCbG9nUGF0aCAmIHN0ckRpcik9RmFsc2UgVGhlbg0KCQlMb2FkSW5jbHVkZUZpbGVzT25seVR5cGU9QXJyYXkoKQ0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoNCglTZXQgZiA9IFB1YmxpY09iakZTTy5HZXRGb2xkZXIoQmxvZ1BhdGggJiBzdHJEaXIpDQoJU2V0IGZjID0gZi5GaWxlcw0KDQoJaT0wDQoNCglGb3IgRWFjaCBmMSBpbiBmYw0KCQlJZiBSaWdodChmMS5uYW1lLDUpPSIuaHRtbCIgT3IgUmlnaHQoZjEubmFtZSw0KT0iLmFzcCIgT3IgUmlnaHQoZjEubmFtZSw0KT0iLmh0bSIgIFRoZW4NCgkJCWk9aSsxDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlGaWxlTGlzdChpKQ0KCQkJYXJ5RmlsZUxpc3QoaSk9ZjEubmFtZQ0KCQlFbmQgSWYNCglOZXh0DQoNCglMb2FkSW5jbHVkZUZpbGVzT25seVR5cGU9YXJ5RmlsZUxpc3QNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEdldCBUZW1wbGF0ZSBieSBOYW1lDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRUZW1wbGF0ZShOYW1lKQ0KDQoJR2V0VGVtcGxhdGU9VGVtcGxhdGVEaWMuSXRlbShOYW1lKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgU2V0IFRlbXBsYXRlIGJ5IE5hbWUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNldFRlbXBsYXRlKE5hbWUsVmFsdWUpDQoNCglUZW1wbGF0ZURpYy5JdGVtKE5hbWUpPVZhbHVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDlvpfliLDmqKHmnb/moIfnrb4NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldFRlbXBsYXRlVGFncyhOYW1lKQ0KCUdldFRlbXBsYXRlVGFncz1UZW1wbGF0ZVRhZ3NEaWMuSXRlbShOYW1lKQ0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOiuvue9ruaooeadv+agh+etvg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2V0VGVtcGxhdGVUYWdzKE5hbWUsVmFsdWUpDQoJVGVtcGxhdGVUYWdzRGljLkl0ZW0oTmFtZSk9VmFsdWUNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBDaGVjayBUZW1wbGF0ZSBNb2RpZmllZCBEYXRlDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja1RlbXBsYXRlTW9kaWZpZWQoKQ0KDQoJRGltIGYsIGYxLCBmYywgcw0KCURpbSBkLG5kDQoNCglJZiBOb3QgSXNPYmplY3QoUHVibGljT2JqRlNPKSBUaGVuIFNldCBQdWJsaWNPYmpGU089U2VydmVyLkNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QiKQ0KCQ0KCUlmIFB1YmxpY09iakZTTy5Gb2xkZXJFeGlzdHMoQmxvZ1BhdGggJiAiemJfdXNlcnNcIiAmICJ0aGVtZSIgJiAiXCIgJiBaQ19CTE9HX1RIRU1FICYgIlwiICYgWkNfVEVNUExBVEVfRElSRUNUT1JZKT1GYWxzZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglTZXQgZiA9IFB1YmxpY09iakZTTy5HZXRGb2xkZXIoQmxvZ1BhdGggJiAiemJfdXNlcnNcIiAmICJ0aGVtZSIgJiAiXCIgJiBaQ19CTE9HX1RIRU1FICYgIlwiICYgWkNfVEVNUExBVEVfRElSRUNUT1JZKQ0KCVNldCBmYyA9IGYuRmlsZXMNCg0KCUZvciBFYWNoIGYxIGluIGZjDQoJICBkPWYxLkRhdGVMYXN0TW9kaWZpZWQNCgkgIElmIG5kPSIiIFRoZW4gbmQ9ZA0KCSAgSWYgRGF0ZURpZmYoInMiLG5kLGQpPjAgVGhlbiBuZD1kDQoJTmV4dA0KDQoJQ2hlY2tUZW1wbGF0ZU1vZGlmaWVkPW5kDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBMb2FkIOWFqOWxgCBDYWNoZQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gTG9hZEdsb2JlQ2FjaGUoKQ0KDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCURpbSBpaSxqag0KDQoJRGltIGJvbFJlTG9hZENhY2hlDQoJQXBwbGljYXRpb24uTG9jaw0KCWJvbFJlTG9hZENhY2hlPUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiU0lHTkFMX1JFTE9BRENBQ0hFIikNCglBcHBsaWNhdGlvbi5VbkxvY2sNCg0KCUlmIElzRW1wdHkoYm9sUmVMb2FkQ2FjaGUpPVRydWUgVGhlbg0KCQlib2xSZUxvYWRDYWNoZT0ib2siDQoJRWxzZQ0KCQlEaW0gVGVtcGxhdGVzTmFtZQ0KCQlEaW0gVGVtcGxhdGVzQ29udGVudA0KDQoJCURpbSBUZW1wbGF0ZVRhZ3NOYW1lDQoJCURpbSBUZW1wbGF0ZVRhZ3NWYWx1ZQ0KDQoJCVRlbXBsYXRlVGFnc0RpYy5SZW1vdmVBbGwNCgkJVGVtcGxhdGVEaWMuUmVtb3ZlQWxsDQoNCgkJQXBwbGljYXRpb24uTG9jaw0KCQlUZW1wbGF0ZVRhZ3NOYW1lPUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiVGVtcGxhdGVUYWdzTmFtZSIpDQoJCVRlbXBsYXRlVGFnc1ZhbHVlPUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiVGVtcGxhdGVUYWdzVmFsdWUiKQ0KDQoJCVRlbXBsYXRlc05hbWU9QXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJUZW1wbGF0ZXNOYW1lIikNCgkJVGVtcGxhdGVzQ29udGVudD1BcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRlbXBsYXRlc0NvbnRlbnQiKQ0KCQlBcHBsaWNhdGlvbi5VbkxvY2sNCg0KCQlqaj1VQm91bmQoVGVtcGxhdGVzTmFtZSkNCgkJRm9yIGlpPTAgdG8gamoNCgkJCUlmIFRlbXBsYXRlRGljLkV4aXN0cyhUZW1wbGF0ZXNOYW1lKGlpKSk9RmFsc2UgVGhlbiBUZW1wbGF0ZURpYy5BZGQgVGVtcGxhdGVzTmFtZShpaSksIFRlbXBsYXRlc0NvbnRlbnQoaWkpDQoJCU5leHQNCg0KCQlqaj1VQm91bmQoVGVtcGxhdGVUYWdzTmFtZSkNCgkJRm9yIGlpPTAgdG8gamoNCgkJCUlmIFRlbXBsYXRlVGFnc0RpYy5FeGlzdHMoVGVtcGxhdGVUYWdzTmFtZShpaSkpPUZhbHNlIFRoZW4gVGVtcGxhdGVUYWdzRGljLkFkZCBUZW1wbGF0ZVRhZ3NOYW1lKGlpKSwgVGVtcGxhdGVUYWdzVmFsdWUoaWkpDQoJCU5leHQNCg0KCQknQ2FsbCBMb2FkRGVmYXVsdFRlbXBsYXRlcygpDQoNCgkJSWYgSXNFbXB0eShUZW1wbGF0ZVRhZ3NWYWx1ZSk9RmFsc2UgQW5kIElzRW1wdHkoVGVtcGxhdGVUYWdzVmFsdWUpPUZhbHNlIEFuZCBJc0VtcHR5KFRlbXBsYXRlc05hbWUpPUZhbHNlIEFuZCBJc0VtcHR5KFRlbXBsYXRlc0NvbnRlbnQpPUZhbHNlIFRoZW4NCgkJCUV4aXQgRnVuY3Rpb24NCgkJRW5kIElmDQoJRW5kIElmDQoNCglEaW0gaSxqDQoNCgkn5Yqg6L295qih5p2/DQoJRGltIG9ialN0cmVhbQ0KCURpbSBzdHJDb250ZW50DQoNCg0KCURpbSBhcnlUZW1wbGF0ZXNOYW1lKCkNCglEaW0gYXJ5VGVtcGxhdGVzQ29udGVudCgpDQoNCgkn6K+75Y+WVGVtcGxhdGXnm67lvZXkuIvnmoTmiYDmnInmlofku7blubblhpnlhaVDYWNoZQ0KCURpbSBhcnlGaWxlTGlzdA0KCURpbSBhcnlGaWxlTmFtZVRlbXBsYXRlKCkNCglEaW0gYXJ5RmlsZU5hbWVUZW1wbGF0ZV9WYXJpYWJsZSgpDQoNCglhcnlGaWxlTGlzdD1Mb2FkSW5jbHVkZUZpbGVzT25seVR5cGUoInpiX3VzZXJzXHRoZW1lIiAmICIvIiAmIFpDX0JMT0dfVEhFTUUgJiAiLyIgJiBaQ19URU1QTEFURV9ESVJFQ1RPUlkpDQoNCglJZiBJc0FycmF5KGFyeUZpbGVMaXN0KSBUaGVuDQoNCgkJaj1VQm91bmQoYXJ5RmlsZUxpc3QpDQoNCgkJSWYgaj4wIFRoZW4NCg0KCQkJUmVEaW0gYXJ5RmlsZU5hbWVUZW1wbGF0ZShqKQ0KCQkJUmVEaW0gYXJ5RmlsZU5hbWVUZW1wbGF0ZV9WYXJpYWJsZShqKQ0KDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZXNOYW1lKGopDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZXNDb250ZW50KGopDQoNCgkJCUZvciBpPTEgdG8gag0KDQoJCQkJYXJ5RmlsZU5hbWVUZW1wbGF0ZShpKT0idGhlbWUiICYgIi8iICYgWkNfQkxPR19USEVNRSAmICIvIiAmIFpDX1RFTVBMQVRFX0RJUkVDVE9SWSAmICIvIiAmIGFyeUZpbGVMaXN0KGkpDQoJCQkJYXJ5RmlsZU5hbWVUZW1wbGF0ZV9WYXJpYWJsZShpKT0iVEVNUExBVEVfIiAmIFVDYXNlKExlZnQoYXJ5RmlsZUxpc3QoaSksSW5TdHIoYXJ5RmlsZUxpc3QoaSksIi4iKS0xKSkNCgkJCQlJZiBJblN0cihhcnlGaWxlTGlzdChpKSwiLiIpPTAgVGhlbg0KCQkJCQlhcnlGaWxlTmFtZVRlbXBsYXRlX1ZhcmlhYmxlKGkpPSJURU1QTEFURV8iICYgVUNhc2UoYXJ5RmlsZUxpc3QoaSkpDQoJCQkJRW5kIElmDQoJCQkJYXJ5VGVtcGxhdGVzTmFtZShpKT1hcnlGaWxlTmFtZVRlbXBsYXRlX1ZhcmlhYmxlKGkpDQoNCgkJCQlzdHJDb250ZW50PSIiDQoJCQkJc3RyQ29udGVudD1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcIiAmIGFyeUZpbGVOYW1lVGVtcGxhdGUoaSksInV0Zi04IikNCg0KCQkJCWFyeVRlbXBsYXRlc0NvbnRlbnQoaSk9c3RyQ29udGVudA0KCQkJTmV4dA0KDQoJCQkn5Zyo5qih5p2/5paH5Lu25Lit5YWI5pu/5o2i5b2T5YmN5qih54mI5YaF55qE5paH5Lu25qCH562+DQoJCQlGb3IgaT0xIFRvIFVCb3VuZChhcnlUZW1wbGF0ZXNOYW1lKQ0KCQkJCUZvciBqPTEgdG8gVUJvdW5kKGFyeVRlbXBsYXRlc05hbWUpDQoJCQkJCWFyeVRlbXBsYXRlc0NvbnRlbnQoaSk9UmVwbGFjZShhcnlUZW1wbGF0ZXNDb250ZW50KGkpLCI8IyIrYXJ5VGVtcGxhdGVzTmFtZShqKSsiIz4iLGFyeVRlbXBsYXRlc0NvbnRlbnQoaikpDQoJCQkJTmV4dA0KCQkJCWFyeVRlbXBsYXRlc0NvbnRlbnQoaSk9UmVwbGFjZShhcnlUZW1wbGF0ZXNDb250ZW50KGkpLCI8I1pDX0JMT0dfSE9TVCM+dGhlbWVzLyIsIjwjWkNfQkxPR19IT1NUIz56Yl91c2Vycy90aGVtZS8iKQ0KCQkJTmV4dA0KCQkJaj1VQm91bmQoYXJ5RmlsZUxpc3QpDQoNCgkJRWxzZQ0KCQkJaj0wDQoJCUVuZCBJZg0KDQoJRW5kIElmDQoNCg0KCSfor7vlj5ZDYWNoZeebruW9leS4i+eahOaJgOacieS+p+agj+aWh+S7tuW5tuWGmeWFpUNhY2hlDQoNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZXNOYW1lKGorNSkNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZXNDb250ZW50KGorNSkNCg0KDQoJYXJ5VGVtcGxhdGVzTmFtZShqKzEpPSJDQUNIRV9TSURFQkFSIg0KCWFyeVRlbXBsYXRlc05hbWUoaisyKT0iQ0FDSEVfU0lERUJBUjIiDQoJYXJ5VGVtcGxhdGVzTmFtZShqKzMpPSJDQUNIRV9TSURFQkFSMyINCglhcnlUZW1wbGF0ZXNOYW1lKGorNCk9IkNBQ0hFX1NJREVCQVI0Ig0KCWFyeVRlbXBsYXRlc05hbWUoais1KT0iQ0FDSEVfU0lERUJBUjUiDQoNCglhcnlUZW1wbGF0ZXNDb250ZW50KGorMSk9TG9hZEZyb21GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzXGNhY2hlIiAmICJcc2lkZWJhci5hc3AiLCJ1dGYtOCIgKQ0KCWFyeVRlbXBsYXRlc0NvbnRlbnQoaisyKT1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcY2FjaGUiICYgIlxzaWRlYmFyMi5hc3AiLCJ1dGYtOCIpDQoJYXJ5VGVtcGxhdGVzQ29udGVudChqKzMpPUxvYWRGcm9tRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vyc1xjYWNoZSIgJiAiXHNpZGViYXIzLmFzcCIsInV0Zi04IikNCglhcnlUZW1wbGF0ZXNDb250ZW50KGorNCk9TG9hZEZyb21GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzXGNhY2hlIiAmICJcc2lkZWJhcjQuYXNwIiwidXRmLTgiKQ0KCWFyeVRlbXBsYXRlc0NvbnRlbnQoais1KT1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcY2FjaGUiICYgIlxzaWRlYmFyNS5hc3AiLCJ1dGYtOCIpDQoNCg0KCSfliqDovb3moIfnrb4NCglEaW0gYSxiLGMsZCxlLGEyLGEzLGYNCglEaW0gdCgpDQoJRGltIHMoKQ0KDQoJYT0wDQoJYj0yNA0KCWM9MQ0KCWQ9MzUwDQoJZT0wDQoJYTI9MA0KCWEzPTANCglmPTENCg0KCSfor7vlj5ZURU1QTEFUReS4i+eahEluY2x1ZGXnm67lvZXkuIvnmoTmiYDmnInmlofku7blubblhpnlhaVDYWNoZQ0KCSdEaW0gYXJ5RmlsZUxpc3QNCglEaW0gYXJ5RmlsZU5hbWVUZW1wbGF0ZUluY2x1ZGUoKQ0KCURpbSBhcnlGaWxlTmFtZVRlbXBsYXRlSW5jbHVkZV9WYXJpYWJsZSgpDQoNCglhcnlGaWxlTGlzdD1Mb2FkSW5jbHVkZUZpbGVzT25seVR5cGUoInpiX3VzZXJzXHRoZW1lIiAmICIvIiAmIFpDX0JMT0dfVEhFTUUgJiAiLyIgJiAiSU5DTFVERSIpDQoNCglJZiBJc0FycmF5KGFyeUZpbGVMaXN0KSBUaGVuDQoNCgkJZT1VQm91bmQoYXJ5RmlsZUxpc3QpDQoNCgkJSWYgZT4wIFRoZW4NCg0KCQkJUmVEaW0gYXJ5RmlsZU5hbWVUZW1wbGF0ZUluY2x1ZGUoZSkNCgkJCVJlRGltIGFyeUZpbGVOYW1lVGVtcGxhdGVJbmNsdWRlX1ZhcmlhYmxlKGUpDQoJCQlSZURpbSBhcnlGaWxlTmFtZVRlbXBsYXRlSW5jbHVkZV9Db250ZW50KGUpDQoJCQlSZURpbSBzKGUpDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGUpDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShlKQ0KDQoJCQlGb3IgaT0xIHRvIGUNCg0KCQkJCWFyeUZpbGVOYW1lVGVtcGxhdGVJbmNsdWRlKGkpPSJ0aGVtZSIgJiAiLyIgJiBaQ19CTE9HX1RIRU1FICYgIi8iICYgIklOQ0xVREUiICYgIi8iICYgYXJ5RmlsZUxpc3QoaSkNCgkJCQlhcnlGaWxlTmFtZVRlbXBsYXRlSW5jbHVkZV9WYXJpYWJsZShpKT0iVEVNUExBVEVfSU5DTFVERV8iICYgVUNhc2UoTGVmdChhcnlGaWxlTGlzdChpKSxJblN0cihhcnlGaWxlTGlzdChpKSwiLiIpLTEpKQ0KCQkJCUlmIEluU3RyKGFyeUZpbGVMaXN0KGkpLCIuIik9MCBUaGVuDQoJCQkJCWFyeUZpbGVOYW1lVGVtcGxhdGVJbmNsdWRlX1ZhcmlhYmxlKGkpPSJURU1QTEFURV9JTkNMVURFXyIgJiBVQ2FzZShhcnlGaWxlTGlzdChpKSkNCgkJCQlFbmQgSWYNCg0KCQkJCXMoaSk9YXJ5RmlsZU5hbWVUZW1wbGF0ZUluY2x1ZGVfVmFyaWFibGUoaSkNCg0KCQkJCXN0ckNvbnRlbnQ9IiINCgkJCQlzdHJDb250ZW50PUxvYWRGcm9tRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vyc1wiICYgYXJ5RmlsZU5hbWVUZW1wbGF0ZUluY2x1ZGUoaSksInV0Zi04IikNCgkJCQlzdHJDb250ZW50PVJlcGxhY2Uoc3RyQ29udGVudCwiPCImIiU9WkNfQkxPR19IT1NUJSImIj4iLCI8I1pDX0JMT0dfSE9TVCM+IikNCg0KCQkJCWFyeUZpbGVOYW1lVGVtcGxhdGVJbmNsdWRlX0NvbnRlbnQoaSk9c3RyQ29udGVudA0KDQoJCQkJYXJ5VGVtcGxhdGVUYWdzTmFtZShpKT1zKGkpDQoJCQkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSk9YXJ5RmlsZU5hbWVUZW1wbGF0ZUluY2x1ZGVfQ29udGVudChpKQ0KCQkJTmV4dA0KDQoJCUVsc2UNCgkJCWU9MA0KCQlFbmQgSWYNCg0KCUVuZCBJZg0KDQoNCgkn6K+75Y+WSW5jbHVkZeebruW9leS4i+eahOaJgOacieaWh+S7tuW5tuWGmeWFpUNhY2hlDQoJJ0RpbSBhcnlGaWxlTGlzdA0KCURpbSBhcnlGaWxlTmFtZUluY2x1ZGUoKQ0KCURpbSBhcnlGaWxlTmFtZUluY2x1ZGVfVmFyaWFibGUoKQ0KCURpbSBhcnlGaWxlTmFtZUluY2x1ZGVfQ29udGVudCgpDQoNCglhcnlGaWxlTGlzdD1Mb2FkSW5jbHVkZUZpbGVzT25seVR5cGUoInpiX3VzZXJzXElOQ0xVREUiKQ0KDQoJSWYgSXNBcnJheShhcnlGaWxlTGlzdCkgVGhlbg0KDQoJCWE9VUJvdW5kKGFyeUZpbGVMaXN0KQ0KCQkNCgkJSWYgYT4wIFRoZW4NCg0KCQkJUmVEaW0gYXJ5RmlsZU5hbWVJbmNsdWRlKGEpDQoJCQlSZURpbSBhcnlGaWxlTmFtZUluY2x1ZGVfVmFyaWFibGUoYSkNCgkJCVJlRGltIGFyeUZpbGVOYW1lSW5jbHVkZV9Db250ZW50KGEpDQoJCQlSZURpbSBzKGEpDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGUrYSkNCgkJCVJlRGltIFByZXNlcnZlIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGUrYSkNCg0KCQkJRm9yIGk9MSB0byBhDQoNCgkJCQlhcnlGaWxlTmFtZUluY2x1ZGUoaSk9IklOQ0xVREUvIiAmIGFyeUZpbGVMaXN0KGkpDQoJCQkJYXJ5RmlsZU5hbWVJbmNsdWRlX1ZhcmlhYmxlKGkpPSJDQUNIRV9JTkNMVURFXyIgJiBVQ2FzZShMZWZ0KGFyeUZpbGVMaXN0KGkpLEluU3RyKGFyeUZpbGVMaXN0KGkpLCIuIiktMSkpDQoJCQkJSWYgSW5TdHIoYXJ5RmlsZUxpc3QoaSksIi4iKT0wIFRoZW4NCgkJCQkJYXJ5RmlsZU5hbWVJbmNsdWRlX1ZhcmlhYmxlKGkpPSJDQUNIRV9JTkNMVURFXyIgJiBVQ2FzZShhcnlGaWxlTGlzdChpKSkNCgkJCQlFbmQgSWYNCg0KCQkJCXMoaSk9YXJ5RmlsZU5hbWVJbmNsdWRlX1ZhcmlhYmxlKGkpDQoNCgkJCQlzdHJDb250ZW50PSIiDQoJCQkJc3RyQ29udGVudD1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcIiAmIGFyeUZpbGVOYW1lSW5jbHVkZShpKSwidXRmLTgiKQ0KCQkJCXN0ckNvbnRlbnQ9UmVwbGFjZShzdHJDb250ZW50LCI8IiYiJT1aQ19CTE9HX0hPU1QlIiYiPiIsIjwjWkNfQkxPR19IT1NUIz4iKQ0KCQkJCWFyeUZpbGVOYW1lSW5jbHVkZV9Db250ZW50KGkpPXN0ckNvbnRlbnQNCg0KCQkJCWFyeVRlbXBsYXRlVGFnc05hbWUoZStpKT1zKGkpDQoJCQkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoZStpKT1hcnlGaWxlTmFtZUluY2x1ZGVfQ29udGVudChpKQ0KDQoJCQlOZXh0DQoNCg0KCQkJYTI9YQ0KCQkJUmVEaW0gUHJlc2VydmUgYXJ5VGVtcGxhdGVUYWdzTmFtZShlK2ErYTIpDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShlK2ErYTIpDQoNCgkJCUZvciBpPTEgdG8gYQ0KDQoJCQkJYXJ5VGVtcGxhdGVUYWdzTmFtZShlK2krYSk9YXJ5RmlsZU5hbWVJbmNsdWRlX1ZhcmlhYmxlKGkpICYgIl9KUyINCg0KCQkJCURpbSBtb2RuYW1lDQoJCQkJbW9kbmFtZT1MQ2FzZShSZXBsYWNlKGFyeUZpbGVOYW1lSW5jbHVkZV9WYXJpYWJsZShpKSwiQ0FDSEVfSU5DTFVERV8iLCIiKSkNCg0KCQkJCURpbSBmdW5jdGlvbnN0eXBlDQoNCgkJCQlTZXQgZnVuY3Rpb25zdHlwZT1OZXcgVE1ldGENCgkJCQlmdW5jdGlvbnN0eXBlLkxvYWRTdHJpbmc9TG9hZEZyb21GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzXGNhY2hlXGZ1bmN0aW9uc3R5cGUuYXNwIiwidXRmLTgiKQ0KCQkJCQ0KCQkJCQ0KCQkJCUlmIGZ1bmN0aW9uc3R5cGUuR2V0VmFsdWUobW9kbmFtZSk9ImRpdiIgVGhlbg0KCQkJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShlK2krYSk9IjxkaXYgaWQ9IiJtb2RfIittb2RuYW1lKyIiIiBzdHlsZT0iImRpc3BsYXk6bm9uZTsiIj48c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5Mb2FkRnVuY3Rpb24oJyImbW9kbmFtZSYiJyk7PC9zY3JpcHQ+PC9kaXY+Ig0KCQkJCUVsc2UNCgkJCQkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoZStpK2EpPSI8bGkgaWQ9IiJtb2RfIittb2RuYW1lKyIiIiBzdHlsZT0iImRpc3BsYXk6bm9uZTsiIj48c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5Mb2FkRnVuY3Rpb24oJyImbW9kbmFtZSYiJyk7PC9zY3JpcHQ+PC9saT4iDQoJCQkJRW5kIElmDQoNCgkJCU5leHQNCg0KCQkJYTM9YQ0KCQkJUmVEaW0gUHJlc2VydmUgYXJ5VGVtcGxhdGVUYWdzTmFtZShlK2ErYTIrYTMpDQoJCQlSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShlK2ErYTIrYTMpDQoNCgkJCUZvciBpPTEgdG8gYQ0KCQkJCWFyeVRlbXBsYXRlVGFnc05hbWUoZStpK2ErYTIpPWFyeUZpbGVOYW1lSW5jbHVkZV9WYXJpYWJsZShpKSAmICJfSFRNTCINCgkJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShlK2krYSthMik9YXJ5RmlsZU5hbWVJbmNsdWRlX0NvbnRlbnQoaSkNCgkJCU5leHQNCg0KCQlFbHNlDQoJCQlhPTANCgkJRW5kIElmDQoNCglFbmQgSWYNCg0KDQoJUmVEaW0gUHJlc2VydmUgYXJ5VGVtcGxhdGVUYWdzTmFtZShhK2EyK2EzK2UrZCkNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShhK2EyK2EzK2UrZCkNCglGb3Igaj0xIHRvIGQNCgkJaT1SaWdodCgiMDAwIiAmIENTdHIoaiksMykNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZShhK2EyK2EzK2Uraik9IlpDX01TRyIgJiBpDQoJCUNhbGwgRXhlY3V0ZSgiYXJ5VGVtcGxhdGVUYWdzVmFsdWUoYSthMithMytlK2opPVpDX01TRyIgJiBpKQ0KCU5leHQNCg0KDQoJUmVEaW0gdChiKQ0KCXQoMSk9IlpDX0JMT0dfVkVSU0lPTiINCgl0KDIpPSJaQ19CTE9HX0xBTkdVQUdFIg0KCXQoMyk9IlpDX0JMT0dfVElUTEUiDQoJdCg0KT0iWkNfQkxPR19TVUJUSVRMRSINCgl0KDUpPSJaQ19CTE9HX05BTUUiDQoJdCg2KT0iWkNfQkxPR19TVUJfTkFNRSINCgl0KDcpPSJaQ19CTE9HX1RIRU1FIg0KCXQoOCk9IlpDX0JMT0dfQ1NTIg0KCXQoOSk9IlpDX0JMT0dfQ09QWVJJR0hUIg0KCXQoMTApPSJaQ19CTE9HX01BU1RFUiINCgl0KDExKT0iWkNfQ09OVEVOVF9NQVgiDQoJdCgxMik9IlpDX0VNT1RJQ09OU19GSUxFTkFNRSINCgl0KDEzKT0iWkNfRU1PVElDT05TX0ZJTEVTSVpFIg0KCXQoMTQpPSJaQ19FTU9USUNPTlNfRklMRVRZUEUiDQoJdCgxNSk9IlpDX0dVRVNUQk9PS19DT05URU5UIg0KCXQoMTYpPSJaQ19CTE9HX0NMU0lEIg0KCXQoMTcpPSJaQ19USU1FX1pPTkUiDQoJdCgxOCk9IlpDX0hPU1RfVElNRV9aT05FIg0KCXQoMTkpPSJaQ19WRVJJRllDT0RFX1dJRFRIIg0KCXQoMjApPSJaQ19WRVJJRllDT0RFX0hFSUdIVCINCgl0KDIxKT0iWkNfQkxPR19IT1NUIg0KCXQoMjIpPSJaQ19CTE9HX1BST0RVQ1QiDQoJdCgyMyk9IlpDX0JMT0dfUFJPRFVDVF9GVUxMIg0KCXQoMjQpPSJaQ19CTE9HX1BST0RVQ1RfRlVMTEhUTUwiDQoNCgkNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGErYTIrYTMrZStkK2IpDQoJUmVEaW0gUHJlc2VydmUgYXJ5VGVtcGxhdGVUYWdzVmFsdWUoYSthMithMytlK2QrYikNCglGb3Igaj0xIHRvIGINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZShhK2EyK2EzK2UrZCtqKT10KGopDQoJCUNhbGwgRXhlY3V0ZSgiYXJ5VGVtcGxhdGVUYWdzVmFsdWUoYSthMithMytlK2Qraik9IiYgdChqKSkNCglOZXh0DQoNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGErYTIrYTMrZStkK2IrYykNCglSZURpbSBQcmVzZXJ2ZSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShhK2EyK2EzK2UrZCtiK2MpDQoJYXJ5VGVtcGxhdGVUYWdzTmFtZShhK2EyK2EzK2UrZCtiK2MpPSJCTE9HX0NSRUFURV9USU1FIg0KCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKGErYTIrYTMrZStkK2IrYyk9R2V0VGltZShOb3coKSkNCg0KCVJlRGltIFByZXNlcnZlIGFyeVRlbXBsYXRlVGFnc05hbWUoYSthMithMytlK2QrYitjK2YpDQoJUmVEaW0gUHJlc2VydmUgYXJ5VGVtcGxhdGVUYWdzVmFsdWUoYSthMithMytlK2QrYitjK2YpDQoNCglhcnlUZW1wbGF0ZVRhZ3NOYW1lKGErYTIrYTMrZStkK2IrYytmKT0iQ0FDSEVfSU5DTFVERV9DQUxFTkRBUl9OT1ciDQoJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoYSthMithMytlK2QrYitjK2YpPSIiDQoNCg0KDQoJQXBwbGljYXRpb24uTG9jaw0KCUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiVEVNUExBVEVNT0RJRklFRCIpPUNoZWNrVGVtcGxhdGVNb2RpZmllZCgpDQoJQXBwbGljYXRpb24uVW5Mb2NrDQoNCglBcHBsaWNhdGlvbi5Mb2NrDQoJQXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJTSUdOQUxfUkVMT0FEQ0FDSEUiKT1ib2xSZUxvYWRDYWNoZQ0KCUFwcGxpY2F0aW9uLlVuTG9jaw0KDQoNCglUZW1wbGF0ZVRhZ3NEaWMuUmVtb3ZlQWxsDQoJVGVtcGxhdGVEaWMuUmVtb3ZlQWxsDQoJVGVtcGxhdGVUYWdzRGljLmFkZCAiQmxvZ1RpdGxlIiwiIg0KDQoJamo9VUJvdW5kKGFyeVRlbXBsYXRlc05hbWUpDQoJRm9yIGlpPTEgdG8gamoNCgkJSWYgVGVtcGxhdGVEaWMuRXhpc3RzKGFyeVRlbXBsYXRlc05hbWUoaWkpKT1GYWxzZSBUaGVuIFRlbXBsYXRlRGljLkFkZCBhcnlUZW1wbGF0ZXNOYW1lKGlpKSwgYXJ5VGVtcGxhdGVzQ29udGVudChpaSkNCglOZXh0DQoNCglqaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCglGb3IgaWk9MSB0byBqag0KCQlJZiBUZW1wbGF0ZVRhZ3NEaWMuRXhpc3RzKGFyeVRlbXBsYXRlVGFnc05hbWUoaWkpKT1GYWxzZSBUaGVuIFRlbXBsYXRlVGFnc0RpYy5BZGQgYXJ5VGVtcGxhdGVUYWdzTmFtZShpaSksIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGlpKQ0KCU5leHQNCg0KCUNhbGwgTG9hZERlZmF1bHRUZW1wbGF0ZXMoKQ0KDQoNCglBcHBsaWNhdGlvbi5Mb2NrDQoJQXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJUZW1wbGF0ZVRhZ3NOYW1lIik9VGVtcGxhdGVUYWdzRGljLktleXMNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRlbXBsYXRlVGFnc1ZhbHVlIik9VGVtcGxhdGVUYWdzRGljLkl0ZW1zDQoNCg0KCUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiVGVtcGxhdGVzTmFtZSIpPVRlbXBsYXRlRGljLktleXMNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRlbXBsYXRlc0NvbnRlbnQiKT1UZW1wbGF0ZURpYy5JdGVtcw0KDQoJQXBwbGljYXRpb24uVW5Mb2NrDQoNCg0KCVNldCBUZW1wbGF0ZXNOYW1lPU5vdGhpbmcNCglTZXQgVGVtcGxhdGVzQ29udGVudD1Ob3RoaW5nDQoNCglTZXQgVGVtcGxhdGVUYWdzTmFtZT1Ob3RoaW5nDQoJU2V0IFRlbXBsYXRlVGFnc1ZhbHVlPU5vdGhpbmcNCg0KCUxvYWRHbG9iZUNhY2hlPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIENsZWFyIENhY2hlDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDbGVhckdsb2JlQ2FjaGUoKQ0KDQoJQXBwbGljYXRpb24uTG9jaw0KDQoNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRlbXBsYXRlVGFnc05hbWUiKT1FbXB0eQ0KCUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiVGVtcGxhdGVUYWdzVmFsdWUiKT1FbXB0eQ0KDQoJQXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJUZW1wbGF0ZXNOYW1lIik9RW1wdHkNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRlbXBsYXRlc0NvbnRlbnQiKT1FbXB0eQ0KDQoNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlNJR05BTF9SRUxPQURDQUNIRSIpPUVtcHR5DQoNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgIlRFTVBMQVRFTU9ESUZJRUQiKT1FbXB0eQ0KDQoJQXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJDQUNIRV9BUlRJQ0xFX1ZJRVdDT1VOVCIpPUVtcHR5DQoNCglBcHBsaWNhdGlvbi5VbkxvY2sNCg0KCUNsZWFyR2xvYmVDYWNoZT1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBQYXJzZSBUYWcg5bm25qC85byP5YyWDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBQYXJzZVRhZyhzdHJUYWcpDQoNCglEaW0gcw0KCURpbSB0DQoJRGltIGkNCglEaW0gVGFnDQoJRGltIGINCglEaW0gb2JqVGFnDQoNCglzdHJUYWc9VHJpbShzdHJUYWcpDQoJc3RyVGFnPVJlcGxhY2Uoc3RyVGFnLCLvvIwiLCIsIikNCglzdHJUYWc9VHJhbnNmZXJIVE1MKHN0clRhZywiW25vcm1hbHRhZ10iKQ0KDQoJSWYgc3RyVGFnPSIiIFRoZW4gUGFyc2VUYWc9IiI6RXhpdCBGdW5jdGlvbg0KDQoJdD1TcGxpdChzdHJUYWcsIiwiKQ0KDQoJQ2FsbCBHZXRUYWdzYnlUYWdOYW1lTGlzdChzdHJUYWcpDQoNCglGb3IgaT1MQm91bmQodCkgVG8gVUJvdW5kKHQpDQoJCXQoaSk9VHJpbSh0KGkpKQ0KCU5leHQNCg0KCUZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCg0KCQliPUZhbHNlDQoNCgkJRm9yIEVhY2ggVGFnIGluIFRhZ3MNCgkJCUlmIElzT2JqZWN0KFRhZykgVGhlbg0KCQkJCUlmIFVDYXNlKFRhZy5OYW1lKT1VQ2FzZSh0KGkpKSBUaGVuDQoJCQkJCWI9VHJ1ZQ0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCU5leHQNCg0KCQlJZiBiPUZhbHNlIFRoZW4NCgkJCVNldCBvYmpUYWc9TmV3IFRUYWcNCgkJCW9ialRhZy5JRD0wDQoJCQlvYmpUYWcuTmFtZT10KGkpDQoJCQlvYmpUYWcuT3JkZXI9MA0KCQkJb2JqVGFnLkludHJvPSIiDQoJCQlJZiBvYmpUYWcuUG9zdCBUaGVuDQoJCQkJUmVEaW0gUHJlc2VydmUgVGFncyhvYmpUYWcuSUQpDQoJCQkJU2V0IFRhZ3Mob2JqVGFnLklEKT1vYmpUYWcNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialRhZz1Ob3RoaW5nDQoJCUVuZCBJZg0KDQoJTmV4dA0KDQoJRm9yIGk9TEJvdW5kKHQpIFRvIFVCb3VuZCh0KQ0KCQlGb3IgRWFjaCBUYWcgaW4gVGFncw0KCQkJSWYgSXNPYmplY3QoVGFnKSBUaGVuDQoJCQkJSWYgVUNhc2UoVGFnLk5hbWUpPVVDYXNlKHQoaSkpIFRoZW4NCgkJCQkJdChpKT0ieyImVGFnLklEJiJ9Ig0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCU5leHQNCglOZXh0DQoNCglzPUpvaW4odCkNCglzPVJlcGxhY2UocywiICIsIiIpDQoNCglQYXJzZVRhZz1zDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDlvpfliLDlrp7pmYXkuIrnmoRCTE9H55qE55yf5a6e54mp55CG55uu5b2VDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRSZWFsbHlEaXJlY3RvcnkoKQ0KDQoJSWYgQ3VycmVudFJlYWxseURpcmVjdG9yeTw+IiIgVGhlbg0KCQlHZXRSZWFsbHlEaXJlY3Rvcnk9Q3VycmVudFJlYWxseURpcmVjdG9yeQ0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoNCglJZiBOb3QgSXNPYmplY3QoUHVibGljT2JqRlNPKSBUaGVuIFNldCBQdWJsaWNPYmpGU089U2VydmVyLkNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QiKQ0KDQoJRGltIHAJDQoJcD1TZXJ2ZXIuTWFwUGF0aCgiLiIpICYgIlwiDQoNCglJZiBQdWJsaWNPYmpGU08uRm9sZGVyRXhpc3RzKHAgJiAiWkJfU1lTVEVNXCIpIFRoZW4NCgkJcD1wDQoJRWxzZUlmIFB1YmxpY09iakZTTy5Gb2xkZXJFeGlzdHMocCAmICIuLlxaQl9TWVNURU1cIikgVGhlbg0KCQlwPXAgJiAiLi5cIg0KCUVsc2VJZiBQdWJsaWNPYmpGU08uRm9sZGVyRXhpc3RzKHAgJiAiLi5cLi5cWkJfU1lTVEVNXCIpIFRoZW4NCgkJcD1wICYgIi4uXC4uXCINCglFbHNlSWYgUHVibGljT2JqRlNPLkZvbGRlckV4aXN0cyhwICYgIi4uXC4uXC4uXFpCX1NZU1RFTVwiKSBUaGVuDQoJCXA9cCAmICIuLlwuLlwuLlwiDQoJRWxzZUlmIFB1YmxpY09iakZTTy5Gb2xkZXJFeGlzdHMocCAmICIuLlwuLlwuLlwuLlxaQl9TWVNURU1cIikgVGhlbg0KCQlwPXAgJiAiLi5cLi5cLi5cLi5cIg0KCUVsc2VJZiBQdWJsaWNPYmpGU08uRm9sZGVyRXhpc3RzKHAgJiAiLi5cLi5cLi5cLi5cLi5cWkJfU1lTVEVNXCIpIFRoZW4NCgkJcD1wICYgIi4uXC4uXC4uXC4uXC4uXCINCglFbHNlSWYgUHVibGljT2JqRlNPLkZvbGRlckV4aXN0cyhwICYgIi4uXC4uXC4uXC4uXC4uXC4uXFpCX1NZU1RFTVwiKSBUaGVuDQoJCXA9cCAmICIuLlwuLlwuLlwuLlwuLlwuLlwiDQoJRWxzZUlmIFB1YmxpY09iakZTTy5Gb2xkZXJFeGlzdHMocCAmICIuLlwuLlwuLlwuLlwuLlwuLlwuLlxaQl9TWVNURU1cIikgVGhlbg0KCQlwPXAgJiAiLi5cLi5cLi5cLi5cLi5cLi5cLi5cIg0KCUVuZCBJZg0KCVNldCBmc289Tm90aGluZw0KDQoJR2V0UmVhbGx5RGlyZWN0b3J5PVB1YmxpY09iakZTTy5HZXRGb2xkZXIocCkuUGF0aCAmICJcIg0KDQoJJ0Vyci5DbGVhcg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg6K6+572u5o+Q56S65qCH5b+XDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBTZXRCbG9nSGludChib2xPcGVyYXRlU3VjY2Vzcyxib2xSZWJ1aWxkSW5kZXgsYm9sUmVidWlsZEZpbGVzKQ0KDQoJQ2FsbCBTZXRCbG9nSGludFdpdGhDTFNJRChib2xPcGVyYXRlU3VjY2Vzcyxib2xSZWJ1aWxkSW5kZXgsYm9sUmVidWlsZEZpbGVzLFpDX0JMT0dfQ0xTSUQpDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDorr7nva7mj5DnpLroh6rlrprkuYnmoIflv5cNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNldEJsb2dIaW50X0N1c3RvbShzdHJJbmZvKQ0KDQoJQXBwbGljYXRpb24uTG9jaw0KDQoJQXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmIEJsb2dVc2VyLklEICYgIlNJR05BTF9PUEVSQVRFSU5GTyIpPUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiBCbG9nVXNlci5JRCAmICJTSUdOQUxfT1BFUkFURUlORk8iKSAmIHZiQ3JsZiAmICBzdHJJbmZvDQoNCglBcHBsaWNhdGlvbi5VbkxvY2sNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOiuvue9ruaPkOekuuagh+W/l3dpdGhDTFNJRA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2V0QmxvZ0hpbnRXaXRoQ0xTSUQoYm9sT3BlcmF0ZVN1Y2Nlc3MsYm9sUmVidWlsZEluZGV4LGJvbFJlYnVpbGRGaWxlcyxuZXdDTFNJRCkNCg0KCUFwcGxpY2F0aW9uLkxvY2sNCg0KCUFwcGxpY2F0aW9uKG5ld0NMU0lEICAmIEJsb2dVc2VyLklEICYgIlNJR05BTF9PUEVSQVRFU1VDQ0VTUyIpPWJvbE9wZXJhdGVTdWNjZXNzDQoNCglJZiBJc0VtcHR5KGJvbFJlYnVpbGRJbmRleCk9RmFsc2UgVGhlbg0KCQlBcHBsaWNhdGlvbihuZXdDTFNJRCAmICJTSUdOQUxfUkVCVUlMRElOREVYIik9Ym9sUmVidWlsZEluZGV4DQoJRW5kIElmDQoNCglJZiBJc0VtcHR5KGJvbFJlYnVpbGRGaWxlcyk9RmFsc2UgVGhlbg0KCQlBcHBsaWNhdGlvbihuZXdDTFNJRCAmICJTSUdOQUxfUkVCVUlMREZJTEVTIik9Ym9sUmVidWlsZEZpbGVzDQoJRW5kIElmDQoNCglBcHBsaWNhdGlvbi5VbkxvY2sNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOi+k+WHuuaPkOekug0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0QmxvZ0hpbnQoKQ0KDQoJRGltIGJvbE9wZXJhdGVTdWNjZXNzLGJvbFJlYnVpbGRJbmRleCxib2xSZWJ1aWxkRmlsZXMsc3RyT3BlcmF0ZUluZm8NCg0KCUFwcGxpY2F0aW9uLkxvY2sNCglib2xPcGVyYXRlU3VjY2Vzcz1BcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgQmxvZ1VzZXIuSUQgJiAiU0lHTkFMX09QRVJBVEVTVUNDRVNTIikNCglib2xSZWJ1aWxkSW5kZXg9QXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJTSUdOQUxfUkVCVUlMRElOREVYIikNCglib2xSZWJ1aWxkRmlsZXM9QXBwbGljYXRpb24oWkNfQkxPR19DTFNJRCAmICJTSUdOQUxfUkVCVUlMREZJTEVTIikNCglzdHJPcGVyYXRlSW5mbz1BcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgQmxvZ1VzZXIuSUQgJiAiU0lHTkFMX09QRVJBVEVJTkZPIikNCglBcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICYgQmxvZ1VzZXIuSUQgJiAiU0lHTkFMX09QRVJBVEVJTkZPIik9RW1wdHkNCglBcHBsaWNhdGlvbi5VbkxvY2sNCg0KDQoJSWYgSXNFbXB0eShib2xPcGVyYXRlU3VjY2Vzcyk9RmFsc2UgVGhlbg0KDQoJCUlmIGJvbE9wZXJhdGVTdWNjZXNzPVRydWUgVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9J2hpbnQnPjxwIGNsYXNzPSdoaW50IGhpbnRfZ3JlZW4nPjxmb250IGNvbG9yPSdncmVlbic+IiAmIFpDX01TRzI2NiAmICI8L2ZvbnQ+PC9wPjwvZGl2PiINCgkJRW5kIElmDQoNCgkJSWYgYm9sT3BlcmF0ZVN1Y2Nlc3M9RmFsc2UgVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9J2hpbnQnPjxwIGNsYXNzPSdoaW50IGhpbnRfcmVkJz48Zm9udCBjb2xvcj0ncmVkJz4iICYgWkNfTVNHMjY3ICYgIjwvZm9udD48L3A+PC9kaXY+Ig0KCQlFbmQgSWYNCg0KCQlBcHBsaWNhdGlvbi5Mb2NrDQoJCUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiBCbG9nVXNlci5JRCAmICJTSUdOQUxfT1BFUkFURVNVQ0NFU1MiKT1FbXB0eQ0KCQlBcHBsaWNhdGlvbi5VbkxvY2sNCg0KCUVuZCBJZg0KDQoJSWYgSXNFbXB0eShzdHJPcGVyYXRlSW5mbyk9RmFsc2UgVGhlbg0KDQoJCURpbSBzLHQNCgkJdD1TcGxpdChzdHJPcGVyYXRlSW5mbyx2YkNybGYpDQoNCgkJRm9yIEVhY2ggcyBJbiB0DQoJCQlJZiBzPD4iIiBUaGVuDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0naGludCc+PHAgY2xhc3M9J2hpbnQgaGludF90ZWFsJz48Zm9udCBjb2xvcj0nb3JhbmdlcmVkJz4iICYgcyAmICI8L2ZvbnQ+PC9wPjwvZGl2PiINCgkJCUVuZCBJZg0KCQlOZXh0DQoNCglFbmQgSWYNCg0KDQoJSWYgSXNFbXB0eShib2xSZWJ1aWxkSW5kZXgpPUZhbHNlIFRoZW4NCg0KCQlJZiBib2xSZWJ1aWxkSW5kZXg9VHJ1ZSBUaGVuDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0naGludCc+PHAgY2xhc3M9J2hpbnQgaGludF9ibHVlJz48Zm9udCBjb2xvcj0nYmx1ZSc+IiAmIFpDX01TRzI2OCAmICI8L2ZvbnQ+PC9wPjwvZGl2PiINCgkJRW5kIElmDQoNCglFbmQgSWYNCg0KCUlmIElzRW1wdHkoYm9sUmVidWlsZEZpbGVzKT1GYWxzZSBUaGVuDQoNCgkJSWYgYm9sUmVidWlsZEZpbGVzPVRydWUgVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9J2hpbnQnPjxwIGNsYXNzPSdoaW50IGhpbnRfYmx1ZSc+PGZvbnQgY29sb3I9J2JsdWUnPiIgJiBSZXBsYWNlKFpDX01TRzI2OSwiJXUiLEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9QXNrRmlsZVJlQnVpbGQiKSAmICI8L2ZvbnQ+PC9wPjwvZGl2PiINCgkJRW5kIElmDQoNCglFbmQgSWYNCg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg6Kej5p6QIFJFR0VYIEZvciBQYXRoDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBQYXJzZUN1c3RvbURpcmVjdG9yeUZvclBhdGgoc3RyUmVnZXgsc3RyUG9zdCxzdHJDYXRlZ29yeSxzdHJVc2VyLHN0clllYXIsc3RyTW9udGgsc3RyRGF5LHN0cklELHN0ck5hbWUsc3RyQWxpYXMpDQoJRGltIHMNCglzPVBhcnNlQ3VzdG9tRGlyZWN0b3J5KHN0clJlZ2V4LHN0clBvc3Qsc3RyQ2F0ZWdvcnksc3RyVXNlcixzdHJZZWFyLHN0ck1vbnRoLHN0ckRheSxzdHJJRCxzdHJOYW1lLHN0ckFsaWFzKQ0KCXM9UmVwbGFjZShzLCJ7JWhvc3QlfSIsTGVmdChCbG9nUGF0aCxMZW4oQmxvZ1BhdGgpLTEpKQ0KCVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yUGF0aD1SZXBsYWNlKHMsIi8iLCJcIikNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDop6PmnpAgUkVHRVggRm9yIFVybA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUGFyc2VDdXN0b21EaXJlY3RvcnlGb3JVcmwoc3RyUmVnZXgsc3RyUG9zdCxzdHJDYXRlZ29yeSxzdHJVc2VyLHN0clllYXIsc3RyTW9udGgsc3RyRGF5LHN0cklELHN0ck5hbWUsc3RyQWxpYXMpDQoJRGltIHMNCglzPVBhcnNlQ3VzdG9tRGlyZWN0b3J5KHN0clJlZ2V4LHN0clBvc3Qsc3RyQ2F0ZWdvcnksc3RyVXNlcixzdHJZZWFyLHN0ck1vbnRoLHN0ckRheSxzdHJJRCxzdHJOYW1lLHN0ckFsaWFzKQ0KCXM9UmVwbGFjZShzLCJ7JWhvc3QlfSIsTGVmdChCbG9nSG9zdCxMZW4oQmxvZ0hvc3QpLTEpKQ0KCVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yVXJsPVJlcGxhY2UocywiXCIsIi8iKQ0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOino+aekFpDX0NVU1RPTV9ESVJFQ1RPUllfUkVHRVgNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFBhcnNlQ3VzdG9tRGlyZWN0b3J5KHN0clJlZ2V4LHN0clBvc3Qsc3RyQ2F0ZWdvcnksc3RyVXNlcixzdHJZZWFyLHN0ck1vbnRoLHN0ckRheSxzdHJJRCxzdHJOYW1lLHN0ckFsaWFzKQ0KDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCURpbSBzLGQNCglzPXN0clJlZ2V4DQoNCglkPXN0clllYXINCglJZiBzdHJNb250aDw+IiIgVGhlbg0KCQlkPWQgJiAiLSIgJiBSaWdodCgiMCIgJiBzdHJNb250aCwyKQ0KCUVuZCBJZg0KCUlmIHN0ckRheTw+IiIgVGhlbg0KCQlkPWQgJiAiLSIgJiBSaWdodCgiMCIgJiBzdHJEYXksMikNCglFbmQgSWYNCg0KCXM9UmVwbGFjZShzLCJ7JXBvc3QlfSIsc3RyUG9zdCkNCglzPVJlcGxhY2UocywieyVjYXRlZ29yeSV9IixzdHJDYXRlZ29yeSkNCglzPVJlcGxhY2UocywieyVhdXRob3IlfSIsc3RyVXNlcikNCglzPVJlcGxhY2UocywieyV5ZWFyJX0iLHN0clllYXIpDQoJcz1SZXBsYWNlKHMsInslbW9udGglfSIsUmlnaHQoIjAiICYgc3RyTW9udGgsMikpDQoJcz1SZXBsYWNlKHMsInslZGF5JX0iLFJpZ2h0KCIwIiAmIHN0ckRheSwyKSkNCglzPVJlcGxhY2UocywieyVpZCV9IixzdHJJRCkNCglzPVJlcGxhY2UocywieyVhbGlhcyV9IixzdHJBbGlhcykNCglzPVJlcGxhY2UocywieyVuYW1lJX0iLHN0ck5hbWUpDQoJcz1SZXBsYWNlKHMsInslZGF0ZSV9IixkKQ0KDQoJUGFyc2VDdXN0b21EaXJlY3Rvcnk9cw0KDQoJRXJyLkNsZWFyDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmjInnhadDdXN0b21EaXJlY3RvcnnmjIfnpLrliJvlu7rnm7jlupTnmoTnm67lvZUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNClN1YiBDcmVhdERpcmVjdG9yeUJ5Q3VzdG9tRGlyZWN0b3J5V2l0aEZ1bGxCbG9nUGF0aChCeVZhbCBzdHJDdXN0b21EaXJlY3RvcnkpDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkNCglEaW0gcw0KCURpbSB0DQoJRGltIGkNCglEaW0gag0KDQoJcz1CbG9nUGF0aA0KDQoJc3RyQ3VzdG9tRGlyZWN0b3J5PVJlcGxhY2Uoc3RyQ3VzdG9tRGlyZWN0b3J5LCIvIiwiXCIpDQoNCglzdHJDdXN0b21EaXJlY3Rvcnk9UmlnaHQoc3RyQ3VzdG9tRGlyZWN0b3J5LExlbihzdHJDdXN0b21EaXJlY3RvcnkpLUxlbihCbG9nUGF0aCkpDQoNCgl0PVNwbGl0KHN0ckN1c3RvbURpcmVjdG9yeSwiXCIpDQoNCglGb3IgaT1MQm91bmQodCkgVG8gVUJvdW5kKHQpLTENCgkJSWYgKElzRW1wdHkodChpKSk9RmFsc2UpIEFuZCAodChpKTw+IiIpIFRoZW4NCgkJCXM9cyAmIHQoaSkgJiAiXCINCgkJCUlmIChQdWJsaWNPYmpGU08uRm9sZGVyRXhpc3RzKHMpPUZhbHNlKSBUaGVuDQoJCQkJQ2FsbCBQdWJsaWNPYmpGU08uQ3JlYXRlRm9sZGVyKHMpDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJTmV4dA0KDQoNCglFcnIuQ2xlYXINCg0KRW5kIFN1Yg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5oyJ54WnQ3VzdG9tRGlyZWN0b3J55oyH56S65Yib5bu655u45bqU55qE55uu5b2VDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpTdWIgQ3JlYXREaXJlY3RvcnlCeUN1c3RvbURpcmVjdG9yeShCeVZhbCBzdHJDdXN0b21EaXJlY3RvcnkpDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkNCglEaW0gcw0KCURpbSB0DQoJRGltIGkNCglEaW0gag0KDQoJcz1CbG9nUGF0aA0KDQoJc3RyQ3VzdG9tRGlyZWN0b3J5PVJlcGxhY2Uoc3RyQ3VzdG9tRGlyZWN0b3J5LCIvIiwiXCIpDQoNCgl0PVNwbGl0KHN0ckN1c3RvbURpcmVjdG9yeSwiXCIpDQoNCglqPTANCglGb3IgaT1MQm91bmQodCkgVG8gVUJvdW5kKHQpDQoJCUlmIChJc0VtcHR5KHQoaSkpPUZhbHNlKSBBbmQgKHQoaSk8PiIiKSBUaGVuDQoJCQlzPXMgJiB0KGkpICYgIlwiDQoJCQlJZiAoUHVibGljT2JqRlNPLkZvbGRlckV4aXN0cyhzKT1GYWxzZSkgVGhlbg0KCQkJCUNhbGwgUHVibGljT2JqRlNPLkNyZWF0ZUZvbGRlcihzKQ0KCQkJRW5kIElmDQoJCQlqPWorMQ0KCQlFbmQgSWYNCglOZXh0DQoNCgkNCg0KCUVyci5DbGVhcg0KDQpFbmQgU3ViDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICDnlJ/miJDlt6bkvqflr7zoiKrmoI8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkRpbSBBZG1pbkxlZnRNZW51Q291bnQNCkFkbWluTGVmdE1lbnVDb3VudD0wDQpGdW5jdGlvbiBNYWtlTGVmdE1lbnUocmVxdWlyZUxldmVsLHN0ck5hbWUsc3RyVXJsLHN0ckxpSWQsc3RyQUlkLHN0ckltZ1VybCkNCg0KCUlmIEJsb2dVc2VyLkxldmVsPnJlcXVpcmVMZXZlbCBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCUFkbWluTGVmdE1lbnVDb3VudD1BZG1pbkxlZnRNZW51Q291bnQrMQ0KCWRpbSB0bXANCglJZiBUcmltKHN0ckltZ1VybCk8PiIiIFRoZW4NCgkJdG1wPSI8bGkgaWQ9IiIiJnN0ckxpSWQmIiIiPjxhIGlkPSIiIiZzdHJBSWQmIiIiIGhyZWY9IiIiJnN0clVybCYiIiI+PHNwYW4gc3R5bGU9IiJiYWNrZ3JvdW5kLWltYWdlOnVybCgnIiZzdHJJbWdVcmwmIicpIiI+IiZzdHJOYW1lJiI8L3NwYW4+PC9hPjwvbGk+Ig0KCUVsc2UNCgkJdG1wPSI8bGkgaWQ9IiIiJnN0ckxpSWQmIiIiPjxhIGlkPSIiIiZzdHJBSWQmIiIiIGhyZWY9IiIiJnN0clVybCYiIiI+PHNwYW4+IiZzdHJOYW1lJiI8L3NwYW4+PC9hPjwvbGk+Ig0KCUVuZCBJZg0KCU1ha2VMZWZ0TWVudT10bXANCgkNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAg55Sf5oiQ5aS06YOo6I+c5Y2VDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpEaW0gQWRtaW5Ub3BNZW51Q291bnQNCkFkbWluVG9wTWVudUNvdW50PTANCkZ1bmN0aW9uIE1ha2VUb3BNZW51KHJlcXVpcmVMZXZlbCxzdHJOYW1lLHN0clVybCxzdHJMaUlkLHN0clRhcmdldCkNCg0KCUlmIEJsb2dVc2VyLkxldmVsPnJlcXVpcmVMZXZlbCBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCURpbSB0bXANCglJZiBzdHJUYXJnZXQ9IiIgVGhlbiBzdHJUYXJnZXQ9Il9zZWxmIg0KCUFkbWluVG9wTWVudUNvdW50PUFkbWluVG9wTWVudUNvdW50KzENCglJZiBzdHJMaUlkPSIiIFRoZW4gc3RyTGlJZD0idG9wbWVudSImQWRtaW5Ub3BNZW51Q291bnQNCgl0bXA9IjxsaSBpZD0iIiImc3RyTGlJZCYiIiI+PGEgaHJlZj0iIiImc3RyVXJsJiIiIiB0YXJnZXQ9IiIiJnN0clRhcmdldCYiIiI+IiZzdHJOYW1lJiI8L2E+PC9saT4iDQoJTWFrZVRvcE1lbnU9dG1wDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJog5Yqg5YWl5LqM57qn6I+c5Y2V6aG5DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBNYWtlU3ViTWVudShzdHJOYW1lLHN0clVybCxzdHJUeXBlLGlzTmV3V2luZG93cykNCg0KCURpbSBzdHJTb3VyY2UNCg0KCXN0clNvdXJjZT1zdHJTb3VyY2UgJiAiPGEgIiAmICJocmVmPSIiIiAmIHN0clVybCAgJiAiIiIiDQoNCglJZiBpc05ld1dpbmRvd3M9VHJ1ZSBUaGVuIHN0clNvdXJjZT1zdHJTb3VyY2UgJiAiIHRhcmdldD0iIl9ibGFuayIiIg0KDQoJc3RyU291cmNlPXN0clNvdXJjZSAmICI+IiAmICI8c3BhbiBjbGFzcz0iIiIgJiBzdHJUeXBlICYgIiIiPiINCg0KDQoJc3RyU291cmNlPXN0clNvdXJjZSAmIHN0ck5hbWUNCg0KCXN0clNvdXJjZT1zdHJTb3VyY2UgJiAiPC9zcGFuPjwvYT4iDQoNCglNYWtlU3ViTWVudT1zdHJTb3VyY2UNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaIOazqOWGjOaPkuS7tuWHveaVsA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUmVnaXN0ZXJQbHVnaW4oc3RyUGx1Z2luTmFtZSxzdHJQbHVnaW5BY3RpdmVGdW5jdGlvbikNCg0KCURpbSBpDQoJaT1VQm91bmQoUGx1Z2luTmFtZSkNCg0KCVJlRGltIFByZXNlcnZlIFBsdWdpbk5hbWUoaSsxKQ0KCVJlRGltIFByZXNlcnZlIFBsdWdpbkFjdGl2ZUZ1bmN0aW9uKGkrMSkNCg0KCVBsdWdpbk5hbWUoaSk9c3RyUGx1Z2luTmFtZQ0KCVBsdWdpbkFjdGl2ZUZ1bmN0aW9uKGkpPXN0clBsdWdpbkFjdGl2ZUZ1bmN0aW9uDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miDmv4DmtLvmj5Lku7blh73mlbANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkRpbSBJc1J1bkFjdGl2ZVBsdWdpbg0KRnVuY3Rpb24gQWN0aXZlUGx1Z2luKCkNCg0KCUlmIElzUnVuQWN0aXZlUGx1Z2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJRGltIGkNCglGb3IgaT0wIFRvIFVCb3VuZChQbHVnaW5BY3RpdmVGdW5jdGlvbiktMQ0KDQoJCUNhbGwgRXhlY3V0ZShQbHVnaW5BY3RpdmVGdW5jdGlvbihpKSkNCg0KCU5leHQNCg0KCUVyci5DbGVhcg0KDQoJSXNSdW5BY3RpdmVQbHVnaW49VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJog5a6J6KOF5o+S5Lu25Ye95pWw77yM5Y+q6L+Q6KGM5LiA5qyhDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBJbnN0YWxsUGx1Z2luKHN0clBsdWdpbk5hbWUpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCglDYWxsIEV4ZWN1dGUoIkNhbGwgSW5zdGFsbFBsdWdpbl8iICYgc3RyUGx1Z2luTmFtZSAmICIoKSIpDQoJRXJyLkNsZWFyDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJog5Yig6Zmk5o+S5Lu25Ye95pWw77yM5Y+q6L+Q6KGM5LiA5qyhDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBVbmluc3RhbGxQbHVnaW4oc3RyUGx1Z2luTmFtZSkNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KCUNhbGwgRXhlY3V0ZSgiQ2FsbCBVbmluc3RhbGxQbHVnaW5fIiAmIHN0clBsdWdpbk5hbWUgJiAiKCkiKQ0KCUVyci5DbGVhcg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaIOajgOa1i+aPkuS7tuaYr+WQpuW3sua/gOa0uw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQ2hlY2tQbHVnaW5TdGF0ZShzdHJQbHVnaW5OYW1lKQ0KDQoJQ2hlY2tQbHVnaW5TdGF0ZT1DaGVja1BsdWdpblN0YXRlQnlOZXdWYWx1ZShzdHJQbHVnaW5OYW1lLFpDX0JMT0dfVEhFTUUgJiAifCIgJiBaQ19VU0lOR19QTFVHSU5fTElTVCkNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miDmo4DmtYvmj5Lku7bmmK/lkKblt7Lmv4DmtLsgYnkgbmV3IHZhbHVlDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja1BsdWdpblN0YXRlQnlOZXdWYWx1ZShzdHJQbHVnaW5OYW1lLG5ld1pDX1VTSU5HX1BMVUdJTl9MSVNUKQ0KDQoJRGltIHMsaQ0KCXM9U3BsaXQobmV3WkNfVVNJTkdfUExVR0lOX0xJU1QsInwiKQ0KDQoJRm9yIGk9TEJvdW5kKHMpIFRvIFVCb3VuZChzKQ0KCQlJZiBVQ2FzZShzKGkpKT1VQ2FzZShzdHJQbHVnaW5OYW1lKSBUaGVuDQoJCQlDaGVja1BsdWdpblN0YXRlQnlOZXdWYWx1ZT1UcnVlDQoJCQlFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KCU5leHQNCg0KCUNoZWNrUGx1Z2luU3RhdGVCeU5ld1ZhbHVlPUZhbHNlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8muaMguS4ikFjdGlvbuaOpeWPow0KJyDlj4LmlbDvvJoncGx1Z25hbWU65o6l5Y+j5ZCN56ewDQoJCSdhY3Rpb25jb2RlOuimgeaJp+ihjOeahOivreWPpe+8jOimgei9rOS5ieS4ukV4ZWN1dGXlj6/miafooYzor63lj6UNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEFkZF9BY3Rpb25fUGx1Z2luKHBsdWduYW1lLGFjdGlvbmNvZGUpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCglhY3Rpb25jb2RlPVJlcGxhY2UoYWN0aW9uY29kZSwiRXhpdCBGdW5jdGlvbiIsImIiICYgcGx1Z25hbWUgJiAiPVRydWUiKQ0KCWFjdGlvbmNvZGU9UmVwbGFjZShhY3Rpb25jb2RlLCJFeGl0IFN1YiIsImIiICYgcGx1Z25hbWUgJiAiPVRydWUiKQ0KCWFjdGlvbmNvZGU9UmVwbGFjZShhY3Rpb25jb2RlLCJFeGl0IFByb3BlcnR5IiwiYiIgJiBwbHVnbmFtZSAmICI9VHJ1ZSIpDQoJQ2FsbCBFeGVjdXRlKCJSZURpbSBQcmVzZXJ2ZSAiICYgcGx1Z25hbWUgJiAiKFVCb3VuZCgiJiBwbHVnbmFtZSAmIikrMSkiKQ0KCUNhbGwgRXhlY3V0ZShwbHVnbmFtZSAmICIoVUJvdW5kKCImIHBsdWduYW1lICYiKSk9IiAmIHBsdWduYW1lICYgIihVQm91bmQoIiYgcGx1Z25hbWUgJiIpKSYiIiIgJiBSZXBsYWNlKGFjdGlvbmNvZGUsIiIiIiwiIiIiIiIpICYgIiIiIiAmICI6IikNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8muaMguS4ikZpbHRlcuaOpeWPow0KJyDlj4LmlbDvvJoncGx1Z25hbWU65o6l5Y+j5ZCN56ewDQoJCSdmdW5jdGlvbm5hbWU66KaB5oyC5o6l55qE5Ye95pWw5ZCNDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBBZGRfRmlsdGVyX1BsdWdpbihwbHVnbmFtZSxmdW5jdGlvbm5hbWUpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCglDYWxsIEV4ZWN1dGUoInMiICYgcGx1Z25hbWUgJiAiPSIgJiAicyIgJiBwbHVnbmFtZSAmICImIiIiICYgZnVuY3Rpb25uYW1lICYgIiIiIiAmICImICIifCIiIikNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8muaMguS4ilJlc3BvbnNl5o6l5Y+jDQonIOWPguaVsO+8midwbHVnbmFtZTrmjqXlj6PlkI3np7ANCgkJJ3BhcmFtZXRlcjropoHlhpnlhaXnmoTlhoXlrrkNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEFkZF9SZXNwb25zZV9QbHVnaW4ocGx1Z25hbWUscGFyYW1ldGVyKQ0KCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoJQ2FsbCBFeGVjdXRlKHBsdWduYW1lICYgIj0iICYgcGx1Z25hbWUgJiAiJiIiIiAmIFJlcGxhY2UoUmVwbGFjZShSZXBsYWNlKFJlcGxhY2UocGFyYW1ldGVyLCIiIiIsIiIiIiIiKSx2YkNybGYsIiIiJnZiQ3JsZiYiIiIpLHZiTGYsIiIiJnZiTGYmIiIiKSx2YkNyLCIiIiZ2YkNyJiIiIikgJiAiIiIiKQ0KCUVyci5DbGVhcg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaR2V0U2V0dGluZ0Zvcm1OYW1lDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRTZXR0aW5nRm9ybU5hbWUocykNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KCURpbSB4DQoJQ2FsbCBFeGVjdXRlKCJ4PSIgJiBzKQ0KCUdldFNldHRpbmdGb3JtTmFtZT14DQoJRXJyLkNsZWFyDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJpHZXRTZXR0aW5nRm9ybU5hbWUgd2l0aCBEZWZhdWx0DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRTZXR0aW5nRm9ybU5hbWVXaXRoRGVmYXVsdChzLGQpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCglFcnIuQ2xlYXINCglEaW0geA0KCUNhbGwgRXhlY3V0ZSgieD0iICYgcykNCglHZXRTZXR0aW5nRm9ybU5hbWVXaXRoRGVmYXVsdD14DQoJSWYgRXJyLk51bWJlcjw+MCBUaGVuDQoJCUdldFNldHRpbmdGb3JtTmFtZVdpdGhEZWZhdWx0PWQNCglFbmQgSWYNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mkdldE5hbWVGb3JtVGhlbWUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldE5hbWVGb3JtVGhlbWUocykNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJR2V0TmFtZUZvcm1UaGVtZT1zDQoJRGltIG9ialhtbEZpbGUNCglTZXQgb2JqWG1sRmlsZT1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikNCglvYmpYbWxGaWxlLmFzeW5jID0gRmFsc2UNCglvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCW9ialhtbEZpbGUubG9hZChCbG9nUGF0aCAmICJ6Yl91c2Vyc1wiICYgInRoZW1lIiAmICJcIiAmIHMgJiAiXCIgJiAidGhlbWUueG1sIikNCglJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCUlmIG9ialhtbEZpbGUucGFyc2VFcnJvci5lcnJvckNvZGUgPD4gMCBUaGVuDQoJCUVsc2UNCgkJCUdldE5hbWVGb3JtVGhlbWU9b2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgibmFtZSIpLnRleHQNCgkJRW5kIElmDQoJRW5kIElmDQoNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBCbG9nIFJlQnVpbGQg5qC45b+DDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBNYWtlQmxvZ1JlQnVpbGRfQ29yZSgpDQoNCgknT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX01ha2VCbG9nUmVCdWlsZF9Db3JlX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQ29yZV9CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQ29yZV9CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX01ha2VCbG9nUmVCdWlsZF9Db3JlX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJQmxvZ1JlQnVpbGRfU3RhdGlzdGljcw0KDQoJQmxvZ1JlQnVpbGRfQXV0aG9ycw0KDQoJQmxvZ1JlQnVpbGRfQXJjaGl2ZXMNCg0KCUJsb2dSZUJ1aWxkX1ByZXZpb3VzDQoNCglCbG9nUmVCdWlsZF9Db21tZW50cw0KDQoJQmxvZ1JlQnVpbGRfQ2F0YWxvZ3MNCg0KCUJsb2dSZUJ1aWxkX0NhdGVnb3J5cw0KDQoJQmxvZ1JlQnVpbGRfQ2FsZW5kYXINCg0KCUJsb2dSZUJ1aWxkX1RhZ3MNCg0KCUJsb2dSZUJ1aWxkX0Z1bmN0aW9ucw0KDQoJQnVpbGRBbGxDYWNoZQ0KDQoJRXhwb3J0UlNTDQoNCglCbG9nUmVCdWlsZF9EZWZhdWx0DQoNCglEaW0gYm9sT3BlcmF0ZVN1Y2Nlc3MNCg0KCUFwcGxpY2F0aW9uLkxvY2sNCglib2xPcGVyYXRlU3VjY2Vzcz1BcHBsaWNhdGlvbihaQ19CTE9HX0NMU0lEICAmIEJsb2dVc2VyLklEICYgIlNJR05BTF9PUEVSQVRFU1VDQ0VTUyIpDQoJQXBwbGljYXRpb24uVW5Mb2NrDQoNCglDYWxsIFNldEJsb2dIaW50KGJvbE9wZXJhdGVTdWNjZXNzLEZhbHNlLEVtcHR5KQ0KDQoJTWFrZUJsb2dSZUJ1aWxkX0NvcmU9VHJ1ZQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfRW5kPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfRW5kIGluIEFjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfRW5kDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX01ha2VCbG9nUmVCdWlsZF9Db3JlX0VuZCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0NvcmVfRW5kKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQ29yZV9FbmQ9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCgknRXJyLkNsZWFyDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDlhajmlrDnmoTpg6jku73ntKLlvJXnqIvluo8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEJ1aWxkQWxsQ2FjaGUoKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fQnVpbGRBbGxDYWNoZV9CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0J1aWxkQWxsQ2FjaGVfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9CdWlsZEFsbENhY2hlX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0J1aWxkQWxsQ2FjaGVfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0J1aWxkQWxsQ2FjaGVfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0J1aWxkQWxsQ2FjaGVfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglCdWlsZEFsbENhY2hlPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBCbG9nUmVCdWlsZF9DYWxlbmRhcigpDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9DYWxlbmRhcl9CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhbGVuZGFyX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ2FsZW5kYXJfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ2FsZW5kYXJfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhbGVuZGFyX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9DYWxlbmRhcl9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KCURpbSBvYmpTdHJlYW0NCglEaW0gc3RyQ2FsZW5kYXINCglEaW0gaSxqDQoJRGltIG9ialJTDQoJRGltIGssbCxtLG4NCglDYWxsIEdldEZ1bmN0aW9uKCkNCglJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiY2FsZW5kYXIiKSkuSXNIaWRkZW49VHJ1ZSBUaGVuIA0KDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCgknQ2FsZW5kYXINCg0KCXN0ckNhbGVuZGFyPU1ha2VDYWxlbmRhcigiIikNCg0KCXN0ckNhbGVuZGFyPVRyYW5zZmVySFRNTChzdHJDYWxlbmRhciwiW25vLWFzcF0iKQ0KDQoNCgkNCglGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiY2FsZW5kYXIiKSkuQ29udGVudD1zdHJDYWxlbmRhcg0KCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJjYWxlbmRhciIpKS5Qb3N0KCkNCglCbG9nUmVCdWlsZF9DYWxlbmRhcj1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfQXJjaGl2ZXMoKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQXJjaGl2ZXNfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BcmNoaXZlc19CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0FyY2hpdmVzX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0FyY2hpdmVzX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BcmNoaXZlc19CZWdpbikNCgkJSWYgYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQXJjaGl2ZXNfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglEaW0gaQ0KCURpbSBqDQoJRGltIGwNCglEaW0gbg0KCURpbSBvYmpSUw0KCURpbSBvYmpTdHJlYW0NCglEaW0gcw0KDQoJRGltIEFydExpc3QNCg0KCUNhbGwgR2V0RnVuY3Rpb24oKQ0KCUlmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJhcmNoaXZlcyIpKS5Jc0hpZGRlbj1UcnVlIFRoZW4gDQoNCgkJRXhpdCBGdW5jdGlvbg0KCUVuZCBJZg0KCSdBcmNoaXZlcw0KCURpbSBzdHJBcmNoaXZlcw0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbbG9nX1Bvc3RUaW1lXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19MZXZlbF0+MSkgT1JERVIgQlkgW2xvZ19Qb3N0VGltZV0gREVTQyIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQlEaW0gZHRtWU0oKQ0KCQlpPTANCgkJaj0wDQoJCVJlRGltIFByZXNlcnZlIGR0bVlNKDApDQoJCURvIFdoaWxlIE5vdCBvYmpSUy5lb2YNCgkJCWo9VUJvdW5kKGR0bVlNKQ0KCQkJaT1ZZWFyKG9ialJTKCJsb2dfUG9zdFRpbWUiKSkgJiAiLSIgJiBNb250aChvYmpSUygibG9nX1Bvc3RUaW1lIikpDQoJCQlJZiBpPD5kdG1ZTShqKSBUaGVuDQoJCQkJUmVEaW0gUHJlc2VydmUgZHRtWU0oaisxKQ0KCQkJCWR0bVlNKGorMSk9aQ0KCQkJRW5kIElmDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQlMb29wDQoJRW5kIElmDQoJb2JqUlMuQ2xvc2UNCglTZXQgb2JqUlM9Tm90aGluZw0KDQoNCglqPUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJhcmNoaXZlcyIpKS5NYXhMaQ0KDQoNCklmIEJsb2dDb25maWcuUmVhZCgiWkNfQVJDSElWRVNfT0xEX0xJU1RUWVBFIik9IlRydWUiIFRoZW4NCglJZiBOb3QgSXNFbXB0eShkdG1ZTSkgVGhlbg0KCQlGb3IgaT0xIHRvIFVCb3VuZChkdG1ZTSkNCg0KCQkJbD1ZZWFyKGR0bVlNKGkpKQ0KCQkJbj1Nb250aChkdG1ZTShpKSkrMQ0KCQkJSUYgbj4xMiBUaGVuIGw9bCsxOm49MQ0KDQoJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgQ09VTlQoW2xvZ19JRF0pIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgKFtsb2dfVHlwZV09MCkgQW5kIChbbG9nX0xldmVsXT4xKSBBTkQgW2xvZ19Qb3N0VGltZV0gQkVUV0VFTiAiJiBaQ19TUUxfUE9VTkRfS0VZICYgWWVhcihkdG1ZTShpKSkgJiItIiYgTW9udGgoZHRtWU0oaSkpICYiLTEiJiBaQ19TUUxfUE9VTkRfS0VZICYiIEFORCAiJiBaQ19TUUxfUE9VTkRfS0VZICYgbCAmIi0iJiBuICYiLTEiICYgWkNfU1FMX1BPVU5EX0tFWSkNCg0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCXN0ckFyY2hpdmVzPXN0ckFyY2hpdmVzICYgIjxsaT48YSBocmVmPSIiIiYgVXJsYnlEYXRlQXV0byhZZWFyKGR0bVlNKGkpKSxNb250aChkdG1ZTShpKSksIiIpICYiIiI+IiAmIFllYXIoZHRtWU0oaSkpICYgIiAiICYgWlZBX01vbnRoKE1vbnRoKGR0bVlNKGkpKSkgJiAiPHNwYW4gY2xhc3M9IiJhcnRpY2xlLW51bXMiIj4gKCIgJiBvYmpSUygwKSAmICIpPC9zcGFuPiIgKyI8L2E+PC9saT4iDQoJCQkJSWYgaj4wIFRoZW4NCgkJCQkJSWYgaT1qIFRoZW4gRXhpdCBGb3INCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KDQoJCQlvYmpSUy5DbG9zZQ0KCQkJU2V0IG9ialJTPU5vdGhpbmcNCgkJTmV4dA0KCUVuZCBJZg0KRWxzZQ0KCXM9IjxsaT4iDQoJSWYgTm90IElzRW1wdHkoZHRtWU0pIFRoZW4NCgkJRm9yIGk9MSB0byBVQm91bmQoZHRtWU0pDQoNCgkJCWw9WWVhcihkdG1ZTShpKSkNCgkJCW49TW9udGgoZHRtWU0oaSkpKzENCgkJCUlGIG4+MTIgVGhlbiBsPWwrMTpuPTENCg0KCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIENPVU5UKFtsb2dfSURdKSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19MZXZlbF0+MSkgQU5EIFtsb2dfUG9zdFRpbWVdIEJFVFdFRU4gIiYgWkNfU1FMX1BPVU5EX0tFWSAmIFllYXIoZHRtWU0oaSkpICYiLSImIE1vbnRoKGR0bVlNKGkpKSAmIi0xIiYgWkNfU1FMX1BPVU5EX0tFWSAmIiBBTkQgIiYgWkNfU1FMX1BPVU5EX0tFWSAmIGwgJiItIiYgbiAmIi0xIiAmIFpDX1NRTF9QT1VORF9LRVkpDQoNCgkJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJCQlJZiBJblN0cihzLCI8IS0tIHllYXIgLS0+IiZSZXBsYWNlKFpDX01TRzIzMywiJXkiLFllYXIoZHRtWU0oaSkpKSYiPCEtLSB5ZWFyIC0tPiIpPTAgVGhlbiBzPXMgJiAiPC9saT48bGk+PCEtLSB5ZWFyIC0tPiImUmVwbGFjZShaQ19NU0cyMzMsIiV5IixZZWFyKGR0bVlNKGkpKSkmIjwhLS0geWVhciAtLT48YnIvPiINCgkJCQkNCgkJCQlzPXMgJiAiPGEgaHJlZj0iIiImIFVybGJ5RGF0ZUF1dG8oWWVhcihkdG1ZTShpKSksTW9udGgoZHRtWU0oaSkpLCIiKSAmIiIiPiIgJiAgWlZBX01vbnRoX0FiYnIoTW9udGgoZHRtWU0oaSkpKSAgJiAiPHNwYW4gY2xhc3M9IiJhcnRpY2xlLW51bXMiIj4oIiAmIG9ialJTKDApICYgIik8L3NwYW4+IiArIjwvYT4mbmJzcDsgIg0KCQkJCUlmIGo+MCBUaGVuDQoJCQkJCUlmIGk9aiBUaGVuIEV4aXQgRm9yDQoJCQkJRW5kIElmDQoJCQlFbmQgSWYNCg0KCQkJb2JqUlMuQ2xvc2UNCgkJCVNldCBvYmpSUz1Ob3RoaW5nDQoJCU5leHQNCglFbmQgSWYNCglzPXMgJiAiPC9saT4iDQoJcz1SZXBsYWNlKHMsIjxsaT48L2xpPiIsIiIpDQoJc3RyQXJjaGl2ZXM9UmVwbGFjZShzLCI8IS0tIHllYXIgLS0+IiwiIikNCkVuZCBJZg0KDQoJc3RyQXJjaGl2ZXM9VHJhbnNmZXJIVE1MKHN0ckFyY2hpdmVzLCJbbm8tYXNwXSIpDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImFyY2hpdmVzIikpLkNvbnRlbnQ9c3RyQXJjaGl2ZXMNCglGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiYXJjaGl2ZXMiKSkuUG9zdCgpDQoNCglCbG9nUmVCdWlsZF9BcmNoaXZlcz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfQ2F0YWxvZ3MoKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ2F0YWxvZ3NfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9DYXRhbG9nc19CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGFsb2dzX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGFsb2dzX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9DYXRhbG9nc19CZWdpbikNCgkJSWYgYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ2F0YWxvZ3NfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglJc1J1bkdldENhdGVnb3J5PUZhbHNlDQoJQ2FsbCBHZXRGdW5jdGlvbg0KCUlmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJjYXRhbG9nIikpLklzSGlkZGVuPVRydWUgVGhlbiANCg0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJQ2FsbCBHZXRDYXRlZ29yeSgpDQoJDQoJRGltIG9ialJTDQoJRGltIG9ialN0cmVhbQ0KDQoJRGltIEFydExpc3QNCg0KCSdDYXRhbG9ncw0KCURpbSBzdHJDYXRhbG9nLGJvbEhhc1N1YkNhdGUNCg0KCURpbSBhcnlDYXRlSW5PcmRlciANCglhcnlDYXRlSW5PcmRlcj1HZXRDYXRlZ29yeU9yZGVyKCkNCg0KDQoJQ2F0ZWdvcnlzKDApLkNvdW50PUNMbmcob2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgQ09VTlQoW2xvZ19JRF0pIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgW2xvZ19MZXZlbF0+MSBBTkQgW2xvZ19UeXBlXT0wIEFORCBbbG9nX0NhdGVJRF09MCIpKDApKQ0KCUlmIENhdGVnb3J5cygwKS5Db3VudD4wIFRoZW4NCgkJc3RyQ2F0YWxvZz1zdHJDYXRhbG9nICYgIjxsaSBjbGFzcz0iImxpLWNhdGUgY2F0ZS0iJiBDYXRlZ29yeXMoMCkuaWQgJiIiIj48YSBocmVmPSIiIiYgQ2F0ZWdvcnlzKDApLlVybCAmICIiIj4iK0NhdGVnb3J5cygwKS5OYW1lICsgIjxzcGFuIGNsYXNzPSIiYXJ0aWNsZS1udW1zIiI+ICgiICYgQ2F0ZWdvcnlzKDApLkNvdW50ICYgIik8L3NwYW4+IiArIjwvYT48L2xpPiINCglFbmQgSWYNCg0KCURpbSBpLGosYw0KCURpbSBzdHJQcmVjYXRhLHN0clN1YmNhdGUNCglGb3IgaT1MYm91bmQoYXJ5Q2F0ZUluT3JkZXIpKzEgVG8gVWJvdW5kKGFyeUNhdGVJbk9yZGVyKQ0KCQlzdHJQcmVjYXRhPSIiOnN0clN1YmNhdGU9IiINCgkJSWYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5QYXJlbnRJRD0wIFRoZW4NCgkJCWM9Q2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5Db3VudA0KDQoJCQlib2xIYXNTdWJDYXRlPUZhbHNlDQoJCQlGb3Igaj1MYm91bmQoYXJ5Q2F0ZUluT3JkZXIpKzEgVG8gVUJvdW5kKGFyeUNhdGVJbk9yZGVyKQ0KCQkJCUlmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuUGFyZW50SUQ9Q2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5JRCBUaGVuIGJvbEhhc1N1YkNhdGU9VHJ1ZQ0KCQkJTmV4dA0KCQkJJ0lmIGJvbEhhc1N1YkNhdGUgVGhlbiBzdHJTdWJjYXRlID0gIjx1bCBjbGFzcz0iInVsLXN1YmNhdGVzIiI+Ig0KCQkJRm9yIGo9TGJvdW5kKGFyeUNhdGVJbk9yZGVyKSsxIFRvIFVCb3VuZChhcnlDYXRlSW5PcmRlcikNCgkJCQlJZiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaikpLlBhcmVudElEPUNhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihpKSkuSUQgQW5kIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuQ291bnQ+MCBUaGVuDQoJCQkJCXN0clN1YmNhdGU9c3RyU3ViY2F0ZSAmICI8bGkgY2xhc3M9IiJsaS1zdWJjYXRlIGNhdGUtIiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGopKS5JRCAmIiIiPjxhIGhyZWY9IiIiJiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaikpLlVybCAmICIiIj4iK0NhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuTmFtZSArICI8c3BhbiBjbGFzcz0iImFydGljbGUtbnVtcyIiPiAoIiAmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuQ291bnQgJiAiKTwvc3Bhbj4iICsiPC9hPjwvbGk+Ig0KCQkJCQljPWMrQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGopKS5Db3VudA0KCQkJCUVuZCBJZg0KCQkJTmV4dA0KCQkJSWYgYm9sSGFzU3ViQ2F0ZSBBbmQgc3RyU3ViY2F0ZTw+IiIgVGhlbiBzdHJTdWJjYXRlPSI8dWwgY2xhc3M9IiJ1bC1zdWJjYXRlcyIiPiIgJiBzdHJTdWJjYXRlICYgIjwvdWw+Ig0KDQoJCQlJZiBjPjAgVGhlbiBzdHJQcmVjYXRhPSI8bGkgY2xhc3M9IiJsaS1jYXRlIGNhdGUtIiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5JRCAmIiIiPjxhIGhyZWY9IiIiJiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaSkpLlVybCAmICIiIj4iK0NhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihpKSkuTmFtZSArICI8c3BhbiBjbGFzcz0iImFydGljbGUtbnVtcyIiPiAoIiAmIGMgJiAiKTwvc3Bhbj4iICsiPC9hPiImIHN0clN1YmNhdGUgJiI8L2xpPiINCg0KCQkJc3RyQ2F0YWxvZz1zdHJDYXRhbG9nICYgc3RyUHJlY2F0YQ0KCQlFbmQgSWYNCg0KCU5leHQNCg0KCXN0ckNhdGFsb2c9VHJhbnNmZXJIVE1MKHN0ckNhdGFsb2csIltuby1hc3BdIikNCg0KDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNhdGFsb2ciKSkuQ29udGVudD1zdHJDYXRhbG9nDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNhdGFsb2ciKSkuUG9zdCgpDQoNCglCbG9nUmVCdWlsZF9DYXRhbG9ncz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfQ2F0ZWdvcnlzKCkNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGVnb3J5c19CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGVnb3J5c19CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGVnb3J5c19CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9DYXRlZ29yeXNfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NhdGVnb3J5c19CZWdpbikNCgkJSWYgYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ2F0ZWdvcnlzX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJQmxvZ1JlQnVpbGRfQ2F0ZWdvcnlzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBCbG9nUmVCdWlsZF9BdXRob3JzKCkNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0F1dGhvcnNfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BdXRob3JzX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQXV0aG9yc19CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BdXRob3JzX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BdXRob3JzX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9BdXRob3JzX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJQ2FsbCBHZXRVc2VyKCkNCglDYWxsIEdldEZ1bmN0aW9uKCkNCglJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiYXV0aG9ycyIpKS5Jc0hpZGRlbj1UcnVlIFRoZW4gDQoNCgkJRXhpdCBGdW5jdGlvbg0KCUVuZCBJZg0KCQ0KCURpbSBvYmpSUw0KCURpbSBvYmpTdHJlYW0NCg0KCSdBdXRob3JzDQoJRGltIHN0ckF1dGhvcg0KCURpbSBVc2VyDQoJRm9yIEVhY2ggVXNlciBpbiBVc2Vycw0KCQlJZiBJc09iamVjdChVc2VyKSBUaGVuJycnJycnDQoJCQlJZiBVc2VyLklEPjAgQW5kIFVzZXIuTGV2ZWw8NCBBbmQgVXNlci5Db3VudD4wIFRoZW4NCgkJCQlzdHJBdXRob3I9c3RyQXV0aG9yICYgIjxsaT48YSBocmVmPSIiIiYgVXNlci5VcmwgJiAiIiI+IitVc2VyLkZpcnN0TmFtZSArICI8c3BhbiBjbGFzcz0iImFydGljbGUtbnVtcyIiPiAoIiAmIFVzZXIuQ291bnQgJiAiKSIgKyI8L3NwYW4+PC9hPjwvbGk+Ig0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCg0KCXN0ckF1dGhvcj1UcmFuc2ZlckhUTUwoc3RyQXV0aG9yLCJbbm8tYXNwXSIpDQoNCgkNCglGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiYXV0aG9ycyIpKS5Db250ZW50PXN0ckF1dGhvcg0KCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJhdXRob3JzIikpLlBvc3QoKQ0KDQoJQmxvZ1JlQnVpbGRfQXV0aG9ycz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfVGFncygpDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9UYWdzX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfVGFnc19CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1RhZ3NfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfVGFnc19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfVGFnc19CZWdpbikNCgkJSWYgYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfVGFnc19CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KCUNhbGwgR2V0RnVuY3Rpb24oKQ0KCQ0KCUlmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJ0YWdzIikpLklzSGlkZGVuPVRydWUgVGhlbiANCg0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJDQoJRGltIG9ialJTDQoJRGltIG9ialN0cmVhbQ0KDQoJRGltIGksaixzLHQsaA0KCQ0KCWk9RnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInRhZ3MiKSkuTWF4TGkNCglJZiBpPTAgVGhlbiBpPTI1DQoJaj0wDQoJJ0F1dGhvcnMNCglEaW0gc3RyVGFnDQoNCglTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3RhZ19pZF0gRlJPTSBbYmxvZ19UYWddIE9SREVSIEJZIFt0YWdfQ291bnRdIERFU0MsW3RhZ19JRF0gQVNDIikNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCURvIFdoaWxlIE5vdCBvYmpSUy5lb2YNCgkJCXM9cyAmICJ7IiAmIG9ialJTKCJ0YWdfSUQiKSAmICJ9Ig0KCQkJdD10ICYgb2JqUlMoInRhZ19JRCIpICYgIiwiDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJaj1qKzENCgkJCUlmIGo+aSBUaGVuIEV4aXQgRG8NCgkJTG9vcA0KCUVuZCBJZg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUNhbGwgR2V0VGFnc2J5VGFnSURMaXN0KHMpDQoNCglTZXQgaD1DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KCXM9U3BsaXQodCwiLCIpDQoJRm9yIGk9MCBUbyBVQm91bmQocyktMQ0KCQlJZiBzKGkpPD4iIiBBbmQgVGFncyhzKGkpKS5Db3VudDw+MCBUaGVuDQoJCQloLmFkZCBzKGkpLFRhZ3MocyhpKSkNCgkJRW5kIElmDQoJTmV4dA0KDQoJRm9yIEVhY2ggcyBJbiBUYWdzDQoJCUlmIElzT2JqZWN0KHMpPVRydWUgVGhlbg0KCQkJSWYgaC5FeGlzdHMoQ1N0cihzLklEKSkgVGhlbg0KCQkJCXN0clRhZz1zdHJUYWcgJiAiPGxpIGNsYXNzPSIidGFnLW5hbWUgdGFnLW5hbWUtc2l6ZS0iJlRhZ0Nsb3VkKHMuQ291bnQpJiIiIj48YSBocmVmPSIiIiZzLlVybCYiIiI+IitzLk5hbWUgKyAiPHNwYW4gY2xhc3M9IiJ0YWctY291bnQiIj4gKCIgJiBzLkNvdW50ICYgIik8L3NwYW4+IiArIjwvYT48L2xpPiINCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoNCg0KCXN0clRhZz1UcmFuc2ZlckhUTUwoc3RyVGFnLCJbbm8tYXNwXSIpDQoNCg0KCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJ0YWdzIikpLkNvbnRlbnQ9c3RyVGFnDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInRhZ3MiKSkuUG9zdCgpDQoNCglCbG9nUmVCdWlsZF9UYWdzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBCbG9nUmVCdWlsZF9QcmV2aW91cygpDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9QcmV2aW91c19CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1ByZXZpb3VzX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfUHJldmlvdXNfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfUHJldmlvdXNfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1ByZXZpb3VzX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9QcmV2aW91c19CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KDQoJRGltIGksag0KCURpbSBvYmpSUw0KCURpbSBvYmpTdHJlYW0NCglEaW0gb2JqQXJ0aWNsZQ0KCUNhbGwgR2V0RnVuY3Rpb24oKQ0KCWo9RnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInByZXZpb3VzIikpLk1heExpDQoJDQoJSWYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInByZXZpb3VzIikpLklzSGlkZGVuPVRydWUgVGhlbiANCg0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJDQoJSWYgaj0wIFRoZW4gaj0xMA0KDQoJJ1ByZXZpb3VzDQoJRGltIHN0clByZXZpb3VzDQoJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFRPUCAiJmomIiBbbG9nX0lEXSxbbG9nX1RhZ10sW2xvZ19DYXRlSURdLFtsb2dfVGl0bGVdLFtsb2dfSW50cm9dLFtsb2dfQ29udGVudF0sW2xvZ19MZXZlbF0sW2xvZ19BdXRob3JJRF0sW2xvZ19Qb3N0VGltZV0sW2xvZ19Db21tTnVtc10sW2xvZ19WaWV3TnVtc10sW2xvZ19UcmFja0JhY2tOdW1zXSxbbG9nX1VybF0sW2xvZ19Jc3RvcF0sW2xvZ19UZW1wbGF0ZV0sW2xvZ19GdWxsVXJsXSxbbG9nX1R5cGVdLFtsb2dfTWV0YV0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSAoW2xvZ19UeXBlXT0wKSBBbmQgKFtsb2dfSURdPjApIEFORCAoW2xvZ19MZXZlbF0+MSkgT1JERVIgQlkgW2xvZ19Qb3N0VGltZV0gREVTQyIpDQoNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCUZvciBpPTEgdG8gag0KCQkJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoJCQlJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlBcnJheShBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSxvYmpSUygxMCksb2JqUlMoMTEpLG9ialJTKDEyKSxvYmpSUygxMyksb2JqUlMoMTQpLG9ialJTKDE1KSxvYmpSUygxNiksb2JqUlMoMTcpKSkgVGhlbg0KCQkJCXN0clByZXZpb3VzPXN0clByZXZpb3VzICYgIjxsaT48YSBocmVmPSIiIiYgb2JqQXJ0aWNsZS5IdG1sVXJsICYgIiIiIHRpdGxlPSIiIiYgb2JqQXJ0aWNsZS5IdG1sVGl0bGUgJiIiIj48c3BhbiBjbGFzcz0iImFydGljbGUtZGF0ZSIiPlsiJiBSaWdodCgiMCIgJiBNb250aChvYmpBcnRpY2xlLlBvc3RUaW1lKSwyKSAmICIvIiAmIFJpZ2h0KCIwIiAmIERheShvYmpBcnRpY2xlLlBvc3RUaW1lKSwyKSAmIl08L3NwYW4+IiAmIG9iakFydGljbGUuVGl0bGUgJiAiPC9hPjwvbGk+Ig0KCQkJRW5kIElmDQoJCQlTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCgkJTmV4dA0KCUVuZCBJZg0KCW9ialJTLmNsb3NlDQoNCglzdHJQcmV2aW91cz1UcmFuc2ZlckhUTUwoc3RyUHJldmlvdXMsIltuby1hc3BdIikNCg0KCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJwcmV2aW91cyIpKS5Db250ZW50PXN0clByZXZpb3VzDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInByZXZpb3VzIikpLlBvc3QoKQ0KCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJwcmV2aW91cyIpKS5TYXZlRmlsZQ0KDQoJQmxvZ1JlQnVpbGRfUHJldmlvdXM9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEJsb2dSZUJ1aWxkX0NvbW1lbnRzKCkNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NvbW1lbnRzX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ29tbWVudHNfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9Db21tZW50c19CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9Db21tZW50c19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfQ29tbWVudHNfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0NvbW1lbnRzX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJQ2FsbCBHZXRGdW5jdGlvbigpDQoJSWYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNvbW1lbnRzIikpLklzSGlkZGVuPVRydWUgVGhlbiANCg0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJDQoJRGltIG9ialJTDQoJRGltIG9ialN0cmVhbQ0KCURpbSBvYmpBcnRpY2xlDQoNCgknQ29tbWVudHMNCglEaW0gc3RyQ29tbWVudHMNCg0KCURpbSBzLHQNCglEaW0gaSxqDQoNCglqPUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJjb21tZW50cyIpKS5NYXhMaQ0KCUlmIGo9MCBUaGVuIGo9MTANCg0KCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgIiZqJiIgW2xvZ19JRF0sW2NvbW1fSURdLFtjb21tX0NvbnRlbnRdLFtjb21tX1Bvc3RUaW1lXSxbY29tbV9BdXRob3JJRF0sW2NvbW1fQXV0aG9yXSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtsb2dfSURdPjAgQU5EIFtjb21tX0lzQ2hlY2tdPTAgT1JERVIgQlkgW2NvbW1fUG9zdFRpbWVdIERFU0MsW2NvbW1fSURdIERFU0MiKQ0KCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJRm9yIGk9MSB0byBqDQoJCQlDYWxsIEdldFVzZXJzYnlVc2VySURMaXN0KG9ialJTKCJjb21tX0F1dGhvcklEIikpDQoNCgkJCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KDQoJCQlJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlJRChvYmpSUygibG9nX0lEIikpIFRoZW4NCgkJCQl0PW9iakFydGljbGUuVXJsDQoJCQlFbmQgSWYNCg0KCQkJcz1vYmpSUygiY29tbV9Db250ZW50IikNCgkJCXM9UmVwbGFjZShzLHZiQ3JsZiwiIikNCgkJCXM9TGVmdChzLFpDX0NPTU1FTlRfRVhDRVJQVF9NQVgpDQoJCQlzPVRyYW5zZmVySFRNTChzLCJbbm9odG1sXSIpDQoJCQkNCgkJCXN0ckNvbW1lbnRzPXN0ckNvbW1lbnRzICYgIjxsaSBzdHlsZT0iInRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7IiI+PGEgaHJlZj0iIiImIHQgJiAiI2NtdCIgJiBvYmpSUygiY29tbV9JRCIpICYgIiIiIHRpdGxlPSIiIiAmIG9ialJTKCJjb21tX1Bvc3RUaW1lIikgJiAiIHBvc3QgYnkgIiAmIElJZihVc2VycyhvYmpSUygiY29tbV9BdXRob3JJRCIpKS5MZXZlbD01LG9ialJTKCJjb21tX0F1dGhvciIpLFVzZXJzKG9ialJTKCJjb21tX0F1dGhvcklEIikpLkZpcnN0TmFtZSkgJiAiIiI+IitzKyI8L2E+PC9saT4iDQoJCQlTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCgkJTmV4dA0KCUVuZCBJZg0KCW9ialJTLmNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCXN0ckNvbW1lbnRzPVRyYW5zZmVySFRNTChzdHJDb21tZW50cywiW25vLWFzcF0iKQ0KDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNvbW1lbnRzIikpLkNvbnRlbnQ9c3RyQ29tbWVudHMNCglGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiY29tbWVudHMiKSkuUG9zdCgpDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNvbW1lbnRzIikpLlNhdmVGaWxlDQoNCglCbG9nUmVCdWlsZF9Db21tZW50cz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfR3Vlc3RDb21tZW50cygpDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9HdWVzdENvbW1lbnRzX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfR3Vlc3RDb21tZW50c19CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0d1ZXN0Q29tbWVudHNfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfR3Vlc3RDb21tZW50c19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfR3Vlc3RDb21tZW50c19CZWdpbikNCgkJSWYgYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfR3Vlc3RDb21tZW50c19CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KCUJsb2dSZUJ1aWxkX0d1ZXN0Q29tbWVudHM9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEJsb2dSZUJ1aWxkX1RyYWNrQmFja3MoKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfVHJhY2tCYWNrc19CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1RyYWNrQmFja3NfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9UcmFja0JhY2tzX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1RyYWNrQmFja3NfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1RyYWNrQmFja3NfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1RyYWNrQmFja3NfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglCbG9nUmVCdWlsZF9UcmFja0JhY2tzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBCbG9nUmVCdWlsZF9TdGF0aXN0aWNzKCkNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX1N0YXRpc3RpY3NfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9TdGF0aXN0aWNzX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfU3RhdGlzdGljc19CZWdpbg0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9TdGF0aXN0aWNzX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9TdGF0aXN0aWNzX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9TdGF0aXN0aWNzX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQoJRGltIGkNCglEaW0gb2JqUlMNCglEaW0gb2JqU3RyZWFtDQoJQ2FsbCBHZXRGdW5jdGlvbigpDQoJSWYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInN0YXRpc3RpY3MiKSkuSXNIaWRkZW49VHJ1ZSBUaGVuIA0KDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCg0KCSdTdGF0aXN0aWNzDQoJRGltIHN0clN0YXRpc3RpY3MNCglTZXQgb2JqUlM9U2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuUmVjb3Jkc2V0IikNCglvYmpSUy5DdXJzb3JUeXBlID0gYWRPcGVuS2V5c2V0DQoJb2JqUlMuTG9ja1R5cGUgPSBhZExvY2tSZWFkT25seQ0KCW9ialJTLkFjdGl2ZUNvbm5lY3Rpb249b2JqQ29ubg0KCW9ialJTLlNvdXJjZT0iIg0KDQoJb2JqUlMuT3BlbigiU0VMRUNUIENPVU5UKFtsb2dfSURdKUFTIGFsbEFydGljbGUsU1VNKFtsb2dfVmlld051bXNdKSBBUyBhbGxWaWV3TnVtcyBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfVHlwZV09MCIpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQlzdHJTdGF0aXN0aWNzPXN0clN0YXRpc3RpY3MgJiAiPGxpPiImIFpDX01TRzA4MiAmIjoiICYgb2JqUlMoImFsbEFydGljbGUiKSAmICI8L2xpPiINCgkJc3RyU3RhdGlzdGljcz1zdHJTdGF0aXN0aWNzICYgIjxsaT4iJiBaQ19NU0cxMjQgJiI6IiAmIG9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFNVTShbbG9nX0NvbW1OdW1zXSkgRlJPTSBbYmxvZ19BcnRpY2xlXSIpKDApICYgIjwvbGk+Ig0KCQlzdHJTdGF0aXN0aWNzPXN0clN0YXRpc3RpY3MgJiAiPGxpPiImIFpDX01TRzEyOSAmIjoiICYgb2JqUlMoImFsbFZpZXdOdW1zIikgJiAiPC9saT4iDQoJRW5kIElmDQoJb2JqUlMuQ2xvc2UNCg0KCXN0clN0YXRpc3RpY3M9c3RyU3RhdGlzdGljcyAmICI8bGk+IiYgWkNfTVNHMjA0ICYiOiIgJiBHZXROYW1lRm9ybVRoZW1lKFpDX0JMT0dfVEhFTUUpICYgIjwvbGk+Ig0KCSdzdHJTdGF0aXN0aWNzPXN0clN0YXRpc3RpY3MgJiAiPGxpPiImIFpDX01TRzA4MyAmIjoiICYgWkNfQkxPR19DU1MgJiAiPC9saT4iDQoNCglTZXQgb2JqUlM9Tm90aGluZw0KDQoJc3RyU3RhdGlzdGljcz1UcmFuc2ZlckhUTUwoc3RyU3RhdGlzdGljcywiW25vLWFzcF0iKQ0KDQoJDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInN0YXRpc3RpY3MiKSkuQ29udGVudD1zdHJTdGF0aXN0aWNzDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoInN0YXRpc3RpY3MiKSkuUG9zdCgpDQoNCglCbG9nUmVCdWlsZF9TdGF0aXN0aWNzPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEJsb2dSZUJ1aWxkIEZ1bmN0aW9ucw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfRnVuY3Rpb25zDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9GdW5jdGlvbnNfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9GdW5jdGlvbnNfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9GdW5jdGlvbnNfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfRnVuY3Rpb25zX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9GdW5jdGlvbnNfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0Z1bmN0aW9uc19CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KCUlzUnVuRnVuY3Rpb25zPUZhbHNlDQoJQ2FsbCBHZXRGdW5jdGlvbigpDQoNCglDYWxsIFNhdmVGdW5jdGlvblR5cGUoKQ0KDQoJRGltIGksaixzLHQsZg0KDQoJRm9yIEVhY2ggZiBJbiBGdW5jdGlvbnMNCgkJSWYgSXNPYmplY3QoZik9VHJ1ZSBUaGVuDQoJCQlJZiBmLmlkPjAgQW5kIGYuU291cmNlVHlwZTw+Im90aGVyIiBUaGVuDQoJCQkJZi5TYXZlRmlsZQ0KCQkJRW5kIElmDQoJCUVuZCBJZiANCglOZXh0DQoNCg0KCURpbSBhcnlGdW5jdGlvbkluT3JkZXINCgknYXJ5RnVuY3Rpb25Jbk9yZGVyPUdldEZ1bmN0aW9uT3JkZXIoKQ0KDQoJdD1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQl9GVU5DVElPTiIpDQoNCglhcnlGdW5jdGlvbkluT3JkZXI9U3BsaXQoWkNfU0lERUJBUl9PUkRFUiwiOiIpDQoJcz0iIg0KCUZvciBFYWNoIGYgSW4gYXJ5RnVuY3Rpb25Jbk9yZGVyDQoJCUlmIEZ1bmN0aW9uTWV0YXMuRXhpc3RzKGYpPVRydWUgVGhlbg0KCQkJSWYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoZikpLklzSGlkZGVuPUZhbHNlIFRoZW4NCgkJCQlzPXMgJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShmKSkuTWFrZVRlbXBsYXRlKHQpDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJTmV4dA0KCUNhbGwgU2F2ZVRvRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9jYWNoZS9zaWRlYmFyLmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQoJYXJ5RnVuY3Rpb25Jbk9yZGVyPVNwbGl0KFpDX1NJREVCQVJfT1JERVIyLCI6IikNCglzPSIiDQoJRm9yIEVhY2ggZiBJbiBhcnlGdW5jdGlvbkluT3JkZXINCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMoZik9VHJ1ZSBUaGVuDQoJCQlJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShmKSkuSXNIaWRkZW49RmFsc2UgVGhlbg0KCQkJCXM9cyAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKGYpKS5NYWtlVGVtcGxhdGUodCkNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL2NhY2hlL3NpZGViYXIyLmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQoJYXJ5RnVuY3Rpb25Jbk9yZGVyPVNwbGl0KFpDX1NJREVCQVJfT1JERVIzLCI6IikNCglzPSIiDQoJRm9yIEVhY2ggZiBJbiBhcnlGdW5jdGlvbkluT3JkZXINCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMoZik9VHJ1ZSBUaGVuDQoJCQlJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShmKSkuSXNIaWRkZW49RmFsc2UgVGhlbg0KCQkJCXM9cyAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKGYpKS5NYWtlVGVtcGxhdGUodCkNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL2NhY2hlL3NpZGViYXIzLmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQoJYXJ5RnVuY3Rpb25Jbk9yZGVyPVNwbGl0KFpDX1NJREVCQVJfT1JERVI0LCI6IikNCglzPSIiDQoJRm9yIEVhY2ggZiBJbiBhcnlGdW5jdGlvbkluT3JkZXINCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMoZik9VHJ1ZSBUaGVuDQoJCQlJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShmKSkuSXNIaWRkZW49RmFsc2UgVGhlbg0KCQkJCXM9cyAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKGYpKS5NYWtlVGVtcGxhdGUodCkNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL2NhY2hlL3NpZGViYXI0LmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQoJYXJ5RnVuY3Rpb25Jbk9yZGVyPVNwbGl0KFpDX1NJREVCQVJfT1JERVI1LCI6IikNCglzPSIiDQoJRm9yIEVhY2ggZiBJbiBhcnlGdW5jdGlvbkluT3JkZXINCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMoZik9VHJ1ZSBUaGVuDQoJCQlJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShmKSkuSXNIaWRkZW49RmFsc2UgVGhlbg0KCQkJCXM9cyAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKGYpKS5NYWtlVGVtcGxhdGUodCkNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL2NhY2hlL3NpZGViYXI1LmFzcCIscywidXRmLTgiLEZhbHNlKQ0KJwlOZXh0DQoNCglCbG9nUmVCdWlsZF9GdW5jdGlvbnM9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgQmxvZ1JlQnVpbGQgRGVmYXVsdA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmxvZ1JlQnVpbGRfRGVmYXVsdA0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fQmxvZ1JlQnVpbGRfRGVmYXVsdF9CZWdpbj1GYWxzZQ0KCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0RlZmF1bHRfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9CbG9nUmVCdWlsZF9EZWZhdWx0X0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0RlZmF1bHRfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0RlZmF1bHRfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX0Jsb2dSZUJ1aWxkX0RlZmF1bHRfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglDYWxsIENsZWFyR2xvYmVDYWNoZSgpDQoJQ2FsbCBMb2FkR2xvYmVDYWNoZSgpDQoNCglUZW1wbGF0ZVRhZ3NEaWMuSXRlbSgiWkNfQkxPR19IT1NUIik9IjwjWkNfQkxPR19IT1NUIz4iDQoNCglEaW0gQXJ0TGlzdA0KCVNldCBBcnRMaXN0PU5ldyBUQXJ0aWNsZUxpc3QNCg0KCUFydExpc3QuTG9hZENhY2hlDQoNCglBcnRMaXN0LnRlbXBsYXRlPSJERUZBVUxUIg0KDQoJSWYgQXJ0TGlzdC5FeHBvcnQoIiIsIiIsIiIsIiIsIiIsWkNfRElTUExBWV9NT0RFX0lOVFJPKSBUaGVuDQoNCgkJQXJ0TGlzdC5CdWlsZA0KDQoJCUNhbGwgU2F2ZVRvRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9DQUNIRS9kZWZhdWx0LmFzcCIsQXJ0TGlzdC5odG1sLCJ1dGYtOCIsRmFsc2UpIA0KDQoJRW5kIElmDQoNCg0KCUJsb2dSZUJ1aWxkX0RlZmF1bHQ9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KDQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEV4cG9ydCBSU1MgMi4wDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRSU1MoKQ0KDQoJJ3BsdWdpbiBub2RlDQoJYkFjdGlvbl9QbHVnaW5fRXhwb3J0UlNTX0JlZ2luPUZhbHNlDQoJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fRXhwb3J0UlNTX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fRXhwb3J0UlNTX0JlZ2luDQoJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX0V4cG9ydFJTU19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fRXhwb3J0UlNTX0JlZ2luKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9FeHBvcnRSU1NfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCglOZXh0DQoNCglEaW0gUnNzMkV4cG9ydA0KCURpbSBvYmpBcnRpY2xlDQoNCglTZXQgUnNzMkV4cG9ydCA9IE5ldyBUTmV3UnNzMkV4cG9ydA0KDQoJV2l0aCBSc3MyRXhwb3J0DQoNCgkJLlRpbWVab25lPVpDX1RJTUVfWk9ORQ0KDQoJCS5BZGRDaGFubmVsQXR0cmlidXRlICJ0aXRsZSIsVHJhbnNmZXJIVE1MKFpDX0JMT0dfVElUTEUsIltodG1sLWZvcm1hdF0iKQ0KCQkuQWRkQ2hhbm5lbEF0dHJpYnV0ZSAibGluayIsVHJhbnNmZXJIVE1MKEJsb2dIb3N0LCJbaHRtbC1mb3JtYXRdIikNCgkJLkFkZENoYW5uZWxBdHRyaWJ1dGUgImRlc2NyaXB0aW9uIixUcmFuc2ZlckhUTUwoWkNfQkxPR19TVUJUSVRMRSwiW2h0bWwtZm9ybWF0XSIpDQoJCS5BZGRDaGFubmVsQXR0cmlidXRlICJnZW5lcmF0b3IiLCJSYWluYm93U29mdCBTdHVkaW8gWi1CbG9nICIgJiBaQ19CTE9HX1ZFUlNJT04NCgkJLkFkZENoYW5uZWxBdHRyaWJ1dGUgImxhbmd1YWdlIixaQ19CTE9HX0xBTkdVQUdFDQoJCS5BZGRDaGFubmVsQXR0cmlidXRlICJwdWJEYXRlIixHZXRUaW1lKE5vdygpKQ0KDQoJCQlEaW0gaQ0KCQkJRGltIG9ialJTDQoJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgVE9QICImWkNfUlNTMl9DT1VOVCYiIFtsb2dfSURdLFtsb2dfVGFnXSxbbG9nX0NhdGVJRF0sW2xvZ19UaXRsZV0sW2xvZ19JbnRyb10sW2xvZ19Db250ZW50XSxbbG9nX0xldmVsXSxbbG9nX0F1dGhvcklEXSxbbG9nX1Bvc3RUaW1lXSxbbG9nX0NvbW1OdW1zXSxbbG9nX1ZpZXdOdW1zXSxbbG9nX1RyYWNrQmFja051bXNdLFtsb2dfVXJsXSxbbG9nX0lzdG9wXSxbbG9nX1RlbXBsYXRlXSxbbG9nX0Z1bGxVcmxdLFtsb2dfVHlwZV0sW2xvZ19NZXRhXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19JRF0+MCkgQU5EIChbbG9nX0xldmVsXT4yKSBPUkRFUiBCWSBbbG9nX1Bvc3RUaW1lXSBERVNDIikNCg0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCUZvciBpPTEgdG8gWkNfUlNTMl9DT1VOVA0KCQkJCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJCQkJSWYgb2JqQXJ0aWNsZS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkob2JqUlMoMCksb2JqUlMoMSksb2JqUlMoMiksb2JqUlMoMyksb2JqUlMoNCksb2JqUlMoNSksb2JqUlMoNiksb2JqUlMoNyksb2JqUlMoOCksb2JqUlMoOSksb2JqUlMoMTApLG9ialJTKDExKSxvYmpSUygxMiksb2JqUlMoMTMpLG9ialJTKDE0KSxvYmpSUygxNSksb2JqUlMoMTYpLG9ialJTKDE3KSkpIFRoZW4NCg0KCQkJCQlJZiBaQ19SU1NfRVhQT1JUX1dIT0xFIFRoZW4NCgkJCQkJLkFkZEl0ZW0gb2JqQXJ0aWNsZS5IdG1sVGl0bGUsVXNlcnMob2JqQXJ0aWNsZS5BdXRob3JJRCkuRW1haWwgJiAiICgiICYgVXNlcnMob2JqQXJ0aWNsZS5BdXRob3JJRCkuRmlyc3ROYW1lICYgIikiLG9iakFydGljbGUuSHRtbFVybCxvYmpBcnRpY2xlLlBvc3RUaW1lLG9iakFydGljbGUuSHRtbFVybCxvYmpBcnRpY2xlLkh0bWxDb250ZW50LENhdGVnb3J5cyhvYmpBcnRpY2xlLkNhdGVJRCkuSHRtbE5hbWUsb2JqQXJ0aWNsZS5Db21tZW50VXJsLG9iakFydGljbGUuV2Z3Q29tbWVudCxvYmpBcnRpY2xlLldmd0NvbW1lbnRSc3Msb2JqQXJ0aWNsZS5UcmFja0JhY2tVcmwNCgkJCQkJRWxzZQ0KCQkJCQkuQWRkSXRlbSBvYmpBcnRpY2xlLkh0bWxUaXRsZSxVc2VycyhvYmpBcnRpY2xlLkF1dGhvcklEKS5FbWFpbCAmICIgKCIgJiBVc2VycyhvYmpBcnRpY2xlLkF1dGhvcklEKS5GaXJzdE5hbWUgJiAiKSIsb2JqQXJ0aWNsZS5IdG1sVXJsLG9iakFydGljbGUuUG9zdFRpbWUsb2JqQXJ0aWNsZS5IdG1sVXJsLG9iakFydGljbGUuSHRtbEludHJvLENhdGVnb3J5cyhvYmpBcnRpY2xlLkNhdGVJRCkuSHRtbE5hbWUsb2JqQXJ0aWNsZS5Db21tZW50VXJsLG9iakFydGljbGUuV2Z3Q29tbWVudCxvYmpBcnRpY2xlLldmd0NvbW1lbnRSc3Msb2JqQXJ0aWNsZS5UcmFja0JhY2tVcmwNCgkJCQkJRW5kIElmDQoNCgkJCQkJRW5kIElmDQoJCQkJCW9ialJTLk1vdmVOZXh0DQoJCQkJCUlmIG9ialJTLmVvZiBUaGVuIEV4aXQgRm9yDQoJCQkJCVNldCBvYmpBcnRpY2xlPU5vdGhpbmcNCgkJCQlOZXh0DQoJCQlFbmQgSWYNCg0KCUVuZCBXaXRoDQoNCglSc3MyRXhwb3J0LlNhdmVUb0ZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnMvY2FjaGUvcnNzLnhtbCIpDQoNCglTZXQgUnNzMkV4cG9ydCA9IE5vdGhpbmcNCg0KCW9ialJTLmNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCglFeHBvcnRSU1M9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRXhwb3J0IEFUT00gMS4wDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRBVE9NKCkNCg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgQnVpbGQgQ2F0ZWdvcnkNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEJ1aWxkQ2F0ZWdvcnkoaW50UGFnZSxpbnRDYXRlSWQsaW50QXV0aG9ySWQsZHRtWWVhck1vbnRoLHN0clRhZ3NOYW1lLGludFR5cGUsc3RyRGlyZWN0b3J5LHN0ckZpbGVOYW1lKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgQnVpbGQgQXJ0aWNsZQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQnVpbGRBcnRpY2xlKGludElELGJvbEJ1aWxkTmF2aWdhdGUsYm9sQnVpbGRDYXRlZ29yeSkNCg0KCURpbSBvYmpBcnRpY2xlDQoJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoNCglJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlJRChpbnRJRCkgVGhlbg0KCQlJZiBvYmpBcnRpY2xlLkV4cG9ydChaQ19ESVNQTEFZX01PREVfQUxMKSBUaGVuDQoJCQlvYmpBcnRpY2xlLlNhdmVDYWNoZQ0KCQkJb2JqQXJ0aWNsZS5TdGF0aXN0aWMNCgkJCW9iakFydGljbGUuQnVpbGQNCgkJCW9iakFydGljbGUuU2F2ZQ0KCQlFbmQgSWYNCg0KCQlJZiBaQ19QT1NUX1NUQVRJQ19NT0RFPSJTVEFUSUMiIFRoZW4NCg0KCQkJSWYgKGJvbEJ1aWxkTmF2aWdhdGU9VHJ1ZSkgQW5kIChaQ19VU0VfTkFWSUdBVEVfQVJUSUNMRT1UcnVlKSBUaGVuDQoNCgkJCQlEaW0gb2JqUlMNCgkJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgVE9QIDEgW2xvZ19JRF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSAoW2xvZ19MZXZlbF0+MikgQU5EIChbbG9nX1R5cGVdPTApIEFORCAoW2xvZ19Qb3N0VGltZV08IiAmIFpDX1NRTF9QT1VORF9LRVkgJiBvYmpBcnRpY2xlLlBvc3RUaW1lICYgWkNfU1FMX1BPVU5EX0tFWSAmIikgT1JERVIgQlkgW2xvZ19Qb3N0VGltZV0gREVTQyIpDQoJCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCQlDYWxsIEJ1aWxkQXJ0aWNsZShvYmpSUygibG9nX0lEIiksRmFsc2UsRmFsc2UpDQoJCQkJRW5kIElmDQoJCQkJU2V0IG9ialJTPU5vdGhpbmcNCgkJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgVE9QIDEgW2xvZ19JRF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSAoW2xvZ19MZXZlbF0+MikgQU5EIChbbG9nX1R5cGVdPTApIEFORCAoW2xvZ19Qb3N0VGltZV0+IiAmIFpDX1NRTF9QT1VORF9LRVkgJiBvYmpBcnRpY2xlLlBvc3RUaW1lICYgWkNfU1FMX1BPVU5EX0tFWSAmIikgT1JERVIgQlkgW2xvZ19Qb3N0VGltZV0gQVNDIikNCgkJCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQkJCUNhbGwgQnVpbGRBcnRpY2xlKG9ialJTKCJsb2dfSUQiKSxGYWxzZSxGYWxzZSkNCgkJCQlFbmQgSWYNCgkJCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCQlFbmQgSWYNCg0KCQlFbmQgSWYNCg0KCQlCdWlsZEFydGljbGU9VHJ1ZQ0KDQoJRW5kIElmDQoNCglTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBHZXRVc2Vyc2J5VXNlcklETGlzdA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0VXNlcnNieVVzZXJJRExpc3Qoc3RyVXNlcnMpDQonc3RyVGFncz0xLDIsMyw0LDUsNiw3LDgNCg0KSWYgc3RyVXNlcnM9IiIgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCkRpbSBzLHQsaSxqLGQNCg0KdD1TcGxpdChzdHJVc2VycywiLCIpDQoNClNldCBkID0gQ3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoNCkZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCglJZiBUcmltKHQoaSkpPD4iIiBUaGVuDQoJCUlmIFVCb3VuZChVc2Vycyk+PXQoaSkgVGhlbg0KCQkJSWYgSXNPYmplY3QoVXNlcnModChpKSkpPUZhbHNlIFRoZW4NCgkJCQlJZiBkLkV4aXN0cyh0KGkpKT1GYWxzZSBUaGVuIENhbGwgZC5hZGQodChpKSx0KGkpKQ0KCQkJRW5kIElmDQoJCUVsc2UNCgkJCUlmIGQuRXhpc3RzKHQoaSkpPUZhbHNlIFRoZW4gQ2FsbCBkLmFkZCh0KGkpLHQoaSkpDQoJCUVuZCBJZg0KCUVuZCBJZg0KTmV4dA0KDQp0ID0gZC5LZXlzDQpGb3IgaSA9IDAgVG8gZC5Db3VudCAtMQ0KDQoJSWYgVUJvdW5kKFVzZXJzKT49Q0xuZyh0KGkpKSBUaGVuDQoJCUlmIElzT2JqZWN0KFVzZXJzKHQoaSkpKT1GYWxzZSBUaGVuIA0KCQkJaj1qKzENCgkJCXM9cyAmICIoW21lbV9JRF09IiZDTG5nKHQoaSkpJiIpIE9yIg0KCQlFbmQgSWYNCglFbHNlDQoJCWo9aisxDQoJCXM9cyAmICIoW21lbV9JRF09IiZDTG5nKHQoaSkpJiIpIE9yIg0KCUVuZCBJZg0KCUlmIGo9MTAwIFRoZW4NCgkJQ2FsbCBHZXRVc2Vyc19TdWIocykNCgkJaj0wDQoJCXM9IiINCglFbmQgSWYNCk5leHQNCg0KQ2FsbCBHZXRVc2Vyc19TdWIocykNCg0KR2V0VXNlcnNieVVzZXJJRExpc3Q9VHJ1ZQ0KDQoNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEdldFVzZXJzYnlVc2Vy5a2Q5Ye95pWwDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpTdWIgR2V0VXNlcnNfU3ViKHMpDQoNCklmIExlbihzKT4yIFRoZW4gDQoJcz1MZWZ0KHMsTGVuKHMpLTIpDQpFbHNlDQoJRXhpdCBTdWINCkVuZCBJZg0KDQpEaW0gb2JqUlMNCkRpbSBvYmpVc2VyDQoNClNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbbWVtX0lEXSxbbWVtX05hbWVdLFttZW1fTGV2ZWxdLFttZW1fUGFzc3dvcmRdLFttZW1fRW1haWxdLFttZW1fSG9tZVBhZ2VdLFttZW1fUG9zdExvZ3NdLFttZW1fVXJsXSxbbWVtX1RlbXBsYXRlXSxbbWVtX0Z1bGxVcmxdLFttZW1fSW50cm9dLFttZW1fTWV0YV0gRlJPTSBbYmxvZ19NZW1iZXJdIFdIRVJFICgiICYgcyAmICIpIikNCg0KSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJRG8gV2hpbGUgTm90IG9ialJTLmVvZg0KDQoJCVNldCBvYmpVc2VyPU5ldyBUVXNlcg0KCQlDYWxsIG9ialVzZXIuTG9hZEluZm9CeUFycmF5KEFycmF5KG9ialJTKDApLG9ialJTKDEpLG9ialJTKDIpLG9ialJTKDMpLG9ialJTKDQpLG9ialJTKDUpLG9ialJTKDYpLG9ialJTKDcpLG9ialJTKDgpLG9ialJTKDkpLG9ialJTKDEwKSxvYmpSUygxMSkpKQ0KDQoJCUlmIFVCb3VuZChVc2Vycyk8b2JqVXNlci5JRCBUaGVuDQoJCQlSZURpbSBQcmVzZXJ2ZSBVc2VycyhvYmpVc2VyLklEKQ0KCQlFbmQgSWYNCg0KCQlTZXQgVXNlcnMob2JqVXNlci5JRCk9b2JqVXNlcg0KDQoJCVNldCBvYmpVc2VyPU5vdGhpbmcNCg0KCQlvYmpSUy5Nb3ZlTmV4dA0KCUxvb3ANCg0KRW5kIElmDQoNCm9ialJTLkNsb3NlDQpTZXQgb2JqUlM9Tm90aGluZw0KDQpFbmQgU3ViDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEdldFRhZ3NieVRhZ0lETGlzdA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0VGFnc2J5VGFnSURMaXN0KHN0clRhZ3MpDQonc3RyVGFncz17MX17Mn17M317NH0NCg0KSWYgc3RyVGFncz0iIiBUaGVuIEV4aXQgRnVuY3Rpb24NCklmIHN0clRhZ3M9Int9IiBUaGVuIEV4aXQgRnVuY3Rpb24NCklmIElzTnVsbChzdHJUYWdzKSBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KRGltIHMsdCxpLGosZA0Kc3RyVGFncz1SZXBsYWNlKHN0clRhZ3MsIn0iLCIiKQ0KdD1TcGxpdChzdHJUYWdzLCJ7IikNCg0KU2V0IGQgPSBDcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KRm9yIGk9TEJvdW5kKHQpIFRvIFVCb3VuZCh0KQ0KCUlmIFRyaW0odChpKSk8PiIiIFRoZW4NCgkJSWYgVUJvdW5kKFRhZ3MpPj10KGkpIFRoZW4NCgkJCUlmIElzT2JqZWN0KFRhZ3ModChpKSkpPUZhbHNlIFRoZW4NCgkJCQlJZiBkLkV4aXN0cyh0KGkpKT1GYWxzZSBUaGVuIENhbGwgZC5hZGQodChpKSx0KGkpKQ0KCQkJRW5kIElmDQoJCUVsc2UNCgkJCUlmIGQuRXhpc3RzKHQoaSkpPUZhbHNlIFRoZW4gQ2FsbCBkLmFkZCh0KGkpLHQoaSkpDQoJCUVuZCBJZg0KCUVuZCBJZg0KTmV4dA0KDQp0ID0gZC5LZXlzDQpGb3IgaSA9IDAgVG8gZC5Db3VudCAtMQ0KDQoJSWYgVUJvdW5kKFRhZ3MpPj1DTG5nKHQoaSkpIFRoZW4NCgkJSWYgSXNPYmplY3QoVGFncyh0KGkpKSk9RmFsc2UgVGhlbiANCgkJCWo9aisxDQoJCQlzPXMgJiAiKFt0YWdfSURdPSImQ0xuZyh0KGkpKSYiKSBPciINCgkJRW5kIElmDQoJRWxzZQ0KCQlqPWorMQ0KCQlzPXMgJiAiKFt0YWdfSURdPSImQ0xuZyh0KGkpKSYiKSBPciINCglFbmQgSWYNCglJZiBqPTEwMCBUaGVuDQoJCUNhbGwgR2V0VGFnc19TdWIocykNCgkJaj0wDQoJCXM9IiINCglFbmQgSWYNCk5leHQNCg0KQ2FsbCBHZXRUYWdzX1N1YihzKQ0KDQpHZXRUYWdzYnlUYWdJRExpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgR2V0VGFnc2J5VGFn5a2Q5Ye95pWwDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpTdWIgR2V0VGFnc19TdWIocykNCg0KSWYgTGVuKHMpPjIgVGhlbiANCglzPUxlZnQocyxMZW4ocyktMikNCkVsc2UNCglFeGl0IFN1Yg0KRW5kIElmDQoNCkRpbSBvYmpSUw0KRGltIG9ialRhZw0KDQpTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3RhZ19JRF0sW3RhZ19OYW1lXSxbdGFnX0ludHJvXSxbdGFnX09yZGVyXSxbdGFnX0NvdW50XSxbdGFnX1BhcmVudElEXSxbdGFnX1VSTF0sW3RhZ19UZW1wbGF0ZV0sW3RhZ19GdWxsVXJsXSxbdGFnX01ldGFdIEZST00gW2Jsb2dfVGFnXSBXSEVSRSAoIiAmIHMgJiAiKSIpDQoNCklmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCURvIFdoaWxlIE5vdCBvYmpSUy5lb2YNCg0KCQlTZXQgb2JqVGFnPU5ldyBUVGFnDQoJCUNhbGwgb2JqVGFnLkxvYWRJbmZvQnlBcnJheShBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSkpDQoNCgkJSWYgVUJvdW5kKFRhZ3MpPG9ialRhZy5JRCBUaGVuDQoJCQlSZURpbSBQcmVzZXJ2ZSBUYWdzKG9ialRhZy5JRCkNCgkJRW5kIElmDQoNCgkJU2V0IFRhZ3Mob2JqVGFnLklEKT1vYmpUYWcNCg0KCQlTZXQgb2JqVGFnPU5vdGhpbmcNCg0KCQlvYmpSUy5Nb3ZlTmV4dA0KCUxvb3ANCg0KRW5kIElmDQoNCm9ialJTLkNsb3NlDQpTZXQgb2JqUlM9Tm90aGluZw0KDQpFbmQgU3ViDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEdldFRhZ3NieVRhZ05hbWVMaXN0DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRUYWdzYnlUYWdOYW1lTGlzdChzdHJUYWdzKQ0KJ3N0clRhZ3M9YSxiLGMsZCxlLGYsZw0KDQpTZXQgVGFncygwKT1OZXcgVFRhZw0KDQpJZiBzdHJUYWdzPSIiIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQpEaW0gcyx0LGkNCnQ9U3BsaXQoc3RyVGFncywiLCIpDQoNCkZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCglJZiBUcmltKHQoaSkpPD4iIiBUaGVuDQoJCXM9cyAmICIoW3RhZ19OYW1lXT0nIiZGaWx0ZXJTUUwodChpKSkmIicpIE9yIg0KCUVuZCBJZg0KTmV4dA0KDQpDYWxsIEdldFRhZ3NfU3ViKHMpDQoNCkdldFRhZ3NieVRhZ05hbWVMaXN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0Q29tbWVudEZsb29yKElEKQ0KDQoJRGltIGksag0KCWk9SUQNCglqPTANCg0KCURpbSBvYmpSUw0KDQoJRG8gV2hpbGUgaT4wDQoNCgkJaj1qKzENCg0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NvbW1fUGFyZW50SURdIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgW2NvbW1fSURdID0iICYgaSkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQlpPW9ialJTKDApDQoJCUVsc2UNCgkJCWk9MA0KCQlFbmQgSWYNCg0KCUxvb3ANCg0KCUdldENvbW1lbnRGbG9vcj1qDQoNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOW6n+W8gw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0RnVuY3Rpb25PcmRlcigpDQoNCglEaW0gaQ0KCURpbSBvYmpSUw0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCURpbSBhcnlDYXRlSW5PcmRlcigpDQoJaT0wDQoNCglvYmpSUy5PcGVuKCJTRUxFQ1QgW2ZuX2lkXSBGUk9NIFtibG9nX0Z1bmN0aW9uXSBPUkRFUiBCWSBbZm5fT3JkZXJdIEFTQyxbZm5fSURdIEFTQyIpDQoJRG8gV2hpbGUgTm90IG9ialJTLmVvZg0KCQlpPWkrMQ0KCQlSZURpbSBQcmVzZXJ2ZSBhcnlDYXRlSW5PcmRlcihpKQ0KCQlhcnlDYXRlSW5PcmRlcihpKT1vYmpSUygiZm5fSUQiKQ0KCQlvYmpSUy5Nb3ZlTmV4dA0KCUxvb3ANCglvYmpSUy5DbG9zZQ0KCVNldCBvYmpSUz1Ob3RoaW5nDQoNCglJZiBpPjAgVGhlbiBHZXRGdW5jdGlvbk9yZGVyPWFyeUNhdGVJbk9yZGVyDQoJSWYgaT0wIFRoZW4gR2V0RnVuY3Rpb25PcmRlcj1BcnJheSgpDQoNCglFcmFzZSBhcnlDYXRlSW5PcmRlcg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNhdmVGdW5jdGlvblR5cGUoKQ0KDQoJQ2FsbCBHZXRGdW5jdGlvbigpDQoNCglEaW0gdCANCg0KCVNldCB0PU5ldyBUTWV0YQ0KDQoJRGltIGkNCg0KCUZvciBpPTEgVG8gVUJvdW5kKEZ1bmN0aW9ucykNCgkJSWYgSXNPYmplY3QoRnVuY3Rpb25zKGkpKT1UcnVlIFRoZW4NCg0KCQkJQ2FsbCB0LlNldFZhbHVlKEZ1bmN0aW9ucyhpKS5GaWxlTmFtZSxGdW5jdGlvbnMoaSkuRlR5cGUpDQoNCgkJRW5kIElmDQoJTmV4dA0KDQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL0NBQ0hFL2Z1bmN0aW9uc3R5cGUuYXNwIix0LlNhdmVTdHJpbmcsInV0Zi04IixGYWxzZSkNCg0KCVNhdmVGdW5jdGlvblR5cGU9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgQ3JlYXRlIEFkbWluIE1lbnUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENyZWF0ZUFkbWluTGVmdE1lbnUoKQ0KDQon5by65Yi25riF56m6TWVudSzpmLLmraLmn5Dkupvmj5Lku7bmj5DliY3mj5LlhaXpgKDmiJDmjpLlnKjns7vnu5/oj5zljZXkuYvliY0s5o+S5Lu25o+S5YWl6I+c5Y2V6KaB5Zyo57O757uf5Yid5aeL5YyW5a6M5oiQ5ZCODQpSZXNwb25zZV9QbHVnaW5fQWRtaW5fTGVmdD0iIg0KDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJBcnRpY2xlRWR0IiksWkNfTVNHMTY4LEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9QXJ0aWNsZUVkdCZhbXA7d2ViZWRpdD0iJlpDX0JMT0dfV0VCRURJVCwibmF2X25ldyIsImFBcnRpY2xlRWR0IiwiIikpDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJBcnRpY2xlTW5nIiksWkNfTVNHMDY3LEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9QXJ0aWNsZU1uZyIsIm5hdl9hcnRpY2xlIiwiYUFydGljbGVNbmciLCIiKSkNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLE1ha2VMZWZ0TWVudShHZXRSaWdodHMoIkFydGljbGVBbGwiKSxaQ19NU0cxMTEsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1BcnRpY2xlTW5nJmFtcDt0eXBlPVBhZ2UiLCJuYXZfcGFnZSIsImFQYWdlTW5nIiwiIikpDQoNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLCI8bGkgY2xhc3M9J3NwbGl0Jz48aHIvPjwvbGk+IikNCg0KDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJDYXRlZ29yeU1uZyIpLFpDX01TRzA2NixCbG9nSG9zdCYiemJfc3lzdGVtL2NtZC5hc3A/YWN0PUNhdGVnb3J5TW5nIiwibmF2X2NhdGVnb3J5IiwiYUNhdGVnb3J5TW5nIiwiIikpDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJUYWdNbmciKSxaQ19NU0cxNDEsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1UYWdNbmciLCJuYXZfdGFncyIsImFUYWdNbmciLCIiKSkNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLE1ha2VMZWZ0TWVudShHZXRSaWdodHMoIkNvbW1lbnRNbmciKSxaQ19NU0cwNjgsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1Db21tZW50TW5nIiwibmF2X2NvbW1lbnRzIiwiYUNvbW1lbnRNbmciLCIiKSkNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLE1ha2VMZWZ0TWVudShHZXRSaWdodHMoIkZpbGVNbmciKSxaQ19NU0cwNzEsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1GaWxlTW5nIiwibmF2X2FjY2Vzc29yaWVzIiwiYUZpbGVNbmciLCIiKSkNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLE1ha2VMZWZ0TWVudShHZXRSaWdodHMoIlVzZXJNbmciKSxaQ19NU0cwNzAsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1Vc2VyTW5nIiwibmF2X3VzZXIiLCJhVXNlck1uZyIsIiIpKQ0KDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IiwiPGxpIGNsYXNzPSdzcGxpdCc+PGhyLz48L2xpPiIpDQoNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX0xlZnQiLE1ha2VMZWZ0TWVudShHZXRSaWdodHMoIlRoZW1lTW5nIiksWkNfTVNHMjIzLEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9VGhlbWVNbmciLCJuYXZfdGhlbWVzIiwiYVRoZW1lTW5nIiwiIikpDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJGdW5jdGlvbk1uZyIpLFpDX01TRzAwNyxCbG9nSG9zdCYiemJfc3lzdGVtL2NtZC5hc3A/YWN0PUZ1bmN0aW9uTW5nIiwibmF2X2Z1bmN0aW9uIiwiYUZ1bmN0aW9uTW5nIiwiIikpDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0IixNYWtlTGVmdE1lbnUoR2V0UmlnaHRzKCJQbHVnSW5NbmciKSxaQ19NU0cxMDcsQmxvZ0hvc3QmInpiX3N5c3RlbS9jbWQuYXNwP2FjdD1QbHVnSW5NbmciLCJuYXZfcGx1Z2luIiwiYVBsdWdJbk1uZyIsIiIpKQ0KDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBDcmVhdGUgVG9wIE1lbnUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENyZWF0ZUFkbWluVG9wTWVudSgpDQoNClJlc3BvbnNlX1BsdWdpbl9BZG1pbl9Ub3A9IiINCg0KQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fQWRtaW5fVG9wIixNYWtlVG9wTWVudShHZXRSaWdodHMoImFkbWluIiksWkNfTVNHMjQ1LEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9YWRtaW4iLCIiLCIiKSkNCkNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0FkbWluX1RvcCIsTWFrZVRvcE1lbnUoR2V0UmlnaHRzKCJTZXR0aW5nTW5nIiksWkNfTVNHMjQ3LEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9U2V0dGluZ01uZyIsIiIsIiIpKQ0KSWYgTm90IFpDX1BPU1RfU1RBVElDX01PREU8PiJTVEFUSUMiIFRoZW4gDQoJQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fQWRtaW5fVG9wIixNYWtlVG9wTWVudShHZXRSaWdodHMoIkFza0ZpbGVSZUJ1aWxkIiksWkNfTVNHMDczLEJsb2dIb3N0JiJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9QXNrRmlsZVJlQnVpbGQiLCIiLCIiKSkNCkVuZCBJZg0KDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBodG1sPVJlc3BvbnNlX1BsdWdpbl9BZG1pbl9MZWZ0DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBSZXNwb25zZUFkbWluTGVmdE1lbnUoaHRtbCkNCglDYWxsIEZpbHRlcl9QbHVnaW5fUmVzcG9uc2VBZG1pbkxlZnRNZW51KGh0bWwpDQoJUmVzcG9uc2VBZG1pbkxlZnRNZW51PWh0bWwNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBodG1sPVJlc3BvbnNlX1BsdWdpbl9BZG1pbl9Ub3ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFJlc3BvbnNlQWRtaW5Ub3BNZW51KGh0bWwpDQoJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Jlc3BvbnNlQWRtaW5Ub3BNZW51KGh0bWwpDQoJUmVzcG9uc2VBZG1pblRvcE1lbnU9aHRtbA0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFNlYXJjaCBDaGlsZCBDb21tZW50cyfpgJLlvZINCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNlYXJjaENoaWxkQ29tbWVudHMoQnlWYWwgaWQsQnlSZWYgYWxsY29tbSkNCg0KCUlmIElzT2JqZWN0KGFsbGNvbW0pPUZhbHNlIFRoZW4NCgkJU2V0IGFsbGNvbW09Q3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoJRW5kIElmDQoNCglEaW0gb2JqUlMNCglTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NvbW1fSURdIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgW2NvbW1fUGFyZW50SURdPSImaWQpDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQlEbyBXaGlsZSBOb3Qgb2JqUlMuZW9mDQoJCQlJZiBhbGxjb21tLkV4aXN0cyhvYmpSUygiY29tbV9JRCIpKT1GYWxzZSBUaGVuDQoJCQkJYWxsY29tbS5hZGQgQ0xuZyhvYmpSUygiY29tbV9JRCIpKSwiIg0KCQkJRW5kIElmDQoJCQlDYWxsIFNlYXJjaENoaWxkQ29tbWVudHMob2JqUlMoImNvbW1fSUQiKSxhbGxjb21tKQ0KCQkJb2JqUlMuTW92ZU5leHQNCgkJTG9vcA0KCQlTZWFyY2hDaGlsZENvbW1lbnRzPVRydWUNCglFbHNlDQoJCVNlYXJjaENoaWxkQ29tbWVudHM9RmFsc2UNCglFbmQgSWYNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEFkZCBCYXRjaCANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEFkZEJhdGNoKG5hbWUsYWN0aW9uY29kZSkNCg0KCUlmIElzT2JqZWN0KFNlc3Npb24oImJhdGNoIikpPUZhbHNlIFRIZW4NCgkJU2V0IFNlc3Npb24oImJhdGNoIik9Q3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoJCVNlc3Npb24oImJhdGNob3JkZXIiKT0wDQoJCVNlc3Npb24oImJhdGNodGltZSIpPTANCglFbmQgSWYNCg0KCSfmo4DliJnmmK/lkKbmnKrlrozmiJDmibnmk43kvZws5pyq5a6M5oiQ55qE6K+d5LiN5paw5aKe5Yqg5om55pON5L2cLg0KCUlmIFNlc3Npb24oImJhdGNoIikuQ291bnQgPD4gQ0xuZyhTZXNzaW9uKCJiYXRjaG9yZGVyIikpIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJRGltIGkNCglpPVNlc3Npb24oImJhdGNob3JkZXIiKSsxDQoNCglTZXNzaW9uKCJiYXRjaG9yZGVyIik9aQ0KCUNhbGwgU2Vzc2lvbigiYmF0Y2giKS5hZGQoIjxiPiIgJiBpICYgIjwvYj4gOiA8dT4iICYgbmFtZSAmICI8L3U+IixhY3Rpb25jb2RlKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgU2F2ZSBDb25maWcgdG8gb3B0aW9uLmFzcA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2F2ZUNvbmZpZzJPcHRpb24oKQ0KDQoJRGltIHN0ckNvbnRlbnQNCglzdHJDb250ZW50PUxvYWRGcm9tRmlsZShCbG9nUGF0aCAmICJ6Yl9zeXN0ZW1cZGVmZW5kXGNfb3B0aW9uLmFzcC5odG1sIiwidXRmLTgiKQ0KDQoNCglEaW0gaQ0KDQoJRm9yIGk9MSBUbyBCbG9nQ29uZmlnLkNvdW50DQoNCgkJSWYgVHJpbShCbG9nQ29uZmlnLk1ldGEuR2V0VmFsdWUoQmxvZ0NvbmZpZy5NZXRhLk5hbWVzKGkpKSk9IiIgQW5kIEluU3RyKHN0ckNvbnRlbnQsIiIiIiYgIjwjIiZCbG9nQ29uZmlnLk1ldGEuTmFtZXMoaSkmIiM+IiAmIiIiIik9MCBUaGVuDQoJCQlzdHJDb250ZW50PVJlcGxhY2Uoc3RyQ29udGVudCwiPCMiJkJsb2dDb25maWcuTWV0YS5OYW1lcyhpKSYiIz4iLCJFbXB0eSIpDQoJCUVsc2UNCgkJCXN0ckNvbnRlbnQ9UmVwbGFjZShzdHJDb250ZW50LCI8IyImQmxvZ0NvbmZpZy5NZXRhLk5hbWVzKGkpJiIjPiIsUmVwbGFjZShCbG9nQ29uZmlnLk1ldGEuR2V0VmFsdWUoQmxvZ0NvbmZpZy5NZXRhLk5hbWVzKGkpKSwiIiIiLCIiIiIiIikpDQoJCUVuZCBJZg0KDQoJTmV4dA0KDQoJSWYgSW5zdHIoc3RyQ29udGVudCwiPCNaQ19CTE9HX0xBTkdVQUdFUEFDSyM+Iik+MCBUaGVuDQoJCXN0ckNvbnRlbnQ9UmVwbGFjZShzdHJDb250ZW50LCI8I1pDX0JMT0dfTEFOR1VBR0VQQUNLIz4iLCJTaW1wQ2hpbmVzZSIpDQoJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfQkxPR19MQU5HVUFHRVBBQ0siLCJTaW1wQ2hpbmVzZSIpDQoJRW5kIElmDQoJDQoJQ2FsbCBCbG9nQ29uZmlnLlNhdmUoKQ0KDQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzXGNfb3B0aW9uLmFzcCIsc3RyQ29udGVudCwidXRmLTgiLEZhbHNlKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5pel5pyf57G755qE566A5YyW5Ye95pWwIFJlZ2V4DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBSZWdleGJ5RGF0ZSh5LG0sZCkNCg0KCVJlZ2V4YnlEYXRlPVpDX0RBVEVfUkVHRVgNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDml6XmnJ/nsbvnmoTnroDljJblh73mlbAgRnVsbFBhdGgNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEZ1bGxQYXRoKHksbSxkKQ0KCUZ1bGxQYXRoPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yUGF0aChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIix5LG0sZCwiIiwiIiwiIikNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5pel5pyf57G755qE566A5YyW5Ye95pWwIFVybA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gVXJsYnlEYXRlKHksbSxkKQ0KDQoJVXJsYnlEYXRlPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yVXJsKFJlZ2V4YnlEYXRlKHksbSxkKSxaQ19TVEFUSUNfRElSRUNUT1JZLCIiLCIiLHksbSxkLCIiLCIiLCIiKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOaXpeacn+exu+eahOeugOWMluWHveaVsCBVcmwgYXV0bw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gVXJsYnlEYXRlQXV0byh5LG0sZCkNCglEaW0gcw0KCUlmIFpDX1NUQVRJQ19NT0RFPSJNSVgiIFRoZW4NCgkJcz1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybCgieyVob3N0JX0vY2F0YWxvZy5hc3A/ZGF0ZT17JXllYXIlfS17JW1vbnRoJX0iLFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIseSxtLGQsIiIsIiIsIiIpDQoJRWxzZQ0KCQlzPVVybGJ5RGF0ZSh5LG0sZCkNCglFbmQgSWYNCglJZiBSaWdodChzLDEyKT0iZGVmYXVsdC5odG1sIiBUaGVuIHM9TGVmdChzLExlbihzKS0xMikNCglVcmxieURhdGVBdXRvPXMNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAg5Yi35pawY19vcHRpb24uYXNw6Iez5pWw5o2u5bqTICANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFJlZnJlc2hPcHRpb25Gb3JtRmlsZVRvREIoKQ0KCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoNCglJZiBOb3QgQ2hlY2tVcGRhdGVEQigiW2ZuX1NvdXJjZV0iLCJbYmxvZ19GdW5jdGlvbl0iKSBUaGVuDQoJCUlGIFpDX01TU1FMX0VOQUJMRT1UcnVlIFRoZW4JDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBBREQgZm5fU291cmNlIG52YXJjaGFyKDUwKSBkZWZhdWx0ICcnIikNCgkJCW9iakNvbm4uZXhlY3V0ZSgiQUxURVIgVEFCTEUgW2Jsb2dfRnVuY3Rpb25dIEFERCBmbl9WaWV3VHlwZSBudmFyY2hhcig1MCkgZGVmYXVsdCAnJyIpDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBBREQgZm5fSXNIaWRkZW4gYml0IGRlZmF1bHQgMCIpDQoJCUVsc2UNCgkJCW9iakNvbm4uZXhlY3V0ZSgiQUxURVIgVEFCTEUgW2Jsb2dfRnVuY3Rpb25dIEFERCBDT0xVTU4gZm5fU291cmNlIFZBUkNIQVIoNTApIGRlZmF1bHQgIiIiIiIpDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBBREQgQ09MVU1OIGZuX1ZpZXdUeXBlIFZBUkNIQVIoNTApIGRlZmF1bHQgIiIiIiIpDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBBREQgQ09MVU1OIGZuX0lzSGlkZGVuIFlFU05PIERFRkFVTFQgMCIpDQoJCUVuZCBJZg0KDQoJCW9iakNvbm4uZXhlY3V0ZSgiVVBEQVRFIFtibG9nX0Z1bmN0aW9uXSBTRVQgW2ZuX1NvdXJjZV09J3N5c3RlbScgV0hFUkUgW2ZuX0lzU3lzdGVtXTw+MCIpDQoJCW9iakNvbm4uZXhlY3V0ZSgiVVBEQVRFIFtibG9nX0Z1bmN0aW9uXSBTRVQgW2ZuX1NvdXJjZV09J3VzZXJzJyBXSEVSRSBbZm5fSXNTeXN0ZW1dPTAiKQ0KCQlvYmpDb25uLmV4ZWN1dGUoIlVQREFURSBbYmxvZ19GdW5jdGlvbl0gU0VUIFtmbl9Jc0hpZGRlbl09MCIpDQoJCW9iakNvbm4uZXhlY3V0ZSgiVVBEQVRFIFtibG9nX0Z1bmN0aW9uXSBTRVQgW2ZuX1ZpZXdUeXBlXT0nJyIpDQoJCW9iakNvbm4uZXhlY3V0ZSgiVVBEQVRFIFtibG9nX0Z1bmN0aW9uXSBTRVQgW2ZuX01ldGFdPScnIikNCg0KCQlJRiBaQ19NU1NRTF9FTkFCTEU9VHJ1ZSBUaGVuCQ0KCQkJb2JqQ29ubi5leGVjdXRlKCJBTFRFUiBUQUJMRSBbYmxvZ19GdW5jdGlvbl0gRFJPUCBDT0xVTU4gZm5fSXNTeXN0ZW0iKQ0KCQlFbHNlDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBEUk9QIENPTFVNTiBmbl9Jc1N5c3RlbSIpDQoJCUVuZCBJZg0KDQoJCUlGIFpDX01TU1FMX0VOQUJMRT1UcnVlIFRoZW4JDQoJCQlvYmpDb25uLmV4ZWN1dGUoIkFMVEVSIFRBQkxFIFtibG9nX0Z1bmN0aW9uXSBBREQgZm5fSXNIaWRlVGl0bGUgYml0IGRlZmF1bHQgMCIpDQoJCUVsc2UNCgkJCW9iakNvbm4uZXhlY3V0ZSgiQUxURVIgVEFCTEUgW2Jsb2dfRnVuY3Rpb25dIEFERCBDT0xVTU4gZm5fSXNIaWRlVGl0bGUgWUVTTk8gREVGQVVMVCAwIikNCgkJRW5kIElmDQoJCW9iakNvbm4uZXhlY3V0ZSgiVVBEQVRFIFtibG9nX0Z1bmN0aW9uXSBTRVQgW2ZuX0lzSGlkZVRpdGxlXT0wIikNCglFbmQgSWYNCg0KCURpbSBhLGINCgliPUxvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3VzZXJzXGNfb3B0aW9uLmFzcCIsInV0Zi04IikNCglGb3IgRWFjaCBhIEluIEJsb2dDb25maWcuTWV0YS5OYW1lcw0KCQlJZiBJblN0cihiLCJEaW0gIiYgYSk+MCBUaGVuDQoJCQlDYWxsIEV4ZWN1dGUoIkNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiIiImYSYiIiIsIiZhJiIpIikNCgkJRW5kIElmDQoJTmV4dA0KCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfQkxPR19WRVJTSU9OIixSZXBsYWNlKEJsb2dWZXJzaW9ucy5HZXRWYWx1ZShCbG9nVmVyc2lvbnMuTmFtZXMoMSkpLCJaLUJsb2cgIiwiIikpDQoJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19CTE9HX0NMU0lEIixaQ19CTE9HX0NMU0lEX09SSUdJTkFMKQ0KDQoJQ2FsbCBCbG9nQ29uZmlnLlNhdmUoKQ0KDQoNCglDYWxsIEdldEZ1bmN0aW9uKCkNCglJZiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgiY29udHJvbHBhbmVsIikpLkNvbnRlbnQ9IjxzcGFuIGNsYXNzPSIiY3AtbG9naW4iIj48YSBocmVmPSIiPCNaQ19CTE9HX0hPU1QjPnpiX3N5c3RlbS9jbWQuYXNwP2FjdD1sb2dpbiIiPls8I1pDX01TRzAwOSM+XTwvYT48L3NwYW4+Jm5ic3A7Jm5ic3A7PHNwYW4gY2xhc3M9IiJjcC12cnMiIj48YSBocmVmPSIiPCNaQ19CTE9HX0hPU1QjPnpiX3N5c3RlbS9jbWQuYXNwP2FjdD12cnMiIj5bPCNaQ19NU0cwMjEjPl08L2E+PC9zcGFuPiIgVGhlbiANCgkJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImNvbnRyb2xwYW5lbCIpKS5Db250ZW50PSI8c3BhbiBjbGFzcz0iImNwLWhlbGxvIiI+5oKo5aW9LOasoui/juWIsOiuv+e9keermSE8L3NwYW4+PGJyLz48c3BhbiBjbGFzcz0iImNwLWxvZ2luIiI+PGEgaHJlZj0iIjwjWkNfQkxPR19IT1NUIz56Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9bG9naW4iIj5bPCNaQ19NU0cwMDkjPl08L2E+PC9zcGFuPiZuYnNwOyZuYnNwOzxzcGFuIGNsYXNzPSIiY3AtdnJzIiI+PGEgaHJlZj0iIjwjWkNfQkxPR19IT1NUIz56Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9dnJzIiI+WzwjWkNfTVNHMDIxIz5dPC9hPjwvc3Bhbj4iDQoJCUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJjb250cm9scGFuZWwiKSkuUG9zdCgpDQoJRW5kIElmDQoNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRWZXJzaW9uQnlCdWlsZChiKQ0KDQoJRGltIHMNCgliPUNTdHIoYikNCg0KCUlmIEJsb2dWZXJzaW9ucy5FeGlzdHMoYik9VHJ1ZSBUaGVuDQoJCXM9QmxvZ1ZlcnNpb25zLkdldFZhbHVlKGIpDQoJRWxzZQ0KCQlzPSJaLUJsb2cgMi5YIE90aGVyIEJ1aWxkICIgJiBiDQoJRW5kIElmDQoNCglHZXRWZXJzaW9uQnlCdWlsZD1zDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja1VwZGF0ZURCKGEsYikNCglFcnIuQ2xlYXINCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KCURpbSBScw0KCVNldCBScz1vYmpDb25uLmV4ZWN1dGUoIlNFTEVDVCAiJmEmIiBGUk9NICImYikNCglTZXQgUnM9Tm90aGluZw0KCUlmIEVyci5OdW1iZXI9MCBUaGVuDQoJQ2hlY2tVcGRhdGVEQj1UcnVlDQoJRWxzZQ0KCUVyci5DbGVhcg0KCUNoZWNrVXBkYXRlREI9RmFsc2UNCglFbmQgSWYJDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogIA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0TWV0YVZhbHVlV2l0aEZvcm0ob2JqKQ0KDQoJRGltIGEsYg0KDQoJRm9yIEVhY2ggYSBJbiBSZXF1ZXN0LkZvcm0gDQoJCUlmIExlZnQoYSw1KT0ibWV0YV8iIFRoZW4NCgkJCWI9TWlkKGEsNixMZW4oYSkpDQoJCQlDYWxsIG9iai5NZXRhLlNldFZhbHVlKCBiLFJlcXVlc3QuRm9ybShhKSApDQoJCUVuZCBJZg0KCU5leHQNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldEZ1bmN0aW9uQnlGaWxlTmFtZShmbikNCg0KCUNhbGwgR2V0RnVuY3Rpb24oKQ0KDQoJRGltIG9ialJTc3ViDQoJU2V0IG9ialJTc3ViPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUICogRlJPTSBbYmxvZ19GdW5jdGlvbl0gV0hFUkUgW2ZuX0ZpbGVOYW1lXT0nIiYgZm4gJiInIiApDQoJSWYgKE5vdCBvYmpSU3N1Yi5ib2YpIEFuZCAoTm90IG9ialJTc3ViLmVvZikgVGhlbg0KCQlTZXQgR2V0RnVuY3Rpb25CeUZpbGVOYW1lPUZ1bmN0aW9ucyhvYmpSU3N1YigiZm5fSUQiKSkNCglFbHNlDQoJCVNldCBHZXRGdW5jdGlvbkJ5RmlsZU5hbWU9TmV3IFRGdW5jdGlvbg0KCUVuZCBJZg0KCVNldCBvYmpSU3N1Yj1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miANCicgbW9kZT17W2FkZF1bbW9kaWZdW2RlbF19DQonIGl0ZW10eXBlPXtwYWdlLGNhdGUsdGFncyznrYnnrYl9DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBBZGROYXZCYXIoaXRlbXR5cGUsaWQsbmFtZSx1cmwsbW9kZSkNCg0KCUNhbGwgR2V0RnVuY3Rpb24oKQ0KDQoJRGltIHMsczIsdCxpLGosYg0KDQoJYj1GYWxzZQ0KDQoJRGltIHJlDQoJU2V0IHJlID0gTmV3IFJlZ0V4cA0KCXJlLkdsb2JhbCA9IFRydWUNCglyZS5QYXR0ZXJuID0gImhyZWY9IiJbXlwiIl0rPyIiIg0KCXJlLklnbm9yZUNhc2UgPSBUcnVlDQoNCglzPUZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJuYXZiYXIiKSkuQ29udGVudA0KCXMyPXMNCg0KCXQ9U3BsaXQocywiPC9saT4iKQ0KDQoJSWYgVUJvdW5kKHQpPjAgVGhlbg0KCQlGb3IgaT0wIFRvIFVCb3VuZCh0KS0xDQoJCQl0KGkpPXQoaSkgJiAiPC9saT4iDQoJCQlqPXQoaSkNCgkJCUlmIEluU3RyKGosIm1lbnUtIiZpdGVtdHlwZSYiLSImaWQpPjAgVGhlbg0KCQkJCUlmIEluU3RyKG1vZGUsIlttb2RpZl0iKT4wIFRoZW4NCgkJCQkJaj1yZS5SZXBsYWNlKGosImhyZWY9IiIiJnVybCYiIiIiKQ0KCQkJCUVuZCBJZg0KCQkJCWI9VHJ1ZQ0KCQkJRW5kIElmDQoNCgkJCXQoaSk9ag0KCQlOZXh0DQoJRW5kIElmDQoNCgknWkNfTkFWQkFSX01FTlVfSVRFTT0iPGxpIGlkPSIibWVudS0ldHlwZS0laWQiIj48YSBocmVmPSIiJXVybCIiPiVuYW1lPC9hPjwvbGk+Ig0KCUlmIGI9RmFsc2UgQW5kIEluU3RyKG1vZGUsIlthZGRdIik+MCBUaGVuDQoJCWk9VUJvdW5kKHQpDQoJCVJlRGltIFByZXNlcnZlIHQoaSsxKQ0KCQlqPVpDX05BVkJBUl9NRU5VX0lURU0NCgkJaj1SZXBsYWNlKGosIiV0eXBlIixpdGVtdHlwZSkNCgkJaj1SZXBsYWNlKGosIiVpZCIsaWQpDQoJCWo9UmVwbGFjZShqLCIldXJsIix1cmwpDQoJCWo9UmVwbGFjZShqLCIlbmFtZSIsbmFtZSkNCgkJdChpKT1qDQoJRW5kIElmDQoNCglJZiBJblN0cihtb2RlLCJbZGVsXSIpPjAgVGhlbg0KCQlGb3IgaT0wIFRvIFVCb3VuZCh0KS0xDQoJCQlqPXQoaSkNCgkJCUlmIEluU3RyKGosIm1lbnUtIiZpdGVtdHlwZSYiLSImaWQpPjAgVGhlbg0KCQkJCWo9IiINCgkJCUVuZCBJZg0KCQkJdChpKT1qDQoJCU5leHQNCglFbmQgSWYNCg0KCXM9Sm9pbih0LCIiKQ0KDQoJRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoIm5hdmJhciIpKS5Db250ZW50PXMNCglGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgibmF2YmFyIikpLlBvc3QoKQ0KDQoJSWYgczw+czIgVGhlbg0KCQlDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRDYXRlSURCeU5hbWVBbmRBbGlhcyhOYW1lLEFsaWFzKQ0KCURpbSBhcnlDYXRlSW5PcmRlciA6IGFyeUNhdGVJbk9yZGVyPUdldENhdGVnb3J5T3JkZXIoKQ0KCURpbSBtLG4NCglGb3IgbT1MQm91bmQoYXJ5Q2F0ZUluT3JkZXIpIFRvIFVib3VuZChhcnlDYXRlSW5PcmRlcikNCgkJSWYgQWxpYXM9Q2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKG0pKS5BbGlhcyBUaGVuDQoJCQlHZXRDYXRlSURCeU5hbWVBbmRBbGlhcz1DYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIobSkpLklEDQoJCQlFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KCQlJZiBOYW1lPUNhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihtKSkuTmFtZSBUaGVuDQoJCQlHZXRDYXRlSURCeU5hbWVBbmRBbGlhcz1DYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIobSkpLklEDQoJCQlFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KCU5leHQNCglHZXRDYXRlSURCeU5hbWVBbmRBbGlhcz1FbXB0eQ0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENvb2tpZXNQYXRoKCkNCg0KCURpbSBzDQoJcz1CbG9nSG9zdA0KCXM9UmlnaHQoQmxvZ0hvc3QsTGVuKEJsb2dIb3N0KS1JblN0cihCTG9nSG9zdCwiLy8iKS0xKQ0KCXM9UmVwbGFjZShzLFJlcXVlc3QuU2VydmVyVmFyaWFibGVzKCJIVFRQX0hPU1QiKSwiIikNCglJZiBzPSIiIFRoZW4gcz0iLyINCg0KCUNvb2tpZXNQYXRoPXMNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENoZWNrVW5kZWZpbmVkKCkNCg0KCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoJRGltIGENCglhPVVDYXNlKExvYWRGcm9tRmlsZShCbG9nUGF0aCAmInpiX3VzZXJzXGNfb3B0aW9uLmFzcCIsInV0Zi04IikpDQoNCglJZiBUcmltKGEpPSIiIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX1NZTlRBWEhJR0hMSUdIVEVSX0VOQUJMRSIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX1NZTlRBWEhJR0hMSUdIVEVSX0VOQUJMRT1UcnVlIikNCglFbmQgSWYNCg0KCUlmIEluU3RyKGEsIkRJTSBaQ19DT0RFTUlSUk9SX0VOQUJMRSIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX0NPREVNSVJST1JfRU5BQkxFPVRydWUiKQ0KCUVuZCBJZg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX0FSVElDTEVfRVhDRVJQVF9NQVgiKT0wIFRoZW4NCgkJQ2FsbCBFeGVjdXRlR2xvYmFsKCJaQ19BUlRJQ0xFX0VYQ0VSUFRfTUFYPTI1MCIpDQoJRW5kIElmDQoNCglJZiBJblN0cihhLCJESU0gWkNfUE9TVF9TVEFUSUNfTU9ERSIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX1BPU1RfU1RBVElDX01PREU9IiJTVEFUSUMiIiIpDQoJRW5kIElmDQoJDQoJSWYgSW5TdHIoYSwiRElNIFpDX0hUVFBfTEFTVE1PRElGSUVEIik9MCBUaGVuDQoJCUNhbGwgRXhlY3V0ZUdsb2JhbCgiWkNfSFRUUF9MQVNUTU9ESUZJRUQ9RmFsc2UiKQ0KCUVuZCBJZg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX1BFUk1BTkVOVF9ET01BSU5fRU5BQkxFIik9MCBUaGVuDQoJCUNhbGwgRXhlY3V0ZUdsb2JhbCgiWkNfUEVSTUFORU5UX0RPTUFJTl9FTkFCTEU9RmFsc2UiKQ0KCUVuZCBJZg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX0RFRkFVTFRfUEFHRVNfVEVNUExBVEUiKT0wIFRoZW4NCgkJQ2FsbCBFeGVjdXRlR2xvYmFsKCJaQ19ERUZBVUxUX1BBR0VTX1RFTVBMQVRFPSIiIiIiKQ0KCUVuZCBJZg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX1NJREVCQVJfT1JERVIiKT0wIFRoZW4NCgkJQ2FsbCBFeGVjdXRlR2xvYmFsKCJaQ19TSURFQkFSX09SREVSPSIiIiZaQ19ERUZBVUxUX1NJREVCQVImIiIiIikNCglFbmQgSWYNCg0KCUlmIEluU3RyKGEsIkRJTSBaQ19TSURFQkFSX09SREVSMiIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX1NJREVCQVJfT1JERVIyPSIiIiIiKQ0KCUVuZCBJZg0KDQoJSWYgSW5TdHIoYSwiRElNIFpDX1NJREVCQVJfT1JERVIzIik9MCBUaGVuDQoJCUNhbGwgRXhlY3V0ZUdsb2JhbCgiWkNfU0lERUJBUl9PUkRFUjM9IiIiIiIpDQoJRW5kIElmDQoNCglJZiBJblN0cihhLCJESU0gWkNfU0lERUJBUl9PUkRFUjQiKT0wIFRoZW4NCgkJQ2FsbCBFeGVjdXRlR2xvYmFsKCJaQ19TSURFQkFSX09SREVSND0iIiIiIikNCglFbmQgSWYNCg0KCUlmIEluU3RyKGEsIkRJTSBaQ19TSURFQkFSX09SREVSNSIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX1NJREVCQVJfT1JERVI1PSIiIiIiKQ0KCUVuZCBJZg0KCQ0KCUlmIEluU3RyKGEsIkRJTSBaQ19CTE9HX0xBTkdVQUdFUEFDSyIpPTAgVGhlbg0KCQlDYWxsIEV4ZWN1dGVHbG9iYWwoIlpDX0JMT0dfTEFOR1VBR0VQQUNLPSIiU2ltcENoaW5lc2UiIiIpDQoJRW5kIElmDQoNCg0KCUlmIEluU3RyKGEsIkRJTSBaQ19DT01NRU5UX0VYQ0VSUFRfTUFYIik9MCBUaGVuDQoJCUNhbGwgRXhlY3V0ZUdsb2JhbCgiWkNfQ09NTUVOVF9FWENFUlBUX01BWD0yMCIpDQoJRW5kIElmDQoNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEdldEJsb2dWZXJzaW9uKCkNCglEaW0gcw0KCXM9WkNfQkxPR19WRVJTSU9ODQoJcz1SaWdodChzLDYpDQoJcz1UcmltKHMpDQoJcz1DTG5nKHMpDQoJR2V0QmxvZ1ZlcnNpb249cw0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77ya5Li65Li76aKY5o+Q5L6b55qE5L6/5o235Ye95pWwLOWPr+S7peeUn+aIkOiHquW3seeahOaooeWdlw0KJyDlj4LmlbA65Li76aKYSUQs5qih5Z2X5ZCNLOaooeWdl0lEKOaWh+S7tuWQjSks5qih5Z2XSHRtbElELOaooeWdl+exu+WeiyhkaXYvdWwpLOaooeWdl01heGxpKOm7mOiupDApLOaooeWdl+WGheWuuQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQWRkVGhlbWVGdW5jdGlvbihUaGVtZUlELEZ1bmN0aW9uTmFtZSxGdW5jdGlvbkZpbGVOYW1lLEZ1bmN0aW9uSHRtbElELEZ1bmN0aW9uVHlwZSxGdW5jdGlvbk1heExpLEZ1bmN0aW9uSGlkZVRpdGxlLEZ1bmN0aW9uQ29udGVudCkNCg0KCURpbSBvYmpGdW5jdGlvbg0KCVNldCBvYmpGdW5jdGlvbj1HZXRGdW5jdGlvbkJ5RmlsZU5hbWUoRnVuY3Rpb25GaWxlTmFtZSkNCg0KCW9iakZ1bmN0aW9uLk5hbWU9RnVuY3Rpb25OYW1lDQoJb2JqRnVuY3Rpb24uRmlsZU5hbWU9RnVuY3Rpb25GaWxlTmFtZQ0KCW9iakZ1bmN0aW9uLkh0bWxJRD1GdW5jdGlvbkh0bWxJRA0KCW9iakZ1bmN0aW9uLkZ0eXBlPUZ1bmN0aW9uVHlwZQ0KCW9iakZ1bmN0aW9uLk1heExpPUZ1bmN0aW9uTWF4TGkNCglvYmpGdW5jdGlvbi5Db250ZW50PUZ1bmN0aW9uQ29udGVudA0KCW9iakZ1bmN0aW9uLklzSGlkZVRpdGxlPUNCb29sKEZ1bmN0aW9uSGlkZVRpdGxlKQ0KCW9iakZ1bmN0aW9uLlNvdXJjZT0idGhlbWVfIiYgVGhlbWVJRA0KDQoJSWYgb2JqRnVuY3Rpb24uUG9zdCBUaGVuDQoJCUFkZFRoZW1lRnVuY3Rpb249VHJ1ZQ0KCUVuZCBJZg0KCVNldCBvYmpGdW5jdGlvbj1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8muS4uuaPkuS7ti4uLiANCicg5Y+C5pWwOuaPkuS7tklELOaooeWdl+WQjSzmqKHlnZdJRCjmlofku7blkI0pLOaooeWdl0h0bWxJRCzmqKHlnZfnsbvlnosoZGl2L3VsKSzmqKHlnZdNYXhsaSjpu5jorqQwKSzmqKHlnZflhoXlrrkNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEFkZFBsdWdpbkZ1bmN0aW9uKFBsdWdpbklELEZ1bmN0aW9uTmFtZSxGdW5jdGlvbkZpbGVOYW1lLEZ1bmN0aW9uSHRtbElELEZ1bmN0aW9uVHlwZSxGdW5jdGlvbk1heExpLEZ1bmN0aW9uSGlkZVRpdGxlLEZ1bmN0aW9uQ29udGVudCkNCg0KCURpbSBvYmpGdW5jdGlvbg0KCVNldCBvYmpGdW5jdGlvbj1HZXRGdW5jdGlvbkJ5RmlsZU5hbWUoRnVuY3Rpb25GaWxlTmFtZSkNCg0KCW9iakZ1bmN0aW9uLk5hbWU9RnVuY3Rpb25OYW1lDQoJb2JqRnVuY3Rpb24uRmlsZU5hbWU9RnVuY3Rpb25GaWxlTmFtZQ0KCW9iakZ1bmN0aW9uLkh0bWxJRD1GdW5jdGlvbkh0bWxJRA0KCW9iakZ1bmN0aW9uLkZ0eXBlPUZ1bmN0aW9uVHlwZQ0KCW9iakZ1bmN0aW9uLk1heExpPUZ1bmN0aW9uTWF4TGkNCglvYmpGdW5jdGlvbi5Db250ZW50PUZ1bmN0aW9uQ29udGVudA0KCW9iakZ1bmN0aW9uLklzSGlkZVRpdGxlPUNCb29sKEZ1bmN0aW9uSGlkZVRpdGxlKQ0KCW9iakZ1bmN0aW9uLlNvdXJjZT0icGx1Z2luXyImIFBsdWdpbklEDQoNCglJZiBvYmpGdW5jdGlvbi5Qb3N0IFRoZW4NCgkJQWRkUGx1Z2luRnVuY3Rpb249VHJ1ZQ0KCUVuZCBJZg0KCVNldCBvYmpGdW5jdGlvbj1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQpGdW5jdGlvbiBDcmVhdGVWYWxpZENvZGUoc3RyVmVyaWZ5TnVtYmVyKQ0KCUNhbGwgRmlsdGVyX1BsdWdpbl9WYWxpZENvZGVfQ3JlYXRlKHN0clZlcmlmeU51bWJlcikNCkVuZCBGdW5jdGlvbg0KDQoNCkZ1bmN0aW9uIENoZWNrVmFsaWRDb2RlKHN0cklucHV0TnVtYmVyKQ0KCUNoZWNrVmFsaWRDb2RlPUZpbHRlcl9QbHVnaW5fVmFsaWRDb2RlX0NoZWNrKHN0cklucHV0TnVtYmVyKQ0KRW5kIEZ1bmN0aW9uDQoNCg0KJT4NCg==</file>
	<file name='zb_system\FUNCTION\c_system_event.asp' crc32='9C8ECA98'  dt:dt='bin.base64'>77u/PCUNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonLy8gICAgICAgICAgICAgIFotQmxvZw0KJy8vIOS9nCAgICDogIU6ICAgIOacseeFiih6eC5hc2QpDQonLy8g54mI5p2D5omA5pyJOiAgICBSYWluYm93U29mdCBTdHVkaW8NCicvLyDmioDmnK/mlK/mjIE6ICAgIHJhaW5ib3dzb2Z0QDE2My5jb20NCicvLyDnqIvluo/lkI3np7A6DQonLy8g56iL5bqP54mI5pysOg0KJy8vIOWNleWFg+WQjeensDogICAgY19zeXN0ZW1fZXZlbnQuYXNwDQonLy8g5byA5aeL5pe26Ze0OiAgICAyMDA1LjAyLjExDQonLy8g5pyA5ZCO5L+u5pS5Og0KJy8vIOWkhyAgICDms6g6DQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KDQoNCg0KDQoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg55So5oi355m76ZmGDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpQdWJsaWMgRnVuY3Rpb24gTG9naW4oKQ0KDQoJJ0lmIENoZWNrVmFsaWRDb2RlKFJlcXVlc3QuRm9ybSgiZWR0Q2hlY2tPdXQiKSk9RmFsc2UgVGhlbiBDYWxsIFNob3dFcnJvcigzOCkNCg0KCUJsb2dVc2VyLkxvZ2luVHlwZT0iU2VsZiINCglCbG9nVXNlci5OYW1lPVJlcXVlc3QuRm9ybSgidXNlcm5hbWUiKQ0KCUJsb2dVc2VyLlBhc3NXb3JkPUJsb2dVc2VyLkdldFBhc3N3b3JkQnlNRDUoUmVxdWVzdC5Gb3JtKCJwYXNzd29yZCIpKQ0KDQoJSWYgQmxvZ1VzZXIuVmVyaWZ5PVRydWUgVGhlbg0KDQoJCVJlc3BvbnNlLkNvb2tpZXMoInBhc3N3b3JkIik9QmxvZ1VzZXIuUGFzc1dvcmQNCgkJSWYgUmVxdWVzdC5Gb3JtKCJzYXZlZGF0ZSIpPD4wIFRoZW4NCgkJCVJlc3BvbnNlLkNvb2tpZXMoInBhc3N3b3JkIikuRXhwaXJlcyA9IERhdGVBZGQoImQiLCBSZXF1ZXN0LkZvcm0oInNhdmVkYXRlIiksIG5vdykNCgkJRW5kIElmDQoJCVJlc3BvbnNlLkNvb2tpZXMoInBhc3N3b3JkIikuUGF0aCA9IENvb2tpZXNQYXRoKCkNCg0KCQlMb2dpbj1UcnVlDQoNCg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuQ29va2llcygidXNlcm5hbWUiKT1lc2NhcGUoUmVxdWVzdC5Gb3JtKCJ1c2VybmFtZSIpKQ0KCUlmIFJlcXVlc3QuRm9ybSgic2F2ZWRhdGUiKTw+MCBUaGVuDQoJCVJlc3BvbnNlLkNvb2tpZXMoInVzZXJuYW1lIikuRXhwaXJlcyA9IERhdGVBZGQoImQiLCBSZXF1ZXN0LkZvcm0oInNhdmVkYXRlIiksIG5vdykNCglFbmQgSWYNCglSZXNwb25zZS5Db29raWVzKCJ1c2VybmFtZSIpLlBhdGggPSBDb29raWVzUGF0aCgpDQoNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOeUqOaIt+mAgOWHug0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KUHVibGljIEZ1bmN0aW9uIExvZ291dCgpDQoNCglSZXNwb25zZS5Db29raWVzKCJ1c2VybmFtZSIpPSIiDQoJUmVzcG9uc2UuQ29va2llcygicGFzc3dvcmQiKT0iIg0KCVJlc3BvbnNlLkNvb2tpZXMoInVzZXJuYW1lIikuUGF0aCA9IENvb2tpZXNQYXRoKCkNCglSZXNwb25zZS5Db29raWVzKCJwYXNzd29yZCIpLlBhdGggPSBDb29raWVzUGF0aCgpDQoJDQoJTG9nb3V0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5paH5Lu25LiK5LygDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBVcGxvYWRGaWxlKGJvbEF1dG9OYW1lKQ0KDQoJRGltIG9ialVwTG9hZEZpbGUNCglTZXQgb2JqVXBMb2FkRmlsZT1OZXcgVFVwTG9hZEZpbGUNCg0KCW9ialVwTG9hZEZpbGUuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQNCglvYmpVcExvYWRGaWxlLkF1dG9OYW1lPWJvbEF1dG9OYW1lDQoNCglJZiBvYmpVcExvYWRGaWxlLlVwTG9hZCgpIFRoZW4NCg0KCQlVcGxvYWRGaWxlPVRydWUNCg0KCUVuZCBJZg0KDQoJU2V0IG9ialVwTG9hZEZpbGU9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRm9ybSBvZiBTZW5kIEZpbGUNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNlbmRGaWxlKCkNCg0KCVJlc3BvbnNlLldyaXRlICI8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIiItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIiICIiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCIiPjxodG1sPjxoZWFkPjxtZXRhIGh0dHAtZXF1aXY9IiJDb250ZW50LVR5cGUiIiBjb250ZW50PSIidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiIvPjxtZXRhIGh0dHAtZXF1aXY9IiJDb250ZW50LUxhbmd1YWdlIiIgY29udGVudD0iInpoLWNuIiIgLz48bGluayByZWw9IiJzdHlsZXNoZWV0IiIgcmV2PSIic3R5bGVzaGVldCIiIGhyZWY9IiJDU1MvYWRtaW4uY3NzIiIgdHlwZT0iInRleHQvY3NzIiIgbWVkaWE9IiJzY3JlZW4iIiAvPjxzY3JpcHQgc3JjPSIic2NyaXB0L2NvbW1vbi5qcyIiIHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj48L3NjcmlwdD48L2hlYWQ+PGJvZHk+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxmb3JtIGJvcmRlcj0iIjEiIiBuYW1lPSIiZWRpdCIiIGlkPSIiZWRpdCIiIG1ldGhvZD0iInBvc3QiIiBlbmN0eXBlPSIibXVsdGlwYXJ0L2Zvcm0tZGF0YSIiIGFjdGlvbj0iIiImIEJsb2dIb3N0ICYiY21kLmFzcD9hY3Q9RmlsZVVwbG9hZCZyZWxvYWQ9MSIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHA+IiYgWkNfTVNHMTA4ICYiOiAiDQoJUmVzcG9uc2UuV3JpdGUgIjxpbnB1dCB0eXBlPSIiZmlsZSIiIGlkPSIiZWR0RmlsZUxvYWQiIiBuYW1lPSIiZWR0RmlsZUxvYWQiIiBzaXplPSIiMjAiIj4gIDxpbnB1dCB0eXBlPSIic3VibWl0IiIgY2xhc3M9IiJidXR0b24iIiB2YWx1ZT0iIiImIFpDX01TRzA4NyAmIiIiIG5hbWU9IiJCMSIiIG9uY2xpY2s9J2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWRpdCIiKS5hY3Rpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbisiIiZmaWxlbmFtZT0iIitlc2NhcGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZHRGaWxlTG9hZCIiKS52YWx1ZSknIC8+IDxpbnB1dCBjbGFzcz0iImJ1dHRvbiIiIHR5cGU9IiJyZXNldCIiIHZhbHVlPSIiIiYgWkNfTVNHMDg4ICYiIiIgbmFtZT0iIkIyIiIgLz4iDQoJUmVzcG9uc2UuV3JpdGUgIiZuYnNwOzxpbnB1dCB0eXBlPSIiY2hlY2tib3giIiBvbmNsaWNrPSdpZih0aGlzLmNoZWNrZWQ9PXRydWUpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWRpdCIiKS5hY3Rpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbisiIiZhdXRvbmFtZT0xIiI7fWVsc2V7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbj0iIiImIEJsb2dIb3N0ICYiY21kLmFzcD9hY3Q9RmlsZVVwbG9hZCZyZWxvYWQ9MSIiO307U2V0Q29va2llKCIiY2hrQXV0b0ZpbGVOYW1lIiIsdGhpcy5jaGVja2VkLDM2NSk7JyBpZD0iImNoa0F1dG9OYW1lIiIgaWQ9IiJjaGtBdXRvTmFtZSIiLz48bGFiZWwgZm9yPSIiY2hrQXV0b05hbWUiIj4iJiBaQ19NU0cxMzEgJiI8L2xhYmVsPjwvcD48L2Zvcm0+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxzY3JpcHQgdHlwZT0iInRleHQvamF2YXNjcmlwdCIiPmlmKEdldENvb2tpZSgiImNoa0F1dG9GaWxlTmFtZSIiKT09IiJ0cnVlIiIpe2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiY2hrQXV0b05hbWUiIikuY2hlY2tlZD10cnVlO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWRpdCIiKS5hY3Rpb249ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbisiIiZhdXRvbmFtZT0xIiI7fTs8L3NjcmlwdD48L2JvZHk+PC9odG1sPiINCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgIOaWh+S7tuWIoOmZpA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRGVsRmlsZShpbnRJRCkNCg0KCURpbSBvYmpVcExvYWRGaWxlDQoJU2V0IG9ialVwTG9hZEZpbGU9TmV3IFRVcExvYWRGaWxlDQoNCglJZiBvYmpVcExvYWRGaWxlLkxvYWRJbmZvQnlJRChpbnRJRCkgVGhlbg0KDQoJCUlmIChvYmpVcExvYWRGaWxlLkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAoQ2hlY2tSaWdodHMoIlJvb3QiKT1UcnVlKSAgT3IgKENoZWNrUmlnaHRzKCJGaWxlQWxsIik9VHJ1ZSkgVGhlbg0KCQkJSWYgb2JqVXBMb2FkRmlsZS5EZWwgVGhlbiBEZWxGaWxlPVRydWUNCgkJRW5kIElmDQoNCglFbHNlDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCg0KCVNldCBvYmpVcExvYWRGaWxlPU5vdGhpbmcNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgUG9zdCBBcnRpY2xlDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBQb3N0QXJ0aWNsZSgpDQoNCglEaW0gcyxpLHQsaw0KCURpbSBzdHJUYWcsc3RyTWV0YQ0KDQoJSWYgUmVxdWVzdC5Gb3JtKCJlZHRJRCIpPD4iMCIgVGhlbg0KCQlEaW0gb2JqVGVzdEFydGljbGUNCgkJU2V0IG9ialRlc3RBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQlJZiBvYmpUZXN0QXJ0aWNsZS5Mb2FkSW5mb2J5SUQoUmVxdWVzdC5Gb3JtKCJlZHRJRCIpKSBUaGVuDQoJCQlJZiBOb3QoKG9ialRlc3RBcnRpY2xlLkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAoQ2hlY2tSaWdodHMoIlJvb3QiKT1UcnVlKSBPciAoQ2hlY2tSaWdodHMoIkFydGljbGVBbGwiKT1UcnVlKSkgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCQlzdHJUYWc9b2JqVGVzdEFydGljbGUuVGFnDQoJCQlzdHJNZXRhPW9ialRlc3RBcnRpY2xlLk1ldGFTdHJpbmcNCgkJRWxzZQ0KCQkJQ2FsbCBTaG93RXJyb3IoOSkNCgkJRW5kIElmDQoJRW5kIElmDQoNCglEaW0gb2JqQXJ0aWNsZQ0KCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCW9iakFydGljbGUuSUQ9UmVxdWVzdC5Gb3JtKCJlZHRJRCIpDQoJb2JqQXJ0aWNsZS5DYXRlSUQ9UmVxdWVzdC5Gb3JtKCJlZHRDYXRlSUQiKQ0KCW9iakFydGljbGUuQXV0aG9ySUQ9SUlmKENoZWNrUmlnaHRzKCJSb290IikgT3IgQ2hlY2tSaWdodHMoIkFydGljbGVBbGwiKSxSZXF1ZXN0LkZvcm0oImVkdEF1dGhvcklEIiksQmxvZ1VzZXIuSUQpDQoJb2JqQXJ0aWNsZS5MZXZlbD1SZXF1ZXN0LkZvcm0oImVkdExldmVsIikNCicJb2JqQXJ0aWNsZS5Qb3N0VGltZT1SZXF1ZXN0LkZvcm0oImVkdFllYXIiKSAmICItIiAmIFJlcXVlc3QuRm9ybSgiZWR0TW9udGgiKSAmICItIiAmIFJlcXVlc3QuRm9ybSgiZWR0RGF5IikgJiAiICIgJiAgUmVxdWVzdC5Gb3JtKCJlZHRUaW1lIikNCglvYmpBcnRpY2xlLlBvc3RUaW1lPVJlcXVlc3QuRm9ybSgiZWR0RGF0ZVRpbWUiKQ0KCW9iakFydGljbGUuVGl0bGU9UmVxdWVzdC5Gb3JtKCJlZHRUaXRsZSIpDQoJb2JqQXJ0aWNsZS5UYWc9UGFyc2VUYWcoUmVxdWVzdC5Gb3JtKCJlZHRUYWciKSkNCglvYmpBcnRpY2xlLkFsaWFzPVJlcXVlc3QuRm9ybSgiZWR0QWxpYXMiKQ0KCW9iakFydGljbGUuSXN0b3A9SUlmKENoZWNrUmlnaHRzKCJSb290IiksUmVxdWVzdC5Gb3JtKCJlZHRJc3RvcCIpLEZhbHNlKQ0KCW9iakFydGljbGUuVGVtcGxhdGVOYW1lPVJlcXVlc3QuRm9ybSgiZWR0VGVtcGxhdGUiKQ0KCW9iakFydGljbGUuRlR5cGU9Q0xuZyhSZXF1ZXN0LkZvcm0oImVkdEZUeXBlIikpDQoNCglvYmpBcnRpY2xlLkludHJvPVJlcXVlc3QuRm9ybSgidHhhSW50cm8iKQ0KDQoJb2JqQXJ0aWNsZS5Db250ZW50PVJlcXVlc3QuRm9ybSgidHhhQ29udGVudCIpDQoNCg0KDQoJSWYgb2JqQXJ0aWNsZS5GVHlwZT1aQ19QT1NUX1RZUEVfQVJUSUNMRSBUaGVuDQoNCgkJJ+aRmOimgeeUn+aIkA0KDQoJCUlmIEluU3RyKG9iakFydGljbGUuQ29udGVudCwiPGhyIGNsYXNzPSIibW9yZSIiIC8+Iik+MCBUaGVuDQoJCQlzPW9iakFydGljbGUuQ29udGVudA0KCQkJaT1JblN0cihzLCI8aHIgY2xhc3M9IiJtb3JlIiIgLz4iKQ0KCQkJcz1MZWZ0KHMsaS0xKQ0KCQkJb2JqQXJ0aWNsZS5JbnRybz1jbG9zZUhUTUwocykgJiAiPCEtLWF1dG9pbnRyby0tPiINCgkJCW9iakFydGljbGUuQ29udGVudD1SZXBsYWNlKG9iakFydGljbGUuQ29udGVudCwiPGhyIGNsYXNzPSIibW9yZSIiIC8+IiwiPCEtLW1vcmUtLT4iLDEsMSkNCgkJRWxzZUlmIEluU3RyKG9iakFydGljbGUuQ29udGVudCwiPGhyIGNsYXNzPSIibW9yZSIiLz4iKT4wIFRoZW4NCgkJCXM9b2JqQXJ0aWNsZS5Db250ZW50DQoJCQlpPUluU3RyKHMsIjxociBjbGFzcz0iIm1vcmUiIi8+IikNCgkJCXM9TGVmdChzLGktMSkNCgkJCW9iakFydGljbGUuSW50cm89Y2xvc2VIVE1MKHMpICYgIjwhLS1hdXRvaW50cm8tLT4iDQoJCQlvYmpBcnRpY2xlLkNvbnRlbnQ9UmVwbGFjZShvYmpBcnRpY2xlLkNvbnRlbnQsIjxociBjbGFzcz0iIm1vcmUiIi8+IiwiPCEtLW1vcmUtLT4iLDEsMSkNCgkJRW5kIElmDQoJCQ0KCQkn5qC55o2uPC9wPuWIhuWJsg0KCQlJZiBvYmpBcnRpY2xlLkludHJvPSIiIFRoZW4NCgkJCXM9b2JqQXJ0aWNsZS5Db250ZW50DQoJCQlEaW0gYXJ5SW50cm8NCgkJCWFyeUludHJvPVNwbGl0KHMsIjwvcD4iKQ0KCQkJRm9yIGkgPSAwIFRvIFVCb3VuZChhcnlJbnRybykNCgkJCQlJZiBUcmltKGFyeUludHJvKGkpKTw+IiIgVGhlbg0KCQkJCQl0PXQgJiBhcnlJbnRybyhpKSAmICBJSWYoSW5TdHIoYXJ5SW50cm8oaSksIjxwPiIpPjAsIjwvcD4iLCIiKQ0KCQkJCUVuZCBJZg0KCQkJCUlmIExlbih0KT5aQ19BUlRJQ0xFX0VYQ0VSUFRfTUFYIFRoZW4gRXhpdCBmb3INCgkJCU5leHQgDQoJCQlvYmpBcnRpY2xlLkludHJvPWNsb3NlSFRNTCh0KSAmICI8IS0tYXV0b2ludHJvLS0+Ig0KCQlFbmQgSWYNCglFbHNlSWYgb2JqQXJ0aWNsZS5GVHlwZT1aQ19QT1NUX1RZUEVfUEFHRSBUaGVuDQoJCUlmIENoZWNrUmlnaHRzKCJSb290Iik9RmFsc2UgQW5kIENoZWNrUmlnaHRzKCJBcnRpY2xlQWxsIik9RmFsc2UgVGhlbiBDYWxsIFNob3dFcnJvcig2KQ0KCUVuZCBJZg0KDQoJb2JqQXJ0aWNsZS5NZXRhU3RyaW5nPXN0ck1ldGENCglDYWxsIEdldE1ldGFWYWx1ZXdpdGhGb3JtKG9iakFydGljbGUpDQoNCgkn5o6l5Y+jDQoJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RBcnRpY2xlX0NvcmUob2JqQXJ0aWNsZSkNCgkNCglJZiBvYmpBcnRpY2xlLlBvc3QgVGhlbg0KCQlDYWxsIFNjYW5UYWdDb3VudChzdHJUYWcgJiBvYmpBcnRpY2xlLlRhZykNCgkJQ2FsbCBCdWlsZEFydGljbGUob2JqQXJ0aWNsZS5JRCxUcnVlLFRydWUpDQoJCUlmIG9iakFydGljbGUuRlR5cGU9WkNfUE9TVF9UWVBFX1BBR0UgVGhlbg0KCQkJSWYgUmVxdWVzdC5Gb3JtKCJlZHRBZGROYXZCYXIiKT0iVHJ1ZSIgVGhlbg0KCQkJCUNhbGwgQWRkTmF2QmFyKCJwYWdlIixvYmpBcnRpY2xlLklELG9iakFydGljbGUuSHRtbFRpdGxlLG9iakFydGljbGUuSHRtbFVybCwiW21vZGlmXVthZGRdIikNCgkJCUVsc2UNCgkJCQlDYWxsIEFkZE5hdkJhcigicGFnZSIsb2JqQXJ0aWNsZS5JRCxvYmpBcnRpY2xlLkh0bWxUaXRsZSxvYmpBcnRpY2xlLkh0bWxVcmwsIlttb2RpZl0iKQ0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCQlQb3N0QXJ0aWNsZT1UcnVlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9Qb3N0QXJ0aWNsZV9TdWNjZWVkKG9iakFydGljbGUpDQoJRW5kIElmDQoNCglTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBEZWwgQXJ0aWNsZQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRGVsQXJ0aWNsZShpbnRJRCkNCg0KCURpbSBzdHJUYWcNCg0KCUlmIGludElEPD4iIiBUaGVuDQoJCURpbSBvYmpUZXN0QXJ0aWNsZQ0KCQlTZXQgb2JqVGVzdEFydGljbGU9TmV3IFRBcnRpY2xlDQoJCUlmIG9ialRlc3RBcnRpY2xlLkxvYWRJbmZvYnlJRChpbnRJRCkgVGhlbg0KCQkJSWYgTm90KChvYmpUZXN0QXJ0aWNsZS5BdXRob3JJRD1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkgT3IgKENoZWNrUmlnaHRzKCJBcnRpY2xlQWxsIik9VHJ1ZSkpIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQkJc3RyVGFnPW9ialRlc3RBcnRpY2xlLlRhZw0KCQlFbHNlDQoJCQlDYWxsIFNob3dFcnJvcig5KQ0KCQlFbmQgSWYNCgkJU2V0IG9ialRlc3RBcnRpY2xlPU5vdGhpbmcNCglFbmQgSWYNCg0KCURpbSBvYmpBcnRpY2xlDQoJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoNCglJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlJRChpbnRJRCkgVGhlbg0KDQoJCUlmIG9iakFydGljbGUuRGVsIFRoZW4gDQoJCQlvYmpBcnRpY2xlLlN0YXRpc3RpYw0KCQkJRGVsQXJ0aWNsZT1UcnVlDQoJCUVuZCBJZiANCgkJQ2FsbCBTY2FuVGFnQ291bnQoc3RyVGFnKQ0KDQoJCUNhbGwgQmxvZ1JlQnVpbGRfQ29tbWVudHMNCgkJQ2FsbCBCbG9nUmVCdWlsZF9EZWZhdWx0DQoNCglFbmQgSWYNCg0KCVNldCBvYmpBcnRpY2xlPU5vdGhpbmcNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgUG9zdCBDYXRlZ29yeQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUG9zdENhdGVnb3J5KCkNCg0KCUlmIEluc3RyKFJlcXVlc3QuU2VydmVyVmFyaWFibGVzKCJIVFRQX1JFRkVSRVIiKSwiP2lkPTAiKT4wIFRoZW4NCg0KCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1VOQ0FURUdPUklaRURfTkFNRSIsUmVxdWVzdC5Gb3JtKCJlZHROYW1lIikpDQoJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfVU5DQVRFR09SSVpFRF9BTElBUyIsUmVxdWVzdC5Gb3JtKCJlZHRBbGlhcyIpKQ0KCQlCbG9nQ29uZmlnLlNhdmUNCgkJUG9zdENhdGVnb3J5PVRydWUNCgkJRXhpdCBGdW5jdGlvbg0KCQlSZXNwb25zZS5FbmQNCglFbmQgSWYNCg0KCURpbSBvYmpDYXRlZ29yeQ0KCVNldCBvYmpDYXRlZ29yeT1OZXcgVENhdGVnb3J5DQoJb2JqQ2F0ZWdvcnkuSUQ9UmVxdWVzdC5Gb3JtKCJlZHRJRCIpDQoJb2JqQ2F0ZWdvcnkuTmFtZT1SZXF1ZXN0LkZvcm0oImVkdE5hbWUiKQ0KCW9iakNhdGVnb3J5Lk9yZGVyPVJlcXVlc3QuRm9ybSgiZWR0T3JkZXIiKQ0KCW9iakNhdGVnb3J5LlBhcmVudElEPVJlcXVlc3QuRm9ybSgiZWR0UGFyZUlEIikNCglvYmpDYXRlZ29yeS5BbGlhcz1SZXF1ZXN0LkZvcm0oImVkdEFsaWFzIikNCglvYmpDYXRlZ29yeS5UZW1wbGF0ZU5hbWU9UmVxdWVzdC5Gb3JtKCJlZHRUZW1wbGF0ZSIpDQoJb2JqQ2F0ZWdvcnkuTG9nVGVtcGxhdGU9UmVxdWVzdC5Gb3JtKCJlZHRMb2dUZW1wbGF0ZSIpDQoNCglJZiBDTG5nKG9iakNhdGVnb3J5LklEKT4wIFRoZW4gb2JqQ2F0ZWdvcnkuTWV0YVN0cmluZz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbY2F0ZV9NZXRhXSBGUk9NIFtibG9nX0NhdGVnb3J5XSBXSEVSRSBbY2F0ZV9JRF09IiZDTG5nKG9iakNhdGVnb3J5LklEKSkoMCkNCglDYWxsIEdldE1ldGFWYWx1ZXdpdGhGb3JtKG9iakNhdGVnb3J5KQ0KDQoJJ+aOpeWPow0KCUNhbGwgRmlsdGVyX1BsdWdpbl9Qb3N0Q2F0ZWdvcnlfQ29yZShvYmpDYXRlZ29yeSkNCg0KDQoJSWYgb2JqQ2F0ZWdvcnkuUG9zdCBUaGVuDQoNCgkJUG9zdENhdGVnb3J5PVRydWUNCg0KCQlJZiBSZXF1ZXN0LkZvcm0oImVkdEFkZE5hdkJhciIpPSJUcnVlIiBUaGVuDQoJCQlDYWxsIEFkZE5hdkJhcigiY2F0ZSIsb2JqQ2F0ZWdvcnkuSUQsb2JqQ2F0ZWdvcnkuSHRtbE5hbWUsb2JqQ2F0ZWdvcnkuSHRtbFVybCwiW21vZGlmXVthZGRdIikNCgkJRWxzZQ0KCQkJQ2FsbCBBZGROYXZCYXIoImNhdGUiLG9iakNhdGVnb3J5LklELG9iakNhdGVnb3J5Lkh0bWxOYW1lLG9iakNhdGVnb3J5Lkh0bWxVcmwsIlttb2RpZl0iKQ0KCQlFbmQgSWYNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fUG9zdENhdGVnb3J5X1N1Y2NlZWQob2JqQ2F0ZWdvcnkpDQoNCglFbmQgSWYNCg0KCVNldCBvYmpDYXRlZ29yeT1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBEZWwgQ2F0ZWdvcnkNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIERlbENhdGVnb3J5KGludElEKQ0KDQoJRGltIG9iakNhdGVnb3J5DQoJU2V0IG9iakNhdGVnb3J5PU5ldyBUQ2F0ZWdvcnkNCg0KCUlmIG9iakNhdGVnb3J5LkxvYWRJbmZvYnlJRChpbnRJRCkgVGhlbg0KCQlJZiBvYmpDYXRlZ29yeS5EZWwgVGhlbiBEZWxDYXRlZ29yeT1UcnVlDQoJRW5kIElmDQoNCglTZXQgb2JqQ2F0ZWdvcnk9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KDQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFBvc3QgQ29tbWVudA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUG9zdENvbW1lbnQoc3RyS2V5KQ0KDQoJQ2FsbCBHZXRVc2VyKCkNCg0KCUlmIElzRW1wdHkoUmVxdWVzdC5Gb3JtKCJpbnBBamF4IikpPUZhbHNlIFRoZW4NCgkJU2hvd0Vycm9yX0N1c3RvbT0iQ2FsbCBSZXNwb25kRXJyb3IoaWQsWlZBX0Vycm9yTXNnKGlkKSk6UmVzcG9uc2UuRW5kIg0KCUVuZCBJZg0KDQoJSWYgWkNfQ09NTUVOVF9UVVJOT0ZGIFRoZW4NCgkJQ2FsbCBTaG93RXJyb3IoNDApDQoJRW5kIElmDQoNCglJZiBaQ19DT01NRU5UX1ZFUklGWV9FTkFCTEUgQW5kIFpDX0NPTU1FTlRfVkVSSUZZX0VOQUJMRV9JTlRFUk5BTCBUaGVuDQoJCUlmIENoZWNrVmFsaWRDb2RlKFJlcXVlc3QuRm9ybSgiaW5wVmVyaWZ5IikpPUZhbHNlIFRoZW4gQ2FsbCBTaG93RXJyb3IoMzgpDQoJRW5kIElmDQoNCglEaW0gaW5wSUQsaW5wTmFtZSxpbnBBcnRpY2xlLGlucEVtYWlsLGlucEhvbWVQYWdlLGlucFBhcmVudElEDQoNCglpbnBJRD1SZXF1ZXN0LkZvcm0oImlucElEIikNCglpbnBOYW1lPVJlcXVlc3QuRm9ybSgiaW5wTmFtZSIpDQoJaW5wQXJ0aWNsZT1SZXF1ZXN0LkZvcm0oImlucEFydGljbGUiKQ0KCWlucEVtYWlsPVJlcXVlc3QuRm9ybSgiaW5wRW1haWwiKQ0KCWlucEhvbWVQYWdlPVJlcXVlc3QuRm9ybSgiaW5wSG9tZVBhZ2UiKQ0KCWlucFBhcmVudElEPUNMbmcoSUlmKFJlcXVlc3QuRm9ybSgiaW5wUmV2SUQiKT0iIiwwLFJlcXVlc3QuRm9ybSgiaW5wUmV2SUQiKSkpDQoJDQoJSWYgTGVuKGlucEFydGljbGUpPTAgT3IgTGVuKGlucEFydGljbGUpPlpDX0NPTlRFTlRfTUFYIFRoZW4NCgkJQ2FsbCAgU2hvd0Vycm9yKDQ2KQ0KCUVuZCBJZg0KDQoJRGltIG9iakNvbW1lbnQNCglEaW0gb2JqQXJ0aWNsZQ0KCURpbSB0bXBDb3VudA0KDQoJU2V0IG9iakNvbW1lbnQ9TmV3IFRDb21tZW50DQoNCg0KCUlmIENMbmcoaW5wUGFyZW50SUQpPjAgVGhlbg0KCQkNCgkJRGltIGkNCgkJaT1HZXRDb21tZW50Rmxvb3IoaW5wUGFyZW50SUQpDQoJCUlmIGk+WkNfQ09NTU5FVF9NQVhGTE9PUi0xIFRoZW4JQ2FsbCBTaG93RXJyb3IoNTIpDQoNCglFbmQgSWYNCg0KDQoJb2JqQ29tbWVudC5sb2dfSUQ9aW5wSUQNCglvYmpDb21tZW50LkF1dGhvcklEPUJsb2dVc2VyLklEDQoJb2JqQ29tbWVudC5BdXRob3I9aW5wTmFtZQ0KCW9iakNvbW1lbnQuQ29udGVudD1pbnBBcnRpY2xlDQoJb2JqQ29tbWVudC5FbWFpbD1pbnBFbWFpbA0KCW9iakNvbW1lbnQuSG9tZVBhZ2U9aW5wSG9tZVBhZ2UNCglvYmpDb21tZW50LlBhcmVudElEPWlucFBhcmVudElEDQoNCg0KCSfmjqXlj6MNCglDYWxsIEZpbHRlcl9QbHVnaW5fUG9zdENvbW1lbnRfQ29yZShvYmpDb21tZW50KQ0KDQoJSWYgb2JqQ29tbWVudC5Jc1Rocm93PVRydWUgVGhlbiBDYWxsIFNob3dFcnJvcigxNCkNCg0KCUlmIG9iakNvbW1lbnQuQXV0aG9ySUQ+MCBUaGVuDQoJCW9iakNvbW1lbnQuQXV0aG9yICA9VXNlcnMob2JqQ29tbWVudC5BdXRob3JJRCkuTmFtZQ0KCQlvYmpDb21tZW50LkVNYWlsICAgPVVzZXJzKG9iakNvbW1lbnQuQXV0aG9ySUQpLkVtYWlsDQoJCW9iakNvbW1lbnQuSG9tZVBhZ2U9VXNlcnMob2JqQ29tbWVudC5BdXRob3JJRCkuSG9tZVBhZ2UNCglFbmQgSWYNCg0KCUlmIG9iakNvbW1lbnQubG9nX0lEPjAgVGhlbg0KCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJSWYgb2JqQXJ0aWNsZS5Mb2FkSW5mb0J5SUQob2JqQ29tbWVudC5sb2dfSUQpIFRoZW4NCgkJCUlmIE5vdCAoc3RyS2V5PW9iakFydGljbGUuQ29tbWVudEtleSkgVGhlbiBDYWxsIFNob3dFcnJvcig0MykNCgkJCUlmIG9iakFydGljbGUuTGV2ZWw8NCBUaGVuIENhbGwgU2hvd0Vycm9yKDQ0KQ0KCQlFbmQgSWYNCgkJU2V0IG9iakFydGljbGU9Tm90aGluZw0KCUVuZCBJZg0KDQoJRGltIG9ialVzZXINCglGb3IgRWFjaCBvYmpVc2VyIGluIFVzZXJzDQoJCUlmIElzT2JqZWN0KG9ialVzZXIpIFRoZW4NCgkJCUlmIChVQ2FzZShvYmpVc2VyLk5hbWUpPVVDYXNlKG9iakNvbW1lbnQuQXV0aG9yKSkgQW5kIChvYmpVc2VyLklEPD5vYmpDb21tZW50LkF1dGhvcklEKSBUaGVuIFNob3dFcnJvcigzMSkNCgkJRW5kIElmDQoJTmV4dA0KDQoJSWYgb2JqQ29tbWVudC5Qb3N0IFRoZW4NCg0KCQlJZiBvYmpDb21tZW50LklzQ2hlY2s9VHJ1ZSBUaGVuIENhbGwgU2hvd0Vycm9yKDUzKQ0KDQoJCUNhbGwgQnVpbGRBcnRpY2xlKG9iakNvbW1lbnQubG9nX0lELEZhbHNlLFRydWUpDQoJCUNhbGwgQmxvZ1JlQnVpbGRfQ29tbWVudHMNCgkJQ2FsbCBCbG9nUmVCdWlsZF9EZWZhdWx0DQoJCVBvc3RDb21tZW50PVRydWUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RDb21tZW50X1N1Y2NlZWQob2JqQ29tbWVudCkNCg0KCUVuZCBpZg0KDQoJSWYgSXNFbXB0eShSZXF1ZXN0LkZvcm0oImlucEFqYXgiKSk9RmFsc2UgVGhlbg0KCQlDYWxsIFJldHVybkFqYXhDb21tZW50KG9iakNvbW1lbnQpDQoJCUNhbGwgQ2xlYXJHbG9iZUNhY2hlDQoJCUNhbGwgTG9hZEdsb2JlQ2FjaGUNCglFbmQgSWYNCg0KCVNldCBvYmpDb21tZW50PU5vdGhpbmcNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIERlbCBDb21tZW50DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEZWxDb21tZW50KGludElELGludExvZ19JRCkNCg0KCURpbSBvYmpDb21tZW50DQoJRGltIG9iakFydGljbGUNCg0KCVNldCBvYmpDb21tZW50PU5ldyBUQ29tbWVudA0KCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KDQoJSWYgb2JqQ29tbWVudC5Mb2FkSW5mb2J5SUQoaW50SUQpIFRoZW4NCg0KCQlJZiBvYmpDb21tZW50LmxvZ19JRD4wIFRoZW4NCgkJCURpbSBvYmpUZXN0QXJ0aWNsZQ0KCQkJU2V0IG9ialRlc3RBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQkJSWYgb2JqVGVzdEFydGljbGUuTG9hZEluZm9ieUlEKG9iakNvbW1lbnQubG9nX0lEKSBUaGVuDQoJCQkJSWYgTm90KChvYmpDb21tZW50LkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAob2JqVGVzdEFydGljbGUuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQpIE9yIChDaGVja1JpZ2h0cygiUm9vdCIpPVRydWUpIE9yIChDaGVja1JpZ2h0cygiQ29tbWVudEFsbCIpPVRydWUpKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJCUVsc2UNCgkJCQlDYWxsIFNob3dFcnJvcig5KQ0KCQkJRW5kIElmDQoJCQlTZXQgb2JqVGVzdEFydGljbGU9Tm90aGluZw0KDQoJCQlEaW0gYWxsY29tbSxpDQoJCQlJZiBTZWFyY2hDaGlsZENvbW1lbnRzKGludElELGFsbGNvbW0pPVRydWUgVGhlbg0KCQkJCUZvciBFYWNoIGkgSW4gYWxsY29tbS5LZXlzDQoJCQkJCURpbSBvYmpTdWJDb21tZW50DQoJCQkJCVNldCBvYmpTdWJDb21tZW50PU5ldyBUQ29tbWVudA0KCQkJCQlJZiBvYmpTdWJDb21tZW50LkxvYWRJbmZvYnlJRChpKSBUaGVuDQoJCQkJCQlvYmpTdWJDb21tZW50LkRlbA0KCQkJCQlFbmQgSWYNCgkJCQlOZXh0DQoJCQlFbmQgSWYNCg0KCQlFbmQgSWYNCgkJRGVsQ2hpbGQgb2JqQ29tbWVudC5JRA0KCQlJZiBvYmpDb21tZW50LkRlbCBUaGVuDQoNCgkJCUNhbGwgQnVpbGRBcnRpY2xlKG9iakNvbW1lbnQubG9nX0lELEZhbHNlLFRydWUpDQoJCQlDYWxsIEJsb2dSZUJ1aWxkX0NvbW1lbnRzDQoJCQlDYWxsIEJsb2dSZUJ1aWxkX0RlZmF1bHQNCg0KCQkJRGVsQ29tbWVudD1UcnVlDQoJCUVuZCBJZg0KDQoJRW5kIElmDQoNCglTZXQgb2JqQ29tbWVudD1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBTYXZlIENvbW1lbnQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNhdmVDb21tZW50KCkNCg0KCURpbSBvYmpDb21tZW50DQoJRGltIG9iakFydGljbGUNCg0KCVNldCBvYmpDb21tZW50PU5ldyBUQ29tbWVudA0KDQoJSWYgb2JqQ29tbWVudC5Mb2FkSW5mb0J5SUQoUmVxdWVzdC5Gb3JtKCJpbnBJRCIpKSBUaGVuDQoJCW9iakNvbW1lbnQuQXV0aG9yPVJlcXVlc3QuRm9ybSgiaW5wTmFtZSIpDQoJCW9iakNvbW1lbnQuRW1haWw9UmVxdWVzdC5Gb3JtKCJpbnBFbWFpbCIpDQoJCW9iakNvbW1lbnQuSG9tZVBhZ2U9UmVxdWVzdC5Gb3JtKCJpbnBIb21lUGFnZSIpDQoJCW9iakNvbW1lbnQuQ29udGVudD1SZXF1ZXN0LkZvcm0oInR4YUNvbnRlbnQiKQ0KCUVsc2UNCgkJQ2FsbCBTaG93RXJyb3IoNjEpDQoJRW5kIElmDQoNCg0KCUlmIG9iakNvbW1lbnQubG9nX0lEPjAgVGhlbg0KCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJSWYgb2JqQXJ0aWNsZS5Mb2FkSW5mb0J5SUQob2JqQ29tbWVudC5sb2dfSUQpIFRoZW4NCgkJCUlmIE5vdCAoKG9iakFydGljbGUuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQpIE9yIChvYmpDb21tZW50LkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAoQ2hlY2tSaWdodHMoIlJvb3QiKT1UcnVlKSBPciAoQ2hlY2tSaWdodHMoIkNvbW1lbnRBbGwiKT1UcnVlKSkgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KCQlTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoJRW5kIElmDQoNCglDYWxsIEZpbHRlcl9QbHVnaW5fUG9zdENvbW1lbnRfQ29yZShvYmpDb21tZW50KQ0KDQoJSWYgb2JqQ29tbWVudC5Qb3N0IFRoZW4NCg0KCQlDYWxsIEJ1aWxkQXJ0aWNsZShvYmpDb21tZW50LmxvZ19JRCxGYWxzZSxGYWxzZSkNCgkJQ2FsbCBCbG9nUmVCdWlsZF9Db21tZW50cw0KCQlDYWxsIEJsb2dSZUJ1aWxkX0RlZmF1bHQNCg0KCQlTYXZlQ29tbWVudD1UcnVlDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RDb21tZW50X1N1Y2NlZWQob2JqQ29tbWVudCkNCg0KCUVuZCBpZg0KDQoJU2V0IG9iakNvbW1lbnQ9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFNhdmUgUmV2IENvbW1lbnQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNhdmVSZXZDb21tZW50KCkNCg0KCURpbSBvYmpSZXZDb21tZW50DQoJRGltIG9iak5ld0NvbW1lbnQNCglEaW0gb2JqQXJ0aWNsZQ0KDQoJU2V0IG9iak5ld0NvbW1lbnQ9TmV3IFRDb21tZW50DQoJU2V0IG9ialJldkNvbW1lbnQ9TmV3IFRDb21tZW50DQoNCglJZiBvYmpSZXZDb21tZW50LkxvYWRJbmZvQnlJRChSZXF1ZXN0LkZvcm0oImludFJldklEIikpIFRoZW4NCg0KCQlvYmpOZXdDb21tZW50LlBhcmVudElEPW9ialJldkNvbW1lbnQuSUQNCgkJb2JqTmV3Q29tbWVudC5sb2dfSUQ9b2JqUmV2Q29tbWVudC5sb2dfSUQNCgkJb2JqTmV3Q29tbWVudC5BdXRob3JJRD1CbG9nVXNlci5JRA0KCQlvYmpOZXdDb21tZW50LkF1dGhvcj1CbG9nVXNlci5OYW1lDQoJCW9iak5ld0NvbW1lbnQuRW1haWw9QmxvZ1VzZXIuRW1haWwNCgkJb2JqTmV3Q29tbWVudC5Ib21lUGFnZT1CbG9nVXNlci5Ib21lUGFnZQ0KCQlvYmpOZXdDb21tZW50LkNvbnRlbnQ9UmVxdWVzdC5Gb3JtKCJ0eGFDb250ZW50IikNCg0KCUVsc2UNCgkJQ2FsbCBTaG93RXJyb3IoNjEpDQoJRW5kIElmDQoNCglJZiBMZW4ob2JqTmV3Q29tbWVudC5Db250ZW50KT0wIE9yIExlbihvYmpOZXdDb21tZW50LkNvbnRlbnQpPlpDX0NPTlRFTlRfTUFYIFRoZW4NCgkJQ2FsbCBTaG93RXJyb3IoNDYpDQoJRW5kIElmDQoNCglJZiBvYmpOZXdDb21tZW50LmxvZ19JRD4wIFRoZW4NCgkJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoJCUlmIG9iakFydGljbGUuTG9hZEluZm9CeUlEKG9iak5ld0NvbW1lbnQubG9nX0lEKSBUaGVuDQoJCQlJZiBOb3QgKChvYmpBcnRpY2xlLkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAob2JqTmV3Q29tbWVudC5BdXRob3JJRD1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkgT3IgKENoZWNrUmlnaHRzKCJDb21tZW50QWxsIik9VHJ1ZSkpIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlFbmQgSWYNCgkJU2V0IG9iakFydGljbGU9Tm90aGluZw0KCUVuZCBJZg0KDQoJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RDb21tZW50X0NvcmUob2JqTmV3Q29tbWVudCkNCg0KCUlmIG9iak5ld0NvbW1lbnQuUG9zdCBUaGVuDQoNCgkJQ2FsbCBCdWlsZEFydGljbGUob2JqTmV3Q29tbWVudC5sb2dfSUQsRmFsc2UsRmFsc2UpDQoJCUNhbGwgQmxvZ1JlQnVpbGRfQ29tbWVudHMNCgkJQ2FsbCBCbG9nUmVCdWlsZF9EZWZhdWx0DQoNCgkJU2F2ZVJldkNvbW1lbnQ9VHJ1ZQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9Qb3N0Q29tbWVudF9TdWNjZWVkKG9iak5ld0NvbW1lbnQpDQoNCglFbmQgaWYNCg0KCVNldCBvYmpOZXdDb21tZW50PU5vdGhpbmcNCglTZXQgb2JqUmV2Q29tbWVudD1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFJldHVybiBBamF4IENvbW1lbnQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkRpbSBSZXR1cm5BamF4Q29tbWVudF9hcnlUZW1wbGF0ZVRhZ3NOYW1lDQpEaW0gUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzVmFsdWUNCg0KRnVuY3Rpb24gUmV0dXJuQWpheENvbW1lbnRfUGx1Z2luKGFyeVRlbXBsYXRlVGFnc05hbWUsYXJ5VGVtcGxhdGVUYWdzVmFsdWUpDQoJUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzTmFtZT1hcnlUZW1wbGF0ZVRhZ3NOYW1lDQoJUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzVmFsdWU9YXJ5VGVtcGxhdGVUYWdzVmFsdWUNCkVuZCBGdW5jdGlvbg0KJ01hcms1DQpGdW5jdGlvbiBSZXR1cm5BamF4Q29tbWVudChvYmpDb21tZW50KQ0KDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCURpbSBpLGoNCglpPTANCglEaW0gb2JqQXJ0aWNsZQ0KDQoNCgknRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfVGVtcGxhdGVUYWdzDQoJQ2FsbCBBZGRfRmlsdGVyX1BsdWdpbigiRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfVGVtcGxhdGVUYWdzIiwiUmV0dXJuQWpheENvbW1lbnRfUGx1Z2luIikNCg0KCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCUlmIG9iakFydGljbGUuTG9hZEluZm9CeUlEKG9iakNvbW1lbnQubG9nX0lEKSBUaGVuDQoJCUNhbGwgb2JqQXJ0aWNsZS5FeHBvcnQoWkNfRElTUExBWV9NT0RFX0FMTCkNCgkJaT1vYmpBcnRpY2xlLkNvbW1OdW1zDQoJRW5kIElmDQoNCg0KCURpbSBzdHJDDQoJc3RyQz1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlQiKQ0KCW9iakNvbW1lbnQuQ291bnQ9b2JqQ29tbWVudC5Db3VudCsxDQoJc3RyQz1vYmpDb21tZW50Lk1ha2VUZW1wbGF0ZShzdHJDKQ0KCXN0ckM9UmVwbGFjZShzdHJDLCI8I1pDX0JMT0dfSE9TVCM+IixCbG9nSG9zdCkNCg0KCURpbSBhcnlUZW1wbGF0ZVRhZ3NOYW1lMg0KCURpbSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZTINCg0KCWFyeVRlbXBsYXRlVGFnc05hbWUyPVRlbXBsYXRlVGFnc0RpYy5LZXlzDQoJYXJ5VGVtcGxhdGVUYWdzVmFsdWUyPVRlbXBsYXRlVGFnc0RpYy5JdGVtcw0KDQoJaj1VQm91bmQoUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCglGb3IgaT0xIHRvIGoNCgkJSWYgSXNOdWxsKFJldHVybkFqYXhDb21tZW50X2FyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpKT1GYWxzZSBUaGVuDQoJCQlzdHJDID0gUmVwbGFjZShzdHJDLCI8IyIgJiBSZXR1cm5BamF4Q29tbWVudF9hcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+IiwgUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpDQoJCUVuZCBJZg0KCU5leHQNCg0KCWo9VUJvdW5kKGFyeVRlbXBsYXRlVGFnc05hbWUyKQ0KDQoJRm9yIGk9MSB0byBqDQoJCXN0ckM9UmVwbGFjZShzdHJDLCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lMihpKSAmICIjPiIsYXJ5VGVtcGxhdGVUYWdzVmFsdWUyKGkpKQ0KCU5leHQNCg0KDQoJc3RyQz0gUmVwbGFjZShzdHJDLHZiQ3JMZiwiIikNCglzdHJDPSBSZXBsYWNlKHN0ckMsdmJMZiwiIikNCglzdHJDPSBSZXBsYWNlKHN0ckMsdmJUYWIsIiIpDQoJUmVzcG9uc2UuV3JpdGUgc3RyQw0KDQoJUmV0dXJuQWpheENvbW1lbnQ9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBHZXQgQ29tbWVudCBBamF4DQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRDb21tZW50KGxvZ2lkLHBhZ2UpDQoNCglEaW0gb2JqQXJ0aWNsZQ0KCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KDQoJJ0ZpbHRlcl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RlbXBsYXRlVGFncw0KCUNhbGwgQWRkX0ZpbHRlcl9QbHVnaW4oIkZpbHRlcl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RlbXBsYXRlVGFncyIsIlJldHVybkFqYXhDb21tZW50X1BsdWdpbiIpDQoNCglJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlJRChsb2dpZCkgVGhlbg0KCQlvYmpBcnRpY2xlLkNvbW1lbnRzUGFnZT1wYWdlDQoJCUNhbGwgb2JqQXJ0aWNsZS5FeHBvcnQoWkNfRElTUExBWV9NT0RFX0NPTU1FTlRTKQ0KCQlzPW9iakFydGljbGUuc3ViaHRtbA0KCUVuZCBJZg0KDQoJRGltIGksaixzDQoJRGltIGFyeVRlbXBsYXRlVGFnc05hbWUyDQoJRGltIGFyeVRlbXBsYXRlVGFnc1ZhbHVlMg0KDQoJYXJ5VGVtcGxhdGVUYWdzTmFtZTI9VGVtcGxhdGVUYWdzRGljLktleXMNCglhcnlUZW1wbGF0ZVRhZ3NWYWx1ZTI9VGVtcGxhdGVUYWdzRGljLkl0ZW1zDQoNCglqPVVCb3VuZChSZXR1cm5BamF4Q29tbWVudF9hcnlUZW1wbGF0ZVRhZ3NOYW1lKQ0KCUZvciBpPTEgdG8gag0KCQlJZiBJc051bGwoUmV0dXJuQWpheENvbW1lbnRfYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpPUZhbHNlIFRoZW4NCgkJCXMgPSBSZXBsYWNlKHMsIjwjIiAmIFJldHVybkFqYXhDb21tZW50X2FyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAiIz4iLCBSZXR1cm5BamF4Q29tbWVudF9hcnlUZW1wbGF0ZVRhZ3NWYWx1ZShpKSkNCgkJRW5kIElmDQoJTmV4dA0KDQoJaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZTIpDQoNCglGb3IgaT0xIHRvIGoNCgkJcz1SZXBsYWNlKHMsIjwjIiAmIGFyeVRlbXBsYXRlVGFnc05hbWUyKGkpICYgIiM+IixhcnlUZW1wbGF0ZVRhZ3NWYWx1ZTIoaSkpDQoJTmV4dA0KDQoJRGltIG9ialJlZ0V4cA0KCVNldCBvYmpSZWdFeHA9TmV3IFJlZ0V4cA0KCW9ialJlZ0V4cC5JZ25vcmVDYXNlID1UcnVlDQoJb2JqUmVnRXhwLkdsb2JhbD1UcnVlDQoJb2JqUmVnRXhwLlBhdHRlcm49IjxpbnQgaWQ9IiJBamF4Q29tbWVudFtcRFxkXSs/PC9pbnM+Ig0KCXM9IG9ialJlZ0V4cC5SZXBsYWNlKHMsIiIpDQoNCg0KCXM9IFJlcGxhY2Uocyx2YkNyTGYsIiIpDQoJcz0gUmVwbGFjZShzLHZiTGYsIiIpDQoJcz0gUmVwbGFjZShzLHZiVGFiLCIiKQ0KDQoJUmVzcG9uc2UuV3JpdGUgcw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBQb3N0IFRyYWNrQmFjaw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUG9zdFRyYWNrQmFjayhpbnRJRCxzdHJLZXkpDQoNCglEaW0gb2JqVHJhY2tCYWNrDQoJRGltIG9iakFydGljbGUNCg0KCURpbSBrZXlzDQoJRGltIGksaixrLGINCg0KCUlmIFpDX1RSQUNLQkFDS19UVVJOT0ZGIFRoZW4NCgkJQ2FsbCBSZXNwb25kRXJyb3IoNDEsWlZBX0Vycm9yTXNnKDQxKSkNCglFbmQgSWYNCg0KCUlmIExlbihzdHJLZXkpPTUgVGhlbg0KDQoJCUlmIENoZWNrVmFsaWRDb2RlKHN0cktleSk9RmFsc2UgVGhlbiBDYWxsIFNob3dFcnJvcig0MykNCg0KCUVsc2VJZiBMZW4oc3RyS2V5KT04IFRoZW4NCg0KCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJSWYgb2JqQXJ0aWNsZS5Mb2FkSW5mb0J5SUQoaW50SUQpIFRoZW4NCgkJCUlmIE5vdCAoc3RyS2V5PW9iakFydGljbGUuVHJhY2tCYWNrS2V5KSBUaGVuIENhbGwgUmVzcG9uZEVycm9yKDQzKQ0KCQkJSWYgb2JqQXJ0aWNsZS5MZXZlbDw0IFRoZW4gQ2FsbCBSZXNwb25kRXJyb3IoNDQpDQoJCUVuZCBJZg0KCQlTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoNCglFbHNlDQoJCUV4aXQgRnVuY3Rpb24NCglFbmQgSWYNCg0KCVNldCBvYmpUcmFja0JhY2s9TmV3IFRUcmFja0JhY2sNCglTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCg0KCW9ialRyYWNrQmFjay5sb2dfSUQ9aW50SUQNCglvYmpUcmFja0JhY2suVVJMPVJlcXVlc3QuRm9ybSgidXJsIikNCglvYmpUcmFja0JhY2suVGl0bGU9UmVxdWVzdC5Gb3JtKCJ0aXRsZSIpDQoJb2JqVHJhY2tCYWNrLkJsb2c9UmVxdWVzdC5Gb3JtKCJibG9nX25hbWUiKQ0KCW9ialRyYWNrQmFjay5FeGNlcnB0PVJlcXVlc3QuRm9ybSgiZXhjZXJwdCIpDQoNCgkn5o6l5Y+jDQoJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RUcmFja0JhY2tfQ29yZShvYmpUcmFja0JhY2spDQoNCglJZiBvYmpUcmFja0JhY2suUG9zdCBUaGVuDQoJCUNhbGwgQnVpbGRBcnRpY2xlKG9ialRyYWNrQmFjay5sb2dfSUQsRmFsc2UsVHJ1ZSkNCgkJQmxvZ1JlQnVpbGRfVHJhY2tCYWNrcw0KCQlQb3N0VHJhY2tCYWNrPVRydWUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RUcmFja0JhY2tfU3VjY2VlZChvYmpUcmFja0JhY2spDQoJRW5kIElmDQoNCglSZXNwb25zZS5Db250ZW50VHlwZSA9ICJ0ZXh0L3htbCINCglSZXNwb25zZS5DbGVhcg0KCVJlc3BvbnNlLldyaXRlIG9ialRyYWNrQmFjay5UYlhNTA0KDQoJU2V0IG9ialRyYWNrQmFjaz1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBEZWwgVHJhY2tCYWNrDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEZWxUcmFja0JhY2soaW50SUQsaW50TG9nX0lEKQ0KDQoJRGltIG9ialRyYWNrQmFjaw0KCURpbSBvYmpBcnRpY2xlDQoNCglTZXQgb2JqVHJhY2tCYWNrPU5ldyBUVHJhY2tCYWNrDQoJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoNCglJZiBvYmpUcmFja0JhY2suTG9hZEluZm9ieUlEKGludElEKSBUaGVuDQoNCgkJRGltIG9ialRlc3RBcnRpY2xlDQoJCVNldCBvYmpUZXN0QXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJSWYgb2JqVGVzdEFydGljbGUuTG9hZEluZm9ieUlEKG9ialRyYWNrQmFjay5sb2dfSUQpIFRoZW4NCgkJCUlmIE5vdCgob2JqVGVzdEFydGljbGUuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQpIE9yIChDaGVja1JpZ2h0cygiUm9vdCIpPVRydWUpKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJRWxzZQ0KCQkJQ2FsbCBTaG93RXJyb3IoOSkNCgkJRW5kIElmDQoJCVNldCBvYmpUZXN0QXJ0aWNsZT1Ob3RoaW5nDQoNCgkJSWYgb2JqVHJhY2tCYWNrLkRlbCBUaGVuDQoJCQlDYWxsIEJ1aWxkQXJ0aWNsZShvYmpUcmFja0JhY2subG9nX0lELEZhbHNlLFRydWUpDQoJCQlCbG9nUmVCdWlsZF9UcmFja0JhY2tzDQoJCQlEZWxUcmFja0JhY2s9VHJ1ZQ0KCQlFbmQgSWYNCg0KCUVuZCBJZg0KDQoJU2V0IG9ialRyYWNrQmFjaz1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBTZW5kIFRyYWNrQmFjaw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2VuZFRyYWNrQmFjaygpDQoNCglEaW0gb2JqVHJhY2tCYWNrDQoJRGltIG9iakFydGljbGUNCg0KCVNldCBvYmpUcmFja0JhY2s9TmV3IFRUcmFja0JhY2sNCglTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCg0KCUlmIG9iakFydGljbGUuTG9hZEluZm9ieUlEKFJlcXVlc3QuRm9ybSgiZWR0SUQiKSkgVGhlbg0KCQlvYmpUcmFja0JhY2suVVJMPW9iakFydGljbGUuVXJsDQoJCW9ialRyYWNrQmFjay5UaXRsZT1vYmpBcnRpY2xlLlRpdGxlDQoJCW9ialRyYWNrQmFjay5CbG9nPVpDX0JMT0dfTkFNRQ0KCQlvYmpUcmFja0JhY2suRXhjZXJwdD1MZWZ0KG9iakFydGljbGUuSHRtbENvbnRlbnQsMjUwKQ0KCUVsc2UNCgkJQ2FsbCBTaG93RXJyb3IoOSkNCglFbmQgSWYNCg0KCUlmIG9ialRyYWNrQmFjay5TZW5kKFJlcXVlc3QuRm9ybSgiZWR0VHJhY2tCYWNrIikpIFRoZW4gU2VuZFRyYWNrQmFjaz1UcnVlDQoJU2V0IG9ialRyYWNrQmFjaz1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEVkaXQgVXNlcg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRWRpdFVzZXIoKQ0KDQoJRGltIG9ialVzZXINCglTZXQgb2JqVXNlcj1OZXcgVFVzZXINCglvYmpVc2VyLklEPVJlcXVlc3QuRm9ybSgiZWR0SUQiKQ0KCW9ialVzZXIuTGV2ZWw9UmVxdWVzdC5Gb3JtKCJlZHRMZXZlbCIpDQoJb2JqVXNlci5OYW1lPVJlcXVlc3QuRm9ybSgiZWR0TmFtZSIpDQoJb2JqVXNlci5FbWFpbD1SZXF1ZXN0LkZvcm0oImVkdEVtYWlsIikNCglvYmpVc2VyLkhvbWVQYWdlPVJlcXVlc3QuRm9ybSgiZWR0SG9tZVBhZ2UiKQ0KCW9ialVzZXIuQWxpYXM9UmVxdWVzdC5Gb3JtKCJlZHRBbGlhcyIpDQoJb2JqVXNlci5UZW1wbGF0ZU5hbWU9UmVxdWVzdC5Gb3JtKCJlZHRUZW1wbGF0ZSIpDQoNCglJZiBCbG9nVXNlci5MZXZlbDw0IFRoZW4NCgkJb2JqVXNlci5JbnRybz1SZXF1ZXN0LkZvcm0oImVkdEludHJvIikNCglFbmQgSWYNCg0KCUlmIFRyaW0oUmVxdWVzdC5Gb3JtKCJlZHRQYXNzV29yZCIpKTw+IiIgVGhlbg0KCQlvYmpVc2VyLlBhc3NXb3JkPW9ialVzZXIuQ3JlYXRlUGFzc3dvcmRCeU9yaWdpbmFsKFJlcXVlc3QuRm9ybSgiZWR0UGFzc1dvcmQiKSkNCgkJSWYgTm90IENoZWNrUmVnRXhwKFJlcXVlc3QuRm9ybSgiZWR0UGFzc1dvcmQiKSwiW3Bhc3N3b3JkXSIpIFRoZW4gQ2FsbCBTaG93RXJyb3IoNTQpDQoJRW5kIElmDQoNCglJZiBDTG5nKG9ialVzZXIuSUQpPjAgVGhlbiBvYmpVc2VyLk1ldGFTdHJpbmc9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW21lbV9NZXRhXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9JRF09IiZDTG5nKG9ialVzZXIuSUQpKSgwKQ0KCUNhbGwgR2V0TWV0YVZhbHVld2l0aEZvcm0ob2JqVXNlcikNCg0KCUlmIE5vdCgoQ0xuZyhvYmpVc2VyLklEKT1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkpIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJJ+aOpeWPow0KCUNhbGwgRmlsdGVyX1BsdWdpbl9FZGl0VXNlcl9Db3JlKG9ialVzZXIpDQoNCglJZiBvYmpVc2VyLkVkaXQoQmxvZ1VzZXIpIFRoZW4NCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX0VkaXRVc2VyX1N1Y2NlZWQob2JqVXNlcikNCgkJRWRpdFVzZXI9VHJ1ZQ0KCUVuZCBJRg0KDQoJU2V0IG9ialVzZXI9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRGVsIFVzZXINCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIERlbFVzZXIoaW50SUQpDQoNCglEaW0gb2JqUlMNCglEaW0gb2JqVXNlcg0KCURpbSBvYmpVcExvYWRGaWxlDQoNCglTZXQgb2JqVXNlcj1OZXcgVFVzZXINCglvYmpVc2VyLklEPWludElEDQoJSWYgb2JqVXNlci5EZWwoQmxvZ1VzZXIpIFRoZW4gRGVsVXNlcj1UcnVlDQoJU2V0IG9ialVzZXI9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBCbG9nIFJlQnVpbGQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIE1ha2VCbG9nUmVCdWlsZCgpDQoNCgkncGx1Z2luIG5vZGUNCgliQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQmVnaW49RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQmVnaW4NCgkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfQmVnaW4pDQoJCUlmIGJBY3Rpb25fUGx1Z2luX01ha2VCbG9nUmVCdWlsZF9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCU5leHQNCg0KCUNhbGwgTWFrZUJsb2dSZUJ1aWxkX0NvcmUoKQ0KDQoJU2Vzc2lvbigiYmF0Y2h0aW1lIik9U2Vzc2lvbigiYmF0Y2h0aW1lIikrUnVuVGltZQ0KDQoJQ2FsbCBTZXRCbG9nSGludChUcnVlLEZhbHNlLEVtcHR5KQ0KDQoJTWFrZUJsb2dSZUJ1aWxkPVRydWUNCg0KCSdwbHVnaW4gbm9kZQ0KCWJBY3Rpb25fUGx1Z2luX01ha2VCbG9nUmVCdWlsZF9FbmQ9RmFsc2UNCglGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfRW5kIGluIEFjdGlvbl9QbHVnaW5fTWFrZUJsb2dSZUJ1aWxkX0VuZA0KCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfRW5kKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfRW5kKQ0KCQlJZiBiQWN0aW9uX1BsdWdpbl9NYWtlQmxvZ1JlQnVpbGRfRW5kPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJTmV4dA0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDmlofku7bph43lu7og5om55aSE55CGIOWJjee9rg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQmVmb3JlRmlsZVJlQnVpbGQoKQ0KDQoJSWYgWkNfUE9TVF9TVEFUSUNfTU9ERTw+IlNUQVRJQyIgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCglEaW0gb2JqUlMNCglEaW0gb2JqQXJ0aWNsZQ0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IlNFTEVDVCBbbG9nX0lEXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfTGV2ZWxdPjEiDQoJb2JqUlMuT3BlbigpDQoNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJb2JqUlMuUGFnZVNpemUgPSBaQ19SRUJVSUxEX0ZJTEVfQ09VTlQNCg0KCQlEaW0gaQ0KCQlGb3IgaT0xIFRvIG9ialJTLlBhZ2VDb3VudA0KCQkJQ2FsbCBBZGRCYXRjaChaQ19NU0cwNzMgJiAiPCImaSYiPiIsIkNhbGwgTWFrZUZpbGVSZUJ1aWxkKCImaSYiKSIpDQoJCU5leHQNCg0KCUVuZCBJZg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIEFsbCBGaWxlcyBSZUJ1aWxkDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBNYWtlRmlsZVJlQnVpbGQoaW50UGFnZSkNCg0KCSdwbHVnaW4gbm9kZQ0KCSdiQWN0aW9uX1BsdWdpbl9NYWtlRmlsZVJlQnVpbGRfQmVnaW49RmFsc2UNCgknRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0JlZ2luDQoJJwlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9NYWtlRmlsZVJlQnVpbGRfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX01ha2VGaWxlUmVCdWlsZF9CZWdpbikNCgknCUlmIGJBY3Rpb25fUGx1Z2luX01ha2VGaWxlUmVCdWlsZF9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCSdOZXh0DQoNCglEaW0gaSxqDQoNCglEaW0gb2JqUlMNCglEaW0gb2JqQXJ0aWNsZQ0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IlNFTEVDVCBbbG9nX0lEXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfTGV2ZWxdPjEiDQoJb2JqUlMuT3BlbigpDQoNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJb2JqUlMuUGFnZVNpemUgPSBaQ19SRUJVSUxEX0ZJTEVfQ09VTlQNCg0KCQlvYmpSUy5BYnNvbHV0ZVBhZ2UgPSBpbnRQYWdlDQoNCgkJRm9yIGkgPSAxIFRvIG9ialJTLlBhZ2VTaXplDQoNCgkJCUNhbGwgQnVpbGRBcnRpY2xlKG9ialJTKCJsb2dfSUQiKSxGYWxzZSxGYWxzZSkNCg0KCQkJb2JqUlMuTW92ZU5leHQNCgkJCUlmIG9ialJTLmVvZiBUaGVuIEV4aXQgRm9yDQoJCQkNCgkJCQ0KCQlOZXh0DQoNCgkJU2Vzc2lvbigiYmF0Y2h0aW1lIik9U2Vzc2lvbigiYmF0Y2h0aW1lIikrUnVuVGltZQ0KDQoJRW5kIElmDQoNCgkncGx1Z2luIG5vZGUNCgknYkFjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0VuZD1GYWxzZQ0KCSdGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9NYWtlRmlsZVJlQnVpbGRfRW5kIGluIEFjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0VuZA0KCScJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0VuZCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fTWFrZUZpbGVSZUJ1aWxkX0VuZCkNCgknCUlmIGJBY3Rpb25fUGx1Z2luX01ha2VGaWxlUmVCdWlsZF9FbmQ9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgknTmV4dA0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgQmF0Y2ggQUxMDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBCYXRjaEFsbCgpDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJU2VydmVyLlNjcmlwdFRpbWVvdXQgPSAxMjAwDQoNCglJZiBSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJjYW5jZWwiKT0idHJ1ZSIgVGhlbg0KCQlTZXNzaW9uKCJiYXRjaCIpLlJlbW92ZUFsbA0KCQlTZXNzaW9uKCJiYXRjaG9yZGVyIik9MA0KCQlTZXNzaW9uKCJiYXRjaHRpbWUiKT0wDQoJRW5kIElmIA0KCQ0KCQ0KCUlmIElzT2JqZWN0KFNlc3Npb24oImJhdGNoIikpIFRoZW4NCgkNCgkJRGltIGkNCgkJRGltIGENCgkJU2V0IGEgPSBTZXNzaW9uKCJiYXRjaCIpDQoJCURpbSBiDQoJCWI9YS5LZXlzDQoJCURpbSBjDQoJCWM9YS5JdGVtcw0KCQ0KCQlEaW0gaW50QWxsVGltZQ0KCQ0KCSANCgkJSWYgYS5Db3VudCA+MCBUaGVuDQoJDQoJCQlGb3IgaSA9IDAgVG8gMA0KCQ0KCQkJCVJlc3BvbnNlLldyaXRlICI8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIiItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIiICIiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCIiPjxodG1sPjxoZWFkPjxtZXRhIGh0dHAtZXF1aXY9IiJDb250ZW50LVR5cGUiIiBjb250ZW50PSIidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiIvPjxtZXRhIGh0dHAtZXF1aXY9IiJyZWZyZXNoIiIgY29udGVudD0iIiImWkNfUkVCVUlMRF9GSUxFX0lOVEVSVkFMJiI7VVJMPSImQmxvZ0hvc3QgJiAiemJfc3lzdGVtL2NtZC5hc3A/YWN0PWJhdGNoIiYiJmFsbD0iJmludEFsbFRpbWUmIiIiLz48c3R5bGU+Ym9keXtwYWRkaW5nOjA7IG1hcmdpbjowO2JhY2tncm91bmQ6I2RiZTNmZjt9aW1ne2JvcmRlcjowO3BhZGRpbmc6MDsgbWFyZ2luOjA7YmFja2dyb3VuZDpUcmFuc3BhcmVudDt9PC9zdHlsZT48L2hlYWQ+PGJvZHk+Ig0KCQkJCVJlc3BvbnNlLldyaXRlICI8aW1nIHNyYz0naW1hZ2UvYWRtaW4vbG9hZGluZy5naWYnIHdpZHRoPScyMCc+Ig0KCQkJCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5wYXJlbnQuQmF0Y2gyVGlwKCIiIiZiKDApICYgWkNfTVNHMTA5JiIiIik8L3NjcmlwdD4iDQoJCQkJSWYgU2Vzc2lvbigiYmF0Y2hvcmRlciIpPVNlc3Npb24oImJhdGNoIikuQ291bnQgVGhlbg0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+cGFyZW50LkJhdGNoQmVnaW4oKTwvc2NyaXB0PiINCgkJCQlFbmQgSWYNCgkJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImhpZGRlbiIiPiINCgkJCQlDYWxsIEdldEJsb2dIaW50KCkNCgkJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KCQ0KCQkJCVJlc3BvbnNlLkZsdXNoDQoJDQoJCQkJUmVzcG9uc2UuV3JpdGUgIjwvYm9keT48L2h0bWw+Ig0KCQ0KCQkJCUNhbGwgRXhlY3V0ZShjKDApKQ0KCQkJCVNlc3Npb24oImJhdGNoIikuUmVtb3ZlKGIoMCkpDQoJDQoJCQlOZXh0DQoJDQoJCUVsc2UNCgkNCgkNCgkJCVJlc3BvbnNlLldyaXRlICI8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIiItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIiICIiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCIiPjxodG1sPjxoZWFkPjxtZXRhIGh0dHAtZXF1aXY9IiJDb250ZW50LVR5cGUiIiBjb250ZW50PSIidGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04IiIvPjxzdHlsZT5ib2R5e3BhZGRpbmc6MDsgbWFyZ2luOjA7YmFja2dyb3VuZDojZGJlM2ZmO31pbWd7Ym9yZGVyOjA7cGFkZGluZzowOyBtYXJnaW46MDtiYWNrZ3JvdW5kOlRyYW5zcGFyZW50O308L3N0eWxlPjwvaGVhZD48Ym9keT4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGltZyBzcmM9J2ltYWdlL2FkbWluL29rLnBuZycgd2lkdGg9JzE2Jz4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+cGFyZW50LkJhdGNoMlRpcCgiIiImWkNfTVNHMjI3ICYgUmVwbGFjZShaQ19NU0cxNjksIiVuIixTZXNzaW9uKCJiYXRjaHRpbWUiKS8xMDAwKSAmIiIiKTwvc2NyaXB0PiINCgkJCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5wYXJlbnQuQmF0Y2hFbmQoKTwvc2NyaXB0PiINCgkNCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiaGlkZGVuIiI+Ig0KCQkJQ2FsbCBHZXRCbG9nSGludCgpDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KCQkJSWYgU2Vzc2lvbigiYmF0Y2h0aW1lIikvMTAwMD4wIFRoZW4NCgkJCQlSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+cGFyZW50LkJhdGNoTm90aWZ5KCk7PC9zY3JpcHQ+Ig0KCQkJRW5kIElmDQoJCQkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2JvZHk+PC9odG1sPiINCgkNCgkJCVNlc3Npb24uQWJhbmRvbg0KCQ0KCQlFbmQgSWYNCglFbmQgSWYNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTGlzdCBVc2VyIFJpZ2h0cw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gTGlzdFVzZXJfUmlnaHRzKCkNCg0KCURpbSBzDQoJRGltIGkNCglEaW0gdA0KCURpbSBzdHJBY3Rpb24NCglEaW0gYXJ5QWN0aW9uDQoNCglzdHJBY3Rpb249IlJvb3R8bG9naW58dmVyaWZ5fGxvZ291dHxhZG1pbnxjbXR8dnJzfHJzc3xiYXRjaHxCbG9nUmVCdWlsZHxGaWxlUmVCdWlsZHxBcnRpY2xlTW5nfEFydGljbGVFZHR8QXJ0aWNsZVBzdHxBcnRpY2xlRGVsfENhdGVnb3J5TW5nfENhdGVnb3J5UHN0fENhdGVnb3J5RGVsfENvbW1lbnRNbmd8Q29tbWVudERlbHxVc2VyTW5nfFVzZXJFZHR8VXNlck1vZHxVc2VyQ3J0fFVzZXJEZWx8RmlsZU1uZ3xGaWxlVXBsb2FkfEZpbGVEZWx8U2VhcmNofFRhZ01uZ3xUYWdFZHR8VGFnUHN0fFRhZ0RlbHxTZXR0aW5nTW5nfFNldHRpbmdTYXZ8UGx1Z0luTW5nfEZ1bmN0aW9uTW5nfEFydGljbGVBbGx8Q29tbWVudEFsbHxGaWxlQWxsIg0KDQoJYXJ5QWN0aW9uPVNwbGl0KHN0ckFjdGlvbiwgInwiKQ0KDQoJcz1TcGxpdChaQ19NU0cwMTksIiVzIikNCg0KCVJlc3BvbnNlLldyaXRlICI8IURPQ1RZUEUgaHRtbCBQVUJMSUMgIiItLy9XM0MvL0RURCBYSFRNTCAxLjAgVHJhbnNpdGlvbmFsLy9FTiIiICIiaHR0cDovL3d3dy53My5vcmcvVFIveGh0bWwxL0RURC94aHRtbDEtdHJhbnNpdGlvbmFsLmR0ZCIiPjxodG1sIHhtbG5zPSIiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbCIiIHhtbDpsYW5nPSIiIiZaQ19CTE9HX0xBTkdVQUdFJiIiIiBsYW5nPSIiIiZaQ19CTE9HX0xBTkdVQUdFJiIiIj48aGVhZD48bWV0YSBodHRwLWVxdWl2PSIiQ29udGVudC1UeXBlIiIgY29udGVudD0iInRleHQvaHRtbDsgY2hhcnNldD11dGYtOCIiIC8+PG1ldGEgaHR0cC1lcXVpdj0iIkNvbnRlbnQtTGFuZ3VhZ2UiIiBjb250ZW50PSIiIiZaQ19CTE9HX0xBTkdVQUdFJiIiIiAvPjxsaW5rIHJlbD0iInN0eWxlc2hlZXQiIiByZXY9IiJzdHlsZXNoZWV0IiIgaHJlZj0iImNzcy9hZG1pbi5jc3MiIiB0eXBlPSIidGV4dC9jc3MiIiBtZWRpYT0iInNjcmVlbiIiIC8+PHRpdGxlPiImWkNfQkxPR19USVRMRSAmIFpDX01TRzA0NCAmIFpDX01TRzAyMSYiPC90aXRsZT48L2hlYWQ+PGJvZHkgY2xhc3M9IiJzaG9ydCIiPjxkaXYgY2xhc3M9IiJiZyIiPjxkaXYgaWQ9IiJ3cmFwcGVyIiI+PGRpdiBjbGFzcz0iImxvZ28iIj48aW1nIHNyYz0iImltYWdlL2FkbWluL25vbmUuZ2lmIiIgdGl0bGU9IiJaLUJsb2ciIiBhbHQ9IiJaLUJsb2ciIi8+PC9kaXY+PGRpdiBjbGFzcz0iImxvZ2luIiIgc3R5bGU9IiJ3aWR0aDozMDBweDsiIj48Zm9ybSBpZD0iImZybUxvZ2luIiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIiIiPjxkbD48ZGQ+Ig0KDQoNCglSZXNwb25zZS5Xcml0ZSBaQ19NU0cwMDEgJiAiOiIgJiBCTG9nVXNlci5OYW1lICYgIjxici8+PGJyLz4iDQoJUmVzcG9uc2UuV3JpdGUgWkNfTVNHMjQ5ICYgIjoiICYgWlZBX1VzZXJfTGV2ZWxfTmFtZShCTG9nVXNlci5MZXZlbCkgJiAiPGJyLz48YnIvPiINCg0KCUZvciBpPUxCb3VuZChhcnlBY3Rpb24pIFRvIFVCb3VuZChhcnlBY3Rpb24pDQoJCUlmIE5vdCBDaGVja1JpZ2h0cyhhcnlBY3Rpb24oaSkpIFRoZW4gdD10ICYgIjxwIHN0eWxlPSdkaXNwbGF5Om5vbmU7Jz4iICYgUmVwbGFjZShzKGkpICYgIiVzIiwiJXMiLCI6PGZvbnQgY29sb3I9UmVkPmZhaWw8L2ZvbnQ+IiYiIiwxLDEpICYgIjwvcD4iIEVsc2UgdD10ICYgIjxwPiIgJiBSZXBsYWNlKHMoaSkgJiAiJXMiLCIlcyIsIjo8Zm9udCBjb2xvcj1ncmVlbj5vazwvZm9udD4iJiIiLDEsMSkgJiAiPC9wPjxici8+IiANCglOZXh0DQoNCglSZXNwb25zZS5Xcml0ZSB0DQoNCglSZXNwb25zZS5Xcml0ZSAiPC9kZD48L2RsPjwvZGl2PjwvZGl2PjwvZGl2PjwvYm9keT48L2h0bWw+Ig0KDQoNCglMaXN0VXNlcl9SaWdodHM9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KDQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFNhdmUgQmxvZyBTZXR0aW5nDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBTYXZlU2V0dGluZygpDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NZTlRBWEhJR0hMSUdIVEVSX0VOQUJMRSIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TWU5UQVhISUdITElHSFRFUl9FTkFCTEUiLEZhbHNlKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX0NPREVNSVJST1JfRU5BQkxFIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0NPREVNSVJST1JfRU5BQkxFIixGYWxzZSkNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19BUlRJQ0xFX0VYQ0VSUFRfTUFYIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0FSVElDTEVfRVhDRVJQVF9NQVgiLDI1MCkNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19QT1NUX1NUQVRJQ19NT0RFIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1BPU1RfU1RBVElDX01PREUiLCJTVEFUSUMiKQ0KCQ0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19IVFRQX0xBU1RNT0RJRklFRCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19IVFRQX0xBU1RNT0RJRklFRCIsRmFsc2UpDQoNCglJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfVU5DQVRFR09SSVpFRF9OQU1FIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1VOQ0FURUdPUklaRURfTkFNRSIsWkNfTVNHMDU5KQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1VOQ0FURUdPUklaRURfQUxJQVMiKT1GYWxzZSBUaGVuIENhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfVU5DQVRFR09SSVpFRF9BTElBUyIsIiIpDQoNCglJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfVU5DQVRFR09SSVpFRF9DT1VOVCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19VTkNBVEVHT1JJWkVEX0NPVU5UIiwwKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX0hUVFBfTEFTVE1PRElGSUVEIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0hUVFBfTEFTVE1PRElGSUVEIixGYWxzZSkNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19QRVJNQU5FTlRfRE9NQUlOX0VOQUJMRSIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19QRVJNQU5FTlRfRE9NQUlOX0VOQUJMRSIsRmFsc2UpDQoNCglJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfREVGQVVMVF9QQUdFU19URU1QTEFURSIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19ERUZBVUxUX1BBR0VTX1RFTVBMQVRFIiwiIikNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19TSURFQkFSX09SREVSIiApPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSIixaQ19ERUZBVUxUX1NJREVCQVIpDQoNCglJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfU0lERUJBUl9PUkRFUjIiKT1GYWxzZSBUaGVuIENhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjIiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVIzIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVIzIiwiIikNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19TSURFQkFSX09SREVSNCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNCIsIiIpDQoNCglJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfU0lERUJBUl9PUkRFUjUiKT1GYWxzZSBUaGVuIENhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjUiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVJfT0xEIiApPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSX09MRCIgLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVIyX09MRCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSMl9PTEQiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVIzX09MRCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSM19PTEQiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVI0X09MRCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNF9PTEQiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1NJREVCQVJfT1JERVI1X09MRCIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNV9PTEQiLCIiKQ0KDQoJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX0FSQ0hJVkVTX09MRF9MSVNUVFlQRSIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19BUkNISVZFU19PTERfTElTVFRZUEUiLCIiKQ0KCQ0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19CTE9HX0xBTkdVQUdFUEFDSyIpPUZhbHNlIFRoZW4gQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19CTE9HX0xBTkdVQUdFUEFDSyIsIlNpbXBDaGluZXNlIikNCg0KCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19DT01NRU5UX0VYQ0VSUFRfTUFYIik9RmFsc2UgVGhlbiBDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0NPTU1FTlRfRVhDRVJQVF9NQVgiLDIwKQ0KDQoNCglEaW0gYSxiLGMsZCxlDQoNCglTZXQgZD1DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCgllPSIiDQoJRm9yIEVhY2ggYSBJbiBSZXF1ZXN0LkZvcm0NCgkJZT1lICYgYSAmICJ8Ig0KCU5leHQNCg0KCUZvciBFYWNoIGEgSW4gUmVxdWVzdC5Gb3JtIA0KCQliPU1pZChhLDQsTGVuKGEpKQ0KCQlJZiBCbG9nQ29uZmlnLkV4aXN0cyhiKT1UcnVlIFRoZW4NCgkJCUlmIGI9IlpDX1VQTE9BRF9GSUxFU0laRSIgT3IgYj0iWkNfRElTUExBWV9DT1VOVCIgT3IgYj0iWkNfU0VBUkNIX0NPVU5UIiBPciBiPSJaQ19NVVRVQUxJVFlfQ09VTlQiIE9yIGI9IlpDX01VVFVBTElUWV9DT1VOVCIgT3IgYj0iWkNfQ09NTUVOVFNfRElTUExBWV9DT1VOVCIgIE9yIGI9IlpDX1JFQlVJTERfRklMRV9DT1VOVCIgIE9yIGI9IlpDX1JFQlVJTERfRklMRV9JTlRFUlZBTCIgT3IgYj0iWkNfUEFHRUJBUl9DT1VOVCIgVGhlbg0KCQkJCWM9UmVxdWVzdC5Gb3JtKGEpDQoJCQkJQ2FsbCBDaGVja1BhcmFtZXRlcihjLCJpbnQiLDApDQoJCQkJZC5hZGQgYixDU3RyKGMpDQoJCQlFbHNlDQoJCQkJZC5hZGQgYixSZXF1ZXN0LkZvcm0oYSkNCg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCgkNCglJZiBkLkV4aXN0cygiWkNfU1RBVElDX0RJUkVDVE9SWSIpPVRydWUgVGhlbg0KCQlJZiBCbG9nQ29uZmlnLlJlYWQoIlpDX1NUQVRJQ19ESVJFQ1RPUlkiKTw+ZC5JdGVtKCJaQ19TVEFUSUNfRElSRUNUT1JZIilUaGVuDQoJCQlDYWxsIENyZWF0RGlyZWN0b3J5QnlDdXN0b21EaXJlY3RvcnkoZC5JdGVtKCJaQ19TVEFUSUNfRElSRUNUT1JZIikpDQoJCQlDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJCUVuZCBJZg0KCUVuZCBJZg0KCUlmIGQuRXhpc3RzKCJaQ19CTE9HX0hPU1QiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19CTE9HX0hPU1QiKTw+ZC5JdGVtKCJaQ19CTE9HX0hPU1QiKVRoZW4NCgkJCUlmIExlZnQoZC5JdGVtKCJaQ19CTE9HX0hPU1QiKSw3KTw+Imh0dHA6Ly8iIEFuZCBMZWZ0KGQuSXRlbSgiWkNfQkxPR19IT1NUIiksOCk8PiJodHRwczovLyIgVGhlbg0KCQkJCWQuSXRlbSgiWkNfQkxPR19IT1NUIik9Imh0dHA6Ly8iICYgZC5JdGVtKCJaQ19CTE9HX0hPU1QiKQ0KCQkJRW5kIElmDQoJCQlJZiBSaWdodChkLkl0ZW0oIlpDX0JMT0dfSE9TVCIpLDEpPD4iLyIgVGhlbg0KCQkJCWQuSXRlbSgiWkNfQkxPR19IT1NUIik9ZC5JdGVtKCJaQ19CTE9HX0hPU1QiKSAmICIvIg0KCQkJRW5kIElmDQoJCQlJZiBkLkl0ZW0oIlpDX1BFUk1BTkVOVF9ET01BSU5fRU5BQkxFIik9IlRydWUiIFRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxFbXB0eSxUcnVlKQ0KCQlFbmQgSWYNCglFbmQgSWYNCglJZiBkLkV4aXN0cygiWkNfUEVSTUFORU5UX0RPTUFJTl9FTkFCTEUiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19QRVJNQU5FTlRfRE9NQUlOX0VOQUJMRSIpPD5kLkl0ZW0oIlpDX1BFUk1BTkVOVF9ET01BSU5fRU5BQkxFIikgVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfVElUTEUiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19CTE9HX1RJVExFIik8PmQuSXRlbSgiWkNfQkxPR19USVRMRSIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfU1VCVElUTEUiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19CTE9HX1NVQlRJVExFIik8PmQuSXRlbSgiWkNfQkxPR19TVUJUSVRMRSIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfQ09QWVJJR0hUIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfQkxPR19DT1BZUklHSFQiKTw+ZC5JdGVtKCJaQ19CTE9HX0NPUFlSSUdIVCIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfTEFOR1VBR0UiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19CTE9HX0xBTkdVQUdFIik8PmQuSXRlbSgiWkNfQkxPR19MQU5HVUFHRSIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfQ09QWVJJR0hUIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfQkxPR19DT1BZUklHSFQiKTw+ZC5JdGVtKCJaQ19CTE9HX0NPUFlSSUdIVCIpVGhlbg0KCQkJZC5JdGVtKCJaQ19CTE9HX0NPUFlSSUdIVCIpPVJlcGxhY2UoUmVwbGFjZShkLkl0ZW0oIlpDX0JMT0dfQ09QWVJJR0hUIiksdmJDciwiIiksdmJMZiwiIikNCgkJCUNhbGwgU2V0QmxvZ0hpbnQoRW1wdHksRW1wdHksVHJ1ZSkNCgkJRW5kIElmDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX0JMT0dfTEFOR1VBR0VQQUNLIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfQkxPR19MQU5HVUFHRVBBQ0siKTw+ZC5JdGVtKCJaQ19CTE9HX0xBTkdVQUdFUEFDSyIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LEVtcHR5LFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX1RJTUVfWk9ORSIpPVRydWUgVGhlbg0KCQlJZiBUcmltKGQuSXRlbSgiWkNfVElNRV9aT05FIikpPSIiIFRoZW4gZC5JdGVtKCJaQ19USU1FX1pPTkUiKT0iMDAwMCINCgkJSWYgSXNOdW1lcmljKGQuSXRlbSgiWkNfVElNRV9aT05FIikpPUZhbHNlIFRoZW4gZC5JdGVtKCJaQ19USU1FX1pPTkUiKT0iMDAwMCINCglFbmQgSWYNCglJZiBkLkV4aXN0cygiWkNfSE9TVF9USU1FX1pPTkUiKT1UcnVlIFRoZW4NCgkJSWYgVHJpbShkLkl0ZW0oIlpDX0hPU1RfVElNRV9aT05FIikpPSIiIFRoZW4gZC5JdGVtKCJaQ19IT1NUX1RJTUVfWk9ORSIpPSIwMDAwIg0KCQlJZiBJc051bWVyaWMoZC5JdGVtKCJaQ19IT1NUX1RJTUVfWk9ORSIpKT1GYWxzZSBUaGVuIGQuSXRlbSgiWkNfSE9TVF9USU1FX1pPTkUiKT0iMDAwMCINCglFbmQgSWYNCglJZiBkLkV4aXN0cygiWkNfQkxPR19MQU5HVUFHRSIpPVRydWUgVGhlbg0KCQlJZiBCbG9nQ29uZmlnLlJlYWQoIlpDX0JMT0dfTEFOR1VBR0UiKTw+ZC5JdGVtKCJaQ19CTE9HX0xBTkdVQUdFIilUaGVuIENhbGwgU2V0QmxvZ0hpbnQoRW1wdHksRW1wdHksVHJ1ZSkNCglFbmQgSWYNCglJZiBkLkV4aXN0cygiWkNfQ09NTUVOVF9UVVJOT0YiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19DT01NRU5UX1RVUk5PRkYiKTw+ZC5JdGVtKCJaQ19DT01NRU5UX1RVUk5PRkYiKVRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxFbXB0eSxUcnVlKQ0KCUVuZCBJZg0KCUlmIGQuRXhpc3RzKCJaQ19DT01NRU5UX1JFVkVSU0VfT1JERVJfRVhQT1JUIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfQ09NTUVOVF9SRVZFUlNFX09SREVSX0VYUE9SVCIpPD5kLkl0ZW0oIlpDX0NPTU1FTlRfUkVWRVJTRV9PUkRFUl9FWFBPUlQiKVRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxFbXB0eSxUcnVlKQ0KCUVuZCBJZg0KCUlmIGQuRXhpc3RzKCJaQ19DT01NRU5UU19ESVNQTEFZX0NPVU5UIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfQ09NTUVOVFNfRElTUExBWV9DT1VOVCIpPD5kLkl0ZW0oIlpDX0NPTU1FTlRTX0RJU1BMQVlfQ09VTlQiKVRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxFbXB0eSxUcnVlKQ0KCUVuZCBJZg0KCUlmIGQuRXhpc3RzKCJaQ19ESVNQTEFZX0NPVU5UIik9VHJ1ZSBUaGVuDQoJCUlmIEJsb2dDb25maWcuUmVhZCgiWkNfRElTUExBWV9DT1VOVCIpPD5kLkl0ZW0oIlpDX0RJU1BMQVlfQ09VTlQiKVRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxUcnVlLFRydWUpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX1BBR0VCQVJfQ09VTlQiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19QQUdFQkFSX0NPVU5UIik8PmQuSXRlbSgiWkNfUEFHRUJBUl9DT1VOVCIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LFRydWUsRW1wdHkpDQoJRW5kIElmDQoJSWYgZC5FeGlzdHMoIlpDX01VVFVBTElUWV9DT1VOVCIpPVRydWUgVGhlbg0KCQlJZiBCbG9nQ29uZmlnLlJlYWQoIlpDX01VVFVBTElUWV9DT1VOVCIpPD5kLkl0ZW0oIlpDX01VVFVBTElUWV9DT1VOVCIpVGhlbiBDYWxsIFNldEJsb2dIaW50KEVtcHR5LFRydWUsVHJ1ZSkNCglFbmQgSWYNCglJZiBkLkV4aXN0cygiWkNfVVNFX05BVklHQVRFX0FSVElDTEUiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19VU0VfTkFWSUdBVEVfQVJUSUNMRSIpPD5kLkl0ZW0oIlpDX1VTRV9OQVZJR0FURV9BUlRJQ0xFIilUaGVuIENhbGwgU2V0QmxvZ0hpbnQoRW1wdHksVHJ1ZSxUcnVlKQ0KCUVuZCBJZg0KCUlmIGQuRXhpc3RzKCJaQ19DT01NRU5UX1ZFUklGWV9FTkFCTEUiKT1UcnVlIFRoZW4NCgkJSWYgQmxvZ0NvbmZpZy5SZWFkKCJaQ19DT01NRU5UX1ZFUklGWV9FTkFCTEUiKTw+ZC5JdGVtKCJaQ19DT01NRU5UX1ZFUklGWV9FTkFCTEUiKVRoZW4gQ2FsbCBTZXRCbG9nSGludChFbXB0eSxUcnVlLFRydWUpDQoJRW5kIElmDQoNCglGb3IgRWFjaCBhIEluIGQuS2V5cw0KCQlJZiBTZWFyY2hJbkFycmF5cygiZWR0IiYgYSxTcGxpdChlLCJ8IikpPVRydWUgVGhlbg0KCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKGEsZC5JdGVtKGEpKQ0KCQlFbmQgSWYNCglOZXh0DQoNCglDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0JMT0dfTkFNRSIsQmxvZ0NvbmZpZy5SZWFkKCJaQ19CTE9HX1RJVExFIikpDQoJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19CTE9HX1NVQl9OQU1FIixCbG9nQ29uZmlnLlJlYWQoIlpDX0JMT0dfU1VCVElUTEUiKSkNCg0KCUNhbGwgU2F2ZUNvbmZpZzJPcHRpb24oKQ0KDQoJU2F2ZVNldHRpbmc9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBQb3N0IFRhZw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUG9zdFRhZygpDQoNCglEaW0gb2JqVGFnDQoJU2V0IG9ialRhZz1OZXcgVFRhZw0KCW9ialRhZy5JRD1SZXF1ZXN0LkZvcm0oImVkdElEIikNCglvYmpUYWcuTmFtZT1SZXF1ZXN0LkZvcm0oImVkdE5hbWUiKQ0KCW9ialRhZy5PcmRlcj1SZXF1ZXN0LkZvcm0oImVkdE9yZGVyIikNCglvYmpUYWcuSW50cm89UmVxdWVzdC5Gb3JtKCJlZHRJbnRybyIpDQoJb2JqVGFnLkFsaWFzPVJlcXVlc3QuRm9ybSgiZWR0QWxpYXMiKQ0KCW9ialRhZy5UZW1wbGF0ZU5hbWU9UmVxdWVzdC5Gb3JtKCJlZHRUZW1wbGF0ZSIpDQoNCg0KCUlmIENMbmcob2JqVGFnLklEKT4wIFRoZW4gb2JqVGFnLk1ldGFTdHJpbmc9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3RhZ19NZXRhXSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19JRF09IiZDTG5nKG9ialRhZy5JRCkpKDApDQoNCgkn5o6l5Y+jDQoJQ2FsbCBGaWx0ZXJfUGx1Z2luX1Bvc3RUYWdfQ29yZShvYmpUYWcpDQoNCglJZiBvYmpUYWcuUG9zdCBUaGVuDQoJCUNhbGwgR2V0VGFnc2J5VGFnSURMaXN0KCJ7IiZvYmpUYWcuSUQmIn0iKQ0KCQlDYWxsIFNjYW5UYWdDb3VudCgieyImb2JqVGFnLklEJiJ9IikNCgkJUG9zdFRhZz1UcnVlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9Qb3N0VGFnX1N1Y2NlZWQob2JqVGFnKQ0KCUVuZCBJZg0KCVNldCBvYmpUYWc9Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRGVsIFRhZw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRGVsVGFnKGludElEKQ0KDQoJRGltIG9ialRhZw0KCVNldCBvYmpUYWc9TmV3IFRUYWcNCglvYmpUYWcuSUQ9aW50SUQNCg0KCUNhbGwgR2V0VGFnc2J5VGFnSURMaXN0KCJ7IiZvYmpUYWcuSUQmIn0iKQ0KDQoJSWYgb2JqVGFnLkRlbCBUaGVuIERlbFRhZz1UcnVlDQoJU2V0IG9ialRhZz1Ob3RoaW5nDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIFBvc3QgS2V5V29yZA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gUG9zdEtleVdvcmQoKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRGVsIFRhZw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRGVsS2V5V29yZChpbnRJRCkNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBQb3N0U2l0ZUZpbGUodHBhdGgpDQoJSWYgSW5zdHIobGNhc2UodHBhdGgpLCJnbG9iYWwuYXNhIikgdGhlbiBwb3N0c2l0ZWZpbGU9ZmFsc2U6ZXhpdCBmdW5jdGlvbg0KCURpbSB0eGFDb250ZW50DQoJdHhhQ29udGVudD1SZXF1ZXN0LkZvcm0oInR4YUNvbnRlbnQiKQ0KDQoJSWYgSXNFbXB0eSh0eGFDb250ZW50KSBUaGVuIHR4YUNvbnRlbnQ9TnVsbA0KDQoJSWYgTm90IElzTnVsbCh0cGF0aCkgVGhlbg0KDQoJCUlmIE5vdCBJc051bGwodHhhQ29udGVudCkgVGhlbg0KDQoJCQlDYWxsIFNhdmVUb0ZpbGUoQmxvZ1BhdGggJiB0cGF0aCx0eGFDb250ZW50LCJ1dGYtOCIsRmFsc2UpDQoNCgkJCVBvc3RTaXRlRmlsZT1UcnVlDQoNCgkJRW5kIElGDQoNCglFbmQgSWYNCg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIERlbFNpdGVGaWxlKHRwYXRoKQ0KDQoJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkNCglJZiBQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmIHRwYXRoKSBUaGVuDQoJCVB1YmxpY09iakZTTy5EZWxldGVmaWxlKEJsb2dQYXRoICYgdHBhdGgpDQoJCURlbFNpdGVGaWxlPVRydWUNCglFbmQgSWYNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBHZXRSZWFsVXJsb2ZUcmFja0JhY2tVcmwoaW50SUQpDQoNCg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICDlrqHmoLjor4TorroNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEF1ZGl0Q29tbWVudCgpDQoNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KCURpbSBpLGoNCglEaW0gcyx0DQoJRGltIGFyeUFydGljbGUoKQ0KCXM9UmVxdWVzdC5Gb3JtKCJlZHRCYXRjaCIpDQoJSWYgaXNFbXB0eShzKSBUaGVuIHM9UmVxdWVzdC5RdWVyeVN0cmluZygiaWQiKQ0KCUlmIHM9ImRlbGFsbCIgVGhlbg0KCQlvYmpDb25uLkV4ZWN1dGUgIkRFTEVURSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtjb21tX2lzQ2hlY2tdPD4wIg0KCQlBdWRpdENvbW1lbnQ9VHJ1ZQ0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoJdD1TcGxpdChzLCIsIikNCgkNCglSZURpbSBQcmVzZXJ2ZSBhcnlBcnRpY2xlKFVCb3VuZCh0KSkNCglGb3Igaj0wIFRvIFVCb3VuZCh0KS0xDQoJCWFyeUFydGljbGUoaik9MA0KCU5leHQNCg0KCURpbSBvYmpDb21tZW50DQoJRGltIG9iakFydGljbGUNCglEaW0gb2JqUnMNCg0KCUZvciBpPTAgVG8gVUJvdW5kKHQpJy0xDQoJCUlmIHQoaSk9IiIgVGhlbiBFeGl0IEZvcg0KCQlTZXQgb2JqQ29tbWVudD1OZXcgVENvbW1lbnQNCgkJSWYgb2JqQ29tbWVudC5Mb2FkSW5mb2J5SUQodChpKSkgVGhlbg0KCQkJSWYgb2JqQ29tbWVudC5sb2dfSUQ+MCBUaGVuDQoJCQkJRGltIG9ialRlc3RBcnRpY2xlDQoJCQkJU2V0IG9ialRlc3RBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQkJCUlmIG9ialRlc3RBcnRpY2xlLkxvYWRJbmZvYnlJRChvYmpDb21tZW50LmxvZ19JRCkgVGhlbg0KDQoJCQkJCUZvciBqPTAgVG8gVUJvdW5kKHQpDQoJCQkJCQlJZiBhcnlBcnRpY2xlKGopPTAgVGhlbg0KCQkJCQkJCWFyeUFydGljbGUoaik9b2JqQ29tbWVudC5sb2dfSUQNCgkJCQkJCUVuZCBJZg0KCQkJCQkJSWYgYXJ5QXJ0aWNsZShqKT1vYmpDb21tZW50LmxvZ19JRCBUaGVuIEV4aXQgRm9yDQoJCQkJCU5leHQNCg0KCQkJCQlJZiBOb3QoKG9iakNvbW1lbnQuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQpIE9yIChvYmpUZXN0QXJ0aWNsZS5BdXRob3JJRD1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkpIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQkJCUVsc2UNCgkJCQkJQ2FsbCBTaG93RXJyb3IoOSkNCgkJCQlFbmQgSWYNCgkJCQlTZXQgb2JqVGVzdEFydGljbGU9Tm90aGluZw0KDQoNCgkJCQlEaW0gYWxsY29tbSxpaQ0KCQkJCUlmIFNlYXJjaENoaWxkQ29tbWVudHModChpKSxhbGxjb21tKT1UcnVlIFRoZW4NCgkJCQkJRm9yIEVhY2ggaWkgSW4gYWxsY29tbS5LZXlzDQoJCQkJCQlEaW0gb2JqU3ViQ29tbWVudA0KCQkJCQkJU2V0IG9ialN1YkNvbW1lbnQ9TmV3IFRDb21tZW50DQoJCQkJCQlJZiBvYmpTdWJDb21tZW50LkxvYWRJbmZvYnlJRChpaSkgVGhlbg0KCQkJCQkJCW9ialN1YkNvbW1lbnQuaXNDaGVjaz1JSWYob2JqU3ViQ29tbWVudC5pc0NoZWNrLEZhbHNlLFRydWUpDQoJCQkJCQkJQ2FsbCBGaWx0ZXJfUGx1Z2luX0NvbW1lbnRBZHVpdF9Db3JlKG9ialN1YkNvbW1lbnQsVHJ1ZSkNCgkJCQkJCQlvYmpTdWJDb21tZW50LlBvc3QNCgkJCQkJCUVuZCBJZg0KCQkJCQlOZXh0DQoJCQkJRW5kIElmDQoNCgkJCUVsc2UNCg0KCQkJRW5kIElmDQoNCgkJCURlbENoaWxkIG9iakNvbW1lbnQuSUQNCgkJCW9iakNvbW1lbnQuaXNDaGVjaz1JSWYob2JqQ29tbWVudC5pc0NoZWNrLEZhbHNlLFRydWUpDQoJCQlDYWxsIEZpbHRlcl9QbHVnaW5fQ29tbWVudEFkdWl0X0NvcmUob2JqQ29tbWVudCxGYWxzZSkNCgkJCW9iakNvbW1lbnQuUG9zdA0KDQoJCUVuZCBJZg0KCQlTZXQgb2JqQ29tbWVudD1Ob3RoaW5nDQoJTmV4dA0KDQoNCglGb3Igaj0wIFRvIFVCb3VuZCh0KQ0KCQlJZiBhcnlBcnRpY2xlKGopPjAgVGhlbg0KCQkJQ2FsbCBCdWlsZEFydGljbGUoYXJ5QXJ0aWNsZShqKSxGYWxzZSxGYWxzZSkNCgkJRW5kIElmDQoJTmV4dA0KDQoJQ2FsbCBCbG9nUmVCdWlsZF9Db21tZW50cw0KCUNhbGwgQmxvZ1JlQnVpbGRfRGVmYXVsdA0KDQoJQXVkaXRDb21tZW50PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIERlbENvbW1lbnRCYXRjaCgpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCglEaW0gaSxqDQoJRGltIHMsdA0KCURpbSBhcnlBcnRpY2xlKCkNCglzPVJlcXVlc3QuRm9ybSgiZWR0QmF0Y2giKQ0KCXQ9U3BsaXQocywiLCIpDQoNCglSZURpbSBQcmVzZXJ2ZSBhcnlBcnRpY2xlKFVCb3VuZCh0KSkNCglGb3Igaj0wIFRvIFVCb3VuZCh0KS0xDQoJCWFyeUFydGljbGUoaik9MA0KCU5leHQNCg0KCURpbSBvYmpDb21tZW50DQoJRGltIG9iakFydGljbGUNCglEaW0gb2JqUnMNCg0KCUZvciBpPTAgVG8gVUJvdW5kKHQpLTENCgkJU2V0IG9iakNvbW1lbnQ9TmV3IFRDb21tZW50DQoJCUlmIG9iakNvbW1lbnQuTG9hZEluZm9ieUlEKHQoaSkpIFRoZW4NCgkJCUlmIG9iakNvbW1lbnQubG9nX0lEPjAgVGhlbg0KCQkJCURpbSBvYmpUZXN0QXJ0aWNsZQ0KCQkJCVNldCBvYmpUZXN0QXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJCQlJZiBvYmpUZXN0QXJ0aWNsZS5Mb2FkSW5mb2J5SUQob2JqQ29tbWVudC5sb2dfSUQpIFRoZW4NCg0KCQkJCQlGb3Igaj0wIFRvIFVCb3VuZCh0KS0xDQoJCQkJCQlJZiBhcnlBcnRpY2xlKGopPTAgVGhlbg0KCQkJCQkJCWFyeUFydGljbGUoaik9b2JqQ29tbWVudC5sb2dfSUQNCgkJCQkJCUVuZCBJZg0KCQkJCQkJSWYgYXJ5QXJ0aWNsZShqKT1vYmpDb21tZW50LmxvZ19JRCBUaGVuIEV4aXQgRm9yDQoJCQkJCU5leHQNCg0KCQkJCQlJZiBOb3QoKG9iakNvbW1lbnQuQXV0aG9ySUQ9QmxvZ1VzZXIuSUQpIE9yIChvYmpUZXN0QXJ0aWNsZS5BdXRob3JJRD1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkpIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQkJCUVsc2UNCgkJCQkJQ2FsbCBTaG93RXJyb3IoOSkNCgkJCQlFbmQgSWYNCgkJCQlTZXQgb2JqVGVzdEFydGljbGU9Tm90aGluZw0KDQoNCgkJCQlEaW0gYWxsY29tbSxpaQ0KCQkJCUlmIFNlYXJjaENoaWxkQ29tbWVudHModChpKSxhbGxjb21tKT1UcnVlIFRoZW4NCgkJCQkJRm9yIEVhY2ggaWkgSW4gYWxsY29tbS5LZXlzDQoJCQkJCQlEaW0gb2JqU3ViQ29tbWVudA0KCQkJCQkJU2V0IG9ialN1YkNvbW1lbnQ9TmV3IFRDb21tZW50DQoJCQkJCQlJZiBvYmpTdWJDb21tZW50LkxvYWRJbmZvYnlJRChpaSkgVGhlbg0KCQkJCQkJCW9ialN1YkNvbW1lbnQuRGVsDQoJCQkJCQlFbmQgSWYNCgkJCQkJTmV4dA0KCQkJCUVuZCBJZg0KDQoJCQlFbHNlDQoNCgkJCUVuZCBJZg0KDQoJCQlEZWxDaGlsZCBvYmpDb21tZW50LklEDQoJCQlvYmpDb21tZW50LkRlbA0KDQoJCUVuZCBJZg0KCQlTZXQgb2JqQ29tbWVudD1Ob3RoaW5nDQoJTmV4dA0KDQoNCglGb3Igaj0wIFRvIFVCb3VuZCh0KS0xDQoJCUlmIGFyeUFydGljbGUoaik+MCBUaGVuDQoJCQlDYWxsIEJ1aWxkQXJ0aWNsZShhcnlBcnRpY2xlKGopLEZhbHNlLEZhbHNlKQ0KCQlFbmQgSWYNCglOZXh0DQoNCglDYWxsIEJsb2dSZUJ1aWxkX0NvbW1lbnRzDQoJQ2FsbCBCbG9nUmVCdWlsZF9EZWZhdWx0DQoNCglEZWxDb21tZW50QmF0Y2g9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEZWxDaGlsZChJRCkNCglEaW0gb2JqUnMsdG1wUGFyZW50SUQsdG1wSUQNCglTZXQgb2JqUnM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgY29tbV9QYXJlbnRJRCxjb21tX0lEIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgY29tbV9QYXJlbnRJRD0iJklEKQ0KCURvIFVudGlsIG9ialJTLmJvZiBPciBvYmpSUy5lb2YNCgkJdG1wUGFyZW50SUQ9Y2xuZyhvYmpScygiY29tbV9QYXJlbnRJRCIpKQ0KCQl0bXBJRD1jbG5nKG9ialJzKCJjb21tX0lEIikpDQoNCgkJSWYgdG1wUGFyZW50SUQ+MCBUaGVuDQoJCQlEZWxDaGlsZCh0bXBJRCkNCgkJRW5kIElmDQoJCW9iakNvbm4uRXhlY3V0ZSAiREVMRVRFIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgY29tbV9JRD0iJnRtcElEDQoJCW9ialJTLk1vdmVOZXh0DQoJTG9vcA0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEZWxUcmFja0JhY2tCYXRjaCgpDQoNCglEaW0gaSxqDQoJRGltIHMsdA0KCURpbSBhcnlBcnRpY2xlKCkNCglzPVJlcXVlc3QuRm9ybSgiZWR0QmF0Y2giKQ0KCXQ9U3BsaXQocywiLCIpDQoNCglSZURpbSBQcmVzZXJ2ZSBhcnlBcnRpY2xlKFVCb3VuZCh0KSkNCglGb3Igaj0wIFRvIFVCb3VuZCh0KS0xDQoJCWFyeUFydGljbGUoaik9MA0KCU5leHQNCg0KCURpbSBvYmpUcmFja0JhY2sNCglEaW0gb2JqQXJ0aWNsZQ0KDQoJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoNCg0KCUZvciBpPTAgVG8gVUJvdW5kKHQpLTENCgkJU2V0IG9ialRyYWNrQmFjaz1OZXcgVFRyYWNrQmFjaw0KCQlJZiBvYmpUcmFja0JhY2suTG9hZEluZm9ieUlEKHQoaSkpIFRoZW4NCgkJCURpbSBvYmpUZXN0QXJ0aWNsZQ0KCQkJU2V0IG9ialRlc3RBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQkJSWYgb2JqVGVzdEFydGljbGUuTG9hZEluZm9ieUlEKG9ialRyYWNrQmFjay5sb2dfSUQpIFRoZW4NCg0KCQkJCUZvciBqPTAgVG8gVUJvdW5kKHQpLTENCgkJCQkJSWYgYXJ5QXJ0aWNsZShqKT0wIFRoZW4NCgkJCQkJCWFyeUFydGljbGUoaik9b2JqVHJhY2tCYWNrLmxvZ19JRA0KCQkJCQlFbmQgSWYNCgkJCQkJSWYgYXJ5QXJ0aWNsZShqKT1vYmpUcmFja0JhY2subG9nX0lEIFRoZW4gRXhpdCBGb3INCgkJCQlOZXh0DQoNCgkJCQlJZiBOb3QoKG9ialRlc3RBcnRpY2xlLkF1dGhvcklEPUJsb2dVc2VyLklEKSBPciAoQ2hlY2tSaWdodHMoIlJvb3QiKT1UcnVlKSkgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCQlFbHNlDQoJCQkJQ2FsbCBTaG93RXJyb3IoOSkNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialRlc3RBcnRpY2xlPU5vdGhpbmcNCgkJCW9ialRyYWNrQmFjay5EZWwNCgkJRW5kIElmDQoJCVNldCBvYmpUcmFja0JhY2s9Tm90aGluZw0KCU5leHQNCg0KDQoJRm9yIGo9MCBUbyBVQm91bmQodCktMQ0KCQlJZiBhcnlBcnRpY2xlKGopPjAgVGhlbg0KCQkJQ2FsbCBCdWlsZEFydGljbGUoYXJ5QXJ0aWNsZShqKSxGYWxzZSxGYWxzZSkNCgkJRW5kIElmDQoJTmV4dA0KDQoJQmxvZ1JlQnVpbGRfVHJhY2tCYWNrcw0KCURlbFRyYWNrQmFja0JhdGNoPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgICDmlofku7bliKDpmaQNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIERlbEZpbGVCYXRjaCgpDQoNCglEaW0gaSxqDQoJRGltIHMsdA0KDQoJcz1SZXF1ZXN0LkZvcm0oImVkdEJhdGNoIikNCgl0PVNwbGl0KHMsIiwiKQ0KDQoJRGltIG9ialVwTG9hZEZpbGUNCg0KCUZvciBpPTAgVG8gVUJvdW5kKHQpLTENCgkJdChpKT1DTG5nKHQoaSkpDQoJCUlmIHQoaSk+MCBUaGVuDQoJCQlTZXQgb2JqVXBMb2FkRmlsZT1OZXcgVFVwTG9hZEZpbGUNCgkJCUlmIG9ialVwTG9hZEZpbGUuTG9hZEluZm9CeUlEKHQoaSkpIFRoZW4NCgkJCQlJZiAob2JqVXBMb2FkRmlsZS5BdXRob3JJRD1CbG9nVXNlci5JRCkgT3IgKENoZWNrUmlnaHRzKCJSb290Iik9VHJ1ZSkgVGhlbg0KCQkJCQlvYmpVcExvYWRGaWxlLkRlbA0KCQkJCUVuZCBJZg0KCQkJRWxzZQ0KCQkJCUV4aXQgRnVuY3Rpb24NCgkJCUVuZCBJZg0KCQkJU2V0IG9ialVwTG9hZEZpbGU9Tm90aGluZw0KCQlFbmQgSWYNCglOZXh0DQoNCglEZWxGaWxlQmF0Y2g9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgU2F2ZSBUaGVtZSBTZXR0aW5nDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBTYXZlVGhlbWUoKQ0KDQoJRGltIGksag0KCURpbSBzLHQNCg0KCURpbSBzdHJaQ19CTE9HX0NTUw0KCURpbSBzdHJaQ19CTE9HX1RIRU1FDQoNCglzdHJaQ19CTE9HX0NTUz1SZXF1ZXN0LkZvcm0oImVkdFpDX0JMT0dfQ1NTIikNCglzdHJaQ19CTE9HX1RIRU1FPVJlcXVlc3QuRm9ybSgiZWR0WkNfQkxPR19USEVNRSIpDQoNCg0KDQoJQ2FsbCBDaGVja1htbFZlcnNpb24oQmxvZ1BhdGggJiAiemJfdXNlcnNcVEhFTUVcIiZzdHJaQ19CTE9HX1RIRU1FJiJcdGhlbWUueG1sIikNCgkNCglJZiBDaGVja0RlcGVuZGVuY3koWkNfVVNJTkdfUExVR0lOX0xJU1Qsc3RyWkNfQkxPR19USEVNRSwidGhlbWUiKT1GYWxzZSBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCUNhbGwgU2NhblBsdWdpblRvVGhlbWVGaWxlKHN0clpDX0JMT0dfQ1NTLHN0clpDX0JMT0dfVEhFTUUpDQoNCglJZiBVQ2FzZShzdHJaQ19CTE9HX0NTUyk8PlVDYXNlKENTdHIoWkNfQkxPR19DU1MpKSBUaGVuIENhbGwgU2V0QmxvZ0hpbnQoRW1wdHksVHJ1ZSxFbXB0eSkNCglJZiBVQ2FzZShzdHJaQ19CTE9HX1RIRU1FKTw+VUNhc2UoQ1N0cihaQ19CTE9HX1RIRU1FKSkgVGhlbg0KCQlDYWxsIFNldEJsb2dIaW50KEVtcHR5LFRydWUsVHJ1ZSkNCgkJQ2FsbCBVbmluc3RhbGxQbHVnaW4oWkNfQkxPR19USEVNRSkNCgkJQ2FsbCBTY2FuRnVuY3Rpb25BbmRTaWRlYmFyVG9UaGVtZUZpbGUoc3RyWkNfQkxPR19USEVNRSkNCg0KCQlDYWxsIEdldEZ1bmN0aW9uKCkNCgkJRGltIGZ1bg0KCQlGb3IgRWFjaCBmdW4gSW4gRnVuY3Rpb25zDQoJCQlJZiBJc09iamVjdChmdW4pPVRydWUgVGhlbg0KCQkJCUlmIGZ1bi5Tb3VyY2U9InRoZW1lXyImWkNfQkxPR19USEVNRSBUaGVuDQoJCQkJCWZ1bi5EZWwNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQlOZXh0DQoJDQoJRW5kIElmDQoNCglDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0JMT0dfQ1NTIixzdHJaQ19CTE9HX0NTUykNCg0KCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfQkxPR19USEVNRSIsc3RyWkNfQkxPR19USEVNRSkNCgkNCg0KCUNhbGwgU2F2ZUNvbmZpZzJPcHRpb24oKQ0KDQoJQ2FsbCBDbGVhckdsb2JlQ2FjaGUNCg0KCVNhdmVUaGVtZT1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2NhbkZ1bmN0aW9uQW5kU2lkZWJhclRvVGhlbWVGaWxlKG5ld1pDX0JMT0dfVEhFTUUpDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCURpbSBvYmpYbWxGaWxlLHN0clhtbEZpbGUscyx0DQoNCglEaW0gb2xkU0IxLG9sZFNCMixvbGRTQjMsb2xkU0I0LG9sZFNCNQ0KDQoJc3RyWG1sRmlsZSA9QmxvZ1BhdGggJiAiemJfdXNlcnMvdGhlbWUvIiAmIG5ld1pDX0JMT0dfVEhFTUUgJiAiLyIgJiAidGhlbWUueG1sIg0KDQoJU2V0IG9ialhtbEZpbGU9U2VydmVyLkNyZWF0ZU9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpDQoJb2JqWG1sRmlsZS5hc3luYyA9IEZhbHNlDQoJb2JqWG1sRmlsZS5WYWxpZGF0ZU9uUGFyc2U9RmFsc2UNCglvYmpYbWxGaWxlLmxvYWQoc3RyWG1sRmlsZSkNCglJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCUlmIG9ialhtbEZpbGUucGFyc2VFcnJvci5lcnJvckNvZGUgPD4gMCBUaGVuDQoJCUVsc2UNCgkJCUlmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdE5vZGVzKCJzaWRlYmFycy9zaWRlYmFyMSIpLmxlbmd0aD4wIFRoZW4NCgkJCQlvbGRTQjE9WkNfU0lERUJBUl9PUkRFUg0KCQkJCUlmIG9sZFNCMT0iIiBUaGVuIG9sZFNCMT0iICINCgkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVJfT0xEIixvbGRTQjEpDQoJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSIixvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJzaWRlYmFycy9zaWRlYmFyMSIpLnRleHQpIA0KCQkJRWxzZQ0KCQkJCW9sZFNCMT1CbG9nQ29uZmlnLlJlYWQoIlpDX1NJREVCQVJfT1JERVJfT0xEIikNCgkJCQlJZiBvbGRTQjE8PiIiIFRoZW4NCgkJCQkJSWYgb2xkU0IxPSIgIiBUaGVuIG9sZFNCMT0iIg0KCQkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVIiLG9sZFNCMSkNCgkJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSX09MRCIsIiIpDQoJCQkJRW5kIElmDQoJCQlFbmQgSWYNCgkJCUlmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdE5vZGVzKCJzaWRlYmFycy9zaWRlYmFyMiIpLmxlbmd0aD4wIFRoZW4NCgkJCQlvbGRTQjI9WkNfU0lERUJBUl9PUkRFUjINCgkJCQlJZiBvbGRTQjI9IiIgVGhlbiBvbGRTQjI9IiAiDQoJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSMl9PTEQiLG9sZFNCMikNCgkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVIyIixvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJzaWRlYmFycy9zaWRlYmFyMiIpLnRleHQpDQoJCQlFbHNlDQoJCQkJb2xkU0IyPUJsb2dDb25maWcuUmVhZCgiWkNfU0lERUJBUl9PUkRFUjJfT0xEIikNCgkJCQlJZiBvbGRTQjI8PiIiIFRoZW4NCgkJCQkJSWYgb2xkU0IyPSIgIiBUaGVuIG9sZFNCMj0iIg0KCQkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVIyIixvbGRTQjIpDQoJCQkJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjJfT0xEIiwiIikNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQkJSWYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0Tm9kZXMoInNpZGViYXJzL3NpZGViYXIzIikubGVuZ3RoPjAgVGhlbg0KCQkJCW9sZFNCMz1aQ19TSURFQkFSX09SREVSMw0KCQkJCUlmIG9sZFNCMz0iIiBUaGVuIG9sZFNCMz0iICINCgkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVIzX09MRCIsb2xkU0IzKQ0KCQkJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjMiLG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInNpZGViYXJzL3NpZGViYXIzIikudGV4dCkNCgkJCUVsc2UNCgkJCQlvbGRTQjM9QmxvZ0NvbmZpZy5SZWFkKCJaQ19TSURFQkFSX09SREVSM19PTEQiKQ0KCQkJCUlmIG9sZFNCMzw+IiIgVGhlbg0KCQkJCQlJZiBvbGRTQjM9IiAiIFRoZW4gb2xkU0IzPSIiDQoJCQkJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjMiLG9sZFNCMykNCgkJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSM19PTEQiLCIiKQ0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCQlJZiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3ROb2Rlcygic2lkZWJhcnMvc2lkZWJhcjQiKS5sZW5ndGg+MCBUaGVuDQoJCQkJb2xkU0I0PVpDX1NJREVCQVJfT1JERVI0DQoJCQkJSWYgb2xkU0I0PSIiIFRoZW4gb2xkU0I0PSIgIg0KCQkJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjRfT0xEIixvbGRTQjQpDQoJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNCIsb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgic2lkZWJhcnMvc2lkZWJhcjQiKS50ZXh0KQ0KCQkJRWxzZQ0KCQkJCW9sZFNCND1CbG9nQ29uZmlnLlJlYWQoIlpDX1NJREVCQVJfT1JERVI0X09MRCIpDQoJCQkJSWYgb2xkU0I0PD4iIiBUaGVuDQoJCQkJCUlmIG9sZFNCND0iICIgVGhlbiBvbGRTQjQ9IiINCgkJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNCIsb2xkU0I0KQ0KCQkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVI0X09MRCIsIiIpDQoJCQkJRW5kIElmDQoJCQlFbmQgSWYNCgkJCUlmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdE5vZGVzKCJzaWRlYmFycy9zaWRlYmFyNSIpLmxlbmd0aD4wIFRoZW4NCgkJCQlvbGRTQjU9WkNfU0lERUJBUl9PUkRFUjUNCgkJCQlJZiBvbGRTQjU9IiIgVGhlbiBvbGRTQjU9IiAiDQoJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19TSURFQkFSX09SREVSNV9PTEQiLG9sZFNCNSkNCgkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVI1IixvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJzaWRlYmFycy9zaWRlYmFyNSIpLnRleHQpDQoJCQlFbHNlDQoJCQkJb2xkU0I1PUJsb2dDb25maWcuUmVhZCgiWkNfU0lERUJBUl9PUkRFUjVfT0xEIikNCgkJCQlJZiBvbGRTQjU8PiIiIFRoZW4NCgkJCQkJSWYgb2xkU0I1PSIgIiBUaGVuIG9sZFNCNT0iIg0KCQkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1NJREVCQVJfT1JERVI1IixvbGRTQjUpDQoJCQkJCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfU0lERUJBUl9PUkRFUjVfT0xEIiwiIikNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KDQoJCQlEaW0gb2JqWG1saXRlbXMsaXRlbQ0KCQkJU2V0IG9ialhtbGl0ZW1zPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LlNlbGVjdE5vZGVzKCJmdW5jdGlvbnMvZnVuY3Rpb24iKQ0KCQkJZm9yIGVhY2ggaXRlbSBpbiBvYmpYbWxpdGVtcw0KDQoJCQkJQ2FsbCBBZGRUaGVtZUZ1bmN0aW9uKG5ld1pDX0JMT0dfVEhFTUUsaXRlbS5nZXRBdHRyaWJ1dGUoIm5hbWUiKSxpdGVtLmdldEF0dHJpYnV0ZSgiZmlsZW5hbWUiKSxpdGVtLmdldEF0dHJpYnV0ZSgiaHRtbGlkIiksaXRlbS5nZXRBdHRyaWJ1dGUoImZ0eXBlIiksaXRlbS5nZXRBdHRyaWJ1dGUoIm1heGxpIiksaXRlbS5nZXRBdHRyaWJ1dGUoImhpZGV0aXRsZSIpLGl0ZW0udGV4dCkNCg0KCQkJTmV4dA0KDQoJCUVuZCBJZg0KCUVuZCBJZg0KCQ0KCSfliqDlhaVXQVANCglDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX0RJU1BMQVlfQ09VTlRfV0FQIixJSWYoVHJ5VG9HZXRBZHZhbmNlZChvYmpYbWxGaWxlLCJ3YXAiKT0iVHJ1ZSIsMSwwKSkNCgkNCglTZXQgb2JqWG1sRmlsZT1Ob3RoaW5nDQoNCglFcnIuQ2xlYXINCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBTYXZlIExpbmtzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBTYXZlTGluaygpDQoNCglTYXZlTGluaz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBBY3RpdmVQbHVnSW4gQnkgTmFtZQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQWN0aXZlUGx1Z0luQnlOYW1lKHN0clBsdWdpbk5hbWUpDQoNCglDYWxsIENoZWNrWG1sVmVyc2lvbihCbG9nUGF0aCAmICJ6Yl91c2Vyc1xQTFVHSU5cIiZzdHJQbHVnaW5OYW1lJiJccGx1Z2luLnhtbCIpDQoNCglEaW0gcyxpLHQsYixhLGFyeUFsbFhtbCxzdHJDb250ZW50DQoJYj1GYWxzZQ0KCXM9IFpDX1VTSU5HX1BMVUdJTl9MSVNUDQoNCglJZiBzPSIiIFRoZW4NCgkJcz1zdHJQbHVnaW5OYW1lDQoJRWxzZQ0KCQl0PVNwbGl0KFpDX1VTSU5HX1BMVUdJTl9MSVNULCJ8IikNCgkJRm9yIGk9TEJvdW5kKHQpIFRvIFVCb3VuZCh0KQ0KCQkJSWYgVUNhc2UodChpKSk9VUNhc2Uoc3RyUGx1Z2luTmFtZSkgVGhlbg0KCQkJCWI9VHJ1ZQ0KCQkJRW5kIElmDQoJCU5leHQNCgkJSWYgYjw+VHJ1ZSBUaGVuDQoJCQlzPXMgJiAifCIgJiBzdHJQbHVnaW5OYW1lDQoJCUVuZCBJZg0KCUVuZCBJZg0KCQ0KCWFyeUFsbFhtbD1HZXRBbGxYbWxQYXRoKHMpDQoJDQoJSWYgYj1GYWxzZSBUaGVuDQoJCSfotbDotbfvvIEJDQoJCSfnrKwx5q2l77ya5Yik5pat5L6d6LWWCQ0KDQoJCUlmIENoZWNrRGVwZW5kZW5jeShaQ19VU0lOR19QTFVHSU5fTElTVCxzdHJQbHVnaW5OYW1lLCJwbHVnaW4iKT1GYWxzZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJJ+esrDLmraXvvJrlvpfliLDmiYDmnInmj5Lku7ZYTUzmlofku7bnu53lr7nlnLDlnYANCgkJDQoJCSfnrKwz5q2l77ya6K+75Y+W5omA5pyJWE1M5paH5Lu2DQoJCXN0ckNvbnRlbnQ9Q2hlY2tDb25mbGljdFJlV3JpdGVBbmRUb0ZpbGUoc3RyUGx1Z2luTmFtZSxhcnlBbGxYbWwsVHJ1ZSkNCgkJSWYgc3RyQ29udGVudCgwKT1GYWxzZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJJ+esrDTmraXvvJrliKTmlq3lhrLnqoENCgkJJ+esrDXmraXvvJrliKTmlq3ph43lhpkNCglFbHNlDQoJCXN0ckNvbnRlbnQ9Q2hlY2tDb25mbGljdFJlV3JpdGVBbmRUb0ZpbGUoc3RyUGx1Z2luTmFtZSxhcnlBbGxYbWwsRmFsc2UpDQoJRW5kIElmDQoNCglEaW0gc3RyWkNfVVNJTkdfUExVR0lOX0xJU1QNCgkNCglzdHJaQ19VU0lOR19QTFVHSU5fTElTVD1zDQoNCglDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1VTSU5HX1BMVUdJTl9MSVNUIixzdHJaQ19VU0lOR19QTFVHSU5fTElTVCkNCg0KCUNhbGwgU2F2ZUNvbmZpZzJPcHRpb24oKQ0KDQoJQ2FsbCBTY2FuUGx1Z2luVG9JbmNsdWRlRmlsZShzdHJDb250ZW50KDIpKQ0KDQoJYT1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnNcUExVR0lOXCImIHN0clBsdWdpbk5hbWUgJiJcaW5jbHVkZS5hc3AiLCJ1dGYtOCIpDQoNCglJZiBJblN0cihMQ2FzZShhKSxMQ2FzZSgiSW5zdGFsbFBsdWdpbl8iKSk+MCBUaGVuDQoJCUNhbGwgQWRkQmF0Y2goWkNfTVNHMjAyICYgc3RyUGx1Z2luTmFtZSwiQ2FsbCBJbnN0YWxsUGx1Z2luKCIiIiZzdHJQbHVnaW5OYW1lJiIiIikiKQ0KCUVuZCBJZg0KDQoJQWN0aXZlUGx1Z0luQnlOYW1lPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAg5qOA5p+lWE1M54mI5pysDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja1htbFZlcnNpb24oeG1scGF0aCkNCglEaW0gc3RyWG1sRmlsZSxvYmpYbWxGaWxlDQoJU2V0IG9ialhtbEZpbGU9U2VydmVyLkNyZWF0ZU9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpDQoJb2JqWG1sRmlsZS5hc3luYyA9IEZhbHNlDQoJb2JqWG1sRmlsZS5WYWxpZGF0ZU9uUGFyc2U9RmFsc2UNCglvYmpYbWxGaWxlLmxvYWQoeG1scGF0aCkNCglJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCUlmIG9ialhtbEZpbGUucGFyc2VFcnJvci5lcnJvckNvZGUgPD4gMCBUaGVuDQoJCUVsc2UNCgkJCUlmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LmdldEF0dHJpYnV0ZSgidmVyc2lvbiIpPD4iMi4wIiBUaGVuDQoJCQkJQ2FsbCBTZXRCbG9nSGludF9DdXN0b20oWlZBX0Vycm9yTXNnKDY0KSkNCgkJCQlSZXNwb25zZS5SZWRpcmVjdCBSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiSHR0cF9SZWZlcmVyIikNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglFbmQgSWYNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAg6aqM6K+B5L6d6LWWDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBDaGVja0RlcGVuZGVuY3koc3RyUGx1Z2luTGlzdCxzdHJOYW1lLHN0ckZvbGRlcikNCglDaGVja0RlcGVuZGVuY3k9VHJ1ZQ0KCURpbSBzdHJUZW1wLHNwdFRlbXAsc3RyRmlsZVBhdGgNCglJZiBzdHJGb2xkZXI9InRoZW1lIiBUaGVuDQoJCXN0ckZpbGVQYXRoPUJsb2dQYXRoICYgInpiX3VzZXJzXHRoZW1lXCIgJiBzdHJOYW1lICYgIlx0aGVtZS54bWwiDQoJRWxzZQ0KCQlzdHJGaWxlUGF0aD1CbG9nUGF0aCAmICJ6Yl91c2Vyc1xwbHVnaW5cIiAmIHN0ck5hbWUgJiAiXHBsdWdpbi54bWwiDQoJRW5kIElmDQoNCglzdHJUZW1wPVVDYXNlKCJ8IiZzdHJQbHVnaW5MaXN0JiJ8IikgJ+W+l+WIsOWFqOmDqOWQr+eUqOeahOaPkuS7tuWIl+ihqOS7peS+v0luU3RyDQoJRGltIG9ialhtbA0KCVNldCBvYmpYbWw9Q3JlYXRlT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikJDQoJb2JqWG1sLmFzeW5jID0gRmFsc2UNCglvYmpYbWwuVmFsaWRhdGVPblBhcnNlPUZhbHNlDQoJb2JqWG1sLkxvYWQoc3RyRmlsZVBhdGgpDQoJc3B0VGVtcD1TcGxpdChVQ2FzZShUcnlUb0dldEFkdmFuY2VkKG9ialhtbCwiZGVwZW5kZW5jeSIpKSwifCIpDQoJRGltIGkNCglEaW0gTm90SW5zdGFsbGVkUGx1Z2luLGJvbE5vdEluc3RhbGwNCglGb3IgaT0wIFRvIFVib3VuZChzcHRUZW1wKQ0KCQlJZiBJblN0cihzdHJUZW1wLCJ8IiZzcHRUZW1wKGkpJiJ8Iik8PTAgVGhlbg0KCQkJSWYgSW5TdHIoWkNfVVNJTkdfUExVR0lOX0xJU1QsIkFwcENlbnRyZSIpIFRoZW4NCgkJCQlOb3RJbnN0YWxsZWRQbHVnaW49Tm90SW5zdGFsbGVkUGx1Z2luICYgIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSciJiBaQ19CTE9HX0hPU1QgJiJ6Yl91c2Vycy9wbHVnaW4vYXBwY2VudHJlL3NlcnZlci5hc3A/bWV0aG9kPXNlYXJjaCZxPSImIFNlcnZlci5IdG1sRW5jb2RlKHNwdFRlbXAoaSkpICYiJz4iICYgc3B0VGVtcChpKSAmICI8L2E+IiAmICIgIg0KCQkJRWxzZQ0KCQkJCU5vdEluc3RhbGxlZFBsdWdpbj1Ob3RJbnN0YWxsZWRQbHVnaW4gJiBzcHRUZW1wKGkpICYgIiAiDQoJCQlFbmQgSWYNCgkJCWJvbE5vdEluc3RhbGw9VHJ1ZQ0KCQlFbmQgSWYNCglOZXh0DQoJSWYgYm9sTm90SW5zdGFsbCBUaGVuDQoJCVNldEJsb2dIaW50X0N1c3RvbSBOb3RJbnN0YWxsZWRQbHVnaW4gJiBaQ19NU0cyODINCgkJQ2hlY2tEZXBlbmRlbmN5PUZhbHNlDQoJRW5kIElmDQoJU2V0IG9ialhtbD1Ob3RoaW5nDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICDlgZznlKjml7bpqozor4Hkvp3otZYNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIENoZWNrRGVwZW5kZW5jeURpc2FibGUoYXJ5UGx1Z2luTGlzdCxzdHJQbHVnaW5OYW1lKQ0KDQoJRGltIHN0clhtbEZpbGUsb2JqWG1sRmlsZQ0KCURpbSBzdHJEZXBlbmRlbmN5LHN0clJldHVybkRlcGVuZGVuY3ksYm9sRGVwZW5kZW5jeSxzdHJJbmNsdWRlLHN0cklEDQoJRGltIGFyeVINCglEaW0gaixpLGsNCglib2xEZXBlbmRlbmN5PUZhbHNlDQoJDQoNCglTZXQgb2JqWG1sRmlsZT1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikNCglvYmpYbWxGaWxlLmFzeW5jID0gRmFsc2UNCglvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCSfpppblhYjlhYjmo4Dmn6XkuIDkuIvkuLvpopgNCglvYmpYbWxGaWxlLkxvYWQoQmxvZ1BhdGggJiAiemJfdXNlcnNcVEhFTUVcIiZaQ19CTE9HX1RIRU1FJiJcdGhlbWUueG1sIikNCglJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCUlmIG9ialhtbEZpbGUucGFyc2VFcnJvci5lcnJvckNvZGUgPSAwIFRoZW4NCgkJCXN0ckRlcGVuZGVuY3k9InwiJlVDYXNlKFRyeVRvR2V0QWR2YW5jZWQob2JqWG1sRmlsZSwiZGVwZW5kZW5jeSIpKSYifCINCgkJCUlmIEluU3RyKHN0ckRlcGVuZGVuY3ksInwiJnN0clBsdWdpbk5hbWUmInwiKSBUaGVuDQoJCQkJYm9sRGVwZW5kZW5jeT1UcnVlDQoJCQkJc3RyUmV0dXJuRGVwZW5kZW5jeT1aQ19CTE9HX1RIRU1FDQoJCQkJU2V0QmxvZ0hpbnRfQ3VzdG9tIFpDX01TRzI4MyAmIHN0clJldHVybkRlcGVuZGVuY3kNCgkJCQlDaGVja0RlcGVuZGVuY3lEaXNhYmxlPUZhbHNlDQoJCQkJRXhpdCBGdW5jdGlvbg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCUVuZCBJZg0KDQoJRm9yIGo9MCBUbyBVYm91bmQoYXJ5UGx1Z2luTGlzdCkNCgkJc3RyWG1sRmlsZSA9YXJ5UGx1Z2luTGlzdChqKQ0KCQlvYmpYbWxGaWxlLmxvYWQoc3RyWG1sRmlsZSkNCgkJSWYgb2JqWG1sRmlsZS5yZWFkeVN0YXRlPTQgVGhlbg0KCQkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJCUVsc2UNCgkJCQlzdHJJRD1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQNCgkJCQlzdHJJbmNsdWRlPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImluY2x1ZGUiKS50ZXh0DQoJCQkJc3RyRGVwZW5kZW5jeT1TcGxpdChVQ2FzZShUcnlUb0dldEFkdmFuY2VkKG9ialhtbEZpbGUsImRlcGVuZGVuY3kiKSksInwiKQ0KCQkJCUlmIFRyaW0oc3RySW5jbHVkZSk8PiIiIFRoZW4NCgkJCQkJSWYgTGVuKExvYWRGcm9tRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9wbHVnaW4vIiAmIHN0cklEICYgIi8iICYgc3RySW5jbHVkZSwidXRmLTgiKSk+MCBUaGVuDQoJCQkJCQlGb3IgaT0wIFRvIFVib3VuZChzdHJEZXBlbmRlbmN5KQ0KCQkJCQkJCUlmIHN0ckRlcGVuZGVuY3koaSk9VUNhc2Uoc3RyUGx1Z2luTmFtZSkgVGhlbg0KCQkJCQkJCQlzdHJSZXR1cm5EZXBlbmRlbmN5PXN0clJldHVybkRlcGVuZGVuY3kgJiBzdHJJRCAmICIgIg0KCQkJCQkJCQlpPVVib3VuZChzdHJEZXBlbmRlbmN5KSsxDQoJCQkJCQkJCWJvbERlcGVuZGVuY3k9VHJ1ZQ0KCQkJCQkJCUVuZCBJZg0KCQkJCQkJTmV4dA0KCQkJCQlFbmQgSWYNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJSWYgYm9sRGVwZW5kZW5jeSBUaGVuIFNldEJsb2dIaW50X0N1c3RvbSBaQ19NU0cyODMgJiBzdHJSZXR1cm5EZXBlbmRlbmN5DQoJQ2hlY2tEZXBlbmRlbmN5RGlzYWJsZT1Ob3QoYm9sRGVwZW5kZW5jeSkNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgIOW+l+WIsOWFqOmDqFhNTOWcsOWdgA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gR2V0QWxsWG1sUGF0aChuZXdaQ19VU0lOR19QTFVHSU5fTElTVCkNCg0KCURpbSBhcnlQTCxpLGoscyx0DQoJYXJ5UEw9U3BsaXQobmV3WkNfVVNJTkdfUExVR0lOX0xJU1QsInwiKQ0KDQoJSWYgbmV3WkNfVVNJTkdfUExVR0lOX0xJU1Q8PiIiIFRoZW4NCgkJaT1VQm91bmQoYXJ5UEwpDQoJRWxzZQ0KCQlpPTANCgkJR2V0QWxsWG1sUGF0aD1hcnlQTA0KCQlFeGl0IEZ1bmN0aW9uDQoJRW5kIElmDQoNCglEaW0gZiwgZjEsIGZjDQoJRGltIGFyeVhtbEZpbGUoKQ0KCVJlZGltIGFyeVhtbEZpbGUoLTEpDQoJDQoJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkNCglTZXQgZiA9IFB1YmxpY09iakZTTy5HZXRGb2xkZXIoQmxvZ1BhdGggJiAiemJfdXNlcnMvcGx1Z2luLyIpDQoJU2V0IGZjID0gZi5TdWJGb2xkZXJzDQoJRm9yIGo9MCBUbyBpDQoJCUlmIFB1YmxpY09iakZTTy5GaWxlRXhpc3RzKEJsb2dQYXRoICYgInpiX3VzZXJzL3BsdWdpbi8iICYgYXJ5UEwoaikgJiAiLyIgJiAicGx1Z2luLnhtbCIpIFRoZW4NCgkJCUlmIENoZWNrUGx1Z2luU3RhdGVCeU5ld1ZhbHVlKGFyeVBMKGopLG5ld1pDX1VTSU5HX1BMVUdJTl9MSVNUKSBUaGVuDQoJCQkJUmVkaW0gUHJlc2VydmUgYXJ5WG1sRmlsZShVYm91bmQoYXJ5WG1sRmlsZSkrMSkNCgkJCQlhcnlYbWxGaWxlKFVib3VuZChhcnlYbWxGaWxlKSk9QmxvZ1BhdGggJiAiemJfdXNlcnMvcGx1Z2luLyIgJiBhcnlQTChqKSAmICIvIiAmICJwbHVnaW4ueG1sIg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCglHZXRBbGxYbWxQYXRoPWFyeVhtbEZpbGUNCglTZXQgZj1Ob3RoaW5nDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogIOWFvOWuueiAgeeJiOacrFotQkxPRzIuMO+8jOmYsuatouWHuumUmQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gVHJ5VG9HZXRBZHZhbmNlZChvYmpYbWwsc2luZ2xlTm9kZSkNCglPbiBFcnJvciBSZXN1bWUgTmV4dA0KCVRyeVRvR2V0QWR2YW5jZWQ9IiINCglUcnlUb0dldEFkdmFuY2VkPW9ialhtbC5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiYWR2YW5jZWQvIiZzaW5nbGVOb2RlKS50ZXh0DQoJRXJyLkNsZWFyDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgIOmqjOivgeWGsueqgeOAgemHjeWGmeS7peWPiuWGmeWFpeaWh+S7tuOAkOWlvee7leWPo++8jOacm+WkqeOAkQ0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gQ2hlY2tDb25mbGljdFJlV3JpdGVBbmRUb0ZpbGUoc3RyUGx1Z2luTmFtZSxhcnlGaWxlUGF0aCxib2xDaGVjaykNCglEaW0gUmV0dXJuQXJyYXkoMikNCglSZXR1cm5BcnJheSgwKT1UcnVlICAnQ29uZmxpY3QNCglSZXR1cm5BcnJheSgxKT1UcnVlICAnUmVXcml0ZQ0KCVJldHVybkFycmF5KDIpPUZhbHNlICdHZXRUZXh0DQoJRGltIHN0clhtbEZpbGUsb2JqWG1sRmlsZSxhcnlKb2luVGV4dCxzdHJJRCxzdHJJbmNsdWRlLHN0ckNvbmZsaWN0LHN0clJld3JpdGUNCglEaW0gdGhpc1Jld3JpdGUsdGhpc0NvbmZsaWN0DQoJRGltIHN0clJlc3BvbnNlQ29uZmxpY3Qsc3RyUmVzcG9uc2VSZXdyaXRlDQoJRGltIGFyeVINCglSZWRpbSBhcnlKb2luVGV4dChVYm91bmQoYXJ5RmlsZVBhdGgpKQ0KCURpbSBqLGksaw0KCQ0KCVNldCBvYmpYbWxGaWxlPVNlcnZlci5DcmVhdGVPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKQ0KCW9ialhtbEZpbGUuYXN5bmMgPSBGYWxzZQ0KCW9ialhtbEZpbGUuVmFsaWRhdGVPblBhcnNlPUZhbHNlDQoJJ+WFiOivu+S4gOmBjeiHquW3seeahOmFjee9ruaWh+S7tuW+l+WIsOmHjeWGmeWSjOWGsueqgeS/oeaBr++8jOWGsueqgeWQjumdouS4gOS4quS4gOS4quavlOWvuQ0KCUlmIGJvbENoZWNrIFRoZW4NCgkJc3RyWG1sRmlsZSA9IEJsb2dQYXRoICYgInpiX3VzZXJzL3BsdWdpbi8iICYgc3RyUGx1Z2luTmFtZSAmICIvIiAmICJwbHVnaW4ueG1sIg0KCQlvYmpYbWxGaWxlLmxvYWQoc3RyWG1sRmlsZSkNCgkJdGhpc1Jld3JpdGU9U3BsaXQoVUNhc2UoVHJ5VG9HZXRBZHZhbmNlZChvYmpYbWxGaWxlLCJyZXdyaXRlZnVuY3Rpb25zIikpLCJ8IikNCgkJdGhpc0NvbmZsaWN0PVNwbGl0KFVDYXNlKFRyeVRvR2V0QWR2YW5jZWQob2JqWG1sRmlsZSwiY29uZmxpY3QiKSksInwiKQ0KCUVuZCBJZg0KCQ0KCQ0KCUZvciBqPTAgVG8gVWJvdW5kKGFyeUZpbGVQYXRoKQ0KCQlzdHJYbWxGaWxlID1hcnlGaWxlUGF0aChqKQ0KCQlvYmpYbWxGaWxlLmxvYWQoc3RyWG1sRmlsZSkNCgkJSWYgb2JqWG1sRmlsZS5yZWFkeVN0YXRlPTQgVGhlbg0KCQkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJCUVsc2UNCgkJCQlzdHJJRD1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQNCgkJCQlzdHJJbmNsdWRlPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImluY2x1ZGUiKS50ZXh0DQoJCQkJc3RyUmV3cml0ZT1TcGxpdChVQ2FzZShUcnlUb0dldEFkdmFuY2VkKG9ialhtbEZpbGUsInJld3JpdGVmdW5jdGlvbnMiKSksInwiKQ0KCQkJCXN0ckNvbmZsaWN0PVNwbGl0KFVDYXNlKFRyeVRvR2V0QWR2YW5jZWQob2JqWG1sRmlsZSwiY29uZmxpY3QiKSksInwiKQ0KCQkJCUlmIFRyaW0oc3RySW5jbHVkZSk8PiIiIFRoZW4NCgkJCQkJSWYgTGVuKExvYWRGcm9tRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9wbHVnaW4vIiAmIHN0cklEICYgIi8iICYgc3RySW5jbHVkZSwidXRmLTgiKSk+MCBUaGVuDQoJCQkJCQlhcnlKb2luVGV4dChqKT0iPCEtLSImIiAjaW5jbHVkZSBmaWxlPSIiIiZfDQoJCQkJCQkJCQkJc3RySUQgJl8NCgkJCQkJCQkJCQkiLyImXw0KCQkJCQkJCQkJCXN0ckluY2x1ZGUgJl8NCgkJCQkJCQkJCQkiIiIgLS0+Ig0KCQkJCQkJSWYgYm9sQ2hlY2sgVGhlbg0KCQkJCQkJCSflhYjliKTmlq3mmK/lkKblhrLnqoHvvIzku47kuKTkuKrmlrnpnaLliKTmlq3jgIINCgkJCQkJCQkn56ys5LiA5q2l77ya5Yik5pat5b6F5ZCv55So5o+S5Lu25piv5ZCm5LiO6K+l5o+S5Lu25Yay56qB4oCU4oCUDQoJCQkJCQkJRm9yIGk9MCBUbyBVYm91bmQodGhpc0NvbmZsaWN0KQ0KCQkJCQkJCQlJZiB0aGlzQ29uZmxpY3QoaSk9VUNhc2Uoc3RySUQpIFRoZW4NCgkJCQkJCQkJCVJldHVybkFycmF5KDApPUZhbHNlDQoJCQkJCQkJCQlzdHJSZXNwb25zZUNvbmZsaWN0PXN0clJlc3BvbnNlQ29uZmxpY3QgJiBzdHJJRCAmICIgIg0KCQkJCQkJCQlFbmQgSWYNCgkJCQkJCQlOZXh0DQoJCQkJCQkJJ+esrOS6jOatpe+8muWIpOaWreivpeaPkuS7tuaYr+WQpuS4juW+heWQr+eUqOaPkuS7tuWGsueqgeKAlOKAlA0KCQkJCQkJCUZvciBpPTAgVG8gVWJvdW5kKHN0ckNvbmZsaWN0KQ0KCQkJCQkJCQlJZiBzdHJDb25mbGljdChpKT1VQ2FzZShzdHJQbHVnaW5OYW1lKSBUaGVuDQoJCQkJCQkJCQlSZXR1cm5BcnJheSgwKT1GYWxzZQ0KCQkJCQkJCQkJSWYgSW5TdHIoc3RyUmVzcG9uc2VDb25mbGljdCxzdHJJRCk8PTAgVGhlbiBzdHJSZXNwb25zZUNvbmZsaWN0PXN0clJlc3BvbnNlQ29uZmxpY3QgJiBzdHJJRCAmICIgIg0KCQkJCQkJCQlFbmQgSWYNCgkJCQkJCQlOZXh0DQoJCQkJCQkJDQoJCQkJCQkJJ+aOpeedgOWIpOaWremHjeWGmeWHveaVsOOAgg0KCQkJCQkJCSfnm7TmjqXliKTmlq3lvoXlkK/nlKjmj5Lku7bmmK/lkKbkuI7or6Xmj5Lku7bmnInph43lhpnlh73mlbDljbPlj6/vvIzkuI3pnIDopoHlho3liIbkuKTkuKrlvqrnjq/liKTmlq0NCgkJCQkJCQkn5LiN6L+H6LKM5Ly86ZyA6KaB5Y+M6YeN5b6q546v4oCm4oCm77yfDQoJCQkJCQkJDQoJCQkJCQkJRm9yIGk9MCBUbyBVYm91bmQodGhpc1Jld3JpdGUpDQoJCQkJCQkJCUZvciBrPTAgVG8gVWJvdW5kKHN0clJld3JpdGUpDQoJCQkJCQkJCQlJZiB0aGlzUmV3cml0ZShpKT1zdHJSZXdyaXRlKGspIEFuZCBzdHJJRDw+c3RyUGx1Z2luTmFtZSBUaGVuDQoJCQkJCQkJCQkJUmV0dXJuQXJyYXkoMSk9RmFsc2UNCgkJCQkJCQkJCQlJZiBJblN0cihzdHJSZXNwb25zZVJld3JpdGUsc3RyUmV3cml0ZShrKSk8PTAgVGhlbiBzdHJSZXNwb25zZVJld3JpdGU9c3RyUmVzcG9uc2VSZXdyaXRlICYgc3RySUQgJiAiICINCgkJCQkJCQkJCUVuZCBJZg0KCQkJCQkJCQlOZXh0DQoJCQkJCQkJTmV4dA0KCQkJCQkJRW5kIElmDQoJCQkJCUVuZCBJZg0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCglJZiBSZXR1cm5BcnJheSgwKT1GYWxzZSBUaGVuIFNldEJsb2dIaW50X0N1c3RvbShaQ19NU0cyODMgJiBzdHJSZXNwb25zZUNvbmZsaWN0KQ0KCUlmIFJldHVybkFycmF5KDEpPUZhbHNlIEFuZCBSZXR1cm5BcnJheSgwKT1UcnVlIFRoZW4gU2V0QmxvZ0hpbnRfQ3VzdG9tKFpDX01TRzI4NSAmIHN0clJlc3BvbnNlUmV3cml0ZSkNCglSZXR1cm5BcnJheSgyKT1Kb2luKGFyeUpvaW5UZXh0LHZiQ3JsZikNCglDaGVja0NvbmZsaWN0UmVXcml0ZUFuZFRvRmlsZT1SZXR1cm5BcnJheQ0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgRGlzYWJsZVBsdWdJbiBCeSBOYW1lDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEaXNhYmxlUGx1Z0luQnlOYW1lKHN0clBsdWdpbk5hbWUpDQoNCglDYWxsIFVuaW5zdGFsbFBsdWdpbihzdHJQbHVnaW5OYW1lKQ0KDQoJRGltIHMsaSx0DQoNCglzPVNwbGl0KFpDX1VTSU5HX1BMVUdJTl9MSVNULCJ8IikNCg0KCUZvciBpPUxCb3VuZChzKSBUbyBVQm91bmQocykNCg0KCQlJZiBVQ2FzZShzKGkpKTw+VUNhc2Uoc3RyUGx1Z2luTmFtZSkgVGhlbg0KDQoJCQlJZiB0PSIiIFRoZW4NCgkJCQl0PXMoaSkNCgkJCUVsc2UNCgkJCQl0PXQgJiAifCIgJiBzKGkpDQoJCQlFbmQgSWYNCgkJCQ0KCQkJDQoJCUVuZCBJZg0KDQoJTmV4dA0KCQ0KCURpbSBhcnlBbGxYbWxQYXRoDQoJYXJ5QWxsWG1sUGF0aD1HZXRBbGxYbWxQYXRoKHQpDQoJDQoJSWYgQ2hlY2tEZXBlbmRlbmN5RGlzYWJsZShhcnlBbGxYbWxQYXRoLHN0clBsdWdpbk5hbWUpPUZhbHNlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJRGltIHN0ckNvbnRlbnQNCglEaW0gc3RyWkNfVVNJTkdfUExVR0lOX0xJU1QNCg0KCXN0clpDX1VTSU5HX1BMVUdJTl9MSVNUPXQNCg0KCUNhbGwgQmxvZ0NvbmZpZy5Xcml0ZSgiWkNfVVNJTkdfUExVR0lOX0xJU1QiLHN0clpDX1VTSU5HX1BMVUdJTl9MSVNUKQ0KDQoJQ2FsbCBTYXZlQ29uZmlnMk9wdGlvbigpDQoJDQoJdD1DaGVja0NvbmZsaWN0UmVXcml0ZUFuZFRvRmlsZShzdHJQbHVnaW5OYW1lLGFyeUFsbFhtbFBhdGgsRmFsc2UpKDIpDQoJQ2FsbCBTY2FuUGx1Z2luVG9JbmNsdWRlRmlsZSh0KQ0KDQoJRGlzYWJsZVBsdWdJbkJ5TmFtZT1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2NhblBsdWdpblRvSW5jbHVkZUZpbGUocykNCg0KCUNhbGwgU2F2ZVRvRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9QTFVHSU4vcF9pbmNsdWRlLmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNjYW5QbHVnaW5Ub1RoZW1lRmlsZShuZXdaQ19CTE9HX0NTUyxuZXdaQ19CTE9HX1RIRU1FKQ0KDQoJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCURpbSBvYmpYbWxGaWxlLHN0clhtbEZpbGUscyx0DQoNCglzdHJYbWxGaWxlID1CbG9nUGF0aCAmICJ6Yl91c2Vycy90aGVtZS8iICYgbmV3WkNfQkxPR19USEVNRSAmICIvIiAmICJ0aGVtZS54bWwiDQoNCglTZXQgb2JqWG1sRmlsZT1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikNCglvYmpYbWxGaWxlLmFzeW5jID0gRmFsc2UNCglvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCW9ialhtbEZpbGUubG9hZChzdHJYbWxGaWxlKQ0KCUlmIG9ialhtbEZpbGUucmVhZHlTdGF0ZT00IFRoZW4NCgkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJRWxzZQ0KCQkJSWYgTENhc2Uob2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiaWQiKS50ZXh0KT1MQ2FzZShuZXdaQ19CTE9HX1RIRU1FKSBUaGVuDQoJCQkJSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkJCQlJZiBQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vycy90aGVtZS8iICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiaWQiKS50ZXh0ICYiL3BsdWdpbi8iICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGx1Z2luL2luY2x1ZGUiKS50ZXh0KSBUaGVuDQoJCQkJCUlmIFRyaW0ob2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGx1Z2luL2luY2x1ZGUiKS50ZXh0KTw+IiIgVGhlbg0KCQkJCQkJdD1Mb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnMvdGhlbWUvIiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCAmIi9wbHVnaW4vIiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInBsdWdpbi9pbmNsdWRlIikudGV4dCwidXRmLTgiKQ0KCQkJCQkJSWYgSW5TdHIoTENhc2UodCksTENhc2UoIkluc3RhbGxQbHVnaW5fIikpPjAgVGhlbg0KCQkJCQkJCUNhbGwgQWRkQmF0Y2goWkNfTVNHMjAyICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiaWQiKS50ZXh0LCJDYWxsIEluc3RhbGxQbHVnaW4oIiIiJm9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCYiIiIpIikJDQoJCQkJCQlFbmQgSWYNCgkJCQkJCXM9cyAmICI8IS0iJiItICNpbmNsdWRlIGZpbGU9IiIuLi90aGVtZS8iJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQgJiIvcGx1Z2luLyImIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInBsdWdpbi9pbmNsdWRlIikudGV4dCAmIiIiIC0tPiIgJiB2YkNyTGYNCgkJCQkJRW5kIElmDQoJCQkJRW5kIElmDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJRW5kIElmDQoJU2V0IG9ialhtbEZpbGU9Tm90aGluZw0KDQoJQ2FsbCBTYXZlVG9GaWxlKEJsb2dQYXRoICYgInpiX3VzZXJzL1BMVUdJTi9wX3RoZW1lLmFzcCIscywidXRmLTgiLEZhbHNlKQ0KDQoJRXJyLkNsZWFyDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2NhblRhZ0NvdW50KHN0clRhZ3MpDQonc3RyVGFncz0iezF9ezJ9ezN9ezR9ezV9Ig0KCURpbSB0LGkscw0KCURpbSBvYmpSUyxqLGsNCg0KCUlmIHN0clRhZ3M8PiIiIFRoZW4NCg0KCQlzPXN0clRhZ3MNCgkJcz1SZXBsYWNlKHMsIn0iLCIiKQ0KCQl0PVNwbGl0KHMsInsiKQ0KDQoJCUZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCg0KCQkJSWYgdChpKTw+IiIgVGhlbg0KDQoJCQkJaz10KGkpDQoJCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIENPVU5UKFtsb2dfSURdKSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfTGV2ZWxdPjEgQU5EIFtsb2dfVGFnXSBMSUtFICcleyIgJiBrICYgIn0lJyIpDQoJCQkJaj1vYmpSUygwKQ0KCQkJCW9iakNvbm4uRXhlY3V0ZSgiVVBEQVRFIFtibG9nX1RhZ10gU0VUIFt0YWdfQ291bnRdPSImaiYiIFdIRVJFIFt0YWdfSURdID0iICYgaykNCgkJCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCQlFbmQgSWYNCg0KCQlOZXh0DQoNCgkJcz1Kb2luKHQsIiwiKQ0KCQlzPVJpZ2h0KHMsTGVuKHMpLTEpDQoNCgkJc3RyVGFncz1zDQoNCglFbmQgSWYNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8mg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gU2F2ZVNpZGViYXJPcmRlcihzMSxzMixzMyxzNCxzNSkNCg0KCUlmIFJpZ2h0KHMxLDEpPSI6IiBUaGVuIHMxPUxlZnQoczEsTGVuKHMxKS0xKQ0KCUlmIFJpZ2h0KHMyLDEpPSI6IiBUaGVuIHMyPUxlZnQoczIsTGVuKHMyKS0xKQ0KCUlmIFJpZ2h0KHMzLDEpPSI6IiBUaGVuIHMzPUxlZnQoczMsTGVuKHMzKS0xKQ0KCUlmIFJpZ2h0KHM0LDEpPSI6IiBUaGVuIHM0PUxlZnQoczQsTGVuKHM0KS0xKQ0KCUlmIFJpZ2h0KHM1LDEpPSI6IiBUaGVuIHM1PUxlZnQoczUsTGVuKHM1KS0xKQ0KDQoJWkNfU0lERUJBUl9PUkRFUj1zMQ0KCUJsb2dDb25maWcuV3JpdGUgIlpDX1NJREVCQVJfT1JERVIiLHMxDQoJWkNfU0lERUJBUl9PUkRFUjI9czINCglCbG9nQ29uZmlnLldyaXRlICJaQ19TSURFQkFSX09SREVSMiIsczINCglaQ19TSURFQkFSX09SREVSMz1zMw0KCUJsb2dDb25maWcuV3JpdGUgIlpDX1NJREVCQVJfT1JERVIzIixzMw0KCVpDX1NJREVCQVJfT1JERVI0PXM0DQoJQmxvZ0NvbmZpZy5Xcml0ZSAiWkNfU0lERUJBUl9PUkRFUjQiLHM0DQoJWkNfU0lERUJBUl9PUkRFUjU9czUNCglCbG9nQ29uZmlnLldyaXRlICJaQ19TSURFQkFSX09SREVSNSIsczUNCg0KCVNhdmVTaWRlYmFyT3JkZXI9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIFNhdmVGdW5jdGlvbigpDQoNCglEaW0gb2JqRnVuY3Rpb24NCglTZXQgb2JqRnVuY3Rpb249TmV3IFRGdW5jdGlvbg0KDQoJSWYgQ0xuZyhSZXF1ZXN0LkZvcm0oImlucElEIikpPjAgVGhlbiBvYmpGdW5jdGlvbi5Mb2FkSW5mb0J5SUQoUmVxdWVzdC5Gb3JtKCJpbnBJRCIpKQ0KDQoJb2JqRnVuY3Rpb24uSUQ9UmVxdWVzdC5Gb3JtKCJpbnBJRCIpDQoJb2JqRnVuY3Rpb24uTmFtZT1SZXF1ZXN0LkZvcm0oImlucE5hbWUiKQ0KCUlmIG9iakZ1bmN0aW9uLklzVXNlcnM9VHJ1ZSBUaGVuIG9iakZ1bmN0aW9uLkZpbGVOYW1lPVJlcXVlc3QuRm9ybSgiaW5wRmlsZU5hbWUiKQ0KCUlmIG9iakZ1bmN0aW9uLklzVXNlcnM9VHJ1ZSBUaGVuIG9iakZ1bmN0aW9uLkZ0eXBlPVJlcXVlc3QuRm9ybSgiaW5wRnR5cGUiKQ0KCW9iakZ1bmN0aW9uLkh0bWxJRD1SZXF1ZXN0LkZvcm0oImlucEh0bWxJRCIpDQoJb2JqRnVuY3Rpb24uT3JkZXI9UmVxdWVzdC5Gb3JtKCJpbnBPcmRlciIpDQoJb2JqRnVuY3Rpb24uTWF4TGk9UmVxdWVzdC5Gb3JtKCJpbnBNYXhMaSIpDQoJb2JqRnVuY3Rpb24uU2lkZWJhcklEPVJlcXVlc3QuRm9ybSgiaW5wU2lkZWJhcklEIikNCglvYmpGdW5jdGlvbi5Db250ZW50PVJlcGxhY2UoUmVxdWVzdC5Gb3JtKCJpbnBDb250ZW50IiksVkJDcmxmLCIiKQ0KCW9iakZ1bmN0aW9uLlZpZXdUeXBlPVJlcXVlc3QuRm9ybSgiaW5wVmlld1R5cGUiKQ0KCW9iakZ1bmN0aW9uLlNvdXJjZT1SZXF1ZXN0LkZvcm0oImlucFNvdXJjZSIpDQoJb2JqRnVuY3Rpb24uSXNIaWRkZW49Tm90IChSZXF1ZXN0LkZvcm0oImlucElzSGlkZGVuIik9IlRydWUiKQ0KCW9iakZ1bmN0aW9uLklzSGlkZVRpdGxlPShSZXF1ZXN0LkZvcm0oImlucElzSGlkZVRpdGxlIik9IlRydWUiKQ0KCUlmIFJlcXVlc3QuRm9ybSgiaW5wRmlsZU5hbWUiKT0ibmF2YmFyIiBUaGVuDQoJCUNhbGwgR2V0RnVuY3Rpb24oKQ0KCQlJZiBUcmFuc2ZlckhUTUwob2JqRnVuY3Rpb24uQ29udGVudCwiW2FudGktemNfYmxvZ19ob3N0XSIpPD5GdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZSgibmF2YmFyIikpLkNvbnRlbnQgVGhlbg0KCQkJQ2FsbCBTZXRCbG9nSGludChFbXB0eSxFbXB0eSxUcnVlKQ0KCQlFbmQgSWYNCglFbmQgSWYNCg0KCSfmjqXlj6MNCgknQ2FsbCBGaWx0ZXJfUGx1Z2luX1NhdmVGdW5jdGlvbl9Db3JlKG9iakZ1bmN0aW9uKQ0KCUlmIG9iakZ1bmN0aW9uLlNvdXJjZTw+InN5c3RlbSIgVGhlbg0KCQlJZiBTZWFyY2hJbkFycmF5cyhvYmpGdW5jdGlvbi5GaWxlTmFtZSxTcGxpdCgibmF2YmFyOiImWkNfREVGQVVMVF9TSURFQkFSLCI6IikpPVRydWUgVGhlbiBvYmpGdW5jdGlvbi5GaWxlTmFtZT1vYmpGdW5jdGlvbi5GaWxlTmFtZSAmIExlZnQoQ1N0cihSbmQoKSoxMDAwMCksNCkNCglFbmQgSWYNCg0KCUlmIG9iakZ1bmN0aW9uLlBvc3QgVGhlbg0KDQoJCVNhdmVGdW5jdGlvbj1UcnVlDQoJCSdDYWxsIEZpbHRlcl9QbHVnaW5fU2F2ZUZ1bmN0aW9uX1N1Y2NlZWQob2JqRnVuY3Rpb24pDQoJRW5kIElmDQoJU2V0IG9iakZ1bmN0aW9uPU5vdGhpbmcNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBEZWxGdW5jdGlvbihpbnRJRCkNCg0KCURpbSBvYmpGdW5jdGlvbg0KDQoJU2V0IG9iakZ1bmN0aW9uPU5ldyBURnVuY3Rpb24NCg0KCUlmIG9iakZ1bmN0aW9uLkxvYWRJbmZvYnlJRChpbnRJRCkgVGhlbg0KDQoJCUlmIG9iakZ1bmN0aW9uLkRlbCBUaGVuDQoJCQlEZWxGdW5jdGlvbj1UcnVlDQoJCUVuZCBJZg0KDQoJRW5kIElmDQoNCglTZXQgb2JqRnVuY3Rpb249Tm90aGluZw0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCiU+</file>
	<file name='zb_system\FUNCTION\c_system_lib.asp' crc32='E23126F1'  dt:dt='bin.base64'>77u/PCUNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonLy8gICAgICAgICAgICAgIFotQmxvZw0KJy8vIOS9nCAgICDogIU6ICAgIOacseeFiih6eC5hc2QpDQonLy8g54mI5p2D5omA5pyJOiAgICBSYWluYm93U29mdCBTdHVkaW8NCicvLyDmioDmnK/mlK/mjIE6ICAgIHJhaW5ib3dzb2Z0QDE2My5jb20NCicvLyDnqIvluo/lkI3np7A6DQonLy8g56iL5bqP54mI5pysOg0KJy8vIOWNleWFg+WQjeensDogICAgY19zeXN0ZW1fbGliLmFzcA0KJy8vIOW8gOWni+aXtumXtDogICAgMjAwNC4wNy4yNQ0KJy8vIOacgOWQjuS/ruaUuTogICAgMjAwNy0xLTQNCicvLyDlpIcgICAg5rOoOiAgICDlupPmqKHlnZcNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWumuS5iVRDYXRlZ29yeeexuw0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRDYXRlZ29yeQ0KDQoJUHVibGljIElEDQoJUHVibGljIE5hbWUNCglQdWJsaWMgSW50cm8NCglQdWJsaWMgT3JkZXINCglQdWJsaWMgQ291bnQNCglQdWJsaWMgQWxpYXMNCglQdWJsaWMgUGFyZW50SUQNCglQdWJsaWMgRnVsbFVybA0KCVB1YmxpYyBNZXRhDQoJUHVibGljIFRlbXBsYXRlTmFtZQ0KCVB1YmxpYyBMb2dUZW1wbGF0ZQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBNZXRhU3RyaW5nDQoJCU1ldGFTdHJpbmc9TWV0YS5TYXZlU3RyaW5nDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBNZXRhU3RyaW5nKHMpDQoJCU1ldGEuTG9hZFN0cmluZz1zDQoJRW5kIFByb3BlcnR5DQoNCg0KCVByaXZhdGUgRnRlbXBsYXRlDQoJUHVibGljIFByb3BlcnR5IExldCBUZW1wbGF0ZShzdHJGaWxlTmFtZSkNCgkJRnRlbXBsYXRlPUdldFRlbXBsYXRlKCJURU1QTEFURV8iICYgc3RyRmlsZU5hbWUpDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IEdldCBUZW1wbGF0ZQ0KCQlJZiBGdGVtcGxhdGU8PiIiIFRoZW4NCgkJCVRlbXBsYXRlID0gRnRlbXBsYXRlDQoJCQlFeGl0IFByb3BlcnR5DQoJCUVsc2UNCgkJCUlmIFRlbXBsYXRlTmFtZTw+IiIgVGhlbg0KCQkJCURpbSBzDQoJCQkJcz1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfIiAmVGVtcGxhdGVOYW1lKQ0KCQkJCUlmIHM8PiIiIFRoZW4NCgkJCQkJRnRlbXBsYXRlID0gcw0KCQkJCUVsc2UNCgkJCQkJRnRlbXBsYXRlPUdldFRlbXBsYXRlKCJURU1QTEFURV9DQVRBTE9HIikNCgkJCQlFbmQgSWYNCgkJCUVsc2UNCgkJCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0NBVEFMT0ciKQ0KCQkJRW5kIElmDQoJCQlUZW1wbGF0ZSA9IEZ0ZW1wbGF0ZQ0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBGdW5jdGlvbiBHZXREZWZhdWx0VGVtcGxhdGVOYW1lDQoJCUlmIFRlbXBsYXRlTmFtZTw+IiIgVGhlbg0KCQkJR2V0RGVmYXVsdFRlbXBsYXRlTmFtZT1UZW1wbGF0ZU5hbWUNCgkJRWxzZQ0KCQkJR2V0RGVmYXVsdFRlbXBsYXRlTmFtZT0iQ0FUQUxPRyINCgkJRW5kIElmDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0RGVmYXVsdExvZ1RlbXBsYXRlTmFtZQ0KCQlJZiBMb2dUZW1wbGF0ZTw+IiIgIFRoZW4NCgkJCUdldERlZmF1bHRMb2dUZW1wbGF0ZU5hbWU9TG9nVGVtcGxhdGUNCgkJRWxzZQ0KCQkJR2V0RGVmYXVsdExvZ1RlbXBsYXRlTmFtZT0iU0lOR0xFIg0KCQlFbmQgSUYNCglFbmQgRnVuY3Rpb24NCg0KCVByaXZhdGUgRmZ1bGxyZWdleA0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgRnVsbFJlZ2V4KHMpDQoJCUZmdWxscmVnZXg9cw0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRnVsbFJlZ2V4DQoJCUlmIEZmdWxscmVnZXg8PiIiIFRoZW4gDQoJCQlGdWxsUmVnZXg9RmZ1bGxyZWdleA0KCQlFbHNlDQoJCQlGdWxsUmVnZXg9WkNfQ0FURUdPUllfUkVHRVgNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgaHRtbA0KDQoJUHVibGljIFByb3BlcnR5IEdldCBGdWxsUGF0aA0KCQlGdWxsUGF0aD1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclBhdGgoRnVsbFJlZ2V4LFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIsIiIsIiIsIiIsSUQsTmFtZSxTdGF0aWNOYW1lKQ0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBVcmwNCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVENhdGVnb3J5X1VybD1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQ2F0ZWdvcnlfVXJsIGluIEFjdGlvbl9QbHVnaW5fVENhdGVnb3J5X1VybA0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVENhdGVnb3J5X1VybCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVENhdGVnb3J5X1VybCkNCgkJCUlmIGJBY3Rpb25fUGx1Z2luX1RDYXRlZ29yeV9Vcmw9VHJ1ZSBUaGVuIEV4aXQgUHJvcGVydHkNCgkJTmV4dA0KCQkNCgkJVXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixJRCxOYW1lLFN0YXRpY05hbWUpDQoJCUlmIFJpZ2h0KFVybCwxMik9ImRlZmF1bHQuaHRtbCIgVGhlbiBVcmw9TGVmdChVcmwsTGVuKFVybCktMTIpDQoNCgkJVXJsPVJlcGxhY2UoUmVwbGFjZShVcmwsIi8vIiwiLyIpLCI6LyIsIjovLyIsMSwxKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ2F0ZWdvcnlfVXJsKFVybCkNCg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBSc3NVcmwNCgkJUnNzVXJsID0gQmxvZ0hvc3QgJiAiZmVlZC5hc3A/Y2F0ZT0iICYgSUQNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgSHRtbE5hbWUNCgkJSHRtbE5hbWU9VHJhbnNmZXJIVE1MKE5hbWUsIltodG1sLWZvcm1hdF0iKQ0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBIdG1sVXJsDQoJCUh0bWxVcmw9VHJhbnNmZXJIVE1MKFVybCwiW2h0bWwtZm9ybWF0XSIpDQoJRW5kIFByb3BlcnR5DQoJDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFN0YXRpY05hbWUNCgkJSWYgSXNOdWxsKEFsaWFzKSBPciBJc0VtcHR5KEFsaWFzKSBPciBBbGlhcz0iIiBUaGVuDQoJCQlTdGF0aWNOYW1lID0gTmFtZQ0KCQlFbHNlDQoJCQlTdGF0aWNOYW1lID0gQWxpYXMNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUmVDb3VudA0KCVB1YmxpYyBFeElEICfljp9JRA0KDQoJUHVibGljIEZ1bmN0aW9uIFBvc3QoKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ2F0ZWdvcnlfUG9zdChJRCxOYW1lLEludHJvLE9yZGVyLENvdW50LFBhcmVudElELEFsaWFzLFRlbXBsYXRlTmFtZSxMb2dUZW1wbGF0ZSxGdWxsVXJsLE1ldGFTdHJpbmcpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJRCwiaW50IiwwKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKE9yZGVyLCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoUGFyZW50SUQsImludCIsMCkNCg0KCQknSUTlj6/ku6XkuLowDQoJCU5hbWU9RmlsdGVyU1FMKE5hbWUpDQoJCUFsaWFzPVRyYW5zZmVySFRNTChBbGlhcywiW2RpcmVjdG9yeSZmaWxlXSIpDQoJCUlmIExlZnQoQWxpYXMsMSk9Ii8iIFRoZW4gQWxpYXM9UmlnaHQoQWxpYXMsTGVuKEFsaWFzKS0xKQ0KCQlJZiBSaWdodChBbGlhcywxKT0iLyIgVGhlbiBBbGlhcz1MZWZ0KEFsaWFzLExlbihBbGlhcyktMSkNCgkJQWxpYXM9RmlsdGVyU1FMKEFsaWFzKQ0KCQlJbnRybz1GaWx0ZXJTUUwoSW50cm8pDQoNCgkJVGVtcGxhdGVOYW1lPVVDYXNlKEZpbHRlclNRTChUZW1wbGF0ZU5hbWUpKQ0KCQlJZiBUZW1wbGF0ZU5hbWU9IkNBVEFMT0ciIFRoZW4gVGVtcGxhdGVOYW1lPSIiDQoNCgkJTG9nVGVtcGxhdGU9VUNhc2UoRmlsdGVyU1FMKExvZ1RlbXBsYXRlKSkNCgkJSWYgTG9nVGVtcGxhdGU9IlNJTkdMRSIgVGhlbiBMb2dUZW1wbGF0ZT0iIg0KDQoJCUlmIExlbihOYW1lKT0wIFRoZW4gUG9zdD1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoNCgkJSWYgSUQ9MCBUaGVuDQoNCgkJCUlmIE5vdCBQYXJlbnRJRD0wIFRoZW4NCgkJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NhdGVfSURdLFtjYXRlX1BhcmVudElEXSBGUk9NIFtibG9nX0NhdGVnb3J5XSBXSEVSRSBbY2F0ZV9JRF09IiAmIFBhcmVudElEKQ0KCQkJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJCQkJSWYgTm90IG9ialJTKCJjYXRlX1BhcmVudElEIik9MCBUaGVuIFNob3dFcnJvcig1MSkNCgkJCQlFbHNlDQoJCQkJCVNob3dFcnJvcig1MCkNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KDQoJCQlvYmpDb25uLkV4ZWN1dGUoIklOU0VSVCBJTlRPIFtibG9nX0NhdGVnb3J5XShbY2F0ZV9OYW1lXSxbY2F0ZV9PcmRlcl0sW2NhdGVfSW50cm9dLFtjYXRlX1BhcmVudElEXSxbY2F0ZV9VcmxdLFtjYXRlX1RlbXBsYXRlXSxbY2F0ZV9Mb2dUZW1wbGF0ZV0sW2NhdGVfRnVsbFVybF0sW2NhdGVfTWV0YV0pIFZBTFVFUyAoJyImTmFtZSYiJywiJk9yZGVyJiIsJyImSW50cm8mIicsIiZQYXJlbnRJRCYiLCciJkFsaWFzJiInLCciJlRlbXBsYXRlTmFtZSYiJywnIiZMb2dUZW1wbGF0ZSYiJywnIiZGdWxsVXJsJiInLCciJk1ldGFTdHJpbmcmIicpIikNCg0KCQkJRGltIG9ialJTDQoJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgTUFYKFtjYXRlX0lEXSkgRlJPTSBbYmxvZ19DYXRlZ29yeV0iKQ0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCUlEPW9ialJTKDApDQoJCQlFbmQgSWYNCgkJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJCUlmIFBhcmVudElEPUlEIFRoZW4NCgkJCQlQYXJlbnRJRD0wDQoJCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ2F0ZWdvcnldIHNldCBbY2F0ZV9OYW1lXT0nIiZOYW1lJiInLFtjYXRlX09yZGVyXT0iJk9yZGVyJiIsW2NhdGVfSW50cm9dPSciJkludHJvJiInLFtjYXRlX1BhcmVudElEXT0iJlBhcmVudElEJiIsW2NhdGVfVXJsXT0nIiZBbGlhcyYiJyxbY2F0ZV9UZW1wbGF0ZV09JyImVGVtcGxhdGVOYW1lJiInLFtjYXRlX0xvZ1RlbXBsYXRlXT0nIiZMb2dUZW1wbGF0ZSYiJyxbY2F0ZV9GdWxsVXJsXT0nIiZGdWxsVXJsJiInLFtjYXRlX01ldGFdPSciJk1ldGFTdHJpbmcmIicgV0hFUkUgW2NhdGVfSURdID0iICYgSUQpDQoJCQlFbmQgSWYNCg0KCQlFbHNlDQoNCgkJCSflpoLmnpzpgInmi6nkuobniLbliIbnsbssIOmcgOimgei/m+ihjOS7peS4i+WIpOaWrQ0KCQkJSWYgTm90IFBhcmVudElEPTAgVGhlbg0KCQkJCSfniLbliIbnsbvkuI3og73kuLroh6rouqsNCgkJCQlJZiBQYXJlbnRJRD1JRCBUaGVuIFBhcmVudElEPTANCgkJCQkn5LiN6IO95bCG5YiG57G7572u5LqO5a2Q5YiG57G75LiLLCDlhbzliKTmlq3pgInmi6nnmoTniLbliIbnsbvmmK/lkKblrZjlnKguDQoJCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtjYXRlX0lEXSxbY2F0ZV9QYXJlbnRJRF0gRlJPTSBbYmxvZ19DYXRlZ29yeV0gV0hFUkUgW2NhdGVfSURdPSIgJiBQYXJlbnRJRCkNCgkJCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQkJCUlmIE5vdCBvYmpSUygiY2F0ZV9QYXJlbnRJRCIpPTAgVGhlbiBTaG93RXJyb3IoNTEpDQoJCQkJRWxzZQ0KCQkJCQlTaG93RXJyb3IoNTApDQoJCQkJRW5kIElmDQoJCQkJJ+S4jeiDveWwhuWQq+acieWtkOWIhuexu+eahOWIhuexu+e9ruS6juWFtuWug+WIhuexu+S4iy4NCgkJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NhdGVfSURdIEZST00gW2Jsb2dfQ2F0ZWdvcnldIFdIRVJFIFtjYXRlX1BhcmVudElEXT0iICYgSUQpDQoJCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbiAgU2hvd0Vycm9yKDUxKQ0KCQkJCVNldCBvYmpSUz1Ob3RoaW5nDQoJCQlFbmQgSWYNCg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ2F0ZWdvcnldIHNldCBbY2F0ZV9OYW1lXT0nIiZOYW1lJiInLFtjYXRlX09yZGVyXT0iJk9yZGVyJiIsW2NhdGVfSW50cm9dPSciJkludHJvJiInLFtjYXRlX1BhcmVudElEXT0iJlBhcmVudElEJiIsW2NhdGVfVXJsXT0nIiZBbGlhcyYiJyxbY2F0ZV9UZW1wbGF0ZV09JyImVGVtcGxhdGVOYW1lJiInLFtjYXRlX0xvZ1RlbXBsYXRlXT0nIiZMb2dUZW1wbGF0ZSYiJyxbY2F0ZV9GdWxsVXJsXT0nIiZGdWxsVXJsJiInLFtjYXRlX01ldGFdPSciJk1ldGFTdHJpbmcmIicgV0hFUkUgW2NhdGVfSURdID0iICYgSUQpDQoNCgkJRW5kIElmDQoNCgkJUG9zdD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlJRChjYXRlX0lEKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoY2F0ZV9JRCwiaW50IiwwKQ0KDQoJCUlmIGNhdGVfSUQ9MCBUaGVuDQoJCQlJZiBCbG9nQ29uZmlnLkV4aXN0cygiWkNfVU5DQVRFR09SSVpFRF9OQU1FIik9VHJ1ZSBUaGVuIE5hbWU9QmxvZ0NvbmZpZy5SZWFkKCJaQ19VTkNBVEVHT1JJWkVEX05BTUUiKQ0KCQkJSWYgQmxvZ0NvbmZpZy5FeGlzdHMoIlpDX1VOQ0FURUdPUklaRURfQUxJQVMiKT1UcnVlIFRoZW4gQWxpYXM9QmxvZ0NvbmZpZy5SZWFkKCJaQ19VTkNBVEVHT1JJWkVEX0FMSUFTIikNCgkJCUlmIEJsb2dDb25maWcuRXhpc3RzKCJaQ19VTkNBVEVHT1JJWkVEX0NPVU5UIik9VHJ1ZSBUaGVuIA0KCQkJCURpbSBpbnRVbkNhdGVDb3VudA0KCQkJCWludFVuQ2F0ZUNvdW50PUJsb2dDb25maWcuUmVhZCgiWkNfVU5DQVRFR09SSVpFRF9DT1VOVCIpDQoJCQkJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRVbkNhdGVDb3VudCwiaW50IiwwKQ0KCQkJCUNvdW50PWludFVuQ2F0ZUNvdW50DQoJCQlFbmQgaWYgDQoJCQlMb2FkSW5mb0J5SUQ9VHJ1ZQ0KCQkJRXhpdCBGdW5jdGlvbg0KCQlFbmQgSWYNCg0KCQlEaW0gb2JqUlMNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtjYXRlX0lEXSxbY2F0ZV9OYW1lXSxbY2F0ZV9JbnRyb10sW2NhdGVfT3JkZXJdLFtjYXRlX0NvdW50XSxbY2F0ZV9QYXJlbnRJRF0sW2NhdGVfVXJsXSxbY2F0ZV9UZW1wbGF0ZV0sW2NhdGVfTG9nVGVtcGxhdGVdLFtjYXRlX0Z1bGxVcmxdLFtjYXRlX01ldGFdIEZST00gW2Jsb2dfQ2F0ZWdvcnldIFdIRVJFIFtjYXRlX0lEXT0iICYgY2F0ZV9JRCkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCUlEPW9ialJTKCJjYXRlX0lEIikNCgkJCU5hbWU9b2JqUlMoImNhdGVfTmFtZSIpDQoJCQlBbGlhcz1vYmpSUygiY2F0ZV9VcmwiKQ0KCQkJT3JkZXI9b2JqUlMoImNhdGVfT3JkZXIiKQ0KCQkJQ291bnQ9b2JqUlMoImNhdGVfQ291bnQiKQ0KCQkJUGFyZW50SUQ9b2JqUlMoImNhdGVfUGFyZW50SUQiKQ0KCQkJSW50cm89b2JqUlMoImNhdGVfSW50cm8iKQ0KCQkJVGVtcGxhdGVOYW1lPW9ialJTKCJjYXRlX1RlbXBsYXRlIikNCgkJCUxvZ1RlbXBsYXRlPW9ialJTKCJjYXRlX0xvZ1RlbXBsYXRlIikNCgkJCUZ1bGxVcmw9b2JqUlMoImNhdGVfRnVsbFVybCIpDQoJCQlNZXRhU3RyaW5nPW9ialJTKCJjYXRlX01ldGEiKQ0KCQkJTG9hZEluZm9CeUlEPVRydWUNCg0KCQlFbmQgSWYNCg0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KCQkNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RDYXRlZ29yeV9Mb2FkSW5mb0J5SUQoSUQsTmFtZSxJbnRybyxPcmRlcixDb3VudCxQYXJlbnRJRCxBbGlhcyxUZW1wbGF0ZU5hbWUsTG9nVGVtcGxhdGUsRnVsbFVybCxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBMb2FkSW5mb0J5QXJyYXkoYXJ5Q2F0ZUluZm8pDQoNCgkJSWYgSXNBcnJheShhcnlDYXRlSW5mbyk9VHJ1ZSBUaGVuDQoJCQlJRD1hcnlDYXRlSW5mbygwKQ0KCQkJTmFtZT1hcnlDYXRlSW5mbygxKQ0KCQkJSW50cm89YXJ5Q2F0ZUluZm8oMikNCgkJCU9yZGVyPWFyeUNhdGVJbmZvKDMpDQoJCQlDb3VudD1hcnlDYXRlSW5mbyg0KQ0KCQkJUGFyZW50SUQ9YXJ5Q2F0ZUluZm8oNSkNCgkJCUFsaWFzPWFyeUNhdGVJbmZvKDYpDQoJCQlUZW1wbGF0ZU5hbWU9YXJ5Q2F0ZUluZm8oNykNCgkJCUxvZ1RlbXBsYXRlPWFyeUNhdGVJbmZvKDgpDQoJCQlGdWxsVXJsPWFyeUNhdGVJbmZvKDkpDQoJCQlNZXRhU3RyaW5nPWFyeUNhdGVJbmZvKDEwKQ0KCQlFbmQgSWYNCg0KCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQ0KCQkNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RDYXRlZ29yeV9Mb2FkSW5mb0J5QXJyYXkoSUQsTmFtZSxJbnRybyxPcmRlcixDb3VudCxQYXJlbnRJRCxBbGlhcyxUZW1wbGF0ZU5hbWUsTG9nVGVtcGxhdGUsRnVsbFVybCxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBEZWwoKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ2F0ZWdvcnlfRGVsKElELE5hbWUsSW50cm8sT3JkZXIsQ291bnQsUGFyZW50SUQsQWxpYXMsVGVtcGxhdGVOYW1lLExvZ1RlbXBsYXRlLEZ1bGxVcmwsTWV0YVN0cmluZykNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElELCJpbnQiLDApDQoJCUlmIChJRD0wKSBUaGVuIERlbD1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2xvZ19JRF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbbG9nX0NhdGVJRF09IiAmIElEKQ0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuICBTaG93RXJyb3IoMTMpDQoNCgkJJ+S4jeiDveWIoOmZpOWQq+acieWtkOWIhuexu+eahOWIhuexuy4NCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtjYXRlX0lEXSBGUk9NIFtibG9nX0NhdGVnb3J5XSBXSEVSRSBbY2F0ZV9QYXJlbnRJRF09IiAmIElEKQ0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuICBTaG93RXJyb3IoNDkpDQoNCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19DYXRlZ29yeV0gV0hFUkUgW2NhdGVfSURdID0iICYgSUQpDQoNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlEZWw9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCgkJSUQ9MA0KCQlOYW1lPVpDX01TRzA1OQ0KCQlSZUNvdW50PTANCgkJT3JkZXI9MA0KCQlFeElEPS0xICfooajnpLrml6Dljp9JRO+8jOaWh+eroOWIhuexu+aXoOWPmOWMlg0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCglFbmQgU3ViDQoNCkVuZCBDbGFzcw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDlrprkuYlUQXJ0aWNsZeexuw0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRBcnRpY2xlDQoNCglQdWJsaWMgSUQNCglQdWJsaWMgQ2F0ZUlEDQoJUHVibGljIEF1dGhvcklEDQoJUHVibGljIExldmVsDQoNCglQdWJsaWMgVGl0bGUNCglQdWJsaWMgSW50cm8NCglQdWJsaWMgQ29udGVudA0KCVB1YmxpYyBQb3N0VGltZQ0KDQoJUHVibGljIFRhZw0KCVB1YmxpYyBBbGlhcw0KDQoJUHVibGljIENvbW1OdW1zDQoJUHVibGljIFZpZXdOdW1zDQoJUHVibGljIFRyYWNrQmFja051bXMNCg0KCVByaXZhdGUgSVANCg0KCVB1YmxpYyBJc3RvcA0KCVB1YmxpYyBGdWxsVXJsDQoJUHVibGljIEZUeXBlDQoJUHVibGljIE1ldGENCglQdWJsaWMgVGVtcGxhdGVOYW1lDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IE1ldGFTdHJpbmcNCgkJTWV0YVN0cmluZz1NZXRhLlNhdmVTdHJpbmcNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IE1ldGFTdHJpbmcocykNCgkJTWV0YS5Mb2FkU3RyaW5nPXMNCglFbmQgUHJvcGVydHkNCg0KCVByaXZhdGUgVGVtcGxhdGVfQXJ0aWNsZV9UcmFja2JhY2sNCglQcml2YXRlIFRlbXBsYXRlX0FydGljbGVfQ29tbWVudA0KCVByaXZhdGUgVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50X1BhZ2ViYXINCglQcml2YXRlIFRlbXBsYXRlX0FydGljbGVfQ29tbWVudHBvc3QNCglQcml2YXRlIFRlbXBsYXRlX0FydGljbGVfVGFnDQoJUHJpdmF0ZSBUZW1wbGF0ZV9BcnRpY2xlX05hdmJhcl9MDQoJUHJpdmF0ZSBUZW1wbGF0ZV9BcnRpY2xlX05hdmJhcl9SDQoJUHJpdmF0ZSBUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRwb3N0X1ZlcmlmeQ0KCVByaXZhdGUgVGVtcGxhdGVfQXJ0aWNsZV9NdXR1YWxpdHkNCglQcml2YXRlIFRlbXBsYXRlX0NhbGVuZGFyDQoNCg0KCVByaXZhdGUgRGlzYWJsZV9FeHBvcnRfVGFnDQoJUHJpdmF0ZSBEaXNhYmxlX0V4cG9ydF9DTVRhbmRUQg0KCVByaXZhdGUgRGlzYWJsZV9FeHBvcnRfQ29tbWVudFBvc3QNCglQcml2YXRlIERpc2FibGVfRXhwb3J0X011dHVhbGl0eQ0KCVByaXZhdGUgRGlzYWJsZV9FeHBvcnRfTmF2QmFyDQoNCglQcml2YXRlIEhhc1RhZw0KCVByaXZhdGUgSGFzQ01UYW5kVEINCglQcml2YXRlIEhhc011dHVhbGl0eQ0KDQoJUHVibGljIGh0bWwNCglQdWJsaWMgc3ViaHRtbA0KCVB1YmxpYyBzdWJodG1sX1RlbXBsYXRlTmFtZQ0KDQoJUHVibGljIElzRHluYW1pY0xvYWRTaWxkYmFyDQoJUHVibGljIFNlYXJjaFRleHQNCglQdWJsaWMgQ29tbWVudHNQYWdlDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IElzUGFnZQ0KCQlJZiBGVHlwZT0xIFRoZW4NCgkJCUlzUGFnZT1UcnVlDQoJCUVsc2UgDQoJCQlJc1BhZ2U9RmFsc2UNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZ0ZW1wbGF0ZQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgVGVtcGxhdGUoc3RyRmlsZU5hbWUpDQoJCUZ0ZW1wbGF0ZT1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfIiAmIHN0ckZpbGVOYW1lKQ0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgVGVtcGxhdGUNCgkJSWYgRnRlbXBsYXRlPD4iIiBUaGVuDQoJCQlUZW1wbGF0ZSA9IEZ0ZW1wbGF0ZQ0KCQkJRXhpdCBQcm9wZXJ0eQ0KCQlFbHNlDQoJCQlJZiBUZW1wbGF0ZU5hbWU8PiIiIFRoZW4NCgkJCQlEaW0gcw0KCQkJCXM9R2V0VGVtcGxhdGUoIlRFTVBMQVRFXyIgJlRlbXBsYXRlTmFtZSkNCgkJCQlJZiBzPD4iIiBUaGVuDQoJCQkJCUZ0ZW1wbGF0ZSA9IHMNCgkJCQkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCgkJCQkJRXhpdCBQcm9wZXJ0eQ0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCQlJZiBJc1BhZ2U9RmFsc2UgQW5kIENhdGVnb3J5cyhDYXRlSUQpLkxvZ1RlbXBsYXRlPD4iIiBUaGVuDQoJCQkJRGltIHQNCgkJCQl0PUdldFRlbXBsYXRlKCJURU1QTEFURV8iICZDYXRlZ29yeXMoQ2F0ZUlEKS5Mb2dUZW1wbGF0ZSkNCgkJCQlJZiB0PD4iIiBUaGVuDQoJCQkJCUZ0ZW1wbGF0ZSA9IHQNCgkJCQkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCgkJCQkJRXhpdCBQcm9wZXJ0eQ0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCQlJZiBJc1BhZ2U9VHJ1ZSBUaGVuDQoJCQkJRnRlbXBsYXRlPUdldFRlbXBsYXRlKCJURU1QTEFURV9QQUdFIikNCgkJCUVsc2UNCgkJCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX1NJTkdMRSIpDQoJCQlFbmQgSWYNCg0KCQkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0RGVmYXVsdFRlbXBsYXRlTmFtZQ0KCQlJZiBUZW1wbGF0ZU5hbWU8PiIiIFRoZW4NCgkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9VGVtcGxhdGVOYW1lDQoJCUVsc2UNCgkJCUlmIElzUGFnZT1UcnVlIFRoZW4NCgkJCQlHZXREZWZhdWx0VGVtcGxhdGVOYW1lPSJQQUdFIg0KCQkJRWxzZQ0KCQkJCUlmIENhdGVnb3J5cyhDYXRlSUQpLkxvZ1RlbXBsYXRlPD4iIiBUaGVuDQoJCQkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9Q2F0ZWdvcnlzKENhdGVJRCkuTG9nVGVtcGxhdGUNCgkJCQlFbHNlDQoJCQkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9IlNJTkdMRSINCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglFbmQgRnVuY3Rpb24NCg0KCVByaXZhdGUgRmZ1bGxyZWdleA0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgRnVsbFJlZ2V4KHMpDQoJCUZmdWxscmVnZXg9cw0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRnVsbFJlZ2V4DQoJCUlmIEZmdWxscmVnZXg8PiIiIFRoZW4gDQoJCQlGdWxsUmVnZXg9RmZ1bGxyZWdleA0KCQlFbHNlDQoJCQlJZiBJc1BhZ2U9VHJ1ZSBUaGVuDQoJCQkJSWYgTGV2ZWw+MiBUaGVuDQoJCQkJCUZ1bGxSZWdleD1aQ19QQUdFX1JFR0VYDQoJCQkJRWxzZUlmIExldmVsPjEgVGhlbg0KCQkJCQlGdWxsUmVnZXg9WkNfUEFHRV9BTkRfQVJUSUNMRV9QUklWQVRFX1JFR0VYCQ0KCQkJCUVsc2UNCgkJCQkJRnVsbFJlZ2V4PVpDX1BBR0VfQU5EX0FSVElDTEVfRFJBRlRfUkVHRVgNCgkJCQlFbmQgSWYNCgkJCUVsc2UNCgkJCQlJZiBMZXZlbD4yIFRoZW4NCgkJCQkJRnVsbFJlZ2V4PVpDX0FSVElDTEVfUkVHRVgNCgkJCQlFbHNlSWYgTGV2ZWw+MSBUaGVuDQoJCQkJCUZ1bGxSZWdleD1aQ19QQUdFX0FORF9BUlRJQ0xFX1BSSVZBVEVfUkVHRVgJDQoJCQkJRWxzZQ0KCQkJCQlGdWxsUmVnZXg9WkNfUEFHRV9BTkRfQVJUSUNMRV9EUkFGVF9SRUdFWA0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZ1bGxQYXRoDQoJCUNhbGwgR2V0VXNlcnNieVVzZXJJRExpc3QoQXV0aG9ySUQpDQoJCUZ1bGxQYXRoPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yUGF0aChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSxDYXRlZ29yeXMoQ2F0ZUlEKS5TdGF0aWNOYW1lLFVzZXJzKEF1dGhvcklEKS5TdGF0aWNOYW1lLFllYXIoUG9zdFRpbWUpLE1vbnRoKFBvc3RUaW1lKSxEYXkoUG9zdFRpbWUpLElELFN0YXRpY05hbWUsU3RhdGljTmFtZSkNCglFbmQgUHJvcGVydHkNCg0KDQoJUHJpdmF0ZSBGVXJsDQoJUHVibGljIFByb3BlcnR5IEdldCBVcmwNCg0KCQlJZiBGVXJsPD4iIiBUaGVuIA0KCQkJVXJsPUZVcmwNCgkJRWxzZQ0KDQoJCQkncGx1Z2luIG5vZGUNCgkJCWJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX1VybD1GYWxzZQ0KCQkJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfVXJsIGluIEFjdGlvbl9QbHVnaW5fVEFydGljbGVfVXJsDQoJCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfVXJsKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9VcmwpDQoJCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfVXJsPVRydWUgVGhlbiBFeGl0IFByb3BlcnR5DQoJCQlOZXh0DQoNCgkJCUNhbGwgR2V0VXNlcnNieVVzZXJJRExpc3QoQXV0aG9ySUQpDQoJCQlGVXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSxDYXRlZ29yeXMoQ2F0ZUlEKS5TdGF0aWNOYW1lLFVzZXJzKEF1dGhvcklEKS5TdGF0aWNOYW1lLFllYXIoUG9zdFRpbWUpLE1vbnRoKFBvc3RUaW1lKSxEYXkoUG9zdFRpbWUpLElELFN0YXRpY05hbWUsU3RhdGljTmFtZSkNCgkJCUlmIFJpZ2h0KEZVcmwsMTIpPSJkZWZhdWx0Lmh0bWwiIFRoZW4gRlVybD1MZWZ0KEZVcmwsTGVuKEZVcmwpLTEyKQ0KCQkJJ0lmIFJpZ2h0KFVybCwxMCk9ImluZGV4Lmh0bWwiIFRoZW4gVXJsPUxlZnQoVXJsLExlbihVcmwpLTEwKQ0KDQoJCQlGVXJsPVJlcGxhY2UoUmVwbGFjZShGVXJsLCIvLyIsIi8iKSwiOi8iLCI6Ly8iLDEsMSkNCg0KCQkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX1VybChGVXJsKQ0KCQkJVXJsPUZVcmwNCg0KCQlFbmQgSWYNCg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBTdGF0aWNOYW1lDQoJCUlmIElzTnVsbChBbGlhcykgT3IgSXNFbXB0eShBbGlhcykgT3IgQWxpYXM9IiIgVGhlbg0KCQkJU3RhdGljTmFtZSA9IElEDQoJCUVsc2UNCgkJCVN0YXRpY05hbWUgPSBBbGlhcw0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCg0KCVByaXZhdGUgRlRyYWNrQmFja0tleQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgVHJhY2tCYWNrS2V5DQoJCUlmIElzTnVsbChGVHJhY2tCYWNrS2V5KSBPciBJc0VtcHR5KEZUcmFja0JhY2tLZXkpIE9yIEZUcmFja0JhY2tLZXk9IiIgVGhlbg0KCQkJJ0ZUcmFja0JhY2tLZXk9TGVmdChNRDUoWkNfQkxPR19DTFNJRCAmIENTdHIoSUQpICYgQ1N0cihUcmFja0JhY2tOdW1zKSksOCkNCgkJCUZUcmFja0JhY2tLZXk9RW1wdHkNCgkJRW5kIElmDQoJCVRyYWNrQmFja0tleT1GVHJhY2tCYWNrS2V5DQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZDb21tZW50S2V5DQoJUHVibGljIFByb3BlcnR5IEdldCBDb21tZW50S2V5DQoJCUlmIElzTnVsbChGQ29tbWVudEtleSkgT3IgSXNFbXB0eShGQ29tbWVudEtleSkgT3IgRkNvbW1lbnRLZXk9IiIgVGhlbg0KCQkJRkNvbW1lbnRLZXk9TGVmdChNRDUoWkNfQkxPR19DTFNJRCAmIENTdHIoSUQpKSw4KQ0KCQlFbmQgSWYNCgkJQ29tbWVudEtleT1GQ29tbWVudEtleQ0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBUcmFja0JhY2sNCgkJVHJhY2tCYWNrID0gQmxvZ0hvc3QgJiAiemJfc3lzdGVtL2NtZC5hc3A/YWN0PXRiJmlkPSImIElEICYiJmtleT0iICYgVHJhY2tCYWNrS2V5DQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFByZVRyYWNrQmFjaw0KCQlQcmVUcmFja0JhY2sgPSBCbG9nSG9zdCAmICJ6Yl9zeXN0ZW0vY21kLmFzcD9hY3Q9Z2V0dGJ1cmwmaWQ9IiAmIElEDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFRyYWNrQmFja1VybA0KCQlUcmFja0JhY2tVcmwgPSBUcmFja0JhY2sNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgQ29tbWVudFVybA0KCQlDb21tZW50VXJsID0gVXJsICYgIiNjb21tZW50Ig0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBXZndDb21tZW50DQoJCVdmd0NvbW1lbnQgPSBCbG9nSG9zdA0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBXZndDb21tZW50UnNzDQoJCVdmd0NvbW1lbnRSc3MgPSBCbG9nSG9zdCAmICJmZWVkLmFzcD9jbXQ9IiAmIElEDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFdBUFVybA0KCQlXQVBVcmwgPSBCbG9nSG9zdCAmICJ3YXAuYXNwP2FjdD1WaWV3JmlkPSIgJiBJRA0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBIdG1sV0FQVXJsDQoJCUh0bWxXQVBVcmw9VHJhbnNmZXJIVE1MKFdBUFVybCwiW2h0bWwtZm9ybWF0XSIpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IENvbW1lbnRQb3N0VXJsDQoJCUNvbW1lbnRQb3N0VXJsID0gQmxvZ0hvc3QgJiAiemJfc3lzdGVtL2NtZC5hc3A/YWN0PWNtdCZrZXk9IiAmIENvbW1lbnRLZXkNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgSHRtbENvbnRlbnQNCgkJSHRtbENvbnRlbnQ9VHJhbnNmZXJIVE1MKFVCQkNvZGUoQ29udGVudCwiW2ZhY2VdW2xpbmtdW2VtYWlsXVthdXRvbGlua11bZm9udF1bY29kZV1baW1hZ2VdW3R5cGVzZXRdW21lZGlhXVtmbGFzaF1ba2V5XSIpLCJbaHRtbC1qYXBhbl1bdXBsb2FkXSIpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEh0bWxUaXRsZQ0KCQlIdG1sVGl0bGU9VHJhbnNmZXJIVE1MKFRpdGxlLCJbaHRtbC1qYXBhbl1baHRtbC1mb3JtYXRdIikNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgSHRtbEludHJvDQoJCUh0bWxJbnRybz1UcmFuc2ZlckhUTUwoVUJCQ29kZShJbnRybywiW2ZhY2VdW2xpbmtdW2VtYWlsXVthdXRvbGlua11bZm9udF1bY29kZV1baW1hZ2VdW3R5cGVzZXRdW21lZGlhXVtmbGFzaF1ba2V5XSIpLCJbaHRtbC1qYXBhbl1bdXBsb2FkXSIpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEh0bWxVcmwNCgkJSHRtbFVybD1UcmFuc2ZlckhUTUwoVHJhbnNmZXJIVE1MKFVybCwiW3pjX2Jsb2dfaG9zdF0iKSwiW2h0bWwtZm9ybWF0XSIpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFRhZ1RvTmFtZQ0KDQoJCURpbSB0LGkscw0KDQoJCUlmIFRhZzw+IiIgVGhlbg0KCQkJQ2FsbCBHZXRUYWdzYnlUYWdJRExpc3QoVGFnKQ0KCQkJcz1UYWcNCgkJCXM9UmVwbGFjZShzLCJ9IiwiIikNCgkJCXQ9U3BsaXQocywieyIpDQoNCgkJCUZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCgkJCQlJZiB0KGkpPD4iIiBUaGVuDQoJCQkJCUlmIElzRW1wdHkoRmlyc3RUYWdJbnRybykgVGhlbiBGaXJzdFRhZ0ludHJvPVRhZ3ModChpKSkuSW50cm8NCgkJCQkJdChpKT1UYWdzKHQoaSkpLk5hbWUNCgkJCQlFbmQgSWYNCgkJCU5leHQNCg0KCQkJcz1Kb2luKHQsIiwiKQ0KCQkJcz1SaWdodChzLExlbihzKS0xKQ0KDQoJCQlUYWdUb05hbWU9cw0KCQlFbmQgSWYNCg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIEZpcnN0VGFnSW50cm8NCg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9ieUlEKGxvZ19JRCkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKGxvZ19JRCwiaW50IiwwKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2xvZ19JRF0sW2xvZ19UYWddLFtsb2dfQ2F0ZUlEXSxbbG9nX1RpdGxlXSxbbG9nX0ludHJvXSxbbG9nX0NvbnRlbnRdLFtsb2dfTGV2ZWxdLFtsb2dfQXV0aG9ySURdLFtsb2dfUG9zdFRpbWVdLFtsb2dfQ29tbU51bXNdLFtsb2dfVmlld051bXNdLFtsb2dfVHJhY2tCYWNrTnVtc10sW2xvZ19VcmxdLFtsb2dfSXN0b3BdLFtsb2dfVGVtcGxhdGVdLFtsb2dfRnVsbFVybF0sW2xvZ19UeXBlXSxbbG9nX01ldGFdIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgW2xvZ19JRF09IiAmIGxvZ19JRCkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCUlEPW9ialJTKCJsb2dfSUQiKQ0KCQkJVGFnPW9ialJTKCJsb2dfVGFnIikNCgkJCUNhdGVJRD1vYmpSUygibG9nX0NhdGVJRCIpDQoJCQlUaXRsZT1vYmpSUygibG9nX1RpdGxlIikNCgkJCUludHJvPW9ialJTKCJsb2dfSW50cm8iKQ0KCQkJQ29udGVudD1vYmpSUygibG9nX0NvbnRlbnQiKQ0KCQkJTGV2ZWw9b2JqUlMoImxvZ19MZXZlbCIpDQoJCQlBdXRob3JJRD1vYmpSUygibG9nX0F1dGhvcklEIikNCgkJCVBvc3RUaW1lPW9ialJTKCJsb2dfUG9zdFRpbWUiKQ0KCQkJQ29tbU51bXM9b2JqUlMoImxvZ19Db21tTnVtcyIpDQoJCQlWaWV3TnVtcz1vYmpSUygibG9nX1ZpZXdOdW1zIikNCgkJCVRyYWNrQmFja051bXM9b2JqUlMoImxvZ19UcmFja0JhY2tOdW1zIikNCgkJCUFsaWFzPW9ialJTKCJsb2dfVXJsIikNCgkJCUlzdG9wPW9ialJTKCJsb2dfSXN0b3AiKQ0KCQkJVGVtcGxhdGVOYW1lPW9ialJTKCJsb2dfVGVtcGxhdGUiKQ0KCQkJRnVsbFVybD1vYmpSUygibG9nX0Z1bGxVcmwiKQ0KCQkJRlR5cGU9b2JqUlMoImxvZ19UeXBlIikNCgkJCU1ldGFTdHJpbmc9b2JqUlMoImxvZ19NZXRhIikNCg0KCQkJQ29udGVudD1UcmFuc2ZlckhUTUwoQ29udGVudCwiW3VwbG9hZF1bemNfYmxvZ19ob3N0XSIpDQoJCQlJbnRybz1UcmFuc2ZlckhUTUwoSW50cm8sIlt1cGxvYWRdW3pjX2Jsb2dfaG9zdF0iKQ0KDQoJCQlJZiBaQ19QT1NUX1NUQVRJQ19NT0RFPD4iU1RBVElDIiBUaGVuIEZ1bGxVcmw9UmVwbGFjZShVcmwsQmxvZ0hvc3QsIjwjWkNfQkxPR19IT1NUIz4iKQ0KDQoJCQlQb3N0VGltZSA9IFllYXIoUG9zdFRpbWUpICYgIi0iICYgTW9udGgoUG9zdFRpbWUpICYgIi0iICYgRGF5KFBvc3RUaW1lKSAmICIgIiAmIEhvdXIoUG9zdFRpbWUpICYgIjoiICYgTWludXRlKFBvc3RUaW1lKSAmICI6IiAmIFNlY29uZChQb3N0VGltZSkNCg0KCQlFbHNlDQoJCQlFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJRlVybD0iIg0KDQoJCUxvYWRJbmZvYnlJRD1UcnVlDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX0xvYWRJbmZvYnlJRChJRCxUYWcsQ2F0ZUlELFRpdGxlLEludHJvLENvbnRlbnQsTGV2ZWwsQXV0aG9ySUQsUG9zdFRpbWUsQ29tbU51bXMsVmlld051bXMsVHJhY2tCYWNrTnVtcyxBbGlhcyxJc3RvcCxUZW1wbGF0ZU5hbWUsRnVsbFVybCxGVHlwZSxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlBcnJheShhcnlBcnRpY2xlSW5mbykNCg0KCQknW2xvZ19JRF0sW2xvZ19UYWddLFtsb2dfQ2F0ZUlEXSxbbG9nX1RpdGxlXSxbbG9nX0ludHJvXSxbbG9nX0NvbnRlbnRdLFtsb2dfTGV2ZWxdLFtsb2dfQXV0aG9ySURdLFtsb2dfUG9zdFRpbWVdLFtsb2dfQ29tbU51bXNdLFtsb2dfVmlld051bXNdLFtsb2dfVHJhY2tCYWNrTnVtc10sW2xvZ19VcmxdLFtsb2dfSXN0b3BdLFtsb2dfVGVtcGxhdGVdLFtsb2dfRnVsbFVybF0sW2xvZ19UeXBlXSxbbG9nX01ldGFdDQoNCgkJSWYgSXNBcnJheShhcnlBcnRpY2xlSW5mbyk9VHJ1ZSBUaGVuDQoNCgkJCUlEPWFyeUFydGljbGVJbmZvKDApDQoJCQlUYWc9YXJ5QXJ0aWNsZUluZm8oMSkNCgkJCUNhdGVJRD1hcnlBcnRpY2xlSW5mbygyKQ0KCQkJVGl0bGU9YXJ5QXJ0aWNsZUluZm8oMykNCgkJCUludHJvPWFyeUFydGljbGVJbmZvKDQpDQoJCQlDb250ZW50PWFyeUFydGljbGVJbmZvKDUpDQoJCQlMZXZlbD1hcnlBcnRpY2xlSW5mbyg2KQ0KCQkJQXV0aG9ySUQ9YXJ5QXJ0aWNsZUluZm8oNykNCgkJCVBvc3RUaW1lPWFyeUFydGljbGVJbmZvKDgpDQoJCQlDb21tTnVtcz1hcnlBcnRpY2xlSW5mbyg5KQ0KCQkJVmlld051bXM9YXJ5QXJ0aWNsZUluZm8oMTApDQoJCQlUcmFja0JhY2tOdW1zPWFyeUFydGljbGVJbmZvKDExKQ0KCQkJQWxpYXM9YXJ5QXJ0aWNsZUluZm8oMTIpDQoJCQlJc3RvcD1hcnlBcnRpY2xlSW5mbygxMykNCgkJCVRlbXBsYXRlTmFtZT1hcnlBcnRpY2xlSW5mbygxNCkNCgkJCUZ1bGxVcmw9YXJ5QXJ0aWNsZUluZm8oMTUpDQoJCQlGVHlwZT1hcnlBcnRpY2xlSW5mbygxNikNCgkJCU1ldGFTdHJpbmc9YXJ5QXJ0aWNsZUluZm8oMTcpDQoNCgkJCUNvbnRlbnQ9VHJhbnNmZXJIVE1MKENvbnRlbnQsIlt1cGxvYWRdW3pjX2Jsb2dfaG9zdF0iKQ0KCQkJSW50cm89VHJhbnNmZXJIVE1MKEludHJvLCJbdXBsb2FkXVt6Y19ibG9nX2hvc3RdIikNCg0KCQkJUG9zdFRpbWUgPSBZZWFyKFBvc3RUaW1lKSAmICItIiAmIE1vbnRoKFBvc3RUaW1lKSAmICItIiAmIERheShQb3N0VGltZSkgJiAiICIgJiBIb3VyKFBvc3RUaW1lKSAmICI6IiAmIE1pbnV0ZShQb3N0VGltZSkgJiAiOiIgJiBTZWNvbmQoUG9zdFRpbWUpDQoNCgkJCUlmIFpDX1BPU1RfU1RBVElDX01PREU8PiJTVEFUSUMiIFRoZW4gRnVsbFVybD1SZXBsYWNlKFVybCxCbG9nSG9zdCwiPCNaQ19CTE9HX0hPU1QjPiIpDQoNCgkJRW5kIElmDQoNCgkJRlVybD0iIg0KCQkNCgkJTG9hZEluZm9CeUFycmF5PVRydWUNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVEFydGljbGVfTG9hZEluZm9CeUFycmF5KElELFRhZyxDYXRlSUQsVGl0bGUsSW50cm8sQ29udGVudCxMZXZlbCxBdXRob3JJRCxQb3N0VGltZSxDb21tTnVtcyxWaWV3TnVtcyxUcmFja0JhY2tOdW1zLEFsaWFzLElzdG9wLFRlbXBsYXRlTmFtZSxGdWxsVXJsLEZUeXBlLE1ldGFTdHJpbmcpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gUG9zdCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX1Bvc3QoSUQsVGFnLENhdGVJRCxUaXRsZSxJbnRybyxDb250ZW50LExldmVsLEF1dGhvcklELFBvc3RUaW1lLENvbW1OdW1zLFZpZXdOdW1zLFRyYWNrQmFja051bXMsQWxpYXMsSXN0b3AsVGVtcGxhdGVOYW1lLEZ1bGxVcmwsRlR5cGUsTWV0YVN0cmluZykNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElELCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoQ2F0ZUlELCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoQXV0aG9ySUQsImludCIsMCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihMZXZlbCwiaW50IiwwKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKFBvc3RUaW1lLCJkdG0iLEVtcHR5KQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElzdG9wLCJib29sIixGYWxzZSkNCg0KCQknSUTlj6/ku6XkuLowDQoJCSdJZiAoQ2F0ZUlEPTApIFRoZW4gUG9zdD1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoJCUlmIChBdXRob3JJRD0wKSBUaGVuIFBvc3Q9RmFsc2U6RXhpdCBGdW5jdGlvbg0KCQlJZiBJc0VtcHR5KFBvc3RUaW1lKSBUaGVuIFBvc3Q9RmFsc2U6RXhpdCBGdW5jdGlvbg0KDQoJCURpbSBzVGl0bGUsc0ludHJvLHNDb250ZW50DQoJCXNUaXRsZT1UaXRsZQ0KCQlzSW50cm89Q29udGVudA0KCQlzQ29udGVudD1Db250ZW50DQoJCVRpdGxlPUZpbHRlclNRTChUaXRsZSkNCgkJSW50cm89RmlsdGVyU1FMKEludHJvKQ0KCQlDb250ZW50PUZpbHRlclNRTChDb250ZW50KQ0KCQlUYWc9RmlsdGVyU1FMKFRhZykNCgkJSVA9RmlsdGVyU1FMKElQKQ0KDQoJCVRpdGxlPVRyYW5zZmVySFRNTChUaXRsZSwiW2phcGFuLWh0bWxdIikNCgkJSW50cm89VHJhbnNmZXJIVE1MKEludHJvLCJbamFwYW4taHRtbF0iKQ0KCQlDb250ZW50PVRyYW5zZmVySFRNTChDb250ZW50LCJbamFwYW4taHRtbF0iKQ0KDQoJCUludHJvPVRyYW5zZmVySFRNTChJbnRybywiW2FudGktdXBsb2FkXSIpDQoJCUNvbnRlbnQ9VHJhbnNmZXJIVE1MKENvbnRlbnQsIlthbnRpLXVwbG9hZF0iKQ0KDQoJCSflhYjov5vooYwiW2FudGktdXBsb2FkXSLvvIzlho3mm7/mjaI8I1pDX0JMT0dfSE9TVCM+DQoJCUludHJvPVRyYW5zZmVySFRNTChJbnRybywiW2FudGktemNfYmxvZ19ob3N0XSIpDQoJCUNvbnRlbnQ9VHJhbnNmZXJIVE1MKENvbnRlbnQsIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KDQoJCUFsaWFzPVRyYW5zZmVySFRNTChBbGlhcywiW2RpcmVjdG9yeSZmaWxlXSIpDQoJCUlmIExlZnQoQWxpYXMsMSk9Ii8iIFRoZW4gQWxpYXM9UmlnaHQoQWxpYXMsTGVuKEFsaWFzKS0xKQ0KCQlJZiBSaWdodChBbGlhcywxKT0iLyIgVGhlbiBBbGlhcz1MZWZ0KEFsaWFzLExlbihBbGlhcyktMSkNCgkJQWxpYXM9RmlsdGVyU1FMKEFsaWFzKQ0KDQoJCUNhbGwgR2V0VXNlcnNieVVzZXJJRExpc3QoQXV0aG9ySUQpDQoNCgkJJ+ajgOafpeKAnOWIq+WQjeKAneaYr+WQpuaciemHjeWQjQ0KCQlJZiBBbGlhczw+IiIgVGhlbg0KCQkJRGltIG9ialJTc3ViDQoJCQlTZXQgb2JqUlNzdWI9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2xvZ19JRF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbbG9nX0lEXTw+IiYgSUQgJiIgQU5EIFtsb2dfVXJsXT0nIiYgQWxpYXMgJiInIiApDQoJCQlJZiAoTm90IG9ialJTc3ViLmJvZikgQW5kIChOb3Qgb2JqUlNzdWIuZW9mKSBUaGVuDQoJCQkJUmFuZG9taXplDQoJCQkJQWxpYXM9QWxpYXMgJiAiXyIgJiBDU3RyKEludCgoOSAqIFJuZCkgKyAxKSkgJiBDU3RyKEludCgoOSAqIFJuZCkgKyAxKSkgJiBDU3RyKEludCgoOSAqIFJuZCkgKyAxKSkgJiBDU3RyKEludCgoOSAqIFJuZCkgKyAxKSkNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialJTc3ViPU5vdGhpbmcNCgkJRW5kIElmDQoNCg0KCQlJZiBMZW4oVGl0bGUpPTAgVGhlbiBQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSWYgTGVuKENvbnRlbnQpPTAgVGhlbiBQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJJ0lmIExlbihJbnRybyk9MCBUaGVuIEludHJvPUxlZnQoQ29udGVudCxaQ19BUlRJQ0xFX0VYQ0VSUFRfTUFYKSAmICIuLi4iDQoNCgkJVGVtcGxhdGVOYW1lPVVDYXNlKEZpbHRlclNRTChUZW1wbGF0ZU5hbWUpKQ0KDQoJCUlmIElzUGFnZT1GYWxzZSBUaGVuDQoJCQlJZiBDYXRlZ29yeXMoQ2F0ZUlEKS5Mb2dUZW1wbGF0ZTw+IiIgVGhlbg0KCQkJCUlmIFRlbXBsYXRlTmFtZT1DYXRlZ29yeXMoQ2F0ZUlEKS5Mb2dUZW1wbGF0ZSBUaGVuIFRlbXBsYXRlTmFtZT0iIg0KCQkJRWxzZQ0KCQkJCUlmIFRlbXBsYXRlTmFtZT0iU0lOR0xFIiBUaGVuIFRlbXBsYXRlTmFtZT0iIg0KCQkJRW5kIElmDQoJCUVsc2UNCgkJCUlmIFRlbXBsYXRlTmFtZT0iUEFHRSIgVGhlbiBUZW1wbGF0ZU5hbWU9IiINCgkJRW5kIElmDQoNCgkJRGltIG9ialJTDQoJCUlmIElEPTAgVGhlbg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJJTlNFUlQgSU5UTyBbYmxvZ19BcnRpY2xlXShbbG9nX0NhdGVJRF0sW2xvZ19BdXRob3JJRF0sW2xvZ19MZXZlbF0sW2xvZ19UaXRsZV0sW2xvZ19JbnRyb10sW2xvZ19Db250ZW50XSxbbG9nX1Bvc3RUaW1lXSxbbG9nX0lQXSxbbG9nX1RhZ10sW2xvZ19VcmxdLFtsb2dfSXN0b3BdLFtsb2dfVGVtcGxhdGVdLFtsb2dfRnVsbFVybF0sW2xvZ19WaWV3TnVtc10sW2xvZ19UeXBlXSxbbG9nX01ldGFdKSBWQUxVRVMgKCImQ2F0ZUlEJiIsIiZBdXRob3JJRCYiLCImTGV2ZWwmIiwnIiZUaXRsZSYiJywnIiZJbnRybyYiJywnIiZDb250ZW50JiInLCciJlBvc3RUaW1lJiInLCciJklQJiInLCciJlRhZyYiJywnIiZBbGlhcyYiJywiJkNMbmcoSXN0b3ApJiIsJyImVGVtcGxhdGVOYW1lJiInLCciJkZ1bGxVcmwmIicsMCwiJkNMbmcoRlR5cGUpJiIsJyImTWV0YVN0cmluZyYiJykiKQ0KCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIE1BWChbbG9nX0lEXSkgRlJPTSBbYmxvZ19BcnRpY2xlXSIpDQoJCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQkJSUQ9b2JqUlMoMCkNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQkJJ0Z1bGxVcmw9UmVwbGFjZShVcmwsQmxvZ0hvc3QsIjwjWkNfQkxPR19IT1NUIz4iKQ0KCQkJJ29iakNvbm4uRXhlY3V0ZSgiVVBEQVRFIFtibG9nX0FydGljbGVdIFNFVCBbbG9nX0Z1bGxVcmxdPSciJkZ1bGxVcmwmIicgV0hFUkUgW2xvZ19JRF0gPSIgJiBJRCkNCgkJRWxzZQ0KCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtsb2dfQ2F0ZUlEXSxbbG9nX0F1dGhvcklEXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfSURdID0iICYgSUQpDQoJCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQkJSWYgb2JqUlMoMCk8PkNhdGVJRCBUaGVuDQoJCQkJCUNhdGVnb3J5cyhDYXRlSUQpLkV4SUQ9b2JqUlMoMCkNCgkJCQlFbmQgSWYgDQoJCQkJSWYgb2JqUlMoMSk8PkF1dGhvcklEIFRoZW4NCgkJCQkJVXNlcnMoQXV0aG9ySUQpLkV4SUQ9b2JqUlMoMSkNCgkJCQlFbmQgSWYgDQoJCQlFbmQgSWYNCgkJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJCSdGdWxsVXJsPVJlcGxhY2UoVXJsLEJsb2dIb3N0LCI8I1pDX0JMT0dfSE9TVCM+IikNCg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQXJ0aWNsZV0gU0VUIFtsb2dfQ2F0ZUlEXT0iJkNhdGVJRCYiLFtsb2dfQXV0aG9ySURdPSImQXV0aG9ySUQmIixbbG9nX0xldmVsXT0iJkxldmVsJiIsW2xvZ19UaXRsZV09JyImVGl0bGUmIicsW2xvZ19JbnRyb109JyImSW50cm8mIicsW2xvZ19Db250ZW50XT0nIiZDb250ZW50JiInLFtsb2dfUG9zdFRpbWVdPSciJlBvc3RUaW1lJiInLFtsb2dfSVBdPSciJklQJiInLFtsb2dfVGFnXT0nIiZUYWcmIicsW2xvZ19VcmxdPSciJkFsaWFzJiInLFtsb2dfSXN0b3BdPSImQ0xuZyhJc3RvcCkmIixbbG9nX1RlbXBsYXRlXT0nIiZUZW1wbGF0ZU5hbWUmIicsW2xvZ19GdWxsVXJsXT0nIiZGdWxsVXJsJiInLFtsb2dfVHlwZV09IiZDTG5nKEZUeXBlKSYiLFtsb2dfTWV0YV09JyImTWV0YVN0cmluZyYiJyBXSEVSRSBbbG9nX0lEXSA9IiAmIElEKQ0KCQlFbmQgSWYNCg0KCQlUaXRsZT1zVGl0bGUNCgkJQ29udGVudD1zSW50cm8NCgkJQ29udGVudD1zQ29udGVudA0KDQoJCVBvc3Q9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KDQoJUHVibGljIEZ1bmN0aW9uIEV4cG9ydF9UYWcNCg0KCQlJZiBEaXNhYmxlX0V4cG9ydF9UYWc9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RhZ19CZWdpbj1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfVGFnX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RhZ19CZWdpbg0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RhZ19CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X1RhZ19CZWdpbikNCgkJCUlmIGJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9UYWdfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJCUNhbGwgR2V0VGFnc2J5VGFnSURMaXN0KFRhZykNCg0KCQknVGFnDQoJCURpbSB0LGkscyxqDQoNCgkJSWYgVGFnPD4iIiBUaGVuDQoNCgkJCUhhc1RhZz1UcnVlDQoNCgkJCXM9UmVwbGFjZShUYWcsIn0iLCIiKQ0KCQkJdD1TcGxpdChzLCJ7IikNCgkJCUZvciBpPUxCb3VuZCh0KSBUbyBVQm91bmQodCkNCgkJCQlJZiB0KGkpPD4iIiBUaGVuDQoNCgkJCQkJSWYgSXNPYmplY3QoVGFncyh0KGkpKSk9VHJ1ZSBUaGVuDQoJCQkJCQlqPUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfVEFHIikNCg0KCQkJCQkJVGVtcGxhdGVfQXJ0aWNsZV9UYWc9VGVtcGxhdGVfQXJ0aWNsZV9UYWcgJiBUYWdzKHQoaSkpLk1ha2VUZW1wbGF0ZShqKQ0KCQkJCQlFbmQgSWYNCgkJCQlFbmQgSWYNCgkJCU5leHQNCg0KCQlFbmQgSWYNCg0KCQlUZW1wbGF0ZV9BcnRpY2xlX1RhZz1UcmFuc2ZlckhUTUwoVGVtcGxhdGVfQXJ0aWNsZV9UYWcsIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KDQoJCUV4cG9ydF9UYWc9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KDQoNCglGdW5jdGlvbiBFeHBvcnRfQ01UYW5kVEIoaW50UGFnZSkNCg0KCQlJZiBEaXNhYmxlX0V4cG9ydF9DTVRhbmRUQj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJCUlmIFpDX0NPTU1FTlRfVFVSTk9GRj1UcnVlIFRoZW4gDQoJCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQ9IiINCgkJCUV4aXQgRnVuY3Rpb24NCgkJRW5kIElmDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRQYWdlLCJpbnQiLDEpDQoNCgkJJ3BsdWdpbiBub2RlDQoJCWJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9DTVRhbmRUQl9CZWdpbj1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQ01UYW5kVEJfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQ01UYW5kVEJfQmVnaW4NCgkJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9DTVRhbmRUQl9CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0NNVGFuZFRCX0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0NNVGFuZFRCX0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCU5leHQNCgkJDQoJCURpbSBpbnRDb21tbnVtcw0KCQlpbnRDb21tbnVtcz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBDT1VOVChbbG9nX0lEXSkgRlJPTSBbYmxvZ19Db21tZW50XSBXSEVSRSBbbG9nX0lEXSA9IiAmIElEICYgIiBBTkQgW2NvbW1faXNDaGVja109MCBBTkQgW2NvbW1fUGFyZW50SURdPTAiKSgwKQ0KCQlJZiBpbnRDb21tbnVtcyA+IDAgVGhlbg0KDQoJCQlIYXNDTVRhbmRUQj1UcnVlDQoNCgkJCURpbSBzdHJDX0NvdW50LHN0ckMsc3RyVF9Db3VudCxzdHJUDQoNCgkJCURpbSBvYmpDb21tZW50DQoJCQlEaW0gb2JqVHJhY2tCYWNrDQoNCgkJCURpbSBpLGoscyx0DQoNCgkJCURpbSBjb21tZW50c19JRCgpDQoJCQlEaW0gY29tbWVudHNfUGFyZW50SUQoKQ0KCQkJRGltIGNvbW1lbnRzX1RlbXBsYXRlKCkNCg0KDQoJCQlEaW0gSURhbmRUZW1wDQoJCQlTZXQgSURhbmRUZW1wID0gQ3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoNCgkJCURpbSB0cmVlDQoJCQlTZXQgdHJlZSA9IENyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkRpY3Rpb25hcnkiKQ0KDQoJCQlEaW0gYWxsDQoJCQlTZXQgYWxsID0gQ3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoNCg0KCQkJRGltIGFsbHRlbXBsYXRlDQoJCQlTZXQgYWxsdGVtcGxhdGUgPSBDcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KCQkJRGltIG9ialJTDQoNCgkJCURpbSBvcmRlcg0KCQkJb3JkZXI9SUlmKFpDX0NPTU1FTlRfUkVWRVJTRV9PUkRFUl9FWFBPUlQsIkRFU0MiLCJBU0MiKSANCg0KCQkJc3RyQ19Db3VudD0wDQoJCQlTZXQgb2JqUlM9U2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuUmVjb3Jkc2V0IikNCgkJCW9ialJTLkN1cnNvclR5cGUgPSBhZE9wZW5LZXlzZXQNCgkJCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCgkJCW9ialJTLkFjdGl2ZUNvbm5lY3Rpb249b2JqQ29ubg0KCQkJWkNfQ09NTUVOVFNfRElTUExBWV9DT1VOVD1JSUYoWkNfQ09NTUVOVFNfRElTUExBWV9DT1VOVD0wLDEwMDAwLFpDX0NPTU1FTlRTX0RJU1BMQVlfQ09VTlQpDQoJCQlEaW0gUGFnZVNpemUyLFBhZ2VTaXplMw0KCQkJUGFnZVNpemUyPVpDX0NPTU1FTlRTX0RJU1BMQVlfQ09VTlQNCgkJCVBhZ2VTaXplMz1aQ19DT01NRU5UU19ESVNQTEFZX0NPVU5UDQoJCQlJZiBpbnRQYWdlPDEgVGhlbiBpbnRQYWdlPTENCgkJCUlmIFBhZ2VTaXplMyppbnRQYWdlPmludENvbW1udW1zIFRoZW4NCgkJCQlQYWdlU2l6ZTI9Q0xuZyhpbnRDb21tbnVtcyBNb2QgUGFnZVNpemUzKQ0KCQkJCUlmIFBhZ2VTaXplMyooaW50UGFnZS0xKStQYWdlU2l6ZTI+aW50Q29tbW51bXMgVGhlbg0KCQkJCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQ9IjxpbnMgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiIgaWQ9IiJBamF4Q29tbWVudEJlZ2luIiI+PC9pbnM+IiAmIFRlbXBsYXRlX0FydGljbGVfQ29tbWVudCAmICI8aW5zIHN0eWxlPSIiZGlzcGxheTpub25lOyIiIGlkPSIiQWpheENvbW1lbnRFbmQiIj48L2lucz4iDQoJCQkJCUV4cG9ydF9DTVRhbmRUQj1UcnVlDQoJCQkJCUV4aXQgRnVuY3Rpb24NCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQkJaj1QYWdlU2l6ZTINCgkJCQ0KCQkJb2JqUlMuU291cmNlPSJTRUxFQ1QgKiBGUk9NIChTRUxFQ1QgVE9QICImUGFnZVNpemUyJiIgKiAgRlJPTSAoU0VMRUNUIFRPUCAiJihQYWdlU2l6ZTMqaW50UGFnZSkmIiAqIEZST00gW2Jsb2dfQ29tbWVudF0gIFdIRVJFIChbbG9nX0lEXT0iJmlkJiIgQU5EIFtjb21tX2lzQ2hlY2tdPTAgQU5EIFtjb21tX1BhcmVudElEXT0wKSBPUkRFUiBCWSBbY29tbV9pZF0gIiZvcmRlciYiKSBBcyBbVGVzdF0gT1JERVIgQlkgW2NvbW1faWRdICImSUlmKFpDX0NPTU1FTlRfUkVWRVJTRV9PUkRFUl9FWFBPUlQsIkFTQyIsIkRFU0MiKSYiICkgQXMgW3Rlc3RdIG9yZGVyIGJ5IFtjb21tX3Bvc3R0aW1lXSAiJm9yZGVyDQoJCQlvYmpSUy5PcGVuKCkNCgkJCWo9UGFnZVNpemUyDQoJCQlEaW0gaW50UGFnZUFsbA0KCQkJSWYgKGludENvbW1udW1zIE1vZCBQYWdlU2l6ZTMpPTAgVGhlbiANCgkJCQlpbnRQYWdlQWxsPUludChpbnRDb21tbnVtcy9QYWdlU2l6ZTMpDQoJCQlFbHNlIA0KCQkJCWludFBhZ2VBbGw9SW50KGludENvbW1udW1zL1BhZ2VTaXplMykrMQ0KCQkJRW5kIElmDQoNCg0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoNCgkJCQlzdHJDPUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVCIpDQoJCQkJRm9yIGk9MSBUbyBqDQoNCg0KCQkJCQlTZXQgb2JqQ29tbWVudD1OZXcgVENvbW1lbnQNCgkJCQkJb2JqQ29tbWVudC5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkob2JqUlMoImNvbW1fSUQiKSxvYmpSUygibG9nX0lEIiksb2JqUlMoImNvbW1fQXV0aG9ySUQiKSxvYmpSUygiY29tbV9BdXRob3IiKSxvYmpSUygiY29tbV9Db250ZW50Iiksb2JqUlMoImNvbW1fRW1haWwiKSxvYmpSUygiY29tbV9Ib21lUGFnZSIpLG9ialJTKCJjb21tX1Bvc3RUaW1lIiksb2JqUlMoImNvbW1fSVAiKSxvYmpSUygiY29tbV9BZ2VudCIpLG9ialJTKCJjb21tX1JlcGx5Iiksb2JqUlMoImNvbW1fTGFzdFJlcGx5SVAiKSxvYmpSUygiY29tbV9MYXN0UmVwbHlUaW1lIiksb2JqUlMoImNvbW1fUGFyZW50SUQiKSxvYmpSUygiY29tbV9Jc0NoZWNrIiksb2JqUnMoImNvbW1fTWV0YSIpKSkNCg0KCQkJCQlDYWxsIEdldFVzZXJzYnlVc2VySURMaXN0KG9ialJTKCJjb21tX0F1dGhvcklEIikpDQoNCgkJCQkJJ29iakNvbW1lbnQuQ291bnQ9MA0KCQkJCQlvYmpDb21tZW50LkNvdW50PUlJZihaQ19DT01NRU5UX1JFVkVSU0VfT1JERVJfRVhQT1JULGludENvbW1udW1zLSgoaW50UGFnZS0xKSpaQ19DT01NRU5UU19ESVNQTEFZX0NPVU5UK2kpKzEsKGludFBhZ2UtMSkqWkNfQ09NTUVOVFNfRElTUExBWV9DT1VOVCtpKQ0KDQoJCQkJCXRyZWUuYWRkIG9iakNvbW1lbnQuSUQsIG9iakNvbW1lbnQuTWFrZVRlbXBsYXRlKHN0ckMpJ29iakNvbW1lbnQNCg0KCQkJCQlJZiBaQ19DT01NRU5UX1JFVkVSU0VfT1JERVJfRVhQT1JUIFRoZW4gDQoJCQkJCQl0PW9ialJTKCJjb21tX0lEIikNCgkJCQkJRWxzZUlmIGk9MSBUaGVuIA0KCQkJCQkJdD1vYmpSUygiY29tbV9JRCIpDQoJCQkJCUVuZCBJZiANCg0KCQkJCQlTZXQgb2JqQ29tbWVudD1Ob3RoaW5nDQoNCgkJCQkJb2JqUlMuTW92ZU5leHQNCgkJCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCg0KCQkJCU5leHQNCg0KCQkJCURpbSBvYmpSUzINCg0KCQkJCVNldCBvYmpSUzI9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgKiBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIChbbG9nX0lEXT0iICYgSUQgJiIgQU5EIFtjb21tX2lzQ2hlY2tdPTAgQU5EIFtjb21tX1BhcmVudElEXTw+MCBBbmQgW2NvbW1fSURdPiImdCYiKSAgT1JERVIgQlkgW2NvbW1fUG9zdFRpbWVdIERFU0MiKQ0KCQkJCUlmIChOb3Qgb2JqUlMyLmJvZikgQW5kIChOb3Qgb2JqUlMyLmVvZikgVGhlbg0KCQkJCQlEbyBXaGlsZSBOb3Qgb2JqUlMyLmVvZg0KDQoJCQkJCQlTZXQgb2JqQ29tbWVudD1OZXcgVENvbW1lbnQNCgkJCQkJCW9iakNvbW1lbnQuTG9hZEluZm9CeUFycmF5KEFycmF5KG9ialJTMigiY29tbV9JRCIpLG9ialJTMigibG9nX0lEIiksb2JqUlMyKCJjb21tX0F1dGhvcklEIiksb2JqUlMyKCJjb21tX0F1dGhvciIpLG9ialJTMigiY29tbV9Db250ZW50Iiksb2JqUlMyKCJjb21tX0VtYWlsIiksb2JqUlMyKCJjb21tX0hvbWVQYWdlIiksb2JqUlMyKCJjb21tX1Bvc3RUaW1lIiksb2JqUlMyKCJjb21tX0lQIiksb2JqUlMyKCJjb21tX0FnZW50Iiksb2JqUlMyKCJjb21tX1JlcGx5Iiksb2JqUlMyKCJjb21tX0xhc3RSZXBseUlQIiksb2JqUlMyKCJjb21tX0xhc3RSZXBseVRpbWUiKSxvYmpSUzIoImNvbW1fUGFyZW50SUQiKSxvYmpSUzIoImNvbW1fSXNDaGVjayIpLG9ialJTMigiY29tbV9NZXRhIikpKQ0KCQkJCQkJJ0NhbGwgR2V0VXNlcnNieVVzZXJJRExpc3Qob2JqUlMyKCJjb21tX0F1dGhvcklEIikpDQoJCQkJCQlvYmpDb21tZW50LkNvdW50PTANCgkJCQkJCWFsbC5hZGQgb2JqQ29tbWVudC5JRCwgb2JqQ29tbWVudC5QYXJlbnRJRA0KCQkJCQkJYWxsdGVtcGxhdGUuYWRkIG9iakNvbW1lbnQuSUQsb2JqQ29tbWVudC5NYWtlVGVtcGxhdGUoc3RyQykNCgkJCQkJCVNldCBvYmpDb21tZW50PU5vdGhpbmcNCgkJCQkJCW9ialJTMi5Nb3ZlTmV4dA0KCQkJCQlMb29wDQoJCQkJRW5kIElmDQoJCQkJb2JqUlMyLkNsb3NlDQoJCQkJU2V0IG9ialJTMj1Ob3RoaW5nDQoNCgkJCUVuZCBpZg0KDQoJCQlvYmpSUy5DbG9zZSgpDQoJCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoNCgkJCUZvciBFYWNoIHMgSW4gdHJlZS5LZXlzDQoJCQkJdD0iPCEtLXJldiImcyYiLS0+Ig0KCQkJCUlmIFNlYXJjaENoaWxkQ29tbWVudHNJbkRpYyhzLHQsYWxsLGFsbHRlbXBsYXRlKT1UcnVlIFRoZW4NCgkJCQkJdHJlZS5JdGVtKHMpID1SZXBsYWNlKHRyZWUuSXRlbShzKSwiPCEtLXJldiImcyYiLS0+Iix0KQ0KCQkJCUVuZCBJZg0KCQkJCXQ9IiINCg0KCQkJTmV4dA0KDQoJCQkn6L6T5Ye65qCRDQoJCQlGb3IgRWFjaCBzIEluIHRyZWUuSXRlbXMNCgkJCQknSWYgWkNfQ09NTUVOVF9SRVZFUlNFX09SREVSX0VYUE9SVD1UcnVlIFRoZW4NCgkJCQkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50PVRlbXBsYXRlX0FydGljbGVfQ29tbWVudCAmIHMNCgkJCQknRWxzZQ0KCQkJCScJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50PXMgJiBUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQNCgkJCQknRW5kIElmDQoJCQlOZXh0DQoNCgkJRW5kIElmDQoNCgkJQ2FsbCBFeHBvcnRDTVRhbmRUQkJhcihpbnRQYWdlLGludFBhZ2VBbGwpDQoNCgkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50PSI8aW5zIHN0eWxlPSIiZGlzcGxheTpub25lOyIiIGlkPSIiQWpheENvbW1lbnRCZWdpbiIiPjwvaW5zPiIgJiBUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQgJiBUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRfUGFnZWJhciAmIjxpbnMgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiIgaWQ9IiJBamF4Q29tbWVudEVuZCIiPjwvaW5zPiINCg0KCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQ9UmVwbGFjZShUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQsIjwhLS0oY291bnQtLT4wPCEtLWNvdW50KS0tPiIsIjxzcGFuIGNsYXNzPSIicmV2Y291bnQiIj48L3NwYW4+IikNCgkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50PVJlcGxhY2UoVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50LCI8IS0tKGNvdW50LS0+IiwiIikNCgkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50PVJlcGxhY2UoVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50LCI8IS0tY291bnQpLS0+IiwiIikNCg0KCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnQ9VHJhbnNmZXJIVE1MKFRlbXBsYXRlX0FydGljbGVfQ29tbWVudCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoNCgkJRXhwb3J0X0NNVGFuZFRCPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCg0KDQoJUHVibGljIEZ1bmN0aW9uIEV4cG9ydENNVGFuZFRCQmFyKGludFBhZ2UsaW50UGFnZUFsbCkNCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfQmVnaW49RmFsc2UNCgkJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRDTVRhbmRUQkJhcl9CZWdpbg0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfQmVnaW4pIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydENNVGFuZFRCQmFyX0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJCURpbSBzLGwscg0KDQoJCUlmIGludFBhZ2VBbGw+MSBUaGVuDQoJCQlEaW0gbHAscnANCg0KCQkJbHA9IkdldENvbW1lbnRzKCImSUQmIiwiJihpbnRQYWdlLTEpJiIpIg0KCQkJcnA9IkdldENvbW1lbnRzKCImSUQmIiwiJihpbnRQYWdlKzEpJiIpIg0KDQoJCQlsPUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVF9QQUdFQkFSX0wiKQ0KCQkJcj1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRfUEFHRUJBUl9SIikNCg0KCQkJbD1SZXBsYWNlKGwsIjwjYXJ0aWNsZS9jb21tZW50X3BhZ2ViYXJfbC91cmwjPiIsbHApDQoJCQlyPVJlcGxhY2UociwiPCNhcnRpY2xlL2NvbW1lbnRfcGFnZWJhcl9yL3VybCM+IixycCkNCg0KCQkJSWYgaW50UGFnZT0xIFRoZW4NCgkJCQlsPSIiDQoJCQlFbmQgSWYNCgkJCUlmIGludFBhZ2U9aW50UGFnZUFsbCBUaGVuDQoJCQkJcj0iIg0KCQkJRW5kIElmDQoJCQkNCgkJCXM9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfQVJUSUNMRV9DT01NRU5UX1BBR0VCQVIiKQ0KCQkJcz1SZXBsYWNlKHMsIjwjdGVtcGxhdGU6cGFnZWJhciM+IixsJnImIiIpDQoJCUVuZCBJZg0KDQoJCVRlbXBsYXRlX0FydGljbGVfQ29tbWVudF9QYWdlYmFyPXMNCg0KCQlFeHBvcnRDTVRhbmRUQkJhcj1UcnVlDQoNCgkJJ3BsdWdpbiBub2RlDQoJCWJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydENNVGFuZFRCQmFyX0VuZD1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRDTVRhbmRUQkJhcl9FbmQgaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRDTVRhbmRUQkJhcl9FbmQNCgkJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydENNVGFuZFRCQmFyX0VuZCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfRW5kKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0Q01UYW5kVEJCYXJfRW5kPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCU5leHQNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCg0KDQoJUHJpdmF0ZSBGdW5jdGlvbiBTZWFyY2hDaGlsZENvbW1lbnRzSW5EaWMoQnlWYWwgaWQsQnlSZWYgdCxCeVZhbCBhbGx0cmVlLEJ5VmFsIGFsbHRlbXBsYXRlKQ0KDQoJCURpbSBzDQoNCgkJRm9yIEVhY2ggcyBJbiBhbGx0cmVlLktleXMNCg0KCQkJSWYgYWxsdHJlZS5JdGVtKHMpPWlkIFRoZW4NCgkJCQl0PVJlcGxhY2UodCwiPCEtLXJldiImaWQmIi0tPiIsIjwhLS1yZXYiJmlkJiItLT4iICYgYWxsdGVtcGxhdGUuSXRlbShDTG5nKHMpICkgKQ0KCQkJCUNhbGwgU2VhcmNoQ2hpbGRDb21tZW50c0luRGljKHMsdCxhbGx0cmVlLGFsbHRlbXBsYXRlKQ0KCQkJCVNlYXJjaENoaWxkQ29tbWVudHNJbkRpYz1UcnVlDQoJCQlFbmQgSWYNCg0KCQlOZXh0DQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCg0KCUZ1bmN0aW9uIEV4cG9ydF9OYXZCYXIoKQ0KDQoJCUlmIERpc2FibGVfRXhwb3J0X05hdkJhcj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTmF2QmFyX0JlZ2luPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9OYXZCYXJfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTmF2QmFyX0JlZ2luDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTmF2QmFyX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTmF2QmFyX0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X05hdkJhcl9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlOZXh0DQoNCg0KCQlJZiBaQ19VU0VfTkFWSUdBVEVfQVJUSUNMRT1GYWxzZSBPciBJc1BhZ2U9VHJ1ZSBUaGVuDQoNCgkJCVRlbXBsYXRlX0FydGljbGVfTmF2YmFyX0w9IiINCgkJCVRlbXBsYXRlX0FydGljbGVfTmF2YmFyX1I9IiINCg0KCQkJRXhwb3J0X05hdkJhcj1UcnVlDQoJCQlFeGl0IEZ1bmN0aW9uDQoNCgkJRW5kIElmDQoNCgkJRGltIHMsdA0KDQoJCURpbSBzdHJOYW1lDQoJCURpbSBzdHJVcmwNCg0KCQlEaW0gb2JqTmF2QXJ0aWNsZQ0KDQoJCURpbSBvYmpSUw0KDQoJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgMSBbbG9nX0lEXSxbbG9nX1RhZ10sW2xvZ19DYXRlSURdLFtsb2dfVGl0bGVdLFtsb2dfSW50cm9dLFtsb2dfQ29udGVudF0sW2xvZ19MZXZlbF0sW2xvZ19BdXRob3JJRF0sW2xvZ19Qb3N0VGltZV0sW2xvZ19Db21tTnVtc10sW2xvZ19WaWV3TnVtc10sW2xvZ19UcmFja0JhY2tOdW1zXSxbbG9nX1VybF0sW2xvZ19Jc3RvcF0sW2xvZ19UZW1wbGF0ZV0sW2xvZ19GdWxsVXJsXSxbbG9nX1R5cGVdLFtsb2dfTWV0YV0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSAoW2xvZ19UeXBlXT0wKSBBbmQgKFtsb2dfTGV2ZWxdPjIpIEFORCAoW2xvZ19Qb3N0VGltZV08IiAmIFpDX1NRTF9QT1VORF9LRVkgJiBQb3N0VGltZSAmIFpDX1NRTF9QT1VORF9LRVkgJiIpIE9SREVSIEJZIFtsb2dfUG9zdFRpbWVdIERFU0MiKQ0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCVNldCBvYmpOYXZBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQkJSWYgb2JqTmF2QXJ0aWNsZS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkob2JqUlMoMCksb2JqUlMoMSksb2JqUlMoMiksb2JqUlMoMyksb2JqUlMoNCksb2JqUlMoNSksb2JqUlMoNiksb2JqUlMoNyksb2JqUlMoOCksb2JqUlMoOSksb2JqUlMoMTApLG9ialJTKDExKSxvYmpSUygxMiksb2JqUlMoMTMpLG9ialJTKDE0KSxvYmpSUygxNSksb2JqUlMoMTYpLG9ialJTKDE3KSkpIFRoZW4NCgkJCQlzdHJOYW1lPW9iak5hdkFydGljbGUuVGl0bGUNCgkJCQlzdHJVcmw9b2JqTmF2QXJ0aWNsZS5VcmwNCgkJCUVuZCBJZg0KCQkJU2V0IG9iak5hdkFydGljbGU9Tm90aGluZw0KDQoJCQlzPUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfTkFWQkFSX0wiKQ0KDQoJCQkncz1SZXBsYWNlKHMsIjwjYXJ0aWNsZS9uYXZfbC91cmwjPiIsIjwjWkNfQkxPR19IT1NUIz52aWV3LmFzcD9uYXZwPSImSUQpDQoJCQkncz1SZXBsYWNlKHMsIjwjYXJ0aWNsZS9uYXZfbC9uYW1lIz4iLFpDX01TRzE0NikNCgkJCXM9UmVwbGFjZShzLCI8I2FydGljbGUvbmF2X2wvdXJsIz4iLHN0clVybCkNCgkJCXM9UmVwbGFjZShzLCI8I2FydGljbGUvbmF2X2wvbmFtZSM+IixzdHJOYW1lKQ0KDQoJCQlUZW1wbGF0ZV9BcnRpY2xlX05hdmJhcl9MPXMNCg0KCQlFbmQgSWYNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgVE9QIDEgW2xvZ19JRF0sW2xvZ19UYWddLFtsb2dfQ2F0ZUlEXSxbbG9nX1RpdGxlXSxbbG9nX0ludHJvXSxbbG9nX0NvbnRlbnRdLFtsb2dfTGV2ZWxdLFtsb2dfQXV0aG9ySURdLFtsb2dfUG9zdFRpbWVdLFtsb2dfQ29tbU51bXNdLFtsb2dfVmlld051bXNdLFtsb2dfVHJhY2tCYWNrTnVtc10sW2xvZ19VcmxdLFtsb2dfSXN0b3BdLFtsb2dfVGVtcGxhdGVdLFtsb2dfRnVsbFVybF0sW2xvZ19UeXBlXSxbbG9nX01ldGFdIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgKFtsb2dfVHlwZV09MCkgQW5kIChbbG9nX0xldmVsXT4yKSBBTkQgKFtsb2dfUG9zdFRpbWVdPiIgJiBaQ19TUUxfUE9VTkRfS0VZICYgUG9zdFRpbWUgJiBaQ19TUUxfUE9VTkRfS0VZICYiKSBPUkRFUiBCWSBbbG9nX1Bvc3RUaW1lXSBBU0MiKQ0KDQoJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCQkJU2V0IG9iak5hdkFydGljbGU9TmV3IFRBcnRpY2xlDQoJCQlJZiBvYmpOYXZBcnRpY2xlLkxvYWRJbmZvQnlBcnJheShBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSxvYmpSUygxMCksb2JqUlMoMTEpLG9ialJTKDEyKSxvYmpSUygxMyksb2JqUlMoMTQpLG9ialJTKDE1KSxvYmpSUygxNiksb2JqUlMoMTcpKSkgVGhlbg0KCQkJCXN0ck5hbWU9b2JqTmF2QXJ0aWNsZS5UaXRsZQ0KCQkJCXN0clVybD1vYmpOYXZBcnRpY2xlLlVybA0KCQkJRW5kIElmDQoJCQlTZXQgb2JqTmF2QXJ0aWNsZT1Ob3RoaW5nDQoNCgkJCXQ9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfQVJUSUNMRV9OQVZCQVJfUiIpDQoNCgkJCSd0PVJlcGxhY2UodCwiPCNhcnRpY2xlL25hdl9yL3VybCM+IiwiPCNaQ19CTE9HX0hPU1QjPnZpZXcuYXNwP25hdm49IiZJRCkNCgkJCSd0PVJlcGxhY2UodCwiPCNhcnRpY2xlL25hdl9yL25hbWUjPiIsWkNfTVNHMTQ4KQ0KCQkJdD1SZXBsYWNlKHQsIjwjYXJ0aWNsZS9uYXZfci91cmwjPiIsc3RyVXJsKQ0KCQkJdD1SZXBsYWNlKHQsIjwjYXJ0aWNsZS9uYXZfci9uYW1lIz4iLHN0ck5hbWUpDQoNCgkJCVRlbXBsYXRlX0FydGljbGVfTmF2YmFyX1I9dA0KDQoJCUVuZCBJZg0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCUV4cG9ydF9OYXZCYXI9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIEV4cG9ydF9Db21tZW50UG9zdCgpDQoNCgkJSWYgRGlzYWJsZV9FeHBvcnRfQ29tbWVudFBvc3Q9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0NvbW1lbnRQb3N0X0JlZ2luPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9Db21tZW50UG9zdF9CZWdpbiBpbiBBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9Db21tZW50UG9zdF9CZWdpbg0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0NvbW1lbnRQb3N0X0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQ29tbWVudFBvc3RfQmVnaW4pDQoJCQlJZiBiQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQ29tbWVudFBvc3RfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJCUlmIFpDX0NPTU1FTlRfVFVSTk9GRj1UcnVlIFRoZW4gDQoJCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRwb3N0PSIiDQoJCQlFeGl0IEZ1bmN0aW9uDQoJCUVuZCBJZg0KDQoJCUlmIExldmVsPDQgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCgkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdD1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQl9BUlRJQ0xFX0NPTU1FTlRQT1NUIikNCg0KCQlEaW0gUkUNCgkJU2V0IFJFID0gTmV3IFJlZ0V4cCANCgkJUkUuSWdub3JlQ2FzZSA9IFRydWUgDQoJCVJFLkdsb2JhbCA9IFRydWUgDQoNCgkJSWYgSW5TdHIoVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdCwidGVtcGxhdGU6YXJ0aWNsZV9jb21tZW50cG9zdC12ZXJpZnk6Iik+MCAgVGhlbicyLjLmlrDlop7mnaHku7bliKTmlq0NCgkJCUlmIFpDX0NPTU1FTlRfVkVSSUZZX0VOQUJMRT1UcnVlIFRoZW4NCgkJCQlUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRwb3N0PVJlcGxhY2UoVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdCwidGVtcGxhdGU6YXJ0aWNsZV9jb21tZW50cG9zdC12ZXJpZnk6YmVnaW4iLCIiKQ0KCQkJCVRlbXBsYXRlX0FydGljbGVfQ29tbWVudHBvc3Q9UmVwbGFjZShUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRwb3N0LCJ0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnRwb3N0LXZlcmlmeTplbmQiLCIiKQ0KCQkJRWxzZQ0KCQkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnRwb3N0LXZlcmlmeTpiZWdpbiM+KC58XG4pKjwjdGVtcGxhdGU6YXJ0aWNsZV9jb21tZW50cG9zdC12ZXJpZnk6ZW5kIz4iDQoJCQkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdCA9IFJFLlJlcGxhY2UoVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdCwgIiIpDQoJCQlFbmQgSWYNCgkJRWxzZQ0KCQkJSWYgWkNfQ09NTUVOVF9WRVJJRllfRU5BQkxFPVRydWUgVGhlbg0KCQkJCVRlbXBsYXRlX0FydGljbGVfQ29tbWVudHBvc3RfVmVyaWZ5PUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfQ09NTUVOVFBPU1QtVkVSSUZZIikNCgkJCUVuZCBJZg0KCQkJVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdD1SZXBsYWNlKFRlbXBsYXRlX0FydGljbGVfQ29tbWVudHBvc3QsIjwjdGVtcGxhdGU6YXJ0aWNsZV9jb21tZW50cG9zdC12ZXJpZnkjPiIsVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdF9WZXJpZnkpDQoJCUVuZCBJZg0KDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJJ+ebuOWFs+aWh+eroOeahOeUn+aIkA0KCUZ1bmN0aW9uIEV4cG9ydF9NdXR1YWxpdHkoKQ0KDQoJCUlmIERpc2FibGVfRXhwb3J0X011dHVhbGl0eT1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTXV0dWFsaXR5X0JlZ2luPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9NdXR1YWxpdHlfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTXV0dWFsaXR5X0JlZ2luDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTXV0dWFsaXR5X0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfTXV0dWFsaXR5X0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X011dHVhbGl0eV9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlOZXh0DQoNCgkJSWYgWkNfTVVUVUFMSVRZX0NPVU5UPTAgVGhlbiANCgkJCUV4cG9ydF9NdXR1YWxpdHk9VHJ1ZQ0KCQkJRXhpdCBGdW5jdGlvbg0KCQlFbmQgSWYNCg0KCQlJZiBUYWc8PiIiIFRoZW4NCg0KCQkJRGltIHN0ckNDX0NvdW50LHN0ckNDX0lELHN0ckNDX05hbWUsc3RyQ0NfVXJsLHN0ckNDX1Bvc3RUaW1lLHN0ckNDX1RpdGxlDQoJCQlEaW0gc3RyQ0MNCgkJCURpbSBpLGoscw0KCQkJRGltIG9ialJTDQoJCQlEaW0gc3RyU1FMDQoNCgkJCVNldCBvYmpSUz1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJBRE9EQi5SZWNvcmRzZXQiKQ0KDQoJCQlzdHJTUUw9IlNFTEVDVCBUT1AgIiYgWkNfTVVUVUFMSVRZX0NPVU5UICYiIFtsb2dfSURdLFtsb2dfVGFnXSxbbG9nX0NhdGVJRF0sW2xvZ19UaXRsZV0sW2xvZ19JbnRyb10sW2xvZ19Db250ZW50XSxbbG9nX0xldmVsXSxbbG9nX0F1dGhvcklEXSxbbG9nX1Bvc3RUaW1lXSxbbG9nX0NvbW1OdW1zXSxbbG9nX1ZpZXdOdW1zXSxbbG9nX1RyYWNrQmFja051bXNdLFtsb2dfVXJsXSxbbG9nX0lzdG9wXSxbbG9nX1RlbXBsYXRlXSxbbG9nX0Z1bGxVcmxdLFtsb2dfVHlwZV0sW2xvZ19NZXRhXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19MZXZlbF0+MikgQU5EIFtsb2dfSURdPD4iJiBJRA0KCQkJc3RyU1FMID0gc3RyU1FMICYgIiBBTkQgKCINCg0KCQkJRGltIGFyeVRBR3MNCgkJCXM9UmVwbGFjZShUYWcsIn0iLCIiKQ0KCQkJYXJ5VEFHcz1TcGxpdChzLCJ7IikNCg0KCQkJRm9yIGogPSBMQm91bmQoYXJ5VEFHcykgVG8gVUJvdW5kKGFyeVRBR3MpDQoJCQkJSWYgYXJ5VEFHcyhqKTw+IiIgVGhlbg0KCQkJCQlzdHJTUUwgPSBzdHJTUUwgJiAiKFtsb2dfVGFnXSBMaWtlICcleyImRmlsdGVyU1FMKGFyeVRBR3MoaikpJiJ9JScpIg0KCQkJCQlJZiBqPVVCb3VuZChhcnlUQUdzKSBUaGVuIEV4aXQgRm9yDQoJCQkJCUlmIGFyeVRBR3Moaik8PiIiIFRoZW4gc3RyU1FMID0gc3RyU1FMICYgIiBPUiAiDQoJCQkJRW5kIElmDQoJCQlOZXh0DQoNCgkJCXN0clNRTCA9IHN0clNRTCAmICIpIg0KCQkJc3RyU1FMID0gc3RyU1FMICsgIiBPUkRFUiBCWSBbbG9nX1Bvc3RUaW1lXSBERVNDICINCg0KCQkJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJCQlvYmpSUy5DdXJzb3JUeXBlID0gYWRPcGVuS2V5c2V0DQoJCQlvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJCQlvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCgkJCW9ialJTLlNvdXJjZT1zdHJTUUwNCgkJCW9ialJTLk9wZW4oKQ0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCQkJRGltIG9iakFydGljbGUNCgkJCQlGb3IgaT0xIFRvIFpDX01VVFVBTElUWV9DT1VOVCAn55u45YWz5paH56ug5pWw55uu77yM5Y+v6Ieq6KGM6K6+5a6aDQoNCgkJCQkJSGFzTXV0dWFsaXR5PVRydWUNCg0KCQkJCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCg0KCQkJCQlJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlBcnJheShBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSxvYmpSUygxMCksb2JqUlMoMTEpLG9ialJTKDEyKSxvYmpSUygxMyksb2JqUlMoMTQpLG9ialJTKDE1KSxvYmpSUygxNiksb2JqUlMoMTcpKSkgIFRoZW4NCg0KCQkJCQkJc3RyQ0NfQ291bnQ9c3RyQ0NfQ291bnQrMQ0KCQkJCQkJc3RyQ0NfSUQ9b2JqQXJ0aWNsZS5JRA0KCQkJCQkJc3RyQ0NfVXJsPW9iakFydGljbGUuVXJsDQoJCQkJCQlzdHJDQ19Qb3N0VGltZT1vYmpBcnRpY2xlLlBvc3RUaW1lDQoJCQkJCQlzdHJDQ19UaXRsZT1vYmpBcnRpY2xlLlRpdGxlDQoNCgkJCQkJCXN0ckNDPUdldFRlbXBsYXRlKCJURU1QTEFURV9CX0FSVElDTEVfTVVUVUFMSVRZIikNCg0KCQkJCQkJc3RyQ0M9UmVwbGFjZShzdHJDQywiPCNhcnRpY2xlL211dHVhbGl0eS9pZCM+IixzdHJDQ19JRCkNCgkJCQkJCXN0ckNDPVJlcGxhY2Uoc3RyQ0MsIjwjYXJ0aWNsZS9tdXR1YWxpdHkvdXJsIz4iLHN0ckNDX1VybCkNCgkJCQkJCXN0ckNDPVJlcGxhY2Uoc3RyQ0MsIjwjYXJ0aWNsZS9tdXR1YWxpdHkvcG9zdHRpbWUjPiIsc3RyQ0NfUG9zdFRpbWUpDQoJCQkJCQlzdHJDQz1SZXBsYWNlKHN0ckNDLCI8I2FydGljbGUvbXV0dWFsaXR5L25hbWUjPiIsc3RyQ0NfVGl0bGUpDQoNCgkJCQkJCVRlbXBsYXRlX0FydGljbGVfTXV0dWFsaXR5PVRlbXBsYXRlX0FydGljbGVfTXV0dWFsaXR5ICYgc3RyQ0MNCg0KCQkJCQlFbmQgSWYNCg0KCQkJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJCQlJZiBvYmpSUy5lb2YgVGhlbiBFeGl0IEZvcg0KCQkJCQlTZXQgb2JqQXJ0aWNsZT1Ob3RoaW5nDQoJCQkJTmV4dA0KDQoJCQlFbmQgaWYNCg0KCQkJb2JqUlMuQ2xvc2UoKQ0KCQkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlFbmQgSWYNCg0KCQlFeHBvcnRfTXV0dWFsaXR5PVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gRXhwb3J0KGludFR5cGUpDQoNCgkJJ3BsdWdpbiBub2RlDQoJCWJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9CZWdpbj1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfQmVnaW4NCgkJCUlmIE5vdCBJc0VtcHR5KHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0JlZ2luPVRydWUgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCU5leHQNCg0KCQlJZiBJc0VtcHR5KGh0bWwpPVRydWUgVGhlbiBodG1sPVRlbXBsYXRlDQoNCgkJQ2FsbCBHZXRVc2Vyc2J5VXNlcklETGlzdChBdXRob3JJRCkNCg0KCQlJZiAoWkNfRElTUExBWV9NT0RFX0lOVFJPPWludFR5cGUpIE9yIChaQ19ESVNQTEFZX01PREVfT05UT1A9aW50VHlwZSkgT3IgKFpDX0RJU1BMQVlfTU9ERV9TRUFSQ0g9aW50VHlwZSkgT3IgKFpDX0RJU1BMQVlfTU9ERV9TWVNURU1QQUdFPWludFR5cGUpIE9yIChaQ19ESVNQTEFZX01PREVfQ09NTUVOVFM9aW50VHlwZSkgVGhlbg0KCQkJRGlzYWJsZV9FeHBvcnRfVGFnPUZhbHNlDQoJCQlEaXNhYmxlX0V4cG9ydF9DTVRhbmRUQj1UcnVlDQoJCQlEaXNhYmxlX0V4cG9ydF9Db21tZW50UG9zdD1UcnVlDQoJCQlEaXNhYmxlX0V4cG9ydF9NdXR1YWxpdHk9VHJ1ZQ0KCQkJRGlzYWJsZV9FeHBvcnRfTmF2QmFyPVRydWUNCgkJCUlmIFpDX0RJU1BMQVlfTU9ERV9TWVNURU1QQUdFPWludFR5cGUgVGhlbg0KCQkJCURpc2FibGVfRXhwb3J0X1RhZz1UcnVlDQoJCQlFbmQgSWYNCgkJCUlmIFpDX0RJU1BMQVlfTU9ERV9PTlRPUD1pbnRUeXBlIFRoZW4NCgkJCQknRGlzYWJsZV9FeHBvcnRfVGFnPVRydWUNCgkJCQlzdWJodG1sX1RlbXBsYXRlTmFtZT0iIg0KCQkJCXN1Ymh0bWw9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfQVJUSUNMRS1JU1RPUCIpDQoJCQlFbmQgSWYNCgkJCUlmIFpDX0RJU1BMQVlfTU9ERV9TRUFSQ0g9aW50VHlwZSBUaGVuDQoJCQkJRGlzYWJsZV9FeHBvcnRfVGFnPVRydWUNCgkJCQlzdWJodG1sX1RlbXBsYXRlTmFtZT0iIg0KCQkJCXN1Ymh0bWw9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfQVJUSUNMRS1TRUFSQ0gtQ09OVEVOVCIpDQoJCQlFbmQgSWYNCgkJCUlmIFpDX0RJU1BMQVlfTU9ERV9DT01NRU5UUz1pbnRUeXBlIFRoZW4NCgkJCQlEaXNhYmxlX0V4cG9ydF9UYWc9VHJ1ZQ0KCQkJCURpc2FibGVfRXhwb3J0X0NNVGFuZFRCPUZhbHNlDQoJCQkJc3ViaHRtbF9UZW1wbGF0ZU5hbWU9IiINCgkJCQlzdWJodG1sPSI8I3RlbXBsYXRlOmFydGljbGVfY29tbWVudCM+Ig0KCQkJRW5kIElmDQoJCUVuZCBJZg0KDQoJCUlmIFpDX0RJU1BMQVlfTU9ERV9BTEw9aW50VHlwZSBBbmQgSXNQYWdlPVRydWUgVGhlbg0KCQkJRGlzYWJsZV9FeHBvcnRfQ01UYW5kVEI9RmFsc2UNCgkJCURpc2FibGVfRXhwb3J0X0NvbW1lbnRQb3N0PUZhbHNlDQoJCQlEaXNhYmxlX0V4cG9ydF9UYWc9VHJ1ZQ0KCQkJRGlzYWJsZV9FeHBvcnRfTXV0dWFsaXR5PVRydWUNCgkJCURpc2FibGVfRXhwb3J0X05hdkJhcj1UcnVlDQoJCUVuZCBJZg0KDQoJCUNhbGwgRXhwb3J0X1RhZw0KCQlDYWxsIEV4cG9ydF9DTVRhbmRUQihDb21tZW50c1BhZ2UpDQoJCUNhbGwgRXhwb3J0X0NvbW1lbnRQb3N0DQoJCUNhbGwgRXhwb3J0X011dHVhbGl0eQ0KCQlDYWxsIEV4cG9ydF9OYXZCYXINCg0KCQlEaW0gUkUgLE1hdGNoLE1hdGNoZXMNCgkJU2V0IFJFID0gTmV3IFJlZ0V4cCANCgkJCVJFLlBhdHRlcm4gPSAiXDxcI3RlbXBsYXRlXDooYXJ0aWNsZVwtKFthLXowLTldKikoW1wtYS16MC05XSopKVwjXD4iDQoJCQlSRS5JZ25vcmVDYXNlID0gVHJ1ZSANCgkJCVJFLkdsb2JhbCA9IFRydWUgDQoJCQlTZXQgTWF0Y2hlcyA9IFJFLkV4ZWN1dGUoaHRtbCkgDQoJCQlGb3IgRWFjaCBNYXRjaCBpbiBNYXRjaGVzDQoJCQkJSWYgSXNFbXB0eShzdWJodG1sX1RlbXBsYXRlTmFtZSkgVGhlbiBzdWJodG1sX1RlbXBsYXRlTmFtZT0idGVtcGxhdGU6IiZNYXRjaC5TdWJNYXRjaGVzKDApJiIiDQoJCQkJSWYgSXNFbXB0eShzdWJodG1sKSBUaGVuIHN1Ymh0bWw9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfIiYgVUNhc2UoTWF0Y2guU3ViTWF0Y2hlcygwKSkpDQoJCQkJRXhpdCBGb3INCgkJCU5leHQNCgkJCVNldCBNYXRjaGVzID0gTm90aGluZw0KCQlTZXQgUkUgPSBOb3RoaW5nDQoNCgkJSWYgc3ViaHRtbD0iIiBUaGVuDQoJCQlzdWJodG1sPWh0bWwNCgkJCXN1Ymh0bWxfVGVtcGxhdGVOYW1lPSJ0ZW1wbGF0ZTphcnRpY2xlX3NpbmdsZSINCgkJCWh0bWw9IjwjdGVtcGxhdGU6YXJ0aWNsZV9zaW5nbGUjPiINCgkJRW5kIElmDQoNCg0KCQkncGx1Z2luIG5vZGUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9UZW1wbGF0ZShodG1sLHN1Ymh0bWwpDQoNCgkJJ3BsdWdpbiBub2RlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfVGVtcGxhdGVfU3ViKFRlbXBsYXRlX0FydGljbGVfQ29tbWVudCxUZW1wbGF0ZV9BcnRpY2xlX1RyYWNrYmFjayxUZW1wbGF0ZV9BcnRpY2xlX1RhZyxUZW1wbGF0ZV9BcnRpY2xlX0NvbW1lbnRwb3N0LFRlbXBsYXRlX0FydGljbGVfTmF2YmFyX0wsVGVtcGxhdGVfQXJ0aWNsZV9OYXZiYXJfUixUZW1wbGF0ZV9BcnRpY2xlX011dHVhbGl0eSkNCg0KCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnQjPiIsVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50KQ0KCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX3RyYWNrYmFjayM+IixUZW1wbGF0ZV9BcnRpY2xlX1RyYWNrYmFjaykNCgkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjdGVtcGxhdGU6YXJ0aWNsZV9jb21tZW50X3BhZ2ViYXIjPiIsIiIpDQoJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I3RlbXBsYXRlOmFydGljbGVfY29tbWVudHBvc3QjPiIsVGVtcGxhdGVfQXJ0aWNsZV9Db21tZW50cG9zdCkNCgkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjdGVtcGxhdGU6YXJ0aWNsZV90YWcjPiIsVGVtcGxhdGVfQXJ0aWNsZV9UYWcpDQoJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I3RlbXBsYXRlOmFydGljbGVfbmF2YmFyX2wjPiIsVGVtcGxhdGVfQXJ0aWNsZV9OYXZiYXJfTCkNCgkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjdGVtcGxhdGU6YXJ0aWNsZV9uYXZiYXJfciM+IixUZW1wbGF0ZV9BcnRpY2xlX05hdmJhcl9SKQ0KCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX211dHVhbGl0eSM+IixUZW1wbGF0ZV9BcnRpY2xlX011dHVhbGl0eSkNCg0KCQlEaW0gZGENCgkJRGltIHMsdA0KCQlTZXQgZGE9Q3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoNCgkJU2V0IFJFID0gTmV3IFJlZ0V4cCANCgkJCVJFLlBhdHRlcm4gPSAiPCNhcnRpY2xlLygoY2F0ZWdvcnkvbWV0YXxhdXRob3IvbWV0YXxtZXRhKS8oW2EtejAtOV9dezEsfSkpIz4iDQoJCQlSRS5JZ25vcmVDYXNlID0gVHJ1ZSANCgkJCVJFLkdsb2JhbCA9IFRydWUgDQoJCQlTZXQgTWF0Y2hlcyA9IFJFLkV4ZWN1dGUoaHRtbCZzdWJodG1sKSANCgkJCUZvciBFYWNoIE1hdGNoIGluIE1hdGNoZXMNCgkJCQlzPU1hdGNoLlN1Yk1hdGNoZXMoMCkNCgkJCQlJZiBkYS5FeGlzdHMocyk9RmFsc2UgVGhlbiBkYS5hZGQgcyxzDQoJCQlOZXh0DQoJCQlTZXQgTWF0Y2hlcyA9IE5vdGhpbmcNCgkJU2V0IFJFID0gTm90aGluZw0KDQoJCXM9ZGEuSXRlbXMNCgkJRm9yIHQgPSAwIFRvIGRhLkNvdW50IC0xDQoJCQlJZiBJblN0cihzKHQpLCJjYXRlZ29yeS9tZXRhLyIpPjAgVGhlbg0KCQkJCXModCk9UmVwbGFjZShzKHQpLCJjYXRlZ29yeS9tZXRhLyIsIiIpDQoJCQkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjYXJ0aWNsZS9jYXRlZ29yeS9tZXRhLyIgJiBzKHQpICYgIiM+IixDYXRlZ29yeXMoQ2F0ZUlEKS5NZXRhLkdldFZhbHVlKHModCkpICkNCgkJCQlodG1sID0gUmVwbGFjZShodG1sLCI8I2FydGljbGUvY2F0ZWdvcnkvbWV0YS8iICYgcyh0KSAmICIjPiIsQ2F0ZWdvcnlzKENhdGVJRCkuTWV0YS5HZXRWYWx1ZShzKHQpKSApDQoJCQlFbHNlSWYgSW5TdHIocyh0KSwiYXV0aG9yL21ldGEvIik+MCBUaGVuIA0KCQkJCXModCk9UmVwbGFjZShzKHQpLCJhdXRob3IvbWV0YS8iLCIiKQ0KCQkJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I2FydGljbGUvYXV0aG9yL21ldGEvIiAmIHModCkgJiAiIz4iLFVzZXJzKEF1dGhvcklEKS5NZXRhLkdldFZhbHVlKHModCkpICkNCgkJCQlodG1sID0gUmVwbGFjZShodG1sLCI8I2FydGljbGUvYXV0aG9yL21ldGEvIiAmIHModCkgJiAiIz4iLFVzZXJzKEF1dGhvcklEKS5NZXRhLkdldFZhbHVlKHModCkpICkNCgkJCUVsc2UNCgkJCQlzKHQpPVJlcGxhY2Uocyh0KSwibWV0YS8iLCIiKQ0KCQkJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I2FydGljbGUvbWV0YS8iICYgcyh0KSAmICIjPiIsTWV0YS5HZXRWYWx1ZShzKHQpKSApDQoJCQkJaHRtbCA9IFJlcGxhY2UoaHRtbCwiPCNhcnRpY2xlL21ldGEvIiAmIHModCkgJiAiIz4iLE1ldGEuR2V0VmFsdWUocyh0KSkgKQ0KCQkJRW5kIElmDQoJCU5leHQNCg0KCQlJZiBaQ19NVUxUSV9ET01BSU5fU1VQUE9SVD1UcnVlIEFuZCBaQ19QRVJNQU5FTlRfRE9NQUlOX0VOQUJMRT1GYWxzZSBUaGVuDQoJCQlDb250ZW50PVJlcGxhY2UoQ29udGVudCwiaHJlZj0iIiIgJiBCbG9nSG9zdCwiaHJlZj0iIjwjWkNfQkxPR19IT1NUIz4iKQ0KCQkJQ29udGVudD1SZXBsYWNlKENvbnRlbnQsInNyYz0iIiIgJiBCbG9nSG9zdCwic3JjPSIiPCNaQ19CTE9HX0hPU1QjPiIpDQoJCQlJbnRybz1SZXBsYWNlKEludHJvLCJocmVmPSIiIiAmIEJsb2dIb3N0LCJocmVmPSIiPCNaQ19CTE9HX0hPU1QjPiIpDQoJCQlJbnRybz1SZXBsYWNlKEludHJvLCJzcmM9IiIiICYgQmxvZ0hvc3QsInNyYz0iIjwjWkNfQkxPR19IT1NUIz4iKQ0KCQlFbmQgSWYNCg0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZSgpDQoJCURpbSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgpDQoJCURpbSBpLGoNCgkJUmVEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZSg2NikNCgkJUmVEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNjYpDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgxKT0iYXJ0aWNsZS9pZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMSk9SUQNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgyKT0iYXJ0aWNsZS9sZXZlbCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMik9TGV2ZWwNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgzKT0iYXJ0aWNsZS90aXRsZSINCgkJSWYgaW50VHlwZT1aQ19ESVNQTEFZX01PREVfU0VBUkNIIFRoZW4NCgkJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDMpPVNlYXJjaChUaXRsZSxTZWFyY2hUZXh0KQ0KCQlFbHNlDQoJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgzKT1IdG1sVGl0bGUNCgkJRW5kIElmDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNCk9ImFydGljbGUvaW50cm8iDQoJCUlmIGludFR5cGU9WkNfRElTUExBWV9NT0RFX1NFQVJDSCBUaGVuDQoJCQknYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNCk9U2VhcmNoKFRyYW5zZmVySFRNTChJbnRybyAmIENvbnRlbnQsIltodG1sLWZvcm1hdF0iKSxSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJxIikpDQoJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg0KT1UcmltKFNlYXJjaChUcmFuc2ZlckhUTUwoSW50cm8gJiBDb250ZW50LCJbbm9odG1sXSIpLFNlYXJjaFRleHQpKQ0KCQlFbHNlDQoJCQlJZiBMZXZlbD0yIFRoZW4NCgkJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg0KT0iPHA+IiZaQ19NU0cwNDMmIjwvcD4iDQoJCQlFbHNlDQoJCQkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNCk9SHRtbEludHJvDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNSk9ImFydGljbGUvY29udGVudCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNSk9SHRtbENvbnRlbnQNCgkJSWYgaW50VHlwZT1aQ19ESVNQTEFZX01PREVfU0VBUkNIIFRoZW4NCgkJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDUpPWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDQpDQoJCUVuZCBJZg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDYpPSJhcnRpY2xlL3Bvc3R0aW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg2KT1Qb3N0VGltZQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDcpPSJhcnRpY2xlL2NvbW1udW1zIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg3KT1Db21tbnVtcw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDgpPSJhcnRpY2xlL3ZpZXdudW1zIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg4KT1WaWV3bnVtcw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDkpPSJhcnRpY2xlL3RyYWNrYmFja251bXMiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDkpPVRyYWNrYmFja251bXMNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgxMCk9ImFydGljbGUvdHJhY2tiYWNrX3VybCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTApPVRyYWNrQmFjaw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDExKT0iYXJ0aWNsZS91cmwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDExKT1UcmFuc2ZlckhUTUwoSHRtbFVybCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgxMik9ImFydGljbGUvY2F0ZWdvcnkvaWQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDEyKT1DYXRlZ29yeXMoQ2F0ZUlEKS5JRA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDEzKT0iYXJ0aWNsZS9jYXRlZ29yeS9uYW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgxMyk9Q2F0ZWdvcnlzKENhdGVJRCkuSHRtbE5hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgxNSk9ImFydGljbGUvY2F0ZWdvcnkvb3JkZXIiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDE1KT1DYXRlZ29yeXMoQ2F0ZUlEKS5PcmRlcg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDE2KT0iYXJ0aWNsZS9jYXRlZ29yeS9jb3VudCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTYpPUNhdGVnb3J5cyhDYXRlSUQpLkNvdW50DQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMTcpPSJhcnRpY2xlL2NhdGVnb3J5L3VybCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTcpPVRyYW5zZmVySFRNTChDYXRlZ29yeXMoQ2F0ZUlEKS5IdG1sVXJsLCJbYW50aS16Y19ibG9nX2hvc3RdIikNCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDE4KT0iYXJ0aWNsZS9hdXRob3IvaWQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDE4KT1Vc2VycyhBdXRob3JJRCkuSUQNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgxOSk9ImFydGljbGUvYXV0aG9yL25hbWUiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDE5KT1Vc2VycyhBdXRob3JJRCkuRmlyc3ROYW1lDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMjApPSJhcnRpY2xlL2F1dGhvci9sZXZlbCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjApPVVzZXJzKEF1dGhvcklEKS5MZXZlbA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDIxKT0iYXJ0aWNsZS9hdXRob3IvZW1haWwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDIxKT1Vc2VycyhBdXRob3JJRCkuRW1haWwNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgyMik9ImFydGljbGUvYXV0aG9yL2hvbWVwYWdlIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgyMik9VXNlcnMoQXV0aG9ySUQpLkhvbWVQYWdlDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMjMpPSJhcnRpY2xlL2F1dGhvci9jb3VudCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjMpPVVzZXJzKEF1dGhvcklEKS5Db3VudA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDI0KT0iYXJ0aWNsZS9hdXRob3IvdXJsIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgyNCk9VHJhbnNmZXJIVE1MKFVzZXJzKEF1dGhvcklEKS5IdG1sVXJsLCJbYW50aS16Y19ibG9nX2hvc3RdIikNCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDI1KT0iYXJ0aWNsZS9wb3N0dGltZS9sb25nZGF0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjUpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiTG9uZ0RhdGUpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMjYpPSJhcnRpY2xlL3Bvc3R0aW1lL3Nob3J0ZGF0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjYpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiU2hvcnREYXRlKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDI3KT0iYXJ0aWNsZS9wb3N0dGltZS9sb25ndGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjcpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiTG9uZ1RpbWUpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMjgpPSJhcnRpY2xlL3Bvc3R0aW1lL3Nob3J0dGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjgpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiU2hvcnRUaW1lKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDI5KT0iYXJ0aWNsZS9wb3N0dGltZS95ZWFyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgyOSk9WWVhcihQb3N0VGltZSkNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgzMCk9ImFydGljbGUvcG9zdHRpbWUvbW9udGgiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDMwKT1SaWdodCgiMCImTW9udGgoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMzEpPSJhcnRpY2xlL3Bvc3R0aW1lL21vbnRobmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzEpPVpWQV9Nb250aChNb250aChQb3N0VGltZSkpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMzIpPSJhcnRpY2xlL3Bvc3R0aW1lL2RheSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzIpPVJpZ2h0KCIwIiZEYXkoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMzMpPSJhcnRpY2xlL3Bvc3R0aW1lL3dlZWtkYXkiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDMzKT1XZWVrZGF5KFBvc3RUaW1lKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDM0KT0iYXJ0aWNsZS9wb3N0dGltZS93ZWVrZGF5bmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzQpPVpWQV9XZWVrKFdlZWtkYXkoUG9zdFRpbWUpKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDM1KT0iYXJ0aWNsZS9wb3N0dGltZS9ob3VyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgzNSk9UmlnaHQoIjAiJkhvdXIoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMzYpPSJhcnRpY2xlL3Bvc3R0aW1lL21pbnV0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzYpPVJpZ2h0KCIwIiZNaW51dGUoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoMzcpPSJhcnRpY2xlL3Bvc3R0aW1lL3NlY29uZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzcpPVJpZ2h0KCIwIiZTZWNvbmQoUG9zdFRpbWUpLDIpDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgzOCk9ImFydGljbGUvY29tbWVudHJzcyINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMzgpPVRyYW5zZmVySFRNTChXZndDb21tZW50UnNzLCJbYW50aS16Y19ibG9nX2hvc3RdIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSgzOSk9ImFydGljbGUvY29tbWVudHBvc3R1cmwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDM5KT1UcmFuc2ZlckhUTUwoQ29tbWVudFBvc3RVcmwsIltodG1sLWZvcm1hdF1bYW50aS16Y19ibG9nX2hvc3RdIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0MCk9ImFydGljbGUvcHJldHJhY2tiYWNrX3VybCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNDApPVRyYW5zZmVySFRNTChQcmVUcmFja0JhY2ssIltodG1sLWZvcm1hdF1bYW50aS16Y19ibG9nX2hvc3RdIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0MSk9ImFydGljbGUvdHJhY2tiYWNra2V5Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg0MSk9VHJhY2tCYWNrS2V5DQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNDIpPSJhcnRpY2xlL2NvbW1lbnRrZXkiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDQyKT1Db21tZW50S2V5DQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0Myk9ImFydGljbGUvc3RhdGljbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNDMpPVN0YXRpY05hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0NCk9ImFydGljbGUvY2F0ZWdvcnkvc3RhdGljbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNDQpPUNhdGVnb3J5cyhDYXRlSUQpLlN0YXRpY05hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0NSk9ImFydGljbGUvYXV0aG9yL3N0YXRpY25hbWUiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDQ1KT1Vc2VycyhBdXRob3JJRCkuU3RhdGljTmFtZQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDQ2KT0iYXJ0aWNsZS90YWd0b25hbWUiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDQ2KT1UYWdUb05hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg0Nyk9ImFydGljbGUvZmlyc3R0YWdpbnRybyINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNDcpPUZpcnN0VGFnSW50cm8NCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDQ4KT0iYXJ0aWNsZS9wb3N0dGltZS9tb250aG5hbWVhYmJyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg0OCk9WlZBX01vbnRoX0FiYnIoTW9udGgoUG9zdFRpbWUpKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDQ5KT0iYXJ0aWNsZS9wb3N0dGltZS93ZWVrZGF5bmFtZWFiYnIiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDQ5KT1aVkFfV2Vla19BYmJyKFdlZWtkYXkoUG9zdFRpbWUpKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDUwKT0iYXJ0aWNsZS9hdXRob3IvaW50cm8iDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDUwKT1Vc2VycyhBdXRob3JJRCkuSW50cm8NCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDUxKT0idGVtcGxhdGU6c2lkZWJhciINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNTEpPUdldFRlbXBsYXRlKCJDQUNIRV9TSURFQkFSIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg1Mik9InRlbXBsYXRlOnNpZGViYXIyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg1Mik9R2V0VGVtcGxhdGUoIkNBQ0hFX1NJREVCQVIyIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg1Myk9InRlbXBsYXRlOnNpZGViYXIzIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg1Myk9R2V0VGVtcGxhdGUoIkNBQ0hFX1NJREVCQVIzIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg1NCk9InRlbXBsYXRlOnNpZGViYXI0Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg1NCk9R2V0VGVtcGxhdGUoIkNBQ0hFX1NJREVCQVI0IikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg1NSk9InRlbXBsYXRlOnNpZGViYXI1Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg1NSk9R2V0VGVtcGxhdGUoIkNBQ0hFX1NJREVCQVI1IikNCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDU2KT0iYXJ0aWNsZS9hbGlhcyINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNTYpPUFsaWFzDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNTcpPSJhcnRpY2xlL2xvYWR2aWV3Y291bnQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDU3KT0iPHNwYW4gaWQ9IiJzcG4iJklEJiIiIj48L3NwYW4+PHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+TG9hZFZpZXdDb3VudCgiJklEJiIpPC9zY3JpcHQ+Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDU4KT0iYXJ0aWNsZS9hZGR2aWV3Y291bnQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDU4KT0iPHNwYW4gaWQ9IiJzcG4iJklEJiIiIj48L3NwYW4+PHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+QWRkVmlld0NvdW50KCImSUQmIik8L3NjcmlwdD4iDQoNCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDU5KT0iYXJ0aWNsZS9jYXRlZ29yeS9wYXJlbnQvaWQiDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNjApPSJhcnRpY2xlL2NhdGVnb3J5L3BhcmVudC9uYW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKDYxKT0iYXJ0aWNsZS9jYXRlZ29yeS9wYXJlbnQvb3JkZXIiDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoNjIpPSJhcnRpY2xlL2NhdGVnb3J5L3BhcmVudC9jb3VudCINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg2Myk9ImFydGljbGUvY2F0ZWdvcnkvcGFyZW50L3VybCINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg2NCk9ImFydGljbGUvY2F0ZWdvcnkvcGFyZW50L3N0YXRpY25hbWUiDQoNCgkJSWYgQ2F0ZWdvcnlzKENhdGVJRCkuUGFyZW50SUQ8PjAgVGhlbg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg1OSk9Q2F0ZWdvcnlzKENhdGVnb3J5cyhDYXRlSUQpLlBhcmVudElEKS5JRA0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg2MCk9Q2F0ZWdvcnlzKENhdGVnb3J5cyhDYXRlSUQpLlBhcmVudElEKS5IdG1sTmFtZQ0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg2MSk9Q2F0ZWdvcnlzKENhdGVnb3J5cyhDYXRlSUQpLlBhcmVudElEKS5PcmRlcg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg2Mik9Q2F0ZWdvcnlzKENhdGVnb3J5cyhDYXRlSUQpLlBhcmVudElEKS5Db3VudA0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSg2Myk9VHJhbnNmZXJIVE1MKENhdGVnb3J5cyhDYXRlZ29yeXMoQ2F0ZUlEKS5QYXJlbnRJRCkuSHRtbFVybCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDY0KT1DYXRlZ29yeXMoQ2F0ZWdvcnlzKENhdGVJRCkuUGFyZW50SUQpLlN0YXRpY05hbWUNCgkJRW5kIElmDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg2NSk9ImFydGljbGUvYXV0aG9yL2F2YXRhciINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNjUpPVVzZXJzKEF1dGhvcklEKS5BdmF0YXINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSg2Nik9ImFydGljbGUvYXV0aG9yL2xldmVsbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNjYpPVVzZXJzKEF1dGhvcklEKS5MZXZlbE5hbWUNCg0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfVGVtcGxhdGVUYWdzKGFyeVRlbXBsYXRlVGFnc05hbWUsYXJ5VGVtcGxhdGVUYWdzVmFsdWUpDQoNCgkJaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCgkJRm9yIGk9MSB0byBqDQoJCQlJZiBJc051bGwoYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpPUZhbHNlIFRoZW4NCgkJCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiIsYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpDQoJCQkJaHRtbCA9IFJlcGxhY2UoaHRtbCwiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiIsIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpKQ0KCQkJRW5kIElmDQoJCU5leHQNCg0KCQlTZXQgUkUgPSBOZXcgUmVnRXhwIA0KCQlSRS5JZ25vcmVDYXNlID0gVHJ1ZSANCgkJUkUuR2xvYmFsID0gVHJ1ZSANCg0KCQlJZiBIYXNUYWc9RmFsc2UgVGhlbg0KCQkJUkUuUGF0dGVybiA9ICI8I3RlbXBsYXRlOmFydGljbGVfdGFnOmJlZ2luIz4oLnxcbikqPCN0ZW1wbGF0ZTphcnRpY2xlX3RhZzplbmQjPiINCgkJCXN1Ymh0bWwgPSBSRS5SZXBsYWNlKHN1Ymh0bWwsICIiKQ0KCQlFbHNlDQoJCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX3RhZzpiZWdpbiM+IiwiIikNCgkJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I3RlbXBsYXRlOmFydGljbGVfdGFnOmVuZCM+IiwiIikNCgkJRW5kIElmDQoJCUlmIEhhc0NNVGFuZFRCPUZhbHNlIFRoZW4NCgkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnQ6YmVnaW4jPigufFxuKSo8I3RlbXBsYXRlOmFydGljbGVfY29tbWVudDplbmQjPiINCgkJCXN1Ymh0bWwgPSBSRS5SZXBsYWNlKHN1Ymh0bWwsICI8aW5zIHN0eWxlPSIiZGlzcGxheTpub25lOyIiIGlkPSIiQWpheENvbW1lbnRFbmQiIj48L2lucz48aW5zIHN0eWxlPSIiZGlzcGxheTpub25lOyIiIGlkPSIiQWpheENvbW1lbnRCZWdpbiIiPjwvaW5zPiIpIA0KCQlFbHNlDQoJCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnQ6YmVnaW4jPiIsIiIpDQoJCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX2NvbW1lbnQ6ZW5kIz4iLCIiKQ0KCQlFbmQgSUYNCgkJSWYgSGFzTXV0dWFsaXR5PUZhbHNlIFRoZW4NCgkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTphcnRpY2xlX211dHVhbGl0eTpiZWdpbiM+KC58XG4pKjwjdGVtcGxhdGU6YXJ0aWNsZV9tdXR1YWxpdHk6ZW5kIz4iDQoJCQlzdWJodG1sID0gUkUuUmVwbGFjZShzdWJodG1sLCAiIikgDQoJCUVsc2UNCgkJCXN1Ymh0bWw9UmVwbGFjZShzdWJodG1sLCI8I3RlbXBsYXRlOmFydGljbGVfbXV0dWFsaXR5OmJlZ2luIz4iLCIiKQ0KCQkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjdGVtcGxhdGU6YXJ0aWNsZV9tdXR1YWxpdHk6ZW5kIz4iLCIiKQ0KCQlFbmQgSWYNCg0KCQlJZiBDYXRlZ29yeXMoQ2F0ZUlEKS5QYXJlbnRJRD0wIFRoZW4NCgkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTphcnRpY2xlX2NhdGVnb3J5X3BhcmVudDpiZWdpbiM+KC58XG4pKjwjdGVtcGxhdGU6YXJ0aWNsZV9jYXRlZ29yeV9wYXJlbnQ6ZW5kIz4iDQoJCQlzdWJodG1sID0gUkUuUmVwbGFjZShzdWJodG1sLCAiIikNCgkJRWxzZQ0KCQkJc3ViaHRtbD1SZXBsYWNlKHN1Ymh0bWwsIjwjdGVtcGxhdGU6YXJ0aWNsZV9jYXRlZ29yeV9wYXJlbnQ6YmVnaW4jPiIsIiIpDQoJCQlzdWJodG1sPVJlcGxhY2Uoc3ViaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlX2NhdGVnb3J5X3BhcmVudDplbmQjPiIsIiIpDQoJCUVuZCBJZg0KCQlTZXQgUkUgPSBOb3RoaW5nDQoNCg0KCQlodG1sPVJlcGxhY2UoaHRtbCwiPCMiJnN1Ymh0bWxfVGVtcGxhdGVOYW1lJiIjPiIsc3ViaHRtbCkNCg0KCQlFeHBvcnQ9VHJ1ZQ0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfRW5kPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX0V4cG9ydF9FbmQgaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfRW5kDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfRW5kKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9FeHBvcnRfRW5kKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfRXhwb3J0X0VuZD1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlOZXh0DQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCg0KCUZ1bmN0aW9uIEJ1aWxkKCkNCg0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZQ0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUNCg0KCQlEaW0gaSxqDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX0J1aWxkX1RlbXBsYXRlKGh0bWwpDQoNCgkJVGVtcGxhdGVUYWdzRGljLkl0ZW0oIkJsb2dUaXRsZSIpPUh0bWxUaXRsZQ0KCQlUZW1wbGF0ZVRhZ3NEaWMuSXRlbSgiWkNfQkxPR19IT1NUIik9QmxvZ0hvc3QNCg0KCQlJZiBUZW1wbGF0ZV9DYWxlbmRhcj0iIiBUaGVuIFRlbXBsYXRlX0NhbGVuZGFyPSI8c2NyaXB0IHNyYz0iIjwjWkNfQkxPR19IT1NUIz56Yl9zeXN0ZW0vZnVuY3Rpb24vY19odG1sX2pzLmFzcD9kYXRlPW5vdyIiIHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj48L3NjcmlwdD4iDQoNCgkJSWYgWkNfTVVMVElfRE9NQUlOX1NVUFBPUlQ9VHJ1ZSBBbmQgWkNfUEVSTUFORU5UX0RPTUFJTl9FTkFCTEU9RmFsc2UgVGhlbg0KCQkJRGltIHgseQ0KCQkJeD1DU3RyKFJlcGxhY2UoVXJsLEJsb2dIb3N0LCIiKSkNCgkJCXg9UmVwbGFjZSh4LCIvLy8vLyIsIi8iKTp4PVJlcGxhY2UoeCwiLy8vLyIsIi8iKTp4PVJlcGxhY2UoeCwiLy8vIiwiLyIpOng9UmVwbGFjZSh4LCIvLyIsIi8iKQ0KCQkJRm9yIGk9MSBUbyBVQm91bmQoU3BsaXQoeCwiLyIpKQ0KCQkJCXk9eSAmICIuLi8iDQoJCQlOZXh0DQoJCQlJZiB5PSIiIFRoZW4geT0iLi8iDQoJCQlUZW1wbGF0ZVRhZ3NEaWMuSXRlbSgiWkNfQkxPR19IT1NUIik9eQ0KCQlFbmQgSWYNCg0KDQoJCWFyeVRlbXBsYXRlVGFnc05hbWU9VGVtcGxhdGVUYWdzRGljLktleXMNCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWU9VGVtcGxhdGVUYWdzRGljLkl0ZW1zDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX0J1aWxkX1RlbXBsYXRlVGFncyhhcnlUZW1wbGF0ZVRhZ3NOYW1lLGFyeVRlbXBsYXRlVGFnc1ZhbHVlKQ0KDQoJCURpbSBzLHQNCg0KCQlqPVVCb3VuZChhcnlUZW1wbGF0ZVRhZ3NOYW1lKQ0KCQlGb3IgaT0xIHRvIGoNCgkJCUlmIChJblN0cihhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpLCJDQUNIRV9JTkNMVURFXyIpPjApIEFuZCAoUmlnaHQoYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSw1KTw+Il9IVE1MIikgQW5kIChSaWdodChhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpLDMpPD4iX0pTIikgVGhlbg0KCQkJCXM9cyAmIGFyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAifCINCgkJCUVuZCBJZg0KCQkJSWYgKCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+Ij0iPCNDQUNIRV9JTkNMVURFX0NBTEVOREFSIz4iKSBPciAoIjwjIiAmIGFyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAiIz4iPSI8I0NBQ0hFX0lOQ0xVREVfQ0FMRU5EQVJfSlMjPiIpIE9yICgiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiI9IjwjQ0FDSEVfSU5DTFVERV9DQUxFTkRBUl9OT1cjPiIpIFRoZW4NCgkJCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShpKT1UZW1wbGF0ZV9DYWxlbmRhcg0KCQkJRW5kIElmDQoJCU5leHQNCg0KDQoJCUlmIElzRHluYW1pY0xvYWRTaWxkYmFyPVRydWUgVGhlbg0KCQkJRm9yIEVhY2ggdCBJbiBTcGxpdChzLCJ8IikNCgkJCQlJZiB0PSIiIFRoZW4gRXhpdCBGb3INCgkJCQlJZiB0PD4iQ0FDSEVfSU5DTFVERV9OQVZCQVIiIFRoZW4NCgkJCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiZ0JiIjPiIsIjwjIiZ0JiJfSlMjPiIpDQoJCQkJRW5kIElmDQoJCQlOZXh0DQoJCUVuZCBJZg0KDQoNCgkJaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCg0KCQlGb3IgaT0xIHRvIGoNCgkJCWh0bWw9UmVwbGFjZShodG1sLCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+IixhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShpKSkNCgkJTmV4dA0KCQlodG1sPVJlcGxhY2UoaHRtbCwiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZSgwKSAmICIjPiIsYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMCkpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlX0J1aWxkX1RlbXBsYXRlX1N1Y2NlZWQoaHRtbCkNCg0KCQlCdWlsZD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFN0YXRpc3RpYygpDQoNCgkJQ2FsbCBHZXRVc2Vyc2J5VXNlcklETGlzdChBdXRob3JJRCkNCg0KCQkn6YeN5paw57uf6K6h5YiG57G75Y+K55So5oi355qE5paH56ug5pWw44CB6K+E6K665pWwDQoJCURpbSBzdHJTUUwsYXJ5MSgyKSxhcnkyKDIpLGFyeTMoMikNCgkJc3RyU1FMPSJTRUxFQ1QiDQoJCWFyeTEoMCk9VHJ1ZQ0KCQlhcnkyKDApPSIoU0VMRUNUIENPVU5UKFtsb2dfSURdKSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtsb2dfSURdID0iICYgSUQgJiAiIEFORCBbY29tbV9QYXJlbnRJRF09MCBBTkQgW2NvbW1faXNDaGVja109MCkgQXMgW2NvbW1fY291bnRdIg0KCQlhcnkzKDApPSJTRUxFQ1QgQ09VTlQoW2xvZ19JRF0pIEFzIFtjb21tX2NvdW50XSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtsb2dfSURdID0iICYgSUQgJiAiIEFORCBbY29tbV9QYXJlbnRJRF09MCBBTkQgW2NvbW1faXNDaGVja109MCINCg0KDQoJCWFyeTEoMSk9SUlmKENhdGVnb3J5cyhDYXRlSUQpLlJlQ291bnQ9MCxUcnVlLEZhbHNlKQ0KCQlhcnkyKDEpPSIoU0VMRUNUIENPVU5UKFtsb2dfSURdKSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfTGV2ZWxdPjEgQU5EIFtsb2dfVHlwZV09MCBBTkQgW2xvZ19DYXRlSURdPSIgJiBDYXRlSUQgJiAiKSBBcyBbY2F0ZV9jb3VudF0iDQoJCWFyeTMoMSk9IlNFTEVDVCBDT1VOVChbbG9nX0lEXSkgQXMgW2NhdGVfY291bnRdIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgW2xvZ19MZXZlbF0+MSBBTkQgW2xvZ19UeXBlXT0wIEFORCBbbG9nX0NhdGVJRF09IiAmIENhdGVJRCANCg0KDQoJCWFyeTEoMik9SUlmKFVzZXJzKEF1dGhvcklEKS5SZUNvdW50PTAsVHJ1ZSxGYWxzZSkNCgkJYXJ5MigyKT0iKFNFTEVDVCBDT1VOVChbbG9nX0lEXSkgRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbbG9nX0xldmVsXT4xIEFORCBbbG9nX1R5cGVdPTAgQU5EIFtsb2dfQXV0aG9ySURdPSIgJiBBdXRob3JJRCAmIikgQXMgW2F1dGhvcl9jb3VudF0iDQoJCWFyeTMoMik9IlNFTEVDVCBDT1VOVChbbG9nX0lEXSkgQXMgW2F1dGhvcl9jb3VudF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbbG9nX0xldmVsXT4xIEFORCBbbG9nX1R5cGVdPTAgQU5EIFtsb2dfQXV0aG9ySURdPSIgJiBBdXRob3JJRCANCg0KCQlzdHJTUUw9c3RyU1FMICYgSUlmKGFyeTEoMCksYXJ5MigwKSwiIikNCgkJc3RyU1FMPXN0clNRTCAmIElJZihhcnkxKDEpLElJZihzdHJTUUw9IiIsIiAiLCIsIikgJiBhcnkyKDEpLCIiKQ0KCQlzdHJTUUw9c3RyU1FMICYgSUlmKGFyeTEoMiksSUlmKHN0clNRTD0iIiwiICIsIiwiKSAmIGFyeTIoMiksIiIpDQoJCURpbSBvYmpSUyxpLGlzQm9vbA0KCQlpPTANCgkJSWYgWkNfTVNTUUxfRU5BQkxFIFRoZW4NCgkJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoc3RyU1FMKQ0KCQkJaXNCb29sPShOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpDQoJCUVsc2UNCgkJCWlzQm9vbD1UcnVlDQoJCUVuZCBJZg0KCQkNCgkJSWYgaXNCb29sIFRoZW4NCg0KCQkJSWYgYXJ5MSgwKSBUaGVuIA0KCQkJCQ0KCQkJCUlmIE5vdCBaQ19NU1NRTF9FTkFCTEUgVGhlbiBTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKGFyeTMoMCkpDQoJCQkJQ29tbU51bXM9b2JqUnMoImNvbW1fY291bnQiKQ0KCQkJCW9iakNvbm4uRXhlY3V0ZSgiVVBEQVRFIFtibG9nX0FydGljbGVdIFNFVCBbbG9nX0NvbW1OdW1zXT0iJiBDb21tTnVtcyAmIiBXSEVSRSBbbG9nX0lEXSA9IiAmIElEKQ0KCQkJCQ0KCQkJRW5kIElmDQoJCQkNCgkJCUlmIGFyeTEoMSkgVGhlbg0KCQkJDQoJCQkJSWYgTm90IFpDX01TU1FMX0VOQUJMRSBUaGVuIFNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoYXJ5MygxKSkNCgkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1VOQ0FURUdPUklaRURfQ09VTlQiLDEpDQoJCQkJQ2F0ZWdvcnlzKENhdGVJRCkuUmVDb3VudD1vYmpScygiY2F0ZV9jb3VudCIpDQoJCQkJSWYgQ2F0ZUlEPTAgVGhlbg0KCQkJCQlDYWxsIEJsb2dDb25maWcuV3JpdGUoIlpDX1VOQ0FURUdPUklaRURfQ09VTlQiLENhdGVnb3J5cyhDYXRlSUQpLlJlQ291bnQpDQoJCQkJRWxzZQ0KCQkJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19DYXRlZ29yeV0gU0VUIFtjYXRlX0NvdW50XT0iJkNhdGVnb3J5cyhDYXRlSUQpLlJlQ291bnQmIiBXSEVSRSBbY2F0ZV9JRF0gPSIgJiBDYXRlSUQpDQoJCQkJRW5kIElmDQoJCQkJQ2F0ZWdvcnlzKENhdGVJRCkuQ291bnQ9Q2F0ZWdvcnlzKENhdGVJRCkuUmVDb3VudA0KCQkJCSfljp/liIbnsbvorqHmlbDvvI0xDQoJCQkJRGltIENhdGVfRXhJRDpDYXRlX0V4SUQ9Q2F0ZWdvcnlzKENhdGVJRCkuRXhJRA0KCQkJCUlmIENhdGVfRXhJRDw+LTEgVGhlbg0KCQkJCQlDYXRlZ29yeXMoQ2F0ZV9FeElEKS5SZUNvdW50PUNhdGVnb3J5cyhDYXRlX0V4SUQpLkNvdW50LTENCgkJCQkJSWYgQ2F0ZV9FeElEPTAgVGhlbg0KCQkJCQkJQ2FsbCBCbG9nQ29uZmlnLldyaXRlKCJaQ19VTkNBVEVHT1JJWkVEX0NPVU5UIixDYXRlZ29yeXMoQ2F0ZV9FeElEKS5SZUNvdW50KQ0KCQkJCQlFbHNlDQoJCQkJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19DYXRlZ29yeV0gU0VUIFtjYXRlX0NvdW50XT0iJkNhdGVnb3J5cyhDYXRlX0V4SUQpLlJlQ291bnQmIiBXSEVSRSBbY2F0ZV9JRF0gPSIgJiBDYXRlX0V4SUQpDQoJCQkJCUVuZCBJZg0KCQkJCQlDYXRlZ29yeXMoQ2F0ZV9FeElEKS5Db3VudD1DYXRlZ29yeXMoQ2F0ZV9FeElEKS5SZUNvdW50DQoJCQkJRW5kIElmIA0KCQkJCUJsb2dDb25maWcuU2F2ZQ0KCQkJCQ0KCQkJRW5kIElmDQoJCQkNCgkJCUlmIGFyeTEoMikgVGhlbg0KCQkJDQoJCQkJSWYgTm90IFpDX01TU1FMX0VOQUJMRSBUaGVuIFNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoYXJ5MygyKSkNCgkJCQlVc2VycyhBdXRob3JJRCkuUmVDb3VudD1vYmpScygiYXV0aG9yX2NvdW50IikNCgkJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19NZW1iZXJdIFNFVCBbbWVtX1Bvc3RMb2dzXT0iJlVzZXJzKEF1dGhvcklEKS5SZUNvdW50JiIgV0hFUkUgW21lbV9JRF0gPSIgJiBBdXRob3JJRCkNCgkJCQlVc2VycyhBdXRob3JJRCkuQ291bnQ9VXNlcnMoQXV0aG9ySUQpLlJlQ291bnQNCgkJCQkn5Y6f55So5oi36K6h5pWw77yNMQ0KCQkJCURpbSBVc2VyX0V4SUQ6VXNlcl9FeElEPVVzZXJzKEF1dGhvcklEKS5FeElEDQoJCQkJSWYgVXNlcl9FeElEPD4tMSBUaGVuDQoJCQkJDQoJCQkJCVVzZXJzKFVzZXJfRXhJRCkuUmVDb3VudD1Vc2VycyhVc2VyX0V4SUQpLkNvdW50LTENCgkJCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfTWVtYmVyXSBTRVQgW21lbV9Qb3N0TG9nc109IiZVc2VycyhVc2VyX0V4SUQpLlJlQ291bnQmIiBXSEVSRSBbbWVtX0lEXSA9IiAmIFVzZXJfRXhJRCkNCgkJCQkJVXNlcnMoVXNlcl9FeElEKS5Db3VudD1Vc2VycyhVc2VyX0V4SUQpLlJlQ291bnQNCgkJCQkJDQoJCQkJRW5kIElmIA0KCQkJCQ0KCQkJRW5kIElmDQoJCQkNCgkJRW5kIElmDQoNCgkJb2JqUnMuQ2xvc2UNCgkJU2V0IG9ialJzPU5vdGhpbmcNCg0KCQknRnVsbFVybD1SZXBsYWNlKFVybCxCbG9nSG9zdCwiPCNaQ19CTE9HX0hPU1QjPiIpDQoJCSdvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19BcnRpY2xlXSBTRVQgW2xvZ19GdWxsVXJsXT0nIiZGdWxsVXJsJiInIFdIRVJFIFtsb2dfSURdID0iICYgSUQpDQoNCgkJU3RhdGlzdGljPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglGdW5jdGlvbiBTZXRWYXIoVGVtcGxhdGVUYWcsVGVtcGxhdGVWYWx1ZSkNCg0KCQlJZiBJc0VtcHR5KGh0bWwpIFRoZW4gaHRtbD1UZW1wbGF0ZQ0KDQoJCWh0bWw9UmVwbGFjZShodG1sLCI8IyIgJiBUZW1wbGF0ZVRhZyAmICIjPiIsVGVtcGxhdGVWYWx1ZSkNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglGdW5jdGlvbiBTYXZlKCkNCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVfU2F2ZV9CZWdpbj1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZV9TYXZlX0JlZ2luIGluIEFjdGlvbl9QbHVnaW5fVEFydGljbGVfU2F2ZV9CZWdpbg0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfU2F2ZV9CZWdpbikgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVfU2F2ZV9CZWdpbikNCgkJCUlmIGJBY3Rpb25fUGx1Z2luX1RBcnRpY2xlX1NhdmVfQmVnaW49VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJCUlmIFpDX1BPU1RfU1RBVElDX01PREU8PiJTVEFUSUMiIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJCUlmIE5vdChMZXZlbD4yKSBUaGVuIFNhdmU9VHJ1ZTpFeGl0IEZ1bmN0aW9uDQoNCgkJRGltIG9ialN0cmVhbQ0KDQoJCWh0bWw9VHJhbnNmZXJIVE1MKGh0bWwsIltuby1hc3BdIikNCg0KCQlJZiBaQ19TVEFUSUNfVFlQRT0iYXNwIiBUaGVuDQoJCQlodG1sPSI8IiYiJUAgQ09ERVBBR0U9NjUwMDEgJSImIj4iICYgaHRtbA0KCQlFbmQgSWYNCg0KCQlDYWxsIENyZWF0RGlyZWN0b3J5QnlDdXN0b21EaXJlY3RvcnlXaXRoRnVsbEJsb2dQYXRoKEZ1bGxQYXRoKQ0KDQoJCUNhbGwgU2F2ZVRvRmlsZShGdWxsUGF0aCxodG1sLCJ1dGYtOCIsRmFsc2UpDQoNCgkJU2F2ZT1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIERlbEZpbGUoKQ0KDQoJCUNhbGwgRGVsVG9GaWxlKEZ1bGxQYXRoKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBEZWwoKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZV9EZWwoSUQsVGFnLENhdGVJRCxUaXRsZSxJbnRybyxDb250ZW50LExldmVsLEF1dGhvcklELFBvc3RUaW1lLENvbW1OdW1zLFZpZXdOdW1zLFRyYWNrQmFja051bXMsQWxpYXMsSXN0b3AsVGVtcGxhdGVOYW1lLEZ1bGxVcmwsRlR5cGUsTWV0YVN0cmluZykNCg0KCQlDYWxsIERlbEZpbGUoKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJSWYgKElEPTApIFRoZW4gRGVsPUZhbHNlOkV4aXQgRnVuY3Rpb24NCg0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfSURdID0iICYgSUQpDQoJCW9iakNvbm4uRXhlY3V0ZSgiREVMRVRFIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgW2xvZ19JRF0gPSIgJiBJRCkNCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19UcmFja0JhY2tdIFdIRVJFIFtsb2dfSURdID0iICYgSUQpDQoNCgkJRGVsPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCg0KCUZ1bmN0aW9uIFNhdmVDYWNoZSgpDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIExvYWRDYWNoZSgpDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVByaXZhdGUgU3ViIENsYXNzX0luaXRpYWxpemUoKQ0KCQlQb3N0VGltZT1HZXRUaW1lKE5vdygpKQ0KCQlQb3N0VGltZT1ZZWFyKFBvc3RUaW1lKSAmICItIiAmIE1vbnRoKFBvc3RUaW1lKSAmICItIiAmIERheShQb3N0VGltZSkgJiAiICIgJiBIb3VyKFBvc3RUaW1lKSAmICI6IiAmIE1pbnV0ZShQb3N0VGltZSkgJiAiOiIgJiBTZWNvbmQoUG9zdFRpbWUpDQoJCUlEPTANCgkJQ2F0ZUlEPTANCgkJQXV0aG9ySUQ9MA0KCQlMZXZlbD00J+m7mOiupOS4uuaZrumAmg0KCQlUaXRsZT1aQ19NU0cwOTkNCgkJSVA9R2V0UmVhbGx5SVANCg0KCQlJc0R5bmFtaWNMb2FkU2lsZGJhcj1UcnVlDQoNCgkJRnRlbXBsYXRlPUVtcHR5DQoJCUZUeXBlPVpDX1BPU1RfVFlQRV9BUlRJQ0xFDQoNCgkJU2V0IE1ldGE9TmV3IFRNZXRhDQoNCglFbmQgU3ViDQoNCg0KRW5kIENsYXNzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWumuS5iVRBcnRpY2xlTGlzdOexuw0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRBcnRpY2xlTGlzdA0KDQoJUHVibGljIFRpdGxlDQoNCglQdWJsaWMgVGVtcGxhdGVfUGFnZUJhcg0KCVB1YmxpYyBUZW1wbGF0ZV9QYWdlQmFyX05leHQNCglQdWJsaWMgVGVtcGxhdGVfUGFnZUJhcl9QcmV2aW91cw0KCVB1YmxpYyBUZW1wbGF0ZV9DYWxlbmRhcg0KDQoJUHVibGljIFRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9BdXRob3JfSUQNCglQdWJsaWMgVGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X1RhZ3NfSUQNCglQdWJsaWMgVGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X0NhdGVnb3J5X0lEDQoJUHVibGljIFRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX1Nob3J0RGF0ZQ0KCVB1YmxpYyBUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfRGF0ZV9ZZWFyDQoJUHVibGljIFRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX01vbnRoDQoJUHVibGljIFRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX0RheQ0KCVB1YmxpYyBUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfUGFnZV9Ob3cNCglQdWJsaWMgVGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X1BhZ2VfQWxsDQoNCglQdWJsaWMgaHRtbA0KCVB1YmxpYyBzdWJodG1sDQoJUHVibGljIHN1Ymh0bWxfVGVtcGxhdGVOYW1lDQoNCglQdWJsaWMgSXNEeW5hbWljTG9hZFNpbGRiYXINCglQdWJsaWMgTGlzdFR5cGUNCg0KCVByaXZhdGUgRnRlbXBsYXRlDQoJUHVibGljIFByb3BlcnR5IExldCBUZW1wbGF0ZShzdHJGaWxlTmFtZSkNCgkJRnRlbXBsYXRlPUdldFRlbXBsYXRlKCJURU1QTEFURV8iICYgc3RyRmlsZU5hbWUpDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IEdldCBUZW1wbGF0ZQ0KCQlJZiBGdGVtcGxhdGU9IiIgVGhlbg0KCQkJRnRlbXBsYXRlPUdldFRlbXBsYXRlKCJURU1QTEFURV9ERUZBVUxUIikNCgkJRW5kIElmDQoNCgkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCglFbmQgUHJvcGVydHkNCg0KDQoJUHJpdmF0ZSBGZnVsbHJlZ2V4DQoJUHVibGljIFByb3BlcnR5IExldCBGdWxsUmVnZXgocykNCgkJRmZ1bGxyZWdleD1zDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IEdldCBGdWxsUmVnZXgNCgkJSWYgRmZ1bGxyZWdleDw+IiIgVGhlbiANCgkJCUZ1bGxSZWdleD1GZnVsbHJlZ2V4DQoJCUVsc2UNCgkJCUZ1bGxSZWdleD1aQ19ERUZBVUxUX1JFR0VYDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQdWJsaWMgVXJsDQoJUHJpdmF0ZSBNaXhVcmwNCg0KDQoJUHVibGljIFByb3BlcnR5IEdldCBIdG1sVGl0bGUNCgkJSHRtbFRpdGxlPVRyYW5zZmVySFRNTChUaXRsZSwiW2h0bWwtamFwYW5dW2h0bWwtZm9ybWF0XSIpDQoJRW5kIFByb3BlcnR5DQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBFeHBvcnQoaW50UGFnZSxhbnlDYXRlLGFueUF1dGhvcixkdG1EYXRlLGFueVRhZyxpbnRUeXBlKQ0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X0JlZ2luPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlTGlzdF9FeHBvcnRfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X0JlZ2luDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydF9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlOZXh0DQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlTGlzdF9FeHBvcnQoaW50UGFnZSxhbnlDYXRlLGFueUF1dGhvcixkdG1EYXRlLGFueVRhZyxpbnRUeXBlKQ0KDQoJCUxpc3RUeXBlPSJERUZBVUxUIg0KCQlVcmwgPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yVXJsKEZ1bGxSZWdleCxaQ19TVEFUSUNfRElSRUNUT1JZLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiKQ0KCQlNaXhVcmw9UGFyc2VDdXN0b21EaXJlY3RvcnlGb3JVcmwoInslaG9zdCV9L2NhdGFsb2cuYXNwIixaQ19TVEFUSUNfRElSRUNUT1JZLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiKQ0KDQoJCURpbSBhcnlBcnRpY2xlDQoJCURpbSBhcnlBcnRpY2xlTGlzdCgpDQoJCURpbSAgVGVtcGxhdGVfQXJ0aWNsZV9Jc3RvcA0KDQoJCQ0KCQkncGx1Z2luIG5vZGUNCgkJRGltIGksaixrLGwscyx0DQoJCURpbSBvYmpSUw0KCQlEaW0gaW50UGFnZUNvdW50DQoJCURpbSBvYmpBcnRpY2xlDQoJCURpbSB1dCx1ZCxkZCxkdCx0dCx0ZA0KCQlEaW0gaW50Q2F0ZSxpbnRBdXRob3IsaW50VGFnDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRQYWdlLCJpbnQiLDEpDQoJCVRpdGxlPVpDX0JMT0dfU1VCVElUTEUNCg0KCQlTZXQgb2JqUlM9U2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuUmVjb3Jkc2V0IikNCgkJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCQlvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJCW9ialJTLkFjdGl2ZUNvbm5lY3Rpb249b2JqQ29ubg0KDQoJCVNldCBkdCA9IENyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkRpY3Rpb25hcnkiKQ0KCQlTZXQgZGQgPSBDcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KCQknLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCgkJJ29udG9wDQoJCW9ialJTLlNvdXJjZT0iU0VMRUNUIFtsb2dfSURdLFtsb2dfVGFnXSxbbG9nX0NhdGVJRF0sW2xvZ19UaXRsZV0sW2xvZ19JbnRyb10sW2xvZ19Db250ZW50XSxbbG9nX0xldmVsXSxbbG9nX0F1dGhvcklEXSxbbG9nX1Bvc3RUaW1lXSxbbG9nX0NvbW1OdW1zXSxbbG9nX1ZpZXdOdW1zXSxbbG9nX1RyYWNrQmFja051bXNdLFtsb2dfVXJsXSxbbG9nX0lzdG9wXSxbbG9nX1RlbXBsYXRlXSxbbG9nX0Z1bGxVcmxdLFtsb2dfVHlwZV0sW2xvZ19NZXRhXSBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIChbbG9nX1R5cGVdPTApIEFuZCAoW2xvZ19JRF0+MCkgQU5EIChbbG9nX0lzdG9wXTw+MCkgQU5EIChbbG9nX0xldmVsXT4xKSINCgkJb2JqUlMuU291cmNlPW9ialJTLlNvdXJjZSAmICJPUkRFUiBCWSBbbG9nX1Bvc3RUaW1lXSBERVNDLFtsb2dfSURdIERFU0MiDQoJCW9ialJTLk9wZW4oKQ0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQlvYmpSUy5QYWdlU2l6ZSA9IFpDX0RJU1BMQVlfQ09VTlQNCgkJCWludFBhZ2VDb3VudD1vYmpSUy5QYWdlQ291bnQNCgkJCW9ialJTLkFic29sdXRlUGFnZSA9IDENCg0KCQkJRm9yIGkgPSAxIFRvIG9ialJTLlBhZ2VTaXplDQoNCgkJCQlTZXQgb2JqQXJ0aWNsZT1OZXcgVEFydGljbGUNCgkJCQlJZiBvYmpBcnRpY2xlLkxvYWRJbmZvQnlBcnJheShBcnJheShvYmpSUygwKSxvYmpSUygxKSxvYmpSUygyKSxvYmpSUygzKSxvYmpSUyg0KSxvYmpSUyg1KSxvYmpSUyg2KSxvYmpSUyg3KSxvYmpSUyg4KSxvYmpSUyg5KSxvYmpSUygxMCksb2JqUlMoMTEpLG9ialJTKDEyKSxvYmpSUygxMyksb2JqUlMoMTQpLG9ialJTKDE1KSxvYmpSUygxNiksb2JqUlMoMTcpKSkgVGhlbg0KCQkJCQl1dD11dCAmICIsIiAmIG9ialJzKDcpDQoJCQkJCXR0PXR0ICYgb2JqUnMoMSkNCgkJCQkJZHQuQWRkIENMbmcob2JqUnMoMCkpLCBvYmpBcnRpY2xlDQoJCQkJRW5kIElmDQoJCQkJU2V0IG9iakFydGljbGU9Tm90aGluZw0KDQoJCQkJb2JqUlMuTW92ZU5leHQNCgkJCQlJZiBvYmpSUy5FT0YgVGhlbiBFeGl0IEZvcg0KDQoJCQlOZXh0DQoNCgkJRW5kIElmDQoJCW9ialJTLkNsb3NlKCkNCgkJJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQoNCg0KCQlvYmpSUy5Tb3VyY2U9IlNFTEVDVCBbbG9nX0lEXSxbbG9nX1RhZ10sW2xvZ19DYXRlSURdLFtsb2dfVGl0bGVdLFtsb2dfSW50cm9dLFtsb2dfQ29udGVudF0sW2xvZ19MZXZlbF0sW2xvZ19BdXRob3JJRF0sW2xvZ19Qb3N0VGltZV0sW2xvZ19Db21tTnVtc10sW2xvZ19WaWV3TnVtc10sW2xvZ19UcmFja0JhY2tOdW1zXSxbbG9nX1VybF0sW2xvZ19Jc3RvcF0sW2xvZ19UZW1wbGF0ZV0sW2xvZ19GdWxsVXJsXSxbbG9nX1R5cGVdLFtsb2dfTWV0YV0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSAoW2xvZ19UeXBlXT0wKSBBTkQgKFtsb2dfTGV2ZWxdPjEpIg0KDQoJCUlmIGFueUF1dGhvcjw+IiIgVGhlbg0KDQoJCQlMaXN0VHlwZT0iVVNFUiINCg0KCQkJSWYgSW5TdHIoWkNfVVNFUl9SRUdFWCwieyVhbGlhcyV9Iik+MCBUaGVuDQoJCQkJaT1HZXRBdXRob3JCeUFsaWFzKGFueUF1dGhvcikNCgkJCQlJZiBpPS0xIFRoZW4NCgkJCQkJaT1HZXRBdXRob3JCeU5hbWUoYW55QXV0aG9yKQ0KCQkJCUVuZCBJZg0KCQkJRWxzZUlmIEluU3RyKFpDX1VTRVJfUkVHRVgsInslbmFtZSV9Iik+MCBUaGVuDQoJCQkJaT1HZXRBdXRob3JCeU5hbWUoQXV0aG9yKQ0KCQkJRWxzZQ0KCQkJCWk9YW55QXV0aG9yDQoJCQlFbmQgSWYNCg0KCQkJQ2FsbCBDaGVja1BhcmFtZXRlcihpLCJpbnQiLEVtcHR5KQ0KDQoJCQlpbnRBdXRob3I9aQ0KDQoJCQlvYmpSUy5Tb3VyY2U9b2JqUlMuU291cmNlICYgIkFORChbbG9nX0F1dGhvcklEXT0iJmkmIikiDQoNCgkJCUlmIENoZWNrQXV0aG9yQnlJRChpKSBUaGVuDQoJCQkJQ2FsbCBHZXRVc2Vyc2J5VXNlcklETGlzdChpKQ0KCQkJCVRpdGxlPVVzZXJzKGkpLk5hbWUNCgkJCQlUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfQXV0aG9yX0lEPVVzZXJzKGkpLklEDQoJCQkJSWYgSXNFbXB0eShodG1sKT1UcnVlIFRoZW4gaHRtbD1Vc2VycyhpKS5UZW1wbGF0ZQ0KCQkJCVVybCA9UGFyc2VDdXN0b21EaXJlY3RvcnlGb3JVcmwoVXNlcnMoaSkuRnVsbFJlZ2V4LFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIsIiIsIiIsIiIsVXNlcnMoaSkuSUQsVXNlcnMoaSkuTmFtZSxVc2VycyhpKS5TdGF0aWNOYW1lKQ0KCQkJCU1peFVybD1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybCgieyVob3N0JX0vY2F0YWxvZy5hc3A/YXV0aD17JWlkJX0iLFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIsIiIsIiIsIiIsVXNlcnMoaSkuSUQsVXNlcnMoaSkuTmFtZSxVc2VycyhpKS5TdGF0aWNOYW1lKQ0KCQkJRW5kIElmDQoJCUVuZCBpZg0KCQlJZiBhbnlDYXRlPD4iIiBUaGVuDQoNCgkJCUxpc3RUeXBlPSJDQVRFR09SWSINCg0KCQkJSWYgSW5TdHIoWkNfQ0FURUdPUllfUkVHRVgsInslYWxpYXMlfSIpPjAgVGhlbg0KCQkJCWk9R2V0Q2F0ZUJ5QWxpYXMoYW55Q2F0ZSkNCgkJCQlJZiBpPS0xIFRoZW4NCgkJCQkJaT1HZXRDYXRlQnlOYW1lKGFueUNhdGUpDQoJCQkJRW5kIElmDQoJCQlFbHNlSWYgSW5TdHIoWkNfQ0FURUdPUllfUkVHRVgsInslbmFtZSV9Iik+MCBUaGVuIA0KCQkJCWk9R2V0Q2F0ZUJ5TmFtZShhbnlDYXRlKQ0KCQkJRWxzZQ0KCQkJCWk9YW55Q2F0ZQ0KCQkJRW5kIElmDQoNCgkJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaSwiaW50IixFbXB0eSkNCg0KCQkJaW50Q2F0ZT1pDQoNCgkJCUlmIGk9MCBUaGVuDQoJCQkJb2JqUlMuU291cmNlPW9ialJTLlNvdXJjZSAmICJBTkQoW2xvZ19DYXRlSURdPTApIg0KCQkJRWxzZQ0KCQkJCURpbSBzdHJTdWJDYXRlSUQNCgkJCQlzdHJTdWJDYXRlSUQ9Sm9pbihHZXRTdWJDYXRlSUQoaSxUcnVlKSwiLCIpDQoJCQkJb2JqUlMuU291cmNlPW9ialJTLlNvdXJjZSAmICJBTkQoW2xvZ19DYXRlSURdSU4oIiZzdHJTdWJDYXRlSUQmIikpIg0KCQkJRW5kIElmDQoNCgkJCUlmIENoZWNrQ2F0ZUJ5SUQoaSkgVGhlbg0KCQkJCVRpdGxlPUNhdGVnb3J5cyhpKS5OYW1lDQoJCQkJVGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X0NhdGVnb3J5X0lEPUNhdGVnb3J5cyhpKS5JRA0KCQkJCUlmIElzRW1wdHkoaHRtbCk9VHJ1ZSBUaGVuIGh0bWw9Q2F0ZWdvcnlzKGkpLlRlbXBsYXRlDQoJCQkJVXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybChDYXRlZ29yeXMoaSkuRnVsbFJlZ2V4LFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIsIiIsIiIsIiIsQ2F0ZWdvcnlzKGkpLklELENhdGVnb3J5cyhpKS5OYW1lLENhdGVnb3J5cyhpKS5TdGF0aWNOYW1lKQ0KCQkJCU1peFVybCA9UGFyc2VDdXN0b21EaXJlY3RvcnlGb3JVcmwoInslaG9zdCV9L2NhdGFsb2cuYXNwP2NhdGU9eyVpZCV9IixaQ19TVEFUSUNfRElSRUNUT1JZLCIiLCIiLCIiLCIiLCIiLENhdGVnb3J5cyhpKS5JRCxDYXRlZ29yeXMoaSkuTmFtZSxDYXRlZ29yeXMoaSkuU3RhdGljTmFtZSkNCgkJCUVuZCBJZg0KCQlFbmQgaWYNCgkJSWYgSXNEYXRlKGR0bURhdGUpIFRoZW4NCg0KCQkJTGlzdFR5cGU9IkRBVEUiDQoNCgkJCURpbSB5DQoJCQlEaW0gbQ0KCQkJRGltIGQNCgkJCURpbSBueQ0KCQkJRGltIG5tDQoNCgkJCXk9WWVhcihkdG1EYXRlKQ0KCQkJbT1Nb250aChkdG1EYXRlKQ0KCQkJZD1EYXkoZHRtRGF0ZSkNCg0KCQkJSWYgTm90IExlbihDU3RyKGR0bURhdGUpKT43IFRoZW4NCgkJCQlkPSIiDQoJCQlFbmQgSWYNCg0KCQkJVXJsID1VcmxieURhdGUoeSxtLGQpDQoJCQlNaXhVcmwgPVVybGJ5RGF0ZUF1dG8oeSxtLGQpDQoNCgkJCVRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX1Nob3J0RGF0ZT1kdG1EYXRlDQoJCQlUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfRGF0ZV9ZZWFyPXkNCgkJCVRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX01vbnRoPW0NCgkJCVRlbXBsYXRlVGFnc19BcnRpY2xlTGlzdF9EYXRlX0RheT1kDQoNCgkJCW55PXkNCgkJCW5tPW0rMQ0KCQkJSWYgbT0xMiBUaGVuIG55PW55KzE6bm09MQ0KDQoJCQlJZiBMZW4oQ1N0cihkdG1EYXRlKSk+NyBUaGVuDQoJCQkJb2JqUlMuU291cmNlPW9ialJTLlNvdXJjZSAmICJBTkQoWWVhcihbbG9nX1Bvc3RUaW1lXSk9IiZ5JiIpIEFORChNb250aChbbG9nX1Bvc3RUaW1lXSk9IiZtJiIpIEFORChEYXkoW2xvZ19Qb3N0VGltZV0pPSImZCYiKSINCgkJCUVsc2UNCgkJCQlvYmpSUy5Tb3VyY2U9b2JqUlMuU291cmNlICYgIkFORChZZWFyKFtsb2dfUG9zdFRpbWVdKT0iJnkmIikgQU5EKE1vbnRoKFtsb2dfUG9zdFRpbWVdKT0iJm0mIikiDQoJCQlFbmQgSWYNCg0KCQkJVGVtcGxhdGVfQ2FsZW5kYXI9IjxzY3JpcHQgc3JjPSIiPCNaQ19CTE9HX0hPU1QjPnpiX3N5c3RlbS9mdW5jdGlvbi9jX2h0bWxfanMuYXNwP2RhdGU9IiZkdG1EYXRlJiIiIiB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+PC9zY3JpcHQ+Ig0KDQoJCQlJZiBJc0VtcHR5KGh0bWwpPVRydWUgVGhlbiBodG1sPUdldFRlbXBsYXRlKCJURU1QTEFURV9DQVRBTE9HIikNCg0KCQkJVGl0bGU9WWVhcihkdG1EYXRlKSAmICIgIiAmIFpWQV9Nb250aChNb250aChkdG1EYXRlKSkgJiBJSUYoTGVuKENTdHIoZHRtRGF0ZSkpPjcsIiAiICYgRGF5KGR0bURhdGUpLCIiKQ0KCQlFbmQgSWYNCgkJSWYgYW55VGFnPD4iIiBUaGVuDQoNCgkJCUxpc3RUeXBlPSJUQUdTIg0KDQoNCgkJCUlmIEluU3RyKFpDX1RBR1NfUkVHRVgsInslYWxpYXMlfSIpPjAgVGhlbg0KCQkJCUlmIENoZWNrVGFnQnlJbnRybyhhbnlUYWcpIFRoZW4NCgkJCQkJaT1HZXRUYWdCeUludHJvKGFueVRhZykNCgkJCQlFbHNlDQoJCQkJCUlmIENoZWNrVGFnQnlOYW1lKGFueVRhZykgVGhlbiBpPUdldFRhZ0J5TmFtZShhbnlUYWcpDQoJCQkJRW5kIElmDQoJCQlFbHNlSWYgSW5TdHIoWkNfVEFHU19SRUdFWCwieyVpZCV9Iik+MCBUaGVuDQoJCQkJaT1DTG5nKGFueVRhZykNCgkJCUVsc2UNCgkJCQlJZiBDaGVja1RhZ0J5TmFtZShhbnlUYWcpIFRoZW4gaT1HZXRUYWdCeU5hbWUoYW55VGFnKQ0KCQkJRW5kIElmDQoNCgkJCW9ialJTLlNvdXJjZT1vYmpSUy5Tb3VyY2UgJiAiQU5EKFtsb2dfVGFnXSBMSUtFICcleyIgJiBpICYgIn0lJykiDQoNCgkJCWludFRhZz1pDQoNCgkJCUlmIENoZWNrVGFnQnlJRChpKSBUaGVuDQoJCQkJQ2FsbCBHZXRUYWdzYnlUYWdJRExpc3QoInsiJmkmIn0iKQ0KDQoJCQkJVGl0bGU9VGFncyhpKS5OYW1lDQoJCQkJVGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X1RhZ3NfSUQ9VGFncyhpKS5JRA0KCQkJCUlmIElzRW1wdHkoaHRtbCk9VHJ1ZSBUaGVuIGh0bWw9VGFncyhpKS5UZW1wbGF0ZQ0KCQkJCVVybCA9UGFyc2VDdXN0b21EaXJlY3RvcnlGb3JVcmwoVGFncyhpKS5GdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixUYWdzKGkpLklELFRhZ3MoaSkuTmFtZSxUYWdzKGkpLkVuY29kZU5hbWUpDQoJCQkJTWl4VXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybCgieyVob3N0JX0vY2F0YWxvZy5hc3A/dGFncz17JWFsaWFzJX0iLFpDX1NUQVRJQ19ESVJFQ1RPUlksIiIsIiIsIiIsIiIsIiIsVGFncyhpKS5JRCxUYWdzKGkpLk5hbWUsVGFncyhpKS5FbmNvZGVOYW1lKQ0KCQkJRW5kIElmDQoJCUVuZCBJZg0KDQoNCgkJSWYgTGlzdFR5cGU9IkRFRkFVTFQiIFRoZW4gb2JqUlMuU291cmNlPW9ialJTLlNvdXJjZSAmICIgQU5EIChbbG9nX0lzdG9wXT0wKSAiDQoNCg0KCQlvYmpSUy5Tb3VyY2U9b2JqUlMuU291cmNlICYgIk9SREVSIEJZIFtsb2dfUG9zdFRpbWVdIERFU0MsW2xvZ19JRF0gREVTQyINCgkJb2JqUlMuT3BlbigpDQoNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJb2JqUlMuUGFnZVNpemUgPSBaQ19ESVNQTEFZX0NPVU5UDQoJCQlpbnRQYWdlQ291bnQ9b2JqUlMuUGFnZUNvdW50DQoJCQlvYmpSUy5BYnNvbHV0ZVBhZ2UgPSBpbnRQYWdlDQoNCgkJCUZvciBpID0gMSBUbyBvYmpSUy5QYWdlU2l6ZQ0KDQoJCQkJSWYgaW50UGFnZT5pbnRQYWdlQ291bnQgVGhlbiBFeGl0IEZvcg0KDQoJCQkJU2V0IG9iakFydGljbGU9TmV3IFRBcnRpY2xlDQoJCQkJSWYgb2JqQXJ0aWNsZS5Mb2FkSW5mb0J5QXJyYXkoQXJyYXkob2JqUlMoMCksb2JqUlMoMSksb2JqUlMoMiksb2JqUlMoMyksb2JqUlMoNCksb2JqUlMoNSksb2JqUlMoNiksb2JqUlMoNyksb2JqUlMoOCksb2JqUlMoOSksb2JqUlMoMTApLG9ialJTKDExKSxvYmpSUygxMiksb2JqUlMoMTMpLG9ialJTKDE0KSxvYmpSUygxNSksb2JqUlMoMTYpLG9ialJTKDE3KSkpIFRoZW4NCgkJCQkJdWQ9dWQgJiAiLCIgJiBvYmpScyg3KQ0KCQkJCQl0ZD10ZCAmIG9ialJzKDEpDQoJCQkJCWRkLkFkZCBDTG5nKG9ialJzKDApKSwgb2JqQXJ0aWNsZQ0KCQkJCUVuZCBJZg0KCQkJCVNldCBvYmpBcnRpY2xlPU5vdGhpbmcNCg0KCQkJCW9ialJTLk1vdmVOZXh0DQoJCQkJSWYgb2JqUlMuRU9GIFRoZW4gRXhpdCBGb3INCg0KCQkJTmV4dA0KDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlKCkNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KDQoJCUlmIElzRW1wdHkoaHRtbCk9VHJ1ZSBUaGVuDQoJCQlJZiBpbnRQYWdlPjEgQW5kIFpDX0RFRkFVTFRfUEFHRVNfVEVNUExBVEU8PiIiIFRoZW4NCgkJCQlodG1sPUdldFRlbXBsYXRlKCJURU1QTEFURV8iICYgWkNfREVGQVVMVF9QQUdFU19URU1QTEFURSkNCgkJCUVsc2UNCgkJCQlodG1sPVRlbXBsYXRlDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoNCgkJQ2FsbCBHZXRUYWdzYnlUYWdJRExpc3QodHQgJiB0ZCkNCg0KCQlDYWxsIEdldFVzZXJzYnlVc2VySURMaXN0KHV0ICYgIiwiICYgdWQpDQoNCg0KDQoJCVJlRGltIGFyeUFydGljbGVMaXN0KC0xKQ0KCQlGb3IgaT0wIFRvIGR0LkNvdW50LTENCgkJCWo9ZHQuS2V5cw0KCQkJUmVEaW0gUHJlc2VydmUgYXJ5QXJ0aWNsZUxpc3QoaSkNCgkJCVNldCBvYmpBcnRpY2xlPWR0Lkl0ZW0oaihpKSkNCgkJCW9iakFydGljbGUuaHRtbD1odG1sDQoJCQlJZiBvYmpBcnRpY2xlLkV4cG9ydChaQ19ESVNQTEFZX01PREVfT05UT1ApPSBUcnVlIFRoZW4NCgkJCQlhcnlBcnRpY2xlTGlzdChpKT1vYmpBcnRpY2xlLnN1Ymh0bWwNCgkJCUVuZCBJZg0KCQlOZXh0DQoJCVRlbXBsYXRlX0FydGljbGVfSXN0b3A9Sm9pbihhcnlBcnRpY2xlTGlzdCkNCg0KDQoJCURpbSBSRSAsTWF0Y2gsTWF0Y2hlcw0KCQlSZURpbSBhcnlBcnRpY2xlTGlzdCgtMSkNCgkJSWYgZGQuQ291bnQ+MCBUSGVuDQoJCQlGb3IgaT0wIFRvIGRkLkNvdW50LTENCgkJCQlqPWRkLktleXMNCgkJCQlSZURpbSBQcmVzZXJ2ZSBhcnlBcnRpY2xlTGlzdChpKQ0KCQkJCVNldCBvYmpBcnRpY2xlPWRkLkl0ZW0oaihpKSkNCgkJCQlvYmpBcnRpY2xlLmh0bWw9aHRtbA0KCQkJCUlmIG9iakFydGljbGUuRXhwb3J0KGludFR5cGUpPSBUcnVlIFRoZW4NCgkJCQkJYXJ5QXJ0aWNsZUxpc3QoaSk9b2JqQXJ0aWNsZS5zdWJodG1sDQoJCQkJRW5kIElmDQoJCQkJc3ViaHRtbF9UZW1wbGF0ZU5hbWU9b2JqQXJ0aWNsZS5zdWJodG1sX1RlbXBsYXRlTmFtZQ0KCQkJTmV4dA0KCQlFbHNlDQoJCQlTZXQgUkUgPSBOZXcgUmVnRXhwIA0KCQkJCVJFLlBhdHRlcm4gPSAiXDxcI3RlbXBsYXRlXDooYXJ0aWNsZVwtKFthLXowLTldKikoW1wtYS16MC05XSopKVwjXD4iDQoJCQkJUkUuSWdub3JlQ2FzZSA9IFRydWUgDQoJCQkJUkUuR2xvYmFsID0gVHJ1ZSANCgkJCQlTZXQgTWF0Y2hlcyA9IFJFLkV4ZWN1dGUoaHRtbCkgDQoJCQkJRm9yIEVhY2ggTWF0Y2ggaW4gTWF0Y2hlcw0KCQkJCQlJZiBJc0VtcHR5KHN1Ymh0bWxfVGVtcGxhdGVOYW1lKSBUaGVuIHN1Ymh0bWxfVGVtcGxhdGVOYW1lPSJ0ZW1wbGF0ZToiJk1hdGNoLlN1Yk1hdGNoZXMoMCkmIiINCgkJCQkJRXhpdCBGb3INCgkJCQlOZXh0DQoJCQkJU2V0IE1hdGNoZXMgPSBOb3RoaW5nDQoJCQlTZXQgUkUgPSBOb3RoaW5nDQoJCUVuZCBJZg0KCQlzdWJodG1sPUpvaW4oYXJ5QXJ0aWNsZUxpc3QpDQoNCg0KCQlJZiBMaXN0VHlwZT0iREVGQVVMVCIgVGhlbiBzdWJodG1sPVRlbXBsYXRlX0FydGljbGVfSXN0b3AgJiBzdWJodG1sDQoNCg0KCQlUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfUGFnZV9Ob3c9aW50UGFnZQ0KCQlUZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfUGFnZV9BbGw9aW50UGFnZUNvdW50DQoNCg0KCQlDYWxsIEV4cG9ydEJhcihpbnRQYWdlLGludFBhZ2VDb3VudCkNCg0KDQoJCURpbSBhcnlUZW1wbGF0ZVN1Yk5hbWUoKQ0KCQlEaW0gYXJ5VGVtcGxhdGVTdWJWYWx1ZSgpDQoNCg0KCQlSZURpbSBhcnlUZW1wbGF0ZVN1Yk5hbWUoIDQ3KQ0KCQlSZURpbSBhcnlUZW1wbGF0ZVN1YlZhbHVlKDQ3KQ0KDQoJCWFyeVRlbXBsYXRlU3ViTmFtZSggIDEpPXN1Ymh0bWxfVGVtcGxhdGVOYW1lDQoJCWFyeVRlbXBsYXRlU3ViVmFsdWUoIDEpPXN1Ymh0bWwNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAgMik9InRlbXBsYXRlOnBhZ2ViYXIiDQoJCWFyeVRlbXBsYXRlU3ViVmFsdWUoIDIpPVRyYW5zZmVySFRNTChUZW1wbGF0ZV9QYWdlQmFyLCJbYW50aS16Y19ibG9nX2hvc3RdIikNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAgMyk9InRlbXBsYXRlOnBhZ2ViYXJfbmV4dCINCgkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSggMyk9VHJhbnNmZXJIVE1MKFRlbXBsYXRlX1BhZ2VCYXJfTmV4dCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoJCWFyeVRlbXBsYXRlU3ViTmFtZSggIDQpPSJ0ZW1wbGF0ZTpwYWdlYmFyX3ByZXZpb3VzIg0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKCA0KT1UcmFuc2ZlckhUTUwoVGVtcGxhdGVfUGFnZUJhcl9QcmV2aW91cywiW2FudGktemNfYmxvZ19ob3N0XSIpDQoNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAgNik9ImFydGljbGVsaXN0L2RhdGUveWVhciINCgkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSggNik9VGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X0RhdGVfWWVhcg0KCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoICA3KT0iYXJ0aWNsZWxpc3QvZGF0ZS9tb250aCINCgkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSggNyk9VGVtcGxhdGVUYWdzX0FydGljbGVMaXN0X0RhdGVfTW9udGgNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAgOSk9ImFydGljbGVsaXN0L2RhdGUvZGF5Ig0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKCA5KT1UZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfRGF0ZV9EYXkNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxMCk9ImFydGljbGVsaXN0L2RhdGUvc2hvcnRkYXRlIg0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDEwKT1UZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfRGF0ZV9TaG9ydERhdGUNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxMSk9ImFydGljbGVsaXN0L3BhZ2Uvbm93Ig0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDExKT1UZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfUGFnZV9Ob3cNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxMik9ImFydGljbGVsaXN0L3BhZ2UvYWxsIg0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDEyKT1UZW1wbGF0ZVRhZ3NfQXJ0aWNsZUxpc3RfUGFnZV9BbGwNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxMyk9ImFydGljbGVsaXN0L3BhZ2UvY291bnQiDQoJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMTMpPVpDX0RJU1BMQVlfQ09VTlQNCg0KDQoNCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMTQpPSJhcnRpY2xlbGlzdC9jYXRlZ29yeS9pZCINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMTUpPSJhcnRpY2xlbGlzdC9jYXRlZ29yeS9uYW1lIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxNik9ImFydGljbGVsaXN0L2NhdGVnb3J5L29yZGVyIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxNyk9ImFydGljbGVsaXN0L2NhdGVnb3J5L2NvdW50Ig0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAxOCk9ImFydGljbGVsaXN0L2NhdGVnb3J5L3VybCINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMTkpPSJhcnRpY2xlbGlzdC9jYXRlZ29yeS9zdGF0aWNuYW1lIg0KDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDIwKT0iYXJ0aWNsZWxpc3QvY2F0ZWdvcnkvcGFyZW50L2lkIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAyMSk9ImFydGljbGVsaXN0L2NhdGVnb3J5L3BhcmVudC9uYW1lIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAyMik9ImFydGljbGVsaXN0L2NhdGVnb3J5L3BhcmVudC9vcmRlciINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMjMpPSJhcnRpY2xlbGlzdC9jYXRlZ29yeS9wYXJlbnQvY291bnQiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDI0KT0iYXJ0aWNsZWxpc3QvY2F0ZWdvcnkvcGFyZW50L3VybCINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMjUpPSJhcnRpY2xlbGlzdC9jYXRlZ29yeS9wYXJlbnQvc3RhdGljbmFtZSINCg0KDQoJCUlmIExpc3RUeXBlPSJDQVRFR09SWSIgVGhlbg0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgxNCk9Q2F0ZWdvcnlzKGludENhdGUpLklEDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDE1KT1DYXRlZ29yeXMoaW50Q2F0ZSkuSHRtbE5hbWUNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMTYpPUNhdGVnb3J5cyhpbnRDYXRlKS5PcmRlcg0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgxNyk9Q2F0ZWdvcnlzKGludENhdGUpLkNvdW50DQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDE4KT1UcmFuc2ZlckhUTUwoQ2F0ZWdvcnlzKGludENhdGUpLkh0bWxVcmwsIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgxOSk9Q2F0ZWdvcnlzKGludENhdGUpLlN0YXRpY05hbWUNCg0KCQkJSWYgQ2F0ZWdvcnlzKGludENhdGUpLlBhcmVudElEPD4wIFRoZW4NCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMjApPUNhdGVnb3J5cyhDYXRlZ29yeXMoaW50Q2F0ZSkuUGFyZW50SUQpLklEDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDIxKT1DYXRlZ29yeXMoQ2F0ZWdvcnlzKGludENhdGUpLlBhcmVudElEKS5IdG1sTmFtZQ0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgyMik9Q2F0ZWdvcnlzKENhdGVnb3J5cyhpbnRDYXRlKS5QYXJlbnRJRCkuT3JkZXINCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMjMpPUNhdGVnb3J5cyhDYXRlZ29yeXMoaW50Q2F0ZSkuUGFyZW50SUQpLkNvdW50DQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDI0KT1UcmFuc2ZlckhUTUwoQ2F0ZWdvcnlzKENhdGVnb3J5cyhpbnRDYXRlKS5QYXJlbnRJRCkuSHRtbFVybCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDI1KT1DYXRlZ29yeXMoQ2F0ZWdvcnlzKGludENhdGUpLlBhcmVudElEKS5TdGF0aWNOYW1lDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoNCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMjYpPSJhcnRpY2xlbGlzdC9hdXRob3IvaWQiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDI3KT0iYXJ0aWNsZWxpc3QvYXV0aG9yL25hbWUiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDI4KT0iYXJ0aWNsZWxpc3QvYXV0aG9yL2xldmVsIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAyOSk9ImFydGljbGVsaXN0L2F1dGhvci9lbWFpbCINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMzApPSJhcnRpY2xlbGlzdC9hdXRob3IvaG9tZXBhZ2UiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDMxKT0iYXJ0aWNsZWxpc3QvYXV0aG9yL2NvdW50Ig0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAzMik9ImFydGljbGVsaXN0L2F1dGhvci91cmwiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDMzKT0iYXJ0aWNsZWxpc3QvYXV0aG9yL3N0YXRpY25hbWUiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDM0KT0iYXJ0aWNsZWxpc3QvYXV0aG9yL2ludHJvIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCAzNSk9ImFydGljbGVsaXN0L2F1dGhvci9hdmF0YXIiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDM2KT0iYXJ0aWNsZWxpc3QvYXV0aG9yL2xldmVsbmFtZSINCg0KCQlJZiBMaXN0VHlwZT0iVVNFUiIgVGhlbg0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgyNik9VXNlcnMoaW50QXV0aG9yKS5JRA0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgyNyk9VXNlcnMoaW50QXV0aG9yKS5GaXJzdE5hbWUNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMjgpPVVzZXJzKGludEF1dGhvcikuTGV2ZWwNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMjkpPVVzZXJzKGludEF1dGhvcikuRW1haWwNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMzApPVVzZXJzKGludEF1dGhvcikuSG9tZVBhZ2UNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMzEpPVVzZXJzKGludEF1dGhvcikuQ291bnQNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMzIpPVRyYW5zZmVySFRNTChVc2VycyhpbnRBdXRob3IpLkh0bWxVcmwsIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgzMyk9VXNlcnMoaW50QXV0aG9yKS5TdGF0aWNOYW1lDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDM0KT1Vc2VycyhpbnRBdXRob3IpLkludHJvDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDM1KT1Vc2VycyhpbnRBdXRob3IpLkF2YXRhcg0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgzNik9VXNlcnMoaW50QXV0aG9yKS5MZXZlbE5hbWUNCgkJRW5kIElmDQoNCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggMzcpPSJhcnRpY2xlbGlzdC90YWcvaWQiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDM4KT0iYXJ0aWNsZWxpc3QvdGFnL25hbWUiDQoJCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDM5KT0iYXJ0aWNsZWxpc3QvdGFnL2ludHJvIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCA0MCk9ImFydGljbGVsaXN0L3RhZy9jb3VudCINCgkJCWFyeVRlbXBsYXRlU3ViTmFtZSggNDEpPSJhcnRpY2xlbGlzdC90YWcvdXJsIg0KCQkJYXJ5VGVtcGxhdGVTdWJOYW1lKCA0Mik9ImFydGljbGVsaXN0L3RhZy9lbmNvZGVuYW1lIg0KDQoJCUlmIExpc3RUeXBlPSJUQUdTIiBUaGVuDQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDM3KT1UYWdzKGludFRhZykuSUQNCgkJCWFyeVRlbXBsYXRlU3ViVmFsdWUoMzgpPVRhZ3MoaW50VGFnKS5IdG1sTmFtZQ0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSgzOSk9VGFncyhpbnRUYWcpLkh0bWxJbnRybw0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSg0MCk9VGFncyhpbnRUYWcpLkNvdW50DQoJCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDQxKT1UYWdzKGludFRhZykuSHRtbFVybA0KCQkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSg0Mik9VGFncyhpbnRUYWcpLkVuY29kZU5hbWUNCgkJRW5kIElmDQoNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCA0Myk9InRlbXBsYXRlOnNpZGViYXIiDQoJCWFyeVRlbXBsYXRlU3ViVmFsdWUoNDMpPUdldFRlbXBsYXRlKCJDQUNIRV9TSURFQkFSIikNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCA0NCk9InRlbXBsYXRlOnNpZGViYXIyIg0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDQ0KT1HZXRUZW1wbGF0ZSgiQ0FDSEVfU0lERUJBUjIiKQ0KCQlhcnlUZW1wbGF0ZVN1Yk5hbWUoIDQ1KT0idGVtcGxhdGU6c2lkZWJhcjMiDQoJCWFyeVRlbXBsYXRlU3ViVmFsdWUoNDUpPUdldFRlbXBsYXRlKCJDQUNIRV9TSURFQkFSMyIpDQoJCWFyeVRlbXBsYXRlU3ViTmFtZSggNDYpPSJ0ZW1wbGF0ZTpzaWRlYmFyNCINCgkJYXJ5VGVtcGxhdGVTdWJWYWx1ZSg0Nik9R2V0VGVtcGxhdGUoIkNBQ0hFX1NJREVCQVI0IikNCgkJYXJ5VGVtcGxhdGVTdWJOYW1lKCA0Nyk9InRlbXBsYXRlOnNpZGViYXI1Ig0KCQlhcnlUZW1wbGF0ZVN1YlZhbHVlKDQ3KT1HZXRUZW1wbGF0ZSgiQ0FDSEVfU0lERUJBUjUiKQ0KDQoNCgkJJ3BsdWdpbiBub2RlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X1RlbXBsYXRlVGFncyhhcnlUZW1wbGF0ZVN1Yk5hbWUsYXJ5VGVtcGxhdGVTdWJWYWx1ZSkNCg0KCQlqPVVCb3VuZChhcnlUZW1wbGF0ZVN1Yk5hbWUpDQoJCUZvciBpPTAgdG8gag0KCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiAmIGFyeVRlbXBsYXRlU3ViTmFtZShpKSAmICIjPiIsYXJ5VGVtcGxhdGVTdWJWYWx1ZShpKSkNCgkJTmV4dA0KDQoNCg0KCQlEaW0gZGENCgkJU2V0IGRhPUNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkRpY3Rpb25hcnkiKQ0KDQoJCVNldCBSRSA9IE5ldyBSZWdFeHAgDQoJCVJFLklnbm9yZUNhc2UgPSBUcnVlIA0KCQlSRS5HbG9iYWwgPSBUcnVlIA0KDQoJCUlmIENhdGVnb3J5cyhpbnRDYXRlKS5QYXJlbnRJRD0wIFRoZW4NCgkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTphcnRpY2xlbGlzdF9jYXRlZ29yeV9wYXJlbnQ6YmVnaW4jPigufFxuKSo8I3RlbXBsYXRlOmFydGljbGVsaXN0X2NhdGVnb3J5X3BhcmVudDplbmQjPiINCgkJCWh0bWwgPSBSRS5SZXBsYWNlKGh0bWwsICIiKQ0KCQlFbHNlDQoJCQlodG1sPVJlcGxhY2UoaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlbGlzdF9jYXRlZ29yeV9wYXJlbnQ6YmVnaW4jPiIsIiIpDQoJCQlodG1sPVJlcGxhY2UoaHRtbCwiPCN0ZW1wbGF0ZTphcnRpY2xlbGlzdF9jYXRlZ29yeV9wYXJlbnQ6ZW5kIz4iLCIiKQ0KCQlFbmQgSWYNCgkJU2V0IFJFID0gTm90aGluZw0KDQoNCgkJU2V0IFJFID0gTmV3IFJlZ0V4cCANCgkJUkUuUGF0dGVybiA9ICI8I2FydGljbGVsaXN0LygoY2F0ZWdvcnkvbWV0YXxhdXRob3IvbWV0YSkvKFthLXowLTlfXXsxLH0pKSM+Ig0KCQlSRS5JZ25vcmVDYXNlID0gVHJ1ZSANCgkJUkUuR2xvYmFsID0gVHJ1ZSANCgkJU2V0IE1hdGNoZXMgPSBSRS5FeGVjdXRlKGh0bWwpIA0KCQlGb3IgRWFjaCBNYXRjaCBpbiBNYXRjaGVzDQoJCQlzPU1hdGNoLlN1Yk1hdGNoZXMoMCkNCgkJCUlmIGRhLkV4aXN0cyhzKT1GYWxzZSBUaGVuIGRhLmFkZCBzLHMNCgkJTmV4dA0KCQlTZXQgTWF0Y2hlcyA9IE5vdGhpbmcNCgkJU2V0IFJFID0gTm90aGluZw0KDQoJCXM9ZGEuSXRlbXMNCgkJRm9yIHQgPSAwIFRvIGRhLkNvdW50IC0xDQoJCQlJZiBJblN0cihzKHQpLCJjYXRlZ29yeS9tZXRhLyIpPjAgVGhlbg0KCQkJCXModCk9UmVwbGFjZShzKHQpLCJjYXRlZ29yeS9tZXRhLyIsIiIpDQoJCQkJSWYgTGlzdFR5cGU9IkNBVEVHT1JZIiBUaGVuDQoJCQkJCWh0bWwgPSBSZXBsYWNlKGh0bWwsIjwjYXJ0aWNsZWxpc3QvY2F0ZWdvcnkvbWV0YS8iICYgcyh0KSAmICIjPiIsQ2F0ZWdvcnlzKGludENhdGUpLk1ldGEuR2V0VmFsdWUocyh0KSkgKQ0KCQkJCUVsc2UNCgkJCQkJaHRtbCA9IFJlcGxhY2UoaHRtbCwiPCNhcnRpY2xlbGlzdC9jYXRlZ29yeS9tZXRhLyIgJiBzKHQpICYgIiM+IiwiIikNCgkJCQlFbmQgSWYNCgkJCUVsc2VJZiBJblN0cihzKHQpLCJhdXRob3IvbWV0YS8iKT4wIFRoZW4gDQoJCQkJcyh0KT1SZXBsYWNlKHModCksImF1dGhvci9tZXRhLyIsIiIpDQoJCQkJSWYgTGlzdFR5cGU9IlVTRVIiIFRoZW4NCgkJCQkJaHRtbCA9IFJlcGxhY2UoaHRtbCwiPCNhcnRpY2xlbGlzdC9hdXRob3IvbWV0YS8iICYgcyh0KSAmICIjPiIsVXNlcnMoaW50QXV0aG9yKS5NZXRhLkdldFZhbHVlKHModCkpICkNCgkJCQlFbHNlDQoJCQkJCWh0bWwgPSBSZXBsYWNlKGh0bWwsIjwjYXJ0aWNsZWxpc3QvYXV0aG9yL21ldGEvIiAmIHModCkgJiAiIz4iLCIiKQ0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCU5leHQNCg0KCQlVcmw9UmVwbGFjZShSZXBsYWNlKFVybCwiLy8iLCIvIiksIjovIiwiOi8vIiwxLDEpDQoNCgkJRXhwb3J0PVRydWUNCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydF9FbmQ9RmFsc2UNCgkJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydF9FbmQgaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0X0VuZA0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydF9FbmQpIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlTGlzdF9FeHBvcnRfRW5kKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydF9FbmQ9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KDQoJUHVibGljIEZ1bmN0aW9uIEJ1aWxkKCkNCg0KCQlEaW0gaSxqDQoNCgkJJ3BsdWdpbiBub2RlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQXJ0aWNsZUxpc3RfQnVpbGRfVGVtcGxhdGUoaHRtbCkNCg0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZQ0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUNCg0KCQlUZW1wbGF0ZVRhZ3NEaWMuSXRlbSgiQmxvZ1RpdGxlIik9SHRtbFRpdGxlDQoJCVRlbXBsYXRlVGFnc0RpYy5JdGVtKCJaQ19CTE9HX0hPU1QiKT1CbG9nSG9zdA0KDQoJCUlmIFRlbXBsYXRlX0NhbGVuZGFyPSIiIFRoZW4gVGVtcGxhdGVfQ2FsZW5kYXI9IjxzY3JpcHQgc3JjPSIiPCNaQ19CTE9HX0hPU1QjPnpiX3N5c3RlbS9mdW5jdGlvbi9jX2h0bWxfanMuYXNwP2RhdGU9bm93IiIgdHlwZT0iInRleHQvamF2YXNjcmlwdCIiPjwvc2NyaXB0PiINCg0KCQlJZiBaQ19NVUxUSV9ET01BSU5fU1VQUE9SVD1UcnVlIEFuZCBaQ19QRVJNQU5FTlRfRE9NQUlOX0VOQUJMRT1GYWxzZSBUaGVuDQoJCQlEaW0geCx5DQoJCQl4PUNTdHIoUmVwbGFjZShVcmwsQmxvZ0hvc3QsIiIpKQ0KCQkJeD1SZXBsYWNlKHgsIi8vLy8vIiwiLyIpOng9UmVwbGFjZSh4LCIvLy8vIiwiLyIpOng9UmVwbGFjZSh4LCIvLy8iLCIvIik6eD1SZXBsYWNlKHgsIi8vIiwiLyIpDQoJCQlGb3IgaT0xIFRvIFVCb3VuZChTcGxpdCh4LCIvIikpDQoJCQkJeT15ICYgIi4uLyINCgkJCU5leHQNCgkJCUlmIHk9IiIgVGhlbiB5PSIuLyINCgkJCVRlbXBsYXRlVGFnc0RpYy5JdGVtKCJaQ19CTE9HX0hPU1QiKT15DQoJCUVuZCBJZg0KDQoJCWFyeVRlbXBsYXRlVGFnc05hbWU9VGVtcGxhdGVUYWdzRGljLktleXMNCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWU9VGVtcGxhdGVUYWdzRGljLkl0ZW1zDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlTGlzdF9CdWlsZF9UZW1wbGF0ZVRhZ3MoYXJ5VGVtcGxhdGVUYWdzTmFtZSxhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSkNCg0KCQlEaW0gcyx0DQoJCWo9VUJvdW5kKGFyeVRlbXBsYXRlVGFnc05hbWUpDQoJCUZvciBpPTEgdG8gag0KCQkJSWYgKEluU3RyKGFyeVRlbXBsYXRlVGFnc05hbWUoaSksIkNBQ0hFX0lOQ0xVREVfIik+MCkgQW5kIChSaWdodChhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpLDUpPD4iX0hUTUwiKSBBbmQgKFJpZ2h0KGFyeVRlbXBsYXRlVGFnc05hbWUoaSksMyk8PiJfSlMiKSBUaGVuDQoJCQkJcz1zICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICJ8Ig0KCQkJRW5kIElmDQoJCQlJZiAoIjwjIiAmIGFyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAiIz4iPSI8I0NBQ0hFX0lOQ0xVREVfQ0FMRU5EQVIjPiIpIE9yICgiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiI9IjwjQ0FDSEVfSU5DTFVERV9DQUxFTkRBUl9KUyM+IikgT3IgKCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+Ij0iPCNDQUNIRV9JTkNMVURFX0NBTEVOREFSX05PVyM+IikgVGhlbg0KCQkJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpPVRlbXBsYXRlX0NhbGVuZGFyDQoJCQlFbmQgSWYNCgkJTmV4dA0KDQoJCUlmIElzRHluYW1pY0xvYWRTaWxkYmFyPVRydWUgVGhlbg0KCQkJRm9yIEVhY2ggdCBJbiBTcGxpdChzLCJ8IikNCgkJCQlJZiB0PSIiIFRoZW4gRXhpdCBGb3INCgkJCQlJZiB0PD4iQ0FDSEVfSU5DTFVERV9OQVZCQVIiIFRoZW4NCgkJCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiZ0JiIjPiIsIjwjIiZ0JiJfSlMjPiIpDQoJCQkJRW5kIElmDQoJCQlOZXh0DQoJCUVuZCBJZg0KDQoJCWo9VUJvdW5kKGFyeVRlbXBsYXRlVGFnc05hbWUpDQoJCUZvciBpPTEgdG8gag0KCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiAmIGFyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAiIz4iLGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpKQ0KCQlOZXh0DQoJCWh0bWw9UmVwbGFjZShodG1sLCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKDApICYgIiM+IixhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgwKSkNCg0KCQkncGx1Z2luIG5vZGUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RBcnRpY2xlTGlzdF9CdWlsZF9UZW1wbGF0ZV9TdWNjZWVkKGh0bWwpDQoNCgkJQnVpbGQ9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBFeHBvcnRCYXIoaW50Tm93UGFnZSxpbnRBbGxQYWdlKQ0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0QmFyX0JlZ2luPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlTGlzdF9FeHBvcnRCYXJfQmVnaW4gaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0QmFyX0JlZ2luDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0QmFyX0JlZ2luKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0QmFyX0JlZ2luKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydEJhcl9CZWdpbj1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlOZXh0DQoNCgkJRGltIGkNCgkJRGltIHMNCgkJRGltIHQNCgkJRGltIHN0clBhZ2VCYXINCg0KCQl0PVVybA0KDQoJCURpbSBRdWVyeVNwbGl0DQoJCVF1ZXJ5U3BsaXQ9SUlmKEluU3RyKHQsIj8iKT4wLCImIiwiPyIpDQoNCgkJJ0lmIExpc3RUeXBlPSJDQVRFR09SWSIgT3IgTGlzdFR5cGU9IlVTRVIiIE9yIExpc3RUeXBlPSJEQVRFIiBPciBMaXN0VHlwZT0iVEFHUyIgVGhlbg0KCQkJSWYgWkNfU1RBVElDX01PREU9IkFDVElWRSIgVGhlbg0KCQkJCXQ9dCAmIFF1ZXJ5U3BsaXQgJiAicGFnZT0lbiINCgkJCUVuZCBJZg0KCQkJSWYgWkNfU1RBVElDX01PREU9IlJFV1JJVEUiIFRoZW4NCgkJCQlJZiBJblN0cih0LCIvZGVmYXVsdC5odG1sIik+MCBUaGVuDQoJCQkJCUlmIExpc3RUeXBlPSJERUZBVUxUIiBUaGVuIA0KCQkJCQkJdD1SZXBsYWNlKHQsIi9kZWZhdWx0Lmh0bWwiLCIvZGVmYXVsdF8lbi5odG1sIikNCgkJCQkJRWxzZSANCgkJCQkJCXQ9UmVwbGFjZSh0LCIvZGVmYXVsdC5odG1sIiwiXyVuL2RlZmF1bHQuaHRtbCIpDQoJCQkJCUVuZCBJZiANCgkJCQlFbHNlDQoJCQkJCXQ9UmVwbGFjZSh0LCIuaHRtbCIsIl8lbi5odG1sIikNCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KCQkJSWYgWkNfU1RBVElDX01PREU9Ik1JWCIgVGhlbg0KCQkJCXQ9TWl4VXJsDQoJCQkJdD10ICYgUXVlcnlTcGxpdCAmICJwYWdlPSVuIg0KCQkJRW5kIElmDQoJCSdFbmQgSWYNCg0KCQlJZiBpbnRBbGxQYWdlPjAgVGhlbg0KCQkJRGltIGEsYg0KDQoJCQlzPVJlcGxhY2UodCwiJW4iLDEpDQoJCQlJZiBMaXN0VHlwZT0iREVGQVVMVCIgVGhlbiBzPUJsb2dIb3N0DQoJCQlJZiAoTGlzdFR5cGU9IkNBVEVHT1JZIiBPciBMaXN0VHlwZT0iVVNFUiIgT3IgTGlzdFR5cGU9IkRBVEUiIE9yIExpc3RUeXBlPSJUQUdTIikgVGhlbiBzPVVybA0KCQkJSWYgWkNfU1RBVElDX01PREU9IlJFV1JJVEUiIFRoZW4gcz1SZXBsYWNlKHMsIi9kZWZhdWx0Lmh0bWwiLCIvIikNCg0KCQkJc3RyUGFnZUJhcj1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQl9QQUdFQkFSIikNCgkJCXN0clBhZ2VCYXI9UmVwbGFjZShzdHJQYWdlQmFyLCI8I3BhZ2ViYXIvcGFnZS91cmwjPiIscykNCgkJCXN0clBhZ2VCYXI9UmVwbGFjZShzdHJQYWdlQmFyLCI8I3BhZ2ViYXIvcGFnZS9udW1iZXIjPiIsIjxzcGFuIGNsYXNzPSIicGFnZSBmaXJzdC1wYWdlIiI+IiZaQ19NU0cyMzUmIjwvc3Bhbj4iKQ0KCQkJVGVtcGxhdGVfUGFnZUJhcj1UZW1wbGF0ZV9QYWdlQmFyICYgc3RyUGFnZUJhcg0KDQoJCQlJZiBpbnRBbGxQYWdlPlpDX1BBR0VCQVJfQ09VTlQgVGhlbg0KCQkJCWE9aW50Tm93UGFnZQ0KCQkJCWI9aW50Tm93UGFnZStaQ19QQUdFQkFSX0NPVU5ULTENCgkJCQlJZiBhPlpDX1BBR0VCQVJfQ09VTlQgVGhlbiBhPWEtMTpiPWItMQ0KCQkJCUlmIGI+aW50QWxsUGFnZSBUaGVuIGI9aW50QWxsUGFnZTphPWludEFsbFBhZ2UtWkNfUEFHRUJBUl9DT1VOVCsxDQoJCQlFbHNlDQoJCQkJYT0xOmI9aW50QWxsUGFnZQ0KCQkJRW5kIElmDQoJCQlGb3IgaT1hIHRvIGINCg0KCQkJCXM9UmVwbGFjZSh0LCIlbiIsaSkNCgkJCQlJZiBMaXN0VHlwZT0iREVGQVVMVCIgQW5kIGk9MSBUaGVuIHM9QmxvZ0hvc3QNCgkJCQlJZiAoTGlzdFR5cGU9IkNBVEVHT1JZIiBPciBMaXN0VHlwZT0iVVNFUiIgT3IgTGlzdFR5cGU9IkRBVEUiIE9yIExpc3RUeXBlPSJUQUdTIikgQW5kIGk9MSBUaGVuIHM9VXJsDQoJCQkJSWYgWkNfU1RBVElDX01PREU9IlJFV1JJVEUiIFRoZW4gcz1SZXBsYWNlKHMsIi9kZWZhdWx0Lmh0bWwiLCIvIikNCg0KCQkJCXN0clBhZ2VCYXI9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfUEFHRUJBUiIpDQoJCQkJSWYgaT1pbnROb3dQYWdlIHRoZW4NCgkJCQkJVGVtcGxhdGVfUGFnZUJhcj1UZW1wbGF0ZV9QYWdlQmFyICYgIjxzcGFuIGNsYXNzPSIicGFnZSBub3ctcGFnZSIiPiIgJiBpICYgIjwvc3Bhbj4iDQoJCQkJRWxzZQ0KCQkJCQlzdHJQYWdlQmFyPVJlcGxhY2Uoc3RyUGFnZUJhciwiPCNwYWdlYmFyL3BhZ2UvdXJsIz4iLHMpDQoJCQkJCXN0clBhZ2VCYXI9UmVwbGFjZShzdHJQYWdlQmFyLCI8I3BhZ2ViYXIvcGFnZS9udW1iZXIjPiIsIjxzcGFuIGNsYXNzPSIicGFnZSIiPiImaSYiPC9zcGFuPiIpDQoJCQkJCVRlbXBsYXRlX1BhZ2VCYXI9VGVtcGxhdGVfUGFnZUJhciAmIHN0clBhZ2VCYXINCgkJCQlFbmQgSWYNCg0KCQkJTmV4dA0KDQoJCQlzPVJlcGxhY2UodCwiJW4iLGludEFsbFBhZ2UpDQoJCQlJZiBMaXN0VHlwZT0iREVGQVVMVCIgQW5kIGludEFsbFBhZ2U9MSBUaGVuIHM9QmxvZ0hvc3QNCgkJCUlmIChMaXN0VHlwZT0iQ0FURUdPUlkiIE9yIExpc3RUeXBlPSJVU0VSIiBPciBMaXN0VHlwZT0iREFURSIgT3IgTGlzdFR5cGU9IlRBR1MiKSBBbmQgaW50QWxsUGFnZT0xIFRoZW4gcz1VcmwNCgkJCUlmIFpDX1NUQVRJQ19NT0RFPSJSRVdSSVRFIiBUaGVuIHM9UmVwbGFjZShzLCIvZGVmYXVsdC5odG1sIiwiLyIpDQoNCgkJCXN0clBhZ2VCYXI9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0JfUEFHRUJBUiIpDQoJCQlzdHJQYWdlQmFyPVJlcGxhY2Uoc3RyUGFnZUJhciwiPCNwYWdlYmFyL3BhZ2UvdXJsIz4iLHMpDQoJCQlzdHJQYWdlQmFyPVJlcGxhY2Uoc3RyUGFnZUJhciwiPCNwYWdlYmFyL3BhZ2UvbnVtYmVyIz4iLCI8c3BhbiBjbGFzcz0iInBhZ2UgbGFzdC1wYWdlIiI+IiZaQ19NU0cyMzYmIjwvc3Bhbj4iKQ0KCQkJVGVtcGxhdGVfUGFnZUJhcj1UZW1wbGF0ZV9QYWdlQmFyICYgc3RyUGFnZUJhcg0KDQoJCQlJZiBpbnROb3dQYWdlPTEgVGhlbg0KCQkJCVRlbXBsYXRlX1BhZ2VCYXJfUHJldmlvdXM9IiINCgkJCUVsc2UNCgkJCQlzPVJlcGxhY2UodCwiJW4iLGludE5vd1BhZ2UtMSkNCg0KCQkJCUlmIExpc3RUeXBlPSJERUZBVUxUIiBBbmQgaW50Tm93UGFnZS0xPTEgVGhlbiBzPUJsb2dIb3N0DQoJCQkJSWYgKExpc3RUeXBlPSJDQVRFR09SWSIgT3IgTGlzdFR5cGU9IlVTRVIiIE9yIExpc3RUeXBlPSJEQVRFIiBPciBMaXN0VHlwZT0iVEFHUyIpIEFuZCBpbnROb3dQYWdlLTE9MSBUaGVuIHM9VXJsDQoJCQkJSWYgWkNfU1RBVElDX01PREU9IlJFV1JJVEUiIFRoZW4gcz1SZXBsYWNlKHMsIi9kZWZhdWx0Lmh0bWwiLCIvIikNCg0KCQkJCVRlbXBsYXRlX1BhZ2VCYXJfUHJldmlvdXM9IjxzcGFuIGNsYXNzPSIicGFnZWJhci1wcmV2aW91cyIiPjxhIGhyZWY9IiIiJiBzICYiIiI+PHNwYW4+IiZaQ19NU0cxNTYmIjwvc3Bhbj48L2E+PC9zcGFuPiINCg0KCQkJRW5kIElmDQoNCgkJCUlmIGludE5vd1BhZ2U9aW50QWxsUGFnZSBUaGVuDQoJCQkJVGVtcGxhdGVfUGFnZUJhcl9OZXh0PSIiDQoJCQlFbHNlDQoJCQkJcz1SZXBsYWNlKHQsIiVuIixpbnROb3dQYWdlKzEpDQoJCQkJSWYgWkNfU1RBVElDX01PREU9IlJFV1JJVEUiIFRoZW4gcz1SZXBsYWNlKHMsIi9kZWZhdWx0Lmh0bWwiLCIvIikNCgkJCQlUZW1wbGF0ZV9QYWdlQmFyX05leHQ9IjxzcGFuIGNsYXNzPSIicGFnZWJhci1uZXh0IiI+PGEgaHJlZj0iIiImIHMgJiIiIj48c3Bhbj4iJlpDX01TRzE1NSYiPC9zcGFuPjwvYT48L3NwYW4+Ig0KCQkJRW5kIElmDQoNCgkJRW5kIElmDQoNCgkJRXhwb3J0QmFyPVRydWUNCg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydEJhcl9FbmQ9RmFsc2UNCgkJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydEJhcl9FbmQgaW4gQWN0aW9uX1BsdWdpbl9UQXJ0aWNsZUxpc3RfRXhwb3J0QmFyX0VuZA0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydEJhcl9FbmQpIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX1RBcnRpY2xlTGlzdF9FeHBvcnRCYXJfRW5kKQ0KCQkJSWYgYkFjdGlvbl9QbHVnaW5fVEFydGljbGVMaXN0X0V4cG9ydEJhcl9FbmQ9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJTmV4dA0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIFNldFZhcihUZW1wbGF0ZVRhZyxUZW1wbGF0ZVZhbHVlKQ0KDQoJCUlmIElzRW1wdHkoaHRtbCkgVGhlbiBodG1sPVRlbXBsYXRlDQoNCgkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiAmIFRlbXBsYXRlVGFnICYgIiM+IixUZW1wbGF0ZVZhbHVlKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIFNhdmUoKQ0KDQoJCWh0bWw9VHJhbnNmZXJIVE1MKGh0bWwsIltuby1hc3BdIikNCgkJSWYgWkNfU1RBVElDX1RZUEU9ImFzcCIgVGhlbg0KCQkJaHRtbD0iPCImIiVAIENPREVQQUdFPTY1MDAxICUiJiI+IiAmIGh0bWwNCgkJRW5kIElmDQoNCgkJQ2FsbCBDcmVhdERpcmVjdG9yeUJ5Q3VzdG9tRGlyZWN0b3J5V2l0aEZ1bGxCbG9nUGF0aChGdWxsUGF0aCkNCg0KCQlDYWxsIFNhdmVUb0ZpbGUoRnVsbFBhdGgsaHRtbCwidXRmLTgiLEZhbHNlKQ0KDQoJCVNhdmU9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIFNhdmVDYWNoZSgpDQoJRW5kIEZ1bmN0aW9uDQoNCglGdW5jdGlvbiBMb2FkQ2FjaGUoKQ0KCUVuZCBGdW5jdGlvbg0KDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCg0KCQlJc0R5bmFtaWNMb2FkU2lsZGJhcj1GYWxzZQ0KCQlMaXN0VHlwZT0iREVGQVVMVCInQ0FURUdPUlknVVNFUidEQVRFJ1RBR1MNCgkJJ2lzQ2F0YWxvZz1GYWxzZQ0KDQoJRW5kIFN1Yg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVFVzZXLnsbsNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUVXNlcg0KDQoJUHVibGljIElEDQoJUHVibGljIExldmVsDQoJUHVibGljIE5hbWUNCglQdWJsaWMgUGFzc3dvcmQNCglQdWJsaWMgQWxpYXMNCg0KCVB1YmxpYyBTZXgNCglQdWJsaWMgRW1haWwNCglQdWJsaWMgTVNODQoJUHVibGljIFFRDQoJUHVibGljIEhvbWVQYWdlDQoJUHVibGljIEludHJvDQoNCglQdWJsaWMgQ291bnQNCg0KCVB1YmxpYyBMYXN0VmlzaXRUaW1lDQoJUHVibGljIExhc3RWaXNpdElQDQoNCglQdWJsaWMgTWV0YQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBNZXRhU3RyaW5nDQoJCU1ldGFTdHJpbmc9TWV0YS5TYXZlU3RyaW5nDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBNZXRhU3RyaW5nKHMpDQoJCU1ldGEuTG9hZFN0cmluZz1zDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgaHRtbA0KDQoJUHVibGljIFByb3BlcnR5IEdldCBMZXZlbE5hbWUNCgkJTGV2ZWxOYW1lPVpWQV9Vc2VyX0xldmVsX05hbWUoTGV2ZWwpDQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZmdWxscmVnZXgNCglQdWJsaWMgUHJvcGVydHkgTGV0IEZ1bGxSZWdleChzKQ0KCQlGZnVsbHJlZ2V4PXMNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZ1bGxSZWdleA0KCQlJZiBGZnVsbHJlZ2V4PD4iIiBUaGVuIA0KCQkJRnVsbFJlZ2V4PUZmdWxscmVnZXgNCgkJRWxzZQ0KCQkJRnVsbFJlZ2V4PVpDX1VTRVJfUkVHRVgNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgRnVsbFVybA0KCVB1YmxpYyBUZW1wbGF0ZU5hbWUNCg0KDQoJUHJpdmF0ZSBGdGVtcGxhdGUNCglQdWJsaWMgUHJvcGVydHkgTGV0IFRlbXBsYXRlKHN0ckZpbGVOYW1lKQ0KCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFXyIgJiBzdHJGaWxlTmFtZSkNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgR2V0IFRlbXBsYXRlDQoJCUlmIEZ0ZW1wbGF0ZTw+IiIgVGhlbg0KCQkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCgkJCUV4aXQgUHJvcGVydHkNCgkJRWxzZQ0KCQkJSWYgVGVtcGxhdGVOYW1lPD4iIiBUaGVuDQoJCQkJRGltIHMNCgkJCQlzPUdldFRlbXBsYXRlKCJURU1QTEFURV8iICZUZW1wbGF0ZU5hbWUpDQoJCQkJSWYgczw+IiIgVGhlbg0KCQkJCQlGdGVtcGxhdGUgPSBzDQoJCQkJRWxzZQ0KCQkJCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0NBVEFMT0ciKQ0KCQkJCUVuZCBJZg0KCQkJRWxzZQ0KCQkJCUZ0ZW1wbGF0ZT1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQ0FUQUxPRyIpDQoJCQlFbmQgSWYNCgkJCVRlbXBsYXRlID0gRnRlbXBsYXRlDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0RGVmYXVsdFRlbXBsYXRlTmFtZQ0KCQlJZiBUZW1wbGF0ZU5hbWU8PiIiIFRoZW4NCgkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9VGVtcGxhdGVOYW1lDQoJCUVsc2UNCgkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9IkNBVEFMT0ciDQoJCUVuZCBJZg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZ1bGxQYXRoDQoJCUZ1bGxQYXRoPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yUGF0aChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixJRCxOYW1lLFN0YXRpY05hbWUpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFVybA0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UVXNlcl9Vcmw9RmFsc2UNCgkJRm9yIEVhY2ggc0FjdGlvbl9QbHVnaW5fVFVzZXJfVXJsIGluIEFjdGlvbl9QbHVnaW5fVFVzZXJfVXJsDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UVXNlcl9VcmwpIFRoZW4gQ2FsbCBFeGVjdXRlKHNBY3Rpb25fUGx1Z2luX1RVc2VyX1VybCkNCgkJCUlmIGJBY3Rpb25fUGx1Z2luX1RVc2VyX1VybD1UcnVlIFRoZW4gRXhpdCBQcm9wZXJ0eQ0KCQlOZXh0DQoNCgkJVXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixJRCxOYW1lLFN0YXRpY05hbWUpDQoJCUlmIFJpZ2h0KFVybCwxMik9ImRlZmF1bHQuaHRtbCIgVGhlbiBVcmw9TGVmdChVcmwsTGVuKFVybCktMTIpDQoNCgkJVXJsPVJlcGxhY2UoUmVwbGFjZShVcmwsIi8vIiwiLyIpLCI6LyIsIjovLyIsMSwxKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVXNlcl9VcmwoVXJsKQ0KDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZpcnN0TmFtZQ0KCQlGaXJzdE5hbWU9SUlmKExldmVsPTUsTmFtZSxJSWYoQWxpYXM9IiIsTmFtZSxBbGlhcykpDQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZ1bmN0aW9uIEdldEF2YXRhcg0KCSAgSWYgTm90IElzT2JqZWN0KFB1YmxpY09iakZTTykgVGhlbiBTZXQgUHVibGljT2JqRlNPPVNlcnZlci5DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5GaWxlU3lzdGVtT2JqZWN0IikNCgkgIElmIChQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vycy9hdmF0YXIvIiZJRCYiLnBuZyIpKSBUaGVuDQoJCUdldEF2YXRhcj1CbG9nSG9zdCAmICJ6Yl91c2Vycy9hdmF0YXIvIiZJRCYiLnBuZyINCgkgIEVsc2UNCgkJR2V0QXZhdGFyPUJsb2dIb3N0ICYgInpiX3VzZXJzL2F2YXRhci8wLnBuZyINCgkgIEVuZCBJZg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEF2YXRhcg0KDQoJCUF2YXRhcj1HZXRBdmF0YXINCgkJDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEh0bWxVcmwNCgkJSHRtbFVybD1UcmFuc2ZlckhUTUwoVXJsLCJbaHRtbC1mb3JtYXRdIikNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgUnNzVXJsDQoJCVJzc1VybCA9IEJsb2dIb3N0ICYgImZlZWQuYXNwP2F1dGg9IiAmIElEDQoJRW5kIFByb3BlcnR5DQoNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgU3RhdGljTmFtZQ0KCQlJZiBJc051bGwoQWxpYXMpIE9yIElzRW1wdHkoQWxpYXMpIE9yIEFsaWFzPSIiIFRoZW4NCgkJCVN0YXRpY05hbWUgPSBOYW1lDQoJCUVsc2UNCgkJCVN0YXRpY05hbWUgPSBBbGlhcw0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCg0KDQoJUHJpdmF0ZSBGRW1haWxNRDUNCglQdWJsaWMgUHJvcGVydHkgR2V0IEVtYWlsTUQ1DQoJCUlmIEZFbWFpbE1ENT0iIiBUaGVuDQoJCQlJZiBFbWFpbD0iIiBPciBJc051bGwoRW1haWwpPVRydWUgVGhlbg0KCQkJCUZFbWFpbE1ENT0iIg0KCQkJRWxzZQ0KCQkJCUZFbWFpbE1ENT1NRDUoRW1haWwpDQoJCQlFbmQgSWYNCgkJRW5kIElmDQoJCUVtYWlsTUQ1PUZFbWFpbE1ENQ0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQcml2YXRlIEZMb2dpblR5cGUNCglQdWJsaWMgUHJvcGVydHkgTGV0IExvZ2luVHlwZShzdHJMb2dpblR5cGUpDQoJCQlGTG9naW5UeXBlPXN0ckxvZ2luVHlwZQ0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgTG9naW5UeXBlDQoJCQlMb2dpblR5cGUgPSBGTG9naW5UeXBlDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUmVDb3VudA0KCVB1YmxpYyBFeElEDQoNCg0KCVByaXZhdGUgRkd1aWQNCglQdWJsaWMgUHJvcGVydHkgR2V0IEd1aWQNCgkJSWYgRkd1aWQ9IiIgVGhlbg0KCQkJRkd1aWQ9Um5kR3VpZCgpDQoJCQlJZiBJRD4wIFRoZW4NCgkJCQlGR3VpZD1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbbWVtX0d1aWRdIEZST00gW2Jsb2dfTWVtYmVyXSBXSEVSRSBbbWVtX0lEXT0iJklEKSgwKQ0KCQkJRW5kIElmDQoJCUVuZCBJZg0KCQlHdWlkPUZHdWlkDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgRnVuY3Rpb24gQ3JlYXRlUGFzc3dvcmRCeU9yaWdpbmFsKE9yaWdpbmFQYXNzd29yZCkNCgkJQ3JlYXRlUGFzc3dvcmRCeU9yaWdpbmFsPU1ENShNRDUoT3JpZ2luYVBhc3N3b3JkKSAmIEd1aWQpDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0UGFzc3dvcmRCeU9yaWdpbmFsKE9yaWdpbmFQYXNzd29yZCkNCg0KCQlEaW0gb2JqUlMNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFttZW1fR3VpZF0gRlJPTSBbYmxvZ19NZW1iZXJdIFdIRVJFIFttZW1fTmFtZV09JyImTmFtZSAmICInIiApDQoJCUlmIChOb3Qgb2JqUlMuQm9mKSBBbmQgKE5vdCBvYmpSUy5Fb2YpIFRoZW4NCgkJCUdldFBhc3N3b3JkQnlPcmlnaW5hbD1NRDUoTUQ1KE9yaWdpbmFQYXNzd29yZCkgJiBvYmpSUygibWVtX0d1aWQiKSkNCgkJRW5kIElmDQoNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0UGFzc3dvcmRCeU1ENShNZDVQYXNzd29yZCkNCg0KCQlEaW0gb2JqUlMNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFttZW1fR3VpZF0gRlJPTSBbYmxvZ19NZW1iZXJdIFdIRVJFIFttZW1fTmFtZV09JyImTmFtZSAmICInIiApDQoJCUlmIChOb3Qgb2JqUlMuQm9mKSBBbmQgKE5vdCBvYmpSUy5Fb2YpIFRoZW4NCgkJCUdldFBhc3N3b3JkQnlNRDU9TUQ1KE1kNVBhc3N3b3JkICYgb2JqUlMoIm1lbV9HdWlkIikpDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFZlcmlmeSgpDQoJCURpbSBzdHJVc2VyTmFtZQ0KCQlEaW0gc3RyUGFzc1dvcmQNCg0KCQlJZiBMb2dpblR5cGU9IkNvb2tpZXMiIFRoZW4NCgkJCXN0clBhc3NXb3JkPVJlcXVlc3QuQ29va2llcygicGFzc3dvcmQiKQ0KCQkJSWYgKHN0clBhc3NXb3JkPSIiKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJCXN0clVzZXJOYW1lPXZic3VuZXNjYXBlKFJlcXVlc3QuQ29va2llcygidXNlcm5hbWUiKSkNCgkJCUlmIChzdHJVc2VyTmFtZT0iIikgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCUVsc2VJZiBMb2dpblR5cGU9IkZvcm0iIFRoZW4NCgkJCXN0clBhc3NXb3JkPVJlcXVlc3QuRm9ybSgicGFzc3dvcmQiKQ0KCQkJSWYgKHN0clBhc3NXb3JkPSIiKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJCXN0clVzZXJOYW1lPVJlcXVlc3QuRm9ybSgidXNlcm5hbWUiKQ0KCQkJSWYgKHN0clVzZXJOYW1lPSIiKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJRWxzZUlmIExvZ2luVHlwZT0iUXVlcnlTdHJpbmciIFRoZW4NCgkJCXN0clBhc3NXb3JkPVJlcXVlc3QuUXVlcnlTdHJpbmcoInBhc3N3b3JkIikNCgkJCUlmIChzdHJQYXNzV29yZD0iIikgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCQlzdHJVc2VyTmFtZT1SZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJ1c2VybmFtZSIpDQoJCQlJZiAoc3RyVXNlck5hbWU9IiIpIFRoZW4gRXhpdCBGdW5jdGlvbg0KCQlFbHNlSWYgTG9naW5UeXBlPSJTZWxmIiBUaGVuDQoJCQlzdHJQYXNzV29yZD1QYXNzd29yZA0KCQkJSWYgKHN0clBhc3NXb3JkPSIiKSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJCXN0clVzZXJOYW1lPU5hbWUNCgkJCUlmIChzdHJVc2VyTmFtZT0iIikgVGhlbiBFeGl0IEZ1bmN0aW9uDQoJCUVsc2UNCgkJCUV4aXQgRnVuY3Rpb24NCgkJRW5kIElmDQoNCg0KCQlJZiBTZXNzaW9uKFpDX0JMT0dfQ0xTSUQgJiAicXVpY2tsb2dpbiIpPU1ENShNb250aChOb3cpICYgRGF5KE5vdykgJiBaQ19CTE9HX0NMU0lEICYgc3RyVXNlck5hbWUgJiBzdHJQYXNzV29yZCkgVGhlbg0KCQkJSWYgTG9hZEluZm9ieUFycmF5KEFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiUVVJQ0tMT0dJTl9JRCIgJiBTZXNzaW9uKFpDX0JMT0dfQ0xTSUQgJiAicXVpY2tsb2dpbl9pZCIpKSkgVGhlbg0KCQkJCVZlcmlmeT1UcnVlDQoJCQkJRXhpdCBGdW5jdGlvbg0KCQkJRW5kIElmDQoJCUVuZCBJZg0KDQoJCSfmoKHmo4ANCgkJJ0lmIExlbihzdHJVc2VyTmFtZSkgPlpDX1VTRVJOQU1FX01BWCBUaGVuIENhbGwgU2hvd0Vycm9yKDcpDQoJCSdJZiBMZW4oc3RyUGFzc1dvcmQpPD4zMiBUaGVuIENhbGwgU2hvd0Vycm9yKDU1KQ0KCQknSWYgTm90IENoZWNrUmVnRXhwKHN0clVzZXJOYW1lLCJbdXNlcm5hbWVdIikgVGhlbiBDYWxsIFNob3dFcnJvcig3KQ0KDQoJCXN0clVzZXJOYW1lPUZpbHRlclNRTChzdHJVc2VyTmFtZSkNCgkJc3RyUGFzc1dvcmQ9RmlsdGVyU1FMKHN0clBhc3NXb3JkKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgKiBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9OYW1lXT0nIiZzdHJVc2VyTmFtZSAmICInIikNCgkJSWYgKE5vdCBvYmpSUy5Cb2YpIEFuZCAoTm90IG9ialJTLkVvZikgVGhlbg0KDQoJCQlJZiBTdHJDb21wKHN0clBhc3NXb3JkLG9ialJTKCJtZW1fUGFzc3dvcmQiKSk9MCBUaGVuDQoNCgkJCQlDYWxsIExvYWRJbmZvYnlJRChvYmpSUygibWVtX0lEIikpDQoNCgkJCQlTZXNzaW9uKFpDX0JMT0dfQ0xTSUQgJiAicXVpY2tsb2dpbiIpPU1ENShNb250aChOb3cpICYgRGF5KE5vdykgJiBaQ19CTE9HX0NMU0lEICYgc3RyVXNlck5hbWUgJiBzdHJQYXNzV29yZCkNCgkJCQlTZXNzaW9uKFpDX0JMT0dfQ0xTSUQgJiAicXVpY2tsb2dpbl9pZCIpPUlEDQoJCQkJQXBwbGljYXRpb24uTG9jaw0KCQkJCUFwcGxpY2F0aW9uKFpDX0JMT0dfQ0xTSUQgJiAiUVVJQ0tMT0dJTl9JRCIgJiBJRCk9QXJyYXkoSUQsTmFtZSxMZXZlbCxQYXNzd29yZCxFbWFpbCxIb21lUGFnZSxDb3VudCxBbGlhcyxUZW1wbGF0ZU5hbWUsRnVsbFVybCxJbnRybyxNZXRhU3RyaW5nKQ0KCQkJCUFwcGxpY2F0aW9uLlVuTG9jaw0KDQoJCQkJVmVyaWZ5PVRydWUNCgkJCUVsc2UNCgkJCQknSWYgTG9naW5UeXBlPSJDb29raWVzIiBUaGVuIFJlc3BvbnNlLkNvb2tpZXMoInBhc3N3b3JkIik9IiINCgkJCUVuZCBJZg0KCQlFbHNlDQoJCQknSWYgTG9naW5UeXBlPSJDb29raWVzIiBUaGVuIFJlc3BvbnNlLkNvb2tpZXMoInBhc3N3b3JkIik9IiINCgkJRW5kIElmDQoNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglGdW5jdGlvbiBMb2FkSW5mb2J5SUQodXNlcl9JRCkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKHVzZXJfSUQsImludCIsMCkNCg0KCQlEaW0gb2JqUlMNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFttZW1fSURdLFttZW1fTmFtZV0sW21lbV9MZXZlbF0sW21lbV9QYXNzd29yZF0sW21lbV9FbWFpbF0sW21lbV9Ib21lUGFnZV0sW21lbV9Qb3N0TG9nc10sW21lbV9JbnRyb10sW21lbV9UZW1wbGF0ZV0sW21lbV9GdWxsVXJsXSxbbWVtX1VybF0sW21lbV9NZXRhXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9JRF09IiAmIHVzZXJfSUQpDQoJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCQkJSUQ9b2JqUlMoIm1lbV9JRCIpDQoJCQlOYW1lPW9ialJTKCJtZW1fTmFtZSIpDQoJCQlMZXZlbD1vYmpSUygibWVtX0xldmVsIikNCgkJCVBhc3N3b3JkPW9ialJTKCJtZW1fUGFzc3dvcmQiKQ0KCQkJRW1haWw9b2JqUlMoIm1lbV9FbWFpbCIpDQoJCQlIb21lUGFnZT1vYmpSUygibWVtX0hvbWVQYWdlIikNCgkJCUNvdW50PW9ialJTKCJtZW1fUG9zdExvZ3MiKQ0KCQkJQWxpYXM9b2JqUlMoIm1lbV9VcmwiKQ0KCQkJVGVtcGxhdGVOYW1lPW9ialJTKCJtZW1fVGVtcGxhdGUiKQ0KCQkJRnVsbFVybD1vYmpSUygibWVtX0Z1bGxVcmwiKQ0KCQkJSW50cm89b2JqUlMoIm1lbV9JbnRybyIpDQoJCQlNZXRhU3RyaW5nPW9ialJTKCJtZW1fTWV0YSIpDQoNCgkJCUlmIElzTnVsbChFbWFpbCkgT3IgSXNFbXB0eShFbWFpbCkgT3IgTGVuKEVtYWlsKT0wIFRoZW4gRW1haWw9Im51bGxAbnVsbC5jb20iDQoJCQlJZiBJc051bGwoSG9tZVBhZ2UpIFRoZW4gSG9tZVBhZ2U9IiINCgkJCUlmIElzTnVsbChBbGlhcykgVGhlbiBBbGlhcz0iIg0KCQkJSWYgSXNOdWxsKFRlbXBsYXRlTmFtZSkgVGhlbiBUZW1wbGF0ZU5hbWU9IiINCg0KCQkJTG9hZEluZm9ieUlEPVRydWUNCgkJRW5kIElmDQoNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVXNlcl9Mb2FkSW5mb2J5SUQoSUQsTmFtZSxMZXZlbCxQYXNzd29yZCxFbWFpbCxIb21lUGFnZSxDb3VudCxBbGlhcyxUZW1wbGF0ZU5hbWUsRnVsbFVybCxJbnRybyxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBMb2FkSW5mb0J5QXJyYXkoYXJ5VXNlckluZm8pDQoNCgkJSWYgSXNBcnJheShhcnlVc2VySW5mbyk9VHJ1ZSBUaGVuDQoNCgkJCUlEPWFyeVVzZXJJbmZvKDApDQoJCQlOYW1lPWFyeVVzZXJJbmZvKDEpDQoJCQlMZXZlbD1hcnlVc2VySW5mbygyKQ0KCQkJUGFzc3dvcmQ9YXJ5VXNlckluZm8oMykNCgkJCUVtYWlsPWFyeVVzZXJJbmZvKDQpDQoJCQlIb21lUGFnZT1hcnlVc2VySW5mbyg1KQ0KCQkJQ291bnQ9YXJ5VXNlckluZm8oNikNCgkJCUFsaWFzPWFyeVVzZXJJbmZvKDcpDQoJCQlUZW1wbGF0ZU5hbWU9YXJ5VXNlckluZm8oOCkNCgkJCUZ1bGxVcmw9YXJ5VXNlckluZm8oOSkNCgkJCUludHJvPWFyeVVzZXJJbmZvKDEwKQ0KCQkJTWV0YVN0cmluZz1hcnlVc2VySW5mbygxMSkNCg0KCQkJSWYgSXNOdWxsKEVtYWlsKSBPciBJc0VtcHR5KEVtYWlsKSBPciBMZW4oRW1haWwpPTAgVGhlbiBFbWFpbD0iYUBiLmNvbSINCgkJCUlmIElzTnVsbChIb21lUGFnZSkgVGhlbiBIb21lUGFnZT0iIg0KCQkJSWYgSXNOdWxsKEFsaWFzKSBUaGVuIEFsaWFzPSIiDQoJCQlJZiBJc051bGwoVGVtcGxhdGVOYW1lKSBUaGVuIFRlbXBsYXRlTmFtZT0iIg0KDQoJCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQkJDQoNCgkJRW5kIElmDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RVc2VyX0xvYWRJbmZvQnlBcnJheShJRCxOYW1lLExldmVsLFBhc3N3b3JkLEVtYWlsLEhvbWVQYWdlLENvdW50LEFsaWFzLFRlbXBsYXRlTmFtZSxGdWxsVXJsLEludHJvLE1ldGFTdHJpbmcpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJRnVuY3Rpb24gRWRpdChjdXJyZW50VXNlcikNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFVzZXJfRWRpdChJRCxOYW1lLExldmVsLFBhc3N3b3JkLEVtYWlsLEhvbWVQYWdlLENvdW50LEFsaWFzLFRlbXBsYXRlTmFtZSxGdWxsVXJsLEludHJvLE1ldGFTdHJpbmcsY3VycmVudFVzZXIpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJRCwiaW50IiwwKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKExldmVsLCJpbnQiLDApDQoNCgkJSWYgKChMZXZlbDwxKSBPciAoTGV2ZWw+NSkpIFRoZW4gQ2FsbCBTaG93RXJyb3IoMTYpDQoJCUlmIChOYW1lPSIiKSBUaGVuIENhbGwgU2hvd0Vycm9yKDcpDQoJCUlmIExlbihOYW1lKSA+WkNfVVNFUk5BTUVfTUFYIFRoZW4gQ2FsbCBTaG93RXJyb3IoNykNCgkJSWYgTm90IENoZWNrUmVnRXhwKE5hbWUsIlt1c2VybmFtZV0iKSBUaGVuIENhbGwgU2hvd0Vycm9yKDcpDQoNCgkJRW1haWw9RmlsdGVyU1FMKEVtYWlsKQ0KCQlIb21lUGFnZT1GaWx0ZXJTUUwoSG9tZVBhZ2UpDQoNCgkJRW1haWw9VHJhbnNmZXJIVE1MKEVtYWlsLCJbaHRtbC1mb3JtYXRdIikNCgkJSG9tZVBhZ2U9VHJhbnNmZXJIVE1MKEhvbWVQYWdlLCJbaHRtbC1mb3JtYXRdIikNCg0KCQlBbGlhcz1UcmFuc2ZlckhUTUwoQWxpYXMsIltkaXJlY3RvcnkmZmlsZV0iKQ0KCQlJZiBMZWZ0KEFsaWFzLDEpPSIvIiBUaGVuIEFsaWFzPVJpZ2h0KEFsaWFzLExlbihBbGlhcyktMSkNCgkJSWYgUmlnaHQoQWxpYXMsMSk9Ii8iIFRoZW4gQWxpYXM9TGVmdChBbGlhcyxMZW4oQWxpYXMpLTEpDQoJCUFsaWFzPUZpbHRlclNRTChBbGlhcykNCg0KCQlUZW1wbGF0ZU5hbWU9VUNhc2UoRmlsdGVyU1FMKFRlbXBsYXRlTmFtZSkpDQoJCUlmIFRlbXBsYXRlTmFtZT0iQ0FUQUxPRyIgVGhlbiBUZW1wbGF0ZU5hbWU9IiINCg0KCQlJZiBMZW4oRW1haWwpPTAgVGhlbiBDYWxsIFNob3dFcnJvcigyOSkNCgkJSWYgTGVuKEVtYWlsKT5aQ19FTUFJTF9NQVggVGhlbiBDYWxsIFNob3dFcnJvcigyOSkNCgkJSWYgTGVuKEhvbWVQYWdlKT5aQ19IT01FUEFHRV9NQVggVGhlbiBDYWxsIFNob3dFcnJvcigyOSkNCg0KCQlJZiBOb3QgQ2hlY2tSZWdFeHAoRW1haWwsIltlbWFpbF0iKSBUaGVuIENhbGwgU2hvd0Vycm9yKDI5KQ0KCQlJRiBMZW4oSG9tZVBhZ2UpPjAgVGhlbg0KCQkJSWYgTm90IENoZWNrUmVnRXhwKEhvbWVQYWdlLCJbaG9tZXBhZ2VdIikgVGhlbiBDYWxsIFNob3dFcnJvcigzMCkNCgkJRW5kIElmDQoNCgkJSW50cm89RmlsdGVyU1FMKEludHJvKQ0KDQoJCUlmIElEPTAgVGhlbg0KDQoJCQlJZiBMZXZlbCA8PSBjdXJyZW50VXNlci5MZXZlbCBUaGVuIFNob3dFcnJvcig2KQ0KCQkJSWYgTGVuKFBhc3NXb3JkKTw+MzIgVGhlbiBDYWxsIFNob3dFcnJvcig1NSkNCg0KCQkJRGltIG9ialJTMg0KCQkJU2V0IG9ialJTMiA9IG9iakNvbm4uZXhlY3V0ZSAoIlNFTEVDVCBbbWVtX2lkXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9OYW1lXT0nIiAmIE5hbWUgJiAiJyAiKQ0KCQkJSWYgKE5vdCBvYmpSUzIuYm9mKSBBbmQgKE5vdCBvYmpSUzIuZW9mKSBUaGVuDQoJCQkJQ2FsbCBTaG93RXJyb3IoNjIpDQoJCQlFbmQgSWYNCgkJCVNldCBvYmpSUzI9Tm90aGluZw0KDQoJCQlvYmpDb25uLkV4ZWN1dGUoIklOU0VSVCBJTlRPIFtibG9nX01lbWJlcl0oW21lbV9MZXZlbF0sW21lbV9OYW1lXSxbbWVtX1Bhc3NXb3JkXSxbbWVtX0VtYWlsXSxbbWVtX0hvbWVQYWdlXSxbbWVtX1VybF0sW21lbV9HdWlkXSxbbWVtX0ludHJvXSxbbWVtX1RlbXBsYXRlXSxbbWVtX01ldGFdKSBWQUxVRVMgKCImTGV2ZWwmIiwnIiZOYW1lJiInLCciJlBhc3NXb3JkJiInLCciJkVtYWlsJiInLCciJkhvbWVQYWdlJiInLCciJkFsaWFzJiInLCciJkd1aWQmIicsJyImSW50cm8mIicsJyImVGVtcGxhdGVOYW1lJiInLCciJk1ldGFTdHJpbmcmIicpIikNCgkJCQ0KCQkJRGltIG9ialJTDQoJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgTUFYKFttZW1fSURdKSBGUk9NIFtibG9nX01lbWJlcl0iKQ0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCUlEPW9ialJTKDApDQoJCQlFbmQgSWYNCgkJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJRWxzZQ0KDQoJCQlJZiAoSUQ9Y3VycmVudFVzZXIuSUQpIEFuZCAoTGV2ZWwgPD4gY3VycmVudFVzZXIuTGV2ZWwpIFRoZW4gU2hvd0Vycm9yKDYpDQoJCQlJZiAoSUQ8PmN1cnJlbnRVc2VyLklEKSBBbmQgKExldmVsIDw9IGN1cnJlbnRVc2VyLkxldmVsKSBUaGVuIFNob3dFcnJvcig2KQ0KDQoJCQlJZiBJRD4wIFRoZW4NCgkJCQlEaW0gb2JqUlMzDQoJCQkJU2V0IG9ialJTMyA9IG9iakNvbm4uZXhlY3V0ZSAoIlNFTEVDVCBbbWVtX2lkXSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9OYW1lXT0nIiAmIE5hbWUgJiAiJyBBTkQgW21lbV9JRF08PiIgJiBJRCkNCgkJCQlJZiAoTm90IG9ialJTMy5ib2YpIEFuZCAoTm90IG9ialJTMy5lb2YpIFRoZW4NCgkJCQkJQ2FsbCBTaG93RXJyb3IoNjIpDQoJCQkJRW5kIElmDQoJCQkJU2V0IG9ialJTMz1Ob3RoaW5nDQoJCQlFbmQgSWYNCg0KDQoJCQlEaW0gdGFyZ2V0VXNlcg0KCQkJU2V0IHRhcmdldFVzZXI9TmV3IFRVc2VyDQoJCQlJZiB0YXJnZXRVc2VyLkxvYWRJbmZvYnlJRChJRCkgVGhlbg0KDQoJCQkJSWYgTGVuKFBhc3NXb3JkKT0wIFRoZW4NCgkJCQkJUGFzc1dvcmQ9dGFyZ2V0VXNlci5QYXNzV29yZA0KCQkJCUVuZCBJZg0KDQoJCQkJSWYgTGVuKFBhc3NXb3JkKTw+MzIgVGhlbiBDYWxsIFNob3dFcnJvcig1NSkNCg0KCQkJCW9iakNvbm4uRXhlY3V0ZSgiVVBEQVRFIFtibG9nX01lbWJlcl0gU0VUIFttZW1fTGV2ZWxdPSImTGV2ZWwmIixbbWVtX05hbWVdPSciJk5hbWUmIicsW21lbV9QYXNzV29yZF09JyImUGFzc1dvcmQmIicsW21lbV9FbWFpbF09JyImRW1haWwmIicsW21lbV9Ib21lUGFnZV09JyImSG9tZVBhZ2UmIicsW21lbV9VcmxdPSciJkFsaWFzJiInLFttZW1fSW50cm9dPSciJkludHJvJiInLFttZW1fVGVtcGxhdGVdPSciJlRlbXBsYXRlTmFtZSYiJyxbbWVtX01ldGFdPSciJk1ldGFTdHJpbmcmIicgV0hFUkUgW21lbV9JRF09IiZJRCkNCg0KCQkJCUlmIE5hbWUgPD4gdGFyZ2V0VXNlci5OYW1lIFRoZW4NCgkJCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ29tbWVudF0gU0VUIFtjb21tX0F1dGhvcl09JyImTmFtZSYiJyBXSEVSRSBbY29tbV9BdXRob3JJRF09IiZJRCkNCgkJCQlFbmQgSWYNCgkJCQlJZiBFbWFpbCA8PiB0YXJnZXRVc2VyLkVtYWlsIFRoZW4NCgkJCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ29tbWVudF0gU0VUIFtjb21tX0VtYWlsXT0nIiZFbWFpbCYiJyBXSEVSRSBbY29tbV9BdXRob3JJRF09IiZJRCkNCgkJCQlFbmQgSWYNCg0KCQkJRW5kIElmDQoJCQkNCgkJCURpbSB0bXBDbHNJRA0KCQkJdG1wQ2xzSUQ9TUQ1KEJsb2dQYXRoICYgWkNfQkxPR19DTFNJRF9PUklHSU5BTCkNCgkJCUFwcGxpY2F0aW9uLkxvY2sNCgkJCUFwcGxpY2F0aW9uKHRtcENsc0lEICYgIlFVSUNLTE9HSU5fSUQiICYgU2Vzc2lvbih0bXBDbHNJRCAmICJxdWlja2xvZ2luX2lkIikpPUVtcHR5DQoJCQlBcHBsaWNhdGlvbih0bXBDbHNJRCAmICJRVUlDS0xPR0lOX0lEIiAmIElEKT1FbXB0eQ0KCQkJQXBwbGljYXRpb24uVW5Mb2NrDQoJCQlTZXNzaW9uKHRtcENsc0lEICYgInF1aWNrbG9naW4iKT1FbXB0eQ0KCQkJU2Vzc2lvbih0bXBDbHNJRCAmICJxdWlja2xvZ2luX2lkIik9RW1wdHkNCg0KDQoJCUVuZCBJZg0KDQoJCUVkaXQ9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCUZ1bmN0aW9uIFJlZ2lzdGVyKCkNCg0KCQlEaW0gY3VycmVudFVzZXINCgkJU2V0IGN1cnJlbnRVc2VyPUJsb2dVc2VyDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RVc2VyX1JlZ2lzdGVyKElELE5hbWUsTGV2ZWwsUGFzc3dvcmQsRW1haWwsSG9tZVBhZ2UsQ291bnQsQWxpYXMsVGVtcGxhdGVOYW1lLEZ1bGxVcmwsSW50cm8sTWV0YVN0cmluZyxjdXJyZW50VXNlcikNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElELCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoTGV2ZWwsImludCIsMCkNCg0KCQlQYXNzV29yZD1NRDUoUGFzc3dvcmQgJiBHdWlkKQ0KDQoJCUlmIChMZXZlbDw9MSkgVGhlbiBDYWxsIFNob3dFcnJvcigxNikNCgkJSWYgKE5hbWU9IiIpIFRoZW4gQ2FsbCBTaG93RXJyb3IoNykNCgkJSWYgTGVuKE5hbWUpID5aQ19VU0VSTkFNRV9NQVggVGhlbiBDYWxsIFNob3dFcnJvcig3KQ0KCQlJZiBOb3QgQ2hlY2tSZWdFeHAoTmFtZSwiW3VzZXJuYW1lXSIpIFRoZW4gQ2FsbCBTaG93RXJyb3IoNykNCg0KCQlFbWFpbD1GaWx0ZXJTUUwoRW1haWwpDQoJCUhvbWVQYWdlPUZpbHRlclNRTChIb21lUGFnZSkNCg0KCQlFbWFpbD1UcmFuc2ZlckhUTUwoRW1haWwsIltodG1sLWZvcm1hdF0iKQ0KCQlIb21lUGFnZT1UcmFuc2ZlckhUTUwoSG9tZVBhZ2UsIltodG1sLWZvcm1hdF0iKQ0KDQoJCUFsaWFzPVRyYW5zZmVySFRNTChBbGlhcywiW2RpcmVjdG9yeSZmaWxlXSIpDQoJCUlmIExlZnQoQWxpYXMsMSk9Ii8iIFRoZW4gQWxpYXM9UmlnaHQoQWxpYXMsTGVuKEFsaWFzKS0xKQ0KCQlJZiBSaWdodChBbGlhcywxKT0iLyIgVGhlbiBBbGlhcz1MZWZ0KEFsaWFzLExlbihBbGlhcyktMSkNCgkJQWxpYXM9RmlsdGVyU1FMKEFsaWFzKQ0KDQoJCVRlbXBsYXRlTmFtZT1VQ2FzZShGaWx0ZXJTUUwoVGVtcGxhdGVOYW1lKSkNCgkJSWYgVGVtcGxhdGVOYW1lPSJDQVRBTE9HIiBUaGVuIFRlbXBsYXRlTmFtZT0iIg0KDQoJCUlmIExlbihFbWFpbCk9MCBUaGVuIENhbGwgU2hvd0Vycm9yKDI5KQ0KCQlJZiBMZW4oRW1haWwpPlpDX0VNQUlMX01BWCBUaGVuIENhbGwgU2hvd0Vycm9yKDI5KQ0KCQlJZiBMZW4oSG9tZVBhZ2UpPlpDX0hPTUVQQUdFX01BWCBUaGVuIENhbGwgU2hvd0Vycm9yKDI5KQ0KDQoJCUlmIE5vdCBDaGVja1JlZ0V4cChFbWFpbCwiW2VtYWlsXSIpIFRoZW4gQ2FsbCBTaG93RXJyb3IoMzApDQoJCUlGIExlbihIb21lUGFnZSk+MCBUaGVuDQoJCQlJZiBOb3QgQ2hlY2tSZWdFeHAoSG9tZVBhZ2UsIltob21lcGFnZV0iKSBUaGVuIENhbGwgU2hvd0Vycm9yKDMwKQ0KCQlFbmQgSWYNCg0KDQoJCUlmIElEPTAgVGhlbg0KDQoJCQlJZiBMZXZlbCA8PSAxIFRoZW4gU2hvd0Vycm9yKDYpDQoJCQlJZiBMZW4oUGFzc1dvcmQpPD4zMiBUaGVuIENhbGwgU2hvd0Vycm9yKDU1KQ0KDQoJCQlEaW0gb2JqUlMyDQoJCQlTZXQgb2JqUlMyID0gb2JqQ29ubi5leGVjdXRlICgiU0VMRUNUIFttZW1faWRdIEZST00gW2Jsb2dfTWVtYmVyXSBXSEVSRSBbbWVtX05hbWVdPSciICYgTmFtZSAmICInICIpDQoJCQlJZiAoTm90IG9ialJTMi5ib2YpIEFuZCAoTm90IG9ialJTMi5lb2YpIFRoZW4NCgkJCQlDYWxsIFNob3dFcnJvcig2MikNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialJTMj1Ob3RoaW5nDQoNCgkJCW9iakNvbm4uRXhlY3V0ZSgiSU5TRVJUIElOVE8gW2Jsb2dfTWVtYmVyXShbbWVtX0xldmVsXSxbbWVtX05hbWVdLFttZW1fUGFzc1dvcmRdLFttZW1fRW1haWxdLFttZW1fSG9tZVBhZ2VdLFttZW1fVXJsXSxbbWVtX0d1aWRdLFttZW1fSW50cm9dLFttZW1fTWV0YV0pIFZBTFVFUyAoIiZMZXZlbCYiLCciJk5hbWUmIicsJyImUGFzc1dvcmQmIicsJyImRW1haWwmIicsJyImSG9tZVBhZ2UmIicsJyImQWxpYXMmIicsJyImR3VpZCYiJywnIiZJbnRybyYiJywnIiZNZXRhU3RyaW5nJiInKSIpDQoNCgkJCURpbSBvYmpSUw0KCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIE1BWChbbWVtX0lEXSkgRlJPTSBbYmxvZ19NZW1iZXJdIikNCgkJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJCQlJRD1vYmpSUygwKQ0KCQkJRW5kIElmDQoJCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCQlSZWdpc3Rlcj1UcnVlDQoNCgkJRW5kIElmDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJRnVuY3Rpb24gRGVsKGN1cnJlbnRVc2VyKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVXNlcl9EZWwoSUQsTmFtZSxMZXZlbCxQYXNzd29yZCxFbWFpbCxIb21lUGFnZSxDb3VudCxBbGlhcyxUZW1wbGF0ZU5hbWUsRnVsbFVybCxJbnRybyxNZXRhU3RyaW5nLGN1cnJlbnRVc2VyKQ0KDQoJCURpbSBvYmpSUw0KCQlEaW0gb2JqVXBMb2FkRmlsZQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihMZXZlbCwiaW50IiwwKQ0KDQoJCURpbSB0YXJnZXRVc2VyDQoJCVNldCB0YXJnZXRVc2VyPU5ldyBUVXNlcg0KCQlJZiB0YXJnZXRVc2VyLkxvYWRJbmZvYnlJRChJRCkgVGhlbg0KCQkJSWYgdGFyZ2V0VXNlci5MZXZlbDw9IGN1cnJlbnRVc2VyLkxldmVsIFRoZW4gU2hvd0Vycm9yKDYpDQoJCQlJZiBjdXJyZW50VXNlci5JRCA9IHRhcmdldFVzZXIuSUQgVGhlbiBTaG93RXJyb3IoMTcpDQoJCUVsc2UNCgkJCUV4aXQgRnVuY3Rpb24NCgkJRW5kIElmDQoNCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbbG9nX0F1dGhvcklEXSA9IiAmIElEKQ0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtjb21tX0F1dGhvcklEXSA9IiAmIElEKQ0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX01lbWJlcl0gV0hFUkUgW21lbV9JRF0gPSIgJiBJRCkNCg0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgdWxfaWQgRlJPTSBbYmxvZ19VcExvYWRdIFdIRVJFIFt1bF9BdXRob3JJRF0gPSIgJiBJRCkNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJRG8gV2hpbGUgTm90IG9ialJTLmVvZg0KCQkJCVNldCBvYmpVcExvYWRGaWxlPU5ldyBUVXBMb2FkRmlsZQ0KCQkJCUlmIG9ialVwTG9hZEZpbGUuTG9hZEluZm9CeUlEKG9ialJTKCJ1bF9JRCIpKSBUaGVuIG9ialVwTG9hZEZpbGUuRGVsDQoJCQkJU2V0IG9ialVwTG9hZEZpbGU9Tm90aGluZw0KCQkJCW9ialJTLk1vdmVOZXh0DQoJCQlMb29wDQoJCUVuZCBJZg0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCW9iakNvbm4uRXhlY3V0ZSgiREVMRVRFIEZST00gW2Jsb2dfVXBMb2FkXSBXSEVSRSBbdWxfQXV0aG9ySURdID0iICYgSUQpDQoNCgkJRGVsPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoJRnVuY3Rpb24gR2V0SURieU5hbWUobikNCg0KCQluPUZpbHRlclNRTChuKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW21lbV9JRF0gRlJPTSBbYmxvZ19NZW1iZXJdIFdIRVJFIFttZW1fTmFtZV09JyImIG4gJiAiJyIpDQoJCUlmIChOb3Qgb2JqUlMuQm9mKSBBbmQgKE5vdCBvYmpSUy5Fb2YpIFRoZW4NCgkJCUdldElEYnlOYW1lPUNMbmcob2JqUlMoIm1lbV9JRCIpKQ0KCQlFbmQgSWYNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCg0KCQlMZXZlbD01DQoJCUlEPTANCgkJTmFtZT1aQ19NU0cwMTgNCg0KCQlTZXg9MA0KCQlFbWFpbD0iIg0KCQlNU049IiINCgkJUVE9IiINCgkJSG9tZVBhZ2U9IiINCgkJSW50cm89IiINCg0KCQlMb2dpblR5cGU9IkNvb2tpZXMiDQoNCgkJUmVDb3VudD0wDQoJCUV4SUQ9LTENCg0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCg0KCUVuZCBTdWINCg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVENvbW1lbnTnsbsNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUQ29tbWVudA0KDQoJUHVibGljIElEDQoJUHVibGljIGxvZ19JRA0KCVB1YmxpYyBQYXJlbnRJRA0KCQ0KCVB1YmxpYyBBdXRob3JJRA0KCVB1YmxpYyBBdXRob3INCglQdWJsaWMgQ29udGVudA0KCVB1YmxpYyBFbWFpbA0KCVB1YmxpYyBIb21lUGFnZQ0KDQoJUHVibGljIFBvc3RUaW1lDQoJUHVibGljIElQDQoJUHVibGljIEFnZW50DQoNCglQdWJsaWMgUmVwbHkNCglQdWJsaWMgTGFzdFJlcGx5SVANCglQdWJsaWMgTGFzdFJlcGx5VGltZQ0KDQoJUHVibGljIENvdW50DQoJUHVibGljIElzQ2hlY2sNCglQdWJsaWMgTWV0YQ0KDQoJUHVibGljIElzVGhyb3cgJ+atpOWAvOS4ulRydWXml7Ys57O757uf5LiN5Lya5L+d5a2Y55qELOS8muebtOaOpeaJlOWHuuWOuy4NCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgTWV0YVN0cmluZw0KCQlNZXRhU3RyaW5nPU1ldGEuU2F2ZVN0cmluZw0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgTWV0YVN0cmluZyhzKQ0KCQlNZXRhLkxvYWRTdHJpbmc9cw0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQcml2YXRlIEZBdmF0YXINCglQdWJsaWMgUHJvcGVydHkgR2V0IEF2YXRhcg0KCQkncGx1Z2luIG5vZGUNCgkJYkFjdGlvbl9QbHVnaW5fVENvbW1lbnRfQXZhdGFyPUZhbHNlDQoJCUZvciBFYWNoIHNBY3Rpb25fUGx1Z2luX1RDb21tZW50X0F2YXRhciBpbiBBY3Rpb25fUGx1Z2luX1RDb21tZW50X0F2YXRhcg0KCQkJSWYgTm90IElzRW1wdHkoc0FjdGlvbl9QbHVnaW5fVENvbW1lbnRfQXZhdGFyKSBUaGVuIENhbGwgRXhlY3V0ZShzQWN0aW9uX1BsdWdpbl9UQ29tbWVudF9BdmF0YXIpDQoJCQlJZiBiQWN0aW9uX1BsdWdpbl9UQ29tbWVudF9BdmF0YXI9VHJ1ZSBUaGVuIEV4aXQgUHJvcGVydHkNCgkJTmV4dA0KDQoJCUlmIEZBdmF0YXI9IiIgVGhlbiBGQXZhdGFyPVVzZXJzKEF1dGhvcklEKS5BdmF0YXINCg0KCQlBdmF0YXI9RkF2YXRhcg0KDQoJRW5kIFByb3BlcnR5DQoNCg0KCVB1YmxpYyBodG1sDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEhvbWVQYWdlRm9yQW50aVNwYW0NCgkJSG9tZVBhZ2VGb3JBbnRpU3BhbT1VUkxFbmNvZGVGb3JBbnRpU3BhbShIb21lUGFnZSkNCglFbmQgUHJvcGVydHkNCg0KDQoJUHVibGljIFByb3BlcnR5IEdldCBTYWZlRW1haWwNCgkJRGltIHMNCgkJSWYgRW1haWw9IiIgVGhlbiBzPSJudWxsQG51bGwuY29tIg0KCQlTYWZlRW1haWw9UmVwbGFjZShzLCJAIiwiW0FUXSIpDQoJRW5kIFByb3BlcnR5DQoNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRW1haWxNRDUNCgkJSWYgQXV0aG9ySUQ+MCBUaGVuDQoJCQlFbWFpbE1ENT1Vc2VycyhBdXRob3JJRCkuRW1haWxNRDUNCgkJRWxzZQ0KCQkJSWYgRW1haWw9IiIgT3IgSXNOdWxsKEVtYWlsKT1UcnVlIFRoZW4NCgkJCQlFbWFpbE1ENT0iIg0KCQkJRWxzZQ0KCQkJCUVtYWlsTUQ1PU1ENShFbWFpbCkNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRmlyc3RDb250YWN0DQoJCUlmIExlbihIb21lUGFnZSk+MCBUaGVuDQoJCQlGaXJzdENvbnRhY3Q9SG9tZVBhZ2VGb3JBbnRpU3BhbQ0KCQlFbHNlDQoJCQlGaXJzdENvbnRhY3Q9Im1haWx0bzoiICYgU2FmZUVtYWlsDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBIdG1sQ29udGVudA0KCQknSHRtbENvbnRlbnQ9VHJhbnNmZXJIVE1MKFVCQkNvZGUoQ29udGVudCwiW2ZvbnRdW2ZhY2VdIiksIltlbnRlcl1bbm9mb2xsb3ddIikNCgkJSHRtbENvbnRlbnQ9VHJhbnNmZXJIVE1MKFVCQkNvZGUoQ29udGVudCAmIFJlcGx5LCJbbGlua11bbGluay1hbnRpc3BhbV1bZm9udF1bZmFjZV1bdHlwZXNldF0iKSwiW2VudGVyXVtub2ZvbGxvd10iKQ0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQdWJsaWMgRnVuY3Rpb24gUG9zdCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RDb21tZW50X1Bvc3QoSUQsbG9nX0lELEF1dGhvcklELEF1dGhvcixDb250ZW50LEVtYWlsLEhvbWVQYWdlLFBvc3RUaW1lLElQLEFnZW50LFJlcGx5LExhc3RSZXBseUlQLExhc3RSZXBseVRpbWUsUGFyZW50SUQsSXNDaGVjayxNZXRhU3RyaW5nKQ0KDQoJCUlmIElzVGhyb3c9VHJ1ZSBUaGVuIFBvc3Q9VHJ1ZTpFeGl0IEZ1bmN0aW9uDQoNCgkJSWYgSVA9IiIgVGhlbg0KCQkJSVA9R2V0UmVhbGx5SVAoKQ0KCQkJQWdlbnQ9UmVxdWVzdC5TZXJ2ZXJWYXJpYWJsZXMoIkhUVFBfVVNFUl9BR0VOVCIpDQoJCUVuZCBJZg0KCQkNCgkJSWYgTGVuKEhvbWVQYWdlKT4wIFRoZW4NCgkJCUlmIEluU3RyKEhvbWVQYWdlLCJodHRwOi8vIik9MCBUaGVuIEhvbWVQYWdlPSJodHRwOi8vIiAmIEhvbWVQYWdlDQoJCUVuZCBJZg0KDQoJCSfmo4Dmn6Xlj4LmlbANCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihsb2dfSUQsImludCIsMCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihBdXRob3JJRCwiaW50IiwwKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKFBvc3RUaW1lLCJkdG0iLEdldFRpbWUoTm93KCkpKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKFBhcmVudElELCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSXNDaGVjaywiYm9vbCIsRmFsc2UpDQoNCgkJSWYgUGFyZW50SUQ9IiIgVGhlbiBQYXJlbnRJRD0wDQoJCUF1dGhvcj1GaWx0ZXJTUUwoQXV0aG9yKQ0KCQlDb250ZW50PUZpbHRlclNRTChDb250ZW50KQ0KCQlFbWFpbD1GaWx0ZXJTUUwoRW1haWwpDQoJCUhvbWVQYWdlPUZpbHRlclNRTChIb21lUGFnZSkNCg0KCQlQb3N0VGltZT1GaWx0ZXJTUUwoUG9zdFRpbWUpDQoJCUlQPUZpbHRlclNRTChJUCkNCgkJQWdlbnQ9RmlsdGVyU1FMKEFnZW50KQ0KDQoJCVJlcGx5PUZpbHRlclNRTChSZXBseSkNCgkJTGFzdFJlcGx5SVA9RmlsdGVyU1FMKExhc3RSZXBseUlQKQ0KDQoJCSfkvZzogIXkuI3og73kuLrnqboNCgkJSWYgTGVuKEF1dGhvcik9MCBUaGVuIENhbGwgIFNob3dFcnJvcigxNSkNCgkJJ0lmIExlbihDb250ZW50KT0wIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDQ2KQ0KCQknSWYgTGVuKENvbnRlbnQpPlpDX0NPTlRFTlRfTUFYIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDQ2KQ0KDQoJCUF1dGhvcj1UcmFuc2ZlckhUTUwoQXV0aG9yLCJbaHRtbC1mb3JtYXRdIikNCgkJRW1haWw9VHJhbnNmZXJIVE1MKEVtYWlsLCJbaHRtbC1mb3JtYXRdIikNCgkJSG9tZVBhZ2U9VHJhbnNmZXJIVE1MKEhvbWVQYWdlLCJbaHRtbC1mb3JtYXRdIikNCgkJQ29udGVudD1UcmFuc2ZlckhUTUwoQ29udGVudCwiW2h0bWwtZm9ybWF0XSIpDQoNCgkJSWYgTGVuKEF1dGhvcik+WkNfVVNFUk5BTUVfTUFYIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDE1KQ0KCQlJZiBMZW4oRW1haWwpPlpDX0VNQUlMX01BWCBUaGVuIENhbGwgIFNob3dFcnJvcigyOSkNCgkJSWYgTGVuKEhvbWVQYWdlKT5aQ19IT01FUEFHRV9NQVggVGhlbiBDYWxsICBTaG93RXJyb3IoMzApDQoNCgkJSWYgTm90IENoZWNrUmVnRXhwKEF1dGhvciwiW3VzZXJuYW1lXSIpIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDE1KQ0KDQoJCUlGIExlbihFbWFpbCk+MCBUaGVuDQoJCQlJZiBOb3QgQ2hlY2tSZWdFeHAoRW1haWwsIltlbWFpbF0iKSBUaGVuIENhbGwgIFNob3dFcnJvcigyOSkNCgkJRW5kIElmDQoNCgkJSUYgTGVuKEhvbWVQYWdlKT4wIFRoZW4NCgkJCUlmIE5vdCBDaGVja1JlZ0V4cChIb21lUGFnZSwiW2hvbWVwYWdlXSIpIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDMwKQ0KCQlFbmQgSWYNCg0KCQlEaW0gb2JqUlMNCgkJRGltIHN0clNwYW1JUA0KCQlEaW0gc3RyU3BhbUNvbnRlbnQNCg0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NvbW1fSVBdLFtjb21tX0NvbnRlbnRdIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgW2NvbW1fSURdPSAoIFNFTEVDVCBNQVgoY29tbV9JRCkgRlJPTSBbYmxvZ19Db21tZW50XSApIikNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQlzdHJTcGFtSVA9b2JqUlMoImNvbW1fSVAiKQ0KCQkJc3RyU3BhbUNvbnRlbnQ9b2JqUlMoImNvbW1fQ29udGVudCIpDQoJCUVuZCBJZg0KDQoJCUlmIElzRGF0ZShMYXN0UmVwbHlUaW1lKT1GYWxzZSBUaGVuIExhc3RSZXBseVRpbWU9R2V0VGltZShOb3coKSkNCg0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCUlmIChJRD0wKSBBbmQgKHN0clNwYW1JUD1JUCkgQW5kIChzdHJTcGFtQ29udGVudD1Db250ZW50KSBUaGVuDQoJCQlDYWxsIFNob3dFcnJvcigzOSkNCgkJRW5kIElmDQoNCgkJSWYgSUQ9MCBUaGVuDQoJCQlvYmpDb25uLkV4ZWN1dGUoIklOU0VSVCBJTlRPIFtibG9nX0NvbW1lbnRdKFtsb2dfSURdLFtjb21tX0F1dGhvcklEXSxbY29tbV9BdXRob3JdLFtjb21tX0NvbnRlbnRdLFtjb21tX0VtYWlsXSxbY29tbV9Ib21lUGFnZV0sW2NvbW1fSVBdLFtjb21tX1Bvc3RUaW1lXSxbY29tbV9BZ2VudF0sW2NvbW1fUmVwbHldLFtjb21tX0xhc3RSZXBseUlQXSxbY29tbV9MYXN0UmVwbHlUaW1lXSxbY29tbV9QYXJlbnRJRF0sW2NvbW1fSXNDaGVja10sW2NvbW1fTWV0YV0pIFZBTFVFUyAoIiZsb2dfSUQmIiwiJkF1dGhvcklEJiIsJyImQXV0aG9yJiInLCciJkNvbnRlbnQmIicsJyImRW1haWwmIicsJyImSG9tZVBhZ2UmIicsJyImSVAmIicsJyImUG9zdFRpbWUmIicsJyImQWdlbnQmIicsJyImUmVwbHkmIicsJyImTGFzdFJlcGx5SVAmIicsJyImTGFzdFJlcGx5VGltZSYiJywnIiZQYXJlbnRJRCYiJywiJkNMbmcoSXNDaGVjaykmIiwnIiZNZXRhU3RyaW5nJiInKSIpDQoJCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgTUFYKFtjb21tX0lEXSkgRlJPTSBbYmxvZ19Db21tZW50XSIpDQoJCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQkJSUQ9b2JqUlMoMCkNCgkJCUVuZCBJZg0KCQkJU2V0IG9ialJTPU5vdGhpbmcNCgkJRWxzZQ0KCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ29tbWVudF0gU0VUIFtsb2dfSURdPSImbG9nX0lEJiIsIFtjb21tX0F1dGhvcklEXT0iJkF1dGhvcklEJiIsW2NvbW1fQXV0aG9yXT0nIiZBdXRob3ImIicsW2NvbW1fQ29udGVudF09JyImQ29udGVudCYiJyxbY29tbV9FbWFpbF09JyImRW1haWwmIicsW2NvbW1fSG9tZVBhZ2VdPSciJkhvbWVQYWdlJiInLFtjb21tX0lQXT0nIiZJUCYiJyxbY29tbV9Qb3N0VGltZV09JyImUG9zdFRpbWUmIicsW2NvbW1fQWdlbnRdPSciJkFnZW50JiInLFtjb21tX1JlcGx5XT0nIiZSZXBseSYiJyxbY29tbV9MYXN0UmVwbHlJUF09JyImTGFzdFJlcGx5SVAmIicsW2NvbW1fTGFzdFJlcGx5VGltZV09JyImTGFzdFJlcGx5VGltZSYiJyxbY29tbV9QYXJlbnRJRF09JyImUGFyZW50SUQmIicsW2NvbW1fSXNDaGVja109IiZDTG5nKElzQ2hlY2spJiIsW2NvbW1fTWV0YV09JyImTWV0YVN0cmluZyYiJyBXSEVSRSBbY29tbV9JRF0gPSIgJiBJRCkNCgkJRW5kIElmDQoNCgkJUG9zdD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIERlbCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RDb21tZW50X0RlbChJRCxsb2dfSUQsQXV0aG9ySUQsQXV0aG9yLENvbnRlbnQsRW1haWwsSG9tZVBhZ2UsUG9zdFRpbWUsSVAsQWdlbnQsUmVwbHksTGFzdFJlcGx5SVAsTGFzdFJlcGx5VGltZSxQYXJlbnRJRCxJc0NoZWNrLE1ldGFTdHJpbmcpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJRCwiaW50IiwwKQ0KCQlJZiAoSUQ9MCkgVGhlbiBEZWw9RmFsc2U6RXhpdCBGdW5jdGlvbg0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtjb21tX0lEXSA9IiAmIElEKQ0KCQlEZWw9VHJ1ZQ0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUlEKGNvbW1fSUQpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihjb21tX0lELCJpbnQiLDApDQoNCgkJRGltIG9ialJTDQoJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbY29tbV9JRF0sW2xvZ19JRF0sW2NvbW1fQXV0aG9ySURdLFtjb21tX0F1dGhvcl0sW2NvbW1fQ29udGVudF0sW2NvbW1fRW1haWxdLFtjb21tX0hvbWVQYWdlXSxbY29tbV9Qb3N0VGltZV0sW2NvbW1fSVBdLFtjb21tX0FnZW50XSxbY29tbV9SZXBseV0sW2NvbW1fTGFzdFJlcGx5SVBdLFtjb21tX0xhc3RSZXBseVRpbWVdLFtjb21tX1BhcmVudElEXSxbY29tbV9Jc0NoZWNrXSxbY29tbV9NZXRhXSBGUk9NIFtibG9nX0NvbW1lbnRdIFdIRVJFIFtjb21tX0lEXT0iICYgY29tbV9JRCkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCUlEPW9ialJTKCJjb21tX0lEIikNCgkJCWxvZ19JRD1vYmpSUygibG9nX0lEIikNCgkJCUF1dGhvcklEPW9ialJTKCJjb21tX0F1dGhvcklEIikNCgkJCUF1dGhvcj1vYmpSUygiY29tbV9BdXRob3IiKQ0KCQkJQ29udGVudD1vYmpSUygiY29tbV9Db250ZW50IikNCgkJCUVtYWlsPW9ialJTKCJjb21tX0VtYWlsIikNCgkJCUhvbWVQYWdlPW9ialJTKCJjb21tX0hvbWVQYWdlIikNCgkJCVBvc3RUaW1lPW9ialJTKCJjb21tX1Bvc3RUaW1lIikNCgkJCUlQPW9ialJTKCJjb21tX0lQIikNCgkJCUFnZW50PW9ialJTKCJjb21tX0FnZW50IikNCgkJCVJlcGx5PW9ialJTKCJjb21tX1JlcGx5IikNCgkJCUxhc3RSZXBseUlQPW9ialJTKCJjb21tX0xhc3RSZXBseUlQIikNCgkJCUxhc3RSZXBseVRpbWU9b2JqUlMoImNvbW1fTGFzdFJlcGx5VGltZSIpDQoJCQlQYXJlbnRJRD1vYmpSUygiY29tbV9QYXJlbnRJRCIpDQoJCQlJc0NoZWNrPW9ialJTKCJjb21tX0lzQ2hlY2siKQ0KCQkJTWV0YVN0cmluZz1vYmpSUygiY29tbV9NZXRhIikNCg0KCQkJTG9hZEluZm9CeUlEPVRydWUNCg0KCQlFbmQgSWYNCg0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCUlmIElzTnVsbChIb21lUGFnZSkgVGhlbiBIb21lUGFnZT0iIg0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ29tbWVudF9Mb2FkSW5mb0J5SUQoSUQsbG9nX0lELEF1dGhvcklELEF1dGhvcixDb250ZW50LEVtYWlsLEhvbWVQYWdlLFBvc3RUaW1lLElQLEFnZW50LFJlcGx5LExhc3RSZXBseUlQLExhc3RSZXBseVRpbWUsUGFyZW50SUQsSXNDaGVjayxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBMb2FkSW5mb0J5QXJyYXkoYXJ5Q29tbUluZm8pDQoNCgkJSWYgSXNBcnJheShhcnlDb21tSW5mbyk9VHJ1ZSBUaGVuDQoJCQlJRD1hcnlDb21tSW5mbygwKQ0KCQkJbG9nX0lEPWFyeUNvbW1JbmZvKDEpDQoJCQlBdXRob3JJRD1hcnlDb21tSW5mbygyKQ0KCQkJQXV0aG9yPWFyeUNvbW1JbmZvKDMpDQoJCQlDb250ZW50PWFyeUNvbW1JbmZvKDQpDQoJCQlFbWFpbD1hcnlDb21tSW5mbyg1KQ0KCQkJSG9tZVBhZ2U9YXJ5Q29tbUluZm8oNikNCgkJCVBvc3RUaW1lPWFyeUNvbW1JbmZvKDcpDQoJCQlJUD1hcnlDb21tSW5mbyg4KQ0KCQkJQWdlbnQ9YXJ5Q29tbUluZm8oOSkNCgkJCVJlcGx5PWFyeUNvbW1JbmZvKDEwKQ0KCQkJTGFzdFJlcGx5SVA9YXJ5Q29tbUluZm8oMTEpDQoJCQlMYXN0UmVwbHlUaW1lPWFyeUNvbW1JbmZvKDEyKQ0KCQkJUGFyZW50SUQ9YXJ5Q29tbUluZm8oMTMpDQoJCQlJc0NoZWNrPWFyeUNvbW1JbmZvKDE0KQ0KCQkJTWV0YVN0cmluZz1hcnlDb21tSW5mbygxNSkNCg0KCQlFbmQgSWYNCg0KCQlJZiBJc051bGwoSG9tZVBhZ2UpIFRoZW4gSG9tZVBhZ2U9IiINCg0KCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ29tbWVudF9Mb2FkSW5mb0J5QXJyYXkoSUQsbG9nX0lELEF1dGhvcklELEF1dGhvcixDb250ZW50LEVtYWlsLEhvbWVQYWdlLFBvc3RUaW1lLElQLEFnZW50LFJlcGx5LExhc3RSZXBseUlQLExhc3RSZXBseVRpbWUsUGFyZW50SUQsSXNDaGVjayxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBNYWtlVGVtcGxhdGUoc3RyQykNCg0KCQlEaW0gaHRtbCxpLGoNCgkJaHRtbD1zdHJDDQoNCgkJJ3BsdWdpbiBub2RlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ29tbWVudF9NYWtlVGVtcGxhdGVfVGVtcGxhdGUoaHRtbCkNCg0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZSgpDQoJCURpbSBhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgpDQoNCgkJUmVEaW0gYXJ5VGVtcGxhdGVUYWdzTmFtZSgyNykNCgkJUmVEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjcpDQoNCgkJSWYgUGFyZW50SUQ9IiIgVGhlbiBQYXJlbnRJRD0wDQoNCgkJRGltIHMNCgkJSWYgQXV0aG9ySUQ+MCBUaGVuIA0KCQkJQ2FsbCBHZXRVc2Vyc2J5VXNlcklETGlzdChBdXRob3JJRCkNCgkJCUlmIFVzZXJzKEF1dGhvcklEKS5BbGlhcz0iIiBUaGVuDQoJCQkJcz1Vc2VycyhBdXRob3JJRCkuTmFtZQ0KCQkJRWxzZQ0KCQkJCXM9VXNlcnMoQXV0aG9ySUQpLkFsaWFzDQoJCQlFbmQgSWYNCgkJRWxzZQ0KCQkJcz1BdXRob3INCgkJRW5kIElmDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDEpPSJhcnRpY2xlL2NvbW1lbnQvaWQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCAxKT1JRA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgMik9ImFydGljbGUvY29tbWVudC9uYW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggMik9cw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgMyk9ImFydGljbGUvY29tbWVudC91cmwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCAzKT1Ib21lUGFnZQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNCk9ImFydGljbGUvY29tbWVudC91cmxlbmNvZGVyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggNCk9VHJhbnNmZXJIVE1MKEhvbWVQYWdlRm9yQW50aVNwYW0sIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNSk9ImFydGljbGUvY29tbWVudC9lbWFpbCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDUpPVNhZmVFbWFpbA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNik9ImFydGljbGUvY29tbWVudC9wb3N0dGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDYpPVBvc3RUaW1lDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICA3KT0iYXJ0aWNsZS9jb21tZW50L2NvbnRlbnQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCA3KT1IdG1sQ29udGVudCAmICI8IS0tcmV2IiZpZCYiLS0+IiAmICI8YSBzdHlsZT0iImRpc3BsYXk6bm9uZTsiIiBpZD0iIkFqYXhDb21tZW50RW5kIiZpZCYiIiI+PC9hPiINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDgpPSJhcnRpY2xlL2NvbW1lbnQvY291bnQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCA4KT0iPCEtLShjb3VudC0tPiImIENvdW50ICYiPCEtLWNvdW50KS0tPiINCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDkpPSJhcnRpY2xlL2NvbW1lbnQvYXV0aG9yaWQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCA5KT1BdXRob3JJRA0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAxMCk9ImFydGljbGUvY29tbWVudC9maXJzdGNvbnRhY3QiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDEwKT1UcmFuc2ZlckhUTUwoRmlyc3RDb250YWN0LCJbYW50aS16Y19ibG9nX2hvc3RdIikNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggMTEpPSJhcnRpY2xlL2NvbW1lbnQvZW1haWxtZDUiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDExKT1FbWFpbE1ENQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAxMik9ImFydGljbGUvY29tbWVudC9wYXJlbnRpZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTIpPVBhcmVudElEDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDEzKT0iYXJ0aWNsZS9jb21tZW50L2F2YXRhciINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTMpPUF2YXRhcg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAxNCk9ImFydGljbGUvY29tbWVudC9wb3N0dGltZS9sb25nZGF0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTQpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiTG9uZ0RhdGUpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDE1KT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL3Nob3J0ZGF0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTUpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiU2hvcnREYXRlKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAxNik9ImFydGljbGUvY29tbWVudC9wb3N0dGltZS9sb25ndGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTYpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiTG9uZ1RpbWUpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDE3KT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL3Nob3J0dGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMTcpPUZvcm1hdERhdGVUaW1lKFBvc3RUaW1lLHZiU2hvcnRUaW1lKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAxOCk9ImFydGljbGUvY29tbWVudC9wb3N0dGltZS95ZWFyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgxOCk9WWVhcihQb3N0VGltZSkNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggMTkpPSJhcnRpY2xlL2NvbW1lbnQvcG9zdHRpbWUvbW9udGgiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDE5KT1SaWdodCgiMCImTW9udGgoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDIwKT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL21vbnRobmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjApPVpWQV9Nb250aChNb250aChQb3N0VGltZSkpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDIxKT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL2RheSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjEpPVJpZ2h0KCIwIiZEYXkoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDIyKT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL3dlZWtkYXkiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKDIyKT1XZWVrZGF5KFBvc3RUaW1lKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAyMyk9ImFydGljbGUvY29tbWVudC9wb3N0dGltZS93ZWVrZGF5bmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjMpPVpWQV9XZWVrKFdlZWtkYXkoUG9zdFRpbWUpKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAyNCk9ImFydGljbGUvY29tbWVudC9wb3N0dGltZS9ob3VyIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgyNCk9UmlnaHQoIjAiJkhvdXIoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDI1KT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL21pbnV0ZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjUpPVJpZ2h0KCIwIiZNaW51dGUoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDI2KT0iYXJ0aWNsZS9jb21tZW50L3Bvc3R0aW1lL3NlY29uZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoMjYpPVJpZ2h0KCIwIiZTZWNvbmQoUG9zdFRpbWUpLDIpDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoIDI3KT0iYXJ0aWNsZS9jb21tZW50L2FnZW50Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSgyNyk9QWdlbnQNCg0KCQkncGx1Z2luIG5vZGUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RDb21tZW50X01ha2VUZW1wbGF0ZV9UZW1wbGF0ZVRhZ3MoYXJ5VGVtcGxhdGVUYWdzTmFtZSxhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSkNCg0KCQlqPVVCb3VuZChhcnlUZW1wbGF0ZVRhZ3NOYW1lKQ0KCQlGb3IgaT0xIHRvIGoNCgkJCWh0bWw9UmVwbGFjZShodG1sLCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+IixhcnlUZW1wbGF0ZVRhZ3NWYWx1ZShpKSkNCgkJTmV4dA0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UQ29tbWVudF9NYWtlVGVtcGxhdGVfVGVtcGxhdGVfU3VjY2VlZChodG1sKQ0KDQoJCU1ha2VUZW1wbGF0ZT1odG1sDQoNCglFbmQgRnVuY3Rpb24NCg0KCVByaXZhdGUgU3ViIENsYXNzX0luaXRpYWxpemUoKQ0KDQoJCUlEPTANCgkJbG9nX0lEPTANCgkJQXV0aG9ySUQ9MA0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCg0KCUVuZCBTdWINCg0KRW5kIENsYXNzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWumuS5iVRUcmFja0JhY2vnsbsNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUVHJhY2tCYWNrDQoNCglQdWJsaWMgSUQNCglQdWJsaWMgbG9nX0lEDQoNCglQdWJsaWMgVVJMDQoJUHVibGljIFRpdGxlDQoJUHVibGljIEJsb2cNCglQdWJsaWMgRXhjZXJwdA0KDQoJUHVibGljIFBvc3RUaW1lDQoJUHVibGljIElQDQoJUHVibGljIEFnZW50DQoNCglQdWJsaWMgQ291bnQNCglQdWJsaWMgTWV0YQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBNZXRhU3RyaW5nDQoJCU1ldGFTdHJpbmc9TWV0YS5TYXZlU3RyaW5nDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBNZXRhU3RyaW5nKHMpDQoJCU1ldGEuTG9hZFN0cmluZz1zDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgaHRtbA0KDQoJUHVibGljIFByb3BlcnR5IEdldCBVcmxGb3JBbnRpU3BhbQ0KCQlVcmxGb3JBbnRpU3BhbT1VUkxFbmNvZGVGb3JBbnRpU3BhbShVcmwpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEh0bWxFeGNlcnB0DQoJCUh0bWxFeGNlcnB0PVRyYW5zZmVySFRNTChFeGNlcnB0LCJbZW50ZXJdIikNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBUYlhNTA0KDQoJUHJpdmF0ZSBGdW5jdGlvbiBSZXR1cm5UYlhNTChzdHJNc2cpDQoNCgkJRGltIHN0clhNTA0KDQoJCXN0clhNTD0iPD94bWwgdmVyc2lvbj0iIjEuMCIiIGVuY29kaW5nPSIiVVRGLTgiIiBzdGFuZGFsb25lPSIieWVzIiI/PjxyZXNwb25zZT48ZXJyb3I+JWU8L2Vycm9yPjxtZXNzYWdlPiVtPC9tZXNzYWdlPjwvcmVzcG9uc2U+Ig0KDQoJCUlmIHN0ck1zZz0idW5kaXNjb3ZlcmVkIiBUaGVuJ+acquWPkeeOsOebuOW6lElEDQoJCQlzdHJYTUw9UmVwbGFjZShzdHJYTUwsIiVlIiwiMSIpDQoJCQlzdHJYTUw9UmVwbGFjZShzdHJYTUwsIiVtIixzdHJNc2cpDQoJCUVsc2VJZiBzdHJNc2c9InJlcGV0aXRpb24iIFRoZW4n6YeN5aSNUElORw0KCQkJc3RyWE1MPVJlcGxhY2Uoc3RyWE1MLCIlZSIsIjEiKQ0KCQkJc3RyWE1MPVJlcGxhY2Uoc3RyWE1MLCIlbSIsc3RyTXNnKQ0KCQlFbHNlaWYgc3RyTXNnPSJpbnZhbGlkIHBhcmFtZXRlciIgVGhlbifpnZ7ms5Xlj4LmlbANCgkJCXN0clhNTD1SZXBsYWNlKHN0clhNTCwiJWUiLCIxIikNCgkJCXN0clhNTD1SZXBsYWNlKHN0clhNTCwiJW0iLHN0ck1zZykNCgkJRWxzZWlmIHN0ck1zZz0ibm9uZSBkYXRhIiBUaGVuJ+aXoOaVsOaNrg0KCQkJc3RyWE1MPVJlcGxhY2Uoc3RyWE1MLCIlZSIsIjEiKQ0KCQkJc3RyWE1MPVJlcGxhY2Uoc3RyWE1MLCIlbSIsc3RyTXNnKQ0KCQlFbHNlJ1BJTkcg5oiQ5YqfDQoJCQlzdHJYTUw9UmVwbGFjZShzdHJYTUwsIiVlIiwiMCIpDQoJCQlzdHJYTUw9UmVwbGFjZShzdHJYTUwsIiVtIixzdHJNc2cpDQoJCUVuZCBJZg0KDQoJCVRiWE1MPXN0clhNTA0KDQoJCSdSZXNwb25zZS5Db250ZW50VHlwZSA9ICJ0ZXh0L2h0bWwiDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFBvc3QoKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVHJhY2tCYWNrX1Bvc3QoSUQsbG9nX0lELFVSTCxUaXRsZSxCbG9nLEV4Y2VycHQsUG9zdFRpbWUsSVAsQWdlbnQsTWV0YVN0cmluZykNCg0KCQlEaW0gb2JqUlMNCg0KCQknQ2FsbCBSZXR1cm5UYlhNTCgidW5kaXNjb3ZlcmVkIik6RXhpdCBGdW5jdGlvbg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKGxvZ19JRCwiaW50IiwwKQ0KDQoJCUlmIElzRGF0ZShQb3N0VGltZSk9RmFsc2UgVGhlbiBQb3N0VGltZT1HZXRUaW1lKE5vdygpKQ0KCQlJUD1HZXRSZWFsbHlJUCgpDQoJCUFnZW50PVJlcXVlc3QuU2VydmVyVmFyaWFibGVzKCJIVFRQX1VTRVJfQUdFTlQiKQ0KDQoJCUlQPUZpbHRlclNRTChJUCkNCgkJQWdlbnQ9RmlsdGVyU1FMKEFnZW50KQ0KDQoJCVVSTD1GaWx0ZXJTUUwoVVJMKQ0KCQlUaXRsZT1GaWx0ZXJTUUwoVGl0bGUpDQoJCUJsb2c9RmlsdGVyU1FMKEJsb2cpDQoJCUV4Y2VycHQ9RmlsdGVyU1FMKEV4Y2VycHQpDQoNCgkJQmxvZz1UcmFuc2ZlckhUTUwoQmxvZywiW2h0bWwtZm9ybWF0XSIpDQoJCVRpdGxlPVRyYW5zZmVySFRNTChUaXRsZSwiW2h0bWwtZm9ybWF0XSIpDQoJCUV4Y2VycHQ9VHJhbnNmZXJIVE1MKEV4Y2VycHQsIltodG1sLWZvcm1hdF1bbm9odG1sXSIpDQoJCVVSTD1UcmFuc2ZlckhUTUwoVVJMLCJbaHRtbC1mb3JtYXRdIikNCg0KCQknbG9nX0lE5LiN6IO95Li6MA0KCQlJZiAobG9nX0lEPTApIFRoZW4gQ2FsbCBSZXR1cm5UYlhNTCgiaW52YWxpZCBwYXJhbWV0ZXIiKTpQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSWYgTGVuKFVSTCk9MCBUaGVuIENhbGwgUmV0dXJuVGJYTUwoIm5vbmUgZGF0YSIpOlBvc3Q9RmFsc2U6RXhpdCBGdW5jdGlvbg0KCQlJZiBMZW4oVVJMKT5aQ19IT01FUEFHRV9NQVggVGhlbiBDYWxsIFJldHVyblRiWE1MKCJ1cmwgaXMgbG9uZyIpOlBvc3Q9RmFsc2U6RXhpdCBGdW5jdGlvbg0KDQoJCUlmIExlbihCbG9nKT5aQ19FTUFJTF9NQVggVGhlbiBDYWxsIFJldHVyblRiWE1MKCJuYW1lIGlzIGxvbmciKTpQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSWYgTGVuKEJsb2cpPTAgVGhlbiBCbG9nPSJVbmtub3ciDQoJCUlmIExlbihFeGNlcnB0KT0wIFRoZW4gRXhjZXJwdD0iIg0KCQlJZiBMZW4oRXhjZXJwdCk+WkNfQVJUSUNMRV9FWENFUlBUX01BWCBUaGVuIEV4Y2VycHQ9TGVmdChFeGNlcnB0LFpDX0FSVElDTEVfRVhDRVJQVF9NQVgpJiIuLi4iDQoJCUlmIExlbihUaXRsZSk+WkNfSE9NRVBBR0VfTUFYIFRoZW4gQ2FsbCBSZXR1cm5UYlhNTCgidGl0bGUgaXMgbG9uZyIpOlBvc3Q9RmFsc2U6RXhpdCBGdW5jdGlvbg0KCQlJZiBMZW4oVGl0bGUpPTAgVGhlbiBUaXRsZT1VUkwNCg0KDQoJJ+ajgOafpUlE5piv5ZCm5a2Y5ZyoDQoJCSdTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgKiBGUk9NIFtibG9nX0FydGljbGVdIFdIRVJFIFtsb2dfSURdPSIgJiBsb2dfSUQpDQoJCSdJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCSdFbHNlDQoJCScJb2JqUlMuY2xvc2UNCgkJJwlDYWxsIHJldHVyblRiWE1MKCJ1bmRpc2NvdmVyZWQiKQ0KCQknCUV4aXQgRnVuY3Rpb24NCgkJJ0VuZCBJZg0KCQknb2JqUlMuQ2xvc2UNCgkJJ1NldCBvYmpSUz1Ob3RoaW5nDQoNCgkn5qOA5p+l5piv5ZCm5beyVELov4cNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUICogRlJPTSBbYmxvZ19UcmFja0JhY2tdIFdIRVJFIFtsb2dfSURdPSIgJiBsb2dfSUQgJiAiIGFuZCBbdGJfdXJsXT0nIiAmIFVSTCAmICInIikNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJb2JqUlMuY2xvc2UNCgkJCUNhbGwgcmV0dXJuVGJYTUwoInJlcGV0aXRpb24iKQ0KCQkJRXhpdCBGdW5jdGlvbg0KCQlFbmQgSWYNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCSfmjqXmlLZUQg0KDQoJCUlmIElEPTAgVGhlbg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJJTlNFUlQgSU5UTyBbYmxvZ19UcmFja0JhY2tdKFtsb2dfSURdLFt0Yl9VUkxdLFt0Yl9UaXRsZV0sW3RiX0Jsb2ddLFt0Yl9FeGNlcnB0XSxbdGJfUG9zdFRpbWVdLFt0Yl9JUF0sW3RiX0FnZW50XSxbdGJfTWV0YV0pIFZBTFVFUyAoIiZsb2dfSUQmIiwnIiZVUkwmIicsJyImVGl0bGUmIicsJyImQmxvZyYiJywnIiZFeGNlcnB0JiInLCciJlBvc3RUaW1lJiInLCciJklQJiInLCciJkFnZW50JiInLCciJk1ldGFTdHJpbmcmIicpIikNCgkJRWxzZQ0KCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfVHJhY2tCYWNrXSBTRVQgW2xvZ19JRF09IiZsb2dfSUQmIiwgW3RiX1VSTF09JyImVVJMJiInLFt0Yl9FeGNlcnB0XT0nIiZFeGNlcnB0JiInLFt0Yl9UaXRsZV09JyImVGl0bGUmIicsW3RiX0Jsb2ddPSciJkJsb2cmIicsW3RiX0lQXT0nIiZJUCYiJyxbdGJfUG9zdFRpbWVdPSciJlBvc3RUaW1lJiInLFt0Yl9BZ2VudF09JyImQWdlbnQmIicsW3RiX01ldGFdPSciJk1ldGFTdHJpbmcmIicgV0hFUkUgW3RiX0lEXSA9IiAmIElEKQ0KCQlFbmQgSWYNCgkJQ2FsbCByZXR1cm5UYlhNTCgic3VjY2VlZCIpDQoNCgkJUG9zdD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KCVB1YmxpYyBGdW5jdGlvbiBEZWwoKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVHJhY2tCYWNrX0RlbChJRCxsb2dfSUQsVVJMLFRpdGxlLEJsb2csRXhjZXJwdCxQb3N0VGltZSxJUCxBZ2VudCxNZXRhU3RyaW5nKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJSWYgKElEPTApIFRoZW4gRGVsPUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19UcmFja0JhY2tdIFdIRVJFIFt0Yl9JRF0gPSIgJiBJRCkNCgkJRGVsPVRydWUNCglFbmQgRnVuY3Rpb24NCg0KDQoJRnVuY3Rpb24gU2VuZChzdHJBZGRyZXNzKQ0KDQoJCURpbSBzdHJTZW5kVEINCgkJc3RyU2VuZFRCID0gInRpdGxlPSIgJiBTZXJ2ZXIuVVJMRW5jb2RlKFRpdGxlKSAmICImdXJsPSIgJiBTZXJ2ZXIuVVJMRW5jb2RlKFVSTCkgJiAiJmV4Y2VycHQ9IiAmIFNlcnZlci5VUkxFbmNvZGUoRXhjZXJwdCkgJiAiJmJsb2dfbmFtZT0iICYgU2VydmVyLlVSTEVuY29kZShCbG9nKQ0KDQoJCURpbSBvYmpQaW5nDQoJCVNldCBvYmpQaW5nID0gU2VydmVyLkNyZWF0ZU9iamVjdCgiTVNYTUwyLlNlcnZlclhNTEhUVFAiKQ0KCQlvYmpQaW5nLlNldFRpbWVPdXRzIDEwMDAwLCAxMDAwMCwgMTAwMDAsIDEwMDAwDQoNCgkJb2JqUGluZy5vcGVuICJQT1NUIixzdHJBZGRyZXNzLEZhbHNlDQoNCgkJb2JqUGluZy5zZXRSZXF1ZXN0SGVhZGVyICJDb250ZW50LVR5cGUiLCAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIg0KCQlvYmpQaW5nLnNlbmQgc3RyU2VuZFRCDQoJCSdSZXNwb25zZS5Db250ZW50VHlwZSA9ICJ0ZXh0L3htbCINCgkJJ1Jlc3BvbnNlLkNsZWFyDQoJCSdSZXNwb25zZS5Xcml0ZSBvYmpQaW5nLnJlc3BvbnNlWE1MLnhtbA0KCQlTZXQgb2JqUGluZyA9IE5vdGhpbmcNCgkJU2VuZD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlJRCh0Yl9JRCkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKHRiX0lELCJpbnQiLDApDQoNCgkJRGltIG9ialJTDQoJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbdGJfSURdLFtsb2dfSURdLFt0Yl9VUkxdLFt0Yl9UaXRsZV0sW3RiX0Jsb2ddLFt0Yl9FeGNlcnB0XSxbdGJfUG9zdFRpbWVdLFt0Yl9JUF0sW3RiX0FnZW50XSxbdGJfTWV0YV0gRlJPTSBbYmxvZ19UcmFja0JhY2tdIFdIRVJFIFt0Yl9JRF09IiAmIHRiX0lEKQ0KDQoJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCQkJSUQ9b2JqUlMoInRiX0lEIikNCgkJCWxvZ19JRD1vYmpSUygibG9nX0lEIikNCgkJCVVSTD1vYmpSUygidGJfVVJMIikNCgkJCVRpdGxlPW9ialJTKCJ0Yl9UaXRsZSIpDQoJCQlCbG9nPW9ialJTKCJ0Yl9CbG9nIikNCgkJCUV4Y2VycHQ9b2JqUlMoInRiX0V4Y2VycHQiKQ0KCQkJUG9zdFRpbWU9b2JqUlMoInRiX1Bvc3RUaW1lIikNCgkJCUlQPW9ialJTKCJ0Yl9JUCIpDQoJCQlBZ2VudD1vYmpSUygidGJfQWdlbnQiKQ0KCQkJTWV0YVN0cmluZz1vYmpSUygidGJfTWV0YSIpDQoNCgkJCUxvYWRJbmZvQnlJRD1UcnVlDQoNCgkJRW5kIElmDQoNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlJZiBJc051bGwoRXhjZXJwdCkgVGhlbiBFeGNlcnB0PSIiDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RUcmFja0JhY2tfTG9hZEluZm9CeUlEKElELGxvZ19JRCxVUkwsVGl0bGUsQmxvZyxFeGNlcnB0LFBvc3RUaW1lLElQLEFnZW50LE1ldGFTdHJpbmcpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlBcnJheShhcnlUYkluZm8pDQoNCgkJSWYgSXNBcnJheShhcnlUYkluZm8pPVRydWUgVGhlbg0KDQoJCQlJRD1hcnlUYkluZm8oMCkNCgkJCWxvZ19JRD1hcnlUYkluZm8oMSkNCgkJCVVSTD1hcnlUYkluZm8oMikNCgkJCVRpdGxlPWFyeVRiSW5mbygzKQ0KCQkJQmxvZz1hcnlUYkluZm8oNCkNCgkJCUV4Y2VycHQ9YXJ5VGJJbmZvKDUpDQoJCQlQb3N0VGltZT1hcnlUYkluZm8oNikNCgkJCUlQPWFyeVRiSW5mbyg3KQ0KCQkJQWdlbnQ9YXJ5VGJJbmZvKDgpDQoJCQlNZXRhU3RyaW5nPWFyeVRiSW5mbyg5KQ0KDQoJCUVuZCBJZg0KDQoJCUlmIElzTnVsbChFeGNlcnB0KSBUaGVuIEV4Y2VycHQ9IiINCg0KCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVHJhY2tCYWNrX0xvYWRJbmZvQnlBcnJheShJRCxsb2dfSUQsVVJMLFRpdGxlLEJsb2csRXhjZXJwdCxQb3N0VGltZSxJUCxBZ2VudCxNZXRhU3RyaW5nKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBNYWtlVGVtcGxhdGUoc3RyVCkNCg0KCQlEaW0gaHRtbCxpLGoNCgkJaHRtbD1zdHJUDQoNCgkJJ3BsdWdpbiBub2RlDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVHJhY2tCYWNrX01ha2VUZW1wbGF0ZV9UZW1wbGF0ZShodG1sKQ0KDQoJCURpbSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKCkNCgkJRGltIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKCkNCg0KCQlSZURpbSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKDcpDQoJCVJlRGltIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKDcpDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDEpPSJhcnRpY2xlL3RyYWNrYmFjay9pZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDEpPUlEDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICAyKT0iYXJ0aWNsZS90cmFja2JhY2svbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDIpPUJsb2cNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDMpPSJhcnRpY2xlL3RyYWNrYmFjay91cmwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCAzKT1UcmFuc2ZlckhUTUwoVXJsRm9yQW50aVNwYW0sIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNCk9ImFydGljbGUvdHJhY2tiYWNrL3RpdGxlIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggNCk9VGl0bGUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDUpPSJhcnRpY2xlL3RyYWNrYmFjay9wb3N0dGltZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDUpPVBvc3RUaW1lDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICA2KT0iYXJ0aWNsZS90cmFja2JhY2svY29udGVudCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDYpPUh0bWxFeGNlcnB0DQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICA3KT0iYXJ0aWNsZS90cmFja2JhY2svY291bnQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCA3KT1Db3VudA0KDQoJCSdwbHVnaW4gbm9kZQ0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFRyYWNrQmFja19NYWtlVGVtcGxhdGVfVGVtcGxhdGVUYWdzKGFyeVRlbXBsYXRlVGFnc05hbWUsYXJ5VGVtcGxhdGVUYWdzVmFsdWUpDQoNCgkJaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCgkJRm9yIGk9MSB0byBqDQoJCQlodG1sPVJlcGxhY2UoaHRtbCwiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiIsYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpDQoJCU5leHQNCg0KCQlNYWtlVGVtcGxhdGU9aHRtbA0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCg0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCg0KCUVuZCBTdWINCg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVFVwTG9hZEZpbGXnsbsNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUVXBMb2FkRmlsZQ0KDQoJUHVibGljIElEDQoJUHVibGljIEF1dGhvcklEDQoNCglQdWJsaWMgRmlsZVNpemUNCglQdWJsaWMgRmlsZU5hbWUNCglQdWJsaWMgUG9zdFRpbWUNCglQdWJsaWMgU3RyZWFtDQoJUHVibGljIERpckJ5VGltZQ0KCVB1YmxpYyBGaWxlSW50cm8NCglQdWJsaWMgUXVvdGUNCg0KCVB1YmxpYyBNZXRhDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IE1ldGFTdHJpbmcNCgkJTWV0YVN0cmluZz1NZXRhLlNhdmVTdHJpbmcNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IE1ldGFTdHJpbmcocykNCgkJTWV0YS5Mb2FkU3RyaW5nPXMNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBodG1sDQoNCglQdWJsaWMgQXV0b05hbWUNCglQdWJsaWMgRnVsbFBhdGgNCglQdWJsaWMgSXNNYW51YWwNCg0KCVB1YmxpYyBGdW5jdGlvbiBMb2FkSW5mb0J5SUQodWxfSUQpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcih1bF9JRCwiaW50IiwwKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3VsX0lEXSxbdWxfQXV0aG9ySURdLFt1bF9GaWxlU2l6ZV0sW3VsX0ZpbGVOYW1lXSxbdWxfUG9zdFRpbWVdLFt1bF9GaWxlSW50cm9dLFt1bF9EaXJCeVRpbWVdLFt1bF9RdW90ZV0sW3VsX01ldGFdIEZST00gW2Jsb2dfVXBMb2FkXSBXSEVSRSBbdWxfSURdPSIgJiB1bF9JRCkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCUlEPW9ialJTKCJ1bF9JRCIpDQoJCQlBdXRob3JJRD1vYmpSUygidWxfQXV0aG9ySUQiKQ0KCQkJRmlsZVNpemU9b2JqUlMoInVsX0ZpbGVTaXplIikNCgkJCUZpbGVOYW1lPW9ialJTKCJ1bF9GaWxlTmFtZSIpDQoJCQlQb3N0VGltZT1vYmpSUygidWxfUG9zdFRpbWUiKQ0KCQkJRmlsZUludHJvPW9ialJTKCJ1bF9GaWxlSW50cm8iKQ0KCQkJRGlyQnlUaW1lPW9ialJTKCJ1bF9EaXJCeVRpbWUiKQ0KCQkJUXVvdGU9b2JqUlMoInVsX1F1b3RlIikNCgkJCU1ldGFTdHJpbmc9b2JqUlMoInVsX01ldGEiKQ0KDQoJCQknSWYgSXNOdWxsKERpckJ5VGltZSkgT3IgRGlyQnlUaW1lPSIiIFRoZW4gRGlyQnlUaW1lPUZhbHNlDQoNCgkJCUxvYWRJbmZvYnlJRD1UcnVlDQoNCgkJRW5kIElmDQoNCgkJb2JqUlMuQ2xvc2UNCgkJU2V0IG9ialJTPU5vdGhpbmcNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFVwTG9hZEZpbGVfTG9hZEluZm9CeUlEKElELEF1dGhvcklELEZpbGVTaXplLEZpbGVOYW1lLFBvc3RUaW1lLEZpbGVJbnRybyxEaXJCeVRpbWUsUXVvdGUsTWV0YSkNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUFycmF5KGFyeVVMSW5mbykNCg0KCQlJZiBJc0FycmF5KGFyeVVMSW5mbyk9VHJ1ZSBUaGVuDQoNCgkJCUlEPWFyeVVMSW5mbygwKQ0KCQkJQXV0aG9ySUQ9YXJ5VUxJbmZvKDEpDQoJCQlGaWxlU2l6ZT1hcnlVTEluZm8oMikNCgkJCUZpbGVOYW1lPWFyeVVMSW5mbygzKQ0KCQkJUG9zdFRpbWU9YXJ5VUxJbmZvKDQpDQoJCQlGaWxlSW50cm89YXJ5VUxJbmZvKDUpDQoJCQlEaXJCeVRpbWU9YXJ5VUxJbmZvKDYpDQoJCQlRdW90ZT1hcnlVTEluZm8oNykNCgkJCU1ldGFTdHJpbmc9YXJ5VUxJbmZvKDgpDQoNCgkJRW5kIElmDQoNCgkJTG9hZEluZm9CeUFycmF5PVRydWUNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFVwTG9hZEZpbGVfTG9hZEluZm9CeUFycmF5KElELEF1dGhvcklELEZpbGVTaXplLEZpbGVOYW1lLFBvc3RUaW1lLEZpbGVJbnRybyxEaXJCeVRpbWUsUXVvdGUsTWV0YSkNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gVXBMb2FkX0Zvcm0oKQ0KDQoJCURpbSBpLGoNCgkJRGltIHgseSx6DQoJCURpbSBpbnRGb3JtU2l6ZQ0KCQlEaW0gYmluRm9ybURhdGENCgkJRGltIHN0ckZpbGVOYW1lDQoNCgkJRGltIHMsdA0KDQoJCWludEZvcm1TaXplID0gUmVxdWVzdC5Ub3RhbEJ5dGVzDQoJCWJpbkZvcm1EYXRhID0gUmVxdWVzdC5CaW5hcnlSZWFkKGludEZvcm1TaXplKQ0KDQoJCWk9MA0KCQlpPUluc3RyQihiaW5Gb3JtRGF0YSxDaHJCKDEzKSZDaHJCKDEwKSZDaHJCKDEzKSZDaHJCKDEwKSkNCgkJSWYgaT4wIFRoZW4gaT1pKzMNCgkJdD1JbnN0ckIoYmluRm9ybURhdGEsQ2hyQigxMykmQ2hyQigxMCkpDQoJCXM9TWlkYihiaW5Gb3JtRGF0YSwxLHQpDQoJCXQ9SW5zdHJCKGJpbkZvcm1EYXRhLENockIoMTMpJkNockIoMTApJnMpDQoJCWo9dA0KDQoJCUlmIExlbihSZXF1ZXN0LlF1ZXJ5U3RyaW5nKCJmaWxlbmFtZSIpKT4wIFRoZW4NCgkJCXN0ckZpbGVOYW1lPVJlcXVlc3QuUXVlcnlTdHJpbmcoImZpbGVuYW1lIikNCgkJRWxzZQ0KCQkJeD1JbnN0ckIoYmluRm9ybURhdGEsQ2hyQigmSDY2KSZDaHJCKCZINjkpJkNockIoJkg2QykmQ2hyQigmSDY1KSZDaHJCKCZINkUpJkNockIoJkg2MSkmQ2hyQigmSDZEKSZDaHJCKCZINjUpJkNockIoJkgzRCkmQ2hyQigmSDIyKSkNCgkJCXk9SW5zdHJCKHgrMTEsYmluRm9ybURhdGEsQ2hyQigmSDIyKSkNCgkJCUZvciB6PTEgdG8geS14LTEwDQoJCQkJc3RyRmlsZU5hbWU9c3RyRmlsZU5hbWUgJiBDaHIoQXNjQihNaWRCKGJpbkZvcm1EYXRhLHgreis5LDEpKSkNCgkJCU5leHQNCgkJRW5kIElmDQoNCgkJRGltIG9ialN0cmVhbVVwDQoJCVNldCBvYmpTdHJlYW1VcCA9IFNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlN0cmVhbSIpDQoNCgkJV2l0aCBvYmpTdHJlYW1VcA0KCQkJLlR5cGUgPSBhZFR5cGVCaW5hcnkNCgkJCS5Nb2RlID0gYWRNb2RlUmVhZFdyaXRlDQoJCQkuT3Blbg0KCQkJLlBvc2l0aW9uID0gMA0KCQkJLldyaXRlIGJpbkZvcm1EYXRhDQoJCQkuUG9zaXRpb24gPSBpDQoJCQlTdHJlYW09LlJlYWQoai1pLTEpDQoJCQkuQ2xvc2UNCgkJRW5kIFdpdGgNCg0KCQlGaWxlTmFtZT1zdHJGaWxlTmFtZQ0KCQlGaWxlU2l6ZT1MZW5CKFN0cmVhbSkNCg0KCQlVcExvYWRfRm9ybT1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFVwTG9hZCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RVcExvYWRGaWxlX1VwTG9hZChJRCxBdXRob3JJRCxGaWxlU2l6ZSxGaWxlTmFtZSxQb3N0VGltZSxGaWxlSW50cm8sRGlyQnlUaW1lLFF1b3RlLE1ldGEpDQoNCgkJRGlyQnlUaW1lPVRydWUNCg0KCQlJZiBJc01hbnVhbD1GYWxzZSBUaGVuDQoJCQlDYWxsIFVwTG9hZF9Gb3JtKCkNCgkJRW5kIElmDQoNCgkJSWYgSW5TdHJSZXYoRmlsZU5hbWUsIlwiKT4wIFRoZW4NCgkJCUZpbGVOYW1lPU1pZChGaWxlTmFtZSxJblN0clJldihGaWxlTmFtZSwiXCIpKzEpDQoJCUVuZCBJZg0KDQoJCUlmIEluU3RyUmV2KEZpbGVOYW1lLCIvIik+MCBUaGVuDQoJCQlGaWxlTmFtZT1NaWQoRmlsZU5hbWUsSW5TdHJSZXYoRmlsZU5hbWUsIi8iKSsxKQ0KCQlFbmQgSWYNCg0KCQlGaWxlTmFtZT1UcmFuc2ZlckhUTUwoRmlsZU5hbWUsIltmaWxlbmFtZV0iKQ0KDQoJCSfotoXlh7rnsbvlnovpmZDliLYNCgkJSWYgTm90IENoZWNrUmVnRXhwKExDYXNlKEZpbGVOYW1lKSwiXC4oIiYgWkNfVVBMT0FEX0ZJTEVUWVBFICYiKSQiKSBUaGVuIENhbGwgU2hvd0Vycm9yKDI2KQ0KDQoJCSfotoXlh7rlpKflsI/pmZDliLYNCgkJSWYgRmlsZVNpemU+WkNfVVBMT0FEX0ZJTEVTSVpFIFRoZW4gQ2FsbCBTaG93RXJyb3IoMjcpDQoNCgkJRmlsZU5hbWU9RmlsdGVyU1FMKEZpbGVOYW1lKQ0KDQoJCUlmIEF1dG9OYW1lPVRydWUgVGhlbg0KCQkJUmFuZG9taXplDQoJCQlGaWxlTmFtZT1ZZWFyKEdldFRpbWUoTm93KCkpKSAmIFJpZ2h0KCIwIiZNb250aChHZXRUaW1lKE5vdygpKSksMikgJiBSaWdodCgiMCImRGF5KEdldFRpbWUoTm93KCkpKSwyKSAmIFJpZ2h0KCIwIiZIb3VyKEdldFRpbWUoTm93KCkpKSwyKSAmIFJpZ2h0KCIwIiZNaW51dGUoR2V0VGltZShOb3coKSkpLDIpICYgUmlnaHQoIjAiJlNlY29uZChHZXRUaW1lKE5vdygpKSksMikgJiBJbnQoOSAqIFJuZCkgJiBJbnQoOSAqIFJuZCkgJiBJbnQoOSAqIFJuZCkgJiBJbnQoOSAqIFJuZCkgJiBSaWdodChGaWxlTmFtZSxMZW4oRmlsZU5hbWUpLUluU3RyUmV2KEZpbGVOYW1lLCIuIikrMSkNCgkJRW5kIElmDQoNCgkJRmlsZUludHJvPUZpbHRlclNRTChGaWxlSW50cm8pDQoNCgkJRGltIG9ialJTDQoJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCAqIEZST00gW2Jsb2dfVXBMb2FkXSBXSEVSRSBbdWxfRmlsZU5hbWVdID0gJyIgJiBGaWxlTmFtZSAmICInIikNCg0KCQlJZiBMZW4oRmlsZU5hbWUpPjI1NSBUaGVuIEZpbGVOYW1lPVJpZ2h0KEZpbGVOYW1lLDI1NSkNCgkJUG9zdFRpbWU9R2V0VGltZShOb3coKSkNCg0KCQlvYmpDb25uLkV4ZWN1dGUoIklOU0VSVCBJTlRPIFtibG9nX1VwTG9hZF0oW3VsX0F1dGhvcklEXSxbdWxfRmlsZVNpemVdLFt1bF9GaWxlTmFtZV0sW3VsX1Bvc3RUaW1lXSxbdWxfRmlsZUludHJvXSxbdWxfRGlyQnlUaW1lXSxbdWxfUXVvdGVdLFt1bF9NZXRhXSkgVkFMVUVTICgiJiBBdXRob3JJRCAmIiwiJiBGaWxlU2l6ZSAmIiwnIiYgRmlsZU5hbWUgJiInLCciJiBQb3N0VGltZSAmIicsJyImRmlsZUludHJvJiInLCImQ0xuZyhEaXJCeVRpbWUpJiIsJyImUXVvdGUmIicsJyImTWV0YVN0cmluZyYiJykiKQ0KDQoJCURpbSBzdHJVUExPQURESVINCg0KCQlzdHJVUExPQURESVIgPSBaQ19VUExPQURfRElSRUNUT1JZJiIvIiZZZWFyKEdldFRpbWUoTm93KCkpKSYiLyImTW9udGgoR2V0VGltZShOb3coKSkpDQoNCgkJQ2FsbCBDcmVhdERpcmVjdG9yeUJ5Q3VzdG9tRGlyZWN0b3J5KHN0clVQTE9BRERJUikNCg0KCQlGdWxsUGF0aD1CbG9nUGF0aCAmIHN0clVQTE9BRERJUiAmIi8iICYgRmlsZU5hbWUNCg0KDQoJCUlmIElzTWFudWFsPUZhbHNlIFRoZW4NCgkJCUNhbGwgU2F2ZUZpbGUoKQ0KCQlFbmQgSWYNCg0KDQoJCVVwTG9hZD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFNhdmVGaWxlKCkNCg0KCQlEaW0gb2JqU3RyZWFtRmlsZQ0KCQlTZXQgb2JqU3RyZWFtRmlsZSA9IFNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlN0cmVhbSIpDQoNCgkJb2JqU3RyZWFtRmlsZS5UeXBlID0gYWRUeXBlQmluYXJ5DQoJCW9ialN0cmVhbUZpbGUuTW9kZSA9IGFkTW9kZVJlYWRXcml0ZQ0KCQlvYmpTdHJlYW1GaWxlLk9wZW4NCgkJb2JqU3RyZWFtRmlsZS5Xcml0ZSBTdHJlYW0NCg0KCQlvYmpTdHJlYW1GaWxlLlNhdmVUb0ZpbGUgRnVsbFBhdGgsYWRTYXZlQ3JlYXRlT3ZlcldyaXRlDQoJCW9ialN0cmVhbUZpbGUuQ2xvc2UNCg0KCQlTYXZlRmlsZT1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gRGVsKCkNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFVwTG9hZEZpbGVfRGVsKElELEF1dGhvcklELEZpbGVTaXplLEZpbGVOYW1lLFBvc3RUaW1lLEZpbGVJbnRybyxEaXJCeVRpbWUsUXVvdGUsTWV0YSkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElELCJpbnQiLDApDQoNCgkJRGltIG9ialJTLHN0ckZpbGVQYXRoDQoNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUICogRlJPTSBbYmxvZ19VcExvYWRdIFdIRVJFIFt1bF9JRF0gPSAiICYgSUQpDQoNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoNCgkJCXN0ckZpbGVQYXRoID0gQmxvZ1BhdGggJiBaQ19VUExPQURfRElSRUNUT1JZICYiLyIgJiBvYmpSUygidWxfRmlsZU5hbWUiKQ0KCQkJQ2FsbCBEZWxUb0ZpbGUoc3RyRmlsZVBhdGgpDQoNCg0KCQkJc3RyRmlsZVBhdGggPSBCbG9nUGF0aCAmIFpDX1VQTE9BRF9ESVJFQ1RPUlkgJiAiLyIgJiBZZWFyKG9ialJTKCJ1bF9Qb3N0VGltZSIpKSAmICIvIiAmIE1vbnRoKG9ialJTKCJ1bF9Qb3N0VGltZSIpKSAmIi8iICYgb2JqUlMoInVsX0ZpbGVOYW1lIikNCgkJCUNhbGwgRGVsVG9GaWxlKHN0ckZpbGVQYXRoKQ0KDQoJCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX1VwTG9hZF0gV0hFUkUgW3VsX0lEXSA9IiAmIElEKQ0KDQoJCUVsc2UNCg0KCQkJRXhpdCBGdW5jdGlvbg0KDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJRGVsPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIFByb3BlcnR5IEdldCBGdWxsVXJsDQoNCgkJRGltIHN0clVQTE9BRERJUg0KDQoJCXN0clVQTE9BRERJUiA9IFpDX1VQTE9BRF9ESVJFQ1RPUlkmIi8iJlllYXIoR2V0VGltZShOb3coKSkpJiIvIiZNb250aChHZXRUaW1lKE5vdygpKSkNCg0KCQlGdWxsVXJsPUJsb2dIb3N0ICYgc3RyVVBMT0FERElSICYgIi8iICYgRmlsZU5hbWUNCg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHJpdmF0ZSBTdWIgQ2xhc3NfSW5pdGlhbGl6ZSgpDQoNCgkJSUQ9MA0KCQlBdXRob3JJRD0wDQoJCVNldCBNZXRhPU5ldyBUTWV0YQ0KCQlBdXRvTmFtZT1GYWxzZQ0KCQlJc01hbnVhbD1GYWxzZQ0KCQkNCg0KCUVuZCBTdWINCg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVFRhZ+exuw0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRUYWcNCg0KCVB1YmxpYyBJRA0KCVB1YmxpYyBOYW1lDQoJUHVibGljIEludHJvDQoJUHVibGljIE9yZGVyDQoJUHVibGljIENvdW50DQoJUHVibGljIEFsaWFzDQoJUHVibGljIFBhcmVudElEDQoJUHVibGljIEZ1bGxVcmwNCglQdWJsaWMgTWV0YQ0KCVB1YmxpYyBUZW1wbGF0ZU5hbWUNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgTWV0YVN0cmluZw0KCQlNZXRhU3RyaW5nPU1ldGEuU2F2ZVN0cmluZw0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgTWV0YVN0cmluZyhzKQ0KCQlNZXRhLkxvYWRTdHJpbmc9cw0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIGh0bWwNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRW5jb2RlTmFtZQ0KCQlFbmNvZGVOYW1lID0gU2VydmVyLlVSTEVuY29kZShOYW1lKQ0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRW5jb2RlSW50cm8NCgkJRW5jb2RlSW50cm8gPSBTZXJ2ZXIuVVJMRW5jb2RlKEludHJvKQ0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHJpdmF0ZSBGdGVtcGxhdGUNCglQdWJsaWMgUHJvcGVydHkgTGV0IFRlbXBsYXRlKHN0ckZpbGVOYW1lKQ0KCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFXyIgJiBzdHJGaWxlTmFtZSkNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgR2V0IFRlbXBsYXRlDQoJCUlmIEZ0ZW1wbGF0ZTw+IiIgVGhlbg0KCQkJVGVtcGxhdGUgPSBGdGVtcGxhdGUNCgkJCUV4aXQgUHJvcGVydHkNCgkJRWxzZQ0KCQkJSWYgVGVtcGxhdGVOYW1lPD4iIiBUaGVuDQoJCQkJRGltIHMNCgkJCQlzPUdldFRlbXBsYXRlKCJURU1QTEFURV8iICZUZW1wbGF0ZU5hbWUpDQoJCQkJSWYgczw+IiIgVGhlbg0KCQkJCQlGdGVtcGxhdGUgPSBzDQoJCQkJRWxzZQ0KCQkJCQlGdGVtcGxhdGU9R2V0VGVtcGxhdGUoIlRFTVBMQVRFX0NBVEFMT0ciKQ0KCQkJCUVuZCBJZg0KCQkJRWxzZQ0KCQkJCUZ0ZW1wbGF0ZT1HZXRUZW1wbGF0ZSgiVEVNUExBVEVfQ0FUQUxPRyIpDQoJCQlFbmQgSWYNCgkJCVRlbXBsYXRlID0gRnRlbXBsYXRlDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0RGVmYXVsdFRlbXBsYXRlTmFtZQ0KCQlJZiBUZW1wbGF0ZU5hbWU8PiIiIFRoZW4NCgkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9VGVtcGxhdGVOYW1lDQoJCUVsc2UNCgkJCUdldERlZmF1bHRUZW1wbGF0ZU5hbWU9IkNBVEFMT0ciDQoJCUVuZCBJZg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZ1bGxQYXRoDQoJCUZ1bGxQYXRoPVBhcnNlQ3VzdG9tRGlyZWN0b3J5Rm9yUGF0aChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixJRCxOYW1lLFN0YXRpY05hbWUpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFVybA0KDQoJCSdwbHVnaW4gbm9kZQ0KCQliQWN0aW9uX1BsdWdpbl9UVGFnX1VybD1GYWxzZQ0KCQlGb3IgRWFjaCBzQWN0aW9uX1BsdWdpbl9UVGFnX1VybCBpbiBBY3Rpb25fUGx1Z2luX1RUYWdfVXJsDQoJCQlJZiBOb3QgSXNFbXB0eShzQWN0aW9uX1BsdWdpbl9UVGFnX1VybCkgVGhlbiBDYWxsIEV4ZWN1dGUoc0FjdGlvbl9QbHVnaW5fVFRhZ19VcmwpDQoJCQlJZiBiQWN0aW9uX1BsdWdpbl9UVGFnX1VybD1UcnVlIFRoZW4gRXhpdCBQcm9wZXJ0eQ0KCQlOZXh0DQoNCgkJVXJsID1QYXJzZUN1c3RvbURpcmVjdG9yeUZvclVybChGdWxsUmVnZXgsWkNfU1RBVElDX0RJUkVDVE9SWSwiIiwiIiwiIiwiIiwiIixJRCxFbmNvZGVOYW1lLFN0YXRpY0VuY29kZU5hbWUpDQoJCUlmIFJpZ2h0KFVybCwxMik9ImRlZmF1bHQuaHRtbCIgVGhlbiBVcmw9TGVmdChVcmwsTGVuKFVybCktMTIpDQoNCgkJVXJsPVJlcGxhY2UoUmVwbGFjZShVcmwsIi8vIiwiLyIpLCI6LyIsIjovLyIsMSwxKQ0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVGFnX1VybChVcmwpDQoNCglFbmQgUHJvcGVydHkNCg0KDQoJUHVibGljIFByb3BlcnR5IEdldCBTdGF0aWNOYW1lDQoJCUlmIElzTnVsbChJbnRybykgT3IgSXNFbXB0eShJbnRybykgT3IgSW50cm89IiIgVGhlbg0KCQkJU3RhdGljTmFtZSA9IE5hbWUNCgkJRWxzZQ0KCQkJU3RhdGljTmFtZSA9IEludHJvDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBTdGF0aWNFbmNvZGVOYW1lDQoJCUlmIElzTnVsbChJbnRybykgT3IgSXNFbXB0eShJbnRybykgT3IgSW50cm89IiIgVGhlbg0KCQkJU3RhdGljRW5jb2RlTmFtZSA9IEVuY29kZU5hbWUNCgkJRWxzZQ0KCQkJU3RhdGljRW5jb2RlTmFtZSA9IEVuY29kZUludHJvDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoNCglQcml2YXRlIEZmdWxscmVnZXgNCglQdWJsaWMgUHJvcGVydHkgTGV0IEZ1bGxSZWdleChzKQ0KCQlGZnVsbHJlZ2V4PXMNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgR2V0IEZ1bGxSZWdleA0KCQlJZiBGZnVsbHJlZ2V4PD4iIiBUaGVuIA0KCQkJRnVsbFJlZ2V4PUZmdWxscmVnZXgNCgkJRWxzZQ0KCQkJRnVsbFJlZ2V4PVpDX1RBR1NfUkVHRVgNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEh0bWxVcmwNCgkJSHRtbFVybD1UcmFuc2ZlckhUTUwoVXJsLCJbaHRtbC1mb3JtYXRdIikNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgSHRtbEludHJvDQoJCUh0bWxJbnRybz1UcmFuc2ZlckhUTUwoSW50cm8sIltodG1sLWZvcm1hdF0iKQ0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBIdG1sTmFtZQ0KCQlIdG1sTmFtZT1UcmFuc2ZlckhUTUwoTmFtZSwiW2h0bWwtZm9ybWF0XSIpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFJzc1VybA0KCQlSc3NVcmwgPSBCbG9nSG9zdCAmICJmZWVkLmFzcD90YWdzPSIgJiBJRA0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFJlQ291bnQNCg0KCVB1YmxpYyBGdW5jdGlvbiBQb3N0KCkNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFRhZ19Qb3N0KElELE5hbWUsSW50cm8sT3JkZXIsQ291bnQsUGFyZW50SUQsQWxpYXMsVGVtcGxhdGVOYW1lLEZ1bGxVcmwsTWV0YVN0cmluZykNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElELCJpbnQiLDApDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoT3JkZXIsImludCIsMCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihQYXJlbnRJRCwiaW50IiwwKQ0KDQoJCU5hbWU9RmlsdGVyU1FMKE5hbWUpDQoJCU5hbWU9VHJhbnNmZXJIVE1MKE5hbWUsIltub3JtYWxuYW1lXSIpDQoJCUlmIExlbihOYW1lKT0wIFRoZW4gUG9zdD1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoNCgkJSW50cm89RmlsdGVyU1FMKEludHJvKQ0KCQlBbGlhcz1GaWx0ZXJTUUwoQWxpYXMpDQoJCSdJbnRybz1UcmFuc2ZlckhUTUwoSW50cm8sIltodG1sLWZvcm1hdF0iKQ0KCQlJZiBJbnRybz0iIiBUaGVuDQoJCQlJbnRybz1SZXBsYWNlKE5hbWUsIiAiLCJfIikNCgkJRW5kIElmDQoNCgkJVGVtcGxhdGVOYW1lPVVDYXNlKEZpbHRlclNRTChUZW1wbGF0ZU5hbWUpKQ0KCQlJZiBUZW1wbGF0ZU5hbWU9IkNBVEFMT0ciIFRoZW4gVGVtcGxhdGVOYW1lPSIiDQoNCgkJSWYgSUQ9MCBUaGVuDQoJCQlvYmpDb25uLkV4ZWN1dGUoIklOU0VSVCBJTlRPIFtibG9nX1RhZ10oW3RhZ19OYW1lXSxbdGFnX09yZGVyXSxbdGFnX0ludHJvXSxbdGFnX1BhcmVudElEXSxbdGFnX1VSTF0sW3RhZ19UZW1wbGF0ZV0sW3RhZ19NZXRhXSkgVkFMVUVTICgnIiZOYW1lJiInLCImT3JkZXImIiwnIiZJbnRybyYiJywiJlBhcmVudElEJiIsJyImQWxpYXMmIicsJyImVGVtcGxhdGVOYW1lJiInLCciJk1ldGFTdHJpbmcmIicpIikNCgkJCURpbSBvYmpSUw0KCQkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIE1BWChbdGFnX0lEXSkgRlJPTSBbYmxvZ19UYWddIikNCgkJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCgkJCQlJRD1vYmpSUygwKQ0KCQkJRW5kIElmDQoJCQlTZXQgb2JqUlM9Tm90aGluZw0KCQlFbHNlDQoJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19UYWddIFNFVCBbdGFnX05hbWVdPSciJk5hbWUmIicsW3RhZ19PcmRlcl09IiZPcmRlciYiLFt0YWdfSW50cm9dPSciJkludHJvJiInLFt0YWdfUGFyZW50SURdPSImUGFyZW50SUQmIixbdGFnX1VSTF09JyImQWxpYXMmIicsW3RhZ19UZW1wbGF0ZV09JyImVGVtcGxhdGVOYW1lJiInLFt0YWdfTWV0YV09JyImTWV0YVN0cmluZyYiJyBXSEVSRSBbdGFnX0lEXSA9IiAmIElEKQ0KCQlFbmQgSWYNCg0KCQlQb3N0PVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUlEKHRhZ19JRCkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKHRhZ19JRCwiaW50IiwwKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW3RhZ19JRF0sW3RhZ19OYW1lXSxbdGFnX0ludHJvXSxbdGFnX09yZGVyXSxbdGFnX0NvdW50XSxbdGFnX1BhcmVudElEXSxbdGFnX1VSTF0sW3RhZ19UZW1wbGF0ZV0sW3RhZ19GdWxsVXJsXSxbdGFnX01ldGFdIEZST00gW2Jsb2dfVGFnXSBXSEVSRSBbdGFnX0lEXT0iICYgdGFnX0lEKQ0KDQoJCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCQkJSUQ9b2JqUlMoInRhZ19JRCIpDQoJCQlOYW1lPW9ialJTKCJ0YWdfTmFtZSIpDQoJCQlJbnRybz1vYmpSUygidGFnX0ludHJvIikNCgkJCU9yZGVyPW9ialJTKCJ0YWdfT3JkZXIiKQ0KCQkJQ291bnQ9b2JqUlMoInRhZ19Db3VudCIpDQoJCQlQYXJlbnRJRD1vYmpSUygidGFnX1BhcmVudElEIikNCgkJCUFsaWFzPW9ialJTKCJ0YWdfVVJMIikNCgkJCVRlbXBsYXRlTmFtZT1vYmpSUygidGFnX1RlbXBsYXRlIikNCgkJCUZ1bGxVcmw9b2JqUlMoInRhZ19GdWxsVXJsIikNCgkJCU1ldGFTdHJpbmc9b2JqUlMoInRhZ19NZXRhIikNCg0KCQkJTG9hZEluZm9CeUlEPVRydWUNCg0KCQlFbmQgSWYNCg0KCQlvYmpSUy5DbG9zZQ0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJCUlmIElzTnVsbChJbnRybykgVGhlbiBJbnRybz0iIg0KDQoJCUNhbGwgRmlsdGVyX1BsdWdpbl9UVGFnX0xvYWRJbmZvQnlJRChJRCxOYW1lLEludHJvLE9yZGVyLENvdW50LFBhcmVudElELEFsaWFzLFRlbXBsYXRlTmFtZSxGdWxsVXJsLE1ldGFTdHJpbmcpDQoNCglFbmQgRnVuY3Rpb24NCg0KCVB1YmxpYyBGdW5jdGlvbiBMb2FkSW5mb0J5QXJyYXkoYXJ5VGFnSW5mbykNCg0KCQlJZiBJc0FycmF5KGFyeVRhZ0luZm8pPVRydWUgVGhlbg0KCQkJSUQ9YXJ5VGFnSW5mbygwKQ0KCQkJTmFtZT1hcnlUYWdJbmZvKDEpDQoJCQlJbnRybz1hcnlUYWdJbmZvKDIpDQoJCQlPcmRlcj1hcnlUYWdJbmZvKDMpDQoJCQlDb3VudD1hcnlUYWdJbmZvKDQpDQoJCQlQYXJlbnRJRD1hcnlUYWdJbmZvKDUpDQoJCQlBbGlhcz1hcnlUYWdJbmZvKDYpDQoJCQlUZW1wbGF0ZU5hbWU9YXJ5VGFnSW5mbyg3KQ0KCQkJRnVsbFVybD1hcnlUYWdJbmZvKDgpDQoJCQlNZXRhU3RyaW5nPWFyeVRhZ0luZm8oOSkNCgkJRW5kIElmDQoNCgkJSWYgSXNOdWxsKEludHJvKSBUaGVuIEludHJvPSIiDQoJCUlmIElzTnVsbChBbGlhcykgVGhlbiBBbGlhcz0iIg0KDQoJCUxvYWRJbmZvQnlBcnJheT1UcnVlDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RUYWdfTG9hZEluZm9CeUFycmF5KElELE5hbWUsSW50cm8sT3JkZXIsQ291bnQsUGFyZW50SUQsQWxpYXMsVGVtcGxhdGVOYW1lLEZ1bGxVcmwsTWV0YVN0cmluZykNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gRGVsKCkNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVFRhZ19EZWwoSUQsTmFtZSxJbnRybyxPcmRlcixDb3VudCxQYXJlbnRJRCxBbGlhcyxUZW1wbGF0ZU5hbWUsRnVsbFVybCxNZXRhU3RyaW5nKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJSWYgKElEPTApIFRoZW4gRGVsPUZhbHNlOkV4aXQgRnVuY3Rpb24NCg0KCQlEaW0gcw0KCQlEaW0gaQ0KCQlEaW0gb2JqUlMNCg0KCQlTZXQgb2JqUlM9U2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuUmVjb3Jkc2V0IikNCgkJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCQlvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJCW9ialJTLkFjdGl2ZUNvbm5lY3Rpb249b2JqQ29ubg0KCQlvYmpSUy5Tb3VyY2U9IiINCg0KCQlvYmpSUy5PcGVuKCJTRUxFQ1QgW2xvZ19JRF0sW2xvZ190YWddIEZST00gW2Jsb2dfQXJ0aWNsZV0gV0hFUkUgW2xvZ19UYWddIExJS0UgJyV7IiAmIElEICYgIn0lJyIpDQoNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJRG8gV2hpbGUgTm90IG9ialJTLmVvZg0KCQkJCWk9b2JqUlMoImxvZ19JRCIpDQoJCQkJcz1vYmpSUygibG9nX3RhZyIpDQoJCQkJcz1SZXBsYWNlKHMsInsiJiBJRCAmIn0iLCIiKQ0KCQkJCW9iakNvbm4uRXhlY3V0ZSgiVVBEQVRFIFtibG9nX0FydGljbGVdIFNFVCBbbG9nX3RhZ109JyImIHMgJiInIFdIRVJFIFtsb2dfSURdID0iICYgaSkNCgkJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJTG9vcA0KCQlFbmQgSWYNCgkJb2JqUlMuQ2xvc2UNCg0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX1RhZ10gV0hFUkUgW3RhZ19JRF0gPSIgJiBJRCkNCgkJRGVsPVRydWUNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIE1ha2VUZW1wbGF0ZShzKQ0KDQoJCURpbSBodG1sLGksag0KCQlodG1sPXMNCg0KCQkncGx1Z2luIG5vZGUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RUYWdfTWFrZVRlbXBsYXRlX1RlbXBsYXRlKGh0bWwpDQoNCgkJRGltIGFyeVRlbXBsYXRlVGFnc05hbWUoKQ0KCQlEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUoKQ0KDQoJCVJlRGltIGFyeVRlbXBsYXRlVGFnc05hbWUoNykNCgkJUmVEaW0gYXJ5VGVtcGxhdGVUYWdzVmFsdWUoNykNCg0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgMSk9ImFydGljbGUvdGFnL2lkIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggMSk9SUQNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDIpPSJhcnRpY2xlL3RhZy9uYW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggMik9SHRtbE5hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDMpPSJhcnRpY2xlL3RhZy9pbnRybyINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDMpPUh0bWxJbnRybw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNCk9ImFydGljbGUvdGFnL2NvdW50Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggNCk9Q291bnQNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDUpPSJhcnRpY2xlL3RhZy91cmwiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCA1KT1IdG1sVXJsDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICA2KT0iYXJ0aWNsZS90YWcvZW5jb2RlbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDYpPUVuY29kZU5hbWUNCg0KCQkncGx1Z2luIG5vZGUNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RUYWdfTWFrZVRlbXBsYXRlX1RlbXBsYXRlVGFncyhhcnlUZW1wbGF0ZVRhZ3NOYW1lLGFyeVRlbXBsYXRlVGFnc1ZhbHVlKQ0KDQoJCWo9VUJvdW5kKGFyeVRlbXBsYXRlVGFnc05hbWUpDQoJCUZvciBpPTEgdG8gag0KCQkJSWYgSXNOdWxsKGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpKT1GYWxzZSBUaGVuDQoJCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjIiAmIGFyeVRlbXBsYXRlVGFnc05hbWUoaSkgJiAiIz4iLGFyeVRlbXBsYXRlVGFnc1ZhbHVlKGkpKQ0KCQkJRWxzZQ0KCQkJCWh0bWw9UmVwbGFjZShodG1sLCI8IyIgJiBhcnlUZW1wbGF0ZVRhZ3NOYW1lKGkpICYgIiM+IiwiIikNCgkJCUVuZCBJZg0KCQlOZXh0DQoNCgkJTWFrZVRlbXBsYXRlPWh0bWwNCg0KCUVuZCBGdW5jdGlvbg0KDQoJUHJpdmF0ZSBTdWIgQ2xhc3NfSW5pdGlhbGl6ZSgpDQoNCgkJSUQ9MA0KCQlPcmRlcj0wDQoJCVBhcmVudElEPTANCgkJQ291bnQ9MA0KCQlSZUNvdW50PTANCg0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCg0KCUVuZCBTdWINCg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVEtleVdvcmTnsbsNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUS2V5V29yZA0KDQoJUHVibGljIElEDQoJUHVibGljIE5hbWUNCglQdWJsaWMgSW50cm8NCglQdWJsaWMgVXJsDQoNCglQdWJsaWMgRnVuY3Rpb24gUG9zdCgpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJRCwiaW50IiwwKQ0KDQoJCU5hbWU9RmlsdGVyU1FMKE5hbWUpDQoJCU5hbWU9VHJhbnNmZXJIVE1MKE5hbWUsIltub3JtYWxuYW1lXSIpDQoNCgkJSWYgTGVuKE5hbWUpPTAgVGhlbiBQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCg0KCQlJbnRybz1GaWx0ZXJTUUwoSW50cm8pDQoJCUludHJvPVRyYW5zZmVySFRNTChJbnRybywiW2h0bWwtZm9ybWF0XSIpDQoNCgkJVXJsPUZpbHRlclNRTChVcmwpDQoJCUlmIExlbihVcmwpPTAgVGhlbiBQb3N0PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSWYgTm90IENoZWNrUmVnRXhwKFVybCwiW2hvbWVwYWdlXSIpIFRoZW4gQ2FsbCAgU2hvd0Vycm9yKDMwKQ0KDQoJCUlmIElEPTAgVGhlbg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJJTlNFUlQgSU5UTyBbYmxvZ19LZXl3b3JkXShba2V5X05hbWVdLFtrZXlfVVJMXSxba2V5X0ludHJvXSkgVkFMVUVTICgnIiZOYW1lJiInLCciJlVybCYiJywnIiZJbnRybyYiJykiKQ0KCQlFbHNlDQoJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19LZXl3b3JkXSBTRVQgW2tleV9OYW1lXT0nIiZOYW1lJiInLFtrZXlfVVJMXT0nIiZVcmwmIicsW2tleV9JbnRyb109JyImSW50cm8mIicgV0hFUkUgW2tleV9JRF0gPSIgJiBJRCkNCgkJRW5kIElmDQoNCgkJUG9zdD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlJRChrZXlfSUQpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihrZXlfSUQsImludCIsMCkNCg0KCQlEaW0gb2JqUlMNCgkJU2V0IG9ialJTPW9iakNvbm4uRXhlY3V0ZSgiU0VMRUNUIFtrZXlfSURdLFtrZXlfTmFtZV0sW2tleV9JbnRyb10sW2tleV9VcmxdIEZST00gW2Jsb2dfS2V5d29yZF0gV0hFUkUgW2tleV9JRF09IiAmIGtleV9JRCkNCg0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJCUlEPW9ialJTKCJrZXlfSUQiKQ0KCQkJTmFtZT1vYmpSUygia2V5X05hbWUiKQ0KCQkJSW50cm89b2JqUlMoImtleV9JbnRybyIpDQoJCQlVcmw9b2JqUlMoImtleV9VcmwiKQ0KDQoJCQlMb2FkSW5mb0J5SUQ9VHJ1ZQ0KDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJSWYgSXNOdWxsKEludHJvKSBUaGVuIEludHJvPSIiDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlBcnJheShhcnlLZXlXb3JkSW5mbykNCg0KCQlJZiBJc0FycmF5KGFyeUtleXdvcmRJbmZvKT1UcnVlIFRoZW4NCg0KCQkJSUQ9YXJ5S2V5V29yZEluZm8oMCkNCgkJCU5hbWU9YXJ5S2V5V29yZEluZm8oMSkNCgkJCUludHJvPWFyeUtleVdvcmRJbmZvKDIpDQoJCQlVcmw9YXJ5S2V5V29yZEluZm8oMykNCg0KCQlFbmQgSWYNCg0KCQlJZiBJc051bGwoSW50cm8pIFRoZW4gSW50cm89IiINCg0KCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBEZWwoKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJSWYgKElEPTApIFRoZW4gRGVsPUZhbHNlOkV4aXQgRnVuY3Rpb24NCg0KCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX0tleXdvcmRdIFdIRVJFIFtrZXlfSURdID0iICYgSUQpDQoJCURlbD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQpFbmQgQ2xhc3MNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAg5a6a5LmJVFJzczJFeHBvcnTnsbsgTmV354mIDQonIOi+k+WFpe+8miAgICDml6ANCicg6L+U5Zue77yaICAgIOaXoA0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KQ2xhc3MgVE5ld1JzczJFeHBvcnQNCg0KCVB1YmxpYyBUaW1lWm9uZQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCB4bWwNCgkJeG1sID0gb2JqWE1MZG9jLnhtbA0KCUVuZCBQcm9wZXJ0eQ0KDQoJcHVibGljIEZzdHJXZWJMaW5rDQoJcHVibGljIEZzdHJBdXRob3INCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgV2ViTGluaw0KCQlXZWJMaW5rID0gRnN0cldlYkxpbmsNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgV2ViTGluayhzdHJXZWJMaW5rKQ0KCQlGc3RyV2ViTGluayA9IHN0cldlYkxpbmsNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgQXV0aG9yDQoJCUF1dGhvciA9IEZzdHJBdXRob3INCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgQXV0aG9yKHN0ckF1dGhvcikNCgkJRnN0ckF1dGhvciA9IHN0ckF1dGhvcg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHJpdmF0ZSBvYmpYTUxkb2MNCg0KCVByaXZhdGUgb2JqWE1McnNzDQoNCglQcml2YXRlIG9ialhNTGNoYW5uZWwNCg0KDQoJUHVibGljIEZ1bmN0aW9uIEFkZENoYW5uZWxBdHRyaWJ1dGUodGl0bGUsdmFsdWUpDQoNCgkJRGltIG9ialhNTGl0ZW0NCgkJU2V0IG9ialhNTGl0ZW0gPSBvYmpYTUxkb2MuY3JlYXRlRWxlbWVudCh0aXRsZSkNCg0KCQlJZiB0aXRsZT0icHViRGF0ZSIgVGhlbiB2YWx1ZT1QYXJzZURhdGVGb3JSRkM4MjIodmFsdWUpDQoNCgkJb2JqWE1MaXRlbS50ZXh0PXZhbHVlDQoJCW9ialhNTGNoYW5uZWwuQXBwZW5kQ2hpbGQob2JqWE1MaXRlbSkNCg0KCQlBZGRDaGFubmVsQXR0cmlidXRlPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gQWRkSXRlbSh0aXRsZSxhdXRob3IsbGluayxwdWJEYXRlLGd1aWQsZGVzY3JpcHRpb24sY2F0ZWdvcnksY29tbWVudHMsd2Z3X2NvbW1lbnQsd2Z3X2NvbW1lbnRSc3MsdHJhY2tiYWNrX3BpbmcpDQoNCgkJRGltIG9ialhNTGl0ZW0NCgkJU2V0IG9ialhNTGl0ZW0gPSBvYmpYTUxkb2MuY3JlYXRlRWxlbWVudCgiaXRlbSIpDQoJCURpbSBvYmpYTUxjZGF0YQ0KDQoJCUlmKExlbih0aXRsZSk+MCkgVGhlbg0KCQkJb2JqWE1MaXRlbS5BcHBlbmRDaGlsZChvYmpYTUxkb2MuY3JlYXRlRWxlbWVudCgidGl0bGUiKSkNCgkJCW9ialhNTGl0ZW0uc2VsZWN0U2luZ2xlTm9kZSgidGl0bGUiKS50ZXh0PXRpdGxlDQoJCUVuZCBJZg0KCQlJZihMZW4oYXV0aG9yKT4wKSBUaGVuDQoJCQlvYmpYTUxpdGVtLkFwcGVuZENoaWxkKG9ialhNTGRvYy5jcmVhdGVFbGVtZW50KCJhdXRob3IiKSkNCgkJCW9ialhNTGl0ZW0uc2VsZWN0U2luZ2xlTm9kZSgiYXV0aG9yIikudGV4dD1hdXRob3INCgkJRW5kIElmDQoJCUlmKExlbihsaW5rKT4wKSBUaGVuDQoJCQlvYmpYTUxpdGVtLkFwcGVuZENoaWxkKG9ialhNTGRvYy5jcmVhdGVFbGVtZW50KCJsaW5rIikpDQoJCQlvYmpYTUxpdGVtLnNlbGVjdFNpbmdsZU5vZGUoImxpbmsiKS50ZXh0PWxpbmsNCgkJRW5kIElmDQoJCUlmKExlbihwdWJEYXRlKT4wKSBUaGVuDQoJCQlvYmpYTUxpdGVtLkFwcGVuZENoaWxkKG9ialhNTGRvYy5jcmVhdGVFbGVtZW50KCJwdWJEYXRlIikpDQoJCQlvYmpYTUxpdGVtLnNlbGVjdFNpbmdsZU5vZGUoInB1YkRhdGUiKS50ZXh0PVBhcnNlRGF0ZUZvclJGQzgyMihwdWJEYXRlKQ0KCQlFbmQgSWYNCgkJSWYoTGVuKGd1aWQpPjApIFRoZW4NCgkJCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoImd1aWQiKSkNCgkJCW9ialhNTGl0ZW0uc2VsZWN0U2luZ2xlTm9kZSgiZ3VpZCIpLnRleHQ9Z3VpZA0KCQlFbmQgSWYNCgkJSWYoTGVuKGRlc2NyaXB0aW9uKT4wKSBUaGVuDQoNCgkJCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoImRlc2NyaXB0aW9uIikpDQoJCQlTZXQgb2JqWE1MY2RhdGEgPSBvYmpYTUxkb2MuY3JlYXRlTm9kZSgiY2RhdGFzZWN0aW9uIiwgIiIsIiIpDQoJCQlvYmpYTUxjZGF0YS5Ob2RlVmFsdWU9ZGVzY3JpcHRpb24NCgkJCW9ialhNTGl0ZW0uc2VsZWN0U2luZ2xlTm9kZSgiZGVzY3JpcHRpb24iKS5BcHBlbmRDaGlsZChvYmpYTUxjZGF0YSkNCg0KCQkJU2V0IG9ialhNTGNkYXRhID0gTm90aGluZw0KDQoJCUVuZCBJZg0KCQlJZihMZW4oY2F0ZWdvcnkpPjApIFRoZW4NCgkJCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoImNhdGVnb3J5IikpDQoJCQlvYmpYTUxpdGVtLnNlbGVjdFNpbmdsZU5vZGUoImNhdGVnb3J5IikudGV4dD1jYXRlZ29yeQ0KCQlFbmQgSWYNCg0KCQlJZihMZW4oY29tbWVudHMpPjApIFRoZW4NCgkJCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoImNvbW1lbnRzIikpDQoJCQlvYmpYTUxpdGVtLnNlbGVjdFNpbmdsZU5vZGUoImNvbW1lbnRzIikudGV4dD1jb21tZW50cw0KCQlFbmQgSWYNCgkJJ0lmKExlbih3ZndfY29tbWVudCk+MCkgVGhlbg0KCQknCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoIndmdzpjb21tZW50IikpDQoJCScJb2JqWE1MaXRlbS5zZWxlY3RTaW5nbGVOb2RlKCJ3Znc6Y29tbWVudCIpLnRleHQ9d2Z3X2NvbW1lbnQNCgkJJ0VuZCBJZg0KCQlJZihMZW4od2Z3X2NvbW1lbnRSc3MpPjApIFRoZW4NCgkJCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoIndmdzpjb21tZW50UnNzIikpDQoJCQlvYmpYTUxpdGVtLnNlbGVjdFNpbmdsZU5vZGUoIndmdzpjb21tZW50UnNzIikudGV4dD13ZndfY29tbWVudFJzcw0KCQlFbmQgSWYNCgkJJ0lmKExlbih0cmFja2JhY2tfcGluZyk+MCkgVGhlbg0KCQknCW9ialhNTGl0ZW0uQXBwZW5kQ2hpbGQob2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoInRyYWNrYmFjazpwaW5nIikpDQoJCScJb2JqWE1MaXRlbS5zZWxlY3RTaW5nbGVOb2RlKCJ0cmFja2JhY2s6cGluZyIpLnRleHQ9dHJhY2tiYWNrX3BpbmcNCgkJJ0VuZCBJZg0KDQoJCW9ialhNTGNoYW5uZWwuQXBwZW5kQ2hpbGQob2JqWE1MaXRlbSkNCg0KCQlBZGRJdGVtPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEV4ZWN1dGUoKQ0KDQoJCSdSZXNwb25zZS5Db250ZW50VHlwZSA9ICJ0ZXh0L2h0bWwiDQoJCVJlc3BvbnNlLkNvbnRlbnRUeXBlID0gInRleHQveG1sIg0KCQlSZXNwb25zZS5DbGVhcg0KCQlSZXNwb25zZS5Xcml0ZSB4bWwNCg0KCQlFeGVjdXRlPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIFNhdmVUb0ZpbGUoc3RyRmlsZU5hbWUpDQoJCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoJCW9ialhNTGRvYy5zYXZlKHN0ckZpbGVOYW1lKQ0KDQoJCVNhdmVUb0ZpbGU9VHJ1ZQ0KCQlFcnIuQ2xlYXINCglFbmQgRnVuY3Rpb24NCg0KDQoJRnVuY3Rpb24gUGFyc2VEYXRlRm9yUkZDODIyKGR0bURhdGUpDQoNCgkJRGltIGR0bURheSwgZHRtV2Vla0RheSwgZHRtTW9udGgsIGR0bVllYXINCgkJRGltIGR0bUhvdXJzLCBkdG1NaW51dGVzLCBkdG1TZWNvbmRzDQoNCgkJU2VsZWN0IENhc2UgV2Vla0RheShkdG1EYXRlKQ0KCQkJQ2FzZSAxOmR0bVdlZWtEYXk9IlN1biINCgkJCUNhc2UgMjpkdG1XZWVrRGF5PSJNb24iDQoJCQlDYXNlIDM6ZHRtV2Vla0RheT0iVHVlIg0KCQkJQ2FzZSA0OmR0bVdlZWtEYXk9IldlZCINCgkJCUNhc2UgNTpkdG1XZWVrRGF5PSJUaHUiDQoJCQlDYXNlIDY6ZHRtV2Vla0RheT0iRnJpIg0KCQkJQ2FzZSA3OmR0bVdlZWtEYXk9IlNhdCINCgkJRW5kIFNlbGVjdA0KDQoJCVNlbGVjdCBDYXNlIE1vbnRoKGR0bURhdGUpDQoJCQlDYXNlIDE6ZHRtTW9udGg9IkphbiINCgkJCUNhc2UgMjpkdG1Nb250aD0iRmViIg0KCQkJQ2FzZSAzOmR0bU1vbnRoPSJNYXIiDQoJCQlDYXNlIDQ6ZHRtTW9udGg9IkFwciINCgkJCUNhc2UgNTpkdG1Nb250aD0iTWF5Ig0KCQkJQ2FzZSA2OmR0bU1vbnRoPSJKdW4iDQoJCQlDYXNlIDc6ZHRtTW9udGg9Ikp1bCINCgkJCUNhc2UgODpkdG1Nb250aD0iQXVnIg0KCQkJQ2FzZSA5OmR0bU1vbnRoPSJTZXAiDQoJCQlDYXNlIDEwOmR0bU1vbnRoPSJPY3QiDQoJCQlDYXNlIDExOmR0bU1vbnRoPSJOb3YiDQoJCQlDYXNlIDEyOmR0bU1vbnRoPSJEZWMiDQoJCUVuZCBTZWxlY3QNCg0KCQlkdG1ZZWFyID0gWWVhcihkdG1EYXRlKQ0KCQlkdG1EYXkgPSBSaWdodCgiMDAiICYgRGF5KGR0bURhdGUpLDIpDQoNCgkJZHRtSG91cnMgPSBSaWdodCgiMDAiICYgSG91cihkdG1EYXRlKSwyKQ0KCQlkdG1NaW51dGVzID0gUmlnaHQoIjAwIiAmIE1pbnV0ZShkdG1EYXRlKSwyKQ0KCQlkdG1TZWNvbmRzID0gUmlnaHQoIjAwIiAmIFNlY29uZChkdG1EYXRlKSwyKQ0KDQoJCVBhcnNlRGF0ZUZvclJGQzgyMiA9IGR0bVdlZWtEYXkgJiAiLCAiICYgZHRtRGF5ICYiICIgJiBkdG1Nb250aCAmICIgIiAmIGR0bVllYXIgJiAiICIgJiBkdG1Ib3VycyAmICI6IiAmIGR0bU1pbnV0ZXMgJiAiOiIgJiBkdG1TZWNvbmRzICYgSUlGKENMbmcoVGltZVpvbmUpPTAsIiIsIiAiICYgVGltZVpvbmUpDQoNCglFbmQgRnVuY3Rpb24NCg0KCScg57G75Yid5aeL5YyWDQoJUHJpdmF0ZSBTdWIgQ2xhc3NfSW5pdGlhbGl6ZSgpDQoNCgkJT24gRXJyb3IgUmVzdW1lIE5leHQNCg0KCQkn5a+5b2JqWE1MZG9j6L+b6KGM5Yid5aeL5YyW77yM5aaC5LiN6IO95bu65a+56LGh5YiZ5oql6ZSZDQoJCVNldCBvYmpYTUxkb2MgPVNlcnZlci5DcmVhdGVPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKQ0KDQoJCUlmIEVyci5OdW1iZXI8PjAgVGhlbg0KDQoJCUVuZCBJZg0KDQoJCURpbSBvYmpQSQ0KDQoJCSdTZXQgb2JqUEkgPSBvYmpYTUxkb2MuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKCJ4bWwtc3R5bGVzaGVldCIsInR5cGU9IiJ0ZXh0L2NzcyIiIGhyZWY9IiJ6Yl9zeXN0ZW0vY3NzL3Jzcy5jc3MiIiIpDQoJCSdvYmpYTUxkb2MuaW5zZXJ0QmVmb3JlIG9ialBJLCBvYmpYTUxkb2MuY2hpbGROb2RlcygwKQ0KCQknU2V0IG9ialBJID0gTm90aGluZw0KDQoJCSdTZXQgb2JqUEkgPSBvYmpYTUxkb2MuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKCJ4bWwtc3R5bGVzaGVldCIsInR5cGU9IiJ0ZXh0L3hzbCIiIGhyZWY9IiJ6Yl9zeXN0ZW0vY3NzL3Jzcy54c2x0IiIiKQ0KCQknb2JqWE1MZG9jLmluc2VydEJlZm9yZSBvYmpQSSwgb2JqWE1MZG9jLmNoaWxkTm9kZXMoMCkNCgkJJ1NldCBvYmpQSSA9IE5vdGhpbmcNCg0KCQlTZXQgb2JqUEkgPSBvYmpYTUxkb2MuY3JlYXRlUHJvY2Vzc2luZ0luc3RydWN0aW9uKCJ4bWwiLCJ2ZXJzaW9uPSIiMS4wIiIgZW5jb2Rpbmc9IiJVVEYtOCIiIHN0YW5kYWxvbmU9IiJ5ZXMiIiIpDQoJCW9ialhNTGRvYy5pbnNlcnRCZWZvcmUgb2JqUEksIG9ialhNTGRvYy5jaGlsZE5vZGVzKDApDQoJCVNldCBvYmpQSSA9IE5vdGhpbmcNCg0KCQlTZXQgb2JqWE1McnNzID0gb2JqWE1MZG9jLmNyZWF0ZUVsZW1lbnQoInJzcyIpDQoNCgkJU2V0IG9ialhNTGNoYW5uZWwgPSBvYmpYTUxkb2MuY3JlYXRlRWxlbWVudCgiY2hhbm5lbCIpDQoNCg0KCQlvYmpYTUxyc3MuQXBwZW5kQ2hpbGQob2JqWE1MY2hhbm5lbCkNCgkJb2JqWE1MZG9jLkFwcGVuZENoaWxkKG9ialhNTHJzcykNCg0KCQlvYmpYTUxyc3Muc2V0QXR0cmlidXRlICJ2ZXJzaW9uIiwiMi4wIg0KCQlvYmpYTUxyc3Muc2V0QXR0cmlidXRlICJ4bWxuczpkYyIsImh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIg0KCQlvYmpYTUxyc3Muc2V0QXR0cmlidXRlICJ4bWxuczp0cmFja2JhY2siLCJodHRwOi8vbWFkc2tpbGxzLmNvbS9wdWJsaWMveG1sL3Jzcy9tb2R1bGUvdHJhY2tiYWNrLyINCgkJb2JqWE1McnNzLnNldEF0dHJpYnV0ZSAieG1sbnM6d2Z3IiwiaHR0cDovL3dlbGxmb3JtZWR3ZWIub3JnL0NvbW1lbnRBUEkvIg0KCQlvYmpYTUxyc3Muc2V0QXR0cmlidXRlICJ4bWxuczpzbGFzaCIsImh0dHA6Ly9wdXJsLm9yZy9yc3MvMS4wL21vZHVsZXMvc2xhc2gvIg0KDQoNCglFbmQgU3ViDQoNCgknIOexu+mHiuaUvg0KCVByaXZhdGUgU3ViIENsYXNzX1Rlcm1pbmF0ZSgpDQoNCgkJU2V0IG9ialhNTHJzcyA9IE5vdGhpbmcNCgkJU2V0IG9ialhNTGRvYyAgPSBOb3RoaW5nDQoNCglFbmQgU3ViDQoNCkVuZCBDbGFzcw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICDlrprkuYlUTWV0YQ0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkRpbSBtZXRhX3NwbGl0X3N0cmluZ18xDQpEaW0gbWV0YV9zcGxpdF9zdHJpbmdfMg0KbWV0YV9zcGxpdF9zdHJpbmdfMT1DaHIoMSkNCm1ldGFfc3BsaXRfc3RyaW5nXzI9Q2hyKDIpDQpDbGFzcyBUTWV0YQ0KDQoJUHVibGljIE5hbWVzKCkNCglQdWJsaWMgVmFsdWVzKCkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgQ291bnQNCgkJQ291bnQgPSBVQm91bmQobmFtZXMpDQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZ1bmN0aW9uIFNhdmUoKQ0KDQoJCURpbSBuLHYNCgkJSWYgVUJvdW5kKG5hbWVzKT4wIFRoZW4NCg0KCQkJJ249Sm9pbihOYW1lcywiPC9uYW1lPjxuYW1lPiIpDQoJCQknbj0iPG5hbWU+IiZuJiI8L25hbWU+Ig0KCQkJJ3Y9Sm9pbihWYWx1ZXMsIjwvdmFsdWU+PHZhbHVlPiIpDQoJCQkndj0iPHZhbHVlPiImdiYiPC92YWx1ZT4iDQoJCQknU2F2ZT0iPG5hbWVzPiImbiYiPC9uYW1lcz4iICYgIjx2YWx1ZXM+IiZ2JiI8L3ZhbHVlcz4iDQoJCQknU2F2ZT0iPHhtbD4iICYgU2F2ZSAmICI8L3htbD4iDQoNCgkJCW49Sm9pbihOYW1lcyxtZXRhX3NwbGl0X3N0cmluZ18xKQ0KCQkJdj1Kb2luKFZhbHVlcyxtZXRhX3NwbGl0X3N0cmluZ18xKQ0KDQoJCQlTYXZlPUpvaW4oQXJyYXkobix2KSxtZXRhX3NwbGl0X3N0cmluZ18yKQ0KDQoJCUVuZCBJZg0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgU2F2ZVN0cmluZw0KCQlTYXZlU3RyaW5nID0gU2F2ZSgpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgTGV0IExvYWRTdHJpbmcocykNCgkJQ2FsbCBMb2FkKHMpDQoJRW5kIFByb3BlcnR5DQoNCglQcml2YXRlIEZ1bmN0aW9uIExvYWQocykNCg0KCQlJZiBJc051bGwocyk9VHJ1ZSBUaGVuIEV4aXQgRnVuY3Rpb24NCgkJSWYgSXNFbXB0eShzKT1UcnVlIFRoZW4gRXhpdCBGdW5jdGlvbg0KDQoJCURpbSB4LG4sdg0KCQl4PVNwbGl0KHMsbWV0YV9zcGxpdF9zdHJpbmdfMikNCg0KCQlJZiBVQm91bmQoeCk8PjEgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCgkJbj1TcGxpdCh4KDApLG1ldGFfc3BsaXRfc3RyaW5nXzEpDQoJCXY9U3BsaXQoeCgxKSxtZXRhX3NwbGl0X3N0cmluZ18xKQ0KDQoJCURpbSBpDQoJCVJlRGltIE5hbWVzKFVCb3VuZChuKSkNCgkJUmVEaW0gVmFsdWVzKFVCb3VuZChuKSkNCgkJRm9yIGk9MCBUbyBVQm91bmQobikNCgkJCU5hbWVzKGkpPW4oaSkNCgkJCVZhbHVlcyhpKT12KGkpDQoJCU5leHQNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQcml2YXRlIEZ1bmN0aW9uIExvYWRCeUFycmF5KG4sdikNCg0KCQlEaW0gaQ0KCQlSZURpbSBOYW1lcyhVQm91bmQobikpDQoJCVJlRGltIFZhbHVlcyhVQm91bmQobikpDQoJCUZvciBpPTAgVG8gVUJvdW5kKG4pDQoJCQlOYW1lcyhpKT1uKGkpDQoJCQlWYWx1ZXMoaSk9dihpKQ0KCQlOZXh0DQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIFNldFZhbHVlKG5hbWUsdmFsdWUpDQoNCgkJbmFtZT1UcmltKG5hbWUpDQoNCgkJSWYgSXNFbXB0eShuYW1lKSBPciBJc051bGwobmFtZSkgVGhlbiBFeGl0IEZ1bmN0aW9uDQoNCgkJbmFtZT1SZXBsYWNlKG5hbWUsbWV0YV9zcGxpdF9zdHJpbmdfMSwiIikNCgkJbmFtZT1SZXBsYWNlKG5hbWUsbWV0YV9zcGxpdF9zdHJpbmdfMiwiIikNCg0KCQlJZiBJc051bGwodmFsdWUpPVRydWUgVGhlbiB2YWx1ZT0iIg0KDQoJCURpbSBuLGkNCgkJaT0wDQoJCUZvciBFYWNoIG4gSW4gbmFtZXMNCgkJCUlmIExDYXNlKG4pPUxDYXNlKG5hbWUpIFRoZW4NCgkJCQl2YWx1ZXMoaSk9dmJzZXNjYXBlKHZhbHVlKQ0KCQkJCSdJZiB2YWx1ZXMoaSk9InVuZGVmaW5lZCIgVGhlbiB2YWx1ZXMoaSk9IiINCgkJCQlFeGl0IGZ1bmN0aW9uDQoJCQlFbmQgSWYNCgkJCWk9aSsxDQoJCU5leHQNCg0KCQlpPVVCb3VuZChuYW1lcykNCg0KCQlSZURpbSBQcmVzZXJ2ZSBOYW1lcyhpKzEpDQoJCVJlRGltIFByZXNlcnZlIFZhbHVlcyhpKzEpDQoNCgkJTmFtZXMoaSsxKT1uYW1lDQoJCVZhbHVlcyhpKzEpPXZic2VzY2FwZSh2YWx1ZSkNCgkJJ0lmIHZhbHVlcyhpKzEpPSJ1bmRlZmluZWQiIFRoZW4gdmFsdWVzKGkrMSk9IiINCg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEdldFZhbHVlKG5hbWUpDQoNCgkJRGltIG4saQ0KCQlpPTANCgkJRm9yIEVhY2ggbiBJbiBuYW1lcw0KDQoJCQlJZiBMQ2FzZShuKT1MQ2FzZShuYW1lKSBUaGVuDQoJCQkJR2V0VmFsdWUgPSB2YnN1bmVzY2FwZSh2YWx1ZXMoaSkpDQoJCQkJRXhpdCBmdW5jdGlvbg0KCQkJRW5kIElmDQoJCQlpPWkrMQ0KCQlOZXh0DQoNCgkJR2V0VmFsdWUgPSBFbXB0eQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIFJlbW92ZShuYW1lKQ0KDQoJCURpbSBuKCkNCgkJRGltIHYoKQ0KCQlEaW0gYg0KDQoJCVJlRGltIG4oVUJvdW5kKG5hbWVzKSkNCgkJUmVEaW0gdihVQm91bmQobmFtZXMpKQ0KDQoJCURpbSBpLGoNCgkJaj0wDQoJCUZvciBpPTAgVG8gVUJvdW5kKG5hbWVzKQ0KCQkJSWYgTENhc2UobmFtZXMoaSkpPUxDYXNlKG5hbWUpIFRoZW4NCgkJCQliPVRydWUNCgkJCUVsc2UNCgkJCQluKGopPW5hbWVzKGkpDQoJCQkJdihqKT12YWx1ZXMoaSkNCgkJCQlqPWorMQ0KCQkJRW5kIElmDQoJCU5leHQNCg0KCQlJZiBiPVRydWUgVGhlbg0KDQoJCQlSZURpbSBuYW1lcyhqLTEpDQoJCQlSZURpbSB2YWx1ZXMoai0xKQ0KDQoJCQlGb3IgaT0wIFRvIGotMQ0KCQkJCW5hbWVzKGkpPW4oaSkNCgkJCQl2YWx1ZXMoaSk9dihpKQ0KCQkJTmV4dA0KDQoJCUVuZCBJZg0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gRXhpc3RzKG5hbWUpDQoNCgkJSWYgTmFtZT0iIiBUaGVuIEV4aXQgRnVuY3Rpb24NCg0KCQlEaW0gcw0KCQlGb3IgRWFjaCBzIEluIG5hbWVzDQoJCQlJZiBMQ2FzZShzKT1MQ2FzZShuYW1lKSBUaGVuDQoJCQkJRXhpc3RzPVRydWUNCgkJCQlFeGl0IEZ1bmN0aW9uDQoJCQlFbmQgSWYNCgkJTmV4dA0KDQoJCUV4aXN0cz1GYWxzZQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCg0KCQlSZURpbSBOYW1lcygwKQ0KCQlSZURpbSBWYWx1ZXMoMCkNCg0KCUVuZCBTdWINCg0KRW5kIENsYXNzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCg0KDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWumuS5iVRDb25maWcNCicg6L6T5YWl77yaICAgIOaXoA0KJyDov5Tlm57vvJogICAg5pegDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpDbGFzcyBUQ29uZmlnDQoNCglQcml2YXRlIE5hbWUNCg0KCVB1YmxpYyBNZXRhDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IENvdW50DQoJCUNvdW50ID0gTWV0YS5Db3VudA0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIEZ1bmN0aW9uIFNhdmUoKQ0KDQoJCURpbSBuLHMNCgkJbj1GaWx0ZXJTUUwoTmFtZSkNCgkJcz1GaWx0ZXJTUUwoTWV0YS5TYXZlU3RyaW5nKQ0KDQoJCURpbSBvYmpSUw0KCQlTZXQgb2JqUlM9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgW2NvbmZfTmFtZV0gRlJPTSBbYmxvZ19Db25maWddIFdIRVJFIFtjb25mX05hbWVdPSciJm4mIiciICkNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJb2JqQ29ubi5FeGVjdXRlKCJVUERBVEUgW2Jsb2dfQ29uZmlnXSBTRVQgW2NvbmZfVmFsdWVdPSciJnMmIicgV0hFUkUgW2NvbmZfTmFtZV09JyImbiYiJyIpDQoJCUVsc2UNCgkJCW9iakNvbm4uRXhlY3V0ZSgiSU5TRVJUIElOVE8gW2Jsb2dfQ29uZmlnXShbY29uZl9OYW1lXSxbY29uZl9WYWx1ZV0pIFZBTFVFUyAoJyImbiYiJywnIiZzJiInKSIpDQoJCUVuZCBJZg0KCQlTZXQgb2JqUlM9Tm90aGluZw0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gRGVsZXRlDQoNCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19Db25maWddIFdIRVJFIFtjb25mX05hbWVdPSciJk5hbWUmIiciKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZChjb25maWduYW1lKQ0KDQoJCUNhbGwgR2V0Q29uZmlncygpDQoNCgkJTmFtZT1jb25maWduYW1lDQoNCgkJRGltIHMNCgkJRm9yIEVhY2ggcyBJbiBDb25maWdNZXRhcy5OYW1lcw0KCQkJSWYgTENhc2Uocyk9TENhc2UoTmFtZSkgVGhlbg0KCQkJCU1ldGEuTG9hZFN0cmluZz1Db25maWdNZXRhcy5HZXRWYWx1ZShOYW1lKQ0KCQkJRW5kIElmDQoJCU5leHQNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gV3JpdGUobmFtZSx2YWx1ZSkNCgkJSWYgVHlwZU5hbWUodmFsdWUpPSJCb29sZWFuIiBBbmQgVUNhc2UodmFsdWUpPVVDYXNlKCJ0cnVlIikgVGhlbiB2YWx1ZT0iVHJ1ZSINCgkJSWYgVHlwZU5hbWUodmFsdWUpPSJCb29sZWFuIiBBbmQgIFVDYXNlKHZhbHVlKT1VQ2FzZSgiZmFsc2UiKSBUaGVuIHZhbHVlPSJGYWxzZSINCgkJV3JpdGU9TWV0YS5TZXRWYWx1ZShuYW1lLHZhbHVlKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gUmVhZChuYW1lKQ0KDQoJCVJlYWQ9TWV0YS5HZXRWYWx1ZShuYW1lKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gUmVtb3ZlKG5hbWUpDQoNCgkJUmVtb3ZlPU1ldGEuUmVtb3ZlKG5hbWUpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIEV4aXN0cyhuYW1lKQ0KDQoJCUV4aXN0cz1NZXRhLkV4aXN0cyhuYW1lKQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVByaXZhdGUgU3ViIENsYXNzX0luaXRpYWxpemUoKQ0KDQoJCU5hbWU9RW1wdHkNCg0KCQlTZXQgTWV0YT1OZXcgVE1ldGENCg0KCUVuZCBTdWINCg0KRW5kIENsYXNzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIOWumuS5ieaooeWdl+WKn+iDveexuw0KJyDovpPlhaXvvJogICAg5pegDQonIOi/lOWbnu+8miAgICDml6ANCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRGdW5jdGlvbg0KDQoJUHVibGljIElEDQoJUHVibGljIE5hbWUNCglQdWJsaWMgRmlsZU5hbWUNCglQdWJsaWMgT3JkZXINCglQdWJsaWMgQ29udGVudA0KCVB1YmxpYyBJc0hpZGRlbg0KCVB1YmxpYyBTaWRlYmFySUQNCglQdWJsaWMgSHRtbElEDQoJUHVibGljIEZ0eXBlICdkaXYgb3IgdWwNCglQdWJsaWMgTWF4TGkNCglQdWJsaWMgTWV0YQ0KCVB1YmxpYyBTb3VyY2UNCglQdWJsaWMgVmlld1R5cGUNCglQdWJsaWMgSW5EYXRhQmFzZQ0KCVB1YmxpYyBJc0hpZGVUaXRsZQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBJc0Rpc3BsYXkNCgkJSXNEaXNwbGF5PU5vdCBJc0hpZGRlbg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBJc1N5c3RlbQ0KCQlJZiBTb3VyY2U9InN5c3RlbSIgVGhlbg0KCQkJSXNTeXN0ZW09VHJ1ZQ0KCQlFbHNlDQoJCQlJc1N5c3RlbT1GYWxzZQ0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IElzU3lzdGVtKHMpDQoJCUlmIHM9VHJ1ZSBUaGVuDQoJCQlTb3VyY2U9InN5c3RlbSINCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IElzVXNlcnMNCgkJSWYgU291cmNlPSJ1c2VycyIgVGhlbg0KCQkJSXNVc2Vycz1UcnVlDQoJCUVsc2UNCgkJCUlzVXNlcnM9RmFsc2UNCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBJc1VzZXJzKHMpDQoJCUlmIHM9VHJ1ZSBUaGVuDQoJCQlTb3VyY2U9InVzZXJzIg0KCQlFbmQgSWYNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgSXNQbHVnaW4NCgkJSWYgSW5TdHIoU291cmNlLCJwbHVnaW5fIik+MCBUaGVuDQoJCQlJc1BsdWdpbj1UcnVlDQoJCUVsc2UNCgkJCUlzUGx1Z2luPUZhbHNlDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgSXNQbHVnaW4ocykNCgkJU291cmNlPSJwbHVnaW5fIiZzDQoJRW5kIFByb3BlcnR5DQoJDQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IElzVGhlbWUNCgkJSWYgSW5TdHIoU291cmNlLCJ0aGVtZV8iKT4wIFRoZW4NCgkJCUlzVGhlbWU9VHJ1ZQ0KCQlFbHNlDQoJCQlJc1RoZW1lPUZhbHNlDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgSXNUaGVtZShzKQ0KCQlTb3VyY2U9InRoZW1lXyImcw0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBTb3VyY2VUeXBlDQoJCUlmIFNvdXJjZT0ic3lzdGVtIiBUaGVuDQoJCQlTb3VyY2VUeXBlPSJzeXN0ZW0iDQoJCUVuZCBJZg0KCQlJZiBTb3VyY2U9InVzZXJzIiBUaGVuDQoJCQlTb3VyY2VUeXBlPSJ1c2VycyINCgkJRW5kIElmDQoJCUlmIEluU3RyKFNvdXJjZSwicGx1Z2luXyIpPjAgVGhlbg0KCQkJU291cmNlVHlwZT0icGx1Z2luIg0KCQlFbmQgSWYNCgkJSWYgSW5TdHIoU291cmNlLCJ0aGVtZV8iKT4wIFRoZW4NCgkJCVNvdXJjZVR5cGU9InRoZW1lIg0KCQlFbmQgSWYNCgkJSWYgU291cmNlPSJvdGhlciIgVGhlbg0KCQkJU291cmNlVHlwZT0ib3RoZXIiDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBJc090aGVyDQoJCUlmIFNvdXJjZT0ib3RoZXIiIFRoZW4NCgkJCUlzT3RoZXI9VHJ1ZQ0KCQlFbHNlDQoJCQlJc090aGVyPUZhbHNlDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgSXNPdGhlcihzKQ0KCQlJZiBzPVRydWUgVGhlbg0KCQkJU291cmNlPSJvdGhlciINCgkJRW5kIElmDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IEFwcE5hbWUNCgkJSWYgU291cmNlVHlwZT0icGx1Z2luIiBUaGVuDQoJCQlBcHBOYW1lPVJpZ2h0KFNvdXJjZSxMZW4oU291cmNlKS1MZW4oInBsdWdpbl8iKSkNCgkJRWxzZUlmIFNvdXJjZVR5cGU9InRoZW1lIiBUaGVuDQoJCQlBcHBOYW1lPVJpZ2h0KFNvdXJjZSxMZW4oU291cmNlKS1MZW4oInRoZW1lXyIpKQ0KCQlFbHNlDQoJCQlBcHBOYW1lPSIiDQoJCUVuZCBJZg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBNZXRhU3RyaW5nDQoJCU1ldGFTdHJpbmc9TWV0YS5TYXZlU3RyaW5nDQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBNZXRhU3RyaW5nKHMpDQoJCU1ldGEuTG9hZFN0cmluZz1zDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgRnVuY3Rpb24gUG9zdCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RGdW5jdGlvbl9Qb3N0KElELE5hbWUsRmlsZU5hbWUsT3JkZXIsQ29udGVudCxJc0hpZGRlbixTaWRlYmFySUQsSHRtbElELEZ0eXBlLE1heExpLFNvdXJjZSxWaWV3VHlwZSxJc0hpZGVUaXRsZSxNZXRhU3RyaW5nKQ0KDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoSUQsImludCIsMCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihPcmRlciwiaW50IiwwKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKFNpZGViYXJJRCwiaW50IiwxKQ0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKElzSGlkZGVuLCJib29sIixGYWxzZSkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJc0hpZGVUaXRsZSwiYm9vbCIsRmFsc2UpDQoJCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoTWF4TGksImludCIsMCkNCg0KCQlOYW1lPUZpbHRlclNRTChOYW1lKQ0KCQlGaWxlTmFtZT1UcmFuc2ZlckhUTUwoTENhc2UoRmlsdGVyU1FMKEZpbGVOYW1lKSksIltkZWxzcGFjZV1bZmlsZW5hbWVdW25vcm1hbG5hbWVdIikNCgkJRmlsZU5hbWU9UmVwbGFjZShGaWxlTmFtZSwiLiIsIiIpDQoJCUh0bWxJRD1UcmFuc2ZlckhUTUwoRmlsdGVyU1FMKEh0bWxJRCksIltkZWxzcGFjZV1bZmlsZW5hbWVdIikNCgkJU291cmNlPUZpbHRlclNRTChTb3VyY2UpDQoJCVZpZXdUeXBlPUZpbHRlclNRTChWaWV3VHlwZSkNCg0KCQlJZiBOYW1lPSIiIFRoZW4NCgkJCU5hbWU9IkZ1bmN0aW9uIg0KCQlFbmQgSWYNCg0KCQlJZiBGaWxlTmFtZT0iIiBUaGVuDQoJCQlJZiBJRD0wIFRoZW4NCgkJCQlGaWxlTmFtZT0iZnVuY3Rpb24iJiBHZXROZXdJRA0KCQkJRWxzZQ0KCQkJCUZpbGVOYW1lPSJmdW5jdGlvbiIgJiBJRA0KCQkJRW5kIElmDQoJCUVuZCBJZg0KDQoJCUlmIEh0bWxJRD0iIiBUaGVuDQoJCQlJZiBJRD0wIFRoZW4gDQoJCQkJSHRtbElEPSJkaXZGdW5jdGlvbiIgJiBHZXROZXdJRA0KCQkJRWxzZQ0KCQkJCUh0bWxJRD0iZGl2RnVuY3Rpb24iICYgSUQNCgkJCUVuZCBJZg0KCQlFbmQgSWYNCg0KCQlJZiBPcmRlcj0wIFRoZW4NCgkJCU9yZGVyPUdldE5ld09yZGVyDQoJCUVuZCBJZg0KDQoJCUlmIFNvdXJjZT0iIiBUaGVuDQoJCQlTb3VyY2U9InVzZXJzIg0KCQlFbmQgSWYNCg0KCQlOYW1lPUxlZnQoTmFtZSw1MCkNCgkJRmlsZU5hbWU9TGVmdChGaWxlTmFtZSw1MCkNCgkJSHRtbElEPUxlZnQoSHRtbElELDUwKQ0KDQoJCUlmIEZ0eXBlPD4iZGl2IiBBbmQgRnR5cGU8PiJ1bCIgVGhlbiBGdHlwZT0iZGl2Ig0KDQoJCURpbSBzQ29udGVudA0KCQlzQ29udGVudD1Db250ZW50DQoJCUNvbnRlbnQ9RmlsdGVyU1FMKENvbnRlbnQpDQoJCUNvbnRlbnQ9VHJhbnNmZXJIVE1MKENvbnRlbnQsIlthbnRpLXpjX2Jsb2dfaG9zdF0iKQ0KDQoJCQ0KCQlJZiBJRD0wIE9yIChJbkRhdGFCYXNlPUZhbHNlIEFuZCBTb3VyY2U8PiJvdGhlciIpIFRoZW4NCgkJCW9iakNvbm4uRXhlY3V0ZSgiSU5TRVJUIElOVE8gW2Jsb2dfRnVuY3Rpb25dKFtmbl9OYW1lXSxbZm5fRmlsZU5hbWVdLFtmbl9PcmRlcl0sW2ZuX0NvbnRlbnRdLFtmbl9Jc0hpZGRlbl0sW2ZuX1NpZGViYXJJRF0sW2ZuX0h0bWxJRF0sW2ZuX0Z0eXBlXSxbZm5fTWF4TGldLFtmbl9Tb3VyY2VdLFtmbl9WaWV3VHlwZV0sW2ZuX0lzSGlkZVRpdGxlXSxbZm5fTWV0YV0pIFZBTFVFUyAoJyImTmFtZSYiJywnIiZGaWxlTmFtZSYiJywiJk9yZGVyJiIsJyImQ29udGVudCYiJywiJkNMbmcoSXNIaWRkZW4pJiIsIiZTaWRlYmFySUQmIiwnIiZIdG1sSUQmIicsJyImRnR5cGUmIicsIiZNYXhMaSYiLCciJlNvdXJjZSYiJywnIiZWaWV3VHlwZSYiJywiJkNMbmcoSXNIaWRlVGl0bGUpJiIsJyImTWV0YVN0cmluZyYiJykiKQ0KDQoJCQlEaW0gb2JqUlMNCgkJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBNQVgoW2ZuX0lEXSkgRlJPTSBbYmxvZ19GdW5jdGlvbl0iKQ0KCQkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KCQkJCUlEPW9ialJTKDApDQoJCQkJSW5EYXRhQmFzZT1UcnVlDQoJCQlFbmQgSWYNCg0KCQlFbHNlDQoJCQlJZiBJbkRhdGFCYXNlIFRoZW4NCgkJCQlvYmpDb25uLkV4ZWN1dGUoIlVQREFURSBbYmxvZ19GdW5jdGlvbl0gU0VUIFtmbl9OYW1lXT0nIiZOYW1lJiInLFtmbl9GaWxlTmFtZV09JyImRmlsZU5hbWUmIicsW2ZuX09yZGVyXT0iJk9yZGVyJiIsW2ZuX0NvbnRlbnRdPSciJkNvbnRlbnQmIicsW2ZuX0lzSGlkZGVuXT0iJkNMbmcoSXNIaWRkZW4pJiIsW2ZuX1NpZGViYXJJRF09IiZTaWRlYmFySUQmIixbZm5fSHRtbElEXT0nIiZIdG1sSUQmIicsW2ZuX0Z0eXBlXT0nIiZGdHlwZSYiJyxbZm5fTWF4TGldPSImTWF4TGkmIixbZm5fU291cmNlXT0nIiZTb3VyY2UmIicsW2ZuX1ZpZXdUeXBlXT0nIiZWaWV3VHlwZSYiJyxbZm5fSXNIaWRlVGl0bGVdPSImQ0xuZyhJc0hpZGVUaXRsZSkmIixbZm5fTWV0YV09JyImTWV0YVN0cmluZyYiJyBXSEVSRSBbZm5fSURdID0iICYgSUQpDQoJCQlFbmQgSWYJCQ0KCQlFbmQgSWYNCg0KCQlDb250ZW50PXNDb250ZW50DQoNCgkJUG9zdD1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIExvYWRJbmZvQnlJRChmbl9JRCkNCg0KCQlDYWxsIENoZWNrUGFyYW1ldGVyKGZuX0lELCJpbnQiLDApDQoNCgkJRGltIG9ialJTDQoJCVNldCBvYmpSUz1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBbZm5fSURdLFtmbl9OYW1lXSxbZm5fRmlsZU5hbWVdLFtmbl9PcmRlcl0sW2ZuX0NvbnRlbnRdLFtmbl9Jc0hpZGRlbl0sW2ZuX1NpZGViYXJJRF0sW2ZuX0h0bWxJRF0sW2ZuX0Z0eXBlXSxbZm5fTWF4TGldLFtmbl9Tb3VyY2VdLFtmbl9WaWV3VHlwZV0sW2ZuX0lzSGlkZVRpdGxlXSxbZm5fTWV0YV0gRlJPTSBbYmxvZ19GdW5jdGlvbl0gV0hFUkUgW2ZuX0lEXT0iICYgZm5fSUQpDQoNCgkJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCQlJRD1vYmpSUygiZm5fSUQiKQ0KCQkJTmFtZT1vYmpSUygiZm5fTmFtZSIpDQoJCQlGaWxlTmFtZT1vYmpSUygiZm5fRmlsZU5hbWUiKQ0KCQkJT3JkZXI9b2JqUlMoImZuX09yZGVyIikNCgkJCUNvbnRlbnQ9b2JqUlMoImZuX0NvbnRlbnQiKQ0KCQkJSXNIaWRkZW49b2JqUlMoImZuX0lzSGlkZGVuIikNCgkJCVNpZGViYXJJRD1vYmpSUygiZm5fU2lkZWJhcklEIikNCgkJCUh0bWxJRD1vYmpSUygiZm5fSHRtbElEIikNCgkJCUZ0eXBlPW9ialJTKCJmbl9GdHlwZSIpDQoJCQlNYXhMaT1vYmpSUygiZm5fTWF4TGkiKQ0KCQkJU291cmNlPW9ialJTKCJmbl9Tb3VyY2UiKQ0KCQkJVmlld1R5cGU9b2JqUlMoImZuX1ZpZXdUeXBlIikNCgkJCUlzSGlkZVRpdGxlPW9ialJTKCJmbl9Jc0hpZGVUaXRsZSIpDQoJCQlNZXRhU3RyaW5nPW9ialJTKCJmbl9NZXRhIikNCg0KCQkJTG9hZEluZm9CeUlEPVRydWUNCgkJCUluRGF0YUJhc2U9VHJ1ZQ0KDQoJCUVuZCBJZg0KDQoJCW9ialJTLkNsb3NlDQoJCVNldCBvYmpSUz1Ob3RoaW5nDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RGdW5jdGlvbl9Mb2FkSW5mb0J5SUQoSUQsTmFtZSxGaWxlTmFtZSxPcmRlcixDb250ZW50LElzSGlkZGVuLFNpZGViYXJJRCxIdG1sSUQsRnR5cGUsTWF4TGksU291cmNlLFZpZXdUeXBlLElzSGlkZVRpdGxlLE1ldGFTdHJpbmcpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUFycmF5KGFyeUNhdGVJbmZvKQ0KDQoJCUlmIElzQXJyYXkoYXJ5Q2F0ZUluZm8pPVRydWUgVGhlbg0KCQkJSUQ9YXJ5Q2F0ZUluZm8oMCkNCgkJCU5hbWU9YXJ5Q2F0ZUluZm8oMSkNCgkJCUZpbGVOYW1lPWFyeUNhdGVJbmZvKDIpDQoJCQlPcmRlcj1hcnlDYXRlSW5mbygzKQ0KCQkJQ29udGVudD1hcnlDYXRlSW5mbyg0KQ0KCQkJSXNIaWRkZW49YXJ5Q2F0ZUluZm8oNSkNCgkJCVNpZGViYXJJRD1hcnlDYXRlSW5mbyg2KQ0KCQkJSHRtbElEPWFyeUNhdGVJbmZvKDcpDQoJCQlGdHlwZT1hcnlDYXRlSW5mbyg4KQ0KCQkJTWF4TGk9YXJ5Q2F0ZUluZm8oOSkNCgkJCVNvdXJjZT1hcnlDYXRlSW5mbygxMCkNCgkJCVZpZXdUeXBlPWFyeUNhdGVJbmZvKDExKQ0KCQkJSXNIaWRlVGl0bGU9YXJ5Q2F0ZUluZm8oMTIpDQoJCQlNZXRhU3RyaW5nPWFyeUNhdGVJbmZvKDEzKQ0KCQlFbmQgSWYNCg0KCQlMb2FkSW5mb0J5QXJyYXk9VHJ1ZQ0KCQlJbkRhdGFCYXNlPVRydWUNCg0KCQlDYWxsIEZpbHRlcl9QbHVnaW5fVEZ1bmN0aW9uX0xvYWRJbmZvQnlBcnJheShJRCxOYW1lLEZpbGVOYW1lLE9yZGVyLENvbnRlbnQsSXNIaWRkZW4sU2lkZWJhcklELEh0bWxJRCxGdHlwZSxNYXhMaSxTb3VyY2UsVmlld1R5cGUsSXNIaWRlVGl0bGUsTWV0YVN0cmluZykNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gR2V0TmV3SUQoKQ0KDQoJCUdldE5ld0lEPUNMbmcob2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgVE9QIDEgW2ZuX0lEXSBGUk9NIFtibG9nX0Z1bmN0aW9uXSBPUkRFUiBCWSBbZm5fSURdIERFU0MiKSgwKSkrMQ0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBHZXROZXdPcmRlcigpDQoNCgkJR2V0TmV3T3JkZXI9Q0xuZyhvYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBUT1AgMSBbZm5fT3JkZXJdIEZST00gW2Jsb2dfRnVuY3Rpb25dIE9SREVSIEJZIFtmbl9PcmRlcl0gREVTQyIpKDApKSsxDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIEluU2lkZWJhcnMobnVtKQ0KCQlJZiBudW09MSBUaGVuIEluU2lkZWJhcnM9SW5TaWRlYmFyDQoJCUlmIG51bT0yIFRoZW4gSW5TaWRlYmFycz1JblNpZGViYXIyDQoJCUlmIG51bT0zIFRoZW4gSW5TaWRlYmFycz1JblNpZGViYXIzDQoJCUlmIG51bT00IFRoZW4gSW5TaWRlYmFycz1JblNpZGViYXI0DQoJCUlmIG51bT01IFRoZW4gSW5TaWRlYmFycz1JblNpZGViYXI1DQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBJblNpZGViYXIoKQ0KCQlJZiBTaWRlYmFySUQ9LTEgVGhlbiBJblNpZGViYXI9RmFsc2U6RXhpdCBGdW5jdGlvbg0KCQlJblNpZGViYXI9KFJvdW5kKFJpZ2h0KFNpZGViYXJJRCwxKS8xKT0xKQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEluU2lkZWJhcjIoKQ0KCQlJZiBTaWRlYmFySUQ9LTEgVGhlbiBJblNpZGViYXIyPUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSW5TaWRlYmFyMj0oUm91bmQoUmlnaHQoU2lkZWJhcklELDIpLzExKT0xKQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEluU2lkZWJhcjMoKQ0KCQlJZiBTaWRlYmFySUQ9LTEgVGhlbiBJblNpZGViYXIzPUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSW5TaWRlYmFyMz0oUm91bmQoUmlnaHQoU2lkZWJhcklELDMpLzExMSk9MSkNCglFbmQgRnVuY3Rpb24NCg0KCVB1YmxpYyBGdW5jdGlvbiBJblNpZGViYXI0KCkNCgkJSWYgU2lkZWJhcklEPS0xIFRoZW4gSW5TaWRlYmFyND1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoJCUluU2lkZWJhcjQ9KFJvdW5kKFJpZ2h0KFNpZGViYXJJRCw0KS8xMTExKT0xKQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEluU2lkZWJhcjUoKQ0KCQlJZiBTaWRlYmFySUQ9LTEgVGhlbiBJblNpZGViYXI1PUZhbHNlOkV4aXQgRnVuY3Rpb24NCgkJSW5TaWRlYmFyNT0oUm91bmQoUmlnaHQoU2lkZWJhcklELDUpLzExMTExKT0xKQ0KCUVuZCBGdW5jdGlvbg0KDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBNYWtlVGVtcGxhdGUoc3RyRnVuY3Rpb24pDQoNCgkJRGltIGh0bWwsaSxqLHMsUkUNCgkJaHRtbD1zdHJGdW5jdGlvbg0KDQoJCVNldCBSRSA9IE5ldyBSZWdFeHAgDQoJCVJFLklnbm9yZUNhc2UgPSBUcnVlIA0KCQlSRS5HbG9iYWwgPSBUcnVlIA0KDQoJCUlmIElzSGlkZVRpdGxlPVRydWUgVGhlbiANCgkJCVJFLlBhdHRlcm4gPSAiPCN0ZW1wbGF0ZTpmdW5jdGlvbl90aXRsZTpiZWdpbiM+KC58XG4pKjwjdGVtcGxhdGU6ZnVuY3Rpb25fdGl0bGU6ZW5kIz4iDQoJCQlodG1sID0gUkUuUmVwbGFjZShodG1sLCAiIikNCgkJRWxzZQ0KCQkJaHRtbD1SZXBsYWNlKGh0bWwsIjwjdGVtcGxhdGU6ZnVuY3Rpb25fdGl0bGU6YmVnaW4jPiIsIiIpDQoJCQlodG1sPVJlcGxhY2UoaHRtbCwiPCN0ZW1wbGF0ZTpmdW5jdGlvbl90aXRsZTplbmQjPiIsIiIpDQoJCUVuZCBJZg0KDQoJCUlmIEZ0eXBlPSJkaXYiIFRoZW4NCgkJCXM9IjxkaXY+PCNDQUNIRV9JTkNMVURFXyIgJiBVQ2FzZShGaWxlTmFtZSkgJiAiIz48L2Rpdj4iDQoJCQlJZiBWaWV3VHlwZT0ianMiIFRoZW4NCgkJCQlzPSI8ZGl2PjwjQ0FDSEVfSU5DTFVERV8iICYgVUNhc2UoRmlsZU5hbWUpICYgIl9KUyM+PC9kaXY+Ig0KCQkJRW5kIElmDQoJCQlJZiBWaWV3VHlwZT0iaHRtbCIgVGhlbg0KCQkJCXM9IjxkaXY+PCNDQUNIRV9JTkNMVURFXyIgJiBVQ2FzZShGaWxlTmFtZSkgJiAiX0hUTUwjPjwvZGl2PiINCgkJCUVuZCBJZg0KCQlFbmQgSWYNCg0KCQlJZiBGdHlwZT0idWwiIFRoZW4NCgkJCXM9Ijx1bD48I0NBQ0hFX0lOQ0xVREVfIiAmIFVDYXNlKEZpbGVOYW1lKSAmICIjPjwvdWw+Ig0KCQkJSWYgVmlld1R5cGU9ImpzIiBUaGVuDQoJCQkJcz0iPHVsPjwjQ0FDSEVfSU5DTFVERV8iICYgVUNhc2UoRmlsZU5hbWUpICYgIl9KUyM+PC91bD4iDQoJCQlFbmQgSWYNCgkJCUlmIFZpZXdUeXBlPSJodG1sIiBUaGVuDQoJCQkJcz0iPHVsPjwjQ0FDSEVfSU5DTFVERV8iICYgVUNhc2UoRmlsZU5hbWUpICYgIl9IVE1MIz48L3VsPiINCgkJCUVuZCBJZg0KCQlFbmQgSWYNCg0KCQkncGx1Z2luIG5vZGUNCg0KDQoJCURpbSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKCkNCgkJRGltIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKCkNCg0KCQlSZURpbSBhcnlUZW1wbGF0ZVRhZ3NOYW1lKDUpDQoJCVJlRGltIGFyeVRlbXBsYXRlVGFnc1ZhbHVlKDUpDQoNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDEpPSJmdW5jdGlvbi9pZCINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDEpPUlEDQoJCWFyeVRlbXBsYXRlVGFnc05hbWUoICAyKT0iZnVuY3Rpb24vbmFtZSINCgkJYXJ5VGVtcGxhdGVUYWdzVmFsdWUoIDIpPU5hbWUNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDMpPSJmdW5jdGlvbi9odG1saWQiDQoJCWFyeVRlbXBsYXRlVGFnc1ZhbHVlKCAzKT1IdG1sSUQNCgkJYXJ5VGVtcGxhdGVUYWdzTmFtZSggIDQpPSJmdW5jdGlvbi9jb250ZW50Ig0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggNCk9cw0KCQlhcnlUZW1wbGF0ZVRhZ3NOYW1lKCAgNSk9ImZ1bmN0aW9uL2ZpbGVuYW1lIg0KCQlhcnlUZW1wbGF0ZVRhZ3NWYWx1ZSggNSk9RmlsZU5hbWUNCg0KDQoJCSdwbHVnaW4gbm9kZQ0KDQoNCgkJaj1VQm91bmQoYXJ5VGVtcGxhdGVUYWdzTmFtZSkNCgkJRm9yIGk9MSB0byBqDQoJCQlodG1sPVJlcGxhY2UoaHRtbCwiPCMiICYgYXJ5VGVtcGxhdGVUYWdzTmFtZShpKSAmICIjPiIsYXJ5VGVtcGxhdGVUYWdzVmFsdWUoaSkpDQoJCU5leHQNCg0KCQlNYWtlVGVtcGxhdGU9aHRtbA0KDQoJRW5kIEZ1bmN0aW9uDQoNCg0KCVB1YmxpYyBGdW5jdGlvbiBTYXZlKCkNCg0KCQlDYWxsIFBvc3QoKQ0KCQlDYWxsIFNhdmVGaWxlKCkNCg0KCQlTYXZlPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gU2F2ZUZpbGUoKQ0KDQoJCUlmIEZ0eXBlPSJ1bCIgQW5kIE1heExpPjAgVGhlbg0KCQkJRGltIGksYixqDQoJCQliPVNwbGl0KENvbnRlbnQsIjwvbGk+IikNCgkJCUlmIFVCb3VuZChiKT4wIHRoZW4NCgkJCQlGb3IgaT0wIFRvIFVCb3VuZChiKS0xDQoJCQkJCWo9aisxDQoJCQkJCWIoaSk9YihpKSAmICI8L2xpPiINCgkJCQkJSWYgaj5NYXhsaSBUaGVuDQoJCQkJCQliKGkpPSIiDQoJCQkJCUVuZCBJZg0KCQkJCU5leHQNCgkJCQlDb250ZW50PUpvaW4oYiwiIikNCgkJCUVuZCBpZg0KCQlFbmQgSWYNCg0KCQlJZiBJc0hpZGRlbj1UcnVlIFRIZW4NCgkJCUNvbnRlbnQ9IiINCgkJRWxzZQ0KCQkJQ29udGVudD1UcmFuc2ZlckhUTUwoQ29udGVudCwiW2FudGktemNfYmxvZ19ob3N0XSIpDQoJCUVuZCBJZg0KDQoJCUNhbGwgU2F2ZVRvRmlsZShCbG9nUGF0aCAmICJ6Yl91c2Vycy9pbmNsdWRlLyImRmlsZU5hbWUmIi5hc3AiLENvbnRlbnQsInV0Zi04IixGYWxzZSkNCg0KCQlTYXZlRmlsZT1UcnVlDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoJUHVibGljIEZ1bmN0aW9uIERlbCgpDQoNCgkJQ2FsbCBGaWx0ZXJfUGx1Z2luX1RGdW5jdGlvbl9EZWwoSUQsTmFtZSxGaWxlTmFtZSxPcmRlcixDb250ZW50LElzSGlkZGVuLFNpZGViYXJJRCxIdG1sSUQsRnR5cGUsTWF4TGksU291cmNlLFZpZXdUeXBlLElzSGlkZVRpdGxlLE1ldGFTdHJpbmcpDQoNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihJRCwiaW50IiwwKQ0KDQoJCUlmIChJRD0wKSBUaGVuIERlbD1GYWxzZTpFeGl0IEZ1bmN0aW9uDQoNCgkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19GdW5jdGlvbl0gV0hFUkUgW2ZuX0lEXSA9IiAmIElEKQ0KCQkNCgkJSW5EYXRhQmFzZT1GYWxzZQ0KDQoJCUNhbGwgRGVsRmlsZSgpDQoNCgkJRGVsPVRydWUNCg0KCUVuZCBGdW5jdGlvbg0KDQoNCglQdWJsaWMgRnVuY3Rpb24gRGVsRmlsZSgpDQoNCgkJQ2FsbCBEZWxUb0ZpbGUoQmxvZ1BhdGggJiAiemJfdXNlcnMvaW5jbHVkZS8iICYgRmlsZU5hbWUgJiAiLmFzcCIpDQoNCglFbmQgRnVuY3Rpb24NCg0KDQoNCglQcml2YXRlIFN1YiBDbGFzc19Jbml0aWFsaXplKCkNCgkJSUQ9MA0KCQlGdHlwZT0iZGl2Ig0KCQlTaWRlYmFySUQ9MQ0KCQlJc0hpZGRlbj1GYWxzZQ0KCQlJc0hpZGVUaXRsZT1GYWxzZQ0KCQlNYXhMaT0wDQoJCVNvdXJjZT0idXNlcnMiDQoJCUluRGF0YUJhc2U9RmFsc2UNCgkJU2V0IE1ldGE9TmV3IFRNZXRhDQoJRW5kIFN1Yg0KDQoNCkVuZCBDbGFzcw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonICAgICAgICAgICAgICAgICAgICAgICAgVENvdW50ZXINCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkNsYXNzIFRDb3VudGVyDQoNCglQdWJsaWMgSUQNCglQdWJsaWMgSVANCglQdWJsaWMgQWdlbnQNCglQdWJsaWMgQ29udGVudA0KCVB1YmxpYyBVc2VySUQNCglQdWJsaWMgUG9zdFRpbWUNCglQdWJsaWMgUG9zdERhdGENCglQdWJsaWMgVVJMDQoJUHVibGljIFJlZmVyZXINCglQdWJsaWMgQWxsUmVxdWVzdEhlYWRlcg0KCVB1YmxpYyBOYW1lDQoNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUlkKG5pZCkNCgkJQ2FsbCBDaGVja1BhcmFtZXRlcihuaWQsImludCIsMCkNCgkJRGltIHN0clNRTA0KCQlzdHJTUUw9IlNFTEVDVCBbY291bl9JRF0sW2NvdW5fSVBdLFtjb3VuX0FnZW50XSxbY291bl9SZWZlcl0sW2NvdW5fUG9zdFRpbWVdLFtjb3VuX0NvbnRlbnRdLFtjb3VuX1VzZXJJRF0sW2NvdW5fUG9zdERhdGFdLFtjb3VuX1VSTF0sW2NvdW5fQWxsUmVxdWVzdEhlYWRlcl0sW2NvdW5fbG9nTmFtZV0gRlJPTSBbYmxvZ19Db3VudGVyXSBXSEVSRSBbY291bl9JRF09IiZuaWQNCgkJRGltIG9ialJzDQoJCVNldCBvYmpScz1vYmpDb25uLkV4ZWN1dGUoc3Ryc3FsKQ0KCQlJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoJCQlJRD1vYmpScygwKQ0KCQkJSVA9dmJzdW5lc2NhcGUob2JqUnMoMSkpDQoJCQlBZ2VudD12YnN1bmVzY2FwZShvYmpScygyKSkNCgkJCVJlZmVyZXI9dmJzdW5lc2NhcGUob2JqUnMoMykpDQoJCQlQb3N0VGltZT1vYmpScyg0KQ0KCQkJQ29udGVudD12YnN1bmVzY2FwZShvYmpScyg1KSkNCgkJCVVzZXJJRD1vYmpScyg2KQ0KCQkJUG9zdERhdGE9dmJzdW5lc2NhcGUob2JqUnMoNykpDQoJCQlVUkw9dmJzdW5lc2NhcGUob2JqUnMoOCkpDQoJCQlBbGxSZXF1ZXN0SGVhZGVyPXZic3VuZXNjYXBlKG9ialJzKDkpKQ0KCQkJTmFtZT12YnN1bmVzY2FwZShvYmpScygxMCkpDQoJCQlMb2FkSW5mb0J5SWQ9VHJ1ZQ0KCQlFbmQgSWYNCglFbmQgRnVuY3Rpb24NCgkNCglQdWJsaWMgRnVuY3Rpb24gTG9hZEluZm9CeUFycmF5KG9ialJzKQ0KDQoJCUlmIElzQXJyYXkob2JqUnMpPVRydWUgVGhlbg0KDQoJCQlJRD1vYmpScygwKQ0KCQkJSVA9dmJzdW5lc2NhcGUob2JqUnMoMSkpDQoJCQlBZ2VudD12YnN1bmVzY2FwZShvYmpScygyKSkNCgkJCVJlZmVyZXI9dmJzdW5lc2NhcGUob2JqUnMoMykpDQoJCQlQb3N0VGltZT1vYmpScyg0KQ0KCQkJQ29udGVudD12YnN1bmVzY2FwZShvYmpScyg1KSkNCgkJCVVzZXJJRD1vYmpScyg2KQ0KCQkJUG9zdERhdGE9dmJzdW5lc2NhcGUob2JqUnMoNykpDQoJCQlVUkw9dmJzdW5lc2NhcGUob2JqUnMoOCkpDQoJCQlBbGxSZXF1ZXN0SGVhZGVyPXZic3VuZXNjYXBlKG9ialJzKDkpKQ0KCQkJUG9zdFRpbWUgPSBZZWFyKFBvc3RUaW1lKSAmICItIiAmIE1vbnRoKFBvc3RUaW1lKSAmICItIiAmIERheShQb3N0VGltZSkgJiAiICIgJiBIb3VyKFBvc3RUaW1lKSAmICI6IiAmIE1pbnV0ZShQb3N0VGltZSkgJiAiOiIgJiBTZWNvbmQoUG9zdFRpbWUpDQoJCQlOYW1lPXZic3VuZXNjYXBlKG9ialJzKDEwKSkNCgkJCUxvYWRJbmZvQnlBcnJheT1UcnVlDQoJCUVuZCBJZg0KDQoNCglFbmQgRnVuY3Rpb24NCg0KCVB1YmxpYyBGdW5jdGlvbiBBZGQoYixjKQ0KCQlJUD1HZXRSZWFsbHlJUCgpDQoJCUFnZW50PVJlcXVlc3QuU2VydmVyVmFyaWFibGVzKCJIVFRQX1VTRVJfQUdFTlQiKQ0KCQlSZWZlcmVyPVJlcXVlc3QuU2VydmVyVmFyaWFibGVzKCJIVFRQX1JFRkVSRVIiKQ0KCQlQb3N0VGltZT1Gb3JtYXREYXRlVGltZShOb3cpDQoJCUNvbnRlbnQ9Yw0KCQlVc2VySUQ9QmxvZ1VzZXIuSUQNCgkJUG9zdERhdGE9SUlmKElJZihJblN0cihMQ2FzZShSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiQ09OVEVOVF9UWVBFIikpLCJtdWx0aXBhcnQvZm9ybS1kYXRhIik+MCxUcnVlLEZhbHNlKSwiQmluYXJ5IFBvc3REYXRhIixSZXF1ZXN0LkZvcm0pDQoJCVVSTD1HZXRVcmwNCgkJTmFtZT1iDQoJCUFsbFJlcXVlc3RIZWFkZXI9UmVxdWVzdC5TZXJ2ZXJWYXJpYWJsZXMoIkFMTF9IVFRQIikNCgkJRGltIGosayxpLG0NCgkJaj1BcnJheShJUCxBZ2VudCxSZWZlcmVyLFBvc3RUaW1lLENvbnRlbnQsVXNlcklELFBvc3REYXRhLFVSTCxBbGxSZXF1ZXN0SGVhZGVyLE5hbWUpDQoJCWs9QXJyYXkoImNvdW5fSVAiLCJjb3VuX0FnZW50IiwiY291bl9SZWZlciIsImNvdW5fUG9zdFRpbWUiLCJjb3VuX0NvbnRlbnQiLCJjb3VuX1VzZXJJRCIsImNvdW5fUG9zdERhdGEiLCJjb3VuX1VSTCIsImNvdW5fQWxsUmVxdWVzdEhlYWRlciIsImNvdW5fbG9nTmFtZSIpDQoJCW09IklOU0VSVCBJTlRPIFtibG9nX0NvdW50ZXJdKCINCgkJRm9yIGk9MCBUbyBVYm91bmQoayktMQ0KCQkJbT1tJiJbIiZrKGkpJiJdLCINCgkJTmV4dA0KCQltPW0mIlsiJmsoaSkmIl0pIFZBTFVFUygiDQoJCUZvciBpPTAgVG8gVWJvdW5kKGopLTENCgkJCW09bSYiJyImSUlmKGk9MyBvciBpPTUsaihpKSx2YnNlc2NhcGUoaihpKSkpJiInLCINCgkJTmV4dA0KCQltPW0mIiciJnZic2VzY2FwZShqKGkpKSYiJyINCgkJbT1tJiIpIg0KCQlvYmpDb25uLkV4ZWN1dGUgbQ0KCQkNCgkJSUQ9b2JqQ29ubi5FeGVjdXRlKCJTRUxFQ1QgTUFYKFtjb3VuX0lEXSkgRlJPTSBbYmxvZ19Db3VudGVyXSIpKDApDQoJRW5kIEZ1bmN0aW9uDQoJDQoJUHVibGljIEZ1bmN0aW9uIEdldFVybA0KCQlHZXRVcmw9UmVxdWVzdC5TZXJ2ZXJWYXJpYWJsZXMoIkhUVFBfTUVUSE9EIikmIjogIg0KCQlHZXRVcmw9R2V0VXJsJklJZihMQ2FzZShSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiSFRUUFMiKSk9Im9mZiIsImh0dHA6Ly8iLCJodHRwczovLyIpDQoJCUdldFVybD1HZXRVcmwgJiBSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiU0VSVkVSX05BTUUiKSANCgkJR2V0VXJsPUlJZihSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiU0VSVkVSX1BPUlQiKTw+ODAsR2V0VXJsJiI6IiZSZXF1ZXN0LlNlcnZlclZhcmlhYmxlcygiU0VSVkVSX1BPUlQiKSxHZXRVcmwpDQoJCUdldFVybD1HZXRVcmwmUmVxdWVzdC5TZXJ2ZXJWYXJpYWJsZXMoIlVSTCIpIA0KCQlHZXRVcmw9SUlmKFRyaW0oUmVxdWVzdC5RdWVyeVN0cmluZyk8PiIiLEdldFVybCYiPyImVHJpbShSZXF1ZXN0LlF1ZXJ5U3RyaW5nKSxHZXRVcmwpIA0KCUVuZCBGdW5jdGlvbg0KDQoJRnVuY3Rpb24gRGVsT2xkKGludGVydmFsLCBvbGQpDQoJCUlmIFpDX01TU1FMX0VOQUJMRSBUaGVuDQoJCQlvYmpDb25uLkV4ZWN1dGUoIkRFTEVURSBGUk9NIFtibG9nX0NvdW50ZXJdIFdIRVJFIERBVEVESUZGKCImaW50ZXJ2YWwmIixbY291bl9Qb3N0VGltZV0sZ2V0ZGF0ZSgpKT4iJm9sZCkNCgkJRWxzZQ0KCQkJb2JqQ29ubi5FeGVjdXRlKCJERUxFVEUgRlJPTSBbYmxvZ19Db3VudGVyXSBXSEVSRSBEQVRFRElGRignIiZpbnRlcnZhbCYiJyxbY291bl9Qb3N0VGltZV0sbm93KCkpPiImb2xkKQ0KCQlFbmQgSWYNCglFbmQgRnVuY3Rpb24NCkVuZCBDbGFzcw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCictLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQonKioqKioqKioqKioqKiogIOmjjuWjsCBBU1Ag5peg57uE5Lu25LiK5Lyg57G7IFYyLjExICAqKioqKioqKioqKioqDQon5L2c6ICF77ya6aOO5aOwDQon572R56uZ77yaaHR0cDovL3d3dy5mb25zaGVuLmNvbQ0KJ+mCruS7tu+8mndlYm1hc3RlckBmb25zaGVuLmNvbQ0KJ+eJiOadg++8mueJiOadg+WFqOS9kyzmupDku6PnoIHlhazlvIAs5ZCE56eN55So6YCU5Z2H5Y+v5YWN6LS55L2/55SoDQon5YW25LuW77ya5pyJ56iN5L2c5pS55YqoDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCkNsYXNzIFVwTG9hZENsYXNzDQoNCglQcml2YXRlIG1fVG90YWxTaXplLG1fTWF4U2l6ZSxtX0ZpbGVUeXBlLG1fU2F2ZVBhdGgsbV9BdXRvU2F2ZSxtX0Vycm9yLG1fQ2hhcnNldA0KCVByaXZhdGUgbV9kaWNGb3JtLG1fYmluRm9ybSxtX2Jpbkl0ZW0sbV9zdHJEYXRlLG1fbG5nVGltZQ0KCVB1YmxpYwlGb3JtSXRlbSxGaWxlSXRlbQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBWZXJzaW9uDQoJCVZlcnNpb249IkZvbnNoZW4gQVNQIFVwTG9hZENsYXNzIFZlcnNpb24gMi4xMSINCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRXJyb3INCgkJRXJyb3I9bV9FcnJvcg0KCUVuZCBQcm9wZXJ0eQ0KDQoJUHVibGljIFByb3BlcnR5IEdldCBDaGFyc2V0DQoJCUNoYXJzZXQ9bV9DaGFyc2V0DQoJRW5kIFByb3BlcnR5DQoJUHVibGljIFByb3BlcnR5IExldCBDaGFyc2V0KHN0ckNoYXJzZXQpDQoJCW1fQ2hhcnNldD1zdHJDaGFyc2V0DQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFRvdGFsU2l6ZQ0KCQlUb3RhbFNpemU9bV9Ub3RhbFNpemUNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IFRvdGFsU2l6ZShsbmdTaXplKQ0KCQlpZiBpc051bWVyaWMobG5nU2l6ZSkgdGhlbiBtX1RvdGFsU2l6ZT1DbG5nKGxuZ1NpemUpDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IE1heFNpemUNCgkJTWF4U2l6ZT1tX01heFNpemUNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IE1heFNpemUobG5nU2l6ZSkNCgkJaWYgaXNOdW1lcmljKGxuZ1NpemUpIHRoZW4gbV9NYXhTaXplPUNsbmcobG5nU2l6ZSkNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgRmlsZVR5cGUNCgkJRmlsZVR5cGU9bV9GaWxlVHlwZQ0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgRmlsZVR5cGUoc3RyVHlwZSkNCgkJbV9GaWxlVHlwZT1zdHJUeXBlDQoJRW5kIFByb3BlcnR5DQoNCglQdWJsaWMgUHJvcGVydHkgR2V0IFNhdmVQYXRoDQoJCVNhdmVQYXRoPW1fU2F2ZVBhdGgNCglFbmQgUHJvcGVydHkNCglQdWJsaWMgUHJvcGVydHkgTGV0IFNhdmVQYXRoKHN0clBhdGgpDQoJCW1fU2F2ZVBhdGg9UmVwbGFjZShzdHJQYXRoLGNocigwKSwiIikNCglFbmQgUHJvcGVydHkNCg0KCVB1YmxpYyBQcm9wZXJ0eSBHZXQgQXV0b1NhdmUNCgkJQXV0b1NhdmU9bV9BdXRvU2F2ZQ0KCUVuZCBQcm9wZXJ0eQ0KCVB1YmxpYyBQcm9wZXJ0eSBMZXQgQXV0b1NhdmUoYnlWYWwgRmxhZykNCgkJc2VsZWN0IGNhc2UgRmxhZw0KCQkJY2FzZSAwLDEsMjogbV9BdXRvU2F2ZT1GbGFnDQoJCWVuZCBzZWxlY3QNCglFbmQgUHJvcGVydHkNCg0KCVByaXZhdGUgU3ViIENsYXNzX0luaXRpYWxpemUNCgkJbV9FcnJvcgkgICA9IC0xDQoJCW1fQ2hhcnNldCAgPSAiZ2IyMzEyIg0KCQltX1RvdGFsU2l6ZT0gMA0KCQltX01heFNpemUgID0gMTUzNjAwDQoJCW1fRmlsZVR5cGUgPSAianBnL2dpZiINCgkJbV9TYXZlUGF0aCA9ICIiDQoJCW1fQXV0b1NhdmUgPSAwDQoJCURpbSBkdG1Ob3cgOiBkdG1Ob3cgPSBEYXRlKCkNCgkJbV9zdHJEYXRlICA9IFllYXIoZHRtTm93KSZSaWdodCgiMCImTW9udGgoZHRtTm93KSwyKSZSaWdodCgiMCImRGF5KGR0bU5vdyksMikNCgkJbV9sbmdUaW1lICA9IENsbmcoVGltZXIoKSoxMDAwKQ0KCQlTZXQgbV9iaW5Gb3JtID0gU2VydmVyLkNyZWF0ZU9iamVjdCgiQURPREIuU3RyZWFtIikNCgkJU2V0IG1fYmluSXRlbSA9IFNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlN0cmVhbSIpDQoJCVNldCBtX2RpY0Zvcm0gPSBTZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRGljdGlvbmFyeSIpDQoJCW1fZGljRm9ybS5Db21wYXJlTW9kZSA9IDENCglFbmQgU3ViDQoNCglQcml2YXRlIFN1YiBDbGFzc19UZXJtaW5hdGUNCgkJbV9kaWNGb3JtLlJlbW92ZUFsbA0KCQlTZXQgbV9kaWNGb3JtID0gbm90aGluZw0KCQlTZXQgbV9iaW5JdGVtID0gbm90aGluZw0KCQltX2JpbkZvcm0uQ2xvc2UoKQ0KCQlTZXQgbV9iaW5Gb3JtID0gbm90aGluZw0KCUVuZCBTdWINCg0KCVB1YmxpYyBGdW5jdGlvbiBPcGVuKCkNCgkJT3BlbiA9IDANCgkJaWYgbV9FcnJvcj0tMSB0aGVuDQoJCQltX0Vycm9yPTANCgkJZWxzZQ0KCQkJRXhpdCBGdW5jdGlvbg0KCQllbmQgaWYNCgkJRGltIGxuZ1JlcXVlc3RTaXplIDogbG5nUmVxdWVzdFNpemU9UmVxdWVzdC5Ub3RhbEJ5dGVzDQoJCWlmIG1fVG90YWxTaXplPjAgYW5kIGxuZ1JlcXVlc3RTaXplPm1fVG90YWxTaXplIHRoZW4NCgkJCW1fRXJyb3I9NQ0KCQkJRXhpdCBGdW5jdGlvbg0KCQllbHNlaWYgbG5nUmVxdWVzdFNpemU8MSB0aGVuDQoJCQltX0Vycm9yPTQNCgkJCUV4aXQgRnVuY3Rpb24NCgkJZW5kIGlmDQoNCgkJRGltIGxuZ0NodW5rQnl0ZSA6IGxuZ0NodW5rQnl0ZSA9IDEwMjQwMA0KCQlEaW0gbG5nUmVhZFNpemUgOiBsbmdSZWFkU2l6ZSA9IDANCgkJbV9iaW5Gb3JtLlR5cGUgPSAxDQoJCW1fYmluRm9ybS5PcGVuKCkNCgkJZG8NCgkJCW1fYmluRm9ybS5Xcml0ZSBSZXF1ZXN0LkJpbmFyeVJlYWQobG5nQ2h1bmtCeXRlKQ0KCQkJbG5nUmVhZFNpemU9bG5nUmVhZFNpemUrbG5nQ2h1bmtCeXRlDQoJCQlpZiAgbG5nUmVhZFNpemUgPj0gbG5nUmVxdWVzdFNpemUgdGhlbiBleGl0IGRvDQoJCWxvb3AJCQ0KCQltX2JpbkZvcm0uUG9zaXRpb249MA0KCQlEaW0gYmluUmVxdWVzdERhdGEgOiBiaW5SZXF1ZXN0RGF0YT1tX2JpbkZvcm0uUmVhZCgpDQoNCgkJRGltIGJDckxmLHN0clNlcGFyYXRvcixpbnRTZXBhcmF0b3INCgkJYkNyTGY9Q2hyQigxMykmQ2hyQigxMCkNCgkJaW50U2VwYXJhdG9yPUluc3RyQigxLGJpblJlcXVlc3REYXRhLGJDckxmKS0xDQoJCXN0clNlcGFyYXRvcj1MZWZ0QihiaW5SZXF1ZXN0RGF0YSxpbnRTZXBhcmF0b3IpDQoNCgkJRGltIHN0ckl0ZW0sc3RySW5hbSxzdHJGdHlwLHN0clB1cmksc3RyRm5hbSxzdHJGZXh0LGxuZ0ZzaXoNCgkJQ29uc3Qgc3RyU3BsaXQ9IiciIj4iDQoJCURpbSBzdHJGb3JtSXRlbSxzdHJGaWxlSXRlbSxpbnRUZW1wLHN0clRlbXANCgkJRGltIHBfc3RhcnQgOiBwX3N0YXJ0PWludFNlcGFyYXRvcisyDQoJCURpbSBwX2VuZA0KCQlEbw0KCQkJcF9lbmQgPSBJblN0ckIocF9zdGFydCxiaW5SZXF1ZXN0RGF0YSxiQ3JMZiZiQ3JMZiktMQ0KCQkJbV9iaW5JdGVtLlR5cGU9MQ0KCQkJbV9iaW5JdGVtLk9wZW4oKQ0KCQkJbV9iaW5Gb3JtLlBvc2l0aW9uPXBfc3RhcnQNCgkJCW1fYmluRm9ybS5Db3B5VG8gbV9iaW5JdGVtLHBfZW5kLXBfc3RhcnQNCgkJCW1fYmluSXRlbS5Qb3NpdGlvbj0wDQoJCQltX2Jpbkl0ZW0uVHlwZT0yDQoJCQltX2Jpbkl0ZW0uQ2hhcnNldD1tX0NoYXJzZXQNCgkJCXN0ckl0ZW0gPSBtX2Jpbkl0ZW0uUmVhZFRleHQoKQ0KCQkJbV9iaW5JdGVtLkNsb3NlKCkNCgkJCWludFRlbXA9SW5zdHIoMzksc3RySXRlbSwiIiIiKQ0KCQkJc3RySW5hbT1NaWQoc3RySXRlbSwzOSxpbnRUZW1wLTM5KQ0KDQoJCQlwX3N0YXJ0ID0gcF9lbmQgKyA0DQoJCQlwX2VuZCA9IEluU3RyQihwX3N0YXJ0LGJpblJlcXVlc3REYXRhLHN0clNlcGFyYXRvciktMQ0KCQkJbV9iaW5JdGVtLlR5cGU9MQ0KCQkJbV9iaW5JdGVtLk9wZW4oKQ0KCQkJbV9iaW5Gb3JtLlBvc2l0aW9uPXBfc3RhcnQNCgkJCWxuZ0ZzaXo9cF9lbmQtcF9zdGFydC0yDQoJCQltX2JpbkZvcm0uQ29weVRvIG1fYmluSXRlbSxsbmdGc2l6DQoNCg0KCQkJaWYgSW5zdHIoaW50VGVtcCxzdHJJdGVtLCJmaWxlbmFtZT0iIiIpPD4wIHRoZW4NCgkJCWlmIG5vdCBtX2RpY0Zvcm0uRXhpc3RzKHN0ckluYW0mIl9Gcm9tIikgdGhlbg0KCQkJCXN0ckZpbGVJdGVtPXN0ckZpbGVJdGVtJnN0clNwbGl0JnN0ckluYW0NCgkJCQlpZiBtX2Jpbkl0ZW0uU2l6ZTw+MCB0aGVuDQoJCQkJCWludFRlbXA9aW50VGVtcCsxMw0KCQkJCQlzdHJGdHlwPU1pZChzdHJJdGVtLEluc3RyKGludFRlbXAsc3RySXRlbSwiQ29udGVudC1UeXBlOiAiKSsxNCkNCgkJCQkJc3RyUHVyaT1NaWQoc3RySXRlbSxpbnRUZW1wLEluc3RyKGludFRlbXAsc3RySXRlbSwiIiIiKS1pbnRUZW1wKQ0KCQkJCQlpbnRUZW1wPUluc3RyUmV2KHN0clB1cmksIlwiKQ0KCQkJCQlzdHJGbmFtPU1pZChzdHJQdXJpLGludFRlbXArMSkNCgkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfVHlwZSIsc3RyRnR5cA0KCQkJCQltX2RpY0Zvcm0uQWRkIHN0ckluYW0mIl9OYW1lIixzdHJGbmFtDQoJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX1BhdGgiLExlZnQoc3RyUHVyaSxpbnRUZW1wKQ0KCQkJCQltX2RpY0Zvcm0uQWRkIHN0ckluYW0mIl9TaXplIixsbmdGc2l6DQoJCQkJCWlmIEluc3RyKHN0ckZuYW0sIi4iKTw+MCB0aGVuDQoJCQkJCQlzdHJGZXh0PU1pZChzdHJGbmFtLEluc3RyUmV2KHN0ckZuYW0sIi4iKSsxKQ0KCQkJCQllbHNlDQoJCQkJCQlzdHJGZXh0PSIiDQoJCQkJCWVuZCBpZg0KDQoJCQkJCXNlbGVjdCBjYXNlIHN0ckZ0eXANCgkJCQkJY2FzZSAiaW1hZ2UvanBlZyIsImltYWdlL3BqcGVnIiwiaW1hZ2UvanBnIg0KCQkJCQkJaWYgTGNhc2Uoc3RyRmV4dCk8PiJqcGciIHRoZW4gc3RyRmV4dD0ianBnIg0KCQkJCQkJbV9iaW5JdGVtLlBvc2l0aW9uPTMNCgkJCQkJCWRvIHdoaWxlIG5vdCBtX2Jpbkl0ZW0uRU9TDQoJCQkJCQkJZG8NCgkJCQkJCQkJaW50VGVtcCA9IEFzY2IobV9iaW5JdGVtLlJlYWQoMSkpDQoJCQkJCQkJbG9vcCB3aGlsZSBpbnRUZW1wID0gMjU1IGFuZCBub3QgbV9iaW5JdGVtLkVPUw0KCQkJCQkJCWlmIGludFRlbXAgPCAxOTIgb3IgaW50VGVtcCA+IDE5NSB0aGVuDQoJCQkJCQkJCW1fYmluSXRlbS5yZWFkKEJpbjJWYWwobV9iaW5JdGVtLlJlYWQoMikpLTIpDQoJCQkJCQkJZWxzZQ0KCQkJCQkJCQlFeGl0IGRvDQoJCQkJCQkJZW5kIGlmDQoJCQkJCQkJZG8NCgkJCQkJCQkJaW50VGVtcCA9IEFzY2IobV9iaW5JdGVtLlJlYWQoMSkpDQoJCQkJCQkJbG9vcCB3aGlsZSBpbnRUZW1wIDwgMjU1IGFuZCBub3QgbV9iaW5JdGVtLkVPUw0KCQkJCQkJbG9vcA0KCQkJCQkJbV9iaW5JdGVtLlJlYWQoMykNCgkJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX0hlaWdodCIsQmluMlZhbChtX2Jpbkl0ZW0uUmVhZCgyKSkNCgkJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX1dpZHRoIixCaW4yVmFsKG1fYmluSXRlbS5SZWFkKDIpKQ0KCQkJCQljYXNlICJpbWFnZS9naWYiDQoJCQkJCQlpZiBMY2FzZShzdHJGZXh0KTw+ImdpZiIgdGhlbiBzdHJGZXh0PSJnaWYiDQoJCQkJCQltX2Jpbkl0ZW0uUG9zaXRpb249Ng0KCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfV2lkdGgiLEJpblZhbDIobV9iaW5JdGVtLlJlYWQoMikpDQoJCQkJCQltX2RpY0Zvcm0uQWRkIHN0ckluYW0mIl9IZWlnaHQiLEJpblZhbDIobV9iaW5JdGVtLlJlYWQoMikpDQoJCQkJCWNhc2UgImltYWdlL3BuZyINCgkJCQkJCWlmIExjYXNlKHN0ckZleHQpPD4icG5nIiB0aGVuIHN0ckZleHQ9InBuZyINCgkJCQkJCW1fYmluSXRlbS5Qb3NpdGlvbj0xOA0KCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfV2lkdGgiLEJpbjJWYWwobV9iaW5JdGVtLlJlYWQoMikpDQoJCQkJCQltX2Jpbkl0ZW0uUmVhZCgyKQ0KCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfSGVpZ2h0IixCaW4yVmFsKG1fYmluSXRlbS5SZWFkKDIpKQ0KCQkJCQljYXNlICJpbWFnZS9ibXAiDQoJCQkJCQlpZiBMY2FzZShzdHJGZXh0KTw+ImJtcCIgdGhlbiBzdHJGZXh0PSJibXAiDQoJCQkJCQltX2Jpbkl0ZW0uUG9zaXRpb249MTgNCgkJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX1dpZHRoIixCaW5WYWwyKG1fYmluSXRlbS5SZWFkKDQpKQ0KCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfSGVpZ2h0IixCaW5WYWwyKG1fYmluSXRlbS5SZWFkKDQpKQ0KCQkJCQljYXNlICJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCINCgkJCQkJCWlmIExjYXNlKHN0ckZleHQpPD4ic3dmIiB0aGVuIHN0ckZleHQ9InN3ZiINCgkJCQkJCW1fYmluSXRlbS5Qb3NpdGlvbj0wDQoJCQkJCQlpZiBBc2NiKG1fYmluSXRlbS5SZWFkKDEpKT03MCB0aGVuDQoJCQkJCQkJbV9iaW5JdGVtLlBvc2l0aW9uPTgNCgkJCQkJCQlzdHJUZW1wID0gTnVtMlN0cihBc2NiKG1fYmluSXRlbS5SZWFkKDEpKSwgMiAsOCkNCgkJCQkJCQlpbnRUZW1wID0gU3RyMk51bShMZWZ0KHN0clRlbXAsIDUpLCAyKQ0KCQkJCQkJCXN0clRlbXAgPSBNaWQoc3RyVGVtcCwgNikNCgkJCQkJCQl3aGlsZSAoTGVuKHN0clRlbXApIDwgaW50VGVtcCAqIDQpDQoJCQkJCQkJCXN0clRlbXAgPSBzdHJUZW1wICYgTnVtMlN0cihBc2NiKG1fYmluSXRlbS5SZWFkKDEpKSwgMiAsOCkNCgkJCQkJCQl3ZW5kDQoJCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfV2lkdGgiLCBJbnQoQWJzKFN0cjJOdW0oTWlkKHN0clRlbXAsIGludFRlbXAgKyAxLCBpbnRUZW1wKSwgMikgLSBTdHIyTnVtKE1pZChzdHJUZW1wLCAxLCBpbnRUZW1wKSwgMikpIC8gMjApDQoJCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtJiJfSGVpZ2h0IixJbnQoQWJzKFN0cjJOdW0oTWlkKHN0clRlbXAsIDMgKiBpbnRUZW1wICsgMSwgaW50VGVtcCksIDIpIC0gU3RyMk51bShNaWQoc3RyVGVtcCwgMiAqIGludFRlbXAgKyAxLCBpbnRUZW1wKSwgMikpIC8gMjApDQoJCQkJCQllbmQgaWYNCgkJCQkJZW5kIHNlbGVjdA0KDQoJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX0V4dCIsc3RyRmV4dA0KCQkJCQltX2RpY0Zvcm0uQWRkIHN0ckluYW0mIl9Gcm9tIixwX3N0YXJ0DQoJCQkJCWlmIG1fQXV0b1NhdmU8PjIgdGhlbg0KCQkJCQkJaW50VGVtcD1HZXRGZXJyKGxuZ0ZzaXosc3RyRmV4dCkNCgkJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX0VyciIsaW50VGVtcA0KCQkJCQkJaWYgaW50VGVtcD0wIHRoZW4NCgkJCQkJCQlpZiBtX0F1dG9TYXZlPTAgdGhlbg0KCQkJCQkJCQlzdHJGbmFtPUdldFRpbWVTdHIoKQ0KCQkJCQkJCQlpZiBzdHJGZXh0PD4iIiB0aGVuIHN0ckZuYW09c3RyRm5hbSYiLiImc3RyRmV4dA0KCQkJCQkJCWVuZCBpZg0KCQkJCQkJCW1fYmluSXRlbS5TYXZlVG9GaWxlIG1fU2F2ZVBhdGgmc3RyRm5hbSwyDQoJCQkJCQkJbV9kaWNGb3JtLkFkZCBzdHJJbmFtLHN0ckZuYW0NCgkJCQkJCWVuZCBpZg0KCQkJCQllbmQgaWYNCgkJCQllbHNlDQoJCQkJCW1fZGljRm9ybS5BZGQgc3RySW5hbSYiX0VyciIsLTENCgkJCQllbmQgaWYNCgkJCWVuZCBpZg0KCQkJZWxzZQ0KCQkJCW1fYmluSXRlbS5Qb3NpdGlvbj0wDQoJCQkJbV9iaW5JdGVtLlR5cGU9Mg0KCQkJCW1fYmluSXRlbS5DaGFyc2V0PW1fQ2hhcnNldA0KCQkJCXN0clRlbXA9bV9iaW5JdGVtLlJlYWRUZXh0DQoJCQkJaWYgbV9kaWNGb3JtLkV4aXN0cyhzdHJJbmFtKSB0aGVuDQoJCQkJCW1fZGljRm9ybShzdHJJbmFtKSA9IG1fZGljRm9ybShzdHJJbmFtKSYiLCImc3RyVGVtcA0KCQkJCWVsc2UNCgkJCQkJc3RyRm9ybUl0ZW09c3RyRm9ybUl0ZW0mc3RyU3BsaXQmc3RySW5hbQ0KCQkJCQltX2RpY0Zvcm0uQWRkIHN0ckluYW0sc3RyVGVtcA0KCQkJCWVuZCBpZg0KCQkJZW5kIGlmDQoNCgkJCW1fYmluSXRlbS5DbG9zZSgpDQoJCQlwX3N0YXJ0ID0gcF9lbmQraW50U2VwYXJhdG9yKzINCgkJbG9vcCBVbnRpbCBwX3N0YXJ0KzM+bG5nUmVxdWVzdFNpemUNCgkJRm9ybUl0ZW09U3BsaXQoc3RyRm9ybUl0ZW0sc3RyU3BsaXQpDQoJCUZpbGVJdGVtPVNwbGl0KHN0ckZpbGVJdGVtLHN0clNwbGl0KQ0KCQkNCgkJT3BlbiA9IGxuZ1JlcXVlc3RTaXplDQoJRW5kIEZ1bmN0aW9uDQoNCglQcml2YXRlIEZ1bmN0aW9uIEdldFRpbWVTdHIoKQ0KCQltX2xuZ1RpbWU9bV9sbmdUaW1lKzENCgkJR2V0VGltZVN0cj1tX3N0ckRhdGUmUmlnaHQoIjAwMDAwMDAwIiZtX2xuZ1RpbWUsOCkNCglFbmQgRnVuY3Rpb24NCg0KCVByaXZhdGUgRnVuY3Rpb24gR2V0RmVycihsbmdGc2l6LHN0ckZleHQpDQoJCWRpbSBpbnRGZXJyDQoJCWludEZlcnI9MA0KCQlpZiBsbmdGc2l6Pm1fTWF4U2l6ZSBhbmQgbV9NYXhTaXplPjAgdGhlbg0KCQkJaWYgbV9FcnJvcj0wIG9yIG1fRXJyb3I9MiB0aGVuIG1fRXJyb3I9bV9FcnJvcisxDQoJCQlpbnRGZXJyPWludEZlcnIrMQ0KCQllbmQgaWYNCgkJaWYgSW5zdHIoMSxMQ2FzZSgiLyImbV9GaWxlVHlwZSYiLyIpLExDYXNlKCIvIiZzdHJGZXh0JiIvIikpPTAgYW5kIG1fRmlsZVR5cGU8PiIiIHRoZW4NCgkJCWlmIG1fRXJyb3I8MiB0aGVuIG1fRXJyb3I9bV9FcnJvcisyDQoJCQlpbnRGZXJyPWludEZlcnIrMg0KCQllbmQgaWYNCgkJR2V0RmVycj1pbnRGZXJyDQoJRW5kIEZ1bmN0aW9uDQoNCglQdWJsaWMgRnVuY3Rpb24gU2F2ZShJdGVtLHN0ckZuYW0pDQoJCVNhdmU9ZmFsc2UNCgkJaWYgbV9kaWNGb3JtLkV4aXN0cyhJdGVtJiJfRnJvbSIpIHRoZW4NCgkJCWRpbSBpbnRGZXJyLHN0ckZleHQNCgkJCXN0ckZleHQ9bV9kaWNGb3JtKEl0ZW0mIl9FeHQiKQ0KCQkJaW50RmVycj1HZXRGZXJyKG1fZGljRm9ybShJdGVtJiJfU2l6ZSIpLHN0ckZleHQpDQoJCQlpZiBtX2RpY0Zvcm0uRXhpc3RzKEl0ZW0mIl9FcnIiKSB0aGVuDQoJCQkJaWYgaW50RmVycj0wIHRoZW4NCgkJCQkJbV9kaWNGb3JtKEl0ZW0mIl9FcnIiKT0wDQoJCQkJZW5kIGlmDQoJCQllbHNlDQoJCQkJbV9kaWNGb3JtLkFkZCBJdGVtJiJfRXJyIixpbnRGZXJyDQoJCQllbmQgaWYNCgkJCWlmIGludEZlcnI8PjAgdGhlbiBFeGl0IEZ1bmN0aW9uDQoJCQlpZiBWYXJUeXBlKHN0ckZuYW0pPTIgdGhlbg0KCQkJCXNlbGVjdCBjYXNlIHN0ckZuYW0NCgkJCQkJY2FzZSAwOnN0ckZuYW09R2V0VGltZVN0cigpDQoJCQkJCQlpZiBzdHJGZXh0PD4iIiB0aGVuIHN0ckZuYW09c3RyRm5hbSYiLiImc3RyRmV4dA0KCQkJCQljYXNlIDE6c3RyRm5hbT1tX2RpY0Zvcm0oSXRlbSYiX05hbWUiKQ0KCQkJCWVuZCBzZWxlY3QNCgkJCWVuZCBpZg0KCQkJbV9iaW5JdGVtLlR5cGUgPSAxDQoJCQltX2Jpbkl0ZW0uT3Blbg0KCQkJbV9iaW5Gb3JtLlBvc2l0aW9uID0gbV9kaWNGb3JtKEl0ZW0mIl9Gcm9tIikNCgkJCW1fYmluRm9ybS5Db3B5VG8gbV9iaW5JdGVtLG1fZGljRm9ybShJdGVtJiJfU2l6ZSIpDQoJCQltX2Jpbkl0ZW0uU2F2ZVRvRmlsZSBtX1NhdmVQYXRoJnN0ckZuYW0sMg0KCQkJbV9iaW5JdGVtLkNsb3NlKCkNCgkJCWlmIG1fZGljRm9ybS5FeGlzdHMoSXRlbSkgdGhlbg0KCQkJCW1fZGljRm9ybShJdGVtKT1zdHJGbmFtDQoJCQllbHNlDQoJCQkJbV9kaWNGb3JtLkFkZCBJdGVtLHN0ckZuYW0NCgkJCWVuZCBpZg0KCQkJU2F2ZT10cnVlDQoJCWVuZCBpZg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEdldERhdGEoSXRlbSkNCgkJR2V0RGF0YT0iIg0KCQlpZiBtX2RpY0Zvcm0uRXhpc3RzKEl0ZW0mIl9Gcm9tIikgdGhlbg0KCQkJaWYgR2V0RmVycihtX2RpY0Zvcm0oSXRlbSYiX1NpemUiKSxtX2RpY0Zvcm0oSXRlbSYiX0V4dCIpKTw+MCB0aGVuIEV4aXQgRnVuY3Rpb24NCgkJCW1fYmluRm9ybS5Qb3NpdGlvbiA9IG1fZGljRm9ybShJdGVtJiJfRnJvbSIpDQoJCQlHZXREYXRhID0gbV9iaW5Gb3JtLlJlYWQobV9kaWNGb3JtKEl0ZW0mIl9TaXplIikpDQoJCWVuZCBpZg0KCUVuZCBGdW5jdGlvbg0KDQoJUHVibGljIEZ1bmN0aW9uIEZvcm0oSXRlbSkNCgkJaWYgbV9kaWNGb3JtLkV4aXN0cyhJdGVtKSB0aGVuDQoJCQlGb3JtPW1fZGljRm9ybShJdGVtKQ0KCQllbHNlDQoJCQlGb3JtPSIiDQoJCWVuZCBpZg0KCUVuZCBGdW5jdGlvbg0KDQoJUHJpdmF0ZSBGdW5jdGlvbiBCaW5WYWwyKGJpbikNCgkJZGltIGxuZ1ZhbHVlLGkNCgkJbG5nVmFsdWU9MA0KCQlmb3IgaSA9IGxlbmIoYmluKSB0byAxIHN0ZXAgLTENCgkJCWxuZ1ZhbHVlID0gbG5nVmFsdWUgKjI1NiArIEFzY2IobWlkYihiaW4saSwxKSkNCglOZXh0DQoJCUJpblZhbDI9bG5nVmFsdWUNCglFbmQgRnVuY3Rpb24NCg0KCVByaXZhdGUgRnVuY3Rpb24gQmluMlZhbChiaW4pDQoJCWRpbSBsbmdWYWx1ZSxpDQoJCWxuZ1ZhbHVlPTANCgkJZm9yIGkgPSAxIHRvIGxlbmIoYmluKQ0KCQkJbG5nVmFsdWUgPSBsbmdWYWx1ZSAqMjU2ICsgQXNjYihtaWRiKGJpbixpLDEpKQ0KCU5leHQNCgkJQmluMlZhbD1sbmdWYWx1ZQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHJpdmF0ZSBGdW5jdGlvbiBOdW0yU3RyKG51bSwgYmFzZSwgbGVucykNCgkJRGltIHJldCxpDQoJCXJldCA9ICIiDQoJCXdoaWxlKG51bSA+PSBiYXNlKQ0KCQkJaSAgID0gbnVtIE1vZCBiYXNlDQoJCQlyZXQgPSBpICYgcmV0DQoJCQludW0gPSAobnVtIC0gaSkgLyBiYXNlDQoJCXdlbmQNCgkJTnVtMlN0ciA9IFJpZ2h0KFN0cmluZyhsZW5zLCAiMCIpICYgbnVtICYgcmV0LCBsZW5zKQ0KCUVuZCBGdW5jdGlvbg0KDQoJUHJpdmF0ZSBGdW5jdGlvbiBTdHIyTnVtKHN0ciwgYmFzZSkNCgkJRGltIHJldCwgaQ0KCQlyZXQgPSAwIA0KCQlmb3IgaSA9IDEgdG8gTGVuKHN0cikNCgkJCXJldCA9IHJldCAqIGJhc2UgKyBDaW50KE1pZChzdHIsIGksIDEpKQ0KCU5leHQNCgkJU3RyMk51bSA9IHJldA0KCUVuZCBGdW5jdGlvbg0KCVB1YmxpYyBGdW5jdGlvbiBFcnJvcjJJbmZvKEl0ZW0pDQoJCVNlbGVjdCBDYXNlIG1fZGljRm9ybShJdGVtJiJfRXJyIikNCgkJCWNhc2UgLTE6RXJyb3IySW5mbyA9ICLkuIrkvKDmsqHmnInlvIDlp4siDQoJCQljYXNlIDA6IEVycm9yMkluZm8gPSAiU1VDQ0VTUyINCgkJCWNhc2UgMTogRXJyb3IySW5mbyA9ICLmlofku7blm6DlpKfkuo4gIiZtX01heFNpemUmIuWtl+iKgiDogIzmnKrooqvkv53lrZjjgIIiDQoJCQljYXNlIDI6IEVycm9yMkluZm8gPSAi5paH5Lu25Zug5omp5bGV5ZCN5LiN56ym5ZCI6ICM5pyq6KKr5L+d5a2Y44CCIg0KCQkJY2FzZSAzOiBFcnJvcjJJbmZvID0gIuaWh+S7tuWboOi/h+Wkp+S4lOS4jeespuWQiOaJqeWxleWQjeOAgiINCgkJCWNhc2UgNDogRXJyb3IySW5mbyA9ICLlvILluLjvvIzkuI3lrZjlnKjkuIrkvKDjgIIiDQoJCQljYXNlIDU6IEVycm9yMkluZm8gPSAi5LiK5Lyg5bey57uP5Y+W5raI77yM6K+35qOA5p+l5oC75LiK6L295pWw5o2u5piv5ZCm5bCP5LqOICImbV9Ub3RhbFNpemUmIiDjgIIiDQoJCUVuZCBTZWxlY3QNCglFbmQgRnVuY3Rpb24NCg0KRW5kIENsYXNzDQolPg==</file>
	<file name='zb_system\FUNCTION\c_system_manage.asp' crc32='7BACA643'  dt:dt='bin.base64'>77u/PCUNCicvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vDQonLy8gICAgICAgICAgICAgIFotQmxvZw0KJy8vIOS9nCAgICDogIU6ICAgIOacseeFiih6eC5hc2QpMjAwOC01LTMwDQonLy8g54mI5p2D5omA5pyJOiAgICBSYWluYm93U29mdCBTdHVkaW8NCicvLyDmioDmnK/mlK/mjIE6ICAgIHJhaW5ib3dzb2Z0QDE2My5jb20NCicvLyDnqIvluo/lkI3np7A6DQonLy8g56iL5bqP54mI5pysOg0KJy8vIOWNleWFg+WQjeensDogICAgY19zeXN0ZW1fbWFuYWdlLmFzcA0KJy8vIOW8gOWni+aXtumXtDogICAgMjAwNS4wMi4xMQ0KJy8vIOacgOWQjuS/ruaUuToNCicvLyDlpIcgICAg5rOoOg0KJy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8NCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEV4cG9ydFBhZ2VCYXIoUGFnZU5vdyxQYWdlQWxsLFBhZ2VMZW5ndGgsVXJsKQ0KDQpJZiBQYWdlQWxsPTAgVGhlbg0KCUV4aXQgRnVuY3Rpb24NCkVuZCBpZg0KDQpEaW0gcw0KRGltIGkNCg0KJ0RpbSBQYWdlTm93DQonRGltIFBhZ2VBbGwNCidEaW0gUGFnZUxlbmd0aA0KRGltIFBhZ2VGcmlzdA0KRGltIFBhZ2VMYXN0DQpEaW0gUGFnZVByZXZpb3VzDQpEaW0gUGFnZU5leHQNCkRpbSBQYWdlQmVnaW4NCkRpbSBQYWdlRW5kDQoNClBhZ2VGcmlzdCA9IDENClBhZ2VMYXN0ID0gUGFnZUFsbA0KDQpQYWdlQmVnaW4gPSBQYWdlTm93DQpQYWdlRW5kID0gUGFnZUJlZ2luICsgUGFnZUxlbmd0aCAtIDENCg0KSWYgUGFnZUVuZCA+IFBhZ2VBbGwgVGhlbg0KCVBhZ2VFbmQgPSBQYWdlQWxsDQoJUGFnZUJlZ2luID0gUGFnZUFsbCAtIFBhZ2VMZW5ndGggKyAxDQoJSWYgUGFnZUJlZ2luIDwgMSBUaGVuDQoJCVBhZ2VCZWdpbiA9IDENCglFbmQgSWYNCkVuZCBJZg0KDQpzPXMgJiI8YSBocmVmPSciJlVybCAmIFBhZ2VGcmlzdCAmIic+IiYgIiZsdDsmbHQ7IiAmIjwvYT4gIg0KDQpGb3IgaT1QYWdlQmVnaW4gVG8gUGFnZUVuZA0KCUlmIGk9UGFnZU5vdyBUaGVuDQoJCXM9cyAmIjxzcGFuPiImIFJlcGxhY2UoWkNfTVNHMDM2LCIlcyIsaSkgJiI8L3NwYW4+ICINCglFbHNlDQoJCXM9cyAmIjxhIGhyZWY9JyImVXJsICYgaSAgJiInPiImIFJlcGxhY2UoWkNfTVNHMDM2LCIlcyIsaSkgJiI8L2E+ICINCglFbmQgSWYNCk5leHQNCg0Kcz1zICYiPGEgaHJlZj0nIiZVcmwgJiBQYWdlTGFzdCAgJiInPiImICImZ3Q7Jmd0OyIgJiI8L2E+ICINCg0KRXhwb3J0UGFnZUJhcj1zDQoNCkVuZCBGdW5jdGlvbg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBBcnRpY2xlcw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRXhwb3J0QXJ0aWNsZUxpc3QoaW50UGFnZSxpbnRDYXRlLGludExldmVsLGJvbElzdG9wLGludFRpdGxlKQ0KDQonQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fQXJ0aWNsZU1uZ19TdWJNZW51IixNYWtlU3ViTWVudShaQ19NU0cxNjggJiAiIiwiLi4vY21kLmFzcD9hY3Q9QXJ0aWNsZUVkdCZhbXA7d2ViZWRpdD0iICYgWkNfQkxPR19XRUJFRElULCJtLWxlZnQiLEZhbHNlKSkNCg0KCURpbSBpDQoJRGltIG9ialJTDQoJRGltIHN0clNRTA0KCURpbSBzdHJQYWdlDQoJRGltIGludFBhZ2VBbGwNCg0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50UGFnZSwiaW50IiwxKQ0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50Q2F0ZSwiaW50IiwtMSkNCglDYWxsIENoZWNrUGFyYW1ldGVyKGludExldmVsLCJpbnQiLC0xKQ0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoYm9sSXN0b3AsImJvb2wiLEZhbHNlKQ0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50VGl0bGUsInNxbCIsLTEpDQoJaW50VGl0bGU9dmJzdW5lc2NhcGUoaW50VGl0bGUpDQoJaW50VGl0bGU9RmlsdGVyU1FMKGludFRpdGxlKQ0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJkaXZIZWFkZXIiIj4iICYgWkNfTVNHMDY3ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIlN1Yk1lbnUiIj4iICYgUmVzcG9uc2VfUGx1Z2luX0FydGljbGVNbmdfU3ViTWVudSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXZNYWluMiIiPiINCg0KDQoNCglSZXNwb25zZS5Xcml0ZSAiPGZvcm0gY2xhc3M9IiJzZWFyY2giIiBpZD0iImVkaXQiIiBtZXRob2Q9IiJwb3N0IiIgYWN0aW9uPSIiLi4vYWRtaW4vYWRtaW4uYXNwP2FjdD1BcnRpY2xlTW5nIiI+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxwPiImWkNfTVNHMTU4JiI6Jm5ic3A7Jm5ic3A7Ig0KDQoJUmVzcG9uc2UuV3JpdGUgWkNfTVNHMDEyJiIgPHNlbGVjdCBjbGFzcz0iImVkaXQiIiBzaXplPSIiMSIiIGlkPSIiY2F0ZSIiIG5hbWU9IiJjYXRlIiIgc3R5bGU9IiJ3aWR0aDoxMDBweDsiIiA+PG9wdGlvbiB2YWx1ZT0iIi0xIiI+IiZaQ19NU0cxNTcmIjwvb3B0aW9uPiAiDQoNCglEaW0gYXJ5Q2F0ZUluT3JkZXIgOiBhcnlDYXRlSW5PcmRlcj1HZXRDYXRlZ29yeU9yZGVyKCkNCglEaW0gbSxuDQoJSWYgSXNBcnJheShhcnlDYXRlSW5PcmRlcikgVGhlbg0KCUZvciBtPUxCb3VuZChhcnlDYXRlSW5PcmRlcikrMSBUbyBVYm91bmQoYXJ5Q2F0ZUluT3JkZXIpDQoJCUlmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihtKSkuUGFyZW50SUQ9MCBUaGVuDQoJCQlSZXNwb25zZS5Xcml0ZSAiPG9wdGlvbiB2YWx1ZT0iIiImQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKG0pKS5JRCYiIiI+IiZUcmFuc2ZlckhUTUwoIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihtKSkuTmFtZSwiW2h0bWwtZm9ybWF0XSIpJiI8L29wdGlvbj4iDQoNCgkJCUZvciBuPTAgVG8gVUJvdW5kKGFyeUNhdGVJbk9yZGVyKQ0KCQkJCUlmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihuKSkuUGFyZW50SUQ9Q2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKG0pKS5JRCBUaGVuDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8b3B0aW9uIHZhbHVlPSIiIiZDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIobikpLklEJiIiIj7ilJQiJlRyYW5zZmVySFRNTCggQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKG4pKS5OYW1lLCJbaHRtbC1mb3JtYXRdIikmIjwvb3B0aW9uPiINCgkJCQlFbmQgSWYNCgkJCU5leHQNCgkJRW5kIElmDQoJTmV4dA0KCUVuZCBJZg0KCVJlc3BvbnNlLldyaXRlICI8L3NlbGVjdD4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiDQoNCglSZXNwb25zZS5Xcml0ZSBaQ19NU0cwNjEmIiA8c2VsZWN0IGNsYXNzPSIiZWRpdCIiIHNpemU9IiIxIiIgaWQ9IiJsZXZlbCIiIG5hbWU9IiJsZXZlbCIiIHN0eWxlPSIid2lkdGg6ODBweDsiIiA+PG9wdGlvbiB2YWx1ZT0iIi0xIiI+IiZaQ19NU0cxNTcmIjwvb3B0aW9uPiAiDQoNCglGb3IgaT1MQm91bmQoWlZBX0FydGljbGVfTGV2ZWxfTmFtZSkrMSB0byBVYm91bmQoWlZBX0FydGljbGVfTGV2ZWxfTmFtZSkNCgkJCVJlc3BvbnNlLldyaXRlICI8b3B0aW9uIHZhbHVlPSIiIiZpJiIiIiAiDQoJCQlSZXNwb25zZS5Xcml0ZSAiPiImWlZBX0FydGljbGVfTGV2ZWxfTmFtZShpKSYiPC9vcHRpb24+Ig0KCU5leHQNCglSZXNwb25zZS5Xcml0ZSAiPC9zZWxlY3Q+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxsYWJlbD48aW5wdXQgdHlwZT0iImNoZWNrYm94IiIgbmFtZT0iImlzdG9wIiIgaWQ9IiJpc3RvcCIiIHZhbHVlPSIiVHJ1ZSIiLz4mbmJzcDsiJlpDX01TRzA1MSYiPC9sYWJlbD4iDQoNCglSZXNwb25zZS5Xcml0ZSAiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGlucHV0IGlkPSIidGl0bGUiIiBuYW1lPSIidGl0bGUiIiBzdHlsZT0iIndpZHRoOjI1MHB4OyIiIHR5cGU9IiJ0ZXh0IiIgdmFsdWU9IiIiIiAvPiAiDQoJUmVzcG9uc2UuV3JpdGUgIiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxpbnB1dCB0eXBlPSIic3VibWl0IiIgY2xhc3M9IiJidXR0b24iIiB2YWx1ZT0iIiImWkNfTVNHMDg3JiIiIi8+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvcD48L2Zvcm0+Ig0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCXN0clNRTD0iV0hFUkUgKFtsb2dfVHlwZV09MCkgQU5EIChbbG9nX0xldmVsXT4wKSBBTkQgKDE9MSkgIg0KDQoJSWYgQ2hlY2tSaWdodHMoIlJvb3QiKT1GYWxzZSBBbmQgQ2hlY2tSaWdodHMoIkFydGljbGVBbGwiKT1GYWxzZSBUaGVuIHN0clNRTD0gc3RyU1FMICYgIkFORCBbbG9nX0F1dGhvcklEXSA9ICIgJiBCbG9nVXNlci5JRA0KDQoJSWYgaW50Q2F0ZTw+LTEgVGhlbg0KCQlEaW0gc3RyU3ViQ2F0ZUlEIDogc3RyU3ViQ2F0ZUlEPUpvaW4oR2V0U3ViQ2F0ZUlEKGludENhdGUsVHJ1ZSksIiwiKQ0KCQlzdHJTUUw9IHN0clNRTCAmICIgQU5EIFtsb2dfQ2F0ZUlEXSBJTiAoIiAmIHN0clN1YkNhdGVJRCAmICIpIg0KCUVuZCBJZg0KDQoJSWYgaW50TGV2ZWw8Pi0xIFRoZW4NCgkJc3RyU1FMPSBzdHJTUUwgJiAiIEFORCBbbG9nX0xldmVsXSA9ICIgJiBpbnRMZXZlbA0KCUVuZCBJZg0KDQoJSWYgYm9sSXN0b3A9VHJ1ZSBUaGVuDQoJCXN0clNRTD0gc3RyU1FMICYgIiBBTkQgW2xvZ19Jc1RvcF0gPD4gMCINCglFbmQgSWYNCg0KCUlmIGludFRpdGxlPD4iLTEiIFRoZW4NCgkJSWYgWkNfTVNTUUxfRU5BQkxFPUZhbHNlIFRoZW4NCgkJCXN0clNRTCA9IHN0clNRTCAmICJBTkQgKCAoSW5TdHIoMSxMQ2FzZShbbG9nX1RpdGxlXSksTENhc2UoJyIgJiBpbnRUaXRsZSAmIicpLDApPD4wKSBPUiAoSW5TdHIoMSxMQ2FzZShbbG9nX0ludHJvXSksTENhc2UoJyIgJiBpbnRUaXRsZSAmIicpLDApPD4wKSBPUiAoSW5TdHIoMSxMQ2FzZShbbG9nX0NvbnRlbnRdKSxMQ2FzZSgnIiAmIGludFRpdGxlICYiJyksMCk8PjApICkiDQoJCUVsc2UNCgkJCXN0clNRTCA9IHN0clNRTCAmICJBTkQgKCAoQ0hBUklOREVYKCciICYgaW50VGl0bGUgJiInLFtsb2dfVGl0bGVdKTw+MCkgT1IgKENIQVJJTkRFWCgnIiAmIGludFRpdGxlICYiJyxbbG9nX0ludHJvXSk8PjApIE9SIChDSEFSSU5ERVgoJyIgJiBpbnRUaXRsZSAmIicsW2xvZ19Db250ZW50XSk8PjApICkiDQoJCUVuZCBJZg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjx0YWJsZSBib3JkZXI9IiIxIiIgd2lkdGg9IiIxMDAlIiIgY2VsbHNwYWNpbmc9IiIwIiIgY2VsbHBhZGRpbmc9IiIwIiIgY2xhc3M9IiJ0YWJsZUJvcmRlciB0YWJsZUJvcmRlci10aGNlbnRlciIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHRyPjx0aCB3aWR0aD0iIjUlIiI+IiYgWkNfTVNHMDc2ICYiPC90aD48dGggd2lkdGg9IiIxNCUiIj4iJiBaQ19NU0cwMTIgJiI8L3RoPjx0aCB3aWR0aD0iIjEyJSIiPiImIFpDX01TRzAwMyAmIjwvdGg+PHRoPiImIFpDX01TRzA2MCAmIjwvdGg+PHRoIHdpZHRoPSIiMTQlIiI+IiYgWkNfTVNHMDc1ICYiPC90aD48dGggd2lkdGg9IiI2JSIiPiImIFpDX01TRzAxMyAmIjwvdGg+PHRoIHdpZHRoPSIiOSUiIj4iJiBaQ19NU0cwNjEgJiI8L3RoPjx0aCB3aWR0aD0iIjEyJSIiPjwvdGg+PC90cj4iDQoNCglvYmpSUy5PcGVuKCJTRUxFQ1QgKiBGUk9NIFtibG9nX0FydGljbGVdICImIHN0clNRTCAmIiBPUkRFUiBCWSBbbG9nX1Bvc3RUaW1lXSBERVNDIikNCglvYmpSUy5QYWdlU2l6ZT1aQ19NQU5BR0VfQ09VTlQNCglJZiBvYmpSUy5QYWdlQ291bnQ+MCBUaGVuIG9ialJTLkFic29sdXRlUGFnZSA9IGludFBhZ2UNCglpbnRQYWdlQWxsPW9ialJTLlBhZ2VDb3VudA0KDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCUZvciBpPTEgdG8gb2JqUlMuUGFnZVNpemUNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0cj4iDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIG9ialJTKCJsb2dfSUQiKSAmICI8L3RkPiINCg0KCQkJRGltIENhdGVnb3J5DQoJCQlGb3IgRWFjaCBDYXRlZ29yeSBpbiBDYXRlZ29yeXMNCgkJCQlJZiBJc09iamVjdChDYXRlZ29yeSkgVGhlbg0KCQkJCQlJZiBDYXRlZ29yeS5JRD1vYmpSUygibG9nX0NhdGVJRCIpIFRoZW4NCgkJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+Ig0KCQkJCQkJSWYgTm90IENhdGVnb3J5LlBhcmVudElEPTAgVGhlbg0KCQkJCQkJZW5kIGlmDQoJCQkJCQlSZXNwb25zZS5Xcml0ZSBDYXRlZ29yeS5OYW1lDQoJCQkJCQlSZXNwb25zZS5Xcml0ZSAiPC90ZD4iDQoJCQkJCUVuZCBJZg0KCQkJCUVuZCBJZg0KCQkJTmV4dA0KDQoJCQlDYWxsIEdldFVzZXJzYnlVc2VySURMaXN0KG9ialJTKCJsb2dfQXV0aG9ySUQiKSkNCgkJCURpbSBVc2VyDQoJCQlGb3IgRWFjaCBVc2VyIGluIFVzZXJzDQoJCQkJSWYgSXNPYmplY3QoVXNlcikgVGhlbg0KCQkJCQlJZiBVc2VyLklEPW9ialJTKCJsb2dfQXV0aG9ySUQiKSBUaGVuDQoJCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBVc2VyLk5hbWUgJiAiPC90ZD4iDQoJCQkJCUVuZCBJZg0KCQkJCUVuZCBJZg0KCQkJTmV4dA0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPjxkaXYgc3R5bGU9J292ZXJmbG93OmhpZGRlbjtoZWlnaHQ6MS41ZW07Jz48YSBocmVmPSIiIiZJSWYob2JqUnMoImxvZ19MZXZlbCIpPTEsIi4uL2NtZC5hc3A/YWN0PUFydGljbGVFZHQmYW1wO3dlYmVkaXQ9IiYgWkNfQkxPR19XRUJFRElUICYiJmFtcDtpZD0iICYgb2JqUlMoImxvZ19JRCIpLCIuLi8uLi92aWV3LmFzcD9uYXY9IiAmIG9ialJTKCJsb2dfSUQiKSkgJiAiIiIgdGl0bGU9IiIiJiBSZXBsYWNlKG9ialJTKCJsb2dfVGl0bGUiKSwiIiIiLCIiKSAmIiIiIHRhcmdldD0iIl9ibGFuayIiPiIgJiBvYmpSUygibG9nX1RpdGxlIikgJiAiPC9hPjwvZGl2PjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgRm9ybWF0RGF0ZVRpbWUob2JqUlMoImxvZ19Qb3N0VGltZSIpLHZiU2hvcnREYXRlKSAmICI8L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIG9ialJTKCJsb2dfQ29tbU51bXMiKSAmICI8L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIFpWQV9BcnRpY2xlX0xldmVsX05hbWUob2JqUlMoImxvZ19MZXZlbCIpKSAmICI8L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQgYWxpZ249IiJjZW50ZXIiIj48YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9QXJ0aWNsZUVkdCZhbXA7d2ViZWRpdD0iJiBaQ19CTE9HX1dFQkVESVQgJiImYW1wO2lkPSIgJiBvYmpSUygibG9nX0lEIikgJiAiIiI+PGltZyBzcmM9IiIuLi9pbWFnZS9hZG1pbi9wYWdlX2VkaXQucG5nIiIgYWx0PSIiIiAmIFpDX01TRzEwMCAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cxMDAgJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyINCgkJCVJlc3BvbnNlLldyaXRlICI8YSBvbmNsaWNrPSdyZXR1cm4gd2luZG93LmNvbmZpcm0oIiIiJiBaQ19NU0cwNTggJiIiIik7JyBocmVmPSIiLi4vY21kLmFzcD9hY3Q9QXJ0aWNsZURlbCZhbXA7aWQ9IiAmIG9ialJTKCJsb2dfSUQiKSAmICIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2RlbGV0ZS5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDYzICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA2MyAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC90cj4iDQoNCgkJCW9ialJTLk1vdmVOZXh0DQoJCQlJZiBvYmpSUy5lb2YgVGhlbiBFeGl0IEZvcg0KDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KDQoJSWYgIGludFBhZ2VBbGw+MSBUaGVuIA0KCQlzdHJQYWdlPUV4cG9ydFBhZ2VCYXIoaW50UGFnZSxpbnRQYWdlQWxsLFpDX1BBR0VCQVJfQ09VTlQsIi4uL2FkbWluL2FkbWluLmFzcD9hY3Q9QXJ0aWNsZU1uZyZhbXA7Y2F0ZT0iJlJlUXVlc3QoImNhdGUiKSYiJmFtcDtsZXZlbD0iJlJlUXVlc3QoImxldmVsIikmIiZhbXA7dGl0bGU9IiZFc2NhcGUoUmVRdWVzdCgidGl0bGUiKSkgJiAiJmFtcDtwYWdlPSIpDQoNCgkJUmVzcG9uc2UuV3JpdGUgIjxoci8+PHAgY2xhc3M9IiJwYWdlYmFyIiI+IiAmIFpDX01TRzA0MiAmICI6ICIgJiBzdHJQYWdlICYgIjwvcD4iDQoJRW5kIElmIA0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFBcnRpY2xlTW5nIiIpOzwvc2NyaXB0PiINCg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUV4cG9ydEFydGljbGVMaXN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIE1hbmFnZXIgU2luZ2xlUGFnZXMNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEV4cG9ydFBhZ2VMaXN0KGludFBhZ2UsaW50Q2F0ZSxpbnRMZXZlbCxpbnRUaXRsZSkNCg0KQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fQXJ0aWNsZU1uZ19TdWJNZW51IixNYWtlU3ViTWVudShaQ19NU0cxMTMgJiAiIiwiLi4vY21kLmFzcD9hY3Q9QXJ0aWNsZUVkdCZhbXA7dHlwZT1QYWdlJmFtcDt3ZWJlZGl0PSIgJiBaQ19CTE9HX1dFQkVESVQsIm0tbGVmdCIsRmFsc2UpKQ0KDQoJRGltIGkNCglEaW0gb2JqUlMNCglEaW0gc3RyU1FMDQoJRGltIHN0clBhZ2UNCglEaW0gaW50UGFnZUFsbA0KDQoJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRQYWdlLCJpbnQiLDEpDQoJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRDYXRlLCJpbnQiLC0xKQ0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50TGV2ZWwsImludCIsLTEpDQoJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRUaXRsZSwic3FsIiwtMSkNCglpbnRUaXRsZT12YnN1bmVzY2FwZShpbnRUaXRsZSkNCglpbnRUaXRsZT1GaWx0ZXJTUUwoaW50VGl0bGUpDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImRpdkhlYWRlciIiPiIgJiBaQ19NU0cxMTEgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fQXJ0aWNsZU1uZ19TdWJNZW51ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBpZD0iImRpdk1haW4yIiI+Ig0KDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8Zm9ybSBjbGFzcz0iInNlYXJjaCIiIGlkPSIiZWRpdCIiIG1ldGhvZD0iInBvc3QiIiBhY3Rpb249IiIuLi9hZG1pbi9hZG1pbi5hc3A/YWN0PUFydGljbGVNbmcmYW1wO3R5cGU9UGFnZSIiPiINCg0KCVJlc3BvbnNlLldyaXRlICI8cD4iJlJFUExBQ0UoWkNfTVNHMTU4LFpDX01TRzA0OCxaQ19NU0cxNjApJiI6Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7Ig0KDQoJUmVzcG9uc2UuV3JpdGUgWkNfTVNHMDYxJiIgPHNlbGVjdCBjbGFzcz0iImVkaXQiIiBzaXplPSIiMSIiIGlkPSIibGV2ZWwiIiBuYW1lPSIibGV2ZWwiIiBzdHlsZT0iIndpZHRoOjgwcHg7IiIgPjxvcHRpb24gdmFsdWU9IiItMSIiPiImWkNfTVNHMTU3JiI8L29wdGlvbj4gIg0KDQoJRm9yIGk9TEJvdW5kKFpWQV9BcnRpY2xlX0xldmVsX05hbWUpKzEgdG8gVWJvdW5kKFpWQV9BcnRpY2xlX0xldmVsX05hbWUpDQoJCQlSZXNwb25zZS5Xcml0ZSAiPG9wdGlvbiB2YWx1ZT0iIiImaSYiIiIgIg0KCQkJUmVzcG9uc2UuV3JpdGUgIj4iJlJlcGxhY2UoWlZBX0FydGljbGVfTGV2ZWxfTmFtZShpKSxaQ19NU0cwNDgsWkNfTVNHMTYwKSAmIjwvb3B0aW9uPiINCglOZXh0DQoJUmVzcG9uc2UuV3JpdGUgIjwvc2VsZWN0PiINCg0KCVJlc3BvbnNlLldyaXRlICImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgaWQ9IiJ0aXRsZSIiIG5hbWU9IiJ0aXRsZSIiIHN0eWxlPSIid2lkdGg6MjUwcHg7IiIgdHlwZT0iInRleHQiIiB2YWx1ZT0iIiIiIC8+ICINCglSZXNwb25zZS5Xcml0ZSAiJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGlucHV0IHR5cGU9IiJzdWJtaXQiIiBjbGFzcz0iImJ1dHRvbiIiIHZhbHVlPSIiIiZaQ19NU0cwODcmIiIiLz4iDQoNCglSZXNwb25zZS5Xcml0ZSAiPC9wPjwvZm9ybT4iDQoNCg0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCXN0clNRTD0iV0hFUkUgKFtsb2dfVHlwZV09MSkgQU5EIChbbG9nX0xldmVsXT4wKSBBTkQgKDE9MSkgIg0KDQoJSWYgQ2hlY2tSaWdodHMoIlJvb3QiKT1GYWxzZSBBbmQgQ2hlY2tSaWdodHMoIkFydGljbGVBbGwiKT1GYWxzZSBUaGVuIHN0clNRTD0gc3RyU1FMICYgIkFORCBbbG9nX0F1dGhvcklEXSA9ICIgJiBCbG9nVXNlci5JRA0KDQoJSWYgaW50Q2F0ZTw+LTEgVGhlbg0KCQlEaW0gc3RyU3ViQ2F0ZUlEIDogc3RyU3ViQ2F0ZUlEPUpvaW4oR2V0U3ViQ2F0ZUlEKGludENhdGUsVHJ1ZSksIiwiKQ0KCQlzdHJTUUw9IHN0clNRTCAmICIgQU5EIFtsb2dfQ2F0ZUlEXSBJTiAoIiAmIHN0clN1YkNhdGVJRCAmICIpIg0KCUVuZCBJZg0KDQoJSWYgaW50TGV2ZWw8Pi0xIFRoZW4NCgkJc3RyU1FMPSBzdHJTUUwgJiAiIEFORCBbbG9nX0xldmVsXSA9ICIgJiBpbnRMZXZlbA0KCUVuZCBJZg0KDQoJSWYgaW50VGl0bGU8PiItMSIgVGhlbg0KCQlJZiBaQ19NU1NRTF9FTkFCTEU9RmFsc2UgVGhlbg0KCQkJc3RyU1FMID0gc3RyU1FMICYgIkFORCAoIChJblN0cigxLExDYXNlKFtsb2dfVGl0bGVdKSxMQ2FzZSgnIiAmIGludFRpdGxlICYiJyksMCk8PjApIE9SIChJblN0cigxLExDYXNlKFtsb2dfSW50cm9dKSxMQ2FzZSgnIiAmIGludFRpdGxlICYiJyksMCk8PjApIE9SIChJblN0cigxLExDYXNlKFtsb2dfQ29udGVudF0pLExDYXNlKCciICYgaW50VGl0bGUgJiInKSwwKTw+MCkgKSINCgkJRWxzZQ0KCQkJc3RyU1FMID0gc3RyU1FMICYgIkFORCAoIChDSEFSSU5ERVgoJyIgJiBpbnRUaXRsZSAmIicsW2xvZ19UaXRsZV0pPD4wKSBPUiAoQ0hBUklOREVYKCciICYgaW50VGl0bGUgJiInLFtsb2dfSW50cm9dKTw+MCkgT1IgKENIQVJJTkRFWCgnIiAmIGludFRpdGxlICYiJyxbbG9nX0NvbnRlbnRdKTw+MCkgKSINCgkJRW5kIElmDQoJRW5kIElmDQoNCglSZXNwb25zZS5Xcml0ZSAiPHRhYmxlIGJvcmRlcj0iIjEiIiB3aWR0aD0iIjEwMCUiIiBjZWxsc3BhY2luZz0iIjAiIiBjZWxscGFkZGluZz0iIjAiIiAgY2xhc3M9IiJ0YWJsZUJvcmRlciB0YWJsZUJvcmRlci10aGNlbnRlciIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHRyPjx0aCB3aWR0aD0nNSUnPiImIFpDX01TRzA3NiAmIjwvdGg+PHRoIHdpZHRoPScxNCUnPiImIFpDX01TRzAwMyAmIjwvdGg+PHRoPiImIFpDX01TRzA2MCAmIjwvdGg+PHRoIHdpZHRoPScxNCUnPiImIFpDX01TRzA3NSAmIjwvdGg+PHRoIHdpZHRoPSIiNiUiIj4iJiBaQ19NU0cwMTMgJiI8L3RoPjx0aCB3aWR0aD0iIjklIiI+IiYgWkNfTVNHMDYxICYiPC90aD48dGggd2lkdGg9IiIxMiUiIj48L3RoPjwvdHI+Ig0KDQoJb2JqUlMuT3BlbigiU0VMRUNUICogRlJPTSBbYmxvZ19BcnRpY2xlXSAiJiBzdHJTUUwgJiIgT1JERVIgQlkgW2xvZ19Qb3N0VGltZV0gREVTQyIpDQoJb2JqUlMuUGFnZVNpemU9WkNfTUFOQUdFX0NPVU5UDQoJSWYgb2JqUlMuUGFnZUNvdW50PjAgVGhlbiBvYmpSUy5BYnNvbHV0ZVBhZ2UgPSBpbnRQYWdlDQoJaW50UGFnZUFsbD1vYmpSUy5QYWdlQ291bnQNCg0KCUlmIChOb3Qgb2JqUlMuYm9mKSBBbmQgKE5vdCBvYmpSUy5lb2YpIFRoZW4NCg0KCQlGb3IgaT0xIHRvIG9ialJTLlBhZ2VTaXplDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8dHI+Ig0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBvYmpSUygibG9nX0lEIikgJiAiPC90ZD4iDQoNCgkJCUNhbGwgR2V0VXNlcnNieVVzZXJJRExpc3Qob2JqUlMoImxvZ19BdXRob3JJRCIpKQ0KCQkJRGltIFVzZXINCgkJCUZvciBFYWNoIFVzZXIgaW4gVXNlcnMNCgkJCQlJZiBJc09iamVjdChVc2VyKSBUaGVuDQoJCQkJCUlmIFVzZXIuSUQ9b2JqUlMoImxvZ19BdXRob3JJRCIpIFRoZW4NCgkJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIFVzZXIuTmFtZSAmICI8L3RkPiINCgkJCQkJRW5kIElmDQoJCQkJRW5kIElmDQoJCQlOZXh0DQoNCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+PGRpdiBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxLjVlbTsnPjxhIGhyZWY9IiIuLi8uLi92aWV3LmFzcD9uYXY9IiAmIG9ialJTKCJsb2dfSUQiKSAmICIiIiB0aXRsZT0iIiImIFJlcGxhY2Uob2JqUlMoImxvZ19UaXRsZSIpLCIiIiIsIiIpICYiIiIgdGFyZ2V0PSIiX2JsYW5rIiI+IiAmIG9ialJTKCJsb2dfVGl0bGUiKSAmICI8L2E+PC9kaXY+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBGb3JtYXREYXRlVGltZShvYmpSUygibG9nX1Bvc3RUaW1lIiksdmJTaG9ydERhdGUpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgb2JqUlMoImxvZ19Db21tTnVtcyIpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgWlZBX0FydGljbGVfTGV2ZWxfTmFtZShvYmpSUygibG9nX0xldmVsIikpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZCBhbGlnbj0iImNlbnRlciIiPjxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1BcnRpY2xlRWR0JmFtcDt0eXBlPVBhZ2UmYW1wO3dlYmVkaXQ9IiYgWkNfQkxPR19XRUJFRElUICYiJmFtcDtpZD0iICYgb2JqUlMoImxvZ19JRCIpICYgIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vcGFnZV9lZGl0LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cxMDAgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMTAwICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGEgb25jbGljaz0ncmV0dXJuIHdpbmRvdy5jb25maXJtKCIiIiYgWkNfTVNHMDU4ICYiIiIpOycgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PUFydGljbGVEZWwmYW1wO3R5cGU9UGFnZSZhbXA7aWQ9IiAmIG9ialJTKCJsb2dfSUQiKSAmICIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2RlbGV0ZS5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDYzICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA2MyAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC90cj4iDQoNCgkJCW9ialJTLk1vdmVOZXh0DQoJCQlJZiBvYmpSUy5lb2YgVGhlbiBFeGl0IEZvcg0KDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KDQoJSWYgIGludFBhZ2VBbGw+MSBUaGVuIA0KCQlzdHJQYWdlPUV4cG9ydFBhZ2VCYXIoaW50UGFnZSxpbnRQYWdlQWxsLFpDX1BBR0VCQVJfQ09VTlQsIi4uL2FkbWluL2FkbWluLmFzcD9hY3Q9QXJ0aWNsZU1uZyZhbXA7dHlwZT1QYWdlJmFtcDtjYXRlPSImUmVRdWVzdCgiY2F0ZSIpJiImYW1wO2xldmVsPSImUmVRdWVzdCgibGV2ZWwiKSYiJmFtcDt0aXRsZT0iJkVzY2FwZShSZVF1ZXN0KCJ0aXRsZSIpKSAmICImYW1wO3BhZ2U9IikNCgkJUmVzcG9uc2UuV3JpdGUgIjxoci8+PHAgY2xhc3M9IiJwYWdlYmFyIiI+IiAmIFpDX01TRzA0MiAmICI6ICIgJiBzdHJQYWdlICYgIjwvcD4iDQoJRW5kIElmIA0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFQYWdlTW5nIiIpOzwvc2NyaXB0PiINCg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCUV4cG9ydFBhZ2VMaXN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIE1hbmFnZXIgQ2F0ZWdvcnlzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRDYXRlZ29yeUxpc3QoaW50UGFnZSkNCg0KCUNhbGwgQWRkX1Jlc3BvbnNlX1BsdWdpbigiUmVzcG9uc2VfUGx1Z2luX0NhdGVnb3J5TW5nX1N1Yk1lbnUiLE1ha2VTdWJNZW51KFpDX01TRzA3NyAmICIiLCIuLi9jbWQuYXNwP2FjdD1DYXRlZ29yeUVkdCIsIm0tbGVmdCIsRmFsc2UpKQ0KDQoJRGltIGksag0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJkaXZIZWFkZXIiIj4iICYgWkNfTVNHMDY2ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIlN1Yk1lbnUiIj4iICYgUmVzcG9uc2VfUGx1Z2luX0NhdGVnb3J5TW5nX1N1Yk1lbnUgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGlkPSIiZGl2TWFpbjIiIj4iDQoNCg0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50UGFnZSwiaW50IiwxKQ0KJ+KInw0KDQoJUmVzcG9uc2UuV3JpdGUgIjx0YWJsZSBib3JkZXI9IiIxIiIgd2lkdGg9IiIxMDAlIiIgY2VsbHNwYWNpbmc9IiIwIiIgY2VsbHBhZGRpbmc9IiIwIiIgY2xhc3M9J3RhYmxlQm9yZGVyIHRhYmxlQm9yZGVyLXRoY2VudGVyJz4iDQoJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGggd2lkdGg9IiI1JSIiPjwvdGg+PHRoIHdpZHRoPSIiMTAlIiI+IiYgWkNfTVNHMDc2ICYiPC90aD48dGggd2lkdGg9IiIxMCUiIj4iJiBaQ19NU0cwNzkgJiI8L3RoPjx0aD4iJiBaQ19NU0cwMDEgJiI8L3RoPjx0aD4iJiBaQ19NU0cxNDcgJiI8L3RoPjx0aCB3aWR0aD0iIjE0JSIiPjwvdGg+PC90cj4iDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8dHI+PHRkIGFsaWduPSIiY2VudGVyIiI+PGltZyB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZm9sZGVyLnBuZyIiIGFsdD0iIiIiIC8+PC90ZD4iDQoJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgQ2F0ZWdvcnlzKDApLklEICYgIjwvdGQ+Ig0KCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIENhdGVnb3J5cygwKS5PcmRlciAmICI8L3RkPiINCglSZXNwb25zZS5Xcml0ZSAiPHRkPjxhIGhyZWY9IiIiJiBDYXRlZ29yeXMoMCkuVXJsICYiIiIgIHRhcmdldD0iIl9ibGFuayIiPiIgJiBDYXRlZ29yeXMoMCkuTmFtZSAmICI8L2E+PC90ZD4iDQoJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgQ2F0ZWdvcnlzKDApLkFsaWFzICYgIjwvdGQ+Ig0KCVJlc3BvbnNlLldyaXRlICI8dGQgYWxpZ249IiJjZW50ZXIiIj48YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9Q2F0ZWdvcnlFZHQmYW1wO2lkPSImIENhdGVnb3J5cygwKS5JRCAmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZm9sZGVyX2VkaXQucG5nIiIgYWx0PSIiIiAmIFpDX01TRzA3OCAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cwNzggJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPjwvdGQ+Ig0KCVJlc3BvbnNlLldyaXRlICI8L3RyPiINCg0KDQoNCg0KCURpbSBhcnlDYXRlSW5PcmRlcg0KCWFyeUNhdGVJbk9yZGVyPUdldENhdGVnb3J5T3JkZXIoKQ0KDQoJSWYgSXNBcnJheShhcnlDYXRlSW5PcmRlcikgVGhlbg0KCUZvciBpPUxCb3VuZChhcnlDYXRlSW5PcmRlcikrMSBUbyBVYm91bmQoYXJ5Q2F0ZUluT3JkZXIpDQoNCgkJSWYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5QYXJlbnRJRD0wIFRoZW4NCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGQgYWxpZ249IiJjZW50ZXIiIj48aW1nIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9mb2xkZXIucG5nIiIgYWx0PSIiIiIgLz48L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihpKSkuSUQgJiAiPC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaSkpLk9yZGVyICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD48YSBocmVmPSIiIiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5VcmwgJiIiIiAgdGFyZ2V0PSIiX2JsYW5rIiI+IiAmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihpKSkuTmFtZSAmICI8L2E+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaSkpLkFsaWFzICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZCBhbGlnbj0iImNlbnRlciIiPjxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1DYXRlZ29yeUVkdCZhbXA7aWQ9IiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5JRCAmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZm9sZGVyX2VkaXQucG5nIiIgYWx0PSIiIiAmIFpDX01TRzA3OCAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cwNzggJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxhIG9uY2xpY2s9J3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTsnIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1DYXRlZ29yeURlbCZhbXA7aWQ9IiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGkpKS5JRCAmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZGVsZXRlLnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDYzICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT48L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8L3RyPiINCg0KCQkJRm9yIGo9MSBUbyBVQm91bmQoYXJ5Q2F0ZUluT3JkZXIpDQoNCgkJCQlJZiBDYXRlZ29yeXMoYXJ5Q2F0ZUluT3JkZXIoaikpLlBhcmVudElEPUNhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihpKSkuSUQgVGhlbg0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRyPjx0ZCBhbGlnbj0iImNlbnRlciIiPjxpbWcgd2lkdGg9IiIxNiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2Fycm93X3R1cm5fcmlnaHQucG5nIiIgYWx0PSIiIiIgLz48L3RkPiINCgkJCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGopKS5JRCAmICI8L3RkPiINCgkJCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGopKS5PcmRlciAmICI8L3RkPiINCgkJCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD48YSBocmVmPSIiIiYgQ2F0ZWdvcnlzKGFyeUNhdGVJbk9yZGVyKGopKS5VcmwgJiIiIiAgdGFyZ2V0PSIiX2JsYW5rIiI+IiAmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuTmFtZSAmICI8L2E+PC90ZD4iDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuQWxpYXMgJiAiPC90ZD4iDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQgYWxpZ249IiJjZW50ZXIiIj48YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9Q2F0ZWdvcnlFZHQmYW1wO2lkPSImIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuSUQgJiIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2ZvbGRlcl9lZGl0LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNzggJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8YSBvbmNsaWNrPSdyZXR1cm4gd2luZG93LmNvbmZpcm0oIiIiJiBaQ19NU0cwNTggJiIiIik7JyBocmVmPSIiLi4vY21kLmFzcD9hY3Q9Q2F0ZWdvcnlEZWwmYW1wO2lkPSImIENhdGVnb3J5cyhhcnlDYXRlSW5PcmRlcihqKSkuSUQgJiIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2RlbGV0ZS5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDYzICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA2MyAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+PC90ZD4iDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8L3RyPiINCgkJCQlFbmQgSWYNCg0KCQkJTmV4dA0KDQoJCUVuZCBJZg0KDQoJTmV4dA0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxwPiZuYnNwOzwvcD4iDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFDYXRlZ29yeU1uZyIiKTs8L3NjcmlwdD4iDQoNCglFeHBvcnRDYXRlZ29yeUxpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBDb21tZW50cw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRXhwb3J0Q29tbWVudExpc3QoaW50UGFnZSxpbnRDb250ZW50LGlzQ2hlY2spDQoNCg0KDQoJRGltIEFydERpYw0KDQoJU2V0IEFydERpYz1DcmVhdGVPYmplY3QoIlNjcmlwdGluZy5EaWN0aW9uYXJ5IikNCg0KCURpbSBpDQoJRGltIG9ialJTDQoJRGltIHN0clNRTA0KCURpbSBzdHJQYWdlDQoJRGltIGludFBhZ2VBbGwNCg0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50UGFnZSwiaW50IiwxKQ0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaXNDaGVjaywiYm9vbCIsRmFsc2UpDQoJaW50Q29udGVudD1GaWx0ZXJTUUwoaW50Q29udGVudCkNCg0KCVNldCBvYmpSUz1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJBRE9EQi5SZWNvcmRzZXQiKQ0KCW9ialJTLkN1cnNvclR5cGUgPSBhZE9wZW5LZXlzZXQNCglvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJb2JqUlMuQWN0aXZlQ29ubmVjdGlvbj1vYmpDb25uDQoJb2JqUlMuU291cmNlPSIiDQoJDQoJQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fQ29tbWVudE1uZ19TdWJNZW51IixNYWtlU3ViTWVudShaQ19NU0cwOTcsImFkbWluLmFzcD9hY3Q9Q29tbWVudE1uZyZhbXA7cGFnZT0iLCJtLWxlZnQiICYgSUlmKGlzQ2hlY2ssIiIsIiBtLW5vdyIpLEZhbHNlKSkNCglEaW0gb2JqUlMxDQoJU2V0IG9ialJTMT1vYmpDb25uLkV4ZWN1dGUoIlNFTEVDVCBDT1VOVChbY29tbV9JRF0pIEZST00gW2Jsb2dfQ29tbWVudF0gV0hFUkUgW2NvbW1faXNDaGVja109LTEgT3IgW2NvbW1faXNDaGVja109MSIgJiBJSWYoQ2hlY2tSaWdodHMoIlJvb3QiKSwiIiwiIEFuZCBbY29tbV9BdXRob3JJRF09IiAmIEJsb2dVc2VyLklEKSkNCg0KCURpbSBzdHJ0bXByZXNwb25zZQ0KCXN0cnRtcHJlc3BvbnNlPVpDX01TRzEwNA0KCUlmIChOb3Qgb2JqUlMxLmJvZikgQW5kIChOb3Qgb2JqUlMxLmVvZikgVGhlbg0KCQlzdHJ0bXByZXNwb25zZT1zdHJ0bXByZXNwb25zZSYiICgiJm9ialJTMSgwKSYiKSINCglFbmQgSWYNCglTZXQgb2JqUnMxPU5vdGhpbmcNCgkNCglDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9Db21tZW50TW5nX1N1Yk1lbnUiLE1ha2VTdWJNZW51KHN0cnRtcHJlc3BvbnNlLCJhZG1pbi5hc3A/YWN0PUNvbW1lbnRNbmcmYW1wO2lzQ2hlY2s9VHJ1ZSIsIm0tbGVmdCIgJiBJSWYoaXNDaGVjaywiIG0tbm93IiwiIiksRmFsc2UpKQ0KCQ0KCUlmIGlzQ2hlY2sgVGhlbg0KCQlzdHJTUUw9c3RyU1FMJiIgV0hFUkUgIChbbG9nX0lEXT4wKSBBTkQgKFtjb21tX2lzQ2hlY2tdPD4wKSAiDQoJRWxzZQ0KCQlzdHJTUUw9c3RyU1FMJiIgV0hFUkUgIChbbG9nX0lEXT4wKSBBTkQgKFtjb21tX2lzQ2hlY2tdPTApICINCglFbmQgSWYNCgkNCglJZiBDaGVja1JpZ2h0cygiUm9vdCIpPUZhbHNlIEFuZCBDaGVja1JpZ2h0cygiQ29tbWVudEFsbCIpPUZhbHNlIFRoZW4NCgkJc3RyU1FMPXN0clNRTCAmICJBTkQoIChbY29tbV9BdXRob3JJRF0gPSAiICYgQmxvZ1VzZXIuSUQgJiAiICkgT1IgKChTRUxFQ1QgW2xvZ19BdXRob3JJRF0gRlJPTSBbYmxvZ19BcnRpY2xlXSBXSEVSRSBbYmxvZ19BcnRpY2xlXS5bbG9nX0lEXT1bYmxvZ19Db21tZW50XS5bbG9nX0lEXSk9IiAmIEJsb2dVc2VyLklEICYgIiApKSAiDQoJRW5kIElmDQoNCglJZiBUcmltKGludENvbnRlbnQpPD4iIiBUaGVuDQoJCXN0clNRTD1zdHJTUUwgJiAiIEFORCAoIChbY29tbV9BdXRob3JdIExJS0UgJyUiICYgaW50Q29udGVudCAmICIlJykgT1IgKFtjb21tX0NvbnRlbnRdIExJS0UgJyUiICYgaW50Q29udGVudCAmICIlJykgT1IgKFtjb21tX0hvbWVQYWdlXSBMSUtFICclIiAmIGludENvbnRlbnQgJiAiJScpICkgIg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJkaXZIZWFkZXIiIj4iICYgWkNfTVNHMDY4ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIlN1Yk1lbnUiIj4iICYgUmVzcG9uc2VfUGx1Z2luX0NvbW1lbnRNbmdfU3ViTWVudSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXZNYWluMiIiPiINCg0KDQoJUmVzcG9uc2UuV3JpdGUgIjxmb3JtIGNsYXNzPSIic2VhcmNoIiIgaWQ9IiJlZGl0IiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIi4uL2FkbWluL2FkbWluLmFzcD9hY3Q9Q29tbWVudE1uZyZhbXA7aXNDaGVjaz0iJmlzQ2hlY2smIiIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHA+IiZaQ19NU0cyMzQmIjombmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsiDQoNCglSZXNwb25zZS5Xcml0ZSAiPGlucHV0IGlkPSIiaW50Q29udGVudCIiIG5hbWU9IiJpbnRDb250ZW50IiIgc3R5bGU9IiJ3aWR0aDoyNTBweDsiIiB0eXBlPSIidGV4dCIiIHZhbHVlPSIiIiIgLz4gIg0KCVJlc3BvbnNlLldyaXRlICI8aW5wdXQgdHlwZT0iInN1Ym1pdCIiIGNsYXNzPSIiYnV0dG9uIiIgdmFsdWU9IiIiJlpDX01TRzA4NyYiIiIvPiINCg0KCVJlc3BvbnNlLldyaXRlICI8L3A+PC9mb3JtPiINCg0KCVJlc3BvbnNlLldyaXRlICI8dGFibGUgYm9yZGVyPSIiMSIiIHdpZHRoPSIiMTAwJSIiIGNlbGxzcGFjaW5nPSIiMCIiIGNlbGxwYWRkaW5nPSIiMCIiIGNsYXNzPSIidGFibGVCb3JkZXIgdGFibGVCb3JkZXItdGhjZW50ZXIiIj4iDQoJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGggd2lkdGg9IiI1JSIiPiImIFpDX01TRzA3NiAmIjwvdGg+PHRoIHdpZHRoPSIiNiUiIj4iJlpDX01TRzE1MiYiPC90aD48dGggd2lkdGg9JzEwJSc+IiYgWkNfTVNHMDAzICYiPC90aD48dGg+IiYgWkNfTVNHMDU1ICYiPC90aD48dGggd2lkdGg9IiIxNSUiIj4iJiBaQ19NU0cwNDggJiI8L3RoPjx0aCB3aWR0aD0nMTglJz48L3RoPjx0aCB3aWR0aD0nNSUnICBhbGlnbj0nY2VudGVyJz48YSBocmVmPScnIG9uY2xpY2s9J0JhdGNoU2VsZWN0QWxsKCk7cmV0dXJuIGZhbHNlJz4iJiBaQ19NU0cyMjkgJiI8L2E+PC90aD48L3RyPiInDQoNCglvYmpSUy5PcGVuKCJTRUxFQ1QgKiBGUk9NIFtibG9nX0NvbW1lbnRdICImIHN0clNRTCAmIiBPUkRFUiBCWSBbY29tbV9JRF0gREVTQyIpDQoNCg0KCW9ialJTLlBhZ2VTaXplPVpDX01BTkFHRV9DT1VOVA0KCUlmIG9ialJTLlBhZ2VDb3VudD4wIFRoZW4gb2JqUlMuQWJzb2x1dGVQYWdlID0gaW50UGFnZQ0KCWludFBhZ2VBbGw9b2JqUlMuUGFnZUNvdW50DQoNCglJZiAoTm90IG9ialJTLmJvZikgQW5kIChOb3Qgb2JqUlMuZW9mKSBUaGVuDQoNCgkJRm9yIGk9MSB0byBvYmpSUy5QYWdlU2l6ZQ0KCQkJRGltIG9iakFydGljbGUNCgkJCVNldCBvYmpBcnRpY2xlPU5ldyBUQXJ0aWNsZQ0KCQkJSWYgQXJ0RGljLkV4aXN0cyhDTG5nKG9ialJzKCJsb2dfSUQiKSkpPUZhbHNlIFRoZW4NCgkJCQlvYmpBcnRpY2xlLkxvYWRJbmZvQnlJZCBvYmpScygibG9nX0lEIikNCgkJCQlBcnREaWMuQWRkIENMbmcob2JqUnMoImxvZ19JRCIpKSwgb2JqQXJ0aWNsZQ0KCQkJRWxzZQ0KCQkJCVNldCBvYmpBcnRpY2xlPUFydERpYy5JdGVtKENMbmcob2JqUnMoImxvZ19JRCIpKSkNCgkJCUVuZCBJZg0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRyPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmIG9ialJTKCJjb21tX0lEIikgJiAiPC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiImSUlGKG9ialJzKCJjb21tX1BhcmVudElEIik+MCxvYmpScygiY29tbV9QYXJlbnRJRCIpLCIiKSYiPC90ZD4iDQoJCQlJZiBUcmltKG9ialJTKCJjb21tX0VtYWlsIikpPSIiIFRoZW4NCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiYgb2JqUlMoImNvbW1fQXV0aG9yIikgJiAiPC90ZD4iDQoJCQlFbHNlDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPjxhIGhyZWY9IiJtYWlsdG86IiYgb2JqUlMoImNvbW1fRW1haWwiKSAmIiIiPiIgJiBvYmpSUygiY29tbV9BdXRob3IiKSAmICI8L2E+PC90ZD4iDQoJCQlFbmQgSWYNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD48YSBocmVmPSIiIiZvYmpBcnRpY2xlLlVSTCYiI2NtdCImb2JqUlMoImNvbW1fSUQiKSYiIiIgdGFyZ2V0PSIiX2JsYW5rIiI+PGltZyBzcmM9IiIuLi9pbWFnZS9hZG1pbi9jb21tZW50LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cyMTImICIgQCAiICYgb2JqQXJ0aWNsZS5IdG1sVGl0bGUgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMjEyJiAiIEAgIiAmIG9iakFydGljbGUuSHRtbFRpdGxlICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT48YSBpZD0iIm15bGluayImb2JqUlMoImNvbW1fSUQiKSYiIiIgaHJlZj0iIiRkaXYiJm9ialJTKCJjb21tX0lEIikmInRpcD93aWR0aD00MDAiIiBjbGFzcz0iImJldHRlclRpcCIiIHRpdGxlPSIiIiZaQ19NU0cwNTUmIiIiPiIgJiBMZWZ0KG9ialJTKCJjb21tX0NvbnRlbnQiKSwzMCkgJiAiPC9hPjxkaXYgaWQ9IiJkaXYiJm9ialJTKCJjb21tX0lEIikmInRpcCIiIHN0eWxlPSIiZGlzcGxheTpub25lOyIiPjxwPiImIG9ialJTKCJjb21tX0NvbnRlbnQiKSAmIjwvcD48YnIvPjxwPiIgJiBaQ19NU0cwODAgJiAiIDogIiAmb2JqUlMoImNvbW1fSVAiKSAmICI8L3A+PHA+IiAmIFpDX01TRzA3NSAmICIgOiAiICZvYmpSUygiY29tbV9Qb3N0VGltZSIpICYgIjwvcD48L2Rpdj48L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQ+PGRpdiBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoxLjVlbTsnPiImIExlZnQob2JqQXJ0aWNsZS5IdG1sVGl0bGUsMTgpICYiPC9kaXY+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkIGFsaWduPSIiY2VudGVyIiI+PGEgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PUNvbW1lbnRFZHQmYW1wO2lkPSIgJiBvYmpSUygiY29tbV9JRCIpICYiJmFtcDtyZXZpZD0iJm9ialJzKCJjb21tX0lEIikmIiZhbXA7bG9nX2lkPSImIG9ialJTKCJsb2dfSUQiKSAmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vY29tbWVudHMucG5nIiIgYWx0PSIiIiAmIFpDX01TRzE0OSAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cxNDkgJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1Db21tZW50RWR0JmFtcDtpZD0iICYgb2JqUlMoImNvbW1fSUQiKSAmICImYW1wO2xvZ19pZD0iJiBvYmpSUygibG9nX0lEIikgJiImYW1wO3JldmlkPTAiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2NvbW1lbnRfZWRpdC5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA3OCAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGEgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PUNvbW1lbnREZWwmYW1wO2lkPSIgJiBvYmpSUygiY29tbV9JRCIpICAmIiIiIG9uY2xpY2s9J3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTsnPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZGVsZXRlLnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDYzICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4iDQoJCQkNCgkJCVJlc3BvbnNlLldyaXRlIElJZihDaGVja1JpZ2h0cygiUm9vdCIpLCImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9Q29tbWVudEF1ZGl0JmFtcDtpZD0iJm9ialJzKCJjb21tX0lEIikmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vIiZJSWYoaXNDaGVjaywib2sucG5nIiwibWludXMtc2hpZWxkLnBuZyIpJiIiIiBhbHQ9IiIiJklJZihpc0NoZWNrLFpDX01TRzA5MSxaQ19NU0cwOTIpJiIiIiB0aXRsZT0iIiImSUlmKGlzQ2hlY2ssWkNfTVNHMDkxLFpDX01TRzA5MikmIiIiIHdpZHRoPSIiMTYiIi8+PC9hPiIsIiIpDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkIGFsaWduPSIiY2VudGVyIiIgPjxpbnB1dCB0eXBlPSIiY2hlY2tib3giIiBpZD0iImVkdERlbCImb2JqUlMoImNvbW1fSUQiKSYiIiIgbmFtZT0iImVkdERlbCIiIHZhbHVlPSIiIiZvYmpSUygiY29tbV9JRCIpJiIiIi8+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC90cj4iDQoNCgkJCW9ialJTLk1vdmVOZXh0DQoJCQlJZiBvYmpSUy5lb2YgVGhlbiBFeGl0IEZvcg0KDQoJCQlTZXQgb2JqQXJ0aWNsZT1Ob1RoaW5nDQoNCgkJTmV4dA0KCVNldCBvYmpBcnRpY2xlPU5vdGhpbmcNCglFbmQgSWYNCg0KCVJlc3BvbnNlLldyaXRlICI8L3RhYmxlPiINCg0KDQoJUmVzcG9uc2UuV3JpdGUgIjxmb3JtIGlkPSIiZnJtQmF0Y2giIiBzdHlsZT0iImZsb2F0OmxlZnQ7IiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIi4uL2NtZC5hc3A/YWN0PUNvbW1lbnREZWxCYXRjaCIiPjxpbnB1dCB0eXBlPSIiaGlkZGVuIiIgaWQ9IiJlZHRCYXRjaCIiIG5hbWU9IiJlZHRCYXRjaCIiIHZhbHVlPSIiIiIvPjxpbnB1dCBjbGFzcz0iImJ1dHRvbiIiIHR5cGU9IiJzdWJtaXQiIiBvbmNsaWNrPSdCYXRjaERlbGV0ZUFsbCgiImVkdEJhdGNoIiIpO2lmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWR0QmF0Y2giIikudmFsdWUpe3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTt9ZWxzZXtyZXR1cm4gZmFsc2V9JyB2YWx1ZT0iIiImWkNfTVNHMjI4JiIiIiBpZD0iImJ0blBvc3QiIi8+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PC9mb3JtPiIgJiB2YkNybGYNCgkNCglSZXNwb25zZS5Xcml0ZSBJSWYoQ2hlY2tSaWdodHMoIlJvb3QiKSwiPGZvcm0gaWQ9IiJmcm1CYXRjaDIiIiBzdHlsZT0iImZsb2F0OmxlZnQ7IiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIi4uL2NtZC5hc3A/YWN0PUNvbW1lbnRBdWRpdCIiPjxpbnB1dCB0eXBlPSIiaGlkZGVuIiIgaWQ9IiJlZHRCYXRjaDIiIiBuYW1lPSIiZWR0QmF0Y2giIiB2YWx1ZT0iIiIiLz48aW5wdXQgY2xhc3M9IiJidXR0b24iIiB0eXBlPSIic3VibWl0IiIgb25jbGljaz0nQmF0Y2hEZWxldGVBbGwoIiJlZHRCYXRjaDIiIik7aWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZHRCYXRjaDIiIikudmFsdWUpe3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTt9ZWxzZXtyZXR1cm4gZmFsc2V9JyB2YWx1ZT0iIiImSUlmKGlzQ2hlY2ssWkNfTVNHMTc0LFpDX01TRzE3NykmIiIiIGlkPSIiYnRuUG9zdDIiIi8+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7IiZJSWYoaXNDaGVjaywiPGlucHV0IGNsYXNzPSIiYnV0dG9uIiIgdHlwZT0iInN1Ym1pdCIiIG9uY2xpY2s9J2lmKHdpbmRvdy5jb25maXJtKCIiIiYgWkNfTVNHMDU4ICYiIiIpKXtkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiImVkdEJhdGNoMiIiKS52YWx1ZT0iImRlbGFsbCIifWVsc2V7cmV0dXJuIGZhbHNlfScgdmFsdWU9IiIiJlpDX01TRzIyMiYiIiIgaWQ9IiJidG5Qb3N0MyIiLz4iLCIiKSAmIjwvZm9ybT4iLCIiKSAmdmJDcmxmDQoNCglSZXNwb25zZS5Xcml0ZSAiPGhyLz48ZGl2IGNsYXNzPSIiY2xlYXIiIj48L2Rpdj4iDQoNCglJZiAgaW50UGFnZUFsbD4xIFRoZW4gDQoJCXN0clBhZ2U9RXhwb3J0UGFnZUJhcihpbnRQYWdlLGludFBhZ2VBbGwsWkNfUEFHRUJBUl9DT1VOVCwiYWRtaW4uYXNwP2FjdD1Db21tZW50TW5nJmFtcDtpc0NoZWNrPSImaXNDaGVjayYiJmFtcDtwYWdlPSIpDQoJCVJlc3BvbnNlLldyaXRlICI8cCBjbGFzcz0iInBhZ2ViYXIiIj4iICYgWkNfTVNHMDQyICYgIjogIiAmIHN0clBhZ2UgJiAiPC9wPiINCglFbmQgSWYgDQoNCglSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KDQoJb2JqUlMuQ2xvc2UNCglTZXQgb2JqUlM9Tm90aGluZw0KDQoJUmVzcG9uc2UuV3JpdGUgIjxzY3JpcHQgdHlwZT0iInRleHQvamF2YXNjcmlwdCIiPkFjdGl2ZUxlZnRNZW51KCIiYUNvbW1lbnRNbmciIik7PC9zY3JpcHQ+Ig0KDQoJRXhwb3J0Q29tbWVudExpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBUcmFja0JhY2tzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRUcmFja0JhY2tMaXN0KGludFBhZ2UpDQoNCg0KCUV4cG9ydFRyYWNrQmFja0xpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBVc2Vycw0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRXhwb3J0VXNlckxpc3QoaW50UGFnZSkNCglJZiBDaGVja1JpZ2h0cygiVXNlckNydCIpPVRydWUgVGhlbg0KCQlDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9Vc2VyTW5nX1N1Yk1lbnUiLE1ha2VTdWJNZW51KFpDX01TRzEyNyAmICIiLCJlZGl0X3VzZXIuYXNwIiwibS1sZWZ0IixGYWxzZSkpDQoJRW5kIElmCQ0KCQ0KCURpbSBpDQoJRGltIG9ialJTDQoJRGltIHN0clNRTA0KCURpbSBzdHJQYWdlDQoJRGltIGludFBhZ2VBbGwNCg0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50UGFnZSwiaW50IiwxKQ0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJkaXZIZWFkZXIiIj4iICYgWkNfTVNHMDcwICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIlN1Yk1lbnUiIj4iICYgUmVzcG9uc2VfUGx1Z2luX1VzZXJNbmdfU3ViTWVudSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXZNYWluMiIiPiINCg0KDQoNCg0KCVNldCBvYmpSUz1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJBRE9EQi5SZWNvcmRzZXQiKQ0KCW9ialJTLkN1cnNvclR5cGUgPSBhZE9wZW5LZXlzZXQNCglvYmpSUy5Mb2NrVHlwZSA9IGFkTG9ja1JlYWRPbmx5DQoJb2JqUlMuQWN0aXZlQ29ubmVjdGlvbj1vYmpDb25uDQoJb2JqUlMuU291cmNlPSIiDQoNCglJZiBDaGVja1JpZ2h0cygiUm9vdCIpPUZhbHNlIFRoZW4gc3RyU1FMPSJXSEVSRSBbbWVtX0lEXSA9ICIgJiBCbG9nVXNlci5JRA0KDQoJb2JqUlMuT3BlbigiU0VMRUNUICogRlJPTSBbYmxvZ19NZW1iZXJdICIgJiBzdHJTUUwgJiAiIE9SREVSIEJZIFttZW1fSURdIEFTQyIpDQoNCglvYmpSUy5QYWdlU2l6ZT1aQ19NQU5BR0VfQ09VTlQNCglJZiBvYmpSUy5QYWdlQ291bnQ+MCBUaGVuIG9ialJTLkFic29sdXRlUGFnZSA9IGludFBhZ2UNCglpbnRQYWdlQWxsPW9ialJTLlBhZ2VDb3VudA0KDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCVJlc3BvbnNlLldyaXRlICI8dGFibGUgYm9yZGVyPSIiMSIiIHdpZHRoPSIiMTAwJSIiIGNlbGxzcGFjaW5nPSIiMCIiIGNlbGxwYWRkaW5nPSIiMCIiIGNsYXNzPSIidGFibGVCb3JkZXIgdGFibGVCb3JkZXItdGhjZW50ZXIiIj4iDQoJCVJlc3BvbnNlLldyaXRlICI8dHI+PHRoIHdpZHRoPSc1JSc+IiYgWkNfTVNHMDc2ICYiPC90aD48dGggd2lkdGg9JzEwJSc+PC90aD48dGg+IiYgWkNfTVNHMDAzICYiPC90aD48dGg+IiYgWkNfTVNHMTQ3ICYiPC90aD48dGggd2lkdGg9JzEwJSc+IiYgWkNfTVNHMDgyICYiPC90aD48dGggd2lkdGg9JzEwJSc+IiYgWkNfTVNHMTI0ICYiPC90aD48dGggd2lkdGg9JzE0JSc+PC90aD48L3RyPiINCg0KCQlGb3IgaT0xIHRvIG9ialJTLlBhZ2VTaXplDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8dHI+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgb2JqUlMoIm1lbV9JRCIpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgWlZBX1VzZXJfTGV2ZWxfTmFtZShvYmpSUygibWVtX0xldmVsIikpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgb2JqUlMoIm1lbV9OYW1lIikgJiAiPC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBvYmpSUygibWVtX1VybCIpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgb2JqUlMoIm1lbV9Qb3N0TG9ncyIpICYgIjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgb2JqUlMoIm1lbV9Qb3N0Q29tbXMiKSAmICI8L3RkPiINCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZCBhbGlnbj0iImNlbnRlciIiPjxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1Vc2VyRWR0JmFtcDtpZD0iJiBvYmpSUygibWVtX0lEIikgJiIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL3VzZXJfZWRpdC5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA3OCAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PGEgb25jbGljaz0ncmV0dXJuIHdpbmRvdy5jb25maXJtKCIiIiYgWkNfTVNHMDU4ICYiIiIpOycgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PVVzZXJEZWwmYW1wO2lkPSImIG9ialJTKCJtZW1fSUQiKSAmIiIiPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZGVsZXRlLnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDYzICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT48L3RkPiINCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvdHI+Ig0KDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCg0KCQlOZXh0DQoNCgkJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KDQoJRW5kIElmDQoJDQoJUmVzcG9uc2UuV3JpdGUgIjxwPiImIFpDX01TRzE4OSAmIjwvcD4iDQoNCglJZiAgaW50UGFnZUFsbD4xIFRoZW4gDQoJCXN0clBhZ2U9RXhwb3J0UGFnZUJhcihpbnRQYWdlLGludFBhZ2VBbGwsWkNfUEFHRUJBUl9DT1VOVCwiYWRtaW4uYXNwP2FjdD1Vc2VyTW5nJmFtcDtwYWdlPSIpDQoJCVJlc3BvbnNlLldyaXRlICI8aHIvPjxwIGNsYXNzPSIicGFnZWJhciIiPiIgJiBaQ19NU0cwNDIgJiAiOiAiICYgc3RyUGFnZSAmICI8L3A+Ig0KCUVuZCBJZiANCg0KCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCglvYmpSUy5DbG9zZQ0KCVNldCBvYmpSUz1Ob3RoaW5nDQoNCglSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+QWN0aXZlTGVmdE1lbnUoIiJhVXNlck1uZyIiKTs8L3NjcmlwdD4iDQoNCglFeHBvcnRVc2VyTGlzdD1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBNYW5hZ2VyIEZpbGVzDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRGaWxlTGlzdChpbnRQYWdlKQ0KDQoJRGltIGkNCglEaW0gb2JqUlMNCglEaW0gc3RyU1FMDQoJRGltIHN0clBhZ2UNCglEaW0gaW50UGFnZUFsbA0KDQoJQ2FsbCBDaGVja1BhcmFtZXRlcihpbnRQYWdlLCJpbnQiLDEpDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImRpdkhlYWRlciIiPiIgJiBaQ19NU0cwNzEgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fRmlsZU1uZ19TdWJNZW51ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBpZD0iImRpdk1haW4yIiI+Ig0KDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8Zm9ybSBjbGFzcz0iInNlYXJjaCIiIG5hbWU9IiJlZGl0IiIgaWQ9IiJlZGl0IiIgbWV0aG9kPSIicG9zdCIiIGVuY3R5cGU9IiJtdWx0aXBhcnQvZm9ybS1kYXRhIiIgYWN0aW9uPSIiLi4vY21kLmFzcD9hY3Q9RmlsZVVwbG9hZCIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHA+IiYgWkNfTVNHMTA4ICYiOiA8L3A+Ig0KCVJlc3BvbnNlLldyaXRlICI8cD48aW5wdXQgdHlwZT0iImZpbGUiIiBpZD0iImVkdEZpbGVMb2FkIiIgbmFtZT0iImVkdEZpbGVMb2FkIiIgc2l6ZT0iIjQwIiIgLz4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgdHlwZT0iInN1Ym1pdCIiIGNsYXNzPSIiYnV0dG9uIiIgdmFsdWU9IiIiJiBaQ19NU0cwODcgJiIiIiBuYW1lPSIiQjEiIiBvbmNsaWNrPSdkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiImVkaXQiIikuYWN0aW9uPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWRpdCIiKS5hY3Rpb24rIiImYW1wO2ZpbGVuYW1lPSIiK2VzY2FwZShlZHRGaWxlTG9hZC52YWx1ZSknIC8+Jm5ic3A7Jm5ic3A7PGlucHV0IGNsYXNzPSIiYnV0dG9uIiIgdHlwZT0iInJlc2V0IiIgdmFsdWU9IiIiJiBaQ19NU0cwODggJiIiIiBuYW1lPSIiQjIiIiAvPiINCglSZXNwb25zZS5Xcml0ZSAiJm5ic3A7PGlucHV0IHR5cGU9IiJjaGVja2JveCIiIG9uY2xpY2s9J2lmKHRoaXMuY2hlY2tlZD09dHJ1ZSl7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiImVkaXQiIikuYWN0aW9uKyIiJmFtcDthdXRvbmFtZT0xIiI7fWVsc2V7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbj0iIi4uL2NtZC5hc3A/YWN0PUZpbGVVcGxvYWQiIjt9O1NldENvb2tpZSgiImNoa0F1dG9GaWxlTmFtZSIiLHRoaXMuY2hlY2tlZCwzNjUpOycgaWQ9IiJjaGtBdXRvTmFtZSIiLz48bGFiZWwgZm9yPSIiY2hrQXV0b05hbWUiIj4iJiBaQ19NU0cxMzEgJiI8L2xhYmVsPjwvcD48L2Zvcm0+Ig0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCUlmIENoZWNrUmlnaHRzKCJSb290Iik9RmFsc2UgQW5kIENoZWNrUmlnaHRzKCJGaWxlQWxsIik9RmFsc2UgVGhlbiBzdHJTUUw9IldIRVJFIFt1bF9BdXRob3JJRF0gPSAiICYgQmxvZ1VzZXIuSUQNCg0KCVJlc3BvbnNlLldyaXRlICI8dGFibGUgYm9yZGVyPSIiMSIiIHdpZHRoPSIiMTAwJSIiIGNlbGxzcGFjaW5nPSIiMCIiIGNlbGxwYWRkaW5nPSIiMCIiIGNsYXNzPSIidGFibGVCb3JkZXIgdGFibGVCb3JkZXItdGhjZW50ZXIiIj4iDQoJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGggd2lkdGg9JzUlJz4iJiBaQ19NU0cwNzYgJiI8L3RoPjx0aCB3aWR0aD0nMTAlJz4iJiBaQ19NU0cwMDMgJiI8L3RoPjx0aCB3aWR0aD0nJz4iJiBaQ19NU0cwMDEgJiI8L3RoPjx0aCB3aWR0aD0nMTIlJz4iJiBaQ19NU0cwNDEgJiI8L3RoPjx0aCB3aWR0aD0nMTIlJz4iJiBaQ19NU0cwNzUgJiI8L3RoPjx0aCB3aWR0aD0nNSUnPjwvdGg+PHRoIHdpZHRoPSc1JSc+PGEgaHJlZj0nJyBvbmNsaWNrPSdCYXRjaFNlbGVjdEFsbCgpO3JldHVybiBmYWxzZSc+IiYgWkNfTVNHMjI5ICYiPC9hPjwvdGg+PC90cj4iDQoNCglvYmpSUy5PcGVuKCJTRUxFQ1QgKiBGUk9NIFtibG9nX1VwTG9hZF0gIiAmIHN0clNRTCAmICIgT1JERVIgQlkgW3VsX1Bvc3RUaW1lXSBERVNDIikNCglvYmpSUy5QYWdlU2l6ZT1aQ19NQU5BR0VfQ09VTlQNCglJZiBvYmpSUy5QYWdlQ291bnQ+MCBUaGVuIG9ialJTLkFic29sdXRlUGFnZSA9IGludFBhZ2UNCglpbnRQYWdlQWxsPW9ialJTLlBhZ2VDb3VudA0KDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCUZvciBpPTEgdG8gb2JqUlMuUGFnZVNpemUNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGQ+IiZvYmpSUygidWxfSUQiKSYiPC90ZD4iDQoNCgkJCUNhbGwgR2V0VXNlcnNieVVzZXJJRExpc3Qob2JqUlMoInVsX0F1dGhvcklEIikpDQoJCQlEaW0gVXNlcg0KCQkJRm9yIEVhY2ggVXNlciBpbiBVc2Vycw0KCQkJCUlmIElzT2JqZWN0KFVzZXIpIFRoZW4NCgkJCQkJSWYgVXNlci5JRD1vYmpSUygidWxfQXV0aG9ySUQiKSBUaGVuDQoJCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBVc2VyLk5hbWUgJiAiPC90ZD4iDQoJCQkJCUVuZCBJZg0KCQkJCUVuZCBJZg0KCQkJTmV4dA0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPjxhIGhyZWY9JyImIEJsb2dIb3N0ICYgWkNfVVBMT0FEX0RJUkVDVE9SWSAmIi8iJlllYXIob2JqUlMoInVsX1Bvc3RUaW1lIikpICYgIi8iICYgTW9udGgob2JqUlMoInVsX1Bvc3RUaW1lIikpICYgIi8iJlNlcnZlci5VUkxFbmNvZGUob2JqUlMoInVsX0ZpbGVOYW1lIikpJiInIHRhcmdldD0nX2JsYW5rJz4iJlllYXIob2JqUlMoInVsX1Bvc3RUaW1lIikpICYgIi8iICYgTW9udGgob2JqUlMoInVsX1Bvc3RUaW1lIikpICYgIi8iICZvYmpSUygidWxfRmlsZU5hbWUiKSYiPC9hPjwvdGQ+Ig0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiImb2JqUlMoInVsX0ZpbGVTaXplIikmIjwvdGQ+PHRkPiImRm9ybWF0RGF0ZVRpbWUob2JqUlMoInVsX1Bvc3RUaW1lIiksIDIpJiI8L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQgYWxpZ249IiJjZW50ZXIiIj48YSBocmVmPScuLi9jbWQuYXNwP2FjdD1GaWxlRGVsJmFtcDtpZD0iJlNlcnZlci5VUkxFbmNvZGUob2JqUlMoInVsX0lEIikpJiInIG9uY2xpY2s9J3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTsnPjxpbWcgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vZGVsZXRlLnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDYzICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT48L3RkPiINCgkJCVJlc3BvbnNlLldyaXRlICI8dGQgYWxpZ249IiJjZW50ZXIiIiA+PGlucHV0IHR5cGU9IiJjaGVja2JveCIiIG5hbWU9IiJlZHREZWwiIiBpZD0iImVkdERlbCImb2JqUlMoInVsX0lEIikmIiIiIHZhbHVlPSIiIiZvYmpSUygidWxfSUQiKSYiIiIvPjwvdGQ+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvdHI+Ig0KDQoJCQlvYmpSUy5Nb3ZlTmV4dA0KCQkJSWYgb2JqUlMuZW9mIFRoZW4gRXhpdCBGb3INCg0KCQlOZXh0DQoNCglFbmQgSWYNCg0KCVJlc3BvbnNlLldyaXRlICI8L3RhYmxlPiINCg0KCVJlc3BvbnNlLldyaXRlICI8Zm9ybSBpZD0iImZybUJhdGNoIiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIi4uL2NtZC5hc3A/YWN0PUZpbGVEZWxCYXRjaCIiPjxpbnB1dCB0eXBlPSIiaGlkZGVuIiIgaWQ9IiJlZHRCYXRjaCIiIG5hbWU9IiJlZHRCYXRjaCIiIHZhbHVlPSIiIiIvPjxpbnB1dCBjbGFzcz0iImJ1dHRvbiIiIHR5cGU9IiJzdWJtaXQiIiBvbmNsaWNrPSdCYXRjaERlbGV0ZUFsbCgiImVkdEJhdGNoIiIpO2lmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCIiZWR0QmF0Y2giIikudmFsdWUpe3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTt9ZWxzZXtyZXR1cm4gZmFsc2V9JyB2YWx1ZT0iIiImWkNfTVNHMjI4JiIiIiBpZD0iImJ0blBvc3QiIi8+PC9mb3JtPiIgJiB2YkNybGYNCg0KCUlmICBpbnRQYWdlQWxsPjEgVGhlbg0KCQlzdHJQYWdlPUV4cG9ydFBhZ2VCYXIoaW50UGFnZSxpbnRQYWdlQWxsLFpDX1BBR0VCQVJfQ09VTlQsImFkbWluLmFzcD9hY3Q9RmlsZU1uZyZhbXA7cGFnZT0iKQ0KCQlSZXNwb25zZS5Xcml0ZSAiPGhyLz48cCBjbGFzcz0iInBhZ2ViYXIiIj4iICYgWkNfTVNHMDQyICYgIjogIiAmIHN0clBhZ2UgJiAiPC9wPiINCglFbmQgSWYgDQoNCglSZXNwb25zZS5Xcml0ZSAiPC9kaXY+PHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+aWYoR2V0Q29va2llKCIiY2hrQXV0b0ZpbGVOYW1lIiIpPT0iInRydWUiIil7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJjaGtBdXRvTmFtZSIiKS5jaGVja2VkPXRydWU7ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJlZGl0IiIpLmFjdGlvbj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiImVkaXQiIikuYWN0aW9uK1N0cmluZy5mcm9tQ2hhckNvZGUoMzgpKyIiYXV0b25hbWU9MSIiO307PC9zY3JpcHQ+Ig0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFGaWxlTW5nIiIpOzwvc2NyaXB0PiINCg0KCUV4cG9ydEZpbGVMaXN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIE1hbmFnZSBTZXR0aW5nDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRNYW5hZ2VMaXN0KCkNCg0KCUV4cG9ydE1hbmFnZUxpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBLZXlXb3JkDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRLZXlXb3JkTGlzdChpbnRQYWdlKQ0KDQoJRXhwb3J0S2V5V29yZExpc3Q9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJogICAgTWFuYWdlciBUYWcNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEV4cG9ydFRhZ0xpc3QoaW50UGFnZSkNCglDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9UYWdNbmdfU3ViTWVudSIsTWFrZVN1Yk1lbnUoWkNfTVNHMTM2ICYgIiIsIi4uL2NtZC5hc3A/YWN0PVRhZ0VkdCIsIm0tbGVmdCIsRmFsc2UpKQ0KDQoJRGltIGkNCglEaW0gb2JqUlMNCglEaW0gc3RyUGFnZQ0KCURpbSBpbnRQYWdlQWxsDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImRpdkhlYWRlciIiPiIgJiBaQ19NU0cxNDEgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fVGFnTW5nX1N1Yk1lbnUgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGlkPSIiZGl2TWFpbjIiIj4iDQoNCg0KDQoNCg0KCUNhbGwgQ2hlY2tQYXJhbWV0ZXIoaW50UGFnZSwiaW50IiwxKQ0KDQoJU2V0IG9ialJTPVNlcnZlci5DcmVhdGVPYmplY3QoIkFET0RCLlJlY29yZHNldCIpDQoJb2JqUlMuQ3Vyc29yVHlwZSA9IGFkT3BlbktleXNldA0KCW9ialJTLkxvY2tUeXBlID0gYWRMb2NrUmVhZE9ubHkNCglvYmpSUy5BY3RpdmVDb25uZWN0aW9uPW9iakNvbm4NCglvYmpSUy5Tb3VyY2U9IiINCg0KCW9ialJTLk9wZW4oIlNFTEVDVCAqIEZST00gW2Jsb2dfVGFnXSBPUkRFUiBCWSBbdGFnX05hbWVdIEFTQyIpDQoNCglvYmpSUy5QYWdlU2l6ZT1aQ19NQU5BR0VfQ09VTlQNCglJZiBvYmpSUy5QYWdlQ291bnQ+MCBUaGVuIG9ialJTLkFic29sdXRlUGFnZSA9IGludFBhZ2UNCglpbnRQYWdlQWxsPW9ialJTLlBhZ2VDb3VudA0KDQoJUmVzcG9uc2UuV3JpdGUgIjx0YWJsZSBib3JkZXI9IiIxIiIgd2lkdGg9IiIxMDAlIiIgY2VsbHNwYWNpbmc9IiIwIiIgY2VsbHBhZGRpbmc9IiIwIiIgY2xhc3M9IiJ0YWJsZUJvcmRlciB0YWJsZUJvcmRlci10aGNlbnRlciIiPiINCglSZXNwb25zZS5Xcml0ZSAiPHRyPjx0aCB3aWR0aD0iIjglIiI+IiYgWkNfTVNHMDc2ICYiPC90aD48dGg+IiYgWkNfTVNHMDAxICYiPC90aD48dGg+IiYgWkNfTVNHMDE2ICYiPC90aD48dGggd2lkdGg9IiIxNCUiIj48L3RoPjwvdHI+Ig0KDQoJSWYgKE5vdCBvYmpSUy5ib2YpIEFuZCAoTm90IG9ialJTLmVvZikgVGhlbg0KDQoJCUZvciBpPTEgdG8gb2JqUlMuUGFnZVNpemUNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjx0cj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBvYmpSUygidGFnX0lEIikgJiAiPC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiIgJiBvYmpSUygidGFnX05hbWUiKSAmICI8L3RkPiINCgkJCUlmIElzTnVsbChvYmpSUygidGFnX0ludHJvIikpPVRydWUgVGhlbg0KCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+PC90ZD4iDQoJCQlFbHNlDQoJCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZD4iICYgVHJhbnNmZXJIVE1MKG9ialJTKCJ0YWdfSW50cm8iKSwiW2h0bWwtZm9ybWF0XSIpICYgIjwvdGQ+Ig0KCQkJRW5kIElmDQoJCQlSZXNwb25zZS5Xcml0ZSAiPHRkIGFsaWduPSIiY2VudGVyIiI+PGEgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PVRhZ0VkdCZhbXA7aWQ9IiYgb2JqUlMoInRhZ19JRCIpICYiIiI+PGltZyBzcmM9IiIuLi9pbWFnZS9hZG1pbi90YWdfYmx1ZV9lZGl0LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNzggJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8YSBvbmNsaWNrPSdyZXR1cm4gd2luZG93LmNvbmZpcm0oIiIiJiBaQ19NU0cwNTggJiIiIik7JyBocmVmPSIiLi4vY21kLmFzcD9hY3Q9VGFnRGVsJmFtcDtpZD0iJiBvYmpSUygidGFnX0lEIikgJiIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2RlbGV0ZS5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDYzICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA2MyAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+PC90ZD4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC90cj4iDQoNCgkJCW9ialJTLk1vdmVOZXh0DQoJCQlJZiBvYmpSUy5lb2YgVGhlbiBFeGl0IEZvcg0KDQoJCU5leHQNCg0KCUVuZCBJZg0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KDQoJSWYgIGludFBhZ2VBbGw+MSBUaGVuDQoJCXN0clBhZ2U9RXhwb3J0UGFnZUJhcihpbnRQYWdlLGludFBhZ2VBbGwsWkNfUEFHRUJBUl9DT1VOVCwiYWRtaW4uYXNwP2FjdD1UYWdNbmcmYW1wO3BhZ2U9IikNCgkJUmVzcG9uc2UuV3JpdGUgIjxoci8+PHAgY2xhc3M9IiJwYWdlYmFyIiI+IiAmIFpDX01TRzA0MiAmICI6ICIgJiBzdHJQYWdlICYgIjwvcD4iDQoJRW5kIElmIA0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCW9ialJTLkNsb3NlDQoJU2V0IG9ialJTPU5vdGhpbmcNCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFUYWdNbmciIik7PC9zY3JpcHQ+Ig0KDQoJRXhwb3J0VGFnTGlzdD1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQonIOebrueahO+8miAgICBNYW5hZ2VyIFBsdWdpbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KRnVuY3Rpb24gRXhwb3J0UGx1Z2luTW5nKCkNCg0KCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoNCglEaW0gYXJ5UExfRW5hYmxlKCkNCglEaW0gYXJ5UExfRGlzYWJsZSgpDQoNCglSZURpbSBhcnlQTF9FbmFibGUoMCkNCglSZURpbSBhcnlQTF9EaXNhYmxlKDApDQoNCglEaW0gYXJ5UEwNCglhcnlQTD1TcGxpdChaQ19VU0lOR19QTFVHSU5fTElTVCwifCIpDQoNCglEaW0gaSxqLHMsdCxtLG4NCg0KCUlmIFpDX1VTSU5HX1BMVUdJTl9MSVNUPD4iIiBUaGVuDQoJCWk9VUJvdW5kKGFyeVBMKQ0KCUVsc2UNCgkJaT0wDQoJRW5kIElmDQoNCglSZURpbSBhcnlQTF9FbmFibGUoaSkNCg0KDQoJRGltIGYsIGYxLCBmYw0KCUlmIE5vdCBJc09iamVjdChQdWJsaWNPYmpGU08pIFRoZW4gU2V0IFB1YmxpY09iakZTTz1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJTY3JpcHRpbmcuRmlsZVN5c3RlbU9iamVjdCIpDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImRpdkhlYWRlciIiPiIgJiBaQ19NU0cxMDcgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fUGx1Z0luTW5nX1N1Yk1lbnUgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGlkPSIiZGl2TWFpbjIiIj4iDQoNCg0KDQoNCglSZXNwb25zZS5Xcml0ZSAiPHRhYmxlIGJvcmRlcj0iIjEiIiB3aWR0aD0iIjEwMCUiIiBjZWxsc3BhY2luZz0iIjAiIiBjZWxscGFkZGluZz0iIjAiIiBjbGFzcz0iInRhYmxlQm9yZGVyIHRhYmxlQm9yZGVyLXRoY2VudGVyIiI+Ig0KCVJlc3BvbnNlLldyaXRlICI8dHI+PHRoIHdpZHRoPSIiNTBweCIiPjwvdGg+PC90aD48dGg+IiYgWkNfTVNHMDAxICYiPC90aD48dGggd2lkdGg9IiIxMiUiIj4iJiBaQ19NU0cxMjggJiI8L3RoPjx0aCB3aWR0aD0iIjEyJSIiPiImIFpDX01TRzE1MSAmIjwvdGg+PHRoIHdpZHRoPSIiMTQlIiI+PC90aD48L3RyPiINCg0KCURpbSBvYmpYbWxGaWxlLHN0clhtbEZpbGUNCg0KDQoNCglzdHJYbWxGaWxlID1CbG9nUGF0aCAmICJ6Yl91c2Vycy90aGVtZS8iICYgWkNfQkxPR19USEVNRSAmICIvIiAmICJ0aGVtZS54bWwiDQoNCglTZXQgb2JqWG1sRmlsZT1TZXJ2ZXIuQ3JlYXRlT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIikNCglvYmpYbWxGaWxlLmFzeW5jID0gRmFsc2UNCglvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCW9ialhtbEZpbGUubG9hZChzdHJYbWxGaWxlKQ0KCUlmIG9ialhtbEZpbGUucmVhZHlTdGF0ZT00IFRoZW4NCgkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJRWxzZQ0KDQoJCQlJZiBDTG5nKG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInBsdWdpbi9sZXZlbCIpLnRleHQpPjAgVGhlbg0KDQoJCQkJSWYgRXJyLk51bWJlcj0wIFRoZW4NCg0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRyPiINCgkJCQkJUmVzcG9uc2UuV3JpdGUgIjx0ZCBhbGlnbj0nY2VudGVyJz48aW1nIGFsdD0nJyB3aWR0aD0nMzInIHNyYz0nIiZCbG9nSG9zdCAmICJ6Yl91c2Vycy90aGVtZS8iJiBaQ19CTE9HX1RIRU1FICYiL1NjcmVlblNob3QucG5nJyBzdHlsZT0nbWFyZ2luOjJweDsnLz48L3RkPiINCgkJCQkJJ1Jlc3BvbnNlLldyaXRlICI8dGQ+IiYgIjAiICYiPC90ZD4iDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+PGEgaWQ9IiJteWxpbmsiJkxlZnQobWQ1KG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCksNikmIiIiIGhyZWY9IiIkZGl2IiZMZWZ0KG1kNShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpLDYpJiJ0aXA/d2lkdGg9MzAwIiIgY2xhc3M9IiJiZXR0ZXJUaXAiIiB0aXRsZT0iIiRjb250ZW50IiI+IiAmICIiICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgibmFtZSIpLnRleHQgJiAiICgiJiBaQ19NU0cxOTkgJiIpJm5ic3A7Jm5ic3A7Jm5ic3A7IiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInZlcnNpb24iKS50ZXh0ICAmICI8L2E+PGRpdiBpZD0iImRpdiImTGVmdChtZDUob2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgiaWQiKS50ZXh0KSw2KSYidGlwIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiI+IiZvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJub3RlIikudGV4dCYiPC9kaXY+PC90ZD4iDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8dGQ+IiAmICI8YSB0YXJnZXQ9IiJfYmxhbmsiIiBocmVmPSIiIiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImF1dGhvci91cmwiKS50ZXh0ICYgIiIiPiImIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImF1dGhvci9uYW1lIikudGV4dCAmICI8L3RkPiINCgkJCQkJJ1Jlc3BvbnNlLldyaXRlICI8dGQ+IiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInZlcnNpb24iKS50ZXh0ICYgIjwvdGQ+Ig0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRkPiImIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoIm1vZGlmaWVkIikudGV4dCAmIjwvdGQ+Ig0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPHRkIGFsaWduPSdjZW50ZXInPiINCgkJCQkJSWYgQmxvZ1VzZXIuTGV2ZWw8PUNMbmcob2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGx1Z2luL2xldmVsIikudGV4dCkgVGhlbg0KCQkJCQkJSWYgUHVibGljT2JqRlNPLkZpbGVFeGlzdHMoQmxvZ1BhdGggJiAiemJfdXNlcnMvdGhlbWUvIiAmIFpDX0JMT0dfVEhFTUUgJiAiL3BsdWdpbi8iICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGx1Z2luL3BhdGgiKS50ZXh0KSBUaGVuDQoJCQkJCQkJUmVzcG9uc2UuV3JpdGUgIjxhIGhyZWY9IiIuLi8uLi9aQl9VU0VSUy90aGVtZS8iICYgWkNfQkxPR19USEVNRSAmICIvcGx1Z2luLyIgJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJwbHVnaW4vcGF0aCIpLnRleHQgJiIiIj48aW1nIHdpZHRoPScxNicgdGl0bGU9JyImWkNfTVNHMDIyJiInIGFsdD0nIiZaQ19NU0cwMjImIicgc3JjPScuLi9JTUFHRS9BRE1JTi9zZXR0aW5nX3Rvb2xzLnBuZycvPjwvYT4iDQoJCQkJCQlFbmQgSWYNCgkJCQkJRW5kIElmDQoJCQkJCVJlc3BvbnNlLldyaXRlICI8L3RkPiINCgkJCQkJUmVzcG9uc2UuV3JpdGUgIjwvdHI+Ig0KDQoJCQkJRW5kIElmDQoNCgkJCUVuZCBJZg0KDQoJCUVuZCBJZg0KCUVuZCBJZg0KCVNldCBvYmpYbWxGaWxlPU5vdGhpbmcNCg0KCVNldCBmID0gUHVibGljT2JqRlNPLkdldEZvbGRlcihCbG9nUGF0aCAmICJ6Yl91c2Vycy9wbHVnaW4vIikNCglTZXQgZmMgPSBmLlN1YkZvbGRlcnMNCglGb3IgRWFjaCBmMSBpbiBmYw0KDQoJCXM9IiINCg0KCQlJZiBQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vycy9wbHVnaW4vIiAmIGYxLm5hbWUgJiAiLyIgJiAicGx1Z2luLnhtbCIpIFRoZW4NCg0KCQkJc3RyWG1sRmlsZSA9QmxvZ1BhdGggJiAiemJfdXNlcnMvcGx1Z2luLyIgJiBmMS5uYW1lICYgIi8iICYgInBsdWdpbi54bWwiDQoNCgkJCVNldCBvYmpYbWxGaWxlPVNlcnZlci5DcmVhdGVPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKQ0KCQkJb2JqWG1sRmlsZS5hc3luYyA9IEZhbHNlDQoJCQlvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCQkJb2JqWG1sRmlsZS5sb2FkKHN0clhtbEZpbGUpDQoJCQlJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCQkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJCQlFbHNlDQoJCQkJCSdJZiBCbG9nVXNlci5MZXZlbDw9Q0xuZyhvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJsZXZlbCIpLnRleHQpIFRoZW4NCg0KCQkJSWYgQ2hlY2tQbHVnaW5TdGF0ZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpIFRoZW4NCgkJCQlGb3Igaj0wIFRvIFVCb3VuZChhcnlQTCkNCgkJCQkJSWYgVUNhc2UoYXJ5UEwoaikpPVVDYXNlKG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCkgVGhlbg0KCQkJCQkJbj1qDQoJCQkJCQlFeGl0IEZvcg0KCQkJCQlFbmQgSWYNCgkJCQlOZXh0DQoJCQkJbT1uKzENCgkJCUVsc2UNCgkJCQltPSIiDQoJCQlFbmQgSWYNCg0KDQoJCQlzPXMgJiAiPHRyPiINCg0KCQkJSWYgQ2hlY2tQbHVnaW5TdGF0ZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpIFRoZW4NCgkJCQlzPXMgJiAiPHRkIGFsaWduPSdjZW50ZXInIGNsYXNzPSdwbHVnaW4gcGx1Z2luLW9uJz4iDQoJCQlFbHNlDQoJCQkJcz1zICYgIjx0ZCBhbGlnbj0nY2VudGVyJyBjbGFzcz0ncGx1Z2luJz4iDQoJCQlFbmQgSWYNCg0KCQkJSWYgQ2hlY2tQbHVnaW5TdGF0ZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpIFRoZW4NCg0KCQkJCUlmIFB1YmxpY09iakZTTy5GaWxlRXhpc3RzKEJsb2dQYXRoICYgInpiX3VzZXJzL3BsdWdpbi8iICYgZjEubmFtZSAmICIvIiAmICJsb2dvLnBuZyIpIFRoZW4NCgkJCQkJcz1zICYgIjxpbWcgYWx0PScnIHdpZHRoPSczMicgc3JjPSciJkJsb2dIb3N0ICYgInpiX3VzZXJzL3BsdWdpbi8iICYgZjEubmFtZSAmICIvIiAmICJsb2dvLnBuZyImIicvIHN0eWxlPSdtYXJnaW46MnB4Oyc+Ig0KCQkJCUVsc2UNCgkJCQkJcz1zICYgIjxpbWcgYWx0PScnIHdpZHRoPSczMicgc3JjPScuLi9JTUFHRS9BRE1JTi9hcHAtbG9nby5wbmcnLyBzdHlsZT0nbWFyZ2luOjJweDsnPiINCgkJCQlFbmQgSWYNCgkJCUVsc2UNCgkJCQlJZiBQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vycy9wbHVnaW4vIiAmIGYxLm5hbWUgJiAiLyIgJiAibG9nby5wbmciKSBUaGVuDQoJCQkJCXM9cyAmICI8aW1nIHN0eWxlPSIib3BhY2l0eTowLjIiIiBhbHQ9Jycgd2lkdGg9JzMyJyBzcmM9JyImQmxvZ0hvc3QgJiAiemJfdXNlcnMvcGx1Z2luLyIgJiBmMS5uYW1lICYgIi8iICYgImxvZ28ucG5nIiYiJy8gc3R5bGU9J21hcmdpbjoycHg7Jz4iDQoJCQkJRWxzZQ0KCQkJCQlzPXMgJiAiPGltZyBzdHlsZT0iIm9wYWNpdHk6MC4yIiIgYWx0PScnIHdpZHRoPSczMicgc3JjPScuLi9JTUFHRS9BRE1JTi9hcHAtbG9nby5wbmcnLyBzdHlsZT0nbWFyZ2luOjJweDsnPiINCgkJCQlFbmQgSWYNCgkJCUVuZCBJZg0KDQoJCQlzPXMgJiAiPHN0cm9uZyBzdHlsZT0nZGlzcGxheTpub25lOyc+IiYgU2VydmVyLlVSTEVuY29kZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpICYiPC9zdHJvbmc+Ig0KDQoJCQlzPXMgJiAiPC90ZD4iDQoNCgkJCSdzPXMgJiAiPHRkPiImIG0gJiI8L3RkPiINCgkJCXM9cyAmICI8dGQ+PGEgaWQ9IiJteWxpbmsiJkxlZnQobWQ1KG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCksNikmIiIiIGhyZWY9IiIkZGl2IiZvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQmInRpcD93aWR0aD0zMDAiIiBjbGFzcz0iImJldHRlclRpcCIiIHRpdGxlPSIiJGNvbnRlbnQiIj4iICYgIiIgJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJuYW1lIikudGV4dCAmICImbmJzcDsmbmJzcDsmbmJzcDsiICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgidmVyc2lvbiIpLnRleHQgJiAiPC9hPjxkaXYgaWQ9IiJkaXYiJm9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCYidGlwIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiI+IiZvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJub3RlIikudGV4dCYiPC9kaXY+PC90ZD4iDQoJCQlzPXMgJiAiPHRkPiIgJiAiPGEgdGFyZ2V0PSIiX2JsYW5rIiIgaHJlZj0iIiIgJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJhdXRob3IvdXJsIikudGV4dCAmICIiIj4iJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJhdXRob3IvbmFtZSIpLnRleHQgJiAiPC9hPjwvdGQ+Ig0KCQkJJ3M9cyAmICI8dGQ+IiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInZlcnNpb24iKS50ZXh0ICYgIjwvdGQ+Ig0KCQkJcz1zICYgIjx0ZD4iJiBvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJtb2RpZmllZCIpLnRleHQgJiI8L3RkPiINCg0KCQkJCXM9cyAmICI8dGQgYWxpZ249J2NlbnRlcic+Ig0KCQkJSWYgQ2hlY2tQbHVnaW5TdGF0ZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpIFRoZW4NCgkJCQlJZiBDaGVja1JpZ2h0cygiUGx1Z0luRGlzYWJsZSIpPVRydWUgVGhlbg0KCQkJCQlzPXMgJiAiPGEgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PVBsdWdJbkRpc2FibGUmYW1wO25hbWU9IiYgU2VydmVyLlVSTEVuY29kZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpICYiIiI+PGltZyB3aWR0aD0nMTYnIHRpdGxlPSciJlpDX01TRzIwMyYiJyBhbHQ9JyImWkNfTVNHMjAzJiInIHNyYz0nLi4vSU1BR0UvQURNSU4vY29udHJvbC1wb3dlci5wbmcnLz48L2E+Ig0KCQkJCUVsc2UNCg0KCQkJCUVuZCBJZg0KCQkJRWxzZQ0KCQkJCUlmIENoZWNrUmlnaHRzKCJQbHVnSW5BY3RpdmUiKT1UcnVlIFRoZW4NCgkJCQkJcz1zICYgIjxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1QbHVnSW5BY3RpdmUmYW1wO25hbWU9IiYgU2VydmVyLlVSTEVuY29kZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpICYiIiI+PGltZyB3aWR0aD0nMTYnIHRpdGxlPSciJlpDX01TRzIwMiYiJyBhbHQ9JyImWkNfTVNHMjAyJiInIHNyYz0nLi4vSU1BR0UvQURNSU4vY29udHJvbC1wb3dlci1vZmYucG5nJy8+PC9hPiINCgkJCQlFbHNlDQoJCQkJRW5kIElmDQoJCQlFbmQgSWYNCg0KCQkJSWYgQ2hlY2tQbHVnaW5TdGF0ZShvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJpZCIpLnRleHQpIFRoZW4NCgkJCQlJZiBCbG9nVXNlci5MZXZlbDw9Q0xuZyhvYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJsZXZlbCIpLnRleHQpIFRoZW4NCgkJCQkJSWYgUHVibGljT2JqRlNPLkZpbGVFeGlzdHMoQmxvZ1BhdGggJiAiemJfdXNlcnMvcGx1Z2luLyIgJiBmMS5uYW1lICYgIi8iICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGF0aCIpLnRleHQpIFRoZW4NCgkJCQkJCXM9cyAmICImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8YSBocmVmPSIiLi4vLi4vWkJfVVNFUlMvcGx1Z2luLyIgJiBmMS5uYW1lICYgIi8iICYgb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGF0aCIpLnRleHQgJiIiIj48aW1nIHdpZHRoPScxNicgdGl0bGU9JyImWkNfTVNHMDIyJiInIGFsdD0nIiZaQ19NU0cwMjImIicgc3JjPScuLi9JTUFHRS9BRE1JTi9zZXR0aW5nX3Rvb2xzLnBuZycvPjwvYT4iDQoJCQkJCUVuZCBJZg0KCQkJCUVuZCBJZg0KCQkJRWxzZQ0KCQkJRW5kIElmDQoJCQlzPXMgJiAiPC90ZD4iDQoNCgkJCXM9cyAmICI8L3RyPiINCg0KDQoJCQlJZiBDaGVja1BsdWdpblN0YXRlKG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dCkgVGhlbg0KDQoJCQkJJ2o9VUJvdW5kKGFyeVBMX0VuYWJsZSkNCgkJCQknUmVEaW0gUHJlc2VydmUgYXJ5UExfRW5hYmxlKGorMSkNCgkJCQlhcnlQTF9FbmFibGUobik9cw0KCQkJRWxzZQ0KCQkJCWo9VUJvdW5kKGFyeVBMX0Rpc2FibGUpDQoJCQkJUmVEaW0gUHJlc2VydmUgYXJ5UExfRGlzYWJsZShqKzEpDQoJCQkJYXJ5UExfRGlzYWJsZShqKT1zDQoJCQlFbmQgSWYNCg0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCQlTZXQgb2JqWG1sRmlsZT1Ob3RoaW5nDQoJCUVuZCBJZg0KCU5leHQNCg0KCVJlc3BvbnNlLldyaXRlIEpvaW4oYXJ5UExfRW5hYmxlKQ0KDQoJUmVzcG9uc2UuV3JpdGUgSm9pbihhcnlQTF9EaXNhYmxlKQ0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvdGFibGU+Ig0KCQ0KCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCiU+DQoNCjwlDQoNCglFcnIuQ2xlYXINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFQbHVnSW5NbmciIik7PC9zY3JpcHQ+Ig0KDQoJRXhwb3J0UGx1Z2luTW5nPVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRTaXRlSW5mbygpDQoNCglEaW0gcyxrDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiZGl2SGVhZGVyIiI+IiAmIFpDX01TRzE1OSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJTdWJNZW51IiI+IiAmIFJlc3BvbnNlX1BsdWdpbl9TaXRlSW5mb19TdWJNZW51ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBpZD0iImRpdk1haW4yIiI+Ig0KCQ0KCQ0KCUlmIEJsb2dVc2VyLkxldmVsPDQgVGhlbiANCgkJcz1zICYgIjx0YWJsZSBib3JkZXI9IiIwIiIgY2VsbHNwYWNpbmc9IiIwIiIgY2VsbHBhZGRpbmc9IiIwIiIgYWxpZ249IiJjZW50ZXIiIiB3aWR0aD0iIjEwMCUiIiBjbGFzcz0iInRhYmxlQm9yZGVyIiIgaWQ9IiJ0YlN0YXRpc3RpYyIiPjx0cj48dGggaGVpZ2h0PSIiMzIiIiBjb2xzcGFuPSIiNCIiICBhbGlnbj0iImNlbnRlciIiPiZuYnNwOyImWkNfTVNHMTY3JiImbmJzcDs8YSBocmVmPSIiamF2YXNjcmlwdDpzdGF0aXN0aWMoJz9yZWxvYWQnKTsiIj5bIiZaQ19NU0cyMjUmWkNfTVNHMjgxJiJdPC9hPiA8aW1nIGlkPSIic3RhdGxvYWRpbmciIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2xvYWRpbmcuZ2lmIiI+PC90aD48L3RyPjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+Ig0KCUVuZCBJZg0KCUlmIExlbihaQ19VUERBVEVfSU5GT19VUkwpPjAgVGhlbg0KCQlzPXMgJiAiPHRhYmxlIGJvcmRlcj0iIjAiIiBjZWxsc3BhY2luZz0iIjAiIiBjZWxscGFkZGluZz0iIjAiIiBhbGlnbj0iImNlbnRlciIiIHdpZHRoPSIiMTAwJSIiIGNsYXNzPSIidGFibGVCb3JkZXIiIj48dHI+PHRoIGhlaWdodD0iIjMyIiIgY29sc3Bhbj0iIjQiIiBhbGlnbj0iImNlbnRlciIiPiZuYnNwOyImWkNfTVNHMTY0JiImbmJzcDs8YSBocmVmPSIiamF2YXNjcmlwdDp1cGRhdGVpbmZvKCc/cmVsb2FkJyk7IiI+WyImWkNfTVNHMjI1JiJdPC9hPiA8aW1nIGlkPSIiaW5mb2xvYWRpbmciIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2xvYWRpbmcuZ2lmIiI+PC90aD48L3RyPjx0cj48dGQgaGVpZ2h0PSIiMjUiIiBjb2xzcGFuPSIiNCIiIGlkPSIidGRVcGRhdGVJbmZvIiI+Jm5ic3A7PC90ZD48L3RyPjwvdGFibGU+Ig0KCUVuZCBJZg0KCWsgPSBMb2FkRnJvbUZpbGUoQmxvZ1BhdGggJiAiemJfc3lzdGVtXGRlZmVuZFx0aGFua3MuaHRtbCIsInV0Zi04IikNCglrID0gUmVwbGFjZShrLCJ7JVpDX01TRzMwMyV9IixaQ19NU0czMDMpDQoJayA9IFJlcGxhY2UoaywieyVaQ19NU0czMDQlfSIsWkNfTVNHMzA0KQ0KCWsgPSBSZXBsYWNlKGssInslWkNfTVNHMzA1JX0iLFpDX01TRzMwNSkNCglrID0gUmVwbGFjZShrLCJ7JVpDX01TRzMwNiV9IixaQ19NU0czMDYpDQoJayA9IFJlcGxhY2UoaywieyVaQ19NU0czMDclfSIsWkNfTVNHMzA3KQ0KCWsgPSBSZXBsYWNlKGssInslWkNfTVNHMzA4JX0iLFpDX01TRzMwOCkNCglzID0gcyAmIGsNCglSZXNwb25zZS5Xcml0ZSBzDQoJUmVzcG9uc2UuV3JpdGUgUmVzcG9uc2VfUGx1Z2luX0FkbWluX1NpdGVJbmZvDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5zdGF0aXN0aWMoIiIiIik7dXBkYXRlaW5mbygiIiIiKTs8L3NjcmlwdD4iDQoJUmVzcG9uc2UuV3JpdGUgIjxzY3JpcHQgdHlwZT0iInRleHQvamF2YXNjcmlwdCIiPkFjdGl2ZUxlZnRNZW51KCIiYVNpdGVJbmZvIiIpOzwvc2NyaXB0PiINCglSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+QWN0aXZlVG9wTWVudSgiInRvcG1lbnUxIiIpOzwvc2NyaXB0PiINCg0KCUV4cG9ydFNpdGVJbmZvPVRydWUNCg0KCUVyci5DbGVhcg0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEV4cG9ydEZpbGVSZUJ1aWxkQXNrKCkNCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiZGl2SGVhZGVyMiIiPiIgJiBaQ19NU0cwNzMgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fQXNrRmlsZVJlQnVpbGRfU3ViTWVudSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXZNYWluMiIiPiINCg0KCVJlc3BvbnNlLldyaXRlICI8Zm9ybSBpZD0iImVkaXQiIiBuYW1lPSIiZWRpdCIiIG1ldGhvZD0iInBvc3QiIiBhY3Rpb249IiIuLi9jbWQuYXNwP2FjdD1GaWxlUmVCdWlsZCIiPiIgJiB2YkNybGYNCglSZXNwb25zZS5Xcml0ZSAiPHA+IiYgWkNfTVNHMTEyICYiPC9wPiIgJiB2YkNybGYNCg0KCVJlc3BvbnNlLldyaXRlICI8cD48aW5wdXQgY2xhc3M9IiJidXR0b24iIiB0eXBlPSIic3VibWl0IiIgdmFsdWU9IiIiJlpDX01TRzA4NyYiIiIgaWQ9IiJidG5Qb3N0IiIvPiINCg0KCVJlc3BvbnNlLldyaXRlICImbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiIgY2xhc3M9IiJidXR0b24iIiB0eXBlPSIiYnV0dG9uIiIgb25jbGljaz0nJCh0aGlzKS5wcm9wKHtkaXNhYmxlZDogdHJ1ZX0pO0JhdGNoQ2FuY2VsKCknIHZhbHVlPSIiIiZaQ19NU0cyNjQmIiIiLz4iDQoNCglSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+aWYod2luZG93LndlYmtpdE5vdGlmaWNhdGlvbnMmJighd2luZG93LndlYmtpdE5vdGlmaWNhdGlvbnMuY2hlY2tQZXJtaXNzaW9uKCkgPT0gMCkpe2RvY3VtZW50LndyaXRlKCcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8aW5wdXQgY2xhc3M9IiJidXR0b24iIiBvbmNsaWNrPSIid2luZG93LndlYmtpdE5vdGlmaWNhdGlvbnMucmVxdWVzdFBlcm1pc3Npb24oKTtyZXR1cm4gZmFsc2U7IiIgdHlwZT0iImJ1dHRvbiIiIHZhbHVlPSIiIiZaQ19NU0cyNjMmIiIiLz4nKX08L3NjcmlwdD4iCQ0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvcD4iICYgdmJDcmxmDQoJUmVzcG9uc2UuV3JpdGUgIjwvZm9ybT4iIA0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KDQoNCglSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+QWN0aXZlTGVmdE1lbnUoIiJhQXNrRmlsZVJlQnVpbGQiIik7PC9zY3JpcHQ+Ig0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVUb3BNZW51KCIidG9wbWVudTMiIik7PC9zY3JpcHQ+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxzY3JpcHQgdHlwZT0iInRleHQvamF2YXNjcmlwdCIiPmZ1bmN0aW9uIEJhdGNoQmVnaW4oKXskKCIiaW5wdXRbdHlwZT0nc3VibWl0J10iIikucHJvcCh7ZGlzYWJsZWQ6IHRydWV9KTskKCIiaW5wdXRbdHlwZT0nYnV0dG9uJ10iIikuc2hvdygpO307PC9zY3JpcHQ+Ig0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5mdW5jdGlvbiBCYXRjaEVuZCgpeyQoIiJpbnB1dFt0eXBlPSdzdWJtaXQnXSIiKS5wcm9wKHtkaXNhYmxlZDogZmFsc2V9KTskKCIiaW5wdXRbdHlwZT0nYnV0dG9uJ10iIikuaGlkZSgpO307PC9zY3JpcHQ+Ig0KDQoJRXhwb3J0RmlsZVJlQnVpbGRBc2s9VHJ1ZQ0KDQpFbmQgRnVuY3Rpb24NCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCg0KDQoNCg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KJyDnm67nmoTvvJoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCkZ1bmN0aW9uIEV4cG9ydFRoZW1lTW5nKCkNCg0KCU9uIEVycm9yIFJlc3VtZSBOZXh0DQoNCglEaW0gQ3VycmVudFRoZW1lDQoJRGltIEN1cnJlbnRTdHlsZQ0KDQoJQ3VycmVudFRoZW1lPVpDX0JMT0dfVEhFTUUNCglDdXJyZW50U3R5bGU9WkNfQkxPR19DU1MNCg0KCURpbSBUaGVtZV9JZA0KCURpbSBUaGVtZV9OYW1lDQoJRGltIFRoZW1lX1VybA0KCURpbSBUaGVtZV9Ob3RlDQoJRGltIFRoZW1lX0Rlc2NyaXB0aW9uDQoJRGltIFRoZW1lX1B1YmRhdGUNCglEaW0gVGhlbWVfTW9kaWZpZWQNCglEaW0gVGhlbWVfU291cmNlX05hbWUNCglEaW0gVGhlbWVfU291cmNlX1VybA0KCURpbSBUaGVtZV9BdXRob3JfTmFtZQ0KCURpbSBUaGVtZV9BdXRob3JfVXJsDQoJRGltIFRoZW1lX1NjcmVlblNob3QNCglEaW0gVGhlbWVfU3R5bGVfTmFtZQ0KCURpbSBpLGoNCglEaW0gYXJ5RmlsZUxpc3QNCg0KCUlmIFJlcXVlc3QuUXVlcnlTdHJpbmcoImluc3RhbGxlZCIpPD4iIiBUaGVuDQoNCgkJQ2FsbCBJbnN0YWxsUGx1Z2luKFJlcXVlc3QuUXVlcnlTdHJpbmcoImluc3RhbGxlZCIpKQ0KDQoJRW5kIElmDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiZGl2SGVhZGVyIiI+IiAmIFpDX01TRzIyMyAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJTdWJNZW51IiI+IiAmIFJlc3BvbnNlX1BsdWdpbl9UaGVtZU1uZ19TdWJNZW51ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBpZD0iImRpdk1haW4yIiI+Ig0KDQoNCg0KCVJlc3BvbnNlLldyaXRlICI8Zm9ybSBpZD0iImZybVRoZW1lIiIgbWV0aG9kPSIicG9zdCIiIGFjdGlvbj0iIi4uL2NtZC5hc3A/YWN0PVRoZW1lU2F2IiI+Ig0KDQoJRGltIG9ialhtbEZpbGUsc3RyWG1sRmlsZQ0KCURpbSBmLCBmMSwgZmMsIHMNCgkNCglJZiBOb3QgSXNPYmplY3QoUHVibGljT2JqRlNPKSBUaGVuIFNldCBQdWJsaWNPYmpGU089U2VydmVyLkNyZWF0ZU9iamVjdCgiU2NyaXB0aW5nLkZpbGVTeXN0ZW1PYmplY3QiKQ0KCQ0KCVNldCBmID0gUHVibGljT2JqRlNPLkdldEZvbGRlcihCbG9nUGF0aCAmICJ6Yl91c2Vycy90aGVtZSIgJiAiLyIpDQoJU2V0IGZjID0gZi5TdWJGb2xkZXJzDQoJRm9yIEVhY2ggZjEgaW4gZmMNCg0KCQlJZiBQdWJsaWNPYmpGU08uRmlsZUV4aXN0cyhCbG9nUGF0aCAmICJ6Yl91c2Vycy90aGVtZSIgJiAiLyIgJiBmMS5uYW1lICYgIi8iICYgInRoZW1lLnhtbCIpIFRoZW4NCg0KCQkJc3RyWG1sRmlsZSA9QmxvZ1BhdGggJiAiemJfdXNlcnMvdGhlbWUiICYgIi8iICYgZjEubmFtZSAmICIvIiAmICJ0aGVtZS54bWwiDQoNCgkJCVNldCBvYmpYbWxGaWxlPVNlcnZlci5DcmVhdGVPYmplY3QoIk1pY3Jvc29mdC5YTUxET00iKQ0KCQkJb2JqWG1sRmlsZS5hc3luYyA9IEZhbHNlDQoJCQlvYmpYbWxGaWxlLlZhbGlkYXRlT25QYXJzZT1GYWxzZQ0KCQkJb2JqWG1sRmlsZS5sb2FkKHN0clhtbEZpbGUpDQoJCQlJZiBvYmpYbWxGaWxlLnJlYWR5U3RhdGU9NCBUaGVuDQoJCQkJSWYgb2JqWG1sRmlsZS5wYXJzZUVycm9yLmVycm9yQ29kZSA8PiAwIFRoZW4NCgkJCQlFbHNlDQoNCgkJCQkJVGhlbWVfSWQ9IiINCgkJCQkJVGhlbWVfTmFtZT0iIg0KCQkJCQlUaGVtZV9Vcmw9IiINCgkJCQkJVGhlbWVfTm90ZT0iIg0KCQkJCQlUaGVtZV9EZXNjcmlwdGlvbj0iIg0KCQkJCQlUaGVtZV9QdWJkYXRlPSIiDQoJCQkJCVRoZW1lX01vZGlmaWVkPSIiDQoJCQkJCVRoZW1lX1NvdXJjZV9OYW1lPSIiDQoJCQkJCVRoZW1lX1NvdXJjZV9Vcmw9IiINCgkJCQkJVGhlbWVfQXV0aG9yX05hbWU9IiINCgkJCQkJVGhlbWVfQXV0aG9yX1VybD0iIg0KCQkJCQlUaGVtZV9TY3JlZW5TaG90PSIiDQoJCQkJCVRoZW1lX1N0eWxlX05hbWU9IiINCg0KCQkJCQlUaGVtZV9Tb3VyY2VfTmFtZT1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJzb3VyY2UvbmFtZSIpLnRleHQNCgkJCQkJVGhlbWVfU291cmNlX1VybD1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJzb3VyY2UvdXJsIikudGV4dA0KDQoJCQkJCVRoZW1lX0F1dGhvcl9OYW1lPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImF1dGhvci9uYW1lIikudGV4dA0KCQkJCQlUaGVtZV9BdXRob3JfVXJsPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImF1dGhvci91cmwiKS50ZXh0DQoNCgkJCQkJSWYgVGhlbWVfQXV0aG9yX05hbWU9IiIgVGhlbg0KCQkJCQkJVGhlbWVfQXV0aG9yX05hbWU9VGhlbWVfU291cmNlX05hbWUNCgkJCQkJCVRoZW1lX0F1dGhvcl9Vcmw9VGhlbWVfU291cmNlX1VybA0KCQkJCQlFbmQgSWYNCg0KDQoJCQkJCSdUaGVtZV9JZD1mMS5uYW1lDQoJCQkJCVRoZW1lX0lkPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoImlkIikudGV4dA0KCQkJCQlUaGVtZV9OYW1lPW9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoIm5hbWUiKS50ZXh0DQoJCQkJCVRoZW1lX1VybD1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJ1cmwiKS50ZXh0DQoJCQkJCVRoZW1lX05vdGU9b2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgibm90ZSIpLnRleHQNCgkJCQkJVGhlbWVfUHViZGF0ZT1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJwdWJkYXRlIikudGV4dA0KCQkJCQlUaGVtZV9Nb2RpZmllZD1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJtb2RpZmllZCIpLnRleHQNCg0KCQkJCQlUaGVtZV9EZXNjcmlwdGlvbj1vYmpYbWxGaWxlLmRvY3VtZW50RWxlbWVudC5zZWxlY3RTaW5nbGVOb2RlKCJkZXNjcmlwdGlvbiIpLnRleHQNCg0KCQkJCQlUaGVtZV9TY3JlZW5TaG90PSIuLi8uLi96Yl91c2Vycy90aGVtZSIgJiIvIiAmIFRoZW1lX0lkICYgIi8iICYgInNjcmVlbnNob3QucG5nIg0KDQoNCg0KDQoJCUlmIFVDYXNlKFRoZW1lX0lkKT1VQ2FzZShDdXJyZW50VGhlbWUpIFRoZW4NCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGlkPSIidGhlbWUtIiZUaGVtZV9JZCYiIiIgY2xhc3M9IiJ0aGVtZSB0aGVtZS1ub3ciIj4iDQoJCUVsc2UNCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGlkPSIidGhlbWUtIiZUaGVtZV9JZCYiIiIgY2xhc3M9IiJ0aGVtZSB0aGVtZS1vdGhlciIiPiINCgkJRW5kIElmDQoNCgkJSWYgVUNhc2UoVGhlbWVfSWQpIDw+IFVDYXNlKGYxLm5hbWUpIFRoZW4NCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IHN0eWxlPSIiY29sb3I6cmVkOyIiPklEIEVycm9yISBTaG91bGQgYmUgIiI8c3Ryb25nPiImIGYxLm5hbWUgJiI8L3N0cm9uZz4iIiEhPC9kaXY+Ig0KCQlFbHNlDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInRoZW1lLW5hbWUiIj48aW1nIHdpZHRoPScxNicgdGl0bGU9JycgYWx0PScnIHNyYz0nLi4vSU1BR0UvQURNSU4vbGF5b3V0LnBuZycvPiA8YSAgdGFyZ2V0PSIiX2JsYW5rIiIgaHJlZj0iIiImVGhlbWVfVXJsJiIiIiAgdGl0bGU9IiIiIj4iICYgIjxzdHJvbmcgc3R5bGU9J2Rpc3BsYXk6bm9uZTsnPiIgJiBTZXJ2ZXIuVVJMRW5jb2RlKFRoZW1lX0lkKSAmICI8L3N0cm9uZz48Yj4iICYgVGhlbWVfTmFtZSAmICI8L2I+IiAmICI8L2E+Ig0KCQkJSWYgVUNhc2UoVGhlbWVfSWQpPVVDYXNlKEN1cnJlbnRUaGVtZSkgVGhlbg0KCQkJCUlmIFB1YmxpY09iakZTTy5GaWxlRXhpc3RzKEJsb2dQYXRoICYgInpiX3VzZXJzL3RoZW1lLyIgJiBaQ19CTE9HX1RIRU1FICYgIi9wbHVnaW4vIiAmIG9ialhtbEZpbGUuZG9jdW1lbnRFbGVtZW50LnNlbGVjdFNpbmdsZU5vZGUoInBsdWdpbi9wYXRoIikudGV4dCkgVGhlbg0KCQkJCQlSZXNwb25zZS5Xcml0ZSAiPGlucHV0IHR5cGU9IiJidXR0b24iIiBjbGFzcz0iInRoZW1lLWNvbmZpZyBidXR0b24iIiB2YWx1ZT0iIiImWkNfTVNHMjc4JiIiIiBvbmNsaWNrPSIibG9jYXRpb24uaHJlZj0nIiZCbG9nSG9zdCYiemJfdXNlcnMvdGhlbWUvIiZaQ19CTE9HX1RIRU1FJiIvcGx1Z2luLyImb2JqWG1sRmlsZS5kb2N1bWVudEVsZW1lbnQuc2VsZWN0U2luZ2xlTm9kZSgicGx1Z2luL3BhdGgiKS50ZXh0JiInIiI+Ig0KCQkJCUVuZCBJZg0KCQkJRW5kIElmDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KCQlFbmQgSWYNCg0KDQoJCVJlc3BvbnNlLldyaXRlICI8ZGl2PjxhIGlkPSIibXlsaW5rIiZMZWZ0KG1kNShUaGVtZV9JZCksNikmIiIiIGhyZWY9IiIkZGl2IiZMZWZ0KG1kNShUaGVtZV9JZCksNikmInRpcD93aWR0aD0zMjAiIiBjbGFzcz0iImJldHRlclRpcCIiIHRpdGxlPSIiIiZUaGVtZV9OYW1lJiIiIiAiDQoJCUlmIFVDYXNlKFRoZW1lX0lkKTw+VUNhc2UoQ3VycmVudFRoZW1lKSBUaGVuIFJlc3BvbnNlLldyaXRlICIgb25jbGljaz0nJCgiIiNlZHRaQ19CTE9HX1RIRU1FIiIpLnZhbCgiIiImVGhlbWVfSWQmIiIiKTskKCIiI2VkdFpDX0JMT0dfQ1NTIiIpLnZhbCgkKCIiI2NhdGUiJkxlZnQobWQ1KFRoZW1lX0lkKSw2KSYiIiIpLnZhbCgpKTskKCIiI2ZybVRoZW1lIiIpLnN1Ym1pdCgpOyciDQoJCVJlc3BvbnNlLldyaXRlICI+PGltZyBzcmM9IiIiICYgVGhlbWVfU2NyZWVuU2hvdCAmICIiIiBhbHQ9IiJTY3JlZW5TaG90IiIgd2lkdGg9IiIyMDAiIiBoZWlnaHQ9IiIxNTAiIiAvPjwvYT48L2Rpdj4iDQoNCgkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXYiJkxlZnQobWQ1KFRoZW1lX0lkKSw2KSYidGlwIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmU7IiI+Ig0KCQlSZXNwb25zZS5Xcml0ZSAiPHRhYmxlIGJvcmRlcj0iIjAiIiBjZWxsc3BhY2luZz0iIjAiIiBjZWxscGFkZGluZz0iIjAiIiBhbGlnbj0iImNlbnRlciIiIHdpZHRoPSIiMTAwJSIiIGNsYXNzPSIidGFibGVCb3JkZXIiIj48dGJvZHk+Ig0KCQlSZXNwb25zZS5Xcml0ZSAiPHRyPjx0aCBjb2xzcGFuPSIiMiIiPklEIDogIiAmIFRoZW1lX0lkICYgIjwvdGg+PC90cj4iDQoJCVJlc3BvbnNlLldyaXRlICI8dHI+PHRkIHdpZHRoPSIiNjBweCIiPiImWkNfTVNHMTI4JiI8L3RkPjx0ZD4iICYgVGhlbWVfQXV0aG9yX05hbWUgJiI8L3RkPjwvdHI+Ig0KCQlSZXNwb25zZS5Xcml0ZSAiPHRyPjx0ZD4iJlpDX01TRzA1NCYiPC90ZD48dGQ+IiAmIFRoZW1lX0F1dGhvcl9VcmwgJiAiPC90ZD48L3RyPiINCgkJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGQ+IiZaQ19NU0cxOTcmIjwvdGQ+PHRkPiIgJiBUaGVtZV9Tb3VyY2VfTmFtZSAmICI8L3RkPjwvdHI+Ig0KCQlSZXNwb25zZS5Xcml0ZSAiPHRyPjx0ZD4iJlpDX01TRzA1NCYiPC90ZD48dGQ+IiAmIFRoZW1lX1NvdXJjZV9VcmwgJiAiPC90ZD48L3RyPiINCgkJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGQ+IiZaQ19NU0cwMTEmIjwvdGQ+PHRkPiIgJiBUaGVtZV9QdWJkYXRlICYgIjwvdGQ+PC90cj4iDQoJCVJlc3BvbnNlLldyaXRlICI8dHI+PHRkPiImWkNfTVNHMTUxJiI8L3RkPjx0ZD4iICYgVGhlbWVfTW9kaWZpZWQgJiAiPC90ZD48L3RyPiINCgkJUmVzcG9uc2UuV3JpdGUgIjx0cj48dGQ+IiZaQ19NU0cxOTgmIjwvdGQ+PHRkPiIgJiBUcmFuc2ZlckhUTUwoVGhlbWVfRGVzY3JpcHRpb24sIltlbnRlcl0iKSAmICI8L3RyPiINCgkJUmVzcG9uc2UuV3JpdGUgIjwvdGJvZHk+PC90YWJsZT4iDQoJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCicJCUlmIFRoZW1lX1VybD0iIiBUaGVuDQonCQkJUmVzcG9uc2UuV3JpdGUgIjxwPiImWkNfTVNHMDAxJiI6IiAmIFRoZW1lX05hbWUgJiAiPC9wPiINCicJCUVsc2UNCicJCQlSZXNwb25zZS5Xcml0ZSAiPHA+IiZaQ19NU0cwMDEmIjo8YSB0YXJnZXQ9IiJfYmxhbmsiIiBocmVmPSIiIiAmIFRoZW1lX1VybCAmICIiIj4iICYgVGhlbWVfTmFtZSAmICI8L2E+PC9wPiINCicJCUVuZCBJZg0KDQoJCUlmIFRoZW1lX0F1dGhvcl9Vcmw9IiIgVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ0aGVtZS1hdXRob3IiIj4iJlpDX01TRzEyOCYiOiAiICYgVGhlbWVfQXV0aG9yX05hbWUgJiAiPC9kaXY+Ig0KCQlFbHNlDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInRoZW1lLWF1dGhvciIiPiImWkNfTVNHMTI4JiI6IDxhIHRhcmdldD0iIl9ibGFuayIiIGhyZWY9IiIiICYgVGhlbWVfQXV0aG9yX1VybCAmICIiIj4iICYgVGhlbWVfQXV0aG9yX05hbWUgJiAiPC9hPjwvZGl2PiINCgkJRW5kIElmDQoNCg0KJwkJUmVzcG9uc2UuV3JpdGUgIjxwPiImWkNfTVNHMDExJiI6IiAmIFRoZW1lX1B1YmRhdGUgJiAiPC9wPiINCicJCVJlc3BvbnNlLldyaXRlICI8cCBzdHlsZT0naGVpZ2h0OjEuMGVtOyc+IiZaQ19NU0cwMTYmIjoiICYgVGhlbWVfTm90ZSAmICI8L3A+Ig0KCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInRoZW1lLXN0eWxlIiI+IiZaQ19NU0cxOTYmIjogIiAmICI8c2VsZWN0IGNsYXNzPSIiZWRpdCIiIHNpemU9IiIxIiIgaWQ9IiJjYXRlIiZMZWZ0KG1kNShUaGVtZV9JZCksNikmIiIiIG5hbWU9IiJjYXRlIiZMZWZ0KG1kNShUaGVtZV9JZCksNikmIiIiIHN0eWxlPSIid2lkdGg6MTEwcHg7IiIgb25jaGFuZ2U9IiJkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWR0WkNfQkxPR19USEVNRScpLnZhbHVlPSciJlRoZW1lX0lkJiInO2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZHRaQ19CTE9HX0NTUycpLnZhbHVlPXRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnZhbHVlIiI+Ig0KDQoNCgkJYXJ5RmlsZUxpc3Q9TG9hZEluY2x1ZGVGaWxlcygiemJfdXNlcnNcdGhlbWUiICYgIi8iICYgVGhlbWVfSWQgJiAiL3N0eWxlIikNCg0KCQlJZiBJc0FycmF5KGFyeUZpbGVMaXN0KSBUaGVuDQoJCQlqPVVCb3VuZChhcnlGaWxlTGlzdCkNCgkJCUZvciBpPTEgdG8gag0KCQkJCUlmIChJblN0cihhcnlGaWxlTGlzdChpKSwiLmNzcyIpPjApIE9yIChJblN0cihhcnlGaWxlTGlzdChpKSwiLmFzcCIpKSBUaGVuDQoJCQkJCVRoZW1lX1N0eWxlX05hbWU9UmVwbGFjZShhcnlGaWxlTGlzdChpKSwiLmNzcyIsIiIpDQoJCQkJCVRoZW1lX1N0eWxlX05hbWU9UmVwbGFjZShUaGVtZV9TdHlsZV9OYW1lLCIuYXNwIiwiIikNCgkJCQkJSWYgVGhlbWVfSWQ9Q3VycmVudFRoZW1lIEFuZCBUaGVtZV9TdHlsZV9OYW1lPUN1cnJlbnRTdHlsZSBUaGVuDQoJCQkJCQlSZXNwb25zZS5Xcml0ZSAiIDxvcHRpb24gc2VsZWN0ZWQ9IiJzZWxlY3RlZCIiIHZhbHVlPSIiIiYgVGhlbWVfU3R5bGVfTmFtZSAmIiIiPiImYXJ5RmlsZUxpc3QoaSkmIjwvb3B0aW9uPiAiDQoJCQkJCUVsc2UNCgkJCQkJCUlmIGo9MSBUaGVuDQoJCQkJCQkJUmVzcG9uc2UuV3JpdGUgIiA8b3B0aW9uIHZhbHVlPSIiIiYgVGhlbWVfU3R5bGVfTmFtZSAmIiIiPiImYXJ5RmlsZUxpc3QoaSkmIjwvb3B0aW9uPiAiDQoJCQkJCQlFbHNlSWYgTENhc2UoVGhlbWVfU3R5bGVfTmFtZSk9InN0eWxlIiBUaGVuDQoJCQkJCQkJUmVzcG9uc2UuV3JpdGUgIiA8b3B0aW9uIHZhbHVlPSIiIiYgVGhlbWVfU3R5bGVfTmFtZSAmIiIiPiImYXJ5RmlsZUxpc3QoaSkmIjwvb3B0aW9uPiAiDQoJCQkJCQlFbHNlSWYgTENhc2UoVGhlbWVfU3R5bGVfTmFtZSk9TENhc2UoVGhlbWVfSWQpIFRoZW4NCgkJCQkJCQlSZXNwb25zZS5Xcml0ZSAiIDxvcHRpb24gdmFsdWU9IiIiJiBUaGVtZV9TdHlsZV9OYW1lICYiIiI+IiZhcnlGaWxlTGlzdChpKSYiPC9vcHRpb24+ICINCgkJCQkJCUVsc2UNCgkJCQkJCQlJZiBpPTEgVGhlbg0KCQkJCQkJCQlSZXNwb25zZS5Xcml0ZSAiIDxvcHRpb24gIHZhbHVlPSIiIiYgVGhlbWVfU3R5bGVfTmFtZSAmIiIiPiImYXJ5RmlsZUxpc3QoaSkmIjwvb3B0aW9uPiAiDQoJCQkJCQkJRWxzZQ0KCQkJCQkJCQlSZXNwb25zZS5Xcml0ZSAiIDxvcHRpb24gdmFsdWU9IiIiJiBUaGVtZV9TdHlsZV9OYW1lICYiIiI+IiZhcnlGaWxlTGlzdChpKSYiPC9vcHRpb24+ICINCgkJCQkJCQlFbmQgSWYNCgkJCQkJCUVuZCBJZg0KCQkJCQlFbmQgSWYNCgkJCQlFbmQgSWYNCgkJCU5leHQNCgkJRW5kIElmDQoNCgkJUmVzcG9uc2UuV3JpdGUgIjwvc2VsZWN0PiINCgkJUmVzcG9uc2UuV3JpdGUgIjxpbnB1dCB0eXBlPSIiYnV0dG9uIiIgY2xhc3M9IiJ0aGVtZS1hY3RpdmF0ZSBidXR0b24iIiB2YWx1ZT0iIiImWkNfTVNHMjAyJiIiIiBvbmNsaWNrPSdpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIiJjYXRlIiZMZWZ0KG1kNShUaGVtZV9JZCksNikmIiIiKS52YWx1ZSl7cmV0dXJuIGZhbHNlO31lbHNleyQoIiIjZWR0WkNfQkxPR19USEVNRSIiKS52YWwoIiIiJlRoZW1lX0lkJiIiIik7JCgiIiNlZHRaQ19CTE9HX0NTUyIiKS52YWwoJCgiIiNjYXRlIiZMZWZ0KG1kNShUaGVtZV9JZCksNikmIiIiKS52YWwoKSk7fTskKCIiI2ZybVRoZW1lIiIpLnN1Ym1pdCgpJz48L2Rpdj4iDQoNCg0KCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KDQoNCg0KCQkJCUVuZCBJZg0KCQkJU2V0IG9ialhtbEZpbGU9Tm90aGluZw0KCQkJRW5kIElmDQoNCgkJRW5kIElmDQoNCglOZXh0DQoNCgkJUmVzcG9uc2UuV3JpdGUgIjxpbnB1dCB0eXBlPSIiaGlkZGVuIiIgbmFtZT0iImVkdFpDX0JMT0dfQ1NTIiIgaWQ9IiJlZHRaQ19CTE9HX0NTUyIiIHZhbHVlPSIiIiIgLz4iDQoJCVJlc3BvbnNlLldyaXRlICI8aW5wdXQgdHlwZT0iImhpZGRlbiIiIG5hbWU9IiJlZHRaQ19CTE9HX1RIRU1FIiIgaWQ9IiJlZHRaQ19CTE9HX1RIRU1FIiIgdmFsdWU9IiIiIiAvPiINCg0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZm9ybT4iDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCglFcnIuQ2xlYXINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFUaGVtZU1uZyIiKTs8L3NjcmlwdD4iDQoNCglFeHBvcnRUaGVtZU1uZz1UcnVlDQoNCkVuZCBGdW5jdGlvbg0KJyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KDQoNCg0KDQoNCicqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioNCicg55uu55qE77yaICAgIE1hbmFnZXIgVGFnDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQpGdW5jdGlvbiBFeHBvcnRGdW5jdGlvbkxpc3QoKQ0KDQoJQ2FsbCBHZXRGdW5jdGlvbigpDQoNCglDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9GdW5jdGlvbk1uZ19TdWJNZW51IixNYWtlU3ViTWVudShaQ19NU0cxNDIgJiAiIiwiLi4vY21kLmFzcD9hY3Q9RnVuY3Rpb25FZHQiLCJtLWxlZnQiLEZhbHNlKSkNCg0KQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fRnVuY3Rpb25NbmdfU3ViTWVudSIsTWFrZVN1Yk1lbnUoWkNfTVNHMDUyICYgIiIsIi4uL2NtZC5hc3A/YWN0PUZ1bmN0aW9uRWR0JmFtcDtpZD0iJkZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJuYXZiYXIiKSkuSUQsIm0tbGVmdCIsRmFsc2UpKQ0KQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fRnVuY3Rpb25NbmdfU3ViTWVudSIsTWFrZVN1Yk1lbnUoWkNfTVNHMDMwICYgIiIsIi4uL2NtZC5hc3A/YWN0PUZ1bmN0aW9uRWR0JmFtcDtpZD0iJkZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJmYXZvcml0ZSIpKS5JRCwibS1sZWZ0IixGYWxzZSkpDQpDYWxsIEFkZF9SZXNwb25zZV9QbHVnaW4oIlJlc3BvbnNlX1BsdWdpbl9GdW5jdGlvbk1uZ19TdWJNZW51IixNYWtlU3ViTWVudShaQ19NU0cwMzEgJiAiIiwiLi4vY21kLmFzcD9hY3Q9RnVuY3Rpb25FZHQmYW1wO2lkPSImRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUoImxpbmsiKSkuSUQsIm0tbGVmdCIsRmFsc2UpKQ0KQ2FsbCBBZGRfUmVzcG9uc2VfUGx1Z2luKCJSZXNwb25zZV9QbHVnaW5fRnVuY3Rpb25NbmdfU3ViTWVudSIsTWFrZVN1Yk1lbnUoWkNfTVNHMDM5ICYgIiIsIi4uL2NtZC5hc3A/YWN0PUZ1bmN0aW9uRWR0JmFtcDtpZD0iJkZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKCJtaXNjIikpLklELCJtLWxlZnQiLEZhbHNlKSkNCg0KDQoJRGltIGksaixzLHQNCglEaW0gYSxiLGMsZCxlLGYNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImRpdkhlYWRlciIiPiIgJiBaQ19NU0cwMDcgJiAiPC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiU3ViTWVudSIiPiIgJiBSZXNwb25zZV9QbHVnaW5fRnVuY3Rpb25NbmdfU3ViTWVudSAmICI8L2Rpdj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgaWQ9IiJkaXZNYWluMiIiPiINCgknd2lkZ2V0LWxpc3QgYmVnaW4NCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldC1sZWZ0IiI+Ig0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0LWxpc3QiIj4iDQoNCglSZXNwb25zZS5Xcml0ZSAiPHNjcmlwdCB0eXBlPSIidGV4dC9qYXZhc2NyaXB0IiI+Ig0KCVJlc3BvbnNlLldyaXRlICJ2YXIgZnVuY3Rpb25zID0geyINCgkJRm9yIGk9TEJvdW5kKEZ1bmN0aW9ucykrMSBUbyBVYm91bmQoRnVuY3Rpb25zKQ0KCQkJSWYgSXNPYmplY3QoRnVuY3Rpb25zKGkpKSBUaGVuDQoJCQkJUmVzcG9uc2UuV3JpdGUgIiciJkZ1bmN0aW9ucyhpKS5GaWxlTmFtZSYiJyA6ICciJkZ1bmN0aW9ucyhpKS5Tb3VyY2VUeXBlJiInIg0KCQkJCUlmIGk8PlVib3VuZChGdW5jdGlvbnMpIFRoZW4gUmVzcG9uc2UuV3JpdGUgIiwiDQoJCQlFbmQgSWYNCgkJTmV4dA0KCVJlc3BvbnNlLldyaXRlICJ9OyINCglSZXNwb25zZS5Xcml0ZSAiPC9zY3JpcHQ+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQtbGlzdC1oZWFkZXIiIj4iICYgWkNfTVNHMjc3ICYgIjwvZGl2PiINCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldC1saXN0LW5vdGUiIj4iJlpDX01TRzE0NSYiPC9kaXY+IiAmIHZiQ3JsZg0KCUZvciBpPUxCb3VuZChGdW5jdGlvbnMpKzEgVG8gVWJvdW5kKEZ1bmN0aW9ucykNCgkJSWYgSXNPYmplY3QoRnVuY3Rpb25zKGkpKSBUaGVuDQoJCUlmIEZ1bmN0aW9ucyhpKS5Jc1N5c3RlbSBUaGVuDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldCB3aWRnZXRfaXNoaWRkZW5fIiZMQ2FzZShGdW5jdGlvbnMoaSkuSXNIaWRkZW4pJiIgd2lkZ2V0X3NvdXJjZV8iJiBGdW5jdGlvbnMoaSkuU291cmNlVHlwZSAmIiB3aWRnZXRfaWRfIiAmIEZ1bmN0aW9ucyhpKS5GaWxlTmFtZSAmICIiIj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJ3aWRnZXQtdGl0bGUiIj48aW1nIGNsYXNzPSIibW9yZS1hY3Rpb24iIiB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2sucG5nIiIgYWx0PSIiIiIgLz4iJiBUcmFuc2ZlckhUTUwoRnVuY3Rpb25zKGkpLk5hbWUsIltodG1sLWZvcm1hdF0iKQ0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxzcGFuIGNsYXNzPSIid2lkZ2V0LWFjdGlvbiIiPjxhIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1GdW5jdGlvbkVkdCZhbXA7aWQ9IiZGdW5jdGlvbnMoaSkuSUQmIiIiPjxpbWcgY2xhc3M9IiJlZGl0LWFjdGlvbiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2JyaWNrX2VkaXQucG5nIiIgYWx0PSIiIiAmIFpDX01TRzA3OCAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cwNzggJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiINCg0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L3NwYW4+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L2Rpdj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJmdW5pZCIiIHN0eWxlPSIiZGlzcGxheTpub25lIiI+IiYgRnVuY3Rpb25zKGkpLkZpbGVOYW1lICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldC1saXN0LWhlYWRlciIiPiIgJiBaQ19NU0cyODYgJiAiPC9kaXY+Ig0KCUZvciBpPUxCb3VuZChGdW5jdGlvbnMpKzEgVG8gVWJvdW5kKEZ1bmN0aW9ucykNCgkJSWYgSXNPYmplY3QoRnVuY3Rpb25zKGkpKSBUaGVuDQoJCUlmIEZ1bmN0aW9ucyhpKS5Jc1VzZXJzIFRoZW4NCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0IHdpZGdldF9pc2hpZGRlbl8iJkxDYXNlKEZ1bmN0aW9ucyhpKS5Jc0hpZGRlbikmIiB3aWRnZXRfc291cmNlXyImIEZ1bmN0aW9ucyhpKS5Tb3VyY2VUeXBlICYiIHdpZGdldF9pZF8iICYgRnVuY3Rpb25zKGkpLkZpbGVOYW1lICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIFRyYW5zZmVySFRNTChGdW5jdGlvbnMoaSkuTmFtZSwiW2h0bWwtZm9ybWF0XSIpDQoNCgkJCVJlc3BvbnNlLldyaXRlICIJPHNwYW4gY2xhc3M9IiJ3aWRnZXQtYWN0aW9uIiI+PGEgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PUZ1bmN0aW9uRWR0JmFtcDtpZD0iJkZ1bmN0aW9ucyhpKS5JRCYiIiI+PGltZyBjbGFzcz0iImVkaXQtYWN0aW9uIiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2tfZWRpdC5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA3OCAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+Ig0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiJm5ic3A7PGEgb25jbGljaz0ncmV0dXJuIHdpbmRvdy5jb25maXJtKCIiIiYgWkNfTVNHMDU4ICYiIiIpOycgaHJlZj0iIi4uL2NtZC5hc3A/YWN0PUZ1bmN0aW9uRGVsJmFtcDtpZD0iJiBGdW5jdGlvbnMoaSkuSUQgJiIiIj48aW1nIHNyYz0iIi4uL2ltYWdlL2FkbWluL2RlbGV0ZS5wbmciIiBhbHQ9IiIiICYgWkNfTVNHMDYzICYgIiIiIHRpdGxlPSIiIiAmIFpDX01TRzA2MyAmICIiIiB3aWR0aD0iIjE2IiIgLz48L2E+Ig0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvc3Bhbj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvZGl2PiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iImZ1bmlkIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmUiIj4iJiBGdW5jdGlvbnMoaSkuRmlsZU5hbWUgJiI8L2Rpdj4iCQ0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCgkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0LWxpc3QtaGVhZGVyIiI+IiAmIFpDX01TRzI4NyAmICI8L2Rpdj4iDQoJRm9yIGk9TEJvdW5kKEZ1bmN0aW9ucykrMSBUbyBVYm91bmQoRnVuY3Rpb25zKQ0KCQlJZiBJc09iamVjdChGdW5jdGlvbnMoaSkpIFRoZW4NCgkJSWYgRnVuY3Rpb25zKGkpLklzVGhlbWUgVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQgd2lkZ2V0X2lzaGlkZGVuXyImTENhc2UoRnVuY3Rpb25zKGkpLklzSGlkZGVuKSYiIHdpZGdldF9zb3VyY2VfIiYgRnVuY3Rpb25zKGkpLlNvdXJjZVR5cGUgJiIgd2lkZ2V0X2lkXyIgJiBGdW5jdGlvbnMoaSkuRmlsZU5hbWUgJiAiIiI+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIid2lkZ2V0LXRpdGxlIiI+PGltZyBjbGFzcz0iIm1vcmUtYWN0aW9uIiIgd2lkdGg9IiIxNiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2JyaWNrLnBuZyIiIGFsdD0iIiIiIC8+IiYgVHJhbnNmZXJIVE1MKEZ1bmN0aW9ucyhpKS5OYW1lLCJbaHRtbC1mb3JtYXRdIikNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8c3BhbiBjbGFzcz0iIndpZGdldC1hY3Rpb24iIj48YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9RnVuY3Rpb25FZHQmYW1wO2lkPSImRnVuY3Rpb25zKGkpLklEJiIiIj48aW1nIGNsYXNzPSIiZWRpdC1hY3Rpb24iIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmlja19lZGl0LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNzggJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4iDQoNCgkJCSdJZiBGdW5jdGlvbnMoaSkuQXBwTmFtZTw+WkNfQkxPR19USEVNRSBUaGVuDQoJCQkJUmVzcG9uc2UuV3JpdGUgIiZuYnNwOzxhIG9uY2xpY2s9J3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTsnIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1GdW5jdGlvbkRlbCZhbXA7aWQ9IiYgRnVuY3Rpb25zKGkpLklEICYiIiI+PGltZyBzcmM9IiIuLi9pbWFnZS9hZG1pbi9kZWxldGUucG5nIiIgYWx0PSIiIiAmIFpDX01TRzA2MyAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiINCgkJCSdFbmQgSWYNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L3NwYW4+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L2Rpdj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJmdW5pZCIiIHN0eWxlPSIiZGlzcGxheTpub25lIiI+IiYgRnVuY3Rpb25zKGkpLkZpbGVOYW1lICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoJCUVuZCBJZg0KCQlFbmQgSWYNCglOZXh0DQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQtbGlzdC1oZWFkZXIiIj4iICYgWkNfTVNHMjg4ICYgIjwvZGl2PiINCglGb3IgaT1MQm91bmQoRnVuY3Rpb25zKSsxIFRvIFVib3VuZChGdW5jdGlvbnMpDQoJCUlmIElzT2JqZWN0KEZ1bmN0aW9ucyhpKSkgVGhlbg0KCQlJZiBGdW5jdGlvbnMoaSkuSXNQbHVnaW4gVGhlbg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQgd2lkZ2V0X2lzaGlkZGVuXyImTENhc2UoRnVuY3Rpb25zKGkpLklzSGlkZGVuKSYiIHdpZGdldF9zb3VyY2VfIiYgRnVuY3Rpb25zKGkpLlNvdXJjZVR5cGUgJiIgd2lkZ2V0X2lkXyIgJiBGdW5jdGlvbnMoaSkuRmlsZU5hbWUgJiAiIiI+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIid2lkZ2V0LXRpdGxlIiI+PGltZyBjbGFzcz0iIm1vcmUtYWN0aW9uIiIgd2lkdGg9IiIxNiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2JyaWNrLnBuZyIiIGFsdD0iIiIiIC8+IiYgVHJhbnNmZXJIVE1MKEZ1bmN0aW9ucyhpKS5OYW1lLCJbaHRtbC1mb3JtYXRdIikNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8c3BhbiBjbGFzcz0iIndpZGdldC1hY3Rpb24iIj48YSBocmVmPSIiLi4vY21kLmFzcD9hY3Q9RnVuY3Rpb25FZHQmYW1wO2lkPSImRnVuY3Rpb25zKGkpLklEJiIiIj48aW1nIGNsYXNzPSIiZWRpdC1hY3Rpb24iIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmlja19lZGl0LnBuZyIiIGFsdD0iIiIgJiBaQ19NU0cwNzggJiAiIiIgdGl0bGU9IiIiICYgWkNfTVNHMDc4ICYgIiIiIHdpZHRoPSIiMTYiIiAvPjwvYT4iDQoJCQkNCgkJCUlmIE5vdCBDaGVja1BsdWdpblN0YXRlKEZ1bmN0aW9ucyhpKS5BcHBOYW1lKSBUaGVuDQoJCQkJUmVzcG9uc2UuV3JpdGUgIiZuYnNwOzxhIG9uY2xpY2s9J3JldHVybiB3aW5kb3cuY29uZmlybSgiIiImIFpDX01TRzA1OCAmIiIiKTsnIGhyZWY9IiIuLi9jbWQuYXNwP2FjdD1GdW5jdGlvbkRlbCZhbXA7aWQ9IiYgRnVuY3Rpb25zKGkpLklEICYiIiI+PGltZyBzcmM9IiIuLi9pbWFnZS9hZG1pbi9kZWxldGUucG5nIiIgYWx0PSIiIiAmIFpDX01TRzA2MyAmICIiIiB0aXRsZT0iIiIgJiBaQ19NU0cwNjMgJiAiIiIgd2lkdGg9IiIxNiIiIC8+PC9hPiINCgkJCUVuZCBJZg0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvc3Bhbj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvZGl2PiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iImZ1bmlkIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmUiIj4iJiBGdW5jdGlvbnMoaSkuRmlsZU5hbWUgJiI8L2Rpdj4iCQ0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCgkJRW5kIElmDQoJCUVuZCBJZg0KCU5leHQNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldC1saXN0LWhlYWRlciIiPiIgJiBaQ19NU0cyODkgJiAiPC9kaXY+Ig0KCUZvciBpPUxCb3VuZChGdW5jdGlvbnMpKzEgVG8gVWJvdW5kKEZ1bmN0aW9ucykNCgkJSWYgSXNPYmplY3QoRnVuY3Rpb25zKGkpKSBUaGVuDQoJCUlmIEZ1bmN0aW9ucyhpKS5Jc090aGVyIFRoZW4NCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0IHdpZGdldF9pc2hpZGRlbl8iJkxDYXNlKEZ1bmN0aW9ucyhpKS5Jc0hpZGRlbikmIiB3aWRnZXRfc291cmNlXyImIEZ1bmN0aW9ucyhpKS5Tb3VyY2VUeXBlICYiIHdpZGdldF9pZF8iICYgRnVuY3Rpb25zKGkpLkZpbGVOYW1lICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIFRyYW5zZmVySFRNTChGdW5jdGlvbnMoaSkuTmFtZSwiW2h0bWwtZm9ybWF0XSIpDQoNCgkJCVJlc3BvbnNlLldyaXRlICIJPC9kaXY+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIiZnVuaWQiIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiPiImIEZ1bmN0aW9ucyhpKS5GaWxlTmFtZSAmIjwvZGl2PiIJDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KCQlFbmQgSWYNCgkJRW5kIElmDQoJTmV4dA0KDQoJUmVzcG9uc2UuV3JpdGUgIjxoci8+PGZvcm0gaWQ9IiJmcm1CYXRjaCIiIG1ldGhvZD0iInBvc3QiIiBhY3Rpb249IiIuLi9jbWQuYXNwP2FjdD1GdW5jdGlvbk1uZyIiIHN0eWxlPSIicG9zaXRpb246IGFic29sdXRlOyIiPiINCglSZXNwb25zZS5Xcml0ZSAiPGlucHV0IHR5cGU9IiJoaWRkZW4iIiBpZD0iImVkdFNpZGViYXIiIiBuYW1lPSIiZWR0U2lkZWJhciIiIHZhbHVlPSIiIiZaQ19TSURFQkFSX09SREVSJiIiIi8+Ig0KCVJlc3BvbnNlLldyaXRlICI8aW5wdXQgdHlwZT0iImhpZGRlbiIiIGlkPSIiZWR0U2lkZWJhcjIiIiBuYW1lPSIiZWR0U2lkZWJhcjIiIiB2YWx1ZT0iIiImWkNfU0lERUJBUl9PUkRFUjImIiIiLz4iDQoJUmVzcG9uc2UuV3JpdGUgIjxpbnB1dCB0eXBlPSIiaGlkZGVuIiIgaWQ9IiJlZHRTaWRlYmFyMyIiIG5hbWU9IiJlZHRTaWRlYmFyMyIiIHZhbHVlPSIiIiZaQ19TSURFQkFSX09SREVSMyYiIiIvPiINCglSZXNwb25zZS5Xcml0ZSAiPGlucHV0IHR5cGU9IiJoaWRkZW4iIiBpZD0iImVkdFNpZGViYXI0IiIgbmFtZT0iImVkdFNpZGViYXI0IiIgdmFsdWU9IiIiJlpDX1NJREVCQVJfT1JERVI0JiIiIi8+Ig0KCVJlc3BvbnNlLldyaXRlICI8aW5wdXQgdHlwZT0iImhpZGRlbiIiIGlkPSIiZWR0U2lkZWJhcjUiIiBuYW1lPSIiZWR0U2lkZWJhcjUiIiB2YWx1ZT0iIiImWkNfU0lERUJBUl9PUkRFUjUmIiIiLz4iDQoNCglSZXNwb25zZS5Xcml0ZSAiPC9mb3JtPiIgJiB2YkNybGYNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImNsZWFyIiI+PC9kaXY+PC9kaXY+Ig0KCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoJJ3dpZGdldC1saXN0IGVuZA0KDQoJJ3NpZGVyYmFyLWxpc3QgYmVnaW4NCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInNpZGVyYmFyLWxpc3QiIj4iDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJzaWRlcmJhci1kcm9wIiIgaWQ9IiJzaWRlcmJhciIiPjxkaXYgY2xhc3M9IiJzaWRlcmJhci1oZWFkZXIiIj4iJlpDX01TRzI5MCYiJm5ic3A7PGltZyBjbGFzcz0iInJvbGwiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9sb2FkaW5nLmdpZiIiIHdpZHRoPSIiMTYiIiBhbHQ9IiIiIiAvPjxzcGFuIGNsYXNzPSIidWktaWNvbiB1aS1pY29uLXRyaWFuZ2xlLTEtcyIiPjwvc3Bhbj48L2Rpdj48ZGl2ICBjbGFzcz0iInNpZGVyYmFyLXNvcnQtbGlzdCIiID4iDQoJdD1TcGxpdChaQ19TSURFQkFSX09SREVSLCI6IikJDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJzaWRlcmJhci1ub3RlIiIgPiImUmVwbGFjZShaQ19NU0cyOTUsIiVuIixVQm91bmQodCkrMSkmIjwvZGl2PiINCglGb3IgRWFjaCBzIEluIHQNCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMocyk9VHJ1ZSBUaGVuDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0IHdpZGdldF9pc2hpZGRlbl8iJkxDYXNlKEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5Jc0hpZGRlbikmIiB3aWRnZXRfc291cmNlXyImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5Tb3VyY2VUeXBlICYiIHdpZGdldF9pZF8iICYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLkZpbGVOYW1lICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5OYW1lIA0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L2Rpdj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJmdW5pZCIiIHN0eWxlPSIiZGlzcGxheTpub25lIiI+IiYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLkZpbGVOYW1lICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCgkJRWxzZQ0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldCB3aWRnZXRfc291cmNlX290aGVyICIgJiBzICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIHMNCgkJCVJlc3BvbnNlLldyaXRlICIJPC9kaXY+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIiZnVuaWQiIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiPiImIHMgJiI8L2Rpdj4iCQ0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KDQoJCUVuZCBJZg0KCU5leHQNCglSZXNwb25zZS5Xcml0ZSAiPC9kaXY+PC9kaXY+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJzaWRlcmJhci1kcm9wIiIgaWQ9IiJzaWRlcmJhcjIiIj48ZGl2IGNsYXNzPSIic2lkZXJiYXItaGVhZGVyIiI+IiZaQ19NU0cyOTEmIiZuYnNwOzxpbWcgY2xhc3M9IiJyb2xsIiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vbG9hZGluZy5naWYiIiB3aWR0aD0iIjE2IiIgYWx0PSIiIiIgLz48c3BhbiBjbGFzcz0iInVpLWljb24gdWktaWNvbi10cmlhbmdsZS0xLXMiIj48L3NwYW4+PC9kaXY+PGRpdiAgY2xhc3M9IiJzaWRlcmJhci1zb3J0LWxpc3QiIiA+Ig0KCXQ9U3BsaXQoWkNfU0lERUJBUl9PUkRFUjIsIjoiKQ0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIic2lkZXJiYXItbm90ZSIiID4iJlJlcGxhY2UoWkNfTVNHMjk1LCIlbiIsVUJvdW5kKHQpKzEpJiI8L2Rpdj4iDQoJRm9yIEVhY2ggcyBJbiB0DQoJCUlmIEZ1bmN0aW9uTWV0YXMuRXhpc3RzKHMpPVRydWUgVGhlbg0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldCB3aWRnZXRfaXNoaWRkZW5fIiZMQ2FzZShGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuSXNIaWRkZW4pJiIgd2lkZ2V0X3NvdXJjZV8iJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuU291cmNlVHlwZSAmIiB3aWRnZXRfaWRfIiAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5GaWxlTmFtZSAmICIiIj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJ3aWRnZXQtdGl0bGUiIj48aW1nIGNsYXNzPSIibW9yZS1hY3Rpb24iIiB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2sucG5nIiIgYWx0PSIiIiIgLz4iJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuTmFtZSANCgkJCVJlc3BvbnNlLldyaXRlICIJPC9kaXY+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIiZnVuaWQiIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiPiImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5GaWxlTmFtZSAmIjwvZGl2PiIJDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KDQoJCUVsc2UNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQgd2lkZ2V0X3NvdXJjZV9vdGhlciAiICYgcyAmICIiIj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJ3aWRnZXQtdGl0bGUiIj48aW1nIGNsYXNzPSIibW9yZS1hY3Rpb24iIiB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2sucG5nIiIgYWx0PSIiIiIgLz4iJiBzDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvZGl2PiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iImZ1bmlkIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmUiIj4iJiBzICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCg0KCQlFbmQgSWYNCglOZXh0DQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIic2lkZXJiYXItZHJvcCIiIGlkPSIic2lkZXJiYXIzIiI+PGRpdiBjbGFzcz0iInNpZGVyYmFyLWhlYWRlciIiPiImWkNfTVNHMjkyJiImbmJzcDs8aW1nIGNsYXNzPSIicm9sbCIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2xvYWRpbmcuZ2lmIiIgd2lkdGg9IiIxNiIiIGFsdD0iIiIiIC8+PHNwYW4gY2xhc3M9IiJ1aS1pY29uIHVpLWljb24tdHJpYW5nbGUtMS1zIiI+PC9zcGFuPjwvZGl2PjxkaXYgIGNsYXNzPSIic2lkZXJiYXItc29ydC1saXN0IiIgPiINCgl0PVNwbGl0KFpDX1NJREVCQVJfT1JERVIzLCI6IikNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInNpZGVyYmFyLW5vdGUiIiA+IiZSZXBsYWNlKFpDX01TRzI5NSwiJW4iLFVCb3VuZCh0KSsxKSYiPC9kaXY+Ig0KCUZvciBFYWNoIHMgSW4gdA0KCQlJZiBGdW5jdGlvbk1ldGFzLkV4aXN0cyhzKT1UcnVlIFRoZW4NCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQgd2lkZ2V0X2lzaGlkZGVuXyImTENhc2UoRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLklzSGlkZGVuKSYiIHdpZGdldF9zb3VyY2VfIiYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLlNvdXJjZVR5cGUgJiIgd2lkZ2V0X2lkXyIgJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuRmlsZU5hbWUgJiAiIiI+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIid2lkZ2V0LXRpdGxlIiI+PGltZyBjbGFzcz0iIm1vcmUtYWN0aW9uIiIgd2lkdGg9IiIxNiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2JyaWNrLnBuZyIiIGFsdD0iIiIiIC8+IiYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLk5hbWUgDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvZGl2PiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iImZ1bmlkIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmUiIj4iJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuRmlsZU5hbWUgJiI8L2Rpdj4iCQ0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCQlFbHNlDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0IHdpZGdldF9zb3VyY2Vfb3RoZXIgIiAmIHMgJiAiIiI+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIid2lkZ2V0LXRpdGxlIiI+PGltZyBjbGFzcz0iIm1vcmUtYWN0aW9uIiIgd2lkdGg9IiIxNiIiIHNyYz0iIi4uL2ltYWdlL2FkbWluL2JyaWNrLnBuZyIiIGFsdD0iIiIiIC8+IiYgcw0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L2Rpdj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJmdW5pZCIiIHN0eWxlPSIiZGlzcGxheTpub25lIiI+IiYgcyAmIjwvZGl2PiIJDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KDQoNCgkJRW5kIElmDQoJTmV4dA0KCVJlc3BvbnNlLldyaXRlICI8L2Rpdj48L2Rpdj4iDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iInNpZGVyYmFyLWRyb3AiIiBpZD0iInNpZGVyYmFyNCIiPjxkaXYgY2xhc3M9IiJzaWRlcmJhci1oZWFkZXIiIj4iJlpDX01TRzI5MyYiJm5ic3A7PGltZyBjbGFzcz0iInJvbGwiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9sb2FkaW5nLmdpZiIiIHdpZHRoPSIiMTYiIiBhbHQ9IiIiIiAvPjxzcGFuIGNsYXNzPSIidWktaWNvbiB1aS1pY29uLXRyaWFuZ2xlLTEtcyIiPjwvc3Bhbj48L2Rpdj48ZGl2ICBjbGFzcz0iInNpZGVyYmFyLXNvcnQtbGlzdCIiID4iDQoJdD1TcGxpdChaQ19TSURFQkFSX09SREVSNCwiOiIpDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJzaWRlcmJhci1ub3RlIiIgPiImUmVwbGFjZShaQ19NU0cyOTUsIiVuIixVQm91bmQodCkrMSkmIjwvZGl2PiINCglGb3IgRWFjaCBzIEluIHQNCgkJSWYgRnVuY3Rpb25NZXRhcy5FeGlzdHMocyk9VHJ1ZSBUaGVuDQoNCgkJCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIid2lkZ2V0IHdpZGdldF9pc2hpZGRlbl8iJkxDYXNlKEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5Jc0hpZGRlbikmIiB3aWRnZXRfc291cmNlXyImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5Tb3VyY2VUeXBlICYiIHdpZGdldF9pZF8iICYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLkZpbGVOYW1lICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5OYW1lIA0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8L2Rpdj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJmdW5pZCIiIHN0eWxlPSIiZGlzcGxheTpub25lIiI+IiYgRnVuY3Rpb25zKEZ1bmN0aW9uTWV0YXMuR2V0VmFsdWUocykpLkZpbGVOYW1lICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCgkJRWxzZQ0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldCB3aWRnZXRfc291cmNlX290aGVyICIgJiBzICYgIiIiPiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iIndpZGdldC10aXRsZSIiPjxpbWcgY2xhc3M9IiJtb3JlLWFjdGlvbiIiIHdpZHRoPSIiMTYiIiBzcmM9IiIuLi9pbWFnZS9hZG1pbi9icmljay5wbmciIiBhbHQ9IiIiIiAvPiImIHMNCgkJCVJlc3BvbnNlLldyaXRlICIJPC9kaXY+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIiZnVuaWQiIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiPiImIHMgJiI8L2Rpdj4iCQ0KCQkJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KDQoJCUVuZCBJZg0KCU5leHQNCglSZXNwb25zZS5Xcml0ZSAiPC9kaXY+PC9kaXY+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJzaWRlcmJhci1kcm9wIiIgaWQ9IiJzaWRlcmJhcjUiIj48ZGl2IGNsYXNzPSIic2lkZXJiYXItaGVhZGVyIiI+IiZaQ19NU0cyOTQmIiZuYnNwOzxpbWcgY2xhc3M9IiJyb2xsIiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vbG9hZGluZy5naWYiIiB3aWR0aD0iIjE2IiIgYWx0PSIiIiIgLz48c3BhbiBjbGFzcz0iInVpLWljb24gdWktaWNvbi10cmlhbmdsZS0xLXMiIj48L3NwYW4+PC9kaXY+PGRpdiAgY2xhc3M9IiJzaWRlcmJhci1zb3J0LWxpc3QiIiA+Ig0KCXQ9U3BsaXQoWkNfU0lERUJBUl9PUkRFUjUsIjoiKQ0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIic2lkZXJiYXItbm90ZSIiID4iJlJlcGxhY2UoWkNfTVNHMjk1LCIlbiIsVUJvdW5kKHQpKzEpJiI8L2Rpdj4iDQoJRm9yIEVhY2ggcyBJbiB0DQoJCUlmIEZ1bmN0aW9uTWV0YXMuRXhpc3RzKHMpPVRydWUgVGhlbg0KDQoJCQlSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iIndpZGdldCB3aWRnZXRfaXNoaWRkZW5fIiZMQ2FzZShGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuSXNIaWRkZW4pJiIgd2lkZ2V0X3NvdXJjZV8iJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuU291cmNlVHlwZSAmIiB3aWRnZXRfaWRfIiAmIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5GaWxlTmFtZSAmICIiIj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJ3aWRnZXQtdGl0bGUiIj48aW1nIGNsYXNzPSIibW9yZS1hY3Rpb24iIiB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2sucG5nIiIgYWx0PSIiIiIgLz4iJiBGdW5jdGlvbnMoRnVuY3Rpb25NZXRhcy5HZXRWYWx1ZShzKSkuTmFtZSANCgkJCVJlc3BvbnNlLldyaXRlICIJPC9kaXY+Ig0KCQkJUmVzcG9uc2UuV3JpdGUgIgk8ZGl2IGNsYXNzPSIiZnVuaWQiIiBzdHlsZT0iImRpc3BsYXk6bm9uZSIiPiImIEZ1bmN0aW9ucyhGdW5jdGlvbk1ldGFzLkdldFZhbHVlKHMpKS5GaWxlTmFtZSAmIjwvZGl2PiIJDQoJCQlSZXNwb25zZS5Xcml0ZSAiPC9kaXY+Ig0KDQoJCUVsc2UNCg0KCQkJUmVzcG9uc2UuV3JpdGUgIjxkaXYgY2xhc3M9IiJ3aWRnZXQgd2lkZ2V0X3NvdXJjZV9vdGhlciAiICYgcyAmICIiIj4iDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTxkaXYgY2xhc3M9IiJ3aWRnZXQtdGl0bGUiIj48aW1nIGNsYXNzPSIibW9yZS1hY3Rpb24iIiB3aWR0aD0iIjE2IiIgc3JjPSIiLi4vaW1hZ2UvYWRtaW4vYnJpY2sucG5nIiIgYWx0PSIiIiIgLz4iJiBzDQoJCQlSZXNwb25zZS5Xcml0ZSAiCTwvZGl2PiINCgkJCVJlc3BvbnNlLldyaXRlICIJPGRpdiBjbGFzcz0iImZ1bmlkIiIgc3R5bGU9IiJkaXNwbGF5Om5vbmUiIj4iJiBzICYiPC9kaXY+IgkNCgkJCVJlc3BvbnNlLldyaXRlICI8L2Rpdj4iDQoNCg0KCQlFbmQgSWYNCglOZXh0DQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8ZGl2IGNsYXNzPSIiY2xlYXIiIj48L2Rpdj48L2Rpdj4iDQoJJ3NpZGVyYmFyLWxpc3QgZW5kDQoNCglSZXNwb25zZS5Xcml0ZSAiPGRpdiBjbGFzcz0iImNsZWFyIiI+PC9kaXY+Ig0KDQoJUmVzcG9uc2UuV3JpdGUgIjwvZGl2PiINCg0KCVJlc3BvbnNlLldyaXRlICI8c2NyaXB0IHR5cGU9IiJ0ZXh0L2phdmFzY3JpcHQiIj5BY3RpdmVMZWZ0TWVudSgiImFGdW5jdGlvbk1uZyIiKTs8L3NjcmlwdD4iDQoNCiU+DQo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJJChmdW5jdGlvbigpIHsNCg0KCQlmdW5jdGlvbiBzb3J0RnVuY3Rpb24oKXsNCgkJCXZhciBzMT0iIjsNCgkJCSQoIiNzaWRlcmJhciIpLmZpbmQoImRpdi5mdW5pZCIpLmVhY2goZnVuY3Rpb24oaSl7DQoJCQkgICBzMSArPSAkKHRoaXMpLmh0bWwoKSArIjoiOw0KCQkJIH0pOw0KDQoJCQkgdmFyIHMyPSIiOw0KCQkJJCgiI3NpZGVyYmFyMiIpLmZpbmQoImRpdi5mdW5pZCIpLmVhY2goZnVuY3Rpb24oaSl7DQoJCQkgICBzMiArPSAkKHRoaXMpLmh0bWwoKSArIjoiOw0KCQkJIH0pOw0KDQoJCQkgdmFyIHMzPSIiOw0KCQkJJCgiI3NpZGVyYmFyMyIpLmZpbmQoImRpdi5mdW5pZCIpLmVhY2goZnVuY3Rpb24oaSl7DQoJCQkgICBzMyArPSAkKHRoaXMpLmh0bWwoKSArIjoiOw0KCQkJIH0pOw0KDQoJCQkgdmFyIHM0PSIiOw0KCQkJJCgiI3NpZGVyYmFyNCIpLmZpbmQoImRpdi5mdW5pZCIpLmVhY2goZnVuY3Rpb24oaSl7DQoJCQkgICBzNCArPSAkKHRoaXMpLmh0bWwoKSArIjoiOw0KCQkJIH0pOw0KDQoJCQkgdmFyIHM1PSIiOw0KCQkJJCgiI3NpZGVyYmFyNSIpLmZpbmQoImRpdi5mdW5pZCIpLmVhY2goZnVuY3Rpb24oaSl7DQoJCQkgICBzNSArPSAkKHRoaXMpLmh0bWwoKSArIjoiOw0KCQkJIH0pOw0KDQoJCQkkKCIjZWR0U2lkZWJhciIgKS52YWwoczEpOw0KCQkJJCgiI2VkdFNpZGViYXIyIikudmFsKHMyKTsNCgkJCSQoIiNlZHRTaWRlYmFyMyIpLnZhbChzMyk7DQoJCQkkKCIjZWR0U2lkZWJhcjQiKS52YWwoczQpOw0KCQkJJCgiI2VkdFNpZGViYXI1IikudmFsKHM1KTsNCg0KDQoJCQkkLnBvc3QoJCgiI2ZybUJhdGNoIikuYXR0cigiYWN0aW9uIiksDQoJCQkJew0KCQkJCSJlZHRTaWRlYmFyIjogczEsDQoJCQkJImVkdFNpZGViYXIyIjogczIsDQoJCQkJImVkdFNpZGViYXIzIjogczMsDQoJCQkJImVkdFNpZGViYXI0IjogczQsDQoJCQkJImVkdFNpZGViYXI1IjogczUNCgkJCQl9LA0KCQkJICAgZnVuY3Rpb24oZGF0YSl7DQoJCQkJIC8vYWxlcnQoIkRhdGEgTG9hZGVkOiAiICsgZGF0YSk7DQoJCQkgICB9KTsNCg0KCQl9Ow0KDQoJCXZhciB0Ow0KCQlmdW5jdGlvbiBoaWRlV2lkZ2V0KGl0ZW0pew0KCQkJCWl0ZW0uZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi10cmlhbmdsZS0xLXMiKS5hZGRDbGFzcygidWktaWNvbi10cmlhbmdsZS0xLXciKTsNCgkJCQl0PWl0ZW0ubmV4dCgpOw0KCQkJCXQuZmluZCgiLndpZGdldCIpLmhpZGUoImZhc3QiKS5lbmQoKS5zaG93KCk7DQoJCQkJdC5maW5kKCIuc2lkZXJiYXItbm90ZT5zcGFuIikudGV4dCh0LmZpbmQoIi53aWRnZXQiKS5sZW5ndGgpOw0KCQl9DQoJCWZ1bmN0aW9uIHNob3dXaWRnZXQoaXRlbSl7DQoJCQkJaXRlbS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLXRyaWFuZ2xlLTEtdyIpLmFkZENsYXNzKCJ1aS1pY29uLXRyaWFuZ2xlLTEtcyIpOw0KCQkJCXQ9aXRlbS5uZXh0KCk7DQoJCQkJdC5maW5kKCIud2lkZ2V0Iikuc2hvdygiZmFzdCIpOw0KCQkJCXQuZmluZCgiLnNpZGVyYmFyLW5vdGU+c3BhbiIpLnRleHQodC5maW5kKCIud2lkZ2V0IikubGVuZ3RoKTsNCgkJfQ0KDQoJCSQoIi5zaWRlcmJhci1oZWFkZXIiKS50b2dnbGUoIGZ1bmN0aW9uICgpIHsNCgkJCQloaWRlV2lkZ2V0KCQodGhpcykpOw0KCQkJICB9LA0KCQkJICBmdW5jdGlvbiAoKSB7DQoJCQkJc2hvd1dpZGdldCgkKHRoaXMpKTsNCgkJCSAgfSk7DQoNCiAJCSQoICIuc2lkZXJiYXItc29ydC1saXN0IiApLnNvcnRhYmxlKHsNCiAJCQlpdGVtczonLndpZGdldCcsDQoJCQlzdGFydDpmdW5jdGlvbihldmVudCwgdWkpew0KCQkJCXNob3dXaWRnZXQodWkuaXRlbS5wYXJlbnQoKS5wcmV2KCkpOw0KCQkJCSB2YXIgYz11aS5pdGVtLmZpbmQoIi5mdW5pZCIpLmh0bWwoKTsNCgkJCQkgaWYodWkuaXRlbS5wYXJlbnQoKS5maW5kKCIud2lkZ2V0OmNvbnRhaW5zKCIrYysiKSIpLmxlbmd0aD4xKXsNCgkJCQkJdWkuaXRlbS5yZW1vdmUoKTsNCgkJCQkgfTsNCgkJCX0gLAkJCQ0KCQkJc3RvcDpmdW5jdGlvbihldmVudCwgdWkpeyQodGhpcykucGFyZW50KCkuZmluZCgiLnJvbGwiKS5zaG93KCJzbG93Iik7c29ydEZ1bmN0aW9uKCk7JCh0aGlzKS5wYXJlbnQoKS5maW5kKCIucm9sbCIpLmhpZGUoInNsb3ciKTsNCgkJCQlzaG93V2lkZ2V0KCQodGhpcykucGFyZW50KCkucHJldigpKTsNCgkJCX0NCiAJCX0pLmRpc2FibGVTZWxlY3Rpb24oKTsgDQoNCgkJJCggIi53aWRnZXQtbGlzdD4ud2lkZ2V0IiApLmRyYWdnYWJsZSh7DQogICAgICAgICAgICBjb25uZWN0VG9Tb3J0YWJsZTogIi5zaWRlcmJhci1zb3J0LWxpc3QiLA0KICAgICAgICAgICAgcmV2ZXJ0OiAiaW52YWxpZCIsIA0KICAgICAgICAgICAgY29udGFpbm1lbnQ6ICJkb2N1bWVudCIsDQogICAgICAgICAgICBoZWxwZXI6ICJjbG9uZSIsDQogICAgICAgICAgICBjdXJzb3I6ICJtb3ZlIg0KICAgICAgICB9KS5kaXNhYmxlU2VsZWN0aW9uKCk7DQoNCgkJJCggIi53aWRnZXQtbGlzdCIgKS5kcm9wcGFibGUoew0KCQkJYWNjZXB0OiIuc2lkZXJiYXItc29ydC1saXN0Pi53aWRnZXQiLA0KICAgICAgICAgICAgZHJvcDogZnVuY3Rpb24oIGV2ZW50LCB1aSApIHsNCiAgICAgICAgICAgIAl1aS5kcmFnZ2FibGUucmVtb3ZlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQp9KTsNCg0KPC9zY3JpcHQ+DQo8JQ0KDQoJRXhwb3J0RnVuY3Rpb25MaXN0PVRydWUNCg0KRW5kIEZ1bmN0aW9uDQonKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqDQoNCiU+</file>
	<file name='zb_system\IMAGE\ADMIN\delete.png' crc32='550ABE3'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAJdSURBVDjLpZP7S1NhGMf9W7YfogSJboSEUVCY8zJ31trcps6zTI9bLGJpjp1hmkGNxVz4Q6ildtXKXzJNbJRaRmrXoeWx8tJOTWptnrNryre5YCYuI3rh+8vL+/m8PA/PkwIg5X+y5mJWrxfOUBXm91QZM6UluUmthntHqplxUml2lciF6wrmdHriI0Wx3xw2hAediLwZRWRkCPzdDswaSvGqkGCfq8VEUsEyPF1O8Qu3O7A09RbRvjuIttsRbT6HHzebsDjcB4/JgFFlNv9MnkmsEszodIIY7Oaut2OJcSF68Qx8dgv8tmqEL1gQaaARtp5A+N4NzB0lMXxon/uxbI8gIYjB9HytGYuusfiPIQcN71kjgnW6VeFOkgh3XcHLvAwMSDPohOADdYQJdF1FtLMZPmslvhZJk2ahkgRvq4HHUoWHRDqTEDDl2mDkfheiDgt8pw340/EocuClCuFvboQzb0cwIZgki4KhzlaE6w0InipbVzBfqoK/qRH94i0rgokSFeO11iBkp8EdV8cfJo0yD75aE2ZNRvSJ0lZKcBXLaUYmQrCzDT6tDN5SyRqYlWeDLZAg0H4JQ+Jt6M3atNLE10VSwQsN4Z6r0CBwqzXesHmV+BeoyAUri8EyMfi2FowXS5dhd7doo2DVII0V5BAjigP89GEVAtda8b2ehodU4rNaAW+dGfzlFkyo89GTlcrHYCLpKD+V7yeeHNzLjkp24Uu1Ed6G8/F8qjqGRzlbl2H2dzjpMg1KdwsHxOlmJ7GTeZC/nesXbeZ6c9OYnuxUc3fmBuFft/Ff8xMd0s65SXIb/gAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\accessories_32.png' crc32='79CF6366'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAItJREFUeNpiYBgFIx0w4pJgYWc3AFLzgdiAQjsuAHHin58/L2CTZMZheQOQWg7EElTwJMiMDCYWFsZ/f/8ewBsCVPQ10aHBTCNfkxUaIzwXAKPgPz0tBqYDsN1MAx0CLKS6mGiDiQzRoRMCxPqM1JBiGs0FoyXRaBoYLQlHS8LRXDBaEo2CgQYAAQYAWaw3VbZ2wvAAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\article_1.png' crc32='5A3CD889'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFxJREFUeNpiYKAh+I+G3wOxAakGoPNJNgTdgPn4DCHkZHQ5ipz8H58B/4lw8n9iXcCAwxCiXYDL30S5AJ88nM1CpEGMuExlIUUxNgvIcQEjpS7A64X/DPQGAAEGAA4wMYjNL6EaAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\article_2.png' crc32='46B7035F'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACKSURBVHjapJPRDcMwCESPyAt0k2zcFbpBRnI2eP1pK0ICVuqTkGVAuuOMDdAMlqJGiC5pPXdBFlzcO7D6fKXALnIvSdtBSWDwiGyxJkC3JcfeJTEvl1yYSMLyTMYRIHN7wMc4f3rskh6hV61w34rRfmgDD6on1UhBtaFTCmxWQTnC7a/Z/mX+4j0AQjvttrmAAE0AAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\article_32.png' crc32='34843753'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJtJREFUeNrslksKwCAMRE3x/lfwqCkIBRdN8zMNrQ64ED95TEawlC29UDBaNkAoxFVAAtiyAcLb8QTQsiBGh0wQ3oC5g+lNOXcuLeUhABoIMwA11wZsOoA25dNbUJQQYQBSiOkt0D7RWwAgNo5r1JwTMPd2VcNFIHBQrCP7d1OFmbBY/h8HwFkDl88ALJ+B774CfAMg3YGtU4ABAD6noEiP1vdIAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\category_32.png' crc32='AE8FC055'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAG1JREFUeNpiYBgFo2AU4ACs7BwNQPyfAG6g1B5GHJYLAKn3xBjw++cPRkocwITN58RaDlX/nwTcgDcESPE5uYDSEBt+gBFbnNIzCpgGOgRGHTDqgFEHjDpg1AGD0gGNNLSvkWEUjIJRgAYAAgwAgVAkyrt5ox0AAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\comments_32.png' crc32='6F7E157A'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC9UlEQVR42tWWa4hNYRSG1zlHLuOW5K7knkJIcknK7QcpJZeEkAj5gSThj0RyiePXSLmWEUkoEZJLlB9CRERuZYpxaYZhxhzv21qb3Zm99zl7zxdZ9dTpnO/s9e71re9dX0r+caT+NwEtwUAwHPQEnUFjUAlegrvgOngL6lwK6A6WgumgK2gUsi4HqsFVkAUXCwkpJKApWAVWgza+9d/BJ3vTKqtCW9DF/sN1teAsWGHrYgvgw46CMbau2h54CtwE70CNbz1FtLbtmQWmiG7ZczAVPIgjoAM4DwZZ4kNgK3hVcLP+RF+wzYRQxFjwuhgB3N/TYLIlXAiuiO5v3OCzNoL19swZktcTQQIWgX3gBZgEniRI7I8MOCi6LRNEGzRUQAm4DzqB8eBWA5N70c2ey/5ZECVgouje7xHtfpdxCfQA/cHXMAGbwRowBDx0LCBrb99b9AQFCigDo0Ef0fPtMraD5aJGVhEm4CQYJdoDruMcGCrqqt/CBJSC+aAd+OIwOd+aRnRb9GT9PtL5AmaLuh+d64yj5MyxFywDi8H+/B/90RHcA0/BOFHPb2jMs6R0QW7BxygBjE1gg2jX8kTUSLKgCy4BO+zzHHA8qDz50UrUMOjdZVa2ypjJ2WhbRMd3GuwWnaj17DxsGDUD10SHESnGE5qAYVbymaKT8Keoqa0VHc/1ImocHwBzQT/RnmBkrCI8JVVWWt6KeoHBoL2t4ZuWg3XgsERcSlIR39OSR4iaUrkl85wyHSH8PTgCdoE3hcoWJoDlewY+gAGiF42dVl66GBuzxKiwRBw2l8EFE1FUhAmYBk6Idu0dsFLUTG6I7u9n0T7x7JqCaiVBBAlgM/ECMlK0iTJWCVYgK45nRNiFpNTe6JHodeyYaB84jyABvPfzTsiR+ViSG1FiAS1EjYSdzuPDocSmcj2eQwUweM6bmwBvDW8x9PFEzRZXAM88jyKH0Q/Rjs+YIFYi5/tvzoczAQzPbOp8a9O+RH4BfiHOBPyV+AWC2qUhIp2nygAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\home_32.png' crc32='98F8FA4'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIdJREFUeNrsljEOwCAMA2nV/3/BT6ULI6VOMMkSSywgcRdAQGuVyl4wWhq8j4ZMeLjEDB4mgQkQURIr0HEJBnBMwjKxXOJvQnz0SSQYODPmkrDA5RIeuFQCTrhnq0yPDAO3HFbZ9Xv8WvbAaYmLEOibBSwZd/aP5hFW5lqp9BUogRKoVF4BBgCdS6FaWR5m5wAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\link_32.png' crc32='999B7CA1'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAFRJREFUeNpiYBjpgJEEtf+pYAYGYBroEBh1wKgDyAH/8eSI0SgYeg5goVKaILuEHNIh8H/EJ0JGSmvCYZMLRtsDo2lgtCQcLQlHc8HQLglHAUCAAQDv/wdE/7lqWQAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\new_1.png' crc32='DC47767F'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAEUSURBVHjaxNO9K8VhFAfwzw/dInkZFJNBWSmTsutmY/U/MDFIycBEkf/CYiKLTUrdzJJBNpJblLj0WI7r+t2X5Q5OPS/nPM/5dp7v9zxZSkk71qFN64Isy+7QXxMvYxo9uG2WnFKKiVekmvGMcVxhqiangAPs5wHKOYBHjKKCB0wGwELNnb2UUksOKriPdRBr4W/FeWeVgwZWQDdm4nkruIkKBjCH01Yq9OEEw1jCNcYC6B3H+Pplsp6DCuaxjEVsRny3mQp5gHMUcYadiG23kjEPsBoJP/4GJtCbB+howv4FRoLxIko4CmIblPG3kUrRlbNYx2XEP3LdKqVUlfEJn7F/w2GUPBSJL9GddT8v+/ff+D0AbhB6BgdApJgAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\new_2.png' crc32='8332E39D'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAARxJREFUeNrE0zFrwkAUwPHESkEpaoeCLjoIDl0sdfITFOcOfgzBQQcRnOokovgtutjF0sVNhIJ0LqVD6aYWgwpFbUn/By8Qj5oWHDz45cjL3eXy3sW0bdvYp/mMPZtf+jeEXXELWQTx6rmC+gQs7e02QwpPyMgY5RgdtJ2Y88DSFpgggQ3GuJBx164xLRXzysEG79KfoiL3N/L8SF1MqYKl5WCOS3xiiRJecI4I7vCA7107COEeURTwjKQstEJPTfbawRfyiGOKFKpoovhbFfQkDpBDHw2J1V3VMP6qQlkmOK2GNE70BXw7sj9ETDKewwhdBP5zkEYI4wpVPEp8LfGtHThH+UMSZ0jpbpHGGdZYYKbep2/APPjf+CPAAGxOSTWo3OwnAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\new_32.png' crc32='5EE1A0CC'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPhJREFUeNrsltENAiEMhtE4wI3gBt4IjnAj6ESM0JEYgRG4DfBMeoYQwJZr44M0aXKEwv+l9CjGDPt3OyXfsWPNYTsfWAvS2YhET+OBAQsaABQIoMb2ArQ2hsJ60ACobQyVPT6xF8EamjPhdfMnjh9aRbi723xKxEMBSPwIameeiqfVD9JFSBGPnN81Mr2VdqBWfi+AuLj5tTgHYNYQpwJ4jF1wfJcSpwLYTNBJiRtm+sOXK3bSAMjT3xJ3GgC2cN4Bx0smHjUA9vT7TDRtRo54ZbMBfKMDWpzn9Aw2gCWKsgGor+J3X79h2q+Sr+eeZ7mRBBg27CXAACGpOXPR8p7kAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\page_1.png' crc32='470BAE08'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGFJREFUeNpiYKAR+I8Fg4ABpQa8J8UQEJiPZsB/fIbgcvJ8JD4GYCHggv1A7IhkATJgJMYFyE6ej0WeKANwGYLhDIJORFPHSCgMsDkTw1AmSlMcxQawkKGHcXB5gWIAEGAACvMuTbd+tEEAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\page_2.png' crc32='4E6461C8'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAB6SURBVHjazFJBDsAgCCuLD/ILe6lP2ZP2hO7iNqJgiO6wJo1RoCmIkMQKNuedBgEgRwU8HJ0IyRELX6CeJ8l85+jkFqiJRd07poDlXc1FQ9oWLAfacjHiIQFPBCQhag9si/YXP/HRDKwNk9U9wOcCaaJG/tuCzAhcAwDv4u5msvut/gAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\page_32.png' crc32='D4B972A5'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAItJREFUeNrs1kESgCAIBVBpvP8VOCptXWSA8qWZYMad6etraWt/L3L0FcCY7QK+HEcPKMY29udsgCCSGCO2AI4jZolxVNQaAr7WT7ucMwDygvAkuAVYQYQDvAgIwIOAAawIKMCCUE8uTUkLX9X0eeRpaKq++J8IuxekJ1CAAvQDc1AtQQE+Dai6BRgAGlO5Ju8n5pkAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\plugin_32.png' crc32='F93BDEE5'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA50lEQVR42mNkGGDAOJQdwAfEUUC8EojfD4QDyoC4E4irgLh9IBzwnxrmjDqAHI2yQKwMxPuRxByB+B0QX6K1A+SB+CYQs+OQTwDihdR0QBIQN0B9TSr4CMRLgLgIiH+R4wAzID5BRiihA5AHGslxwH8G6gFGkiVwOICY0CBJ32gIDLkQGHUAXR1AF0CKAwjVfmTVjqMOGHUAKQ5IA+KZQJwOxLPIkKfYASAQAsQbgfg3mfIUOUAciKWB+CkQvyRDnmIHCELxewbsPSFC8hQ7gBOKv0MxqfIUO4AJqh6U2v+RIU+xA2gCADdtPiH08TNPAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\setting_32.png' crc32='922EFD75'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAONJREFUeNrsV8sNwyAMpVUHyQiMwCZls6iT0E3ICN2AcvABVXxsbAJSY+kdEhPbMn62o9S/y43xbZCwdZ+dgVYAVsBHt40d0rwn7zQ8e9Cl8KDTDRsk5yEx4DJOS3AFG+iUhUGwvRmQAPsahjh/VALYKrp3xCviSM4+I0yHrazoznus1Y+WSL9lFDGpBnyBWlhxhT7R7O0iFEJSmTwLjhFnKQF8ZgyjX2ZgZeMGNqUIl6Lh9EakGuPXgTMDsIjz5FlQo5Kp9H0uheeP4yUXklNXsiWWUsxKnR0u1LX8+jO65CvAAJleI8al+vFRAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\tags_1.png' crc32='89E4FB6A'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACdSURBVHjapJNBCsJADEVfvYfgVvB43qJ1U+s9Kwoiot9NFmFIpykTCBMyySPJZDpJNIkD9MAMPOyczVfPNUAPyPTrbAFDBvCy4BtwAibgtwbxgCfwAfZ2dwDea5V4wN2CJuAIXIsKQkjUggpbNcjSEDM6lADMuQUySmLnWjoDl5ZF2lJJ2EIWEg4xC1l8xgykukg1GU3D+XWt3/k/ADmBs+FVZJXvAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\tags_2.png' crc32='8A471921'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAACiSURBVHjapJNBCgIxDEV/vYfgVvBsrrzF1M043nNEQUT0uUnRKRnNOB9KftPwSdIkAZqDxQdvJPWSzmZ7830HIKDhjQdDZItxTyFXCz4CG6ADnhGRQi7AHVjafQXcIpkUcrKgDlgDhyqDUZG6BCrOLxGviRHkWkDmnIIWGMzBTtJ+8iQ5nc3/lhAVcZsYFRn9xoiIO0gpsI2t2a33mOau82sANUB3GTzy44UAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\tag_32.png' crc32='E7B78C4B'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ5JREFUeNrsltENgCAMRIkTOQKj6GTnBqzmBsiHX6Si1DYXok3uC8I9KJSG8IccKMo3AtPcDaLH3BxCY24KIS2ciuKp5A0hmdfhClEvFoU50TodU2NsV25k0Z6ERQpepaN1CedOcxVEdhLYAI8h8EN8EuKqEK1F2yiNifvPCaa5JQSY6aB2TdS+kdo5g/lEwawTYBYrMCsmzXzsOAQYALVTiXroQzwfAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\themes_1.png' crc32='94EAEAAD'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAE1JREFUeNpiYKAQMELp/xTqJ8sAsB4WbIKk2MxEaRhQbAALLqeRa8B/NMP+EwoDFhyS//G46j9Vw2DwxQK2xPSf6GRJaVL+zzAQACDAAM6KDR7FGHBBAAAAAElFTkSuQmCC</file>
	<file name='zb_system\IMAGE\COMMON\themes_2.png' crc32='6B06C584'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAABcSURBVHjazJLBCgAhCEQ1/P9ffnuJJaJadPaQl5BofM7kgCkV/ayqeIxN8jEjgSVJ3mHNxJIFYodWFWAS48uD2FxyoOJXD+5LYfWZUGL0DAHKCl714AEAAP//AwBQdg0ynJflxgAAAABJRU5ErkJggg==</file>
	<file name='zb_system\IMAGE\COMMON\themes_32.png' crc32='B1E92421'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAGRJREFUeNrslsEKACAIQzP8/19e14LACsLS7eTN8ZjDUrJLuhkeu6s3ATWo3NBA+kkCtzIxJetOgAZoQHdTm4oADDII0QO64RyHWQHPkAZo4NsmXP2MEJaA1XASNgNIdQVUE2AACEcKSEaLLiIAAAAASUVORK5CYII=</file>
	<file name='zb_system\IMAGE\COMMON\user_32.png' crc32='A7C4D9C9'  dt:dt='bin.base64'>iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABEUlEQVR42mNkGGDAOJQdoAHENUBsC8Q3gTgPiG/Q0wFLgDgaib8UiGPo6YCHQCyHxL8JDRW6OWATEPsOZAjA0oALEO8B4hYGOqcBEFBGYt8lxwByHXAEiK3RxP4D8TwgzgHiH7RyAAsQH8BiOTLoAuJyWjmgDIg7CagBhUQWEM+gtgO4gPgZEPMTofYMEJvSIgT+E6nuNxCzDaQDiDabVg4A5QJOWjjgMRDLEKFuBRBH0sIBxIYC0eYOSQfcB2IFPPIXgNiQlg4AgX949JJkJrkO+I9mBjp/1AGjDhj+DoA1PkEWL8XCp7kD9JEsvISFT3MHKCBZ+BALn+YOEESy8AMWPs0dwIxk4T8sfJo7gGoAALmPRCFD7TXwAAAAAElFTkSuQmCC</file>
	<file name='zb_users\LANGUAGE\SimpChinese.asp' crc32='E649180E'  dt:dt='bin.base64'>PCUNCic8bGFuZ3VhZ2U+566A5YyW5a2XPC9sYW5ndWFnZT4NCidUaGUgc2Vjb25kIGxpbmUgb2YgdGhpcyBmaWxlIGlzIHRoZSBuYW1lIG9mIHRoZSBsYW5ndWFnZQ0KDQoNCidUaGUgZGVmYXVsdCBsYW5ndWFnZSBvZiB1RWRpdG9yDQonVGhlIGxhbmd1YWdlIGZpbGVzIHdpbGwgYmUgbG9hZGVkIGZyb20gdWUtbGFuZ1xaQ19FRElUT1JMQU5HIGJ5IGVkaXRvci4NCkRpbSBaQ19FRElUT1JMQU5HDQpaQ19FRElUT1JMQU5HPSJ6aC1jbiINCg0KJ0N1c3RvbSBJbmZvcm1hdGlvbg0KJ0Rvbid0IGRlbGV0ZSAlcyBhbmQgKCkNClpDX01TRzAwMT0i5ZCN56ewIg0KWkNfTVNHMDAyPSLlr4bnoIEiDQpaQ19NU0cwMDM9IueUqOaIt+WQjSINClpDX01TRzAwND0i5L+d5a2YIg0KWkNfTVNHMDA1PSLlvZPliY3nlKjmiLciDQpaQ19NU0cwMDY9IuWumOaWuee9keermSINClpDX01TRzAwNz0i5qih5Z2X566h55CGIg0KWkNfTVNHMDA4PSLkvqfmoI8iDQpaQ19NU0cwMDk9IueUqOaIt+eZu+W9lSINClpDX01TRzAxMD0i55So5oi35ZCNLOWvhueggeS4jeiDveS4uuepuiINClpDX01TRzAxMT0i5Y+R5biDIg0KWkNfTVNHMDEyPSLliIbnsbsiDQpaQ19NU0cwMTM9IuivhOiuuiINClpDX01TRzAxND0i5byV55SoIg0KWkNfTVNHMDE1PSLmn6XnnIsiDQpaQ19NU0cwMTY9IuaRmOimgSINClpDX01TRzAxNz0i5pi+56S6Ig0KWkNfTVNHMDE4PSLmnaXlrr4iDQpaQ19NU0cwMTk9Iui2hee6p+euoeeQhiVz55m75b2VJXPpqozor4Houqvku70lc+azqOmUgCVz5ZCO5Y+w566h55CGJXPlj5Hooajor4Torrolc+afpeeci+adg+mZkCVz5p+l55yLUlNT6L6T5Ye6JXPmibnph4/mk43kvZwlc+e0ouW8lemHjeW7uiVz5paH56ug6YeN5bu6JXPnrqHnkIbmlofnq6Alc+e8lui+keaWh+eroCVz5Y+R5biD5paH56ugJXPliKDpmaTmlofnq6Alc+euoeeQhuWIhuexuyVz5L+u5pS55YiG57G7JXPliKDpmaTliIbnsbslc+euoeeQhuivhOiuuiVz5Yig6Zmk6K+E6K66JXPnrqHnkIbnlKjmiLclc+e8lui+keeUqOaItyVz5Yib5bu655So5oi3JXPkv67mlLnnlKjmiLclc+WIoOmZpOeUqOaItyVz6ZmE5Lu2566h55CGJXPpmYTku7bkuIrkvKAlc+mZhOS7tuWIoOmZpCVz56uZ5YaF5pCc57SiJXNUYWfnrqHnkIYlc1RhZ+e8lui+kSVzVGFn5L+d5a2YJXNUYWfliKDpmaQlc+e9keermeiuvue9riVz572R56uZ6K6+572u5L+d5a2YJXPmj5Lku7bnrqHnkIYlc+S+p+agj+aooeWdl+euoeeQhiVz5omA5pyJ5paH5Lu2566h55CGJXPmiYDmnInor4TorrrnrqHnkIYlc+aJgOaciemZhOS7tueuoeeQhiVzIiANClpDX01TRzAyMD0i6YCA5Ye655m75b2VIg0KWkNfTVNHMDIxPSLmn6XnnIvmnYPpmZAiDQpaQ19NU0cwMjI9IueuoeeQhiINClpDX01TRzAyMz0i5oKo5aW9LCVzIg0KWkNfTVNHMDI0PSLlj5HooajnlZnoqIAiDQpaQ19NU0cwMjU9IuaOp+WItumdouadvyInQ29udHJvbFBhbmVsDQpaQ19NU0cwMjY9Iue9keermeWIhuexuyInQ2F0ZWdvcmllcw0KWkNfTVNHMDI3PSLmnIDmlrDnlZnoqIAiJ0NvbW1lbnRzDQpaQ19NU0cwMjg9IuaWh+eroOW9kuahoyInQXJjaGl2ZXMNClpDX01TRzAyOT0i56uZ54K557uf6K6hIidCbG9nIFN0YXRpc3RpY3MNClpDX01TRzAzMD0i572R56uZ5pS26JePIidGYXZvcml0ZXMNClpDX01TRzAzMT0i5Y+L5oOF6ZO+5o6lIidMaW5rYWdlDQpaQ19NU0cwMzI9IuacgOi/keWPkeihqCInUHJldmlvdXMNClpDX01TRzAzMz0i5ZCN56ew5LiN6IO95Li656m6Ig0KWkNfTVNHMDM0PSLlkI3np7DmiJbpgq7nrrEs572R5Z2A5qC85byP5LiN5a+5Ig0KWkNfTVNHMDM1PSLnlZnoqIDkuI3og73kuLrnqbrmiJbov4fplb8iDQpaQ19NU0cwMzY9IiVzIg0KWkNfTVNHMDM3PSJVQkLmoIfnrb4iDQpaQ19NU0cwMzg9IuWvhueggeS4jeiDveWwj+S6jjjkvY0iDQpaQ19NU0cwMzk9IuWbvuagh+axh+mbhiInTWlzYw0KWkNfTVNHMDQwPSLil47mrKLov47lj4LkuI7orqjorrrvvIzor7flnKjov5nph4zlj5HooajmgqjnmoTnnIvms5XjgIHkuqTmtYHmgqjnmoTop4LngrnjgIIiDQpaQ19NU0cwNDE9IuWkp+WwjyINClpDX01TRzA0Mj0i5YiG6aG1Ig0KWkNfTVNHMDQzPSLnp4Hkurrmlofnq6DvvIznmbvlvZXnirbmgIHkuIvmlrnlj6/mn6XnnIvjgIIiDQpaQ19NU0cwNDQ9Ii0iDQpaQ19NU0cwNDU9IumUmeivr+aPkOekuiINClpDX01TRzA0Nj0i5Yqg5YWl5a+86Iiq5qCP6I+c5Y2VIg0KWkNfTVNHMDQ3PSLmlofnq6DnvJbovpEiDQpaQ19NU0cwNDg9IuaWh+eroCINClpDX01TRzA0OT0i6K6w5L2P5oiRLOS4i+asoeWbnuWkjeaXtuS4jeeUqOmHjeaWsOi+k+WFpeS4quS6uuS/oeaBryINClpDX01TRzA1MD0i5pel5Y6GIidDYWxlbmRhcg0KWkNfTVNHMDUxPSLnva7pobYiDQpaQ19NU0cwNTI9IuWvvOiIquagj+iPnOWNlSInTmF2aWdhdGlvbg0KWkNfTVNHMDUzPSLpgq7nrrEiDQpaQ19NU0cwNTQ9Iue9keermemTvuaOpSINClpDX01TRzA1NT0i5q2j5paHIg0KWkNfTVNHMDU2PSLnlZnoqIDmnIDplb/lrZfmlbAiDQpaQ19NU0cwNTc9IuaYvuekulVCQuihqOaDhT4+Ig0KWkNfTVNHMDU4PSLljZXlh7vigJznoa7lrprigJ3nu6fnu63jgILljZXlh7vigJzlj5bmtojigJ3lgZzmraLjgIIiDQpaQ19NU0cwNTk9IuacquWIhuexuyINClpDX01TRzA2MD0i5qCH6aKYIg0KWkNfTVNHMDYxPSLnsbvlnosiDQpaQ19NU0cwNjI9IuaXpeacnyINClpDX01TRzA2Mz0i5Yig6ZmkIg0KWkNfTVNHMDY0PSLkvKDpgIHlvJXnlKgiDQpaQ19NU0cwNjU9Iui/lOWbnue9keermSINClpDX01TRzA2Nj0i5YiG57G7566h55CGIg0KWkNfTVNHMDY3PSLmlofnq6DnrqHnkIYiDQpaQ19NU0cwNjg9IuivhOiuuueuoeeQhiINClpDX01TRzA2OT0i5byV55So566h55CGIg0KWkNfTVNHMDcwPSLnlKjmiLfnrqHnkIYiDQpaQ19NU0cwNzE9IumZhOS7tueuoeeQhiINClpDX01TRzA3Mj0i57Si5byV6YeN5bu6Ig0KWkNfTVNHMDczPSLmlofku7bph43lu7oiDQpaQ19NU0cwNzQ9IuS4jeaMh+Wumue7meS+p+agjyINClpDX01TRzA3NT0i5pe26Ze0Ig0KWkNfTVNHMDc2PSJJRCINClpDX01TRzA3Nz0i5paw5bu65YiG57G7Ig0KWkNfTVNHMDc4PSLnvJbovpEiDQpaQ19NU0cwNzk9IuaOkuW6jyINClpDX01TRzA4MD0iSVAiDQpaQ19NU0cwODE9IlVSTCINClpDX01TRzA4Mj0i5paH56ug5oC75pWwIg0KWkNfTVNHMDgzPSLlvZPliY3moLflvI8iDQpaQ19NU0cwODQ9IuW9k+WJjeivreiogCINClpDX01TRzA4NT0iU2VhcmNoIifmkJzntKINClpDX01TRzA4Nj0i5pCc57SiJXPvvIzlhbHmib7liLAlc+S4que7k+aenCINClpDX01TRzA4Nz0i5o+Q5LqkIg0KWkNfTVNHMDg4PSLph43nva4iDQpaQ19NU0cwODk9IumqjOivgSINClpDX01TRzA5MD0i5YaF5a65Ig0KWkNfTVNHMDkxPSLpgJrov4flrqHmoLgiDQpaQ19NU0cwOTI9IuWKoOWFpeWuoeaguCINClpDX01TRzA5Mz0i572R56uZ55qE5qCH6aKYIg0KWkNfTVNHMDk0PSLnvZHnq5nnmoTlrZDmoIfpopgiDQpaQ19NU0cwOTU9IuWbnuWkjeivhOiuuklEIg0KWkNfTVNHMDk2PSJCTE9H54mI5p2D6K+05piOKOWPr+S7peaUvue9ruWkh+ahiOWPt+WSjOe7n+iuoeS7o+eggSzmlK/mjIFIVE1M5Luj56CBLOWPr+eUqCcmbHQ7YnIvJmd0OyfmoIfnrb7mjaLooYwpIg0KWkNfTVNHMDk3PSLmraPluLjor4TorrrnrqHnkIYiDQpaQ19NU0cwOTg9IumUmeivr+WOn+WboCINClpDX01TRzA5OT0i5pyq5ZG95ZCN5paH56ugIg0KWkNfTVNHMTAwPSLlj6/op4bnvJbovpEiDQpaQ19NU0cxMDE9IlVCQue8lui+kSINClpDX01TRzEwMj0i5qOA5rWL5YiwJXPlpIfku73nmoTmlbDmja7ov5jmnKrkvb/nlKghIg0KWkNfTVNHMTAzPSLmkq3mlL4v6ZqQ6JePIOWqkuS9kyINClpDX01TRzEwND0i5b6F5a6h5qC46K+E6K66566h55CGIg0KWkNfTVNHMTA1PSLln7rnoYDorr7nva4iDQpaQ19NU0cxMDY9IumrmOe6p+iuvue9riINClpDX01TRzEwNz0i5o+S5Lu2566h55CGIg0KWkNfTVNHMTA4PSLkuIrkvKDlm77niYfjgIHlvbHpn7Plj4rlhbblroPnsbvlnovnmoTmlofku7YiDQpaQ19NU0cxMDk9IiDmk43kvZzmraPlnKjov5vooYzkuK0s6K+356iN5YCZLi4uIg0KWkNfTVNHMTEwPSLmibnph4/mk43kvZwiDQpaQ19NU0cxMTE9IumhtemdoueuoeeQhiINClpDX01TRzExMj0i5aaC5p6c5L2g5pu05o2i5LqG5Li76aKY5qih5p2/5oiW5L+u5pS55LqG5p+Q5Lqb5b+F6ZyA5paH5Lu26YeN5bu65omN6IO955Sf5pWI55qE572R56uZ6K6+572uLOivt+S9v+eUqCfmlofku7bph43lu7on5Yqf6IO9Ljxici8+PGJyLz7ph43lu7rmiYDmnInml6Xlv5flj6/og73pnIDopoHlvojplb/ml7bpl7Qs6K+354K55Ye7J+aPkOS6pCfmjInpkq7miafooYwuIg0KWkNfTVNHMTEzPSLmlrDlu7rpobXpnaIiDQpaQ19NU0cxMTQ9IuS/neWtmOaIkeeahOeZu+W9leS/oeaBryINClpDX01TRzExNT0i5YiG57G75LiN6IO95Li656m6Ig0KWkNfTVNHMTE2PSLmraPmlofkuI3og73kuLrnqboiDQpaQ19NU0cxMTc9IuaVsOaNruiOt+WPluS4rSINClpDX01TRzExOD0i5ZCN56ew5LiN6IO95Li656m6Ig0KWkNfTVNHMTE5PSLlr4bnoIHkuI3og73kuLrnqboiDQpaQ19NU0cxMjA9IumCrueuseS4jeiDveS4uuepuiINClpDX01TRzEyMT0i5re75Yqg5paw5pel5b+XIg0KWkNfTVNHMTIyPSLmt7vliqDmlrDliIbnsbsiDQpaQ19NU0cxMjM9Iua3u+WKoOaWsOeUqOaItyINClpDX01TRzEyND0i6K+E6K665oC75pWwIg0KWkNfTVNHMTI1PSLpobXpnaLmgLvmlbAiDQpaQ19NU0cxMjY9Iue9keermeWcsOWdgCjpu5jorqToh6rliqjor7vlj5blvZPliY3nvZHlnYAs5aaC5p6c57O757uf55qE6K+G5Yir5Yqf6IO95Ye6546w6Zeu6aKYLOaIluaYr+mcgOimgeWbuuWMlue9keermeWfn+WQjSzor7fngrnplIHlrprmjInpkq7lkI7ovpPlhaXnvZHlnYDlubbmj5DkuqTkv53lrZguKSINClpDX01TRzEyNz0i5paw5bu655So5oi3Ig0KWkNfTVNHMTI4PSLkvZzogIUiJ0F1dGhvcnMNClpDX01TRzEyOT0i5rWP6KeI5oC75pWwIg0KWkNfTVNHMTMwPSLmtY/op4giDQpaQ19NU0cxMzE9IuiHquWKqOWRveWQjeS4iuS8oOaWh+S7tiINClpDX01TRzEzMj0i6aaW6aG15Y+K5YiG57G76aG157+76aG15p2h5pWw6YePIg0KWkNfTVNHMTMzPSLmsqHmnInlpIfku73lhoXlrrkiDQpaQ19NU0cxMzQ9Iua3u+WKoFRhZ3MiDQpaQ19NU0cxMzU9IuaWsOW7uuWFs+mUruWtlyINClpDX01TRzEzNj0i5paw5bu6VGFncyINClpDX01TRzEzNz0iSUTlgLzmmK9odG1s6aG16Z2i5ZSv5LiA55qELOivt+S4jeimgeS4juWFtuWug+aooeWdl+eahElE6YeN5aSNLOW7uuiuruS7pWZu5oiWZGl25Li65YmN57yA5Yqg5paH5Lu25ZCNLiINClpDX01TRzEzOD0iVGFncyINClpDX01TRzEzOT0i5pi+56S65bi455SoVGFncyINClpDX01TRzE0MD0i5Li6MOWImeS4jemZkOWItkxJ55qE6L6T5Ye66aG55pWwIg0KWkNfTVNHMTQxPSJUYWdz566h55CGIg0KWkNfTVNHMTQyPSLmlrDlu7rmqKHlnZciDQpaQ19NU0cxNDM9IlVM5YaFTEnnmoTmnIDlpKfooYzmlbAiDQpaQ19NU0cxNDQ9IuaooeWdl+e8lui+kSINClpDX01TRzE0NT0i6K+35ouW5Yqo6ZyA6KaB55qE5qih5Z2X5Yiw5Y+z5L6n5Yy65Z+f5oyH5a6a5L6n5qCP44CC5L6n5qCP5Lit55qE5qih5Z2X5Y+v5o6S5bqP77yM5Lmf5Y+v5ouW6Iez5bem5L6n5Yy65Z+f56e76Zmk44CCIg0KWkNfTVNHMTQ2PSLCqyDkuIrkuIDnr4ciDQpaQ19NU0cxNDc9IuWIq+WQjSINClpDX01TRzE0OD0i5LiL5LiA56+HIMK7Ig0KWkNfTVNHMTQ5PSLlm57lpI0iDQpaQ19NU0cxNTA9IuW9k+WJjeeJiOacrCINClpDX01TRzE1MT0i5pyA5ZCO5pu05pawIg0KWkNfTVNHMTUyPSLlm57lpI1JRCINClpDX01TRzE1Mz0i5byV6IeqIg0KWkNfTVNHMTU0PSLmnIDov5HlvJXnlKgiDQpaQ19NU0cxNTU9IuabtOaXqeeahOaWh+eroCDCuyINClpDX01TRzE1Nj0iwqsg5LmL5ZCO55qE5paH56ugIg0KWkNfTVNHMTU3PSLku7vmhI8iDQpaQ19NU0cxNTg9IuaQnOe0ouaWh+eroCINClpDX01TRzE1OT0i5L+h5oGv5pGY6KaBIg0KWkNfTVNHMTYwPSLpobXpnaIiDQpaQ19NU0cxNjE9Iumhtemdoue8lui+kSINClpDX01TRzE2Mj0i5YiG57G75oC75pWwIg0KWkNfTVNHMTYzPSJUYWdz5oC75pWwIg0KWkNfTVNHMTY0PSLmnIDmlrDliqjmgIHkv6Hmga8iDQpaQ19NU0cxNjU9Iuato+WcqOiOt+WPluS4re+8jOivt+eojeWAmeOAgiINClpDX01TRzE2Nj0i55So5oi35oC75pWwIg0KWkNfTVNHMTY3PSLnq5nlhoXnu5/orqHmkZjopoEiDQpaQ19NU0cxNjg9IuaWsOW7uuaWh+eroCINClpDX01TRzE2OT0i5oC76K6h6ICX5pe2JW7np5IiDQpaQ19NU0cxNzA9IuaWh+S7tuWQjSINClpDX01TRzE3MT0i5pel5b+X6aG16Z2i5pi+56S66K+E6K6655qE5pWw6YePKOiuvuS4ujDliJnor4TorrrkuI3liIbpobUs5YWo6YOo6L6T5Ye65Zyo5ZCM5LiA6aG1LikiDQpaQ19NU0cxNzI9IuWkh+S7veS4juabtOaWsCINClpDX01TRzE3Mz0i5YWo5bGA6K6+572uIg0KWkNfTVNHMTc0PSLmiYDpgInpobnnm67pgJrov4flrqHmoLgiDQpaQ19NU0cxNzU9IkJMT0fnlKjmiLfmiYDlnKjnmoTml7bljLoiDQpaQ19NU0cxNzY9IkJMT0cg6aG16Z2i6K+t6KiAIg0KWkNfTVNHMTc3PSLmiYDpgInpobnnm67liqDlhaXlrqHmoLgiDQpaQ19NU0cxNzg9IuaWh+eroOWtmOaUvuebruW9lSINClpDX01TRzE3OT0i5q2k55uu5b2V5LiL5paH56ug55qE6buY6K6k5qih5p2/Ig0KWkNfTVNHMTgwPSLml6AiDQpaQ19NU0cxODE9IuWNleasoemHjeW7uuaWh+S7tuaVsOebriINClpDX01TRzE4Mj0i5Y2V5qyh6YeN5bu65paH5Lu25ZCO55qE6Ze06ZqU56eS5pWwIg0KWkNfTVNHMTgzPSLlhYHorrjkuIrkvKDmlofku7bnmoTnsbvlnoso5LulfOWBmuS4uuWIhumalCkiDQpaQ19NU0cxODQ9IuS4iuS8oOaWh+S7tueahOacgOWkp+Wtl+iKguaVsCINClpDX01TRzE4NT0i5Y+R6KGo6K+E6K665pe25ZCv55So6aqM6K+B56CBIg0KWkNfTVNHMTg2PSLpobXpnaLorr7nva4iDQpaQ19NU0cxODc9Ium7mOiupOaooeadvyINClpDX01TRzE4OD0i5qih5p2/Ig0KWkNfTVNHMTg5PSIg5o+Q56S6OuWIoOmZpOeUqOaIt+S8muWwhuivpeeUqOaIt+aJgOacieeahOaWh+eroOWSjOivhOiuuuWPiumZhOS7tuWFqOmDqOWIoOmZpOOAgiINClpDX01TRzE5MD0i6aaW6aG15Y+K5YiG57G76aG15pi+56S65paH56ug55qE5pWw6YePIg0KWkNfTVNHMTkxPSLnrqHnkIbpobXmmL7npLrorrDlvZXnmoTmlbDph48iDQpaQ19NU0cxOTI9IsKrIOS4iuS4gOmhteivhOiuuiINClpDX01TRzE5Mz0i5LiL5LiA6aG16K+E6K66IMK7Ig0KWkNfTVNHMTk0PSLnv7vpobXmnaHnmoTmnaHnm67mlbDph48iDQpaQ19NU0cxOTU9IueItuWIhuexuyINClpDX01TRzE5Nj0i5qC35byPIg0KWkNfTVNHMTk3PSLljp/kvZwiDQpaQ19NU0cxOTg9IueugOS7iyINClpDX01TRzE5OT0i5Li76aKY6Ieq5bim5o+S5Lu2Ig0KWkNfTVNHMjAwPSLmiYvliqjnlJ/miJDmkZjopoEiDQpaQ19NU0cyMDE9IueKtuaAgSINClpDX01TRzIwMj0i5ZCv55SoIg0KWkNfTVNHMjAzPSLlgZznlKgiDQpaQ19NU0cyMDQ9IuW9k+WJjeS4u+mimCINClpDX01TRzIwNT0iIg0KWkNfTVNHMjA2PSLkuLvmnLrmnI3liqHlmajmiYDlnKjnmoTml7bljLoiDQpaQ19NU0cyMDc9Iui/lOWbnua6kOWcsOWdgCINClpDX01TRzIwOD0i6YCX5Y+35YiG5YmyIg0KWkNfTVNHMjA5PSLlkK/nlKjljZXml6Xlv5fpobXpnaLliY3lkI7mlofnq6Dlr7zoiKoiDQpaQ19NU0cyMTA9IuaWh+S7tueuoeeQhiINClpDX01TRzIxMT0i55WZ6KiA5YiX6KGoIg0KWkNfTVNHMjEyPSLmn6XnnIvor4TorroiDQpaQ19NU0cyMTM9IummlumhtSINClpDX01TRzIxND0i5YiG57G75p+l55yLIg0KWkNfTVNHMjE1PSLor4Torrrorr7nva4iDQpaQ19NU0cyMTY9IuWcqOato+aWh+aPkuWFpeWIhumalOespiZxdW90OyZsdDtociBjbGFzcz0mcXVvdDttb3JlJnF1b3Q7IC8mZ3Q7JnF1b3Q75Y+v5Lul6K6p57O757uf6K+G5Yir5pGY6KaB5YaF5a6544CC5aaC6ZyA5Y+m5aSW5oyH5a6a5pGY6KaB5YaF5a6577yM6K+354K55Ye7ICINClpDX01TRzIxNz0iIg0KWkNfTVNHMjE4PSIiDQpaQ19NU0cyMTk9IiINClpDX01TRzIyMD0iIg0KWkNfTVNHMjIxPSIiDQpaQ19NU0cyMjI9IuWIoOmZpOWFqOmDqOacquWuoeaguOivhOiuuiINClpDX01TRzIyMz0i5Li76aKY566h55CGIg0KWkNfTVNHMjI0PSLopoHmn6Xor6LnmoTlhoXlrrkiDQpaQ19NU0cyMjU9IuabtOaWsCINClpDX01TRzIyNj0i5ZCv55SoUlNT55qE5YWo5paH6L6T5Ye6Ig0KWkNfTVNHMjI3PSLmibnph4/mk43kvZzlt7LlrozmiJAuIg0KWkNfTVNHMjI4PSLliKDpmaTmiYDpgInpobnnm64iDQpaQ19NU0cyMjk9IuWFqOmAiSINClpDX01TRzIzMD0i5pel5b+X6aG16Z2i55u45YWz5paH56ug55qE5pWw6YePKOiuvuS4ujDliJnkuI3ovpPlh7rnm7jlhbPmlofnq6DlhoXlrrkpIg0KWkNfTVNHMjMxPSLnm7jlhbPmlofnq6AiDQpaQ19NU0cyMzI9IueCueWHu+i/memHjOiOt+WPluivpeaXpeW/l+eahFRyYWNrQmFja+W8leeUqOWcsOWdgCINClpDX01TRzIzMz0iJXnlubQiDQpaQ19NU0cyMzQ9IuaQnOe0ouespuWQiOadoeS7tueahOivhOiuuiINClpDX01TRzIzNT0iJmxhcXVvOyINClpDX01TRzIzNj0iJnJhcXVvOyINClpDX01TRzIzNz0i56Gu6K6k5a+G56CBIg0KWkNfTVNHMjM4PSLmlofku7blpKflsI8iDQpaQ19NU0cyMzk9IuWbnuS4iue6p+ebruW9lSINClpDX01TRzI0MD0i5b2T5YmN6Lev5b6EIg0KWkNfTVNHMjQxPSJUYWdz57yW6L6RIg0KWkNfTVNHMjQyPSLnlKjmiLfnvJbovpEiDQpaQ19NU0cyNDM9IuWIhuexu+e8lui+kSINClpDX01TRzI0ND0i55WZ6KiA57yW6L6RIg0KWkNfTVNHMjQ1PSLlkI7lj7DpppbpobUiDQpaQ19NU0cyNDY9IuaWh+S7tue8lui+kSINClpDX01TRzI0Nz0i572R56uZ6K6+572uIg0KWkNfTVNHMjQ4PSLlkI7lj7DnrqHnkIYiDQpaQ19NU0cyNDk9Iuetiee6pyINClpDX01TRzI1MD0i5q2j5Zyo5L+d5a2YIg0KWkNfTVNHMjUxPSLnp5LlkI7oh6rliqjkv53lrZgiDQpaQ19NU0cyNTI9IuaBouWkjSINClpDX01TRzI1Mz0i5bey5oGi5aSNIg0KWkNfTVNHMjU0PSLov5nlsIbopobnm5bkvaDljp/mnInnmoTlhoXlrrnvvIHnu6fnu63vvJ8iDQpaQ19NU0cyNTU9IumdmeaAgeWMluiuvue9riINClpDX01TRzI1Nj0i5peg5YaF5a65Ig0KWkNfTVNHMjU3PSJaLUJsb2fmj5DnpLoiDQpaQ19NU0cyNTg9IuiHquWKqOS/neWtmOaIkOWKnyINClpDX01TRzI1OT0i6YeN5bu66aaW6aG157yT5a2Y5paH5Lu2Ig0KWkNfTVNHMjYwPSLnmbvlvZUiDQpaQ19NU0cyNjE9IiDmj5DnpLo6J+acquWIhuexuyfliIbnsbvmmK/ns7vnu5/pu5jorqTliqDlhaXnmoTliIbnsbss5LiN6IO95Yig6ZmkO+acquaMh+WumuWIhuexu+eahOaWh+eroOmDveW9kuWFpSfmnKrliIbnsbsn5LiLLOivpeWIhuexu+S4i+ayoeacieaWh+eroOeahOivneWwhuS4jeaYvuekuuWcqOWJjeWPsOWIhuexu+WIl+ihqOS4rS4iDQpaQ19NU0cyNjI9IuWFs+mXreivhOiuuuWKn+iDvSINClpDX01TRzI2Mz0i5ZCv55SoQ2hyb21l5o6o6YCB6YCa55+lIg0KWkNfTVNHMjY0PSLlj5bmtogiDQpaQ19NU0cyNjU9IuWbnuWkjeivpeeVmeiogCINClpDX01TRzI2Nj0iIOaTjeS9nOaIkOWKny4iDQpaQ19NU0cyNjc9IiDmk43kvZzlpLHotKUuIg0KWkNfTVNHMjY4PSIg5o+Q56S6OumcgOimgei/m+ihjCdb57Si5byV6YeN5bu6XScuIg0KWkNfTVNHMjY5PSIg5o+Q56S6OumcgOimgei/m+ihjCc8YSBocmVmPSIiJXUiIj7mlofku7bph43lu7o8L2E+Jy4iDQpaQ19NU0cyNzA9IuaJgOWxnuaWh+eroCINClpDX01TRzI3MT0i5ZCv55So6K+E6K665YCS5bqP6L6T5Ye6Ig0KWkNfTVNHMjcyPSLor4TorrrnvJbovpEiDQpaQ19NU0cyNzM9IiDkuYvliY3nmoTmibnph4/mk43kvZzov5jmnKrlhajpg6jmiafooYws6K+354K55Ye7IiI8YSBocmVmPScjJz7nu6fnu608L2E+IiLmiafooYzlrozmiYDmnInnmoTmk43kvZwuIg0KWkNfTVNHMjc0PSLmmL7npLrmkJzntKLmlofnq6DnmoTmlbDph48iDQpaQ19NU0cyNzU9IuWPkeW4g+S6jiINClpDX01TRzI3Nj0i5q2j5Zyo5Li65oKo5Yqg6L2957yW6L6R5ZmoIg0KWkNfTVNHMjc3PSLns7vnu5/mqKHlnZciDQpaQ19NU0cyNzg9IumFjee9riINClpDX01TRzI3OT0i5L6n5qCP5Yqg6L295pa55byPIg0KWkNfTVNHMjgwPSLoh6rliqgiDQpaQ19NU0cyODE9Iue8k+WtmCINClpDX01TRzI4Mj0i5pyq5ZCv55SoLOaXoOazleWQr+eUqOatpOW6lOeUqC4iDQpaQ19NU0cyODM9IuivpeW6lOeUqOaXoOazleiiq+WBnOeUqCzlpoLmnpzopoHlgZznlKjor7flhYjlgZznlKjov5nkupvlupTnlKg6Ig0KWkNfTVNHMjg0PSLor6XlupTnlKjml6Dms5Xooqvlronoo4Us6L+Z5Lqb5bqU55So5LiO5a6D5Yay56qBOiINClpDX01TRzI4NT0i6K+l5bqU55So5Y+v6IO95LiO6L+Z5Lqb5bqU55So5Yay56qBLOivt+WFs+azqOS9nOiAheWumOaWuee9keermToiDQpaQ19NU0cyODY9IueUqOaIt+iHquWumuS5ieaooeWdlyINClpDX01TRzI4Nz0i5Li76aKY6Ieq5bim5qih5Z2XIg0KWkNfTVNHMjg4PSLmj5Lku7bliJvlu7rmqKHlnZciDQpaQ19NU0cyODk9IueijueJh+aooeWdlyINClpDX01TRzI5MD0i6buY6K6k5L6n5qCPIg0KWkNfTVNHMjkxPSLkvqfmoI8yIg0KWkNfTVNHMjkyPSLkvqfmoI8zIg0KWkNfTVNHMjkzPSLkvqfmoI80Ig0KWkNfTVNHMjk0PSLkvqfmoI81Ig0KWkNfTVNHMjk1PSLlhoXlkKs8c3Bhbj4lbjwvc3Bhbj7kuKrmqKHlnZciDQpaQ19NU0cyOTY9IuaJi+WKqOS/ruaUueW5tumUgeWumue9keermeWcsOWdgCINClpDX01TRzI5Nz0i6Ieq5Yqo6K+G5Yir572R56uZ5Zyw5Z2AIg0KWkNfTVNHMjk4PSLpmpDol4/mqKHlnZfmoIfpopgiDQpaQ19NU0cyOTk9IuivpeaooeWdl+WcqOaooeeJiOS4reeahOeLrOeri+iwg+eUqOagh+etvuS4ujoiDQpaQ19NU0czMDA9IuivreiogOWMhSjpg6jliIbmqKHmnb/lkozmj5Lku7blj6/og73kvp3nhLbmmL7npLrlhbblroPnmoTor63oqIDjgIIpIg0KWkNfTVNHMzAxPSLmiZPlvIDku6PnoIHpq5jkuq4o57O757uf6Ieq5bim57yW6L6R5Zmo5L2/55SoU3ludGF4SGlnaExpZ2h0ZXLku6PnoIHpq5jkuq7lupPvvIzkvb/nlKjlhbblroPnvJbovpHlmajlj6/og73kuI3lkIwpIg0KWkNfTVNHMzAyPSLmgqjlvZPliY3nmoTnvJbovpHlhoXlrrnov5jmnKrkv53lrZjvvIEiDQpaQ19NU0czMDM9IlotQmxvZ+e9keermeWSjOeoi+W6j+W8gOWPkSINClpDX01TRzMwND0i56iL5bqPIg0KWkNfTVNHMzA1PSLorr7orqEiDQpaQ19NU0czMDY9IuaUr+aMgSINClpDX01TRzMwNz0i5oSf6LCiIg0KWkNfTVNHMzA4PSLnrYnmnIvlj4siDQoNCg0KDQoNCg0KDQoNCidBcnRpY2xlIExldmVsDQpaVkFfQXJ0aWNsZV9MZXZlbF9OYW1lKDApPSLml6AiDQpaVkFfQXJ0aWNsZV9MZXZlbF9OYW1lKDEpPSLojYnnqL8iDQpaVkFfQXJ0aWNsZV9MZXZlbF9OYW1lKDIpPSLnp4HkurrmtY/op4giDQpaVkFfQXJ0aWNsZV9MZXZlbF9OYW1lKDMpPSLnpoHmraLor4TorroiDQpaVkFfQXJ0aWNsZV9MZXZlbF9OYW1lKDQpPSLmma7pgJoiDQoNCg0KDQoNCidVc2VyIExldmVsDQpaVkFfVXNlcl9MZXZlbF9OYW1lKDEpPSLnrqHnkIblkZgiDQpaVkFfVXNlcl9MZXZlbF9OYW1lKDIpPSLnvZHnq5nnvJbovpEiDQpaVkFfVXNlcl9MZXZlbF9OYW1lKDMpPSLkvZzogIUiDQpaVkFfVXNlcl9MZXZlbF9OYW1lKDQpPSLor4TorrrogIUiDQpaVkFfVXNlcl9MZXZlbF9OYW1lKDUpPSLmuLjlrqIiDQoNCg0KDQoNCidKYW51YXJ5LCBGZWJydWFyeS4uLg0KWlZBX01vbnRoKDEpID0i5LiA5pyIIg0KWlZBX01vbnRoKDIpID0i5LqM5pyIIg0KWlZBX01vbnRoKDMpID0i5LiJ5pyIIg0KWlZBX01vbnRoKDQpID0i5Zub5pyIIg0KWlZBX01vbnRoKDUpID0i5LqU5pyIIg0KWlZBX01vbnRoKDYpID0i5YWt5pyIIg0KWlZBX01vbnRoKDcpID0i5LiD5pyIIg0KWlZBX01vbnRoKDgpID0i5YWr5pyIIg0KWlZBX01vbnRoKDkpID0i5Lmd5pyIIg0KWlZBX01vbnRoKDEwKT0i5Y2B5pyIIg0KWlZBX01vbnRoKDExKT0i5Y2B5LiA5pyIIg0KWlZBX01vbnRoKDEyKT0i5Y2B5LqM5pyIIg0KDQoNCidKYW4uLCBGZWIuIC4uLg0KWlZBX01vbnRoX0FiYnIoMSkgPSIx5pyIIg0KWlZBX01vbnRoX0FiYnIoMikgPSIy5pyIIg0KWlZBX01vbnRoX0FiYnIoMykgPSIz5pyIIg0KWlZBX01vbnRoX0FiYnIoNCkgPSI05pyIIg0KWlZBX01vbnRoX0FiYnIoNSkgPSI15pyIIg0KWlZBX01vbnRoX0FiYnIoNikgPSI25pyIIg0KWlZBX01vbnRoX0FiYnIoNykgPSI35pyIIg0KWlZBX01vbnRoX0FiYnIoOCkgPSI45pyIIg0KWlZBX01vbnRoX0FiYnIoOSkgPSI55pyIIg0KWlZBX01vbnRoX0FiYnIoMTApPSIxMOaciCINClpWQV9Nb250aF9BYmJyKDExKT0iMTHmnIgiDQpaVkFfTW9udGhfQWJicigxMik9IjEy5pyIIg0KDQoNCidTdW5kYXksIE1vbmRheS4uDQpaVkFfV2VlaygxKT0i5pif5pyf5pelIg0KWlZBX1dlZWsoMik9IuaYn+acn+S4gCINClpWQV9XZWVrKDMpPSLmmJ/mnJ/kuowiDQpaVkFfV2Vlayg0KT0i5pif5pyf5LiJIg0KWlZBX1dlZWsoNSk9IuaYn+acn+WbmyINClpWQV9XZWVrKDYpPSLmmJ/mnJ/kupQiDQpaVkFfV2Vlayg3KT0i5pif5pyf5YWtIg0KDQoNCidTdW4uLCBNb24uIC4uLg0KWlZBX1dlZWtfQWJicigxKT0i5pelIg0KWlZBX1dlZWtfQWJicigyKT0i5LiAIg0KWlZBX1dlZWtfQWJicigzKT0i5LqMIg0KWlZBX1dlZWtfQWJicig0KT0i5LiJIg0KWlZBX1dlZWtfQWJicig1KT0i5ZubIg0KWlZBX1dlZWtfQWJicig2KT0i5LqUIg0KWlZBX1dlZWtfQWJicig3KT0i5YWtIg0KDQoNCidDdXN0b20gRXJyb3IgSW5mb3JtYXRpb24NClpWQV9FcnJvck1zZygwKT0i5pyq55+l6ZSZ6K+vIg0KWlZBX0Vycm9yTXNnKDEpPSLmnKrnn6Xlkb3ku6QiDQpaVkFfRXJyb3JNc2coMik9IuacquafpeivouWIsOebuOWFs+mhtemdoiINClpWQV9FcnJvck1zZygzKT0i5Y+C5pWw5o+Q5Lqk6ZSZ6K+vIg0KWlZBX0Vycm9yTXNnKDQpPSLmlbDmja7lupPov57mjqXplJnor68iDQpaVkFfRXJyb3JNc2coNSk9Iumdnuazleiuv+mXriINClpWQV9FcnJvck1zZyg2KT0i5rKh5pyJ5p2D6ZmQIg0KWlZBX0Vycm9yTXNnKDcpPSLnlKjmiLflkI3kuLrnqbos6LaF6ZW/5oiW5qC85byP6ZSZ6K+vIg0KWlZBX0Vycm9yTXNnKDgpPSLnmbvlvZXlpLHotKUiDQpaVkFfRXJyb3JNc2coOSk9IuivpeaWh+eroOS4jeWtmOWcqCINClpWQV9FcnJvck1zZygxMCk9Iuezu+e7n+WIneWni+WMluWksei0pSINClpWQV9FcnJvck1zZygxMSk9Iue8lui+keaWh+eroOWksei0pSINClpWQV9FcnJvck1zZygxMik9Iue8lui+keWIhuexu+Wksei0pSINClpWQV9FcnJvck1zZygxMyk9IuivpeWIhuexu+S4i+acieaWh+eroO+8jOWIoOmZpOWksei0pSINClpWQV9FcnJvck1zZygxNCk9IuS9oOeahOivhOiuuuW3suiiq+aLpuaIqizlj5HooajlpLHotKUuIg0KWlZBX0Vycm9yTXNnKDE1KT0i5ZCN56ew5LiN6IO95Li656m65oiW6L+H6ZW/5Y+K5qC85byP5LiN5q2j56GuIg0KWlZBX0Vycm9yTXNnKDE2KT0i57yW6L6R55So5oi35aSx6LSlIg0KWlZBX0Vycm9yTXNnKDE3KT0i5Yig6Zmk55So5oi35aSx6LSlIg0KWlZBX0Vycm9yTXNnKDE4KT0i5Yig6Zmk6K+E6K665aSx6LSlIg0KWlZBX0Vycm9yTXNnKDE5KT0i5Yig6Zmk5byV55So5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDIwKT0i5Y+R6YCB5byV55So5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDIxKT0i5paH5Lu25LiK5Lyg5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDIyKT0i5paH5Lu25Yig6Zmk5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDIzKT0i57O757uf6YeN5bu65aSx6LSlIg0KWlZBX0Vycm9yTXNnKDI0KT0i5pCc57Si5a2X56ym5Liy5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDI1KT0i5L+d5a2Y6K6+572u5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDI2KT0i5paH5Lu257G75Z6L6LaF5Ye66K6+5a6a6IyD5Zu0Ig0KWlZBX0Vycm9yTXNnKDI3KT0i5paH5Lu25aSn5bCP6LaF5Ye66K6+5a6a6IyD5Zu0Ig0KWlZBX0Vycm9yTXNnKDI4KT0i5paH5Lu25bey5a2Y5Zyo77yM6K+35YWI5Yig6ZmkIg0KWlZBX0Vycm9yTXNnKDI5KT0i6YKu566x5LiN6IO95Li656m65oiW6L+H6ZW/5Y+K5qC85byP5LiN5q2j56GuIg0KWlZBX0Vycm9yTXNnKDMwKT0i572R5Z2A5LiN6IO95Li656m65oiW6L+H6ZW/5Y+K5qC85byP5LiN5q2j56GuIg0KWlZBX0Vycm9yTXNnKDMxKT0i6K+35Yu/5YaS5ZCN6aG25pu/LOWmguaenOS9oOaYr+ivpeeUqOaItyzor7flhYjnmbvlvZXlkI7lho3lj5Hooajor4TorroiDQpaVkFfRXJyb3JNc2coMzIpPSLnlLHkuo7orr7lrprml7bpl7Tpl7TpmpTogIzmi5Lnu53mk43kvZwiDQpaVkFfRXJyb3JNc2coMzMpPSLnvJbovpHlhbPplK7lrZflpLHotKUiDQpaVkFfRXJyb3JNc2coMzQpPSLliKDpmaTlhbPplK7lrZflpLHotKUiDQpaVkFfRXJyb3JNc2coMzUpPSLnvJbovpFUYWdz5aSx6LSlIg0KWlZBX0Vycm9yTXNnKDM2KT0i5Yig6ZmkVGFnc+Wksei0pSINClpWQV9FcnJvck1zZygzNyk9Iue8lui+keaWh+S7tuWksei0pSINClpWQV9FcnJvck1zZygzOCk9IumqjOivgeeggei+k+WFpemUmeivryINClpWQV9FcnJvck1zZygzOSk9Iuivt+S4jeimgeWvuUJsb2fmj5DkuqTnm7jlkIznmoTor4TorroiDQpaVkFfRXJyb3JNc2coNDApPSLor4Torrrlip/og73lt7LlhbPpl60iDQpaVkFfRXJyb3JNc2coNDEpPSLlvJXnlKjlip/og73lt7LlhbPpl60iDQpaVkFfRXJyb3JNc2coNDIpPSLnvJbovpHor4TorrrlpLHotKUiDQpaVkFfRXJyb3JNc2coNDMpPSLmoKHpqoznoIHplJnor68s6K+35Yu/5Y+R5biD5Z6D5Zy+5L+h5oGvIg0KWlZBX0Vycm9yTXNnKDQ0KT0i6Z2e5YWs5byA5paH56ug5LiN6IO95Y+R6KGo6K+E6K66Ig0KWlZBX0Vycm9yTXNnKDQ1KT0i55WZ6KiA5pys5Y+q5YWB6K645rOo5YaM55So5oi35Zue5aSNLOa4uOWuouWPquiDveeVmeiogC4iDQpaVkFfRXJyb3JNc2coNDYpPSLor4TorrrlhoXlrrnkuI3og73kuLrnqbrmiJbov4fplb8iDQpaVkFfRXJyb3JNc2coNDcpPSLlm57lpI3lip/og73lj6rlr7nms6jlhoznlKjmiLflvIDlkK8s5ri45a6i5Y+q6IO955WZ6KiALiINClpWQV9FcnJvck1zZyg0OCk9IuaPkuS7tuacquWQr+eUqCzor7flnKjnrqHnkIbnlYzpnaLlkK/nlKguIg0KWlZBX0Vycm9yTXNnKDQ5KT0i6K+l5YiG57G75LiL5pyJ5a2Q5YiG57G7LOWIoOmZpOWksei0pS4iDQpaVkFfRXJyb3JNc2coNTApPSLmjIflrprnmoTniLbliIbnsbvkuI3lrZjlnKgiDQpaVkFfRXJyb3JNc2coNTEpPSLlrZDliIbnsbvkuIvkuI3og73lho3ljIXlkKvliIbnsbsiDQpaVkFfRXJyb3JNc2coNTIpPSLotoXov4fljZrlrqLorr7nva7nmoTmnIDlpKflm57lpI3lsYLmlbAiDQpaVkFfRXJyb3JNc2coNTMpPSLkvaDnmoTor4Torrrlt7Lov5vlhaXlrqHmoLjov4fnqIss6K+35Yu/5YaN5qyh5o+Q5LqkLiINClpWQV9FcnJvck1zZyg1NCk9IuWvhueggeWPquiDveS9v+eUqGEtejAtOWB+IUAjJCVeJiotX+Wtl+espue7hOS6iyzkuJTkuI3og73lsI/kuo445L2NLiINClpWQV9FcnJvck1zZyg1NSk9Ik1ENeWTiOW4jOeul+azleWQjueahOWtl+espuS4sumVv+W6puS4jeaYrzMy5L2N55qEIg0KWlZBX0Vycm9yTXNnKDU2KT0i6LaF5Ye65LqG6K6+572u55qE5Zue5aSN5bGC5pWw77yBIg0KWlZBX0Vycm9yTXNnKDU3KT0i54i26K+E6K665ZKM5a2Q6K+E6K665LiN5Zyo5ZCM5LiA56+H5paH56ugISINClpWQV9FcnJvck1zZyg1OCk9IuS4jeWtmOWcqOeItuWIhuexuyINClpWQV9FcnJvck1zZyg1OSk9IuS4jeWtmOWcqOWtkOWIhuexuyINClpWQV9FcnJvck1zZyg2MCk9IuWbnuWkjeivhOiuuuWksei0pSINClpWQV9FcnJvck1zZyg2MSk9IuivpeiusOW9leS4jeWtmOWcqCINClpWQV9FcnJvck1zZyg2Mik9IuWQjOWQjeeUqOaIt+W3suWtmOWcqCzor7fkv67mlLnnlKjmiLflkI0uIg0KWlZBX0Vycm9yTXNnKDYzKT0i6I2J56i/56aB5q2i5rWP6KeIIg0KWlZBX0Vycm9yTXNnKDY0KT0i5ZCv55So5aSx6LSlLOivpeW6lOeUqOeahHhtbOmFjee9ruS/oeaBr+S4jeaYr1otQmxvZyAyLljniYjmnKznmoQuIg0KWlZBX0Vycm9yTXNnKDY1KT0iV2luZG93cyBQaG9uZeaJi+acuuiHquW4pklF5Y+v6IO95peg5rOV5q2j5bi45LiK5Lyg77yM5bu66K6u5oKo5L2/55So56ys5LiJ5pa55rWP6KeI5Zmo44CCIg0KJT4=</file>
	<file name='zb_users\LANGUAGE\ue-lang\zh-cn\zh-cn.js' crc32='EF0BB360'  dt:dt='bin.base64'>LyoqDQogKiBDcmVhdGVkIHdpdGggSmV0QnJhaW5zIFBocFN0b3JtLg0KICogVXNlcjogdGFvcWlsaQ0KICogRGF0ZTogMTItNi0xMg0KICogVGltZTog5LiL5Y2INTowMg0KICogVG8gY2hhbmdlIHRoaXMgdGVtcGxhdGUgdXNlIEZpbGUgfCBTZXR0aW5ncyB8IEZpbGUgVGVtcGxhdGVzLg0KICovDQpVRS5JMThOWyd6aC1jbiddID0gew0KICAgICdsYWJlbE1hcCc6ew0KICAgICAgICAnYW5jaG9yJzon6ZSa54K5JywgJ3VuZG8nOifmkqTplIAnLCAncmVkbyc6J+mHjeWBmicsICdib2xkJzon5Yqg57KXJywgJ2luZGVudCc6J+mmluihjOe8qei/mycsICdzbmFwc2NyZWVuJzon5oiq5Zu+JywNCiAgICAgICAgJ2l0YWxpYyc6J+aWnOS9kycsICd1bmRlcmxpbmUnOifkuIvliJLnur8nLCAnc3RyaWtldGhyb3VnaCc6J+WIoOmZpOe6vycsICdzdWJzY3JpcHQnOifkuIvmoIcnLCdmb250Ym9yZGVyJzon5a2X56ym6L655qGGJywNCiAgICAgICAgJ3N1cGVyc2NyaXB0Jzon5LiK5qCHJywgJ2Zvcm1hdG1hdGNoJzon5qC85byP5Yi3JywgJ3NvdXJjZSc6J+a6kOS7o+eggScsICdibG9ja3F1b3RlJzon5byV55SoJywNCiAgICAgICAgJ3Bhc3RlcGxhaW4nOifnuq/mlofmnKznspjotLTmqKHlvI8nLCAnc2VsZWN0YWxsJzon5YWo6YCJJywgJ3ByaW50Jzon5omT5Y2wJywgJ3ByZXZpZXcnOifpooTop4gnLA0KICAgICAgICAnaG9yaXpvbnRhbCc6J+WIhumalOe6vycsICdyZW1vdmVmb3JtYXQnOifmuIXpmaTmoLzlvI8nLCAndGltZSc6J+aXtumXtCcsICdkYXRlJzon5pel5pyfJywNCiAgICAgICAgJ3VubGluayc6J+WPlua2iOmTvuaOpScsICdpbnNlcnRyb3cnOifliY3mj5LlhaXooYwnLCAnaW5zZXJ0Y29sJzon5YmN5o+S5YWl5YiXJywgJ21lcmdlcmlnaHQnOiflj7PlkIjlubbljZXlhYPmoLwnLCAnbWVyZ2Vkb3duJzon5LiL5ZCI5bm25Y2V5YWD5qC8JywNCiAgICAgICAgJ2RlbGV0ZXJvdyc6J+WIoOmZpOihjCcsICdkZWxldGVjb2wnOifliKDpmaTliJcnLCAnc3BsaXR0b3Jvd3MnOifmi4bliIbmiJDooYwnLCAnc3BsaXR0b2NvbHMnOifmi4bliIbmiJDliJcnLCAnc3BsaXR0b2NlbGxzJzon5a6M5YWo5ouG5YiG5Y2V5YWD5qC8JywNCiAgICAgICAgJ21lcmdlY2VsbHMnOiflkIjlubblpJrkuKrljZXlhYPmoLwnLCAnZGVsZXRldGFibGUnOifliKDpmaTooajmoLwnLCAnY2xlYXJkb2MnOifmuIXnqbrmlofmoaMnLCdpbnNlcnRwYXJhZ3JhcGhiZWZvcmV0YWJsZSc6IuihqOagvOWJjeaPkuWFpeihjCIsJ2luc2VydGNvZGUnOifku6PnoIHor63oqIAnLCdmb250ZmFtaWx5Jzon5a2X5L2TJywgJ2ZvbnRzaXplJzon5a2X5Y+3JywgJ3BhcmFncmFwaCc6J+auteiQveagvOW8jycsICdpbnNlcnRpbWFnZSc6J+WbvueJhycsDQogICAgICAgICdlZGl0dGFibGUnOifooajmoLzlsZ7mgKcnLCdlZGl0dGQnOifljZXlhYPmoLzlsZ7mgKcnLCAnbGluayc6J+i2hemTvuaOpScsJ2Vtb3Rpb24nOifooajmg4UnLCAnc3BlY2hhcnMnOifnibnmrorlrZfnrKYnLCAnc2VhcmNocmVwbGFjZSc6J+afpeivouabv+aNoicsICdtYXAnOidCYWlkdeWcsOWbvicsICdnbWFwJzonR29vZ2xl5Zyw5Zu+JywNCiAgICAgICAgJ2luc2VydHZpZGVvJzon6KeG6aKRJywgJ2hlbHAnOifluK7liqknLCAnanVzdGlmeWxlZnQnOiflsYXlt6blr7npvZAnLCAnanVzdGlmeXJpZ2h0Jzon5bGF5Y+z5a+56b2QJywgJ2p1c3RpZnljZW50ZXInOiflsYXkuK3lr7npvZAnLA0KICAgICAgICAnanVzdGlmeWp1c3RpZnknOifkuKTnq6/lr7npvZAnLCAnZm9yZWNvbG9yJzon5a2X5L2T6aKc6ImyJywgJ2JhY2tjb2xvcic6J+iDjOaZr+iJsicsICdpbnNlcnRvcmRlcmVkbGlzdCc6J+acieW6j+WIl+ihqCcsDQogICAgICAgICdpbnNlcnR1bm9yZGVyZWRsaXN0Jzon5peg5bqP5YiX6KGoJywgJ2Z1bGxzY3JlZW4nOiflhajlsY8nLCAnZGlyZWN0aW9uYWxpdHlsdHInOifku47lt6blkJHlj7PovpPlhaUnLCAnZGlyZWN0aW9uYWxpdHlydGwnOifku47lj7PlkJHlt6bovpPlhaUnLA0KICAgICAgICAncm93c3BhY2luZ3RvcCc6J+auteWJjei3nScsICdyb3dzcGFjaW5nYm90dG9tJzon5q615ZCO6LedJywgICdwYWdlYnJlYWsnOifliIbpobUnLCAnaW5zZXJ0ZnJhbWUnOifmj5LlhaVJZnJhbWUnLCAnaW1hZ2Vub25lJzon6buY6K6kJywNCiAgICAgICAgJ2ltYWdlbGVmdCc6J+W3pua1ruWKqCcsICdpbWFnZXJpZ2h0Jzon5Y+z5rWu5YqoJywgJ2F0dGFjaG1lbnQnOifpmYTku7YnLCAnaW1hZ2VjZW50ZXInOiflsYXkuK0nLCAnd29yZGltYWdlJzon5Zu+54mH6L2s5a2YJywNCiAgICAgICAgJ2xpbmVoZWlnaHQnOifooYzpl7Tot50nLCdlZGl0dGlwJyA6J+e8lui+keaPkOekuicsJ2N1c3RvbXN0eWxlJzon6Ieq5a6a5LmJ5qCH6aKYJywgJ2F1dG90eXBlc2V0Jzon6Ieq5Yqo5o6S54mIJywgJ3dlYmFwcCc6J+eZvuW6puW6lOeUqCcsDQogICAgICAgICd0b3VwcGVyY2FzZSc6J+Wtl+avjeWkp+WGmScsICd0b2xvd2VyY2FzZSc6J+Wtl+avjeWwj+WGmScsJ2JhY2tncm91bmQnOifog4zmma8nLCd0ZW1wbGF0ZSc6J+aooeadvycsJ3NjcmF3bCc6J+a2gum4picsJ211c2ljJzon6Z+z5LmQJyxpbnNlcnR0YWJsZTon5o+S5YWl6KGo5qC8JywNCiAgICAgICAgJ2RyYWZ0cyc6ICfku47ojYnnqL/nrrHliqDovb0nLCAnY2hhcnRzJzogJ+WbvuihqCcNCiAgICB9LA0KICAgICdpbnNlcnRvcmRlcmVkbGlzdCc6ew0KICAgICAgICAnbnVtJzonMSwyLDMuLi4nLA0KICAgICAgICAnbnVtMSc6JzEpLDIpLDMpLi4uJywNCiAgICAgICAgJ251bTInOicoMSksKDIpLCgzKS4uLicsDQogICAgICAgICdjbic6J+S4gCzkuows5LiJLi4uLicsDQogICAgICAgICdjbjEnOifkuIApLOS6jCks5LiJKS4uLi4nLA0KICAgICAgICAnY24yJzonKOS4gCksKOS6jCksKOS4iSkuLi4uJywNCiAgICAgICAgJ2RlY2ltYWwnOicxLDIsMy4uLicsDQogICAgICAgICdsb3dlci1hbHBoYSc6J2EsYixjLi4uJywNCiAgICAgICAgJ2xvd2VyLXJvbWFuJzonaSxpaSxpaWkuLi4nLA0KICAgICAgICAndXBwZXItYWxwaGEnOidBLEIsQy4uLicsDQogICAgICAgICd1cHBlci1yb21hbic6J0ksSUksSUlJLi4uJw0KICAgIH0sDQogICAgJ2luc2VydHVub3JkZXJlZGxpc3QnOnsNCiAgICAgICAgJ2NpcmNsZSc6J+KXiyDlpKflnIblnIgnLA0KICAgICAgICAnZGlzYyc6J+KXjyDlsI/pu5HngrknLA0KICAgICAgICAnc3F1YXJlJzon4pagIOWwj+aWueWdlyAnLA0KICAgICAgICAnZGFzaCcgOifigJQg56C05oqY5Y+3JywNCiAgICAgICAgJ2RvdCc6JyDjgIIg5bCP5ZyG5ZyIJw0KICAgIH0sDQogICAgJ3BhcmFncmFwaCc6eydwJzon5q616JC9JywgJ2gxJzon5qCH6aKYIDEnLCAnaDInOifmoIfpopggMicsICdoMyc6J+agh+mimCAzJywgJ2g0Jzon5qCH6aKYIDQnLCAnaDUnOifmoIfpopggNScsICdoNic6J+agh+mimCA2J30sDQogICAgJ2ZvbnRmYW1pbHknOnsNCiAgICAgICAgJ3Nvbmd0aSc6J+Wui+S9kycsDQogICAgICAgICdrYWl0aSc6J+alt+S9kycsDQogICAgICAgICdoZWl0aSc6J+m7keS9kycsDQogICAgICAgICdsaXNodSc6J+matuS5picsDQogICAgICAgICd5YWhlaSc6J+W+rui9r+mbhem7kScsDQogICAgICAgICdhbmRhbGVNb25vJzonYW5kYWxlIG1vbm8nLA0KICAgICAgICAnYXJpYWwnOiAnYXJpYWwnLA0KICAgICAgICAnYXJpYWxCbGFjayc6J2FyaWFsIGJsYWNrJywNCiAgICAgICAgJ2NvbWljU2Fuc01zJzonY29taWMgc2FucyBtcycsDQogICAgICAgICdpbXBhY3QnOidpbXBhY3QnLA0KICAgICAgICAndGltZXNOZXdSb21hbic6J3RpbWVzIG5ldyByb21hbicNCiAgICB9LA0KICAgICdpbnNlcnRjb2RlJzp7DQogICAgICAgICdhczMnOidBY3Rpb25TY3JpcHQzJywNCiAgICAgICAgJ2Jhc2gnOidCYXNoL1NoZWxsJywNCiAgICAgICAgJ2NwcCc6J0MvQysrJywNCiAgICAgICAgJ2Nzcyc6J0NzcycsDQogICAgICAgICdjZic6J0NvZGVGdW5jdGlvbicsDQogICAgICAgICdjIyc6J0MjJywNCiAgICAgICAgJ2RlbHBoaSc6J0RlbHBoaScsDQogICAgICAgICdkaWZmJzonRGlmZicsDQogICAgICAgICdlcmxhbmcnOidFcmxhbmcnLA0KICAgICAgICAnZ3Jvb3Z5JzonR3Jvb3Z5JywNCiAgICAgICAgJ2h0bWwnOidIdG1sJywNCiAgICAgICAgJ2phdmEnOidKYXZhJywNCiAgICAgICAgJ2pmeCc6J0phdmFGeCcsDQogICAgICAgICdqcyc6J0phdmFzY3JpcHQnLA0KICAgICAgICAncGwnOidQZXJsJywNCiAgICAgICAgJ3BocCc6J1BocCcsDQogICAgICAgICdwbGFpbic6J1BsYWluIFRleHQnLA0KICAgICAgICAncHMnOidQb3dlclNoZWxsJywNCiAgICAgICAgJ3B5dGhvbic6J1B5dGhvbicsDQogICAgICAgICdydWJ5JzonUnVieScsDQogICAgICAgICdzY2FsYSc6J1NjYWxhJywNCiAgICAgICAgJ3NxbCc6J1NxbCcsDQogICAgICAgICd2Yic6J1ZiJywNCiAgICAgICAgJ3htbCc6J1htbCcNCiAgICB9LA0KICAgICdjdXN0b21zdHlsZSc6ew0KICAgICAgICAndGMnOifmoIfpopjlsYXkuK0nLA0KICAgICAgICAndGwnOifmoIfpopjlsYXlt6YnLA0KICAgICAgICAnaW0nOiflvLrosIMnLA0KICAgICAgICAnaGknOifmmI7mmL7lvLrosIMnDQogICAgfSwNCiAgICBlbGVtZW50UGF0aFRpcDoi5YWD57Sg6Lev5b6EIiwNCiAgICAnd29yZENvdW50VGlwJzoi5a2X5pWw57uf6K6hIiwNCiAgICAnd29yZENvdW50TXNnJzon5b2T5YmN5bey6L6T5YWleyNjb3VudH3kuKrlrZfnrKYsIOaCqOi/mOWPr+S7pei+k+WFpXsjbGVhdmV95Liq5a2X56ym44CCICcsDQogICAgJ3dvcmRPdmVyRmxvd01zZyc6JzxzcGFuIHN0eWxlPSJjb2xvcjpyZWQ7Ij7lrZfmlbDotoXlh7rmnIDlpKflhYHorrjlgLzvvIzmnI3liqHlmajlj6/og73mi5Lnu53kv53lrZjvvIE8L3NwYW4+JywNCiAgICAnb2snOiLnoa7orqQiLA0KICAgICdjYW5jZWwnOiLlj5bmtogiLA0KICAgICdjbG9zZURpYWxvZyc6IuWFs+mXreWvueivneahhiIsDQogICAgJ3RhYmxlRHJhZyc6IuihqOagvOaLluWKqOW/hemhu+W8leWFpXVpVXRpbHMuanPmlofku7bvvIEiLA0KICAgICdhdXRvZmxvYXRNc2cnOiLlt6XlhbfmoI/mta7liqjkvp3otZbnvJbovpHlmahVSe+8jOaCqOmmluWFiOmcgOimgeW8leWFpVVJ5paH5Lu2ISIsDQogICAgJ3NuYXBTY3JlZW5fcGx1Z2luJzp7DQogICAgICAgICdicm93c2VyTXNnJzoi5LuF5pSv5oyBSUXmtY/op4jlmajvvIEiLA0KICAgICAgICAnY2FsbEJhY2tFcnJvck1zZyc6IuacjeWKoeWZqOi/lOWbnuaVsOaNruacieivr++8jOivt+ajgOafpemFjee9rumhueS5i+WQjumHjeivleOAgiIsDQogICAgICAgICd1cGxvYWRFcnJvck1zZyc6IuaIquWbvuS4iuS8oOWksei0pe+8jOivt+ajgOafpeacjeWKoeWZqOerr+eOr+WigyEgIg0KICAgIH0sDQogICAgJ2NvbmZpcm1DbGVhcic6IuehruWumua4heepuuW9k+WJjeaWh+aho+S5iO+8nyIsDQogICAgJ2NvbnRleHRNZW51Jzp7DQogICAgICAgICdkZWxldGUnOiLliKDpmaQiLA0KICAgICAgICAnc2VsZWN0YWxsJzoi5YWo6YCJIiwNCiAgICAgICAgJ2RlbGV0ZWNvZGUnOiLliKDpmaTku6PnoIEiLA0KICAgICAgICAnY2xlYXJkb2MnOiLmuIXnqbrmlofmoaMiLA0KICAgICAgICAnY29uZmlybWNsZWFyJzoi56Gu5a6a5riF56m65b2T5YmN5paH5qGj5LmI77yfIiwNCiAgICAgICAgJ3VubGluayc6IuWIoOmZpOi2hemTvuaOpSIsDQogICAgICAgICdwYXJhZ3JhcGgnOiLmrrXokL3moLzlvI8iLA0KICAgICAgICAnZWRpdHRhYmxlJzoi6KGo5qC85bGe5oCnIiwNCiAgICAgICAgJ2FsaWdudGQnOiLljZXlhYPmoLzlr7npvZDmlrnlvI8iLA0KICAgICAgICAnYWxpZ250YWJsZSc6J+ihqOagvOWvuem9kOaWueW8jycsDQogICAgICAgICd0YWJsZWxlZnQnOiflt6bmta7liqgnLA0KICAgICAgICAndGFibGVjZW50ZXInOiflsYXkuK3mmL7npLonLA0KICAgICAgICAndGFibGVyaWdodCc6J+WPs+a1ruWKqCcsDQogICAgICAgICdlZGl0dGQnOiLljZXlhYPmoLzlsZ7mgKciLA0KICAgICAgICAnc2V0Ym9yZGVydmlzaWJsZSc6J+iuvue9ruihqOagvOi+uee6v+WPr+ingScsDQogICAgICAgICdqdXN0aWZ5bGVmdCc6J+W3puWvuem9kCcsDQogICAgICAgICdqdXN0aWZ5cmlnaHQnOiflj7Plr7npvZAnLA0KICAgICAgICAnanVzdGlmeWNlbnRlcic6J+WxheS4reWvuem9kCcsDQogICAgICAgICdqdXN0aWZ5anVzdGlmeSc6J+S4pOerr+Wvuem9kCcsDQogICAgICAgICd0YWJsZSc6IuihqOagvCIsDQogICAgICAgICdpbnNlcnR0YWJsZSc6J+aPkuWFpeihqOagvCcsDQogICAgICAgICdkZWxldGV0YWJsZSc6IuWIoOmZpOihqOagvCIsDQogICAgICAgICdpbnNlcnRwYXJhZ3JhcGhiZWZvcmUnOiLliY3mj5LlhaXmrrXokL0iLA0KICAgICAgICAnaW5zZXJ0cGFyYWdyYXBoYWZ0ZXInOiflkI7mj5LlhaXmrrXokL0nLA0KICAgICAgICAnZGVsZXRlcm93Jzoi5Yig6Zmk5b2T5YmN6KGMIiwNCiAgICAgICAgJ2RlbGV0ZWNvbCc6IuWIoOmZpOW9k+WJjeWIlyIsDQogICAgICAgICdpbnNlcnRyb3cnOiLliY3mj5LlhaXooYwiLA0KICAgICAgICAnaW5zZXJ0Y29sJzoi5bem5o+S5YWl5YiXIiwNCiAgICAgICAgJ2luc2VydHJvd25leHQnOiflkI7mj5LlhaXooYwnLA0KICAgICAgICAnaW5zZXJ0Y29sbmV4dCc6J+WPs+aPkuWFpeWIlycsDQogICAgICAgICdpbnNlcnRjYXB0aW9uJzon5o+S5YWl6KGo5qC85ZCN56ewJywNCiAgICAgICAgJ2RlbGV0ZWNhcHRpb24nOifliKDpmaTooajmoLzlkI3np7AnLA0KICAgICAgICAnaW5zZXJ0dGl0bGUnOifmj5LlhaXooajmoLzmoIfpopjooYwnLA0KICAgICAgICAnZGVsZXRldGl0bGUnOifliKDpmaTooajmoLzmoIfpopjooYwnLA0KICAgICAgICAnaW5zZXJ0dGl0bGVjb2wnOifmj5LlhaXooajmoLzmoIfpopjliJcnLA0KICAgICAgICAnZGVsZXRldGl0bGVjb2wnOifliKDpmaTooajmoLzmoIfpopjliJcnLA0KICAgICAgICAnYXZlcmFnZURpc2VSb3cnOiflubPlnYfliIbluIPlkITooYwnLA0KICAgICAgICAnYXZlcmFnZURpc0NvbCc6J+W5s+Wdh+WIhuW4g+WQhOWIlycsDQogICAgICAgICdtZXJnZXJpZ2h0Jzoi5ZCR5Y+z5ZCI5bm2IiwNCiAgICAgICAgJ21lcmdlbGVmdCc6IuWQkeW3puWQiOW5tiIsDQogICAgICAgICdtZXJnZWRvd24nOiLlkJHkuIvlkIjlubYiLA0KICAgICAgICAnbWVyZ2VjZWxscyc6IuWQiOW5tuWNleWFg+agvCIsDQogICAgICAgICdzcGxpdHRvY2VsbHMnOiLlrozlhajmi4bliIbljZXlhYPmoLwiLA0KICAgICAgICAnc3BsaXR0b2NvbHMnOiLmi4bliIbmiJDliJciLA0KICAgICAgICAnc3BsaXR0b3Jvd3MnOiLmi4bliIbmiJDooYwiLA0KICAgICAgICAndGFibGVzb3J0Jzon6KGo5qC85o6S5bqPJywNCiAgICAgICAgJ2VuYWJsZXNvcnQnOiforr7nva7ooajmoLzlj6/mjpLluo8nLA0KICAgICAgICAnZGlzYWJsZXNvcnQnOiflj5bmtojooajmoLzlj6/mjpLluo8nLA0KICAgICAgICAncmV2ZXJzZWN1cnJlbnQnOifpgIbluo/lvZPliY0nLA0KICAgICAgICAnb3JkZXJieWFzYyc6J+aMiUFTQ0lJ5a2X56ym5Y2H5bqPJywNCiAgICAgICAgJ3JldmVyc2VieWFzYyc6J+aMiUFTQ0lJ5a2X56ym6ZmN5bqPJywNCiAgICAgICAgJ29yZGVyYnludW0nOifmjInmlbDlgLzlpKflsI/ljYfluo8nLA0KICAgICAgICAncmV2ZXJzZWJ5bnVtJzon5oyJ5pWw5YC85aSn5bCP6ZmN5bqPJywNCiAgICAgICAgJ2JvcmRlcmJrJzon6L655qGG5bqV57q5JywNCiAgICAgICAgJ3NldGNvbG9yJzon6KGo5qC86ZqU6KGM5Y+Y6ImyJywNCiAgICAgICAgJ3Vuc2V0Y29sb3InOiflj5bmtojooajmoLzpmpTooYzlj5joibInLA0KICAgICAgICAnc2V0YmFja2dyb3VuZCc6J+mAieWMuuiDjOaZr+malOihjCcsDQogICAgICAgICd1bnNldGJhY2tncm91bmQnOiflj5bmtojpgInljLrog4zmma8nLA0KICAgICAgICAncmVkYW5kYmx1ZSc6J+e6ouiTneebuOmXtCcsDQogICAgICAgICd0aHJlZWNvbG9yZ3JhZGllbnQnOifkuInoibLmuJDlj5gnLA0KICAgICAgICAnY29weSc6IuWkjeWItihDdHJsICsgQykiLA0KICAgICAgICAnY29weW1zZyc6Iuivt+S9v+eUqCAnQ3RybCArIEMn5omn6KGM5aSN5Yi25pON5L2cIiwNCiAgICAgICAgJ3Bhc3RlJzoi57KY6LS0KEN0cmwgKyBWKSIsDQogICAgICAgICAncGFzdGVtc2cnOiLor7fkvb/nlKggJ0N0cmwgKyBWJ+aJp+ihjOWkjeWItuaTjeS9nCINCiAgICB9LA0KDQogICAgJ2FudGhvck1zZyc6IumTvuaOpSIsDQogICAgJ2NsZWFyQ29sb3InOifmuIXnqbrpopzoibInLA0KICAgICdzdGFuZGFyZENvbG9yJzon5qCH5YeG6aKc6ImyJywNCiAgICAndGhlbWVDb2xvcic6J+S4u+mimOminOiJsicsDQogICAgJ3Byb3BlcnR5Jzon5bGe5oCnJywNCiAgICAnZGVmYXVsdCc6J+m7mOiupCcsDQogICAgJ21vZGlmeSc6J+S/ruaUuScsDQogICAgJ2p1c3RpZnlsZWZ0Jzon5bem5a+56b2QJywNCiAgICAnanVzdGlmeXJpZ2h0Jzon5Y+z5a+56b2QJywNCiAgICAnanVzdGlmeWNlbnRlcic6J+WxheS4rScsDQogICAgJ2p1c3RpZnknOifpu5jorqQnLA0KICAgICdjbGVhcic6J+a4hemZpCcsDQogICAgJ2FuY2hvck1zZyc6J+mUmueCuScsDQogICAgJ2RlbGV0ZSc6J+WIoOmZpCcsDQogICAgJ2NsaWNrVG9VcGxvYWQnOiLngrnlh7vkuIrkvKAiLA0KICAgICd1bnNldCc6J+Wwmuacquiuvue9ruivreiogOaWh+S7ticsDQogICAgJ3Rfcm93Jzon6KGMJywNCiAgICAndF9jb2wnOifliJcnLA0KICAgICdtb3JlJzon5pu05aSaJywNCiAgICAncGFzdGVPcHQnOifnspjotLTpgInpobknLA0KICAgICdwYXN0ZVNvdXJjZUZvcm1hdCc6IuS/neeVmea6kOagvOW8jyIsDQogICAgJ3RhZ0Zvcm1hdCc6J+WPquS/neeVmeagh+etvicsDQogICAgJ3Bhc3RlVGV4dEZvcm1hdCc6J+WPquS/neeVmeaWh+acrCcsDQogICAgJ2F1dG9UeXBlU2V0Jzp7DQogICAgICAgIG1lcmdlTGluZToi5ZCI5bm256m66KGMIiwNCiAgICAgICAgZGVsTGluZToi5riF6Zmk56m66KGMIiwNCiAgICAgICAgcmVtb3ZlRm9ybWF0OiLmuIXpmaTmoLzlvI8iLA0KICAgICAgICBpbmRlbnQ6IummluihjOe8qei/myIsDQogICAgICAgIGFsaWdubWVudDoi5a+56b2Q5pa55byPIiwNCiAgICAgICAgaW1hZ2VGbG9hdDoi5Zu+54mH5rWu5YqoIiwNCiAgICAgICAgcmVtb3ZlRm9udHNpemU6Iua4hemZpOWtl+WPtyIsDQogICAgICAgIHJlbW92ZUZvbnRGYW1pbHk6Iua4hemZpOWtl+S9kyIsDQogICAgICAgIHJlbW92ZUh0bWw6Iua4hemZpOWGl+S9mUhUTUzku6PnoIEiLA0KICAgICAgICBwYXN0ZUZpbHRlcjoi57KY6LS06L+H5rukIiwNCiAgICAgICAgcnVuOiLmiafooYwiDQogICAgfSwNCg0KICAgICdiYWNrZ3JvdW5kJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgICdsYW5nX2JhY2tncm91bmRfbm9ybWFsJzon6IOM5pmv6K6+572uJywNCiAgICAgICAgICAgICdsYW5nX2JhY2tncm91bmRfbG9jYWwnOiflnKjnur/lm77niYcnLA0KICAgICAgICAgICAgJ2xhbmdfYmFja2dyb3VuZF9zZXQnOifpgInpobknLA0KICAgICAgICAgICAgJ2xhbmdfYmFja2dyb3VuZF9ub25lJzon5peg6IOM5pmv6ImyJywNCiAgICAgICAgICAgICdsYW5nX2JhY2tncm91bmRfY29sb3JlZCc6J+acieiDjOaZr+iJsicsDQogICAgICAgICAgICAnbGFuZ19iYWNrZ3JvdW5kX2NvbG9yJzon6aKc6Imy6K6+572uJywNCiAgICAgICAgICAgICdsYW5nX2JhY2tncm91bmRfbmV0aW1nJzon572R57uc5Zu+54mHJywNCiAgICAgICAgICAgICdsYW5nX2JhY2tncm91bmRfYWxpZ24nOiflr7npvZDmlrnlvI8nLA0KICAgICAgICAgICAgJ2xhbmdfYmFja2dyb3VuZF9wb3NpdGlvbic6J+eyvuehruWumuS9jScsDQogICAgICAgICAgICAncmVwZWF0VHlwZSc6e29wdGlvbnM6WyLlsYXkuK0iLCAi5qiq5ZCR6YeN5aSNIiwgIue6teWQkemHjeWkjSIsICLlubPpk7oiLCLoh6rlrprkuYkiXX0NCg0KICAgICAgICB9LA0KICAgICAgICAnbm9VcGxvYWRJbWFnZSc6IuW9k+WJjeacquS4iuS8oOi/h+S7u+S9leWbvueJh++8gSIsDQogICAgICAgICd0b2dnbGVTZWxlY3QnOiLljZXlh7vlj6/liIfmjaLpgInkuK3nirbmgIFcbuWOn+WbvuWwuuWvuDogIg0KICAgIH0sDQogICAgLy89PT09PT09PT09PT09PT1kaWFsb2cgaTE4Tj09PT09PT09PT09PT09PT09PT09PT09DQogICAgJ2luc2VydGltYWdlJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgIGxhbmdfdGFiX3JlbW90ZToi6L+c56iL5Zu+54mHIiwgLy/oioLngrkNCiAgICAgICAgICAgIGxhbmdfdGFiX2xvY2FsOiLmnKzlnLDkuIrkvKAiLA0KICAgICAgICAgICAgbGFuZ190YWJfaW1nTWFuYWdlcjoi5Zyo57q/566h55CGIiwNCiAgICAgICAgICAgIGxhbmdfdGFiX2ltZ1NlYXJjaDoi5Zu+54mH5pCc57SiIiwNCiAgICAgICAgICAgIGxhbmdfaW5wdXRfdXJsOiLlnLAg5Z2A77yaIiwNCiAgICAgICAgICAgIGxhbmdfaW5wdXRfd2lkdGg6IuWuvSDluqbvvJoiLA0KICAgICAgICAgICAgbGFuZ19pbnB1dF9oZWlnaHQ6IumrmCDluqbvvJoiLA0KICAgICAgICAgICAgbGFuZ19pbnB1dF9ib3JkZXI6Iui+uSDmoYbvvJoiLA0KICAgICAgICAgICAgbGFuZ19pbnB1dF92aHNwYWNlOiLovrkg6Led77yaIiwNCiAgICAgICAgICAgIGxhbmdfaW5wdXRfdGl0bGU6IuaPjyDov7DvvJoiLA0KICAgICAgICAgICAgbGFuZ19pbnB1dF9yZW1vdGVBbGlnbjon5a+5IOm9kO+8micsDQogICAgICAgICAgICBsYW5nX2ltZ0xvYWRpbmc6IuOAgOWbvueJh+WKoOi9veS4reKApuKApiIsDQogICAgICAgICAgICAnbG9jayc6e3RpdGxlOiLplIHlrprlrr3pq5jmr5TkvosifSwgLy/lsZ7mgKcNCiAgICAgICAgICAgICdpbWdUeXBlJzp7dGl0bGU6IuWbvueJh+exu+WeiyIsIG9wdGlvbnM6WyLmlrDpl7siLCAi5aOB57q4IiwgIuihqOaDhSIsICLlpLTlg48iXX0sIC8vc2VsZWN055qEb3B0aW9uDQogICAgICAgICAgICAnaW1nU2VhcmNoVHh0Jzp7dmFsdWU6Iuivt+i+k+WFpeaQnOe0ouWFs+mUruivjSJ9LA0KICAgICAgICAgICAgJ2ltZ1NlYXJjaEJ0bic6e3ZhbHVlOiLnmb7luqbkuIDkuIsifSwNCiAgICAgICAgICAgICdpbWdTZWFyY2hSZXNldCc6e3ZhbHVlOiLmuIXnqbrmkJzntKIifSwNCiAgICAgICAgICAgICd1cGxvYWQnOntzdHlsZTonYmFja2dyb3VuZDogdXJsKHVwbG9hZC5wbmcpOyd9LA0KICAgICAgICAgICAgJ2R1aXFpJzp7c3R5bGU6J2JhY2tncm91bmQ6IHVybChpbWdsYWJlbC5wbmcpIC0xMnB4IDJweCBuby1yZXBlYXQ7J30sDQogICAgICAgICAgICAnbGFuZ19zYXZlUGF0aCc6J+mAieaLqeS/neWtmOebruW9le+8micsDQogICAgICAgICAgICAnbGFuZ19sb2FkX3NhdmVQYXRoJzogJ+ato+WcqOivu+WPluebruW9lS4uLicNCiAgICAgICAgfSwNCiAgICAgICAgJ25ldEVycm9yJzoi572R57uc6ZO+5o6l6ZSZ6K+v77yM6K+35qOA5p+l6YWN572u5ZCO6YeN6K+V77yBIiwNCiAgICAgICAgJ25vVXBsb2FkSW1hZ2UnOiLlvZPliY3mnKrkuIrkvKDov4fku7vkvZXlm77niYfvvIEiLA0KICAgICAgICAnaW1hZ2VMb2FkaW5nJzoi5Zu+54mH5Yqg6L295Lit77yM6K+356iN5ZCO4oCm4oCmIiwNCiAgICAgICAgJ3RyeUFnYWluJzoiIDooIO+8jOaKseatie+8jOayoeacieaJvuWIsOWbvueJh++8geivt+mHjeivleS4gOasoe+8gSIsDQogICAgICAgICd0b2dnbGVTZWxlY3QnOiLljZXlh7vlj6/liIfmjaLpgInkuK3nirbmgIFcbuWOn+WbvuWwuuWvuDogIiwNCiAgICAgICAgJ3NlYXJjaEluaXRJbmZvJzoi6K+36L6T5YWl5pCc57Si5YWz6ZSu6K+NIiwNCiAgICAgICAgJ251bUVycm9yJzoi6K+36L6T5YWl5q2j56Gu55qE6ZW/5bqm5oiW6ICF5a695bqm5YC877yB5L6L5aaC77yaMTIz77yMNDAwIiwNCiAgICAgICAgJ2ZpbGVUeXBlJzoi5Zu+54mHIiwNCiAgICAgICAgJ2ltYWdlVXJsRXJyb3InOiLkuI3lhYHorrjnmoTlm77niYfmoLzlvI/miJbogIXlm77niYfln5/vvIEiLA0KICAgICAgICAnaW1hZ2VMb2FkRXJyb3InOiLlm77niYfliqDovb3lpLHotKXvvIHor7fmo4Dmn6Xpk77mjqXlnLDlnYDmiJbnvZHnu5znirbmgIHvvIEiLA0KICAgICAgICAnZmxhc2hFcnJvcic6J0ZsYXNo5o+S5Lu25Yid5aeL5YyW5aSx6LSl77yM6K+35pu05paw5oKo55qERmxhc2hQbGF5ZXLniYjmnKzkuYvlkI7ph43or5XvvIEnLA0KICAgICAgICAnZmxvYXREZWZhdWx0Jzoi6buY6K6kIiwNCiAgICAgICAgJ2Zsb2F0TGVmdCc6IuW3pua1ruWKqCIsDQogICAgICAgICdmbG9hdFJpZ2h0Jzoi5Y+z5rWu5YqoIiwNCiAgICAgICAgJ2Zsb2F0Q2VudGVyJzoi5bGF5LitIiwNCiAgICAgICAgJ3N1Ym1pdEJ1dHRvbic6J+aPkOS6pCcsDQogICAgICAgICdmbGFzaEkxOG4nOnt9IC8v55WZ56m66buY6K6k5Lit5paHDQogICAgfSwNCiAgICAnd2ViYXBwJzp7DQogICAgICAgIHRpcDE6IuacrOWKn+iDveeUseeZvuW6pkFQUOaPkOS+m++8jOWmgueci+WIsOatpOmhtemdou+8jOivt+WQhOS9jeermemVv+mmluWFiOeUs+ivt+eZvuW6pkFQUEtleSEiLA0KICAgICAgICB0aXAyOiLnlLPor7flrozmiJDkuYvlkI7or7foh7N1ZWRpdG9yLmNvbmZpZy5qc+S4remFjee9ruiOt+W+l+eahGFwcGtleSEgIiwNCiAgICAgICAgYXBwbHlGb3I6IueCueatpOeUs+ivtyIsDQogICAgICAgIGFudGhvckFwaToi55m+5bqmQVBJIg0KICAgIH0sDQogICAgdGVtcGxhdGU6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICAnbGFuZ190ZW1wbGF0ZV9ia2NvbG9yJzon6IOM5pmv6aKc6ImyJywNCiAgICAgICAgICAgICdsYW5nX3RlbXBsYXRlX2NsZWFyJyA6ICfkv53nlZnljp/mnInlhoXlrrknLA0KICAgICAgICAgICAgJ2xhbmdfdGVtcGxhdGVfc2VsZWN0JyA6ICfpgInmi6nmqKHmnb8nDQogICAgICAgIH0sDQogICAgICAgICdibGFuayc6IuepuueZveaWh+ahoyIsDQogICAgICAgICdibG9nJzoi5Y2a5a6i5paH56ugIiwNCiAgICAgICAgJ3Jlc3VtZSc6IuS4quS6uueugOWOhiIsDQogICAgICAgICdyaWNoVGV4dCc6IuWbvuaWh+a3t+aOkiIsDQogICAgICAgICdzY2lQYXBlcnMnOiLnp5HmioDorrrmlociDQoNCg0KICAgIH0sDQogICAgJ3NjcmF3bCc6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICAnbGFuZ19pbnB1dF9wcmV2aW91c1N0ZXAnOiLkuIrkuIDmraUiLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfbmV4dHNTdGVwJzoi5LiL5LiA5q2lIiwNCiAgICAgICAgICAgICdsYW5nX2lucHV0X2NsZWFyJzon5riF56m6JywNCiAgICAgICAgICAgICdsYW5nX2lucHV0X2FkZFBpYyc6J+a3u+WKoOiDjOaZrycsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF9TY2FsZVBpYyc6J+e8qeaUvuiDjOaZrycsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF9yZW1vdmVQaWMnOifliKDpmaTog4zmma8nLA0KICAgICAgICAgICAgJ0pfaW1nVHh0Jzp7dGl0bGU6J+a3u+WKoOiDjOaZr+WbvueJhyd9DQogICAgICAgIH0sDQogICAgICAgICdub1NjYXJ3bCc6IuWwmuacquS9nOeUu++8jOeZvee6uOS4gOW8oH4iLA0KICAgICAgICAnc2NyYXdsVXBMb2FkaW5nJzoi5raC6bim5LiK5Lyg5LitLOWIq+aApeWTpn4iLA0KICAgICAgICAnY29udGludWVCdG4nOiLnu6fnu60iLA0KICAgICAgICAnaW1hZ2VFcnJvcic6Iuezn+ezle+8jOWbvueJh+ivu+WPluWksei0peS6hu+8gSIsDQogICAgICAgICdiYWNrZ3JvdW5kVXBsb2FkaW5nJzon6IOM5pmv5Zu+54mH5LiK5Lyg5LitLOWIq+aApeWTpn4nDQogICAgfSwNCiAgICAnbXVzaWMnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfdGlwcyc6Iui+k+WFpeatjOaJiy/mrYzmm7Iv5LiT6L6R77yM5pCc57Si5oKo5oSf5YW06Laj55qE6Z+z5LmQ77yBIiwNCiAgICAgICAgICAgICdKX3NlYXJjaEJ0bic6e3ZhbHVlOifmkJzntKLmrYzmm7InfSwNCiAgICAgICAgICAgICdsYW5nX3RhYl9yZW1vdGUnOiLnmb7luqbmkJzntKIiLA0KICAgICAgICAgICAgJ2xhbmdfdGFiX2xvY2FsJzoi572R57uc5q2M5puyIg0KICAgICAgICB9LA0KICAgICAgICAnZW1wdHlUeHQnOifmnKrmkJzntKLliLDnm7jlhbPpn7PkuZDnu5PmnpzvvIzor7fmjaLkuIDkuKrlhbPplK7or43or5Xor5XjgIInLA0KICAgICAgICAnY2hhcHRlcic6J+atjOabsicsDQogICAgICAgICdzaW5nZXInOifmrYzmiYsnLA0KICAgICAgICAnc3BlY2lhbCc6J+S4k+i+kScsDQogICAgICAgICdsaXN0ZW5UZXN0Jzon6K+V5ZCsJw0KICAgIH0sDQogICAgJ2FuY2hvcic6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICAnbGFuZ19pbnB1dF9hbmNob3JOYW1lJzon6ZSa54K55ZCN5a2X77yaJw0KICAgICAgICB9DQogICAgfSwNCiAgICAnY2hhcnRzJzp7DQogICAgfSwNCiAgICAnYXR0YWNobWVudCc6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICAnbGFuZ19pbnB1dF9maWxlU3RhdHVzJzonIOW9k+WJjeacquS4iuS8oOaWh+S7ticsDQogICAgICAgICAgICAnc3RhcnRVcGxvYWQnOntzdHlsZToiYmFja2dyb3VuZDp1cmwodXBsb2FkLnBuZykgbm8tcmVwZWF0OyJ9DQogICAgICAgIH0sDQogICAgICAgICdicm93c2VGaWxlcyc6J+aWh+S7tua1j+iniOKApicsDQogICAgICAgICd1cGxvYWRTdWNjZXNzJzon5LiK5Lyg5oiQ5YqfIScsDQogICAgICAgICdkZWxTdWNjZXNzRmlsZSc6J+S7juaIkOWKn+mYn+WIl+S4reenu+mZpCcsDQogICAgICAgICdkZWxGYWlsU2F2ZUZpbGUnOifnp7vpmaTkv53lrZjlpLHotKXmlofku7YnLA0KICAgICAgICAnc3RhdHVzUHJvbXB0JzonIOS4quaWh+S7tuW3suS4iuS8oO+8gSAnLA0KICAgICAgICAnZmxhc2hWZXJzaW9uRXJyb3InOiflvZPliY1GbGFzaOeJiOacrOi/h+S9ju+8jOivt+abtOaWsEZsYXNoUGxheWVy5ZCO6YeN6K+V77yBJywNCiAgICAgICAgJ2ZsYXNoTG9hZGluZ0Vycm9yJzonRmxhc2jliqDovb3lpLHotKUh6K+35qOA5p+l6Lev5b6E5oiW572R57uc54q25oCBJywNCiAgICAgICAgJ2ZpbGVVcGxvYWRSZWFkeSc6J+etieW+heS4iuS8oOKApuKApicsDQogICAgICAgICdkZWxVcGxvYWRRdWV1ZSc6J+S7juS4iuS8oOmYn+WIl+S4reenu+mZpCcsDQogICAgICAgICdsaW1pdFByb21wdDEnOifljZXmrKHkuI3og73pgInmi6notoXov4cnLA0KICAgICAgICAnbGltaXRQcm9tcHQyJzon5Liq5paH5Lu277yB6K+36YeN5paw6YCJ5oup77yBJywNCiAgICAgICAgJ2RlbEZhaWxGaWxlJzon56e76Zmk5aSx6LSl5paH5Lu2JywNCiAgICAgICAgJ2ZpbGVTaXplTGltaXQnOifmlofku7blpKflsI/otoXlh7rpmZDliLbvvIEnLA0KICAgICAgICAnZW1wdHlGaWxlJzon56m65paH5Lu25peg5rOV5LiK5Lyg77yBJywNCiAgICAgICAgJ2ZpbGVUeXBlRXJyb3InOifmlofku7bnsbvlnovplJnor6/vvIEnLA0KICAgICAgICAndW5rbm93bkVycm9yJzon5pyq55+l6ZSZ6K+v77yBJywNCiAgICAgICAgJ2ZpbGVVcGxvYWRpbmcnOifkuIrkvKDkuK3vvIzor7fnrYnlvoXigKbigKYnLA0KICAgICAgICAnY2FuY2VsVXBsb2FkJzon5Y+W5raI5LiK5LygJywNCiAgICAgICAgJ25ldEVycm9yJzon572R57uc6ZSZ6K+vJywNCiAgICAgICAgJ2ZhaWxVcGxvYWQnOifkuIrkvKDlpLHotKUhJywNCiAgICAgICAgJ3NlcnZlcklPRXJyb3InOifmnI3liqHlmahJT+mUmeivr++8gScsDQogICAgICAgICdub0F1dGhvcml0eSc6J+aXoOadg+mZkO+8gScsDQogICAgICAgICdmaWxlTnVtTGltaXQnOifkuIrkvKDkuKrmlbDpmZDliLYnLA0KICAgICAgICAnZmFpbENoZWNrJzon6aqM6K+B5aSx6LSl77yM5pys5qyh5LiK5Lyg6KKr6Lez6L+H77yBJywNCiAgICAgICAgJ2ZpbGVDYW5jZWxpbmcnOiflj5bmtojkuK3vvIzor7fnrYnlvoXigKbigKYnLA0KICAgICAgICAnc3RvcFVwbG9hZGluZyc6J+S4iuS8oOW3suWBnOatouKApuKApicNCiAgICB9LA0KICAgICdlbW90aW9uJzp7DQogICAgfSwNCiAgICAnZ21hcCc6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICAnbGFuZ19pbnB1dF9hZGRyZXNzJzon5Zyw5Z2AJywNCiAgICAgICAgICAgICdsYW5nX2lucHV0X3NlYXJjaCc6J+aQnOe0oicsDQogICAgICAgICAgICAnYWRkcmVzcyc6e3ZhbHVlOiLljJfkuqwifQ0KICAgICAgICB9LA0KICAgICAgICBzZWFyY2hFcnJvcjon5peg5rOV5a6a5L2N5Yiw6K+l5Zyw5Z2AIScNCiAgICB9LA0KICAgICdoZWxwJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgICdsYW5nX2lucHV0X2Fib3V0Jzon5YWz5LqOVUVkaXRvcicsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF9zaG9ydGN1dHMnOiflv6vmjbfplK4nLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfdmVyc2lvbic6J+eJiOacrDoxLjMuNicsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF9pbnRyb2R1Y3Rpb24nOidVRWRpdG9y5piv55Sx55m+5bqmd2Vi5YmN56uv56CU5Y+R6YOo5byA5Y+R55qE5omA6KeB5Y2z5omA5b6X5a+M5paH5pysd2Vi57yW6L6R5Zmo77yM5YW35pyJ6L276YeP77yM5Y+v5a6a5Yi277yM5rOo6YeN55So5oi35L2T6aqM562J54m554K544CC5byA5rqQ5Z+65LqOQlNE5Y2P6K6u77yM5YWB6K646Ieq55Sx5L2/55So5ZKM5L+u5pS55Luj56CB44CCJywNCiAgICAgICAgICAgICdsYW5nX1R4dF9zaG9ydGN1dHMnOiflv6vmjbfplK4nLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X2Z1bmMnOiflip/og70nLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X2JvbGQnOifnu5npgInkuK3lrZforr7nva7kuLrliqDnspcnLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X2NvcHknOiflpI3liLbpgInkuK3lhoXlrrknLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X2N1dCc6J+WJquWIh+mAieS4reWGheWuuScsDQogICAgICAgICAgICAnbGFuZ19UeHRfUGFzdGUnOifnspjotLQnLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X3VuZG8nOifph43mlrDmiafooYzkuIrmrKHmk43kvZwnLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X3JlZG8nOifmkqTplIDkuIrkuIDmrKHmk43kvZwnLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X2l0YWxpYyc6J+e7memAieS4reWtl+iuvue9ruS4uuaWnOS9kycsDQogICAgICAgICAgICAnbGFuZ19UeHRfdW5kZXJsaW5lJzon57uZ6YCJ5Lit5a2X5Yqg5LiL5YiS57q/JywNCiAgICAgICAgICAgICdsYW5nX1R4dF9zZWxlY3RBbGwnOiflhajpg6jpgInkuK0nLA0KICAgICAgICAgICAgJ2xhbmdfVHh0X3Zpc3VhbEVudGVyJzon6L2v5Zue6L2mJywNCiAgICAgICAgICAgICdsYW5nX1R4dF9mdWxsc2NyZWVuJzon5YWo5bGPJw0KICAgICAgICB9DQogICAgfSwNCiAgICAnaW5zZXJ0ZnJhbWUnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfYWRkcmVzcyc6J+WcsOWdgO+8micsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF93aWR0aCc6J+WuveW6pu+8micsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF9oZWlnaHQnOifpq5jluqbvvJonLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfaXNTY3JvbGwnOiflhYHorrjmu5rliqjmnaHvvJonLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfZnJhbWVib3JkZXInOifmmL7npLrmoYbmnrbovrnmoYbvvJonLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfYWxpZ25Nb2RlJzon5a+56b2Q5pa55byP77yaJywNCiAgICAgICAgICAgICdhbGlnbic6e3RpdGxlOiLlr7npvZDmlrnlvI8iLCBvcHRpb25zOlsi6buY6K6kIiwgIuW3puWvuem9kCIsICLlj7Plr7npvZAiLCAi5bGF5LitIl19DQogICAgICAgIH0sDQogICAgICAgICdlbnRlckFkZHJlc3MnOifor7fovpPlhaXlnLDlnYAhJw0KICAgIH0sDQogICAgJ2xpbmsnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfdGV4dCc6J+aWh+acrOWGheWuue+8micsDQogICAgICAgICAgICAnbGFuZ19pbnB1dF91cmwnOifpk77mjqXlnLDlnYDvvJonLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfdGl0bGUnOifmoIfpopjvvJonLA0KICAgICAgICAgICAgJ2xhbmdfaW5wdXRfdGFyZ2V0Jzon5piv5ZCm5Zyo5paw56qX5Y+j5omT5byA77yaJw0KICAgICAgICB9LA0KICAgICAgICAndmFsaWRMaW5rJzon5Y+q5pSv5oyB6YCJ5Lit5LiA5Liq6ZO+5o6l5pe255Sf5pWIJywNCiAgICAgICAgJ2h0dHBQcm9tcHQnOifmgqjovpPlhaXnmoTotoXpk77mjqXkuK3kuI3ljIXlkKtodHRw562J5Y2P6K6u5ZCN56ew77yM6buY6K6k5bCG5Li65oKo5re75YqgaHR0cDovL+WJjee8gCcNCiAgICB9LA0KICAgICdtYXAnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgbGFuZ19jaXR5OiLln47luIIiLA0KICAgICAgICAgICAgbGFuZ19hZGRyZXNzOiLlnLDlnYAiLA0KICAgICAgICAgICAgY2l0eTp7dmFsdWU6IuWMl+S6rCJ9LA0KICAgICAgICAgICAgbGFuZ19zZWFyY2g6IuaQnOe0oiIsDQogICAgICAgICAgICBsYW5nX2R5bmFtaWNtYXA6IuaPkuWFpeWKqOaAgeWcsOWbviINCiAgICAgICAgfSwNCiAgICAgICAgY2l0eU1zZzoi6K+36YCJ5oup5Z+O5biCIiwNCiAgICAgICAgZXJyb3JNc2c6IuaKseatie+8jOaJvuS4jeWIsOivpeS9jee9ru+8gSINCiAgICB9LA0KICAgICdzZWFyY2hyZXBsYWNlJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgIGxhbmdfdGFiX3NlYXJjaDoi5p+l5om+IiwNCiAgICAgICAgICAgIGxhbmdfdGFiX3JlcGxhY2U6Iuabv+aNoiIsDQogICAgICAgICAgICBsYW5nX3NlYXJjaDE6IuafpeaJviIsDQogICAgICAgICAgICBsYW5nX3NlYXJjaDI6IuafpeaJviIsDQogICAgICAgICAgICBsYW5nX3JlcGxhY2U6Iuabv+aNoiIsDQogICAgICAgICAgICBsYW5nX3NlYXJjaFJlZzon5pSv5oyB5q2j5YiZ6KGo6L6+5byP77yM5re75Yqg5YmN5ZCO5pac5p2g5qCH56S65Li65q2j5YiZ6KGo6L6+5byP77yM5L6L5aaC4oCcL+ihqOi+vuW8jy/igJ0nLA0KICAgICAgICAgICAgbGFuZ19zZWFyY2hSZWcxOifmlK/mjIHmraPliJnooajovr7lvI/vvIzmt7vliqDliY3lkI7mlpzmnaDmoIfnpLrkuLrmraPliJnooajovr7lvI/vvIzkvovlpoLigJwv6KGo6L6+5byPL+KAnScsDQogICAgICAgICAgICBsYW5nX2Nhc2Vfc2Vuc2l0aXZlMToi5Yy65YiG5aSn5bCP5YaZIiwNCiAgICAgICAgICAgIGxhbmdfY2FzZV9zZW5zaXRpdmUyOiLljLrliIblpKflsI/lhpkiLA0KICAgICAgICAgICAgbmV4dEZpbmRCdG46e3ZhbHVlOiLkuIvkuIDkuKoifSwNCiAgICAgICAgICAgIHByZUZpbmRCdG46e3ZhbHVlOiLkuIrkuIDkuKoifSwNCiAgICAgICAgICAgIG5leHRSZXBsYWNlQnRuOnt2YWx1ZToi5LiL5LiA5LiqIn0sDQogICAgICAgICAgICBwcmVSZXBsYWNlQnRuOnt2YWx1ZToi5LiK5LiA5LiqIn0sDQogICAgICAgICAgICByZXBhbGNlQnRuOnt2YWx1ZToi5pu/5o2iIn0sDQogICAgICAgICAgICByZXBhbGNlQWxsQnRuOnt2YWx1ZToi5YWo6YOo5pu/5o2iIn0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0RW5kOiLlt7Lnu4/mkJzntKLliLDmlofnq6DmnKvlsL7vvIEiLA0KICAgICAgICBnZXRTdGFydDoi5bey57uP5pCc57Si5Yiw5paH56ug5aS06YOoIiwNCiAgICAgICAgY291bnRNc2c6IuaAu+WFseabv+aNouS6hnsjY291bnR95aSE77yBIg0KICAgIH0sDQogICAgJ3NuYXBzY3JlZW4nOnsNCiAgICB9LA0KICAgICdpbnNlcnR2aWRlbyc6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgICAgICBsYW5nX3RhYl9pbnNlcnRWOiLmj5LlhaXop4bpopEiLA0KICAgICAgICAgICAgbGFuZ190YWJfc2VhcmNoVjoi5pCc57Si6KeG6aKRIiwNCiAgICAgICAgICAgIGxhbmdfdmlkZW9fdXJsOiLop4bpopHnvZHlnYAiLA0KICAgICAgICAgICAgbGFuZ192aWRlb19zaXplOiLop4bpopHlsLrlr7giLA0KICAgICAgICAgICAgbGFuZ192aWRlb1c6IuWuveW6piIsDQogICAgICAgICAgICBsYW5nX3ZpZGVvSDoi6auY5bqmIiwNCiAgICAgICAgICAgIGxhbmdfYWxpZ25tZW50OiLlr7npvZDmlrnlvI8iLA0KICAgICAgICAgICAgdmlkZW9TZWFyY2hUeHQ6e3ZhbHVlOiLor7fovpPlhaXmkJzntKLlhbPplK7lrZfvvIEifSwNCiAgICAgICAgICAgIHZpZGVvVHlwZTp7b3B0aW9uczpbIuWFqOmDqCIsICLng63pl6giLCAi5aix5LmQIiwgIuaQnueskSIsICLkvZPogrIiLCAi56eR5oqAIiwgIue7vOiJuiJdfSwNCiAgICAgICAgICAgIHZpZGVvU2VhcmNoQnRuOnt2YWx1ZToi55m+5bqm5LiA5LiLIn0sDQogICAgICAgICAgICB2aWRlb1NlYXJjaFJlc2V0Ont2YWx1ZToi5riF56m657uT5p6cIn0sDQoNCiAgICAgICAgfSwNCiAgICAgICAgbnVtRXJyb3I6Iuivt+i+k+WFpeato+ehrueahOaVsOWAvO+8jOWmgjEyMyw0MDAiLA0KICAgICAgICBmbG9hdExlZnQ6IuW3pua1ruWKqCIsDQogICAgICAgIGZsb2F0UmlnaHQ6IuWPs+a1ruWKqCIsDQogICAgICAgICJkZWZhdWx0Ijoi6buY6K6kIiwNCiAgICAgICAgYmxvY2s6IueLrOWNoOS4gOihjCIsDQogICAgICAgIHVybEVycm9yOiLovpPlhaXnmoTop4bpopHlnLDlnYDmnInor6/vvIzor7fmo4Dmn6XlkI7lho3or5XvvIEiLA0KICAgICAgICBsb2FkaW5nOiIgJm5ic3A76KeG6aKR5Yqg6L295Lit77yM6K+3562J5b6F4oCm4oCmIiwNCiAgICAgICAgY2xpY2tUb1NlbGVjdDoi54K55Ye76YCJ5LitIiwNCiAgICAgICAgZ29Ub1NvdXJjZTon6K6/6Zeu5rqQ6KeG6aKRJywNCiAgICAgICAgbm9WaWRlbzoiICZuYnNwOyAmbmJzcDvmirHmrYnvvIzmib7kuI3liLDlr7nlupTnmoTop4bpopHvvIzor7fph43or5XvvIEiLA0KDQoNCiAgICAgICAgJ2Jyb3dzZUZpbGVzJzon5paH5Lu25rWP6KeI4oCmJywNCiAgICAgICAgJ3VwbG9hZFN1Y2Nlc3MnOifkuIrkvKDmiJDlip8hJywNCiAgICAgICAgJ2RlbFN1Y2Nlc3NGaWxlJzon5LuO5oiQ5Yqf6Zif5YiX5Lit56e76ZmkJywNCiAgICAgICAgJ2RlbEZhaWxTYXZlRmlsZSc6J+enu+mZpOS/neWtmOWksei0peaWh+S7ticsDQogICAgICAgICdzdGF0dXNQcm9tcHQnOicg5Liq5paH5Lu25bey5LiK5Lyg77yBICcsDQogICAgICAgICdmbGFzaFZlcnNpb25FcnJvcic6J+W9k+WJjUZsYXNo54mI5pys6L+H5L2O77yM6K+35pu05pawRmxhc2hQbGF5ZXLlkI7ph43or5XvvIEnLA0KICAgICAgICAnZmxhc2hMb2FkaW5nRXJyb3InOidGbGFzaOWKoOi9veWksei0pSHor7fmo4Dmn6Xot6/lvoTmiJbnvZHnu5znirbmgIEnLA0KICAgICAgICAnZmlsZVVwbG9hZFJlYWR5Jzon562J5b6F5LiK5Lyg4oCm4oCmJywNCiAgICAgICAgJ2RlbFVwbG9hZFF1ZXVlJzon5LuO5LiK5Lyg6Zif5YiX5Lit56e76ZmkJywNCiAgICAgICAgJ2xpbWl0UHJvbXB0MSc6J+WNleasoeS4jeiDvemAieaLqei2hei/hycsDQogICAgICAgICdsaW1pdFByb21wdDInOifkuKrmlofku7bvvIHor7fph43mlrDpgInmi6nvvIEnLA0KICAgICAgICAnZGVsRmFpbEZpbGUnOifnp7vpmaTlpLHotKXmlofku7YnLA0KICAgICAgICAnZmlsZVNpemVMaW1pdCc6J+aWh+S7tuWkp+Wwj+i2heWHuumZkOWItu+8gScsDQogICAgICAgICdlbXB0eUZpbGUnOifnqbrmlofku7bml6Dms5XkuIrkvKDvvIEnLA0KICAgICAgICAnZmlsZVR5cGVFcnJvcic6J+aWh+S7tuexu+Wei+mUmeivr++8gScsDQogICAgICAgICd1bmtub3duRXJyb3InOifmnKrnn6XplJnor6/vvIEnLA0KICAgICAgICAnZmlsZVVwbG9hZGluZyc6J+S4iuS8oOS4re+8jOivt+etieW+heKApuKApicsDQogICAgICAgICdjYW5jZWxVcGxvYWQnOiflj5bmtojkuIrkvKAnLA0KICAgICAgICAnbmV0RXJyb3InOifnvZHnu5zplJnor68nLA0KICAgICAgICAnZmFpbFVwbG9hZCc6J+S4iuS8oOWksei0pSEnLA0KICAgICAgICAnc2VydmVySU9FcnJvcic6J+acjeWKoeWZqElP6ZSZ6K+v77yBJywNCiAgICAgICAgJ25vQXV0aG9yaXR5Jzon5peg5p2D6ZmQ77yBJywNCiAgICAgICAgJ2ZpbGVOdW1MaW1pdCc6J+S4iuS8oOS4quaVsOmZkOWIticsDQogICAgICAgICdmYWlsQ2hlY2snOifpqozor4HlpLHotKXvvIzmnKzmrKHkuIrkvKDooqvot7Pov4fvvIEnLA0KICAgICAgICAnZmlsZUNhbmNlbGluZyc6J+WPlua2iOS4re+8jOivt+etieW+heKApuKApicsDQogICAgICAgICdzdG9wVXBsb2FkaW5nJzon5LiK5Lyg5bey5YGc5q2i4oCm4oCmJw0KICAgIH0sDQogICAgJ3NwZWNoYXJzJzp7DQogICAgICAgICdzdGF0aWMnOnt9LA0KICAgICAgICB0c2ZoOiLnibnmrorlrZfnrKYiLA0KICAgICAgICBsbXN6OiLnvZfpqazlrZfnrKYiLA0KICAgICAgICBzemZoOiLmlbDlrablrZfnrKYiLA0KICAgICAgICByd2ZoOiLml6XmloflrZfnrKYiLA0KICAgICAgICB4bHptOiLluIzohYrlrZfmr40iLA0KICAgICAgICBld3ptOiLkv4TmloflrZfnrKYiLA0KICAgICAgICBweXptOiLmi7zpn7PlrZfmr40iLA0KICAgICAgICB5eXliOiLoi7Hor63pn7PmoIciLA0KICAgICAgICB6eXpmOiLlhbbku5YiDQogICAgfSwNCiAgICAnZWRpdHRhYmxlJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgICdsYW5nX3RhYmxlU3R5bGUnOifooajmoLzmoLflvI8nLA0KICAgICAgICAgICAgJ2xhbmdfaW5zZXJ0Q2FwdGlvbic6J+a3u+WKoOihqOagvOWQjeensOihjCcsDQogICAgICAgICAgICAnbGFuZ19pbnNlcnRUaXRsZSc6J+a3u+WKoOihqOagvOagh+mimOihjCcsDQogICAgICAgICAgICAnbGFuZ19pbnNlcnRUaXRsZUNvbCc6J+a3u+WKoOihqOagvOagh+mimOWIlycsDQogICAgICAgICAgICAnbGFuZ19vcmRlcmJ5Y29udGVudCc6IuS9v+ihqOagvOWGheWuueWPr+aOkuW6jyIsDQogICAgICAgICAgICAnbGFuZ190YWJsZVNpemUnOifoh6rliqjosIPmlbTooajmoLzlsLrlr7gnLA0KICAgICAgICAgICAgJ2xhbmdfYXV0b1NpemVDb250ZW50Jzon5oyJ6KGo5qC85paH5a2X6Ieq6YCC5bqUJywNCiAgICAgICAgICAgICdsYW5nX2F1dG9TaXplUGFnZSc6J+aMiemhtemdouWuveW6puiHqumAguW6lCcsDQogICAgICAgICAgICAnbGFuZ19leGFtcGxlJzon56S65L6LJywNCiAgICAgICAgICAgICdsYW5nX2JvcmRlclN0eWxlJzon6KGo5qC86L655qGGJywNCiAgICAgICAgICAgICdsYW5nX2NvbG9yJzon6aKc6ImyOicNCiAgICAgICAgfSwNCiAgICAgICAgY2FwdGlvbk5hbWU6J+ihqOagvOWQjeensCcsDQogICAgICAgIHRpdGxlTmFtZTon5qCH6aKYJywNCiAgICAgICAgY2VsbHNOYW1lOiflhoXlrrknLA0KICAgICAgICBlcnJvck1zZzon5pyJ5ZCI5bm25Y2V5YWD5qC877yM5LiN5Y+v5o6S5bqPJw0KICAgIH0sDQogICAgJ2VkaXR0aXAnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgbGFuZ19kZWxSb3c6J+WIoOmZpOaVtOihjCcsDQogICAgICAgICAgICBsYW5nX2RlbENvbDon5Yig6Zmk5pW05YiXJw0KICAgICAgICB9DQogICAgfSwNCiAgICAnZWRpdHRkJzp7DQogICAgICAgICdzdGF0aWMnOnsNCiAgICAgICAgICAgIGxhbmdfdGRCa0NvbG9yOifog4zmma/popzoibI6Jw0KICAgICAgICB9DQogICAgfSwNCiAgICAnZm9ybXVsYSc6ew0KICAgICAgICAnc3RhdGljJzp7DQogICAgICAgIH0NCiAgICB9LA0KICAgICd3b3JkaW1hZ2UnOnsNCiAgICAgICAgJ3N0YXRpYyc6ew0KICAgICAgICAgICAgbGFuZ19yZXNhdmU6Iui9rOWtmOatpemqpCIsDQogICAgICAgICAgICB1cGxvYWRCdG46e3NyYzoidXBsb2FkLnBuZyIsYWx0OiLkuIrkvKAifSwNCiAgICAgICAgICAgIGNsaXBib2FyZDp7c3R5bGU6ImJhY2tncm91bmQ6IHVybChjb3B5LnBuZykgLTE1M3B4IC0xcHggbm8tcmVwZWF0OyJ9LA0KICAgICAgICAgICAgbGFuZ19zdGVwOiIx44CB54K55Ye76aG26YOo5aSN5Yi25oyJ6ZKu77yM5bCG5Zyw5Z2A5aSN5Yi25Yiw5Ymq6LS05p2/77ybMuOAgeeCueWHu+a3u+WKoOeFp+eJh+aMiemSru+8jOWcqOW8ueWHuueahOWvueivneahhuS4reS9v+eUqEN0cmwrVueymOi0tOWcsOWdgO+8mzPjgIHngrnlh7vmiZPlvIDlkI7pgInmi6nlm77niYfkuIrkvKDmtYHnqIvjgIIiDQogICAgICAgIH0sDQogICAgICAgICdmaWxlVHlwZSc6IuWbvueJhyIsDQogICAgICAgICdmbGFzaEVycm9yJzoiRkxBU0jliJ3lp4vljJblpLHotKXvvIzor7fmo4Dmn6VGTEFTSOaPkuS7tuaYr+WQpuato+ehruWuieijhe+8gSIsDQogICAgICAgICduZXRFcnJvcic6Iue9kee7nOi/nuaOpemUmeivr++8jOivt+mHjeivle+8gSIsDQogICAgICAgICdjb3B5U3VjY2Vzcyc6IuWbvueJh+WcsOWdgOW3sue7j+WkjeWItu+8gSIsDQogICAgICAgICdmbGFzaEkxOG4nOnt9IC8v55WZ56m66buY6K6k5Lit5paHDQogICAgfQ0KfTs=</file>
</files>